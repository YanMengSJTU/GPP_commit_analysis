diff --git a/CHANGELOG.md b/CHANGELOG.md
index 970bbe9b..30157714 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,3 +1,20 @@
+## Version 5.8.0 (July 22, 2019)
+- **Features**
+  - Height-based constants have been added to banners and medium rectangles. Call `MoPubView#setAdSize(MoPubAdSize)` before loading an ad or pass in the ad size to `MoPubView#loadAd(MoPubAdSize)` to request an ad of a particular height. See [https://developers.mopub.com/publishers/android/banner/] for more information.
+  - Deprecated skyscraper and leaderboard ad formats. Leaderboards can now be made by setting the `MoPubView` ad size to `MoPubAdSize.HEIGHT_90`.
+  - Renamed the MRect ad format as Medium Rectangle.
+  - Upgraded Robolectric dependency to 4.3.
+  - Updated the icon for the sample app.
+  - Sample app now has visible callbacks.
+  - VAST Videos now play with `device` orientation by default.
+  - The background for interstitials is now black. The background for banners and medium rectangles remain transparent.
+
+- **Bug Fixes**
+  - Improved the look and feel of the sample app on tablets.
+  - Fixed warnings in the `build.gradle` file.
+  - Improved test run speed.
+  - Improved the VAST video selection logic.
+
 ## Version 5.7.1 (June 3, 2019)
 - **Bug Fixes**
   - Handle `WebViewClient#onRenderProcessGone` for API 26+ devices so WebView crashes do not take the entire process with it. This only affects MoPub WebViews, and all WebViews in the application must handle this call in order for the process to not be killed.
diff --git a/README.md b/README.md
index 2963a804..c739df8f 100644
--- a/README.md
+++ b/README.md
@@ -37,7 +37,7 @@ The MoPub SDK is available via:
     }
 
     dependencies {
-        implementation('com.mopub:mopub-sdk:5.7.1@aar') {
+        implementation('com.mopub:mopub-sdk:5.8.0@aar') {
             transitive = true
         }
     }
@@ -59,27 +59,27 @@ The MoPub SDK is available via:
         // ... other project dependencies
 
         // For banners
-        implementation('com.mopub:mopub-sdk-banner:5.7.1@aar') {
+        implementation('com.mopub:mopub-sdk-banner:5.8.0@aar') {
             transitive = true
         }
         
         // For interstitials
-        implementation('com.mopub:mopub-sdk-interstitial:5.7.1@aar') {
+        implementation('com.mopub:mopub-sdk-interstitial:5.8.0@aar') {
             transitive = true
         }
 
         // For rewarded videos. This will automatically also include interstitials
-        implementation('com.mopub:mopub-sdk-rewardedvideo:5.7.1@aar') {
+        implementation('com.mopub:mopub-sdk-rewardedvideo:5.8.0@aar') {
             transitive = true
         }
 
         // For native static (images).
-        implementation('com.mopub:mopub-sdk-native-static:5.7.1@aar') {
+        implementation('com.mopub:mopub-sdk-native-static:5.8.0@aar') {
             transitive = true
         }
 
         // For native video. This will automatically also include native static
-        implementation('com.mopub:mopub-sdk-native-video:5.7.1@aar') {
+        implementation('com.mopub:mopub-sdk-native-video:5.8.0@aar') {
             transitive = true
         }
     }
@@ -107,8 +107,21 @@ The MoPub SDK is available via:
 ## New in this Version
 Please view the [changelog](https://github.com/mopub/mopub-android-sdk/blob/master/CHANGELOG.md) for a complete list of additions, fixes, and enhancements in the latest release.
 
+- **Features**
+  - Height-based constants have been added to banners and medium rectangles. Call `MoPubView#setAdSize(MoPubAdSize)` before loading an ad or pass in the ad size to `MoPubView#loadAd(MoPubAdSize)` to request an ad of a particular height. See [https://developers.mopub.com/publishers/android/banner/] for more information.
+  - Deprecated skyscraper and leaderboard ad formats. Leaderboards can now be made by setting the `MoPubView` ad size to `MoPubAdSize.HEIGHT_90`.
+  - Renamed the MRect ad format as Medium Rectangle.
+  - Upgraded Robolectric dependency to 4.3.
+  - Updated the icon for the sample app.
+  - Sample app now has visible callbacks.
+  - VAST Videos now play with `device` orientation by default.
+  - The background for interstitials is now black. The background for banners and medium rectangles remain transparent.
+
 - **Bug Fixes**
-  - Handle `WebViewClient#onRenderProcessGone` for API 26+ devices so WebView crashes do not take the entire process with it. This only affects MoPub WebViews, and all WebViews in the application must handle this call in order for the process to not be killed.
+  - Improved the look and feel of the sample app on tablets.
+  - Fixed warnings in the `build.gradle` file.
+  - Improved test run speed.
+  - Improved the VAST video selection logic.
 
 ## Requirements
 
@@ -137,7 +150,7 @@ Normally, to add the MoPub SDK to your app via JCenter, your `build.gradle` woul
 
 ```	
 dependencies {
-    implementation('com.mopub:mopub-sdk:5.7.1@aar') {
+    implementation('com.mopub:mopub-sdk:5.8.0@aar') {
         transitive = true
     }
 }
@@ -146,7 +159,7 @@ Update to the following to exclude one or both viewability vendors:
 
 ```
 dependencies {
-    implementation('com.mopub:mopub-sdk:5.7.1@aar') {
+    implementation('com.mopub:mopub-sdk:5.8.0@aar') {
         transitive = true
         exclude module: 'libAvid-mopub' // To exclude AVID
         exclude module: 'moat-mobile-app-kit' // To exclude Moat
diff --git a/gradle.properties b/gradle.properties
index 4cc95e10..292f1421 100644
--- a/gradle.properties
+++ b/gradle.properties
@@ -3,4 +3,5 @@
 # http://www.mopub.com/legal/sdk-license-agreement/
 
 org.gradle.jvmargs=-Xmx8192m -XX:MaxPermSize=2048m
-org.gradle.daemon=false
+org.gradle.daemon=true
+org.gradle.parallel=true
diff --git a/mopub-sample/AndroidManifest.xml b/mopub-sample/AndroidManifest.xml
index f08119da..1e0c737e 100644
--- a/mopub-sample/AndroidManifest.xml
+++ b/mopub-sample/AndroidManifest.xml
@@ -38,6 +38,7 @@
         android:theme="@style/AppTheme">
         <activity
             android:name="com.mopub.simpleadsdemo.MoPubSampleActivity"
+            android:windowSoftInputMode="stateAlwaysHidden"
             android:configChanges="orientation|screenSize"
             android:label="@string/app_name"
             android:launchMode="singleTask"
@@ -59,19 +60,23 @@
         </activity>
         <activity
             android:name="com.mopub.mobileads.MoPubActivity"
-            android:configChanges="keyboardHidden|orientation|screenSize" />
+            android:configChanges="keyboardHidden|orientation|screenSize"
+            android:theme="@style/AppTheme.NoActionBar" />
         <activity
             android:name="com.mopub.mobileads.MraidActivity"
-            android:configChanges="keyboardHidden|orientation|screenSize" />
+            android:configChanges="keyboardHidden|orientation|screenSize"
+            android:theme="@style/AppTheme.NoActionBar" />
         <activity
             android:name="com.mopub.common.MoPubBrowser"
             android:configChanges="keyboardHidden|orientation|screenSize" />
         <activity
             android:name="com.mopub.mobileads.MraidVideoPlayerActivity"
-            android:configChanges="keyboardHidden|orientation|screenSize" />
+            android:configChanges="keyboardHidden|orientation|screenSize"
+            android:theme="@style/AppTheme.NoActionBar" />
         <activity
             android:name="com.mopub.mobileads.RewardedMraidActivity"
-            android:configChanges="keyboardHidden|orientation|screenSize" />
+            android:configChanges="keyboardHidden|orientation|screenSize"
+            android:theme="@style/AppTheme.NoActionBar" />
 
         <activity
             android:name="com.mopub.common.privacy.ConsentDialogActivity"
diff --git a/mopub-sample/build.gradle b/mopub-sample/build.gradle
index 9b0b3979..048745f3 100644
--- a/mopub-sample/build.gradle
+++ b/mopub-sample/build.gradle
@@ -24,7 +24,7 @@ apply plugin: 'com.android.application'
 
 project.group = 'com.mopub'
 project.description = '''MoPub Sample App'''
-project.version = '5.7.1'
+project.version = '5.8.0'
 
 android {
     compileSdkVersion 28
@@ -36,13 +36,14 @@ android {
     }
 
     defaultConfig {
-        versionCode 69
+        versionCode 71
         versionName version
         minSdkVersion 16
         targetSdkVersion 28
         multiDexEnabled true
 
         testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
+        vectorDrawables.useSupportLibrary = true
     }
 
     flavorDimensions "default"
@@ -88,32 +89,32 @@ dependencies {
     // Third party Custom Network Adapters
     implementation 'com.adcolony:sdk:3.3.10'
     implementation 'com.google.android.gms:play-services-ads:17.2.0'
-    implementation "com.applovin:applovin-sdk:9.4.2"
+    implementation "com.applovin:applovin-sdk:9.7.2"
     // Commented out since we cannot distribute 3rd party libraries
 //    implementation name: 'chartboost-7.3.1'
-    implementation 'com.facebook.android:audience-network-sdk:5.3.0'
+    implementation 'com.facebook.android:audience-network-sdk:5.4.0'
     implementation 'com.flurry.android:ads:11.6.0'
     implementation 'com.flurry.android:analytics:11.6.0'
-    implementation 'com.ironsource.sdk:mediationsdk:6.8.3@jar'
-    implementation 'com.tapjoy:tapjoy-android-sdk:12.2.1@aar'
-    implementation 'com.unity3d.ads:unity-ads:3.0.3@aar'
-    implementation 'com.verizon.ads:android-vas-standard-edition:1.0.2'
+    implementation 'com.ironsource.sdk:mediationsdk:6.8.5@jar'
+    implementation 'com.tapjoy:tapjoy-android-sdk:12.3.1@aar'
+    implementation 'com.unity3d.ads:unity-ads:3.1.0@aar'
+    implementation 'com.verizon.ads:android-vas-standard-edition:1.1.1'
     // Vungle and its dependencies.
     implementation 'com.github.vungle:vungle-android-sdk:6.3.24'
 
     // MoPub Custom Network Adapters
     implementation 'com.mopub.mediation:adcolony:3.3.10.0'
-    implementation 'com.mopub.mediation:admob:17.2.0.1'
-    implementation 'com.mopub.mediation:applovin:9.4.2.0'
+    implementation 'com.mopub.mediation:admob:17.2.0.2'
+    implementation 'com.mopub.mediation:applovin:9.7.2.0'
     // Commented out since we do not include the corresponding library
 //    implementation 'com.mopub.mediation:chartboost:7.3.1.4'
-    implementation 'com.mopub.mediation:facebookaudiencenetwork:5.3.0.0'
-    implementation 'com.mopub.mediation:flurry:11.6.0.0'
-    implementation 'com.mopub.mediation:ironsource:6.8.3.0'
-    implementation 'com.mopub.mediation:tapjoy:12.2.1.1'
-    implementation 'com.mopub.mediation:unityads:3.0.3.0'
-    implementation 'com.mopub.mediation:verizon:1.0.2.1'
-    implementation 'com.mopub.mediation:vungle:6.3.24.2'
+    implementation 'com.mopub.mediation:facebookaudiencenetwork:5.4.0.0'
+    implementation 'com.mopub.mediation:flurry:11.6.0.2'
+    implementation 'com.mopub.mediation:ironsource:6.8.5.0'
+    implementation 'com.mopub.mediation:tapjoy:12.3.1.0'
+    implementation 'com.mopub.mediation:unityads:3.1.0.0'
+    implementation 'com.mopub.mediation:verizon:1.1.1.1'
+    implementation 'com.mopub.mediation:vungle:6.3.24.4'
 
     implementation 'com.android.support:customtabs:28.0.0'
     implementation 'com.android.support:support-v4:28.0.0'
diff --git a/mopub-sample/res/internal/drawable-hdpi/icon.png b/mopub-sample/res/internal/drawable-hdpi/icon.png
new file mode 100755
index 00000000..741da592
Binary files /dev/null and b/mopub-sample/res/internal/drawable-hdpi/icon.png differ
diff --git a/mopub-sample/res/internal/drawable-mdpi/icon.png b/mopub-sample/res/internal/drawable-mdpi/icon.png
new file mode 100755
index 00000000..26490603
Binary files /dev/null and b/mopub-sample/res/internal/drawable-mdpi/icon.png differ
diff --git a/mopub-sample/res/internal/drawable-xhdpi/icon.png b/mopub-sample/res/internal/drawable-xhdpi/icon.png
new file mode 100755
index 00000000..06deb8bd
Binary files /dev/null and b/mopub-sample/res/internal/drawable-xhdpi/icon.png differ
diff --git a/mopub-sample/res/internal/drawable-xxhdpi/icon.png b/mopub-sample/res/internal/drawable-xxhdpi/icon.png
new file mode 100755
index 00000000..a72efeeb
Binary files /dev/null and b/mopub-sample/res/internal/drawable-xxhdpi/icon.png differ
diff --git a/mopub-sample/res/internal/drawable-xxxhdpi/icon.png b/mopub-sample/res/internal/drawable-xxxhdpi/icon.png
new file mode 100755
index 00000000..c794b7b4
Binary files /dev/null and b/mopub-sample/res/internal/drawable-xxxhdpi/icon.png differ
diff --git a/mopub-sample/res/internal/drawable/icon.png b/mopub-sample/res/internal/drawable/icon.png
new file mode 100755
index 00000000..26490603
Binary files /dev/null and b/mopub-sample/res/internal/drawable/icon.png differ
diff --git a/mopub-sample/res/internal/values/strings.xml b/mopub-sample/res/internal/values/strings.xml
index 03ed05e1..1fe25ea9 100644
--- a/mopub-sample/res/internal/values/strings.xml
+++ b/mopub-sample/res/internal/values/strings.xml
@@ -1,14 +1,14 @@
 <?xml version="1.0" encoding="utf-8"?>
 <resources>
+    <string name="app_name">MoPub INTERNAL</string>
+    <string name="app_title">MoPub Sample App - INTERNAL</string>
     <!--Macaw - Exchange test ad units-->
     <string name="ad_unit_id_macaw_interstitial_portrait">2971114e05df4bb6bfeb83aefd2cb13f</string>
     <string name="ad_unit_id_macaw_banner">1901a8606d8a45c9bf2358be5dc220e9</string>
-    <string name="ad_unit_id_macaw_mrect">7dfc45083ef04ea6b7533f1b2b8f5f6b</string>
-    <string name="ad_unit_id_macaw_leaderboard">ad21b1b40cfb45d38ca27e996e538005</string>
+    <string name="ad_unit_id_macaw_medium_rectangle">7dfc45083ef04ea6b7533f1b2b8f5f6b</string>
     <string name="ad_unit_id_macaw_interstitial_landscape">181294542e6b4b33bd80cf1563dc4724</string>
     <string name="ad_unit_id_macaw_tablet_interstitial_portrait">c6380a094a444657836884e12b86e013</string>
     <string name="ad_unit_id_macaw_tablet_interstitial_landscape">d9f040c7f29a4da6b9262a1d504dc057</string>
-    <string name="ad_unit_id_macaw_skyscraper">f12e1691e6614496a1530b530bde85cc</string>
     <string name="ad_unit_id_macaw_native">5d73b139cd3f402f8a6767670c4cf6fb</string>
 
     <!--Release Testing ad units-->
@@ -19,21 +19,13 @@
     <string name="ad_unit_id_rt_banner_mraid_expanding_portrait">5b1917e405a34e238f0816371124590d</string>
     <string name="ad_unit_id_rt_banner_resizing">26c38be32221456e9b5bdfba15211afe</string>
 
-    <string name="ad_unit_id_rt_mrect_image">560b3ba10bbe485ebc9e37a2e1cbbe4b</string>
-    <string name="ad_unit_id_rt_mrect_html">a0d719ae192748c2959f32235db68daf</string>
-    <string name="ad_unit_id_rt_mrect_expanding_device">4badb91a5c344cbda602a0a83d8937f2</string>
-    <string name="ad_unit_id_rt_mrect_expanding_landscape">01b88873d7c74dff9531ea744c4431e3</string>
-    <string name="ad_unit_id_rt_mrect_expanding_portrait">7b3189920ec646acb8f61d4d5013d7e3</string>
-    <string name="ad_unit_id_rt_mrect_resizing">53373b5f681a42438d9df71aa74165c4</string>
-    <string name="ad_unit_id_rt_mrect_html_video">5a85ad2677c34bffb2ae0b45eb18efdd</string>
-
-    <string name="ad_unit_id_rt_leaderboard_image">ab496e83496243e7b27c6b0636d9e9a2</string>
-    <string name="ad_unit_id_rt_leaderboard_html">37309343b1cc46b6ae5f2f4b0728f4f4</string>
-    <string name="ad_unit_id_rt_leaderboard_mraid_expanding_device">cc630d7fe5bf4f918e98d4f3ab6e0e51</string>
-    <string name="ad_unit_id_rt_leaderboard_mraid_expanding_landscape">cda9d79b0d704407ad1f0a1b6c3b837e</string>
-    <string name="ad_unit_id_rt_leaderboard_mraid_expanding_portrait">4f8a48f1ed4346408e793c3e1b83b2fe</string>
-    <string name="ad_unit_id_rt_leaderboard_mraid_resizing_offscreen">a652687cc74c41e19f4999bac37b854d</string>
-    <string name="ad_unit_id_rt_leaderboard_mraid_resizing_no_offscreen">2ff3c7b2d6234798a01ead84a6afda21</string>
+    <string name="ad_unit_id_rt_medium_rectangle_image">560b3ba10bbe485ebc9e37a2e1cbbe4b</string>
+    <string name="ad_unit_id_rt_medium_rectangle_html">a0d719ae192748c2959f32235db68daf</string>
+    <string name="ad_unit_id_rt_medium_rectangle_expanding_device">4badb91a5c344cbda602a0a83d8937f2</string>
+    <string name="ad_unit_id_rt_medium_rectangle_expanding_landscape">01b88873d7c74dff9531ea744c4431e3</string>
+    <string name="ad_unit_id_rt_medium_rectangle_expanding_portrait">7b3189920ec646acb8f61d4d5013d7e3</string>
+    <string name="ad_unit_id_rt_medium_rectangle_resizing">53373b5f681a42438d9df71aa74165c4</string>
+    <string name="ad_unit_id_rt_medium_rectangle_html_video">5a85ad2677c34bffb2ae0b45eb18efdd</string>
 
     <string name="ad_unit_id_rt_interstitial_vast_no_ext_companion_landscape">eab0db43a021431c9ae43e6ff1dd8fac</string>
     <string name="ad_unit_id_rt_interstitial_vast_no_ext_no_companion_landscape">3d752afaad8f41f2a32de0c9e83a6b49</string>
@@ -130,14 +122,13 @@
 
     <!--Top Grossing-->
     <string name="ad_unit_id_top_grossing_banner_phone">321da3e82353435cac072116cab84b23</string>
-    <string name="ad_unit_id_top_grossing_mrect_phone">e4ec5b5d8b224ef895d6d93094dc6949</string>
+    <string name="ad_unit_id_top_grossing_medium_rectangle_phone">e4ec5b5d8b224ef895d6d93094dc6949</string>
     <string name="ad_unit_id_top_grossing_interstitial_phone">ebe9132e1ec748ddbc1e333089e95113</string>
     <string name="ad_unit_id_top_grossing_rewarded_phone">23ba06fc2a9a4b6383812bd7003b3fd9</string>
     <string name="ad_unit_id_top_grossing_native_phone">554e7a6c341242228f122b653e12417e</string>
 
     <string name="ad_unit_id_top_grossing_banner_tablet">b87326a1a64746c88b996f0234efd7e3</string>
-    <string name="ad_unit_id_top_grossing_mrect_tablet">be678056f327430b91d62a861cbebd0f</string>
-    <string name="ad_unit_id_top_grossing_leaderboard_tablet">dd85ff2a8dd64318b8fb0a17e35c8f0a</string>
+    <string name="ad_unit_id_top_grossing_medium_rectangle_tablet">be678056f327430b91d62a861cbebd0f</string>
     <string name="ad_unit_id_top_grossing_interstitial_tablet">1baf215709034ef19ad4cd80e6396e00</string>
     <string name="ad_unit_id_top_grossing_rewarded_tablet">a83d73f6b65848eb98529a1b168a3708</string>
     <string name="ad_unit_id_top_grossing_native_tablet">eecebc103df84c0aa0acfb4ea6b93237</string>
@@ -159,9 +150,8 @@
     <string name="ad_unit_id_tap_video_interstitial_landscape_tablet">f7eb5bf595964bcc8e047b4a1e7e7817</string>
     <string name="ad_unit_id_tap_video_interstitial_portrait">28f0dad82c984c5995592f7802b059d7</string>
     <string name="ad_unit_id_tap_video_interstitial_portrait_tablet">9adfcc1aeb1749dfa90a725d63e6d8b4</string>
-    <string name="ad_unit_id_tap_leaderboard">6a763eac135a446594c530a50c35e5d4</string>
-    <string name="ad_unit_id_tap_mrect">f36e9fdc947d4b4faaeb15aa3e29a2ec</string>
-    <string name="ad_unit_id_tap_mrect_tablet">0f56c33f03754018842aaa794abbe719</string>
+    <string name="ad_unit_id_tap_medium_rectangle">f36e9fdc947d4b4faaeb15aa3e29a2ec</string>
+    <string name="ad_unit_id_tap_medium_rectangle_tablet">0f56c33f03754018842aaa794abbe719</string>
     <string name="ad_unit_id_tap_native_static">09d4e470ca534795b71041c6ca79bac4</string>
     <string name="ad_unit_id_tap_native_static_tablet">68c0539952f0451093a76c5359d4eecc</string>
     <string name="ad_unit_id_tap_rewarded_video_device">2cbbe2727b1f43a48abe702fd5900412</string>
diff --git a/mopub-sample/res/main/color/button_text_color.xml b/mopub-sample/res/main/color/button_text_color.xml
new file mode 100644
index 00000000..4f7a8e9d
--- /dev/null
+++ b/mopub-sample/res/main/color/button_text_color.xml
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+    <item android:color="@color/colorButtonText" android:state_enabled="true" />
+    <item android:color="@color/colorButton" android:state_enabled="false" />
+</selector>
diff --git a/mopub-sample/res/main/color/callbacks_text_view_color.xml b/mopub-sample/res/main/color/callbacks_text_view_color.xml
new file mode 100644
index 00000000..55f5588c
--- /dev/null
+++ b/mopub-sample/res/main/color/callbacks_text_view_color.xml
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+    <item android:color="@color/colorText" android:state_enabled="true" />
+    <item android:color="@color/colorTextSecondary" android:state_enabled="false" />
+</selector>
diff --git a/mopub-sample/res/main/drawable-hdpi/icon.png b/mopub-sample/res/main/drawable-hdpi/icon.png
new file mode 100755
index 00000000..ef6ea08b
Binary files /dev/null and b/mopub-sample/res/main/drawable-hdpi/icon.png differ
diff --git a/mopub-sample/res/main/drawable-mdpi/icon.png b/mopub-sample/res/main/drawable-mdpi/icon.png
new file mode 100755
index 00000000..47786801
Binary files /dev/null and b/mopub-sample/res/main/drawable-mdpi/icon.png differ
diff --git a/mopub-sample/res/main/drawable-xhdpi/icon.png b/mopub-sample/res/main/drawable-xhdpi/icon.png
new file mode 100755
index 00000000..8fbc5075
Binary files /dev/null and b/mopub-sample/res/main/drawable-xhdpi/icon.png differ
diff --git a/mopub-sample/res/main/drawable-xxhdpi/icon.png b/mopub-sample/res/main/drawable-xxhdpi/icon.png
new file mode 100755
index 00000000..a58faa38
Binary files /dev/null and b/mopub-sample/res/main/drawable-xxhdpi/icon.png differ
diff --git a/mopub-sample/res/main/drawable-xxxhdpi/icon.png b/mopub-sample/res/main/drawable-xxxhdpi/icon.png
new file mode 100755
index 00000000..5489ee3c
Binary files /dev/null and b/mopub-sample/res/main/drawable-xxxhdpi/icon.png differ
diff --git a/mopub-sample/res/main/drawable/ic_checkmark.xml b/mopub-sample/res/main/drawable/ic_checkmark.xml
new file mode 100644
index 00000000..68f32ec0
--- /dev/null
+++ b/mopub-sample/res/main/drawable/ic_checkmark.xml
@@ -0,0 +1,14 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="24dp"
+    android:height="24dp"
+    android:viewportWidth="24"
+    android:viewportHeight="24">
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M0,0h24v24H0z"
+      android:strokeAlpha="0"
+      android:fillAlpha="0"/>
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M9,20c-0.264,0 -0.52,-0.104 -0.707,-0.293l-4.785,-4.785c-0.39,-0.39 -0.39,-1.023 0,-1.414s1.023,-0.39 1.414,0l3.946,3.945L18.075,4.41c0.32,-0.45 0.94,-0.558 1.395,-0.24 0.45,0.318 0.56,0.942 0.24,1.394L9.817,19.577c-0.17,0.24 -0.438,0.395 -0.732,0.42 -0.028,0.002 -0.057,0.003 -0.085,0.003z"/>
+</vector>
diff --git a/mopub-sample/res/main/drawable/ic_checkmark_circle.xml b/mopub-sample/res/main/drawable/ic_checkmark_circle.xml
new file mode 100644
index 00000000..597a947e
--- /dev/null
+++ b/mopub-sample/res/main/drawable/ic_checkmark_circle.xml
@@ -0,0 +1,17 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="24dp"
+    android:height="24dp"
+    android:viewportWidth="24"
+    android:viewportHeight="24">
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M0,0h24v24H0z"
+      android:strokeAlpha="0"
+      android:fillAlpha="0"/>
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M15.87,7.91c-0.347,-0.226 -0.813,-0.128 -1.04,0.218l-4.154,6.364 -2.047,-2.05c-0.294,-0.293 -0.77,-0.293 -1.062,0 -0.293,0.292 -0.293,0.768 0,1.06l2.7,2.705c0.145,0.146 0.338,0.22 0.53,0.22s0.383,-0.073 0.53,-0.22c0.062,-0.062 0.416,-0.607 0.416,-0.607l4.343,-6.652c0.226,-0.346 0.128,-0.81 -0.218,-1.038z"/>
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M12,22.75C6.072,22.75 1.25,17.928 1.25,12S6.072,1.25 12,1.25 22.75,6.072 22.75,12 17.928,22.75 12,22.75zM12,2.75C6.9,2.75 2.75,6.9 2.75,12S6.9,21.25 12,21.25s9.25,-4.15 9.25,-9.25S17.1,2.75 12,2.75z"/>
+</vector>
diff --git a/mopub-sample/res/main/drawable/ic_globe_stroke.xml b/mopub-sample/res/main/drawable/ic_globe_stroke.xml
new file mode 100644
index 00000000..09819b6d
--- /dev/null
+++ b/mopub-sample/res/main/drawable/ic_globe_stroke.xml
@@ -0,0 +1,14 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="24dp"
+    android:height="24dp"
+    android:viewportWidth="24"
+    android:viewportHeight="24">
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M0,0h24v24H0z"
+      android:strokeAlpha="0"
+      android:fillAlpha="0"/>
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M12,2C6.486,2 2,6.486 2,12s4.486,10 10,10 10,-4.486 10,-10S17.514,2 12,2zM20.472,11.442c-0.242,0.19 -0.472,0.368 -0.63,0.486 -0.68,-1.265 -1.002,-1.78 -1.256,-2.007 -0.163,-0.145 -0.37,-0.223 -0.78,-0.375 -0.367,-0.136 -1.482,-0.55 -1.65,-0.85 -0.087,-0.153 0.136,-0.602 0.23,-0.793 0.088,-0.177 0.164,-0.33 0.196,-0.497 0.123,-0.646 -0.33,-1.146 -0.728,-1.59 -0.066,-0.072 -0.153,-0.17 -0.23,-0.26 0.335,-0.12 0.862,-0.26 1.42,-0.384 1.95,1.448 3.26,3.704 3.428,6.272zM10.684,3.612c0.076,0.25 0.145,0.5 0.182,0.678 -0.255,0.15 -0.663,0.363 -0.96,0.52 -0.262,0.136 -0.522,0.273 -0.738,0.392 -0.247,0.137 -0.442,0.234 -0.6,0.313 -0.347,0.174 -0.598,0.3 -0.833,0.553 -0.068,0.073 -0.26,0.278 -1.02,1.886l-1.79,-0.656c1.293,-1.94 3.362,-3.31 5.76,-3.685zM12,20.5c-4.687,0 -8.5,-3.813 -8.5,-8.5 0,-1.197 0.25,-2.335 0.7,-3.37 0.47,0.182 1.713,0.66 2.75,1.035 -0.107,0.336 -0.245,0.854 -0.26,1.333 -0.03,0.855 0.502,1.7 0.562,1.792 0.053,0.08 0.12,0.15 0.2,0.207 0.303,0.21 0.687,0.5 0.827,0.616 0.063,0.343 0.166,1.26 0.23,1.833 0.144,1.266 0.175,1.48 0.24,1.65 0.005,0.012 0.514,1.188 1.315,1.188 0.576,-0.003 0.673,-0.206 1.855,-2.688 0.244,-0.512 0.45,-0.95 0.513,-1.058 0.1,-0.144 0.597,-0.61 0.87,-0.83 0.55,-0.442 0.76,-1.82 0.413,-2.682 -0.335,-0.83 -1.92,-2.08 -2.5,-2.195 -0.17,-0.033 -0.43,-0.04 -0.953,-0.053 -0.497,-0.01 -1.25,-0.028 -1.536,-0.09 -0.098,-0.024 -0.314,-0.094 -0.605,-0.196 0.32,-0.668 0.627,-1.28 0.71,-1.4 0.05,-0.052 0.168,-0.112 0.408,-0.234 0.17,-0.086 0.383,-0.192 0.653,-0.34 0.208,-0.116 0.458,-0.247 0.71,-0.38 1.168,-0.612 1.484,-0.8 1.658,-1.082 0.11,-0.177 0.263,-0.44 -0.04,-1.544 1.042,0.027 2.038,0.24 2.955,0.61 -0.89,0.32 -1.024,0.595 -1.106,0.77 -0.367,0.784 0.256,1.475 0.667,1.93 0.096,0.107 0.24,0.268 0.32,0.38l-0.017,0.036c-0.234,0.472 -0.67,1.35 -0.196,2.194 0.406,0.72 1.384,1.13 2.437,1.52 0.134,0.05 0.25,0.092 0.33,0.126 0.16,0.208 0.496,0.79 1,1.735l0.154,0.285c0.078,0.14 0.33,0.505 0.842,0.505 0.167,0 0.363,-0.04 0.59,-0.137 0.032,-0.013 0.083,-0.035 0.18,-0.094C19.72,17.405 16.22,20.5 12,20.5zM8.188,11.05c0.01,-0.285 0.102,-0.646 0.184,-0.907l0.027,0.006c0.397,0.09 1.037,0.11 1.83,0.13 0.32,0.006 0.59,0.008 0.615,0 0.326,0.143 1.355,1 1.483,1.31 0.113,0.28 0.05,0.812 -0.034,1.01 -0.233,0.197 -0.845,0.735 -1.085,1.078 -0.093,0.13 -0.212,0.373 -0.64,1.274 -0.133,0.276 -0.313,0.654 -0.488,1.013 -0.026,-0.225 -0.054,-0.472 -0.08,-0.686 -0.225,-2.003 -0.273,-2.22 -0.42,-2.445 -0.05,-0.078 -0.202,-0.31 -1.135,-0.973 -0.117,-0.213 -0.268,-0.564 -0.26,-0.813z"/>
+</vector>
diff --git a/mopub-sample/res/main/drawable/ic_information_circle.xml b/mopub-sample/res/main/drawable/ic_information_circle.xml
new file mode 100644
index 00000000..c11b432c
--- /dev/null
+++ b/mopub-sample/res/main/drawable/ic_information_circle.xml
@@ -0,0 +1,20 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="24dp"
+    android:height="24dp"
+    android:viewportWidth="24"
+    android:viewportHeight="24">
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M0,0h24v24H0z"
+      android:strokeAlpha="0"
+      android:fillAlpha="0"/>
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M12,18.042c-0.553,0 -1,-0.447 -1,-1v-5.5c0,-0.553 0.447,-1 1,-1s1,0.447 1,1v5.5c0,0.553 -0.447,1 -1,1z"/>
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M12,8.042m-1.25,0a1.25,1.25 0,1 1,2.5 0a1.25,1.25 0,1 1,-2.5 0"/>
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M12,22.75C6.072,22.75 1.25,17.928 1.25,12S6.072,1.25 12,1.25 22.75,6.072 22.75,12 17.928,22.75 12,22.75zM12,2.75C6.9,2.75 2.75,6.9 2.75,12S6.9,21.25 12,21.25s9.25,-4.15 9.25,-9.25S17.1,2.75 12,2.75z"/>
+</vector>
diff --git a/mopub-sample/res/main/drawable/ic_lock.xml b/mopub-sample/res/main/drawable/ic_lock.xml
new file mode 100644
index 00000000..7f0b58f4
--- /dev/null
+++ b/mopub-sample/res/main/drawable/ic_lock.xml
@@ -0,0 +1,14 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="24dp"
+    android:height="24dp"
+    android:viewportWidth="24"
+    android:viewportHeight="24">
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M0,0h24v24H0z"
+      android:strokeAlpha="0"
+      android:fillAlpha="0"/>
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M19.75,7.31h-1.88C17.68,4.23 15.124,1.784 12,1.784S6.32,4.232 6.13,7.31L4.25,7.31C3.01,7.31 2,8.317 2,9.56L2,19.79c0,1.24 1.01,2.25 2.25,2.25h15.5c1.24,0 2.25,-1.01 2.25,-2.25L22,9.56c0,-1.242 -1.01,-2.25 -2.25,-2.25zM12.75,15.687v1.396c0,0.414 -0.336,0.75 -0.75,0.75s-0.75,-0.336 -0.75,-0.75v-1.396c-0.764,-0.3 -1.307,-1.04 -1.307,-1.91 0,-1.137 0.92,-2.058 2.057,-2.058 1.136,0 2.057,0.92 2.057,2.056 0,0.87 -0.543,1.61 -1.307,1.91zM7.648,7.31C7.838,5.06 9.705,3.284 12,3.284s4.163,1.777 4.352,4.023L7.648,7.307z"/>
+</vector>
diff --git a/mopub-sample/res/main/drawable/ic_mopub.xml b/mopub-sample/res/main/drawable/ic_mopub.xml
new file mode 100644
index 00000000..4cbe08b4
--- /dev/null
+++ b/mopub-sample/res/main/drawable/ic_mopub.xml
@@ -0,0 +1,30 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="168dp"
+    android:height="50dp"
+    android:viewportWidth="168"
+    android:viewportHeight="50">
+  <path
+      android:pathData="M39,38H32.475V22.609C32.475,22.233 32.426,21.764 32.327,21.202C32.228,20.639 32.013,20.086 31.684,19.54C31.355,18.995 30.877,18.535 30.251,18.159C29.624,17.784 28.768,17.596 27.681,17.596C26.23,17.596 25.044,18.057 24.122,18.977C23.198,19.898 22.737,21.108 22.737,22.609V38H16.213V22.609C16.213,22.233 16.163,21.764 16.065,21.202C15.966,20.639 15.76,20.086 15.447,19.54C15.133,18.995 14.663,18.535 14.038,18.159C13.411,17.784 12.555,17.596 11.467,17.596C9.985,17.596 8.79,18.057 7.884,18.977C6.977,19.898 6.525,21.108 6.525,22.609V38H0V22.761C0,21.091 0.272,19.54 0.816,18.109C1.359,16.676 2.125,15.432 3.114,14.375C4.102,13.319 5.305,12.492 6.723,11.895C8.139,11.299 9.72,11 11.467,11C13.214,11 14.771,11.333 16.139,11.997C17.506,12.662 18.651,13.574 19.574,14.733C20.53,13.574 21.7,12.662 23.083,11.997C24.468,11.333 26,11 27.681,11C29.46,11 31.049,11.291 32.451,11.87C33.851,12.449 35.037,13.259 36.009,14.299C36.981,15.339 37.723,16.574 38.234,18.006C38.744,19.437 39,21.023 39,22.761V38Z"
+      android:fillColor="#1DA1F2"
+      android:fillType="evenOdd"/>
+  <path
+      android:pathData="M54.5,31.95C55.338,31.95 56.128,31.775 56.869,31.425C57.611,31.075 58.263,30.575 58.828,29.925C59.392,29.275 59.836,28.5 60.158,27.6C60.48,26.701 60.641,25.7 60.641,24.6C60.641,23.5 60.48,22.484 60.158,21.55C59.836,20.617 59.392,19.817 58.828,19.15C58.263,18.484 57.611,17.968 56.869,17.6C56.128,17.234 55.338,17.05 54.5,17.05C53.662,17.05 52.863,17.234 52.106,17.6C51.348,17.968 50.695,18.484 50.147,19.15C49.599,19.817 49.164,20.617 48.841,21.55C48.52,22.484 48.358,23.5 48.358,24.6C48.358,25.7 48.52,26.701 48.841,27.6C49.164,28.5 49.599,29.275 50.147,29.925C50.695,30.575 51.348,31.075 52.106,31.425C52.863,31.775 53.662,31.95 54.5,31.95ZM54.476,11C56.21,11 57.831,11.342 59.341,12.026C60.85,12.709 62.175,13.659 63.315,14.875C64.454,16.092 65.354,17.525 66.012,19.175C66.67,20.825 67,22.618 67,24.551C67,26.484 66.67,28.268 66.012,29.901C65.354,31.534 64.454,32.95 63.315,34.15C62.175,35.351 60.85,36.292 59.341,36.976C57.831,37.658 56.21,38 54.476,38C52.742,38 51.12,37.658 49.611,36.976C48.101,36.292 46.784,35.351 45.661,34.15C44.536,32.95 43.645,31.534 42.988,29.901C42.329,28.268 42,26.484 42,24.551C42,22.618 42.329,20.825 42.988,19.175C43.645,17.525 44.536,16.092 45.661,14.875C46.784,13.659 48.101,12.709 49.611,12.026C51.12,11.342 52.742,11 54.476,11Z"
+      android:fillColor="#1DA1F2"
+      android:fillType="evenOdd"/>
+  <path
+      android:pathData="M79.11,31.608H82.852C83.771,31.608 84.641,31.436 85.462,31.092C86.282,30.75 86.989,30.277 87.579,29.676C88.171,29.075 88.639,28.362 88.983,27.538C89.328,26.713 89.5,25.804 89.5,24.807C89.5,23.811 89.328,22.875 88.983,21.999C88.639,21.124 88.171,20.36 87.579,19.707C86.989,19.055 86.3,18.54 85.511,18.162C84.723,17.784 83.886,17.595 83,17.595C82.114,17.595 81.277,17.793 80.489,18.187C79.701,18.582 79.011,19.115 78.42,19.784C77.829,20.454 77.362,21.236 77.017,22.128C76.672,23.021 76.5,23.983 76.5,25.013V50H70V25.013C70,23.09 70.32,21.278 70.96,19.578C71.601,17.878 72.495,16.393 73.644,15.122C74.792,13.852 76.163,12.847 77.756,12.108C79.348,11.37 81.095,11 83,11C84.903,11 86.66,11.37 88.269,12.108C89.877,12.847 91.249,13.843 92.381,15.096C93.513,16.35 94.399,17.809 95.04,19.475C95.68,21.141 96,22.919 96,24.807C96,26.662 95.688,28.405 95.065,30.036C94.441,31.668 93.579,33.084 92.479,34.286C91.379,35.49 90.074,36.443 88.564,37.146C87.054,37.85 85.412,38.202 83.64,38.202H79.11V31.608Z"
+      android:fillColor="#14171A"
+      android:fillType="evenOdd"/>
+  <path
+      android:pathData="M119.213,30.879C118.688,32.313 117.941,33.56 116.97,34.619C115.999,35.679 114.83,36.507 113.462,37.104C112.094,37.701 110.582,38 108.929,38C107.211,38 105.675,37.71 104.323,37.13C102.97,36.549 101.825,35.738 100.887,34.696C99.948,33.654 99.232,32.416 98.739,30.982C98.246,29.547 98,27.958 98,26.217V11H104.299V26.422C104.299,26.798 104.347,27.267 104.443,27.83C104.538,28.394 104.745,28.95 105.063,29.496C105.38,30.042 105.843,30.503 106.447,30.879C107.051,31.255 107.879,31.442 108.929,31.442C110.328,31.442 111.474,30.973 112.365,30.034C113.255,29.094 113.701,27.891 113.701,26.422V11H120V26.217C120,27.891 119.738,29.444 119.213,30.879Z"
+      android:fillColor="#14171A"
+      android:fillType="evenOdd"/>
+  <path
+      android:pathData="M135.64,11.814C137.413,11.814 139.054,12.166 140.565,12.871C142.074,13.576 143.379,14.531 144.479,15.734C145.578,16.938 146.44,18.358 147.064,19.99C147.687,21.625 148,23.369 148,25.226C148,27.083 147.679,28.847 147.04,30.514C146.399,32.183 145.513,33.644 144.381,34.899C143.248,36.155 141.877,37.152 140.269,37.892C138.659,38.631 136.903,39 135,39C133.096,39 131.348,38.631 129.756,37.892C128.163,37.152 126.793,36.155 125.644,34.899C124.494,33.644 123.6,32.165 122.96,30.463C122.321,28.76 122,26.946 122,25.02V0H128.5V25.02C128.5,26.052 128.672,27.015 129.017,27.909C129.362,28.804 129.83,29.585 130.421,30.256C131.011,30.927 131.701,31.452 132.488,31.83C133.277,32.209 134.113,32.397 135,32.397C135.887,32.397 136.723,32.209 137.512,31.83C138.299,31.452 138.988,30.944 139.58,30.308C140.17,29.671 140.638,28.915 140.983,28.038C141.327,27.161 141.5,26.224 141.5,25.226C141.5,24.264 141.327,23.361 140.983,22.518C140.638,21.676 140.17,20.945 139.58,20.326C138.988,19.706 138.282,19.225 137.462,18.882C136.642,18.538 135.771,18.365 134.852,18.365H131.11V11.814H135.64Z"
+      android:fillColor="#14171A"
+      android:fillType="evenOdd"/>
+  <path
+      android:pathData="M168,1.624C167.411,1.908 166.777,2.101 166.111,2.19C166.789,1.75 167.307,1.056 167.549,0.232C166.915,0.639 166.211,0.937 165.462,1.099C164.858,0.418 164,-0.005 163.052,0C161.233,0.011 159.766,1.598 159.776,3.545C159.778,3.821 159.808,4.09 159.866,4.347C157.127,4.217 154.693,2.828 153.058,0.704C152.777,1.227 152.618,1.833 152.621,2.479C152.627,3.702 153.214,4.778 154.101,5.404C153.561,5.389 153.052,5.234 152.607,4.973C152.607,4.987 152.607,5.002 152.607,5.017C152.616,6.724 153.758,8.143 155.267,8.458C154.991,8.54 154.7,8.585 154.4,8.586C154.188,8.588 153.981,8.567 153.78,8.527C154.206,9.925 155.428,10.937 156.869,10.957C155.747,11.909 154.329,12.481 152.786,12.49C152.52,12.492 152.258,12.476 152,12.446C153.463,13.437 155.197,14.011 157.057,14C163.116,13.964 166.401,8.573 166.378,3.915C166.377,3.762 166.373,3.61 166.366,3.459C167.007,2.958 167.562,2.334 168,1.624Z"
+      android:fillColor="#1DA1F2"
+      android:fillType="evenOdd"/>
+</vector>
diff --git a/mopub-sample/res/main/drawable/ic_no.xml b/mopub-sample/res/main/drawable/ic_no.xml
new file mode 100644
index 00000000..27c18f92
--- /dev/null
+++ b/mopub-sample/res/main/drawable/ic_no.xml
@@ -0,0 +1,14 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="24dp"
+    android:height="24dp"
+    android:viewportWidth="24"
+    android:viewportHeight="24">
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M0,0h24v24H0z"
+      android:strokeAlpha="0"
+      android:fillAlpha="0"/>
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M12,1.25C6.072,1.25 1.25,6.072 1.25,12S6.072,22.75 12,22.75 22.75,17.928 22.75,12 17.928,1.25 12,1.25zM12,2.75c2.28,0 4.368,0.834 5.982,2.207L4.957,17.982C3.584,16.368 2.75,14.282 2.75,12c0,-5.1 4.15,-9.25 9.25,-9.25zM12,21.25c-2.28,0 -4.368,-0.834 -5.982,-2.207L19.043,6.018c1.373,1.614 2.207,3.7 2.207,5.982 0,5.1 -4.15,9.25 -9.25,9.25z"/>
+</vector>
diff --git a/mopub-sample/res/main/drawable/ic_revoke_consent.xml b/mopub-sample/res/main/drawable/ic_revoke_consent.xml
new file mode 100644
index 00000000..7f1ac6c2
--- /dev/null
+++ b/mopub-sample/res/main/drawable/ic_revoke_consent.xml
@@ -0,0 +1,10 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="22dp"
+    android:height="22dp"
+    android:viewportWidth="22"
+    android:viewportHeight="22">
+  <path
+      android:pathData="M11,0.25C5.072,0.25 0.25,5.072 0.25,11C0.25,16.928 5.072,21.75 11,21.75C16.928,21.75 21.75,16.928 21.75,11C21.75,5.072 16.928,0.25 11,0.25ZM11,1.75C13.28,1.75 15.368,2.584 16.982,3.957L3.957,16.982C2.584,15.368 1.75,13.282 1.75,11C1.75,5.9 5.9,1.75 11,1.75ZM5.018,18.043C6.632,19.416 8.72,20.25 11,20.25C16.1,20.25 20.25,16.1 20.25,11C20.25,8.718 19.416,6.632 18.043,5.018L5.018,18.043Z"
+      android:fillColor="#657786"
+      android:fillType="evenOdd"/>
+</vector>
diff --git a/mopub-sample/res/main/drawable/ic_share_android.xml b/mopub-sample/res/main/drawable/ic_share_android.xml
new file mode 100644
index 00000000..71ea9a48
--- /dev/null
+++ b/mopub-sample/res/main/drawable/ic_share_android.xml
@@ -0,0 +1,14 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="24dp"
+    android:height="24dp"
+    android:viewportWidth="24"
+    android:viewportHeight="24">
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M0,0h24v24H0z"
+      android:strokeAlpha="0"
+      android:fillAlpha="0"/>
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M18.466,14.928c-1.118,0 -2.106,0.525 -2.765,1.328l-6.587,-3.358c0.066,-0.27 0.11,-0.55 0.11,-0.842 0,-0.287 -0.042,-0.562 -0.106,-0.83l6.575,-3.32c0.658,0.81 1.65,1.34 2.774,1.34 1.978,0 3.586,-1.606 3.586,-3.58s-1.608,-3.58 -3.586,-3.58 -3.586,1.606 -3.586,3.58c0,0.314 0.054,0.614 0.13,0.904L8.463,9.876c-0.656,-0.846 -1.672,-1.4 -2.824,-1.4 -1.98,0 -3.588,1.606 -3.588,3.58s1.61,3.58 3.587,3.58c1.146,0 2.158,-0.55 2.815,-1.39l6.56,3.343c-0.08,0.294 -0.135,0.598 -0.135,0.918 0,1.974 1.608,3.58 3.586,3.58s3.586,-1.606 3.586,-3.58 -1.61,-3.58 -3.586,-3.58zM18.466,3.588c1.15,0 2.086,0.932 2.086,2.078s-0.936,2.08 -2.086,2.08 -2.086,-0.934 -2.086,-2.08 0.935,-2.08 2.086,-2.08zM5.64,14.134c-1.15,0 -2.088,-0.933 -2.088,-2.08s0.937,-2.08 2.087,-2.08 2.085,0.935 2.085,2.08 -0.936,2.08 -2.086,2.08zM18.466,20.586c-1.15,0 -2.086,-0.933 -2.086,-2.08s0.936,-2.08 2.086,-2.08 2.086,0.935 2.086,2.08 -0.936,2.08 -2.086,2.08z"/>
+</vector>
diff --git a/mopub-sample/res/main/drawable/ic_trashcan_stroke.xml b/mopub-sample/res/main/drawable/ic_trashcan_stroke.xml
new file mode 100644
index 00000000..09ec3705
--- /dev/null
+++ b/mopub-sample/res/main/drawable/ic_trashcan_stroke.xml
@@ -0,0 +1,17 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="24dp"
+    android:height="24dp"
+    android:viewportWidth="24"
+    android:viewportHeight="24">
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M0,0h24v24H0z"
+      android:strokeAlpha="0"
+      android:fillAlpha="0"/>
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M20.746,5.236h-3.75L16.996,4.25c0,-1.24 -1.01,-2.25 -2.25,-2.25h-5.5c-1.24,0 -2.25,1.01 -2.25,2.25v0.986h-3.75c-0.414,0 -0.75,0.336 -0.75,0.75s0.336,0.75 0.75,0.75h0.368l1.583,13.262c0.216,1.193 1.31,2.027 2.658,2.027h8.282c1.35,0 2.442,-0.834 2.664,-2.072l1.577,-13.217h0.368c0.414,0 0.75,-0.336 0.75,-0.75s-0.335,-0.75 -0.75,-0.75zM8.496,4.25c0,-0.413 0.337,-0.75 0.75,-0.75h5.5c0.413,0 0.75,0.337 0.75,0.75v0.986h-7L8.496,4.25zM17.318,19.73c-0.1,0.55 -0.664,0.795 -1.18,0.795L7.854,20.525c-0.517,0 -1.083,-0.246 -1.175,-0.75L5.126,6.735h13.74L17.32,19.732z"/>
+  <path
+      android:fillColor="#FF000000"
+      android:pathData="M10,17.75c0.414,0 0.75,-0.336 0.75,-0.75v-7c0,-0.414 -0.336,-0.75 -0.75,-0.75s-0.75,0.336 -0.75,0.75v7c0,0.414 0.336,0.75 0.75,0.75zM14,17.75c0.414,0 0.75,-0.336 0.75,-0.75v-7c0,-0.414 -0.336,-0.75 -0.75,-0.75s-0.75,0.336 -0.75,0.75v7c0,0.414 0.336,0.75 0.75,0.75z"/>
+</vector>
diff --git a/mopub-sample/res/main/drawable/icon.png b/mopub-sample/res/main/drawable/icon.png
old mode 100644
new mode 100755
index 5ccc4787..47786801
Binary files a/mopub-sample/res/main/drawable/icon.png and b/mopub-sample/res/main/drawable/icon.png differ
diff --git a/mopub-sample/res/main/drawable/mopub_button.xml b/mopub-sample/res/main/drawable/mopub_button.xml
new file mode 100644
index 00000000..85a1f124
--- /dev/null
+++ b/mopub-sample/res/main/drawable/mopub_button.xml
@@ -0,0 +1,11 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android"
+    android:shape="rectangle">
+    <corners android:radius="16dp" />
+    <solid android:color="@color/colorButton" />
+    <padding
+        android:bottom="0dp"
+        android:left="8dp"
+        android:right="8dp"
+        android:top="0dp" />
+</shape>
diff --git a/mopub-sample/res/main/drawable/mopub_button_custom.xml b/mopub-sample/res/main/drawable/mopub_button_custom.xml
new file mode 100644
index 00000000..939490be
--- /dev/null
+++ b/mopub-sample/res/main/drawable/mopub_button_custom.xml
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+    <item android:drawable="@drawable/mopub_button"
+        android:state_enabled="true" />
+    <item android:drawable="@drawable/mopub_button_disabled"
+        android:state_enabled="false" />
+    <item android:drawable="@drawable/mopub_button"/>
+</selector>
diff --git a/mopub-sample/res/main/drawable/mopub_button_disabled.xml b/mopub-sample/res/main/drawable/mopub_button_disabled.xml
new file mode 100644
index 00000000..e2bcb517
--- /dev/null
+++ b/mopub-sample/res/main/drawable/mopub_button_disabled.xml
@@ -0,0 +1,15 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android"
+    android:shape="rectangle">
+    <corners android:radius="16dp" />
+    <solid android:color="@color/colorButtonText" />
+    <stroke
+        android:width="1dp"
+        android:color="@color/colorButton" />
+    <padding
+        android:bottom="0dp"
+        android:left="8dp"
+        android:right="8dp"
+        android:top="0dp" />
+
+</shape>
diff --git a/mopub-sample/res/main/drawable/nav_header_shadow.xml b/mopub-sample/res/main/drawable/nav_header_shadow.xml
new file mode 100644
index 00000000..305f507b
--- /dev/null
+++ b/mopub-sample/res/main/drawable/nav_header_shadow.xml
@@ -0,0 +1,14 @@
+<?xml version="1.0" encoding="utf-8"?>
+<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
+    <item android:top="1dp">
+        <shape
+            android:dither="true"
+            android:shape="rectangle">
+            <gradient
+                android:angle="270"
+                android:endColor="#00000000"
+                android:startColor="@color/colorDivider" />
+            <size android:height="8dp" />
+        </shape>
+    </item>
+</layer-list>
diff --git a/mopub-sample/res/main/drawable/nav_item_custom.xml b/mopub-sample/res/main/drawable/nav_item_custom.xml
new file mode 100644
index 00000000..e9c6d7de
--- /dev/null
+++ b/mopub-sample/res/main/drawable/nav_item_custom.xml
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+    <item android:drawable="@color/colorAccent" android:state_checked="true" />
+    <item android:drawable="@color/colorWhite" android:state_checked="false" />
+    <item android:drawable="@color/colorWhite" />
+</selector>
diff --git a/mopub-sample/res/main/drawable/side_nav_bar.xml b/mopub-sample/res/main/drawable/side_nav_bar.xml
deleted file mode 100644
index 8ef428d1..00000000
--- a/mopub-sample/res/main/drawable/side_nav_bar.xml
+++ /dev/null
@@ -1,9 +0,0 @@
-<shape xmlns:android="http://schemas.android.com/apk/res/android"
-    android:shape="rectangle">
-    <gradient
-        android:angle="135"
-        android:centerColor="#009688"
-        android:endColor="#00695C"
-        android:startColor="#4DB6AC"
-        android:type="linear" />
-</shape>
diff --git a/mopub-sample/res/main/layout/ad_config_dialog.xml b/mopub-sample/res/main/layout/ad_config_dialog.xml
index 5461b486..14bf94b3 100644
--- a/mopub-sample/res/main/layout/ad_config_dialog.xml
+++ b/mopub-sample/res/main/layout/ad_config_dialog.xml
@@ -3,21 +3,21 @@
     android:layout_width="match_parent"
     android:layout_height="match_parent"
     android:orientation="vertical"
-    android:padding="@dimen/sample_text_size"
+    android:padding="@dimen/padding_large"
     android:textDirection="locale">
 
     <LinearLayout
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
-        android:layout_marginBottom="@dimen/sample_text_size"
+        android:layout_marginBottom="16dp"
         android:gravity="center_vertical"
         android:orientation="horizontal">
 
         <TextView
-            android:layout_width="80sp"
+            android:layout_width="85dp"
             android:layout_height="wrap_content"
             android:text="@string/ad_type"
-            android:textSize="@dimen/sample_text_size" />
+            android:textSize="@dimen/small_text_size" />
 
         <Spinner
             android:id="@+id/add_ad_unit_type"
@@ -29,14 +29,14 @@
     <LinearLayout
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
-        android:layout_marginBottom="@dimen/sample_text_size"
+        android:layout_marginBottom="@dimen/margin_large"
         android:orientation="horizontal">
 
         <TextView
-            android:layout_width="80sp"
+            android:layout_width="85dp"
             android:layout_height="wrap_content"
             android:text="@string/ad_unit_id"
-            android:textSize="@dimen/sample_text_size" />
+            android:textSize="@dimen/small_text_size" />
 
         <EditText
             android:id="@+id/add_ad_unit_id"
@@ -51,14 +51,14 @@
     <LinearLayout
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
-        android:layout_marginBottom="@dimen/sample_text_size"
+        android:layout_marginBottom="@dimen/margin_large"
         android:orientation="horizontal">
 
         <TextView
-            android:layout_width="80sp"
+            android:layout_width="85dp"
             android:layout_height="wrap_content"
             android:text="@string/ad_unit_name"
-            android:textSize="@dimen/sample_text_size" />
+            android:textSize="@dimen/small_text_size" />
 
         <EditText
             android:id="@+id/add_ad_unit_description"
@@ -68,4 +68,4 @@
             android:hint="@string/ad_unit_name_hint" />
     </LinearLayout>
 
-</LinearLayout>
\ No newline at end of file
+</LinearLayout>
diff --git a/mopub-sample/res/main/layout/ad_configuration_list_item.xml b/mopub-sample/res/main/layout/ad_configuration_list_item.xml
index 381568cc..f7203311 100644
--- a/mopub-sample/res/main/layout/ad_configuration_list_item.xml
+++ b/mopub-sample/res/main/layout/ad_configuration_list_item.xml
@@ -10,7 +10,9 @@
         android:id="@+id/separator"
         style="?android:attr/listSeparatorTextViewStyle"
         android:layout_width="match_parent"
-        android:layout_height="wrap_content" />
+        android:layout_height="56dp"
+        android:textSize="@dimen/sample_text_size"
+        android:background="@color/colorLightGray"/>
 
     <RelativeLayout
         android:layout_width="match_parent"
@@ -28,7 +30,6 @@
             android:paddingTop="8dp"
             android:singleLine="true"
             android:textColor="?android:attr/textColorPrimary"
-            android:textSize="16sp"
             android:textStyle="bold" />
 
         <TextView
@@ -36,14 +37,13 @@
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:layout_below="@id/banner_description"
-            android:layout_marginTop="8dp"
+            android:layout_marginTop="4dp"
             android:paddingEnd="8dp"
             android:paddingLeft="8dp"
             android:paddingRight="8dp"
             android:paddingStart="8dp"
             android:singleLine="true"
             android:textColor="?android:attr/textColorSecondary"
-            android:textSize="14sp"
             android:textStyle="normal" />
 
         <ImageView
diff --git a/mopub-sample/res/main/layout/ad_unit_list_fragment.xml b/mopub-sample/res/main/layout/ad_unit_list_fragment.xml
index c317b243..f3f9dc7e 100644
--- a/mopub-sample/res/main/layout/ad_unit_list_fragment.xml
+++ b/mopub-sample/res/main/layout/ad_unit_list_fragment.xml
@@ -63,8 +63,9 @@
     <Button
         android:id="@+id/add_ad_unit_button"
         android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
+        android:layout_height="@dimen/button_height"
         android:layout_above="@id/version_code"
+        android:layout_alignParentBottom="true"
         android:layout_centerHorizontal="true"
         android:text="@string/add_ad_unit_button" />
 
@@ -73,6 +74,6 @@
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_alignParentBottom="true"
-        android:layout_centerHorizontal="true"
-        android:textSize="@dimen/detail_text_size" />
+        android:layout_margin="10dp"
+        android:textSize="@dimen/small_text_size" />
 </RelativeLayout>
diff --git a/mopub-sample/res/main/layout/banner_detail_fragment.xml b/mopub-sample/res/main/layout/banner_detail_fragment.xml
index d4050ba1..a8daf621 100644
--- a/mopub-sample/res/main/layout/banner_detail_fragment.xml
+++ b/mopub-sample/res/main/layout/banner_detail_fragment.xml
@@ -2,6 +2,7 @@
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
     android:orientation="vertical"
     android:textDirection="locale">
 
@@ -16,7 +17,7 @@
         android:paddingTop="8dp"
         android:singleLine="true"
         android:textColor="?android:attr/textColorPrimary"
-        android:textSize="16sp"
+        android:textSize="@dimen/small_text_size"
         android:textStyle="bold" />
 
     <TextView
@@ -29,7 +30,7 @@
         android:paddingStart="8dp"
         android:singleLine="true"
         android:textColor="?android:attr/textColorSecondary"
-        android:textSize="14sp"
+        android:textSize="@dimen/small_text_size"
         android:textStyle="normal" />
 
     <EditText
@@ -58,17 +59,24 @@
 
         <Button
             android:id="@+id/load_button"
-            android:layout_width="0dp"
-            android:layout_height="wrap_content"
-            android:layout_weight="1"
+            android:layout_width="wrap_content"
+            android:layout_height="@dimen/button_height"
             android:singleLine="true"
             android:text="@string/load_ad" />
     </LinearLayout>
 
     <com.mopub.mobileads.MoPubView
         android:id="@+id/banner_mopubview"
-        android:layout_width="320dp"
-        android:layout_height="50dp"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
         android:layout_gravity="center_horizontal"
-        android:layout_marginTop="10dp"></com.mopub.mobileads.MoPubView>
+        android:layout_marginTop="10dp"
+        app:moPubAdSize="match_view" >
+    </com.mopub.mobileads.MoPubView>
+
+    <android.support.v7.widget.RecyclerView
+        android:id="@+id/callbacks_recycler_view"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:layout_marginTop="10dp" />
 </LinearLayout>
diff --git a/mopub-sample/res/main/layout/callback_list_item.xml b/mopub-sample/res/main/layout/callback_list_item.xml
new file mode 100644
index 00000000..8e68a290
--- /dev/null
+++ b/mopub-sample/res/main/layout/callback_list_item.xml
@@ -0,0 +1,52 @@
+<?xml version="1.0" encoding="utf-8"?>
+<android.support.constraint.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content">
+
+    <TextView
+        android:id="@+id/callback_name_tv"
+        android:layout_width="0dp"
+        android:layout_height="wrap_content"
+        android:layout_marginStart="8dp"
+        android:layout_marginLeft="8dp"
+        android:layout_marginTop="8dp"
+        android:layout_marginEnd="8dp"
+        android:layout_marginRight="8dp"
+        android:maxLines="1"
+        android:text=""
+        android:enabled="false"
+        android:textAppearance="@style/TextAppearance.AppCompat.Body2"
+        android:textColor="?android:attr/textColorPrimary"
+        app:layout_constraintEnd_toStartOf="@+id/checkmark_iv"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toTopOf="parent" />
+
+    <ImageView
+        android:id="@+id/checkmark_iv"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginTop="8dp"
+        android:layout_marginEnd="8dp"
+        android:layout_marginRight="8dp"
+        android:contentDescription="@string/checkmark"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintTop_toTopOf="parent"
+        app:srcCompat="@drawable/ic_checkmark" />
+
+    <TextView
+        android:id="@+id/additional_data_tv"
+        android:layout_width="0dp"
+        android:layout_height="wrap_content"
+        android:layout_marginStart="8dp"
+        android:layout_marginLeft="8dp"
+        android:layout_marginEnd="8dp"
+        android:layout_marginRight="8dp"
+        android:text=""
+        android:textAppearance="@style/TextAppearance.AppCompat.Body1"
+        android:textColor="?android:attr/textColorSecondary"
+        app:layout_constraintEnd_toStartOf="@+id/checkmark_iv"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toBottomOf="@+id/callback_name_tv" />
+
+</android.support.constraint.ConstraintLayout>
diff --git a/mopub-sample/res/main/layout/fragment_impressions_info.xml b/mopub-sample/res/main/layout/fragment_impressions_info.xml
index 2e641f5c..e2035481 100644
--- a/mopub-sample/res/main/layout/fragment_impressions_info.xml
+++ b/mopub-sample/res/main/layout/fragment_impressions_info.xml
@@ -11,7 +11,6 @@
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:text="@string/empty_list"
-        android:textSize="@dimen/sample_text_size"
         app:layout_constraintEnd_toEndOf="parent"
         app:layout_constraintStart_toStartOf="parent"
         app:layout_constraintTop_toTopOf="parent" />
@@ -27,7 +26,7 @@
     <Button
         android:id="@+id/close_btn"
         android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
+        android:layout_height="@dimen/button_height"
         android:text="@string/close"
         app:layout_constraintBottom_toBottomOf="parent"
         app:layout_constraintEnd_toEndOf="parent"
diff --git a/mopub-sample/res/main/layout/interstitial_detail_fragment.xml b/mopub-sample/res/main/layout/interstitial_detail_fragment.xml
index c467beb6..ee24c441 100644
--- a/mopub-sample/res/main/layout/interstitial_detail_fragment.xml
+++ b/mopub-sample/res/main/layout/interstitial_detail_fragment.xml
@@ -16,7 +16,7 @@
         android:paddingTop="8dp"
         android:singleLine="true"
         android:textColor="?android:attr/textColorPrimary"
-        android:textSize="16sp"
+        android:textSize="@dimen/small_text_size"
         android:textStyle="bold" />
 
     <TextView
@@ -29,7 +29,7 @@
         android:paddingStart="8dp"
         android:singleLine="true"
         android:textColor="?android:attr/textColorSecondary"
-        android:textSize="14sp"
+        android:textSize="@dimen/small_text_size"
         android:textStyle="normal" />
 
     <EditText
@@ -61,22 +61,29 @@
         android:visibility="gone" />
 
     <LinearLayout
-        android:layout_width="match_parent"
+        android:layout_width="wrap_content"
         android:layout_height="wrap_content"
-        android:orientation="horizontal">
+        android:orientation="horizontal"
+        android:layout_gravity="right">
 
         <Button
             android:id="@+id/load_button"
-            android:layout_width="0dp"
-            android:layout_height="wrap_content"
-            android:layout_weight="1"
+            android:layout_width="wrap_content"
+            android:layout_height="@dimen/button_height"
+            android:layout_marginRight="4dp"
             android:text="@string/load_ad" />
 
         <Button
             android:id="@+id/show_button"
-            android:layout_width="0dp"
-            android:layout_height="wrap_content"
-            android:layout_weight="1"
+            android:layout_width="wrap_content"
+            android:layout_height="@dimen/button_height"
+            android:layout_marginRight="4dp"
             android:text="@string/show_ad" />
     </LinearLayout>
+
+    <android.support.v7.widget.RecyclerView
+        android:id="@+id/callbacks_recycler_view"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:layout_marginTop="10dp" />
 </LinearLayout>
diff --git a/mopub-sample/res/main/layout/native_ad_fan_list_item.xml b/mopub-sample/res/main/layout/native_ad_fan_list_item.xml
index e96f0437..c4db8591 100644
--- a/mopub-sample/res/main/layout/native_ad_fan_list_item.xml
+++ b/mopub-sample/res/main/layout/native_ad_fan_list_item.xml
@@ -61,7 +61,7 @@
     <Button
         android:id="@+id/native_cta"
         android:layout_width="wrap_content"
-        android:layout_height="35dp"
+        android:layout_height="@dimen/button_height"
         android:layout_alignParentEnd="true"
         android:layout_alignParentRight="true"
         android:layout_below="@+id/native_media_view"
@@ -70,10 +70,7 @@
         android:layout_marginTop="10dp"
         android:clickable="true"
         android:focusable="true"
-        android:paddingBottom="10dp"
         android:text="@string/learn_more"
-        android:textColor="@android:color/black"
-        android:textSize="12sp"
         android:textStyle="bold" />
 
     <RelativeLayout
diff --git a/mopub-sample/res/main/layout/native_ad_flurry_list_item.xml b/mopub-sample/res/main/layout/native_ad_flurry_list_item.xml
index 096064be..7e9b0463 100644
--- a/mopub-sample/res/main/layout/native_ad_flurry_list_item.xml
+++ b/mopub-sample/res/main/layout/native_ad_flurry_list_item.xml
@@ -99,7 +99,7 @@
     <Button
         android:id="@+id/flurry_native_cta"
         android:layout_width="wrap_content"
-        android:layout_height="35dp"
+        android:layout_height="@dimen/button_height"
         android:layout_below="@+id/flurry_native_main_image"
         android:layout_alignParentEnd="true"
         android:layout_alignParentRight="true"
@@ -108,10 +108,7 @@
         android:layout_marginRight="10dp"
         android:clickable="true"
         android:focusable="true"
-        android:paddingBottom="10dp"
         android:text="@string/learn_more"
-        android:textColor="@android:color/black"
-        android:textSize="12sp"
         android:textStyle="bold" />
 
 </RelativeLayout>
diff --git a/mopub-sample/res/main/layout/native_ad_list_item.xml b/mopub-sample/res/main/layout/native_ad_list_item.xml
index 261a5d02..40341d86 100644
--- a/mopub-sample/res/main/layout/native_ad_list_item.xml
+++ b/mopub-sample/res/main/layout/native_ad_list_item.xml
@@ -62,7 +62,7 @@
     <Button
         android:id="@+id/native_cta"
         android:layout_width="wrap_content"
-        android:layout_height="35dp"
+        android:layout_height="@dimen/button_height"
         android:layout_alignParentEnd="true"
         android:layout_alignParentRight="true"
         android:layout_below="@+id/native_main_image"
@@ -71,10 +71,7 @@
         android:layout_marginTop="10dp"
         android:clickable="true"
         android:focusable="true"
-        android:paddingBottom="10dp"
         android:text="@string/learn_more"
-        android:textColor="@android:color/black"
-        android:textSize="12sp"
         android:textStyle="bold" />
 
     <ImageView
diff --git a/mopub-sample/res/main/layout/native_gallery_fragment.xml b/mopub-sample/res/main/layout/native_gallery_fragment.xml
index 9054cd3e..bbecbaf2 100644
--- a/mopub-sample/res/main/layout/native_gallery_fragment.xml
+++ b/mopub-sample/res/main/layout/native_gallery_fragment.xml
@@ -16,7 +16,7 @@
         android:paddingTop="8dp"
         android:singleLine="true"
         android:textColor="?android:attr/textColorPrimary"
-        android:textSize="16sp"
+        android:textSize="@dimen/small_text_size"
         android:textStyle="bold" />
 
     <TextView
@@ -29,7 +29,7 @@
         android:paddingStart="8dp"
         android:singleLine="true"
         android:textColor="?android:attr/textColorSecondary"
-        android:textSize="14sp"
+        android:textSize="@dimen/small_text_size"
         android:textStyle="normal" />
 
     <EditText
@@ -59,7 +59,7 @@
         <Button
             android:id="@+id/load_button"
             android:layout_width="0dp"
-            android:layout_height="wrap_content"
+            android:layout_height="@dimen/button_height"
             android:layout_weight="1"
             android:text="@string/load_ad" />
     </LinearLayout>
diff --git a/mopub-sample/res/main/layout/native_list_view_fragment.xml b/mopub-sample/res/main/layout/native_list_view_fragment.xml
index 4706a243..e5a45e24 100644
--- a/mopub-sample/res/main/layout/native_list_view_fragment.xml
+++ b/mopub-sample/res/main/layout/native_list_view_fragment.xml
@@ -16,7 +16,7 @@
         android:paddingTop="8dp"
         android:singleLine="true"
         android:textColor="?android:attr/textColorPrimary"
-        android:textSize="16sp"
+        android:textSize="@dimen/small_text_size"
         android:textStyle="bold" />
 
     <TextView
@@ -29,7 +29,7 @@
         android:paddingStart="8dp"
         android:singleLine="true"
         android:textColor="?android:attr/textColorSecondary"
-        android:textSize="14sp"
+        android:textSize="@dimen/small_text_size"
         android:textStyle="normal" />
 
     <EditText
@@ -59,7 +59,7 @@
         <Button
             android:id="@+id/load_button"
             android:layout_width="0dp"
-            android:layout_height="wrap_content"
+            android:layout_height="@dimen/button_height"
             android:layout_weight="1"
             android:text="@string/load_ad" />
     </LinearLayout>
diff --git a/mopub-sample/res/main/layout/nav_header_main.xml b/mopub-sample/res/main/layout/nav_header_main.xml
index 2269c832..b6459003 100644
--- a/mopub-sample/res/main/layout/nav_header_main.xml
+++ b/mopub-sample/res/main/layout/nav_header_main.xml
@@ -1,27 +1,28 @@
 <?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+<android.support.constraint.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
     android:layout_width="match_parent"
     android:layout_height="@dimen/nav_header_height"
-    android:background="@drawable/side_nav_bar"
     android:gravity="bottom"
-    android:orientation="vertical"
-    android:theme="@style/ThemeOverlay.AppCompat.Dark">
+    android:theme="@style/ThemeOverlay.AppCompat.Light">
 
     <ImageView
         android:id="@+id/image_mopub_logo"
-        android:layout_width="wrap_content"
-        android:layout_height="70dp"
-        android:layout_marginBottom="@dimen/nav_header_vertical_spacing"
-        android:scaleType="centerInside"
-        app:srcCompat="@drawable/mopub"
-        android:contentDescription="@string/mopub_logo_descr" />
+        android:layout_width="@dimen/mopub_logo_width"
+        android:layout_height="@dimen/mopub_logo_height"
+        android:contentDescription="@string/mopub_logo_descr"
+        app:layout_constraintBottom_toTopOf="@id/header_shadow"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.5"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toTopOf="parent"
+        app:srcCompat="@drawable/ic_mopub" />
 
-    <TextView
+    <FrameLayout
+        android:id="@+id/header_shadow"
         android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:text="@string/nav_header_title"
-        android:layout_marginBottom="@dimen/nav_header_vertical_spacing"
-        android:textAppearance="@style/TextAppearance.AppCompat.Body1" />
+        android:layout_height="8dp"
+        android:background="@drawable/nav_header_shadow"
+        app:layout_constraintBottom_toBottomOf="parent"/>
 
-</LinearLayout>
+</android.support.constraint.ConstraintLayout>
diff --git a/mopub-sample/res/main/layout/networks_info_fragment.xml b/mopub-sample/res/main/layout/networks_info_fragment.xml
index 7dfcb346..3396eb30 100644
--- a/mopub-sample/res/main/layout/networks_info_fragment.xml
+++ b/mopub-sample/res/main/layout/networks_info_fragment.xml
@@ -4,14 +4,14 @@
     xmlns:tools="http://schemas.android.com/tools"
     android:id="@+id/networksFragmentId"
     android:layout_width="match_parent"
-    android:layout_height="match_parent">
+    android:layout_height="match_parent"
+    android:paddingBottom="8dp">
 
     <TextView
         android:id="@+id/text_no_adapters"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:text="@string/no_network_adapters_found"
-        android:textSize="@dimen/sample_text_size"
         app:layout_constraintBottom_toTopOf="@id/networks_close_btn"
         app:layout_constraintEnd_toEndOf="parent"
         app:layout_constraintStart_toStartOf="parent"
@@ -28,7 +28,7 @@
     <Button
         android:id="@+id/networks_close_btn"
         android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
+        android:layout_height="@dimen/button_height"
         android:text="@string/close"
         app:layout_constraintBottom_toBottomOf="parent"
         app:layout_constraintEnd_toEndOf="@id/networks_recycler_view"
diff --git a/mopub-sample/res/main/layout/privacy_info_divider.xml b/mopub-sample/res/main/layout/privacy_info_divider.xml
index 4db5df38..c3fbe7e5 100644
--- a/mopub-sample/res/main/layout/privacy_info_divider.xml
+++ b/mopub-sample/res/main/layout/privacy_info_divider.xml
@@ -4,7 +4,7 @@
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
     android:layout_height="wrap_content"
-    android:background="@color/colorLightGreay">
+    android:background="@color/colorLightGray">
 
     <TextView
         android:id="@+id/text_divider"
diff --git a/mopub-sample/res/main/layout/privacy_info_fragment.xml b/mopub-sample/res/main/layout/privacy_info_fragment.xml
index ea9b5cd9..bab7a603 100644
--- a/mopub-sample/res/main/layout/privacy_info_fragment.xml
+++ b/mopub-sample/res/main/layout/privacy_info_fragment.xml
@@ -4,7 +4,8 @@
     xmlns:tools="http://schemas.android.com/tools"
     android:id="@+id/privacyFrarmentId"
     android:layout_width="match_parent"
-    android:layout_height="match_parent">
+    android:layout_height="match_parent"
+    android:paddingBottom="8dp">
 
     <android.support.v7.widget.RecyclerView
         android:id="@+id/privacy_recycler_view"
@@ -17,7 +18,7 @@
     <Button
         android:id="@+id/privacy_close_btn"
         android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
+        android:layout_height="@dimen/button_height"
         android:text="@string/close"
         app:layout_constraintBottom_toBottomOf="parent"
         app:layout_constraintEnd_toEndOf="@id/privacy_recycler_view"
diff --git a/mopub-sample/res/main/layout/privacy_info_item.xml b/mopub-sample/res/main/layout/privacy_info_item.xml
index 94d3c3e5..29e6e3be 100644
--- a/mopub-sample/res/main/layout/privacy_info_item.xml
+++ b/mopub-sample/res/main/layout/privacy_info_item.xml
@@ -11,8 +11,6 @@
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_margin="4dp"
-        android:textColor="@color/textDark"
-        android:textSize="16sp"
         app:layout_constraintBottom_toTopOf="@+id/privacy_desc_view"
         app:layout_constraintStart_toStartOf="parent"
         app:layout_constraintTop_toTopOf="parent"
@@ -25,7 +23,7 @@
         android:layout_marginStart="4dp"
         android:layout_marginLeft="4dp"
         android:layout_marginBottom="4dp"
-        android:textColor="@color/textDark"
+        android:textSize="@dimen/small_text_size"
         app:layout_constraintStart_toStartOf="parent"
         app:layout_constraintTop_toBottomOf="@+id/privacy_title_view"
         tools:text="@tools:sample/lorem[4:10]" />
@@ -35,7 +33,6 @@
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_margin="8dp"
-        android:textColor="@color/textDark"
         app:layout_constraintBottom_toBottomOf="parent"
         app:layout_constraintEnd_toEndOf="parent"
         app:layout_constraintTop_toTopOf="parent"
diff --git a/mopub-sample/res/main/layout/recycler_view_fragment.xml b/mopub-sample/res/main/layout/recycler_view_fragment.xml
index a5fab091..039be70f 100644
--- a/mopub-sample/res/main/layout/recycler_view_fragment.xml
+++ b/mopub-sample/res/main/layout/recycler_view_fragment.xml
@@ -16,7 +16,7 @@
         android:paddingTop="8dp"
         android:singleLine="true"
         android:textColor="?android:attr/textColorPrimary"
-        android:textSize="16sp"
+        android:textSize="@dimen/small_text_size"
         android:textStyle="bold" />
 
     <TextView
@@ -29,7 +29,7 @@
         android:paddingStart="8dp"
         android:singleLine="true"
         android:textColor="?android:attr/textColorSecondary"
-        android:textSize="14sp"
+        android:textSize="@dimen/small_text_size"
         android:textStyle="normal" />
 
     <EditText
@@ -44,13 +44,15 @@
     <LinearLayout
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
+        android:layout_gravity="end"
+        android:layout_marginBottom="4dp"
         android:orientation="horizontal">
 
         <EditText
             android:id="@+id/user_data_keywords_field"
             android:layout_width="0dp"
             android:layout_height="wrap_content"
-            android:layout_weight="3"
+            android:layout_weight="16"
             android:hint="@string/user_data_keywords"
             android:imeOptions="actionDone"
             android:inputType="text|textFilter|textShortMessage"
@@ -58,16 +60,16 @@
 
         <Button
             android:id="@+id/load_button"
-            android:layout_width="0dp"
-            android:layout_height="wrap_content"
-            android:layout_weight="1"
+            android:layout_width="wrap_content"
+            android:layout_height="@dimen/button_height"
+            android:layout_marginRight="2dp"
             android:text="@string/load_ad" />
 
         <Button
             android:id="@+id/switch_button"
-            android:layout_width="0dp"
-            android:layout_height="wrap_content"
-            android:layout_weight="1"
+            android:layout_width="wrap_content"
+            android:layout_height="@dimen/button_height"
+            android:layout_marginRight="2dp"
             android:text="@string/switch_layout" />
     </LinearLayout>
 
diff --git a/mopub-sample/res/main/layout/video_ad_list_item.xml b/mopub-sample/res/main/layout/video_ad_list_item.xml
index 47912f25..5dbf1b16 100644
--- a/mopub-sample/res/main/layout/video_ad_list_item.xml
+++ b/mopub-sample/res/main/layout/video_ad_list_item.xml
@@ -62,7 +62,7 @@
     <Button
         android:id="@+id/native_cta"
         android:layout_width="wrap_content"
-        android:layout_height="35dp"
+        android:layout_height="@dimen/button_height"
         android:layout_alignParentEnd="true"
         android:layout_alignParentRight="true"
         android:layout_below="@+id/native_media_layout"
@@ -73,8 +73,6 @@
         android:focusable="true"
         android:paddingBottom="10dp"
         android:text="@string/learn_more"
-        android:textColor="@android:color/black"
-        android:textSize="12sp"
         android:textStyle="bold" />
 
     <ImageView
diff --git a/mopub-sample/res/main/menu/activity_main_drawer.xml b/mopub-sample/res/main/menu/activity_main_drawer.xml
index 32f2cbe2..cb743557 100644
--- a/mopub-sample/res/main/menu/activity_main_drawer.xml
+++ b/mopub-sample/res/main/menu/activity_main_drawer.xml
@@ -9,12 +9,12 @@
                 <item
                     android:id="@+id/nav_production"
                     android:checkable="true"
-                    android:icon="@drawable/ic_menu_slideshow"
+                    android:icon="@drawable/ic_menu_production"
                     android:title="@string/production" />
                 <item
                     android:id="@+id/nav_staging"
                     android:checkable="true"
-                    android:icon="@drawable/ic_menu_manage"
+                    android:icon="@drawable/ic_menu_staging"
                     android:title="@string/staging" />
             </group>
         </menu>
@@ -24,24 +24,24 @@
         <menu>
             <item
                 android:id="@+id/nav_privacy_info"
-                android:icon="@drawable/ic_menu_adapters"
+                android:icon="@drawable/ic_menu_info"
                 android:title="@string/information" />
             <group android:checkableBehavior="single">
                 <item
                     android:id="@+id/nav_privacy_grant"
                     android:checkable="true"
-                    android:icon="@drawable/ic_menu_lock"
+                    android:icon="@drawable/ic_menu_grant"
                     android:title="@string/grant_consent" />
                 <item
                     android:id="@+id/nav_privacy_revoke"
                     android:checkable="true"
-                    android:icon="@drawable/ic_menu_unlock"
+                    android:icon="@drawable/ic_menu_revoke"
                     android:title="@string/revoke_consent" />
             </group>
             <item
                 android:id="@+id/nav_force_gdpr"
                 android:checkable="true"
-                android:icon="@drawable/ic_menu_info"
+                android:icon="@drawable/ic_menu_force_gdpr"
                 android:title="@string/force_gdpr_applicable" />
         </menu>
     </item>
diff --git a/mopub-sample/res/main/values-sw400dp/dimens.xml b/mopub-sample/res/main/values-sw400dp/dimens.xml
index 76535326..8d8ce8c4 100644
--- a/mopub-sample/res/main/values-sw400dp/dimens.xml
+++ b/mopub-sample/res/main/values-sw400dp/dimens.xml
@@ -1,4 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <resources>
     <dimen name="native_main_image_height">200dp</dimen>
-</resources>
\ No newline at end of file
+    <dimen name="sample_text_size">18sp</dimen>
+    <dimen name="small_text_size">14sp</dimen>
+    <dimen name="button_text_size">15sp</dimen>
+</resources>
diff --git a/mopub-sample/res/main/values-sw600dp/dimens.xml b/mopub-sample/res/main/values-sw600dp/dimens.xml
index 512868f9..20258fec 100644
--- a/mopub-sample/res/main/values-sw600dp/dimens.xml
+++ b/mopub-sample/res/main/values-sw600dp/dimens.xml
@@ -1,4 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <resources>
     <dimen name="native_main_image_height">300dp</dimen>
-</resources>
\ No newline at end of file
+    <dimen name="sample_text_size">19sp</dimen>
+    <dimen name="small_text_size">16sp</dimen>
+    <dimen name="button_text_size">17sp</dimen>
+</resources>
diff --git a/mopub-sample/res/main/values-sw800dp/dimens.xml b/mopub-sample/res/main/values-sw800dp/dimens.xml
index 9980b5c3..822d1eab 100644
--- a/mopub-sample/res/main/values-sw800dp/dimens.xml
+++ b/mopub-sample/res/main/values-sw800dp/dimens.xml
@@ -1,4 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <resources>
     <dimen name="native_main_image_height">400dp</dimen>
-</resources>
\ No newline at end of file
+    <dimen name="sample_text_size">20sp</dimen>
+    <dimen name="small_text_size">17sp</dimen>
+    <dimen name="button_text_size">17sp</dimen>
+</resources>
diff --git a/mopub-sample/res/main/values-v28/styles.xml b/mopub-sample/res/main/values-v28/styles.xml
index a434e28e..6f20b425 100644
--- a/mopub-sample/res/main/values-v28/styles.xml
+++ b/mopub-sample/res/main/values-v28/styles.xml
@@ -3,6 +3,6 @@
         <item name="windowActionBar">false</item>
         <item name="windowNoTitle">true</item>
         <item name="android:statusBarColor">@android:color/transparent</item>
-        <item name="android:windowLayoutInDisplayCutoutMode">never</item>
+        <item name="android:windowLayoutInDisplayCutoutMode">shortEdges</item>
     </style>
 </resources>
diff --git a/mopub-sample/res/main/values/colors.xml b/mopub-sample/res/main/values/colors.xml
index b81dd08e..92087ea5 100644
--- a/mopub-sample/res/main/values/colors.xml
+++ b/mopub-sample/res/main/values/colors.xml
@@ -1,10 +1,15 @@
 <?xml version="1.0" encoding="utf-8"?>
 <resources>
-    <color name="colorPrimary">#008577</color>
-    <color name="colorPrimaryDark">#00574B</color>
-    <color name="colorAccent">#FF40C4FF</color>
-    <color name="colorLightGreay">#46cccccc</color>
-    <color name="textDark">#ff070707</color>
+    <color name="colorPrimary">#ffffff</color>
+    <color name="colorAccent">#1DA1F2</color>
+    <color name="colorLightGray">#ffE6ECF0</color>
     <color name="listLight">#ffffffff</color>
     <color name="listDark">#fff2f2f2</color>
+    <color name="colorText">#14171A</color>
+    <color name="colorTextSecondary">#657786</color>
+    <color name="colorDivider">#CCD6DD</color>
+    <color name="colorStatusBar">#ffE6ECF0</color>
+    <color name="colorButton">#1DA1F2</color>
+    <color name="colorButtonText">#ffffff</color>
+    <color name="colorWhite">#ffffff</color>
 </resources>
diff --git a/mopub-sample/res/main/values/dimens.xml b/mopub-sample/res/main/values/dimens.xml
index 403f81f7..a14bf7c2 100644
--- a/mopub-sample/res/main/values/dimens.xml
+++ b/mopub-sample/res/main/values/dimens.xml
@@ -1,22 +1,22 @@
 <?xml version="1.0" encoding="utf-8"?>
 <resources>
     <dimen name="sample_text_size">16sp</dimen>
-    <dimen name="spinner_text_size">20sp</dimen>
-    <dimen name="detail_text_size">10sp</dimen>
-    <dimen name="title_size">24sp</dimen>
+    <dimen name="small_text_size">13sp</dimen>
+    <dimen name="button_text_size">13sp</dimen>
     <dimen name="native_main_image_height">200dp</dimen>
     <dimen name="banner_width">320dp</dimen>
     <dimen name="banner_height">50dp</dimen>
-    <dimen name="mrect_width">300dp</dimen>
-    <dimen name="mrect_height">250dp</dimen>
-    <dimen name="leaderboard_width">728dp</dimen>
-    <dimen name="leaderboard_height">90dp</dimen>
-    <dimen name="skyscraper_width">160dp</dimen>
-    <dimen name="skyscraper_height">600dp</dimen>
+    <dimen name="medium_rectangle_width">300dp</dimen>
+    <dimen name="medium_rectangle_height">250dp</dimen>
 
     <!-- Navigation dimensions -->
     <dimen name="activity_horizontal_margin">16dp</dimen>
     <dimen name="activity_vertical_margin">16dp</dimen>
     <dimen name="nav_header_vertical_spacing">8dp</dimen>
-    <dimen name="nav_header_height">176dp</dimen>
+    <dimen name="nav_header_height">172dp</dimen>
+    <dimen name="button_height">36dp</dimen>
+    <dimen name="mopub_logo_width">168dp</dimen>
+    <dimen name="mopub_logo_height">50dp</dimen>
+    <dimen name="margin_large">16dp</dimen>
+    <dimen name="padding_large">16dp</dimen>
 </resources>
diff --git a/mopub-sample/res/main/values/drawables.xml b/mopub-sample/res/main/values/drawables.xml
index 1e963693..1fd1407c 100644
--- a/mopub-sample/res/main/values/drawables.xml
+++ b/mopub-sample/res/main/values/drawables.xml
@@ -1,8 +1,9 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android">
-    <item name="ic_menu_unlock" type="drawable">@android:drawable/ic_lock_idle_lock</item>
-    <item name="ic_menu_lock" type="drawable">@android:drawable/ic_lock_lock</item>
-    <item name="ic_menu_slideshow" type="drawable">@android:drawable/ic_menu_slideshow</item>
-    <item name="ic_menu_manage" type="drawable">@android:drawable/ic_menu_manage</item>
-    <item name="ic_menu_adapters" type="drawable">@android:drawable/ic_menu_info_details</item>
-    <item name="ic_menu_info" type="drawable">@android:drawable/ic_dialog_info</item>
+    <item name="ic_menu_revoke" type="drawable">@drawable/ic_no</item>
+    <item name="ic_menu_grant" type="drawable">@drawable/ic_lock</item>
+    <item name="ic_menu_production" type="drawable">@drawable/ic_checkmark_circle</item>
+    <item name="ic_menu_staging" type="drawable">@drawable/ic_checkmark_circle</item>
+    <item name="ic_menu_adapters" type="drawable">@drawable/ic_share_android</item>
+    <item name="ic_menu_info" type="drawable">@drawable/ic_information_circle</item>
+    <item name="ic_menu_force_gdpr" type="drawable">@drawable/ic_globe_stroke</item>
 </resources>
diff --git a/mopub-sample/res/main/values/strings.xml b/mopub-sample/res/main/values/strings.xml
index 48695da3..981938b7 100644
--- a/mopub-sample/res/main/values/strings.xml
+++ b/mopub-sample/res/main/values/strings.xml
@@ -1,6 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <resources>
-    <string name="app_name">MoPub Sample App</string>
+    <string name="app_name">MoPub</string>
+    <string name="app_title">MoPub Sample App</string>
     <string name="keywords">Keywords (optional)</string>
     <string name="user_data_keywords">User Data Keywords (optional)</string>
     <string name="custom_data">Custom Data (optional)</string>
@@ -19,10 +20,9 @@
     <string name="ad_unit_name_hint">Enter Name</string>
     <string name="ad_type">Ad Type:</string>
     <string name="add_ad_unit_title">Add an Ad Unit</string>
-    <string name="add_ad_unit_button">Add an Ad Unit</string>
+    <string name="add_ad_unit_button">New ad unit</string>
     <string name="ad_unit_id_banner">b195f8dd8ded45fe847ad89ed1d016da</string>
-    <string name="ad_unit_id_mrect">252412d5e9364a05ab77d9396346d73d</string>
-    <string name="ad_unit_id_leaderboard">a8919cca19784497872ae69d48f678e1</string>
+    <string name="ad_unit_id_medium_rectangle">252412d5e9364a05ab77d9396346d73d</string>
     <string name="ad_unit_id_interstitial">24534e1901884e398f1253216226017e</string>
     <string name="ad_unit_id_rewarded_video">920b6145fb1546cf8b5cf2ac34638bb7</string>
     <string name="ad_unit_id_rewarded_rich_media">a96ae2ef41d44822af45c6328c4e1eb1</string>
@@ -59,5 +59,6 @@
     <string name="clear_logs">Clear logs</string>
     <string name="empty_list">Empty list</string>
     <string name="share_impression">Share Impression</string>
+    <string name="checkmark">checkmark</string>
 
 </resources>
diff --git a/mopub-sample/res/main/values/styles.xml b/mopub-sample/res/main/values/styles.xml
index 545b9c6d..86ed486a 100644
--- a/mopub-sample/res/main/values/styles.xml
+++ b/mopub-sample/res/main/values/styles.xml
@@ -1,11 +1,20 @@
 <resources>
 
     <!-- Base application theme. -->
-    <style name="AppTheme" parent="Theme.AppCompat.Light.DarkActionBar">
+    <style name="AppTheme" parent="Theme.AppCompat.Light">
         <!-- Customize your theme here. -->
-        <item name="colorPrimary">@color/colorPrimary</item>
-        <item name="colorPrimaryDark">@color/colorPrimaryDark</item>
+        <item name="colorPrimary">@color/colorWhite</item>
+        <item name="colorPrimaryDark">@color/colorStatusBar</item>
+        <item name="colorControlHighlight">@color/colorAccent</item>
         <item name="colorAccent">@color/colorAccent</item>
+        <item name="android:colorBackground">@color/colorWhite</item>
+        <item name="android:textColor">@color/colorText</item>
+        <item name="android:buttonBarButtonStyle">@style/MoButtonBarButtonStyle</item>
+        <item name="android:textColorSecondary">@color/colorTextSecondary</item>
+        <item name="android:textSize">@dimen/sample_text_size</item>
+        <item name="android:windowLightStatusBar">true</item>
+
+        <item name="buttonStyle">@style/MoButton</item>
     </style>
 
     <style name="AppTheme.NoActionBar">
@@ -13,8 +22,29 @@
         <item name="windowNoTitle">true</item>
     </style>
 
-    <style name="AppTheme.AppBarOverlay" parent="ThemeOverlay.AppCompat.Dark.ActionBar" />
+    <style name="AppTheme.AppBarOverlay" parent="ThemeOverlay.AppCompat.Light" />
 
     <style name="AppTheme.PopupOverlay" parent="ThemeOverlay.AppCompat.Light" />
 
+    <style name="MoButton" parent="Widget.AppCompat.Button">
+        <item name="android:textAllCaps">false</item>
+        <item name="android:textColor">@color/button_text_color</item>
+        <item name="android:background">@drawable/mopub_button_custom</item>
+        <item name="android:textSize">@dimen/button_text_size</item>
+    </style>
+
+    <style name="MoButtonBarButtonStyle" parent="MoButton">
+        <item name="android:minWidth">10dp</item>
+        <item name="android:minHeight">10dp</item>
+        <item name="android:paddingStart">14dp</item>
+        <item name="android:paddingLeft">14dp</item>
+        <item name="android:paddingRight">14dp</item>
+        <item name="android:paddingEnd">14dp</item>
+        <item name="android:layout_marginLeft">4dp</item>
+        <item name="android:layout_marginStart">4dp</item>
+        <item name="android:layout_marginRight">4dp</item>
+        <item name="android:layout_marginEnd">4dp</item>
+        <item name="android:paddingTop">10dp</item>
+        <item name="android:paddingBottom">10dp</item>
+    </style>
 </resources>
diff --git a/mopub-sample/src/androidTest/java/com/mopub/framework/models/BannerAdLabels.java b/mopub-sample/src/androidTest/java/com/mopub/framework/models/BannerAdLabels.java
index dc4d798a..ff0fd27f 100644
--- a/mopub-sample/src/androidTest/java/com/mopub/framework/models/BannerAdLabels.java
+++ b/mopub-sample/src/androidTest/java/com/mopub/framework/models/BannerAdLabels.java
@@ -9,11 +9,8 @@
     // Banner
     public static final String BANNER = "MoPub Banner Sample";
 
-    // MRECT
-    public static final String MRECT = "MoPub Mrect Sample";
-
-    // Leaderboard
-    public static final String LEADERBOARD = "MoPub Leaderboard Sample";
+    // MEDIUM_RECTANGLE
+    public static final String MEDIUM_RECTANGLE = "MoPub MediumRectangle Sample";
 
     // Interstitial
     public static final String INTERSTITIAL = "MoPub Interstitial Sample";
diff --git a/mopub-sample/src/androidTest/java/com/mopub/framework/pages/AdListPage.java b/mopub-sample/src/androidTest/java/com/mopub/framework/pages/AdListPage.java
index 11860ad1..0da79936 100644
--- a/mopub-sample/src/androidTest/java/com/mopub/framework/pages/AdListPage.java
+++ b/mopub-sample/src/androidTest/java/com/mopub/framework/pages/AdListPage.java
@@ -25,9 +25,7 @@
 
     public enum AdUnitType {
         BANNER("Banner"),
-        MRECT("Mrect"),
-        LEADERBOARD("Leaderboard"),
-        SKYSCRAPER("Skyscraper"),
+        MEDIUM_RECTANGLE("Medium Rectangle"),
         INTERSTITIAL("Interstitial"),
         REWARDED_VIDEO("Rewarded Video"),
         NATIVE_LIST_VIEW("Native List View"),
diff --git a/mopub-sample/src/androidTest/java/com/mopub/tests/LeaderboardAdTests.java b/mopub-sample/src/androidTest/java/com/mopub/tests/LeaderboardAdTests.java
deleted file mode 100644
index 1a01ca73..00000000
--- a/mopub-sample/src/androidTest/java/com/mopub/tests/LeaderboardAdTests.java
+++ /dev/null
@@ -1,85 +0,0 @@
-package com.mopub.tests;
-
-import android.support.test.espresso.ViewInteraction;
-import android.support.test.filters.LargeTest;
-import android.support.test.runner.AndroidJUnit4;
-
-import com.mopub.framework.models.BannerAdLabels;
-import com.mopub.framework.pages.AdDetailPage;
-import com.mopub.framework.pages.AdListPage;
-import com.mopub.framework.pages.AdListPage.AdUnitType;
-import com.mopub.simpleadsdemo.R;
-import com.mopub.tests.base.MoPubBaseTestCase;
-
-import org.junit.Test;
-import org.junit.runner.RunWith;
-
-import static android.support.test.espresso.Espresso.onView;
-import static android.support.test.espresso.matcher.ViewMatchers.hasChildCount;
-import static android.support.test.espresso.matcher.ViewMatchers.withId;
-import static android.support.test.espresso.matcher.ViewMatchers.withText;
-import static org.hamcrest.Matchers.allOf;
-import static org.junit.Assert.assertTrue;
-
-@RunWith(AndroidJUnit4.class)
-@LargeTest
-public class LeaderboardAdTests extends MoPubBaseTestCase {
-
-    // Test Variables
-    private static final AdUnitType AD_TYPE = AdUnitType.LEADERBOARD;
-    private static final String TITLE = BannerAdLabels.LEADERBOARD;
-    private static final String WEB_PAGE_LINK = "https://www.mopub.com/click-test/";
-
-    /*
-     * Verify that the Leaderboard Ad is successfully loaded and displayed on
-     * the app.
-     */
-    @Test
-    public void adsDetailsPage_withClickOnMoPubLeaderboardSample_shouldLoadMoPubLeaderboard() {
-        final AdListPage adListPage = new AdListPage();
-        final AdDetailPage adDetailPage = adListPage.clickCell(TITLE);
-
-        final ViewInteraction bannerElement = onView(allOf(withId(R.id.banner_mopubview), hasChildCount(1)));
-
-        assertTrue(adDetailPage.waitForElement(bannerElement));
-    }
-
-    /*
-     * Verify that the Leaderboard Ad fails to load on the app.
-     */
-    @Test
-    public void adsDetailsPage_withClickOnMoPubLeaderboardSample_shouldNotLoadMoPubLeaderboard() {
-        final String fakeAdUnit = "abc";
-        final String adUnitTitle = "Leaderboard Automation Test";
-
-        final AdListPage adListPage = new AdListPage();
-        adListPage.addAdUnit(AD_TYPE, fakeAdUnit, adUnitTitle);
-
-        final AdDetailPage adDetailPage = adListPage.clickCell(adUnitTitle);
-
-        final ViewInteraction bannerElement = onView(allOf(withId(R.id.banner_mopubview),
-                hasChildCount(1)));
-
-        assertTrue(!adDetailPage.waitForElement(bannerElement));
-
-        // Clean Up
-        adListPage.deleteAdUnit(adUnitTitle);
-    }
-
-    /*
-     * Verify that the user is correctly navigated to
-     * Leaderboard Ad's url on click.
-     */
-    @Test
-    public void adsDetailsPage_withClickOnMoPubLeaderboardAd_shouldShowMoPubBrowser() {
-        final AdListPage adListPage = new AdListPage();
-        final AdDetailPage adDetailPage = adListPage.clickCell(TITLE);
-
-        final ViewInteraction bannerElement = onView(allOf(withId(R.id.banner_mopubview), hasChildCount(1)));
-        adDetailPage.clickElement(bannerElement);
-
-        final ViewInteraction browserLinkElement = onView(withText(WEB_PAGE_LINK));
-
-        assertTrue(adDetailPage.waitForElement(browserLinkElement));
-    }
-}
diff --git a/mopub-sample/src/androidTest/java/com/mopub/tests/MRectAdTests.java b/mopub-sample/src/androidTest/java/com/mopub/tests/MediumRectangleAdTests.java
similarity index 77%
rename from mopub-sample/src/androidTest/java/com/mopub/tests/MRectAdTests.java
rename to mopub-sample/src/androidTest/java/com/mopub/tests/MediumRectangleAdTests.java
index 53c72b22..d38b776a 100644
--- a/mopub-sample/src/androidTest/java/com/mopub/tests/MRectAdTests.java
+++ b/mopub-sample/src/androidTest/java/com/mopub/tests/MediumRectangleAdTests.java
@@ -26,16 +26,16 @@
 public class MRectAdTests extends MoPubBaseTestCase {
 
     // Test Variables
-    private static final AdUnitType AD_TYPE = AdUnitType.MRECT;
-    private static final String TITLE = BannerAdLabels.MRECT;
+    private static final AdUnitType AD_TYPE = AdUnitType.MEDIUM_RECTANGLE;
+    private static final String TITLE = BannerAdLabels.MEDIUM_RECTANGLE;
     private static final String WEB_PAGE_LINK = "https://www.mopub.com/click-test/";
 
     /*
-     * Verify that the MRECT Ad is successfully loaded and displayed on
+     * Verify that the MEDIUM_RECTANGLE Ad is successfully loaded and displayed on
      * the app.
      */
     @Test
-    public void adsDetailsPage_withClickOnMoPubMrectSample_shouldLoadMoPubMrect() {
+    public void adsDetailsPage_withClickOnMoPubMediumRectangleSample_shouldLoadMoPubMediumRectangle() {
         final AdListPage adListPage = new AdListPage();
         final AdDetailPage adDetailPage = adListPage.clickCell(TITLE);
 
@@ -46,12 +46,12 @@ public void adsDetailsPage_withClickOnMoPubMrectSample_shouldLoadMoPubMrect() {
     }
 
     /*
-     * Verify that the MRECT Ad fails to load on the app.
+     * Verify that the MEDIUM_RECTANGLE Ad fails to load on the app.
      */
     @Test
-    public void adsDetailsPage_withClickOnMoPubMrectSample_shouldNotLoadMoPubMrect() {
+    public void adsDetailsPage_withClickOnMoPubMediumRectangleSample_shouldNotLoadMoPubMediumRectangle() {
         final String fakeAdUnit = "abc";
-        final String adUnitTitle = "MRECT Automation Test";
+        final String adUnitTitle = "MEDIUM_RECTANGLE Automation Test";
 
         final AdListPage adListPage = new AdListPage();
         adListPage.addAdUnit(AD_TYPE, fakeAdUnit, adUnitTitle);
@@ -69,10 +69,10 @@ public void adsDetailsPage_withClickOnMoPubMrectSample_shouldNotLoadMoPubMrect()
 
     /*
      * Verify that the user is correctly navigated to
-     * MRECT Ad's url on click.
+     * MEDIUM_RECTANGLE Ad's url on click.
      */
     @Test
-    public void adsDetailsPage_withClickOnMoPubMrectAd_shouldShowMoPubBrowser() {
+    public void adsDetailsPage_withClickOnMoPubMediumRectangleAd_shouldShowMoPubBrowser() {
         final AdListPage adListPage = new AdListPage();
         final AdDetailPage adDetailPage = adListPage.clickCell(TITLE);
 
diff --git a/mopub-sample/src/external/java/com/mopub/simpleadsdemo/SampleAppDefaultAdUnits.java b/mopub-sample/src/external/java/com/mopub/simpleadsdemo/SampleAppDefaultAdUnits.java
index 1aa53bb5..29c3e7a1 100644
--- a/mopub-sample/src/external/java/com/mopub/simpleadsdemo/SampleAppDefaultAdUnits.java
+++ b/mopub-sample/src/external/java/com/mopub/simpleadsdemo/SampleAppDefaultAdUnits.java
@@ -11,16 +11,14 @@
 import static com.mopub.simpleadsdemo.MoPubSampleAdUnit.AdType.BANNER;
 import static com.mopub.simpleadsdemo.MoPubSampleAdUnit.AdType.CUSTOM_NATIVE;
 import static com.mopub.simpleadsdemo.MoPubSampleAdUnit.AdType.INTERSTITIAL;
-import static com.mopub.simpleadsdemo.MoPubSampleAdUnit.AdType.LEADERBOARD;
 import static com.mopub.simpleadsdemo.MoPubSampleAdUnit.AdType.LIST_VIEW;
-import static com.mopub.simpleadsdemo.MoPubSampleAdUnit.AdType.MRECT;
+import static com.mopub.simpleadsdemo.MoPubSampleAdUnit.AdType.MEDIUM_RECTANGLE;
 import static com.mopub.simpleadsdemo.MoPubSampleAdUnit.AdType.RECYCLER_VIEW;
 import static com.mopub.simpleadsdemo.MoPubSampleAdUnit.AdType.REWARDED_VIDEO;
 
 enum SampleAppDefaultAdUnits {
     SAMPLE_BANNER(R.string.ad_unit_id_banner, BANNER, "MoPub Banner Sample"),
-    SAMPLE_MRECT(R.string.ad_unit_id_mrect, MRECT, "MoPub Mrect Sample"),
-    SAMPLE_LEADERBOARD(R.string.ad_unit_id_leaderboard, LEADERBOARD, "MoPub Leaderboard Sample"),
+    SAMPLE_MEDIUM_RECTANGLE(R.string.ad_unit_id_medium_rectangle, MEDIUM_RECTANGLE, "MoPub Medium Rectangle Sample"),
     SAMPLE_INTERSTITIAL(R.string.ad_unit_id_interstitial, INTERSTITIAL,
             "MoPub Interstitial Sample"),
     SAMPLE_REWARDED_VIDEO(R.string.ad_unit_id_rewarded_video, REWARDED_VIDEO,
diff --git a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/AbstractBannerDetailFragment.java b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/AbstractBannerDetailFragment.java
index b325f597..8b9e8058 100644
--- a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/AbstractBannerDetailFragment.java
+++ b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/AbstractBannerDetailFragment.java
@@ -4,8 +4,13 @@
 
 package com.mopub.simpleadsdemo;
 
+import android.content.Context;
 import android.os.Bundle;
+import android.support.annotation.NonNull;
+import android.support.annotation.Nullable;
 import android.support.v4.app.Fragment;
+import android.support.v7.widget.LinearLayoutManager;
+import android.support.v7.widget.RecyclerView;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
@@ -28,10 +33,36 @@
 public abstract class AbstractBannerDetailFragment extends Fragment implements BannerAdListener {
     private MoPubView mMoPubView;
     private MoPubSampleAdUnit mMoPubSampleAdUnit;
+    @Nullable private CallbacksAdapter mCallbacksAdapter;
 
-    public abstract int getWidth();
+    public abstract MoPubView.MoPubAdSize getAdSize();
 
-    public abstract int getHeight();
+    private enum BannerCallbacks {
+        LOADED("onBannerLoaded"),
+        FAILED("onBannerFailed"),
+        CLICKED("onBannerClicked"),
+        EXPANDED("onBannerExpanded"),
+        COLLAPSED("onBannerCollapsed");
+
+        BannerCallbacks(@NonNull final String name) {
+            this.name = name;
+        }
+
+        @NonNull
+        private final String name;
+
+        @Override
+        @NonNull
+        public String toString() {
+            return name;
+        }
+    }
+
+    @Override
+    public void onActivityCreated(@Nullable Bundle savedInstanceState) {
+        super.onActivityCreated(savedInstanceState);
+        mMoPubView.loadAd();
+    }
 
     @Override
     public View onCreateView(LayoutInflater inflater, ViewGroup container,
@@ -44,9 +75,8 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,
         mMoPubView = (MoPubView) view.findViewById(R.id.banner_mopubview);
         LinearLayout.LayoutParams layoutParams =
                 (LinearLayout.LayoutParams) mMoPubView.getLayoutParams();
-        layoutParams.width = getWidth();
-        layoutParams.height = getHeight();
         mMoPubView.setLayoutParams(layoutParams);
+        mMoPubView.setAdSize(getAdSize());
 
         views.mKeywordsField.setText(getArguments().getString(MoPubListFragment.KEYWORDS_KEY, ""));
         views.mUserDataKeywordsField.setText(getArguments().getString(MoPubListFragment.USER_DATA_KEYWORDS_KEY, ""));
@@ -60,11 +90,22 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,
             public void onClick(View view) {
                 final String keywords = views.mKeywordsField.getText().toString();
                 final String userDataKeywords = views.mUserDataKeywordsField.getText().toString();
-                loadMoPubView(adUnitId, keywords, userDataKeywords);
+                setupMoPubView(adUnitId, keywords, userDataKeywords);
+                mMoPubView.loadAd();
             }
         });
+
+        final RecyclerView callbacksView = view.findViewById(R.id.callbacks_recycler_view);
+        final Context context = getContext();
+        if (callbacksView != null && context != null) {
+            callbacksView.setLayoutManager(new LinearLayoutManager(context));
+            mCallbacksAdapter = new CallbacksAdapter(context);
+            mCallbacksAdapter.generateCallbackList(BannerCallbacks.class);
+            callbacksView.setAdapter(mCallbacksAdapter);
+        }
+
         mMoPubView.setBannerAdListener(this);
-        loadMoPubView(adUnitId, null, null);
+        setupMoPubView(adUnitId, null, null);
 
         return view;
     }
@@ -79,11 +120,13 @@ public void onDestroyView() {
         }
     }
 
-    private void loadMoPubView(final String adUnitId, final String keywords, final String userDataKeywords) {
+    private void setupMoPubView(final String adUnitId, final String keywords, final String userDataKeywords) {
         mMoPubView.setAdUnitId(adUnitId);
         mMoPubView.setKeywords(keywords);
         mMoPubView.setUserDataKeywords(userDataKeywords);
-        mMoPubView.loadAd();
+        if (mCallbacksAdapter != null) {
+            mCallbacksAdapter.generateCallbackList(BannerCallbacks.class);
+        }
     }
 
     private String getName() {
@@ -96,27 +139,47 @@ private String getName() {
     // BannerAdListener
     @Override
     public void onBannerLoaded(MoPubView banner) {
-        logToast(getActivity(), getName() + " loaded.");
+        if (mCallbacksAdapter == null) {
+            logToast(getActivity(), getName() + " loaded.");
+            return;
+        }
+        mCallbacksAdapter.notifyCallbackCalled(BannerCallbacks.LOADED.toString());
     }
 
     @Override
     public void onBannerFailed(MoPubView banner, MoPubErrorCode errorCode) {
         final String errorMessage = (errorCode != null) ? errorCode.toString() : "";
-        logToast(getActivity(), getName() + " failed to load: " + errorMessage);
+        if (mCallbacksAdapter == null) {
+            logToast(getActivity(), getName() + " failed to load: " + errorMessage);
+            return;
+        }
+        mCallbacksAdapter.notifyCallbackCalled(BannerCallbacks.FAILED.toString(), errorMessage);
     }
 
     @Override
     public void onBannerClicked(MoPubView banner) {
-        logToast(getActivity(), getName() + " clicked.");
+        if (mCallbacksAdapter == null) {
+            logToast(getActivity(), getName() + " clicked.");
+            return;
+        }
+        mCallbacksAdapter.notifyCallbackCalled(BannerCallbacks.CLICKED.toString());
     }
 
     @Override
     public void onBannerExpanded(MoPubView banner) {
-        logToast(getActivity(), getName() + " expanded.");
+        if (mCallbacksAdapter == null) {
+            logToast(getActivity(), getName() + " expanded.");
+            return;
+        }
+        mCallbacksAdapter.notifyCallbackCalled(BannerCallbacks.EXPANDED.toString());
     }
 
     @Override
     public void onBannerCollapsed(MoPubView banner) {
-        logToast(getActivity(), getName() + " collapsed.");
+        if (mCallbacksAdapter == null) {
+            logToast(getActivity(), getName() + " collapsed.");
+            return;
+        }
+        mCallbacksAdapter.notifyCallbackCalled(BannerCallbacks.COLLAPSED.toString());
     }
 }
diff --git a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/BannerDetailFragment.java b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/BannerDetailFragment.java
index ba05b8f3..a552ef4a 100644
--- a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/BannerDetailFragment.java
+++ b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/BannerDetailFragment.java
@@ -4,15 +4,12 @@
 
 package com.mopub.simpleadsdemo;
 
-public class BannerDetailFragment extends AbstractBannerDetailFragment {
+import com.mopub.mobileads.MoPubView;
 
-    @Override
-    public int getWidth() {
-        return (int) getResources().getDimension(R.dimen.banner_width);
-    }
+public class BannerDetailFragment extends AbstractBannerDetailFragment {
 
     @Override
-    public int getHeight() {
-        return (int) getResources().getDimension(R.dimen.banner_height);
+    public MoPubView.MoPubAdSize getAdSize() {
+        return MoPubView.MoPubAdSize.HEIGHT_250;
     }
 }
diff --git a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/CallbackDataItem.java b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/CallbackDataItem.java
new file mode 100644
index 00000000..c8ef6f25
--- /dev/null
+++ b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/CallbackDataItem.java
@@ -0,0 +1,74 @@
+// Copyright 2018-2019 Twitter, Inc.
+// Licensed under the MoPub SDK License Agreement
+// http://www.mopub.com/legal/sdk-license-agreement/
+
+package com.mopub.simpleadsdemo;
+
+import android.support.annotation.NonNull;
+import android.support.annotation.Nullable;
+
+public class CallbackDataItem {
+
+    /**
+     * The name of the callback
+     */
+    @NonNull
+    private final String mCallbackName;
+
+    /**
+     * Optional additional data to show
+     */
+    @Nullable
+    private String mAdditionalData;
+
+    /**
+     * Whether or not this callback has been called
+     */
+    private boolean mCalled;
+
+    CallbackDataItem(@NonNull final String callbackName) {
+        mCallbackName = callbackName;
+    }
+
+    @NonNull
+    String getCallbackName() {
+        return mCallbackName;
+    }
+
+    @Nullable
+    String getAdditionalData() {
+        return mAdditionalData;
+    }
+
+    boolean isCalled() {
+        return mCalled;
+    }
+
+    void setAdditionalData(@Nullable final String additionalData) {
+        mAdditionalData = additionalData;
+    }
+
+    void setCalled() {
+        mCalled = true;
+    }
+
+    @Override
+    public boolean equals(final Object o) {
+        if (this == o) return true;
+        if (o == null || getClass() != o.getClass()) return false;
+
+        final CallbackDataItem that = (CallbackDataItem) o;
+
+        if (mCalled != that.mCalled) return false;
+        if (!mCallbackName.equals(that.mCallbackName)) return false;
+        return mAdditionalData != null ? mAdditionalData.equals(that.mAdditionalData) : that.mAdditionalData == null;
+    }
+
+    @Override
+    public int hashCode() {
+        int result = mCallbackName.hashCode();
+        result = 31 * result + (mAdditionalData != null ? mAdditionalData.hashCode() : 0);
+        result = 31 * result + (mCalled ? 1 : 0);
+        return result;
+    }
+}
diff --git a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/CallbacksAdapter.java b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/CallbacksAdapter.java
new file mode 100644
index 00000000..5d6a4aac
--- /dev/null
+++ b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/CallbacksAdapter.java
@@ -0,0 +1,127 @@
+// Copyright 2018-2019 Twitter, Inc.
+// Licensed under the MoPub SDK License Agreement
+// http://www.mopub.com/legal/sdk-license-agreement/
+
+package com.mopub.simpleadsdemo;
+
+import android.content.Context;
+import android.support.annotation.NonNull;
+import android.support.annotation.Nullable;
+import android.support.v7.widget.RecyclerView;
+import android.text.TextUtils;
+import android.util.Log;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ImageView;
+import android.widget.TextView;
+
+import java.util.ArrayList;
+import java.util.List;
+
+public class CallbacksAdapter extends RecyclerView.Adapter<CallbacksAdapter.ViewHolder> {
+
+    private static final String TAG = CallbacksAdapter.class.getName();
+
+    private final int mBackgroundLight;
+    private final int mBackgroundDark;
+
+    @NonNull private List<CallbackDataItem> mCallbacks;
+
+    CallbacksAdapter(@NonNull final Context context) {
+        mBackgroundDark = context.getResources().getColor(R.color.listDark);
+        mBackgroundLight = context.getResources().getColor(R.color.listLight);
+//        int a = context.getResources().getColor(android.R.attr.textColorPrimary);
+//        context.getTheme().resolveAttribute(android.R.attr.textColorPrimary)
+        mCallbacks = new ArrayList<>();
+    }
+
+    @NonNull
+    @Override
+    public CallbacksAdapter.ViewHolder onCreateViewHolder(@NonNull final ViewGroup parent, final int i) {
+        final View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.callback_list_item, parent, false);
+        return new ViewHolder(view);
+    }
+
+    @Override
+    public void onBindViewHolder(@NonNull final CallbacksAdapter.ViewHolder viewHolder, final int i) {
+        final CallbackDataItem callback;
+        try {
+            callback = mCallbacks.get(i);
+        } catch (IndexOutOfBoundsException e) {
+            Log.e(TAG, "Index out of bounds exception when binding CallbacksAdapter.", e);
+            return;
+        }
+        if (callback == null) {
+            Log.e("TAG", "Failed to get callback from CallbacksAdapter.");
+            return;
+        }
+
+        viewHolder.callbackNameTextView.setText(callback.getCallbackName());
+        final String additionalData = callback.getAdditionalData();
+        if (!TextUtils.isEmpty(additionalData)) {
+            viewHolder.additionalDataTextView.setText(additionalData);
+        } else {
+            viewHolder.additionalDataTextView.setText("");
+        }
+
+        if (callback.isCalled()) {
+            viewHolder.checkMarkImageView.setVisibility(View.VISIBLE);
+            viewHolder.callbackNameTextView.setEnabled(true);
+        } else {
+            viewHolder.checkMarkImageView.setVisibility(View.INVISIBLE);
+            viewHolder.callbackNameTextView.setEnabled(false);
+        }
+
+        final int color = (i & 1) == 0 ? mBackgroundDark : mBackgroundLight;
+        viewHolder.itemView.setBackgroundColor(color);
+    }
+
+    @Override
+    public int getItemCount() {
+        return mCallbacks.size();
+    }
+
+    void generateCallbackList(@NonNull final Class<? extends Enum> callbacksEnumClass) {
+        mCallbacks.clear();
+        for (Enum callback : callbacksEnumClass.getEnumConstants()) {
+            mCallbacks.add(new CallbackDataItem(callback.toString()));
+        }
+        notifyDataSetChanged();
+    }
+
+    void notifyCallbackCalled(@NonNull final String methodName) {
+        notifyCallbackCalled(methodName, null);
+    }
+
+    void notifyCallbackCalled(@NonNull final String methodName,
+                              @Nullable final String additionalData) {
+        for (CallbackDataItem item : mCallbacks) {
+            if (item.getCallbackName().equals(methodName)) {
+                item.setCalled();
+                if (!TextUtils.isEmpty(additionalData)) {
+                    item.setAdditionalData(additionalData);
+                }
+
+                notifyDataSetChanged();
+                break;
+            }
+        }
+    }
+
+    static class ViewHolder extends RecyclerView.ViewHolder {
+
+        @NonNull final TextView callbackNameTextView;
+        @NonNull final TextView additionalDataTextView;
+        @NonNull final ImageView checkMarkImageView;
+        @NonNull final View itemView;
+
+        ViewHolder(@NonNull final View itemView) {
+            super(itemView);
+            callbackNameTextView = itemView.findViewById(R.id.callback_name_tv);
+            additionalDataTextView = itemView.findViewById(R.id.additional_data_tv);
+            checkMarkImageView = itemView.findViewById(R.id.checkmark_iv);
+            this.itemView = itemView;
+        }
+    }
+}
diff --git a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/InterstitialDetailFragment.java b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/InterstitialDetailFragment.java
index e775a093..2bcea674 100644
--- a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/InterstitialDetailFragment.java
+++ b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/InterstitialDetailFragment.java
@@ -4,8 +4,13 @@
 
 package com.mopub.simpleadsdemo;
 
+import android.content.Context;
 import android.os.Bundle;
+import android.support.annotation.NonNull;
+import android.support.annotation.Nullable;
 import android.support.v4.app.Fragment;
+import android.support.v7.widget.LinearLayoutManager;
+import android.support.v7.widget.RecyclerView;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
@@ -21,6 +26,28 @@
 public class InterstitialDetailFragment extends Fragment implements InterstitialAdListener {
     private MoPubInterstitial mMoPubInterstitial;
     private Button mShowButton;
+    @Nullable private CallbacksAdapter mCallbacksAdapter;
+
+    private enum InterstitialCallbacks {
+        LOADED("onInterstitialLoaded"),
+        FAILED("onInterstitialFailed"),
+        SHOWN("onInterstitialShown"),
+        CLICKED("onInterstitialClicked"),
+        DISMISSED("onInterstitialDismissed");
+
+        InterstitialCallbacks(@NonNull final String name) {
+            this.name = name;
+        }
+
+        @NonNull
+        private final String name;
+
+        @Override
+        @NonNull
+        public String toString() {
+            return name;
+        }
+    }
 
     @Override
     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
@@ -47,6 +74,9 @@ public void onClick(View view) {
                 final String userDatakeywords = views.mUserDataKeywordsField.getText().toString();
                 mMoPubInterstitial.setKeywords(keywords);
                 mMoPubInterstitial.setUserDataKeywords(userDatakeywords);
+                if (mCallbacksAdapter != null) {
+                    mCallbacksAdapter.generateCallbackList(InterstitialCallbacks.class);
+                }
                 mMoPubInterstitial.load();
             }
         });
@@ -59,6 +89,15 @@ public void onClick(View view) {
             }
         });
 
+        final RecyclerView callbacksView = view.findViewById(R.id.callbacks_recycler_view);
+        final Context context = getContext();
+        if (callbacksView != null && context != null) {
+            callbacksView.setLayoutManager(new LinearLayoutManager(context));
+            mCallbacksAdapter = new CallbacksAdapter(context);
+            mCallbacksAdapter.generateCallbackList(InterstitialCallbacks.class);
+            callbacksView.setAdapter(mCallbacksAdapter);
+        }
+
         return view;
     }
 
@@ -76,29 +115,50 @@ public void onDestroyView() {
     @Override
     public void onInterstitialLoaded(MoPubInterstitial interstitial) {
         mShowButton.setEnabled(true);
-        logToast(getActivity(), "Interstitial loaded.");
+        if (mCallbacksAdapter == null) {
+            logToast(getActivity(), "Interstitial loaded.");
+            return;
+        }
+        mCallbacksAdapter.notifyCallbackCalled(InterstitialCallbacks.LOADED.toString());
     }
 
     @Override
     public void onInterstitialFailed(MoPubInterstitial interstitial, MoPubErrorCode errorCode) {
         mShowButton.setEnabled(false);
         final String errorMessage = (errorCode != null) ? errorCode.toString() : "";
-        logToast(getActivity(), "Interstitial failed to load: " + errorMessage);
+        if (mCallbacksAdapter == null) {
+            logToast(getActivity(), "Interstitial failed to load: " + errorMessage);
+            return;
+        }
+        mCallbacksAdapter.notifyCallbackCalled(InterstitialCallbacks.FAILED.toString(), errorMessage);
     }
 
     @Override
     public void onInterstitialShown(MoPubInterstitial interstitial) {
         mShowButton.setEnabled(false);
-        logToast(getActivity(), "Interstitial shown.");
+        if (mCallbacksAdapter == null) {
+            logToast(getActivity(), "Interstitial shown.");
+            return;
+        }
+        mCallbacksAdapter.notifyCallbackCalled(InterstitialCallbacks.SHOWN.toString());
     }
 
     @Override
     public void onInterstitialClicked(MoPubInterstitial interstitial) {
-        logToast(getActivity(), "Interstitial clicked.");
+        if (mCallbacksAdapter == null) {
+            logToast(getActivity(), "Interstitial clicked.");
+            return;
+        }
+        mCallbacksAdapter.notifyCallbackCalled(InterstitialCallbacks.CLICKED.toString());
+
     }
 
     @Override
     public void onInterstitialDismissed(MoPubInterstitial interstitial) {
-        logToast(getActivity(), "Interstitial dismissed.");
+        if (mCallbacksAdapter == null) {
+            logToast(getActivity(), "Interstitial dismissed.");
+            return;
+        }
+        mCallbacksAdapter.notifyCallbackCalled(InterstitialCallbacks.DISMISSED.toString());
     }
 }
diff --git a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/LeaderboardDetailFragment.java b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/LeaderboardDetailFragment.java
deleted file mode 100644
index 614efdac..00000000
--- a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/LeaderboardDetailFragment.java
+++ /dev/null
@@ -1,18 +0,0 @@
-// Copyright 2018-2019 Twitter, Inc.
-// Licensed under the MoPub SDK License Agreement
-// http://www.mopub.com/legal/sdk-license-agreement/
-
-package com.mopub.simpleadsdemo;
-
-public class LeaderboardDetailFragment extends AbstractBannerDetailFragment {
-
-    @Override
-    public int getWidth() {
-        return (int) getResources().getDimension(R.dimen.leaderboard_width);
-    }
-
-    @Override
-    public int getHeight() {
-        return (int) getResources().getDimension(R.dimen.leaderboard_height);
-    }
-}
diff --git a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/MediumRectangleDetailFragment.java b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/MediumRectangleDetailFragment.java
new file mode 100644
index 00000000..8ef3ecb7
--- /dev/null
+++ b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/MediumRectangleDetailFragment.java
@@ -0,0 +1,15 @@
+// Copyright 2018-2019 Twitter, Inc.
+// Licensed under the MoPub SDK License Agreement
+// http://www.mopub.com/legal/sdk-license-agreement/
+
+package com.mopub.simpleadsdemo;
+
+import com.mopub.mobileads.MoPubView;
+
+public class MediumRectangleDetailFragment extends AbstractBannerDetailFragment {
+
+    @Override
+    public MoPubView.MoPubAdSize getAdSize() {
+        return MoPubView.MoPubAdSize.HEIGHT_280;
+    }
+}
diff --git a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/MoPubSampleActivity.java b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/MoPubSampleActivity.java
index c39a0904..9c35e060 100644
--- a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/MoPubSampleActivity.java
+++ b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/MoPubSampleActivity.java
@@ -57,6 +57,7 @@
 public class MoPubSampleActivity extends AppCompatActivity
         implements NavigationView.OnNavigationItemSelectedListener {
     private static final List<String> REQUIRED_DANGEROUS_PERMISSIONS = new ArrayList<>();
+    private static final String SHOWING_CONSENT_DIALOG_KEY = "ShowingConsentDialog";
 
     static {
         REQUIRED_DANGEROUS_PERMISSIONS.add(ACCESS_COARSE_LOCATION);
@@ -77,6 +78,7 @@ private static void setWebDebugging() {
 
     private MoPubListFragment mMoPubListFragment;
     private Intent mDeeplinkIntent;
+    private boolean mShowingConsentDialog;
     @Nullable
     PersonalInfoManager mPersonalInfoManager;
 
@@ -95,6 +97,7 @@ protected void onCreate(Bundle savedInstanceState) {
         setContentView(R.layout.activity_main);
         Toolbar toolbar = findViewById(R.id.toolbar);
         setSupportActionBar(toolbar);
+        getSupportActionBar().setTitle(getString(R.string.app_title));
 
         setupNavigationDrawer(toolbar);
 
@@ -117,6 +120,8 @@ protected void onCreate(Bundle savedInstanceState) {
 
         if (savedInstanceState == null) {
             createMoPubListFragment(getIntent());
+        } else {
+            mShowingConsentDialog = savedInstanceState.getBoolean(SHOWING_CONSENT_DIALOG_KEY);
         }
 
         final SdkConfiguration.Builder configBuilder = new SdkConfiguration.Builder(
@@ -219,6 +224,7 @@ private ConsentDialogListener initDialogLoadListener() {
             public void onConsentDialogLoaded() {
                 if (mPersonalInfoManager != null) {
                     mPersonalInfoManager.showConsentDialog();
+                    mShowingConsentDialog = true;
                 }
             }
 
@@ -338,6 +344,21 @@ public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {
         return false;
     }
 
+    @Override
+    public void onSaveInstanceState(@NonNull final Bundle savedInstanceState) {
+        super.onSaveInstanceState(savedInstanceState);
+        savedInstanceState.putBoolean(SHOWING_CONSENT_DIALOG_KEY, mShowingConsentDialog);
+    }
+
+    @Override
+    public void onResume() {
+        super.onResume();
+        if (mShowingConsentDialog) {
+            mShowingConsentDialog = false;
+            Utils.logToast(MoPubSampleActivity.this, "Consent dialog dismissed");
+        }
+    }
+
     private void onImpressionsMenu() {
         final FragmentManager manager = getSupportFragmentManager();
         if (manager.findFragmentByTag(IMPRESSIONS_FRAGMENT_TAG) == null) {
diff --git a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/MoPubSampleAdUnit.java b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/MoPubSampleAdUnit.java
index 9236367a..3a154439 100644
--- a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/MoPubSampleAdUnit.java
+++ b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/MoPubSampleAdUnit.java
@@ -23,9 +23,7 @@
     // Note that entries are also sorted in this order
     enum AdType {
         BANNER("Banner", BannerDetailFragment.class),
-        MRECT("Mrect", MrectDetailFragment.class),
-        LEADERBOARD("Leaderboard", LeaderboardDetailFragment.class),
-        SKYSCRAPER("Skyscraper", SkyscraperDetailFragment.class),
+        MEDIUM_RECTANGLE("Medium Rectangle", MediumRectangleDetailFragment.class),
         INTERSTITIAL("Interstitial", InterstitialDetailFragment.class),
         REWARDED_VIDEO("Rewarded Video", RewardedVideoDetailFragment.class),
         LIST_VIEW("Native List View", NativeListViewFragment.class),
@@ -68,12 +66,8 @@ static AdType fromDeeplinkString(@Nullable final String adType) {
                     return BANNER;
                 case "interstitial":
                     return INTERSTITIAL;
-                case "mrect":
-                    return MRECT;
-                case "leaderboard":
-                    return LEADERBOARD;
-                case "skyscraper":
-                    return SKYSCRAPER;
+                case "mediumrectangle":
+                    return MEDIUM_RECTANGLE;
                 case "rewarded":
                     return REWARDED_VIDEO;
                 case "native":
diff --git a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/MrectDetailFragment.java b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/MrectDetailFragment.java
deleted file mode 100644
index 4cc954db..00000000
--- a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/MrectDetailFragment.java
+++ /dev/null
@@ -1,18 +0,0 @@
-// Copyright 2018-2019 Twitter, Inc.
-// Licensed under the MoPub SDK License Agreement
-// http://www.mopub.com/legal/sdk-license-agreement/
-
-package com.mopub.simpleadsdemo;
-
-public class MrectDetailFragment extends AbstractBannerDetailFragment {
-
-    @Override
-    public int getWidth() {
-        return (int) getResources().getDimension(R.dimen.mrect_width);
-    }
-
-    @Override
-    public int getHeight() {
-        return (int) getResources().getDimension(R.dimen.mrect_height);
-    }
-}
diff --git a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/NativeGalleryFragment.java b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/NativeGalleryFragment.java
index 5e3c7d0f..77efa4a0 100644
--- a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/NativeGalleryFragment.java
+++ b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/NativeGalleryFragment.java
@@ -154,11 +154,14 @@ public void onClick(View view) {
 
         // This ad placer is used to automatically insert ads into the ViewPager.
         mStreamAdPlacer = new MoPubStreamAdPlacer(getActivity());
+
+        // The first renderer that can handle a particular native ad gets used.
+        // We are prioritizing network renderers.
         mStreamAdPlacer.registerAdRenderer(googlePlayServicesAdRenderer);
         mStreamAdPlacer.registerAdRenderer(flurryRenderer);
+        mStreamAdPlacer.registerAdRenderer(facebookAdRenderer);
         mStreamAdPlacer.registerAdRenderer(moPubStaticNativeAdRenderer);
         mStreamAdPlacer.registerAdRenderer(moPubVideoNativeAdRenderer);
-        mStreamAdPlacer.registerAdRenderer(facebookAdRenderer);
         mStreamAdPlacer.setAdLoadedListener(this);
 
         mPagerAdapter = new CustomPagerAdapter(getChildFragmentManager(), mStreamAdPlacer);
diff --git a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/NativeListViewFragment.java b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/NativeListViewFragment.java
index aeccf651..090e7906 100644
--- a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/NativeListViewFragment.java
+++ b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/NativeListViewFragment.java
@@ -156,11 +156,13 @@ public void onClick(View view) {
                         .build());
 
         // Register the renderers with the MoPubAdAdapter and then set the adapter on the ListView.
+        // The first renderer that can handle a particular native ad gets used.
+        // We are prioritizing network renderers.
         mAdAdapter.registerAdRenderer(googlePlayServicesAdRenderer);
         mAdAdapter.registerAdRenderer(flurryRenderer);
-        mAdAdapter.registerAdRenderer(videoAdRenderer);
-        mAdAdapter.registerAdRenderer(staticAdRender);
         mAdAdapter.registerAdRenderer(facebookAdRenderer);
+        mAdAdapter.registerAdRenderer(staticAdRender);
+        mAdAdapter.registerAdRenderer(videoAdRenderer);
         listView.setAdapter(mAdAdapter);
 
         mAdAdapter.loadAds(mAdConfiguration.getAdUnitId(), mRequestParameters);
diff --git a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/NativeRecyclerViewFragment.java b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/NativeRecyclerViewFragment.java
index 75b7de1e..d0217bcd 100644
--- a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/NativeRecyclerViewFragment.java
+++ b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/NativeRecyclerViewFragment.java
@@ -166,11 +166,13 @@ public void onClick(final View v) {
                         .privacyInformationIconImageId(R.id.native_privacy_information_icon_image)
                         .build());
 
+        // The first renderer that can handle a particular native ad gets used.
+        // We are prioritizing network renderers.
         mRecyclerAdapter.registerAdRenderer(googlePlayServicesAdRenderer);
         mRecyclerAdapter.registerAdRenderer(flurryRenderer);
+        mRecyclerAdapter.registerAdRenderer(facebookAdRenderer);
         mRecyclerAdapter.registerAdRenderer(moPubStaticNativeAdRenderer);
         mRecyclerAdapter.registerAdRenderer(moPubVideoNativeAdRenderer);
-        mRecyclerAdapter.registerAdRenderer(facebookAdRenderer);
 
         mRecyclerView.setAdapter(mRecyclerAdapter);
         mRecyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));
diff --git a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/RewardedVideoDetailFragment.java b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/RewardedVideoDetailFragment.java
index 7d27a70e..933f8a94 100644
--- a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/RewardedVideoDetailFragment.java
+++ b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/RewardedVideoDetailFragment.java
@@ -6,12 +6,15 @@
 
 import android.app.AlertDialog;
 import android.app.Dialog;
+import android.content.Context;
 import android.content.DialogInterface;
 import android.os.Bundle;
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
 import android.support.v4.app.DialogFragment;
 import android.support.v4.app.Fragment;
+import android.support.v7.widget.LinearLayoutManager;
+import android.support.v7.widget.RecyclerView;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
@@ -37,6 +40,30 @@
     @Nullable private String mAdUnitId;
     @Nullable private Map<String, MoPubReward> mMoPubRewardsMap;
     @Nullable private MoPubReward mSelectedReward;
+    @Nullable private CallbacksAdapter mCallbacksAdapter;
+
+    private enum RewardedCallbacks {
+        LOADED("onRewardedVideoLoadSuccess"),
+        FAILED("onRewardedVideoLoadFailed"),
+        STARTED("onRewardedVideoStarted"),
+        PLAY_ERROR("onRewardedVideoPlaybackError"),
+        CLICKED("onRewardedVideoClicked"),
+        CLOSED("onRewardedVideoClosed"),
+        COMPLETED("onRewardedVideoCompleted");
+
+        RewardedCallbacks(@NonNull final String name) {
+            this.name = name;
+        }
+
+        @NonNull
+        private final String name;
+
+        @Override
+        @NonNull
+        public String toString() {
+            return name;
+        }
+    }
 
     @Override
     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
@@ -63,6 +90,9 @@ public void onClick(View view) {
                 if (mAdUnitId == null) {
                     return;
                 }
+                if (mCallbacksAdapter != null) {
+                    mCallbacksAdapter.generateCallbackList(RewardedCallbacks.class);
+                }
                 MoPubRewardedVideos.loadRewardedVideo(mAdUnitId,
                         new RequestParameters(views.mKeywordsField.getText().toString(), views.mUserDataKeywordsField.getText().toString(),null,
                                 "sample_app_customer_id"));
@@ -91,6 +121,15 @@ public void onClick(View view) {
             views.mCustomDataField.setVisibility(View.VISIBLE);
         }
 
+        final RecyclerView callbacksView = view.findViewById(R.id.callbacks_recycler_view);
+        final Context context = getContext();
+        if (callbacksView != null && context != null) {
+            callbacksView.setLayoutManager(new LinearLayoutManager(context));
+            mCallbacksAdapter = new CallbacksAdapter(context);
+            mCallbacksAdapter.generateCallbackList(RewardedCallbacks.class);
+            callbacksView.setAdapter(mCallbacksAdapter);
+        }
+
         return view;
     }
 
@@ -107,7 +146,11 @@ public void onRewardedVideoLoadSuccess(@NonNull final String adUnitId) {
             if (mShowButton != null) {
                 mShowButton.setEnabled(true);
             }
-            logToast(getActivity(), "Rewarded video loaded.");
+            if (mCallbacksAdapter == null) {
+                logToast(getActivity(), "Rewarded video loaded.");
+            } else {
+                mCallbacksAdapter.notifyCallbackCalled(RewardedCallbacks.LOADED.toString());
+            }
 
             Set<MoPubReward> availableRewards = MoPubRewardedVideos.getAvailableRewards(mAdUnitId);
 
@@ -143,46 +186,68 @@ public void onRewardedVideoLoadFailure(@NonNull final String adUnitId, @NonNull
             if (mShowButton != null) {
                 mShowButton.setEnabled(false);
             }
-            logToast(getActivity(), String.format(Locale.US, "Rewarded video failed to load: %s",
-                    errorCode.toString()));
+            if (mCallbacksAdapter == null) {
+                logToast(getActivity(), String.format(Locale.US, "Rewarded video failed to load: %s",
+                        errorCode.toString()));
+                return;
+            }
+            mCallbacksAdapter.notifyCallbackCalled(RewardedCallbacks.FAILED.toString(),
+                    errorCode.toString());
         }
     }
 
     @Override
     public void onRewardedVideoStarted(@NonNull final String adUnitId) {
         if (adUnitId.equals(mAdUnitId)) {
-            logToast(getActivity(), "Rewarded video started.");
             if (mShowButton != null) {
                 mShowButton.setEnabled(false);
             }
+            if (mCallbacksAdapter == null) {
+                logToast(getActivity(), "Rewarded video started.");
+                return;
+            }
+            mCallbacksAdapter.notifyCallbackCalled(RewardedCallbacks.STARTED.toString());
         }
     }
 
     @Override
     public void onRewardedVideoPlaybackError(@NonNull final String adUnitId, @NonNull final MoPubErrorCode errorCode) {
         if (adUnitId.equals(mAdUnitId)) {
-            logToast(getActivity(), String.format(Locale.US, "Rewarded video playback error: %s",
-                    errorCode.toString()));
             if (mShowButton != null) {
                 mShowButton.setEnabled(false);
             }
+            if (mCallbacksAdapter == null) {
+                logToast(getActivity(), String.format(Locale.US, "Rewarded video playback error: %s",
+                        errorCode.toString()));
+                return;
+            }
+            mCallbacksAdapter.notifyCallbackCalled(RewardedCallbacks.PLAY_ERROR.toString(),
+                    errorCode.toString());
         }
     }
 
     @Override
     public void onRewardedVideoClicked(@NonNull final String adUnitId) {
         if (adUnitId.equals(mAdUnitId)) {
-            logToast(getActivity(), "Rewarded video clicked.");
+            if (mCallbacksAdapter == null) {
+                logToast(getActivity(), "Rewarded video clicked.");
+                return;
+            }
+            mCallbacksAdapter.notifyCallbackCalled(RewardedCallbacks.CLICKED.toString());
         }
     }
 
     @Override
     public void onRewardedVideoClosed(@NonNull final String adUnitId) {
         if (adUnitId.equals(mAdUnitId)) {
-            logToast(getActivity(), "Rewarded video closed.");
             if (mShowButton != null) {
                 mShowButton.setEnabled(false);
             }
+            if (mCallbacksAdapter == null) {
+                logToast(getActivity(), "Rewarded video closed.");
+                return;
+            }
+            mCallbacksAdapter.notifyCallbackCalled(RewardedCallbacks.CLOSED.toString());
         }
     }
 
@@ -190,11 +255,15 @@ public void onRewardedVideoClosed(@NonNull final String adUnitId) {
     public void onRewardedVideoCompleted(@NonNull final Set<String> adUnitIds,
             @NonNull final MoPubReward reward) {
         if (adUnitIds.contains(mAdUnitId)) {
-            logToast(getActivity(),
-                    String.format(Locale.US,
-                            "Rewarded video completed with reward  \"%d %s\"",
-                            reward.getAmount(),
-                            reward.getLabel()));
+            final String message = String.format(Locale.US,
+                    "Rewarded video completed with reward  \"%d %s\"",
+                    reward.getAmount(),
+                    reward.getLabel());
+            if (mCallbacksAdapter == null) {
+                logToast(getActivity(), message);
+                return;
+            }
+            mCallbacksAdapter.notifyCallbackCalled(RewardedCallbacks.COMPLETED.toString(), message);
         }
     }
 
diff --git a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/SkyscraperDetailFragment.java b/mopub-sample/src/main/java/com/mopub/simpleadsdemo/SkyscraperDetailFragment.java
deleted file mode 100644
index 00f34dfd..00000000
--- a/mopub-sample/src/main/java/com/mopub/simpleadsdemo/SkyscraperDetailFragment.java
+++ /dev/null
@@ -1,18 +0,0 @@
-// Copyright 2018-2019 Twitter, Inc.
-// Licensed under the MoPub SDK License Agreement
-// http://www.mopub.com/legal/sdk-license-agreement/
-
-package com.mopub.simpleadsdemo;
-
-public class SkyscraperDetailFragment extends AbstractBannerDetailFragment {
-
-    @Override
-    public int getWidth() {
-        return (int) getResources().getDimension(R.dimen.skyscraper_width);
-    }
-
-    @Override
-    public int getHeight() {
-        return (int) getResources().getDimension(R.dimen.skyscraper_height);
-    }
-}
diff --git a/mopub-sdk/mopub-sdk-base/res/values/mopub_attrs.xml b/mopub-sdk/mopub-sdk-base/res/values/mopub_attrs.xml
new file mode 100644
index 00000000..fd95f077
--- /dev/null
+++ b/mopub-sdk/mopub-sdk-base/res/values/mopub_attrs.xml
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <declare-styleable name="MoPubView">
+        <attr name="moPubAdSize" format="enum">
+            <enum name="match_view" value="-1"/>
+            <enum name="height_50" value="50"/>
+            <enum name="height_90" value="90"/>
+            <enum name="height_250" value="250"/>
+            <enum name="height_280" value="280"/>
+        </attr>
+    </declare-styleable>
+</resources>
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/AdUrlGenerator.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/AdUrlGenerator.java
index 316c214f..cf47b34b 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/AdUrlGenerator.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/AdUrlGenerator.java
@@ -5,14 +5,17 @@
 package com.mopub.common;
 
 import android.content.Context;
+import android.graphics.Point;
 import android.location.Location;
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
 import android.text.TextUtils;
+import android.view.WindowInsets;
 
 import com.mopub.common.privacy.ConsentData;
 import com.mopub.common.privacy.PersonalInfoManager;
 import com.mopub.common.util.DateAndTime;
+import com.mopub.mobileads.MoPubView;
 import com.mopub.network.RequestRateTracker;
 
 import static com.mopub.common.ClientMetadata.MoPubNetworkType;
@@ -130,6 +133,8 @@
     protected String mKeywords;
     protected String mUserDataKeywords;
     protected Location mLocation;
+    protected Point mRequestedAdSize;
+    protected WindowInsets mWindowInsets;
     @Nullable private final PersonalInfoManager mPersonalInfoManager;
     @Nullable private final ConsentData mConsentData;
     protected Boolean mForceGdprApplies;
@@ -164,6 +169,16 @@ public AdUrlGenerator withLocation(Location location) {
         return this;
     }
 
+    public AdUrlGenerator withRequestedAdSize(final Point adSize) {
+        mRequestedAdSize = adSize;
+        return this;
+    }
+
+    public AdUrlGenerator withWindowInsets(final WindowInsets windowInsets) {
+        mWindowInsets = windowInsets;
+        return this;
+    }
+
     protected void setAdUnitId(String adUnitId) {
         addParam(AD_UNIT_ID_KEY, adUnitId);
     }
@@ -308,6 +323,7 @@ protected void addBaseParams(final ClientMetadata clientMetadata) {
         setAdUnitId(mAdUnitId);
 
         setSdkVersion(clientMetadata.getSdkVersion());
+        appendAppEngineInfo();
         setDeviceInfo(clientMetadata.getDeviceManufacturer(),
                 clientMetadata.getDeviceModel(),
                 clientMetadata.getDeviceProduct());
@@ -323,7 +339,7 @@ protected void addBaseParams(final ClientMetadata clientMetadata) {
         setTimezone(DateAndTime.getTimeZoneOffsetString());
 
         setOrientation(clientMetadata.getOrientationString());
-        setDeviceDimensions(clientMetadata.getDeviceDimensions());
+        setDeviceDimensions(clientMetadata.getDeviceDimensions(), mRequestedAdSize, mWindowInsets);
         setDensity(clientMetadata.getDensity());
 
         final String networkOperator = clientMetadata.getNetworkOperatorForUrl();
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/AppEngineInfo.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/AppEngineInfo.java
new file mode 100644
index 00000000..d50d9625
--- /dev/null
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/AppEngineInfo.java
@@ -0,0 +1,31 @@
+// Copyright 2018-2019 Twitter, Inc.
+// Licensed under the MoPub SDK License Agreement
+// http://www.mopub.com/legal/sdk-license-agreement/
+
+package com.mopub.common;
+
+import android.support.annotation.NonNull;
+
+/**
+ * Application engine information is optional data that is sent to the MoPub server
+ * and used for analytics purposes
+ */
+public final class AppEngineInfo {
+    @NonNull
+    final String mName;
+    @NonNull
+    final String mVersion;
+
+    /**
+     *
+     * @param name application engine name, for example "unity"
+     * @param version application engine version, for example "2017.1.2f2"
+     */
+    public AppEngineInfo(@NonNull String name, @NonNull String version) {
+        Preconditions.checkNotNull(name);
+        Preconditions.checkNotNull(version);
+
+        mName = name;
+        mVersion = version;
+    }
+}
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/BaseUrlGenerator.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/BaseUrlGenerator.java
index 198a7d6d..33acd3fb 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/BaseUrlGenerator.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/BaseUrlGenerator.java
@@ -6,8 +6,12 @@
 
 import android.graphics.Point;
 import android.net.Uri;
+import android.os.Build;
 import android.support.annotation.NonNull;
+import android.support.annotation.Nullable;
 import android.text.TextUtils;
+import android.view.DisplayCutout;
+import android.view.WindowInsets;
 
 import com.mopub.network.Networking;
 import com.mopub.network.PlayServicesUrlRewriter;
@@ -34,6 +38,11 @@
      */
     protected static final String DNT_KEY = "dnt";
 
+    /**
+     * Always the mopub-generated identifier.
+     */
+    protected static final String MOPUB_ID_KEY = "mid";
+
     /**
      * Bundle ID, as in package name.
      */
@@ -68,8 +77,33 @@
     private static final String WIDTH_KEY = "w";
     private static final String HEIGHT_KEY = "h";
 
+    /**
+     * The width of the screen's safe area. See
+     * https://developer.android.com/guide/topics/display-cutout
+     * for details on how this is calculated.
+     */
+    private static final String SAFE_WIDTH_KEY = "cw";
+
+    /**
+     * The height of the screen's safe area. See
+     * https://developer.android.com/guide/topics/display-cutout
+     * for details on how this is calculated.
+     */
+    private static final String SAFE_HEIGHT_KEY = "ch";
+
+    /**
+     * Optional parameter to pass application engine name
+     */
+    private static final String APP_ENGINE_NAME = "e_name";
+
+    /**
+     * Optional, version of the application engine
+     */
+    private static final String APP_ENGINE_VERSION = "e_ver";
+
     private StringBuilder mStringBuilder;
     private boolean mFirstParam;
+    private static AppEngineInfo mAppEngineInfo = null;
 
     public abstract String generateUrlString(String serverHostname);
 
@@ -146,14 +180,55 @@ protected void setDeviceInfo(String... info) {
     protected void appendAdvertisingInfoTemplates() {
         addParam(UDID_KEY, PlayServicesUrlRewriter.UDID_TEMPLATE);
         addParam(DNT_KEY, PlayServicesUrlRewriter.DO_NOT_TRACK_TEMPLATE);
+        addParam(MOPUB_ID_KEY, PlayServicesUrlRewriter.MOPUB_ID_TEMPLATE);
+    }
+
+    /**
+     *
+     * @param engineInfo {@link com.mopub.common.AppEngineInfo}
+     */
+    public static void setAppEngineInfo(@NonNull final AppEngineInfo engineInfo) {
+        mAppEngineInfo = engineInfo;
+    }
+
+    /**
+     * Add parameters 'e_name' and 'e_ver' to the URL
+     */
+    protected void appendAppEngineInfo() {
+        final AppEngineInfo info = mAppEngineInfo;
+        if (info != null) {
+            addParam(APP_ENGINE_NAME, info.mName);
+            addParam(APP_ENGINE_VERSION, info.mVersion);
+        }
     }
 
     /**
      * Adds the width and height.
      *
      * @param dimensions The width and height of the screen
+     * @param requestedAdSize The requested width and height for the ad.
+     * @param windowInsets The WindowInsets for the current window.
      */
-    protected void setDeviceDimensions(@NonNull final Point dimensions) {
+    protected void setDeviceDimensions(@NonNull final Point dimensions, 
+                                       @Nullable final Point requestedAdSize,
+                                       @Nullable final WindowInsets windowInsets) {
+        final int requestedWidth = ((requestedAdSize != null) ? requestedAdSize.x : 0);
+        final int requestedHeight = ((requestedAdSize != null) ? requestedAdSize.y : 0);
+      
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.P
+                && windowInsets != null
+                && windowInsets.getDisplayCutout() != null) {
+            final DisplayCutout displayCutout = windowInsets.getDisplayCutout();
+            final int safeWidth = dimensions.x - displayCutout.getSafeInsetLeft() - displayCutout.getSafeInsetRight();
+            final int safeHeight = dimensions.y - displayCutout.getSafeInsetTop() - displayCutout.getSafeInsetBottom();
+          
+            addParam(SAFE_WIDTH_KEY, "" + Math.min(safeWidth, requestedWidth));
+            addParam(SAFE_HEIGHT_KEY, "" + Math.min(safeHeight, requestedHeight));
+        } else {
+            addParam(SAFE_WIDTH_KEY, "" + requestedWidth);
+            addParam(SAFE_HEIGHT_KEY, "" + requestedHeight);
+        }
+      
         addParam(WIDTH_KEY, "" + dimensions.x);
         addParam(HEIGHT_KEY, "" + dimensions.y);
     }
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/MoPub.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/MoPub.java
index f7a5ea74..9badb91b 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/MoPub.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/MoPub.java
@@ -10,6 +10,7 @@
 import android.os.Looper;
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
+import android.text.TextUtils;
 
 import com.mopub.common.logging.MoPubLog;
 import com.mopub.common.privacy.PersonalInfoManager;
@@ -27,7 +28,7 @@
 import static com.mopub.common.logging.MoPubLog.SdkLogEvent.INIT_FINISHED;
 
 public class MoPub {
-    public static final String SDK_VERSION = "5.7.1";
+    public static final String SDK_VERSION = "5.8.0";
 
     public enum LocationAwareness { NORMAL, TRUNCATED, DISABLED }
 
@@ -141,6 +142,19 @@ public static BrowserAgent getBrowserAgent() {
         return sBrowserAgent;
     }
 
+    /**
+     * Set optional application engine information, for example {'unity', "123"}
+     *
+     * @param engineInfo {@link com.mopub.common.AppEngineInfo}
+     */
+    public static void setEngineInformation(@NonNull final AppEngineInfo engineInfo) {
+        Preconditions.checkNotNull(engineInfo);
+
+        if (!TextUtils.isEmpty(engineInfo.mName) && !TextUtils.isEmpty(engineInfo.mVersion)) {
+            BaseUrlGenerator.setAppEngineInfo(engineInfo);
+        }
+    }
+
     /**
      * Initializes the MoPub SDK. Call this before making any rewarded ads or advanced bidding
      * requests. This will do the rewarded video custom event initialization any number of times,
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/MoPubBrowser.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/MoPubBrowser.java
index 86c30d1f..2148e91d 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/MoPubBrowser.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/MoPubBrowser.java
@@ -159,6 +159,19 @@ protected void onPause() {
     @Override
     protected void onResume() {
         super.onResume();
+
+        int flags = View.SYSTEM_UI_FLAG_LOW_PROFILE
+                | View.SYSTEM_UI_FLAG_FULLSCREEN
+                | View.SYSTEM_UI_FLAG_LAYOUT_STABLE
+                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION
+                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;
+
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) {
+            flags |= View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY;
+        }
+
+        mWebView.setSystemUiVisibility(flags);
+
         CookieSyncManager.getInstance().startSync();
         mWebView.setWebChromeClient(new WebChromeClient() {
             public void onProgressChanged(WebView webView, int progress) {
@@ -249,4 +262,10 @@ private ImageButton getButton(final Drawable drawable) {
     void setWebView(WebView webView) {
         mWebView = webView;
     }
+
+    @Deprecated
+    @VisibleForTesting
+    int getSystemUiVisibility() {
+        return mWebView.getSystemUiVisibility();
+    }
 }
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/SdkConfiguration.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/SdkConfiguration.java
index 496d6396..a8ad5dc0 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/SdkConfiguration.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/SdkConfiguration.java
@@ -5,6 +5,10 @@
 package com.mopub.common;
 
 import android.support.annotation.NonNull;
+import android.text.TextUtils;
+
+import com.mopub.common.logging.MoPubLog;
+import com.mopub.mobileads.base.BuildConfig;
 
 import java.util.Arrays;
 import java.util.Collections;
@@ -13,6 +17,7 @@
 import java.util.Set;
 
 import static com.mopub.common.logging.MoPubLog.LogLevel;
+import static com.mopub.common.logging.MoPubLog.SdkLogEvent.INIT_FAILED;
 
 /**
  * Data object holding any SDK initialization parameters.
@@ -126,9 +131,19 @@ public boolean getLegitimateInterestAllowed() {
          * Use this builder instead of creating a new SdkConfiguration. This Builder needs any ad
          * unit that is used by this app.
          *
-         * @param adUnitId Any ad unit id used by this app. This cannot be null.
+         * @param adUnitId Any ad unit id used by this app. This cannot be empty.
          */
         public Builder(@NonNull final String adUnitId) {
+            if (TextUtils.isEmpty(adUnitId)) {
+                final IllegalArgumentException iae = new
+                        IllegalArgumentException("Ad unit cannot be empty at initialization");
+                MoPubLog.setLogLevel(MoPubLog.getLogLevel());
+                MoPubLog.log(INIT_FAILED, "Pass in an ad unit used by this app", iae);
+                if (BuildConfig.DEBUG) {
+                    throw iae;
+                }
+            }
+
             this.adUnitId = adUnitId;
             adapterConfigurations = DefaultAdapterClasses.getClassNamesSet();
             mediationSettings = new MediationSettings[0];
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/logging/MoPubLog.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/logging/MoPubLog.java
index 4cd7e5da..296e5b77 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/logging/MoPubLog.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/logging/MoPubLog.java
@@ -550,6 +550,8 @@ public LogLevel getLogLevel() {
         // Comma delimited string of advanced bidder that were initialized, or "No bidders initialized."
         INIT_FINISHED(LogLevel.INFO, "SDK initialized and ready to display ads.\nInitialized adapters:\n{0}"),
 
+        INIT_FAILED(LogLevel.INFO, "SDK initialization failed - {0}\n{1}"),
+
         // Params:
         // Custom message string
         CUSTOM(LogLevel.DEBUG, "SDK Log - {0}"),
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/privacy/ConsentDialogUrlGenerator.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/privacy/ConsentDialogUrlGenerator.java
index 67658744..d66fc9ae 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/privacy/ConsentDialogUrlGenerator.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/privacy/ConsentDialogUrlGenerator.java
@@ -76,6 +76,7 @@ public String generateUrlString(String serverHostname) {
         addParam(AD_UNIT_ID_KEY, mAdUnitId);
         addParam(CURRENT_CONSENT_STATUS_KEY, mCurrentConsentStatus);
         addParam(SDK_VERSION_KEY, MoPub.SDK_VERSION);
+        appendAppEngineInfo();
         addParam(LANGUAGE_KEY, ClientMetadata.getCurrentLanguage(mContext));
         addParam(GDPR_APPLIES, mGdprApplies);
         addParam(FORCE_GDPR_APPLIES, mForceGdprApplies);
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/privacy/PersonalInfoData.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/privacy/PersonalInfoData.java
index 95349b91..e814e90b 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/privacy/PersonalInfoData.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/privacy/PersonalInfoData.java
@@ -23,6 +23,7 @@
     private static final String PERSONAL_INFO_DATA_SHARED_PREFS = "com.mopub.privacy";
     private static final String PERSONAL_INFO_PREFIX = "info/";
     private static final String AD_UNIT_ID_SP_KEY = PERSONAL_INFO_PREFIX + "adunit";
+    private static final String CACHED_LAST_AD_UNIT_ID_USED_FOR_INIT_SP_KEY = PERSONAL_INFO_PREFIX + "cached_last_ad_unit_id_used_for_init";
     private static final String CONSENT_STATUS_SP_KEY = PERSONAL_INFO_PREFIX + "consent_status";
     private static final String LAST_SUCCESSFULLY_SYNCED_CONSENT_STATUS_SP_KEY = PERSONAL_INFO_PREFIX + "last_successfully_synced_consent_status";
     private static final String IS_WHITELISTED_SP_KEY = PERSONAL_INFO_PREFIX + "is_whitelisted";
@@ -53,6 +54,7 @@
 
     // Values that are locally generated
     @NonNull private String mAdUnitId;
+    @Nullable private String mCachedLastAdUnitIdUsedForInit;
     @NonNull private ConsentStatus mConsentStatus;
     @Nullable private ConsentStatus mLastSuccessfullySyncedConsentStatus;
     @Nullable private String mConsentChangeReason;
@@ -76,20 +78,21 @@
     private boolean mReacquireConsent;
     @Nullable private Boolean mGdprApplies;
 
-    PersonalInfoData(@NonNull final Context context, @NonNull final String adUnitId) {
+    PersonalInfoData(@NonNull final Context context) {
         Preconditions.checkNotNull(context);
-        Preconditions.checkNotNull(adUnitId);
 
         mAppContext = context.getApplicationContext();
         mConsentStatus = ConsentStatus.UNKNOWN;
+        mAdUnitId = "";
         getStateFromDisk();
-        mAdUnitId = adUnitId;
     }
 
     private void getStateFromDisk() {
         final SharedPreferences sharedPreferences = SharedPreferencesHelper.getSharedPreferences(
                 mAppContext, PERSONAL_INFO_DATA_SHARED_PREFS);
         mAdUnitId = sharedPreferences.getString(AD_UNIT_ID_SP_KEY, "");
+        mCachedLastAdUnitIdUsedForInit = sharedPreferences.getString(
+                CACHED_LAST_AD_UNIT_ID_USED_FOR_INIT_SP_KEY, null);
         mConsentStatus = ConsentStatus.fromString(sharedPreferences.getString(
                 CONSENT_STATUS_SP_KEY, ConsentStatus.UNKNOWN.name()));
         final String lastSuccessfullySyncedConsentStatusString = sharedPreferences.getString(
@@ -143,6 +146,7 @@ void writeToDisk() {
         final SharedPreferences.Editor editor = SharedPreferencesHelper.getSharedPreferences(
                 mAppContext, PERSONAL_INFO_DATA_SHARED_PREFS).edit();
         editor.putString(AD_UNIT_ID_SP_KEY, mAdUnitId);
+        editor.putString(CACHED_LAST_AD_UNIT_ID_USED_FOR_INIT_SP_KEY, mCachedLastAdUnitIdUsedForInit);
         editor.putString(CONSENT_STATUS_SP_KEY, mConsentStatus.name());
         editor.putString(LAST_SUCCESSFULLY_SYNCED_CONSENT_STATUS_SP_KEY,
                 mLastSuccessfullySyncedConsentStatus == null ? null : mLastSuccessfullySyncedConsentStatus.name());
@@ -174,6 +178,28 @@ String getAdUnitId() {
         return mAdUnitId;
     }
 
+    void setAdUnit(@NonNull final String adUnitId) {
+        mAdUnitId = adUnitId;
+    }
+
+    @Nullable
+    String getCachedLastAdUnitIdUsedForInit() {
+        return mCachedLastAdUnitIdUsedForInit;
+    }
+
+    void setCachedLastAdUnitIdUsedForInit(@NonNull final String adUnitId) {
+        mCachedLastAdUnitIdUsedForInit = adUnitId;
+    }
+
+    @Nullable
+    String chooseAdUnit() {
+        final String adUnitId = mAdUnitId;
+        if (!TextUtils.isEmpty(adUnitId)) {
+            return adUnitId;
+        }
+        return mCachedLastAdUnitIdUsedForInit;
+    }
+
     @NonNull
     ConsentStatus getConsentStatus() {
         return mConsentStatus;
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/privacy/PersonalInfoManager.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/privacy/PersonalInfoManager.java
index b3552c17..58423bd8 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/privacy/PersonalInfoManager.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/privacy/PersonalInfoManager.java
@@ -83,7 +83,13 @@ public PersonalInfoManager(@NonNull final Context context, @NonNull final String
 
         mConsentDialogController = new ConsentDialogController(mAppContext);
 
-        mPersonalInfoData = new PersonalInfoData(mAppContext, adUnitId);
+        mPersonalInfoData = new PersonalInfoData(mAppContext);
+        if (!TextUtils.isEmpty(adUnitId) &&
+                !adUnitId.equals(mPersonalInfoData.getCachedLastAdUnitIdUsedForInit())) {
+            mPersonalInfoData.setAdUnit("");
+            mPersonalInfoData.setCachedLastAdUnitIdUsedForInit(adUnitId);
+            mPersonalInfoData.writeToDisk();
+        }
 
         mConversionTracker = new MoPubConversionTracker(mAppContext);
 
@@ -140,7 +146,8 @@ public void onIdChanged(@NonNull final AdvertisingId oldId,
      * @return True for yes, false for no.
      */
     public boolean shouldShowConsentDialog() {
-        if (gdprApplies() == null || !gdprApplies()) {
+        final Boolean gdprApplies = gdprApplies();
+        if (gdprApplies == null || !gdprApplies) {
             return false;
         }
 
@@ -448,7 +455,7 @@ void requestSync() {
         mLastSyncRequestTimeUptimeMs = SystemClock.uptimeMillis();
         final SyncUrlGenerator syncUrlGenerator = new SyncUrlGenerator(mAppContext,
                 mSyncRequestConsentStatus.getValue());
-        syncUrlGenerator.withAdUnitId(mPersonalInfoData.getAdUnitId())
+        syncUrlGenerator.withAdUnitId(mPersonalInfoData.chooseAdUnit())
                 .withUdid(mPersonalInfoData.getUdid())
                 .withLastChangedMs(mPersonalInfoData.getLastChangedMs())
                 .withLastConsentStatus(mPersonalInfoData.getLastSuccessfullySyncedConsentStatus())
@@ -478,7 +485,7 @@ void requestSync() {
      * @return ConsentData which is a snapshot of the underlying data store.
      */
     public ConsentData getConsentData() {
-        return new PersonalInfoData(mAppContext, mPersonalInfoData.getAdUnitId());
+        return new PersonalInfoData(mAppContext);
     }
 
     /**
@@ -622,6 +629,12 @@ public void onSuccess(final SyncResponse response) {
                 }
             }
 
+            final String cachedLastAdUnitIdUsedForInit =
+                    mPersonalInfoData.getCachedLastAdUnitIdUsedForInit();
+            if (!TextUtils.isEmpty(cachedLastAdUnitIdUsedForInit) &&
+                    mPersonalInfoData.getAdUnitId().isEmpty()) {
+                mPersonalInfoData.setAdUnit(cachedLastAdUnitIdUsedForInit);
+            }
             mPersonalInfoData.setLastSuccessfullySyncedConsentStatus(mSyncRequestConsentStatus);
             mPersonalInfoData.setWhitelisted(response.isWhitelisted());
             mPersonalInfoData.setCurrentVendorListVersion(response.getCurrentVendorListVersion());
@@ -747,6 +760,17 @@ public void onReacquireConsent(@Nullable final String consentChangeReason) {
         public void onForceGdprApplies() {
             forceGdprApplies();
         }
+
+        @Override
+        public void onRequestSuccess(@Nullable final String adUnitId) {
+            // Cache the ad unit if the ad request succeeded
+            if (!TextUtils.isEmpty(mPersonalInfoData.getAdUnitId()) ||
+                    TextUtils.isEmpty(adUnitId)) {
+                return;
+            }
+            mPersonalInfoData.setAdUnit(adUnitId);
+            mPersonalInfoData.writeToDisk();
+        }
     }
 
     @NonNull
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/privacy/SyncUrlGenerator.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/privacy/SyncUrlGenerator.java
index 15d8792a..c234c94c 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/privacy/SyncUrlGenerator.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/common/privacy/SyncUrlGenerator.java
@@ -141,6 +141,7 @@ public String generateUrlString(@NonNull final String serverHostname) {
 
         addParam(AD_UNIT_ID_KEY, mAdUnitId);
         addParam(SDK_VERSION_KEY, MoPub.SDK_VERSION);
+        appendAppEngineInfo();
         addParam(LAST_CHANGED_MS_KEY, mLastChangedMs);
         addParam(LAST_CONSENT_STATUS_KEY, mLastConsentStatus);
         addParam(CURRENT_CONSENT_STATUS_KEY, mCurrentConsentStatus);
@@ -155,6 +156,7 @@ public String generateUrlString(@NonNull final String serverHostname) {
         addParam(FORCED_GDPR_APPLIES_CHANGED, mForceGdprAppliesChanged);
         addParam(BUNDLE_ID_KEY, ClientMetadata.getInstance(mContext).getAppPackageName());
         addParam(DNT_KEY, PlayServicesUrlRewriter.DO_NOT_TRACK_TEMPLATE);
+        addParam(MOPUB_ID_KEY, PlayServicesUrlRewriter.MOPUB_ID_TEMPLATE);
 
         return getFinalUrlString();
     }
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/AdViewController.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/AdViewController.java
index 85ef87f9..945ba143 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/AdViewController.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/AdViewController.java
@@ -6,6 +6,7 @@
 
 import android.annotation.SuppressLint;
 import android.content.Context;
+import android.graphics.Point;
 import android.location.Location;
 import android.net.ConnectivityManager;
 import android.net.NetworkInfo;
@@ -15,6 +16,7 @@
 import android.text.TextUtils;
 import android.view.Gravity;
 import android.view.View;
+import android.view.WindowInsets;
 import android.widget.FrameLayout;
 
 import com.mojang.base.Helper;
@@ -95,6 +97,8 @@
     private String mKeywords;
     private String mUserDataKeywords;
     private Location mLocation;
+    private Point mRequestedAdSize;
+    private WindowInsets mWindowInsets;
     private boolean mIsTesting;
     private boolean mAdWasLoaded;
     @Nullable private String mAdUnitId;
@@ -134,6 +138,10 @@ public void onErrorResponse(final VolleyError volleyError) {
 
         mRefreshRunnable = new Runnable() {
             public void run() {
+                final MoPubView moPubView = mMoPubView;
+                if (moPubView != null) {
+                    setRequestedAdSize(moPubView.resolveAdSize());
+                }
                 internalLoadAd();
             }
         };
@@ -456,6 +464,14 @@ public void setLocation(Location location) {
         mLocation = location;
     }
 
+    void setRequestedAdSize(final Point requestedAdSize) {
+        mRequestedAdSize = requestedAdSize;
+    }
+
+    public void setWindowInsets(final WindowInsets windowInsets) {
+        mWindowInsets = windowInsets;
+    }
+
     public String getAdUnitId() {
         return mAdUnitId;
     }
@@ -654,7 +670,9 @@ String generateAdUrl() {
                 .withAdUnitId(mAdUnitId)
                 .withKeywords(mKeywords)
                 .withUserDataKeywords(canCollectPersonalInformation ? mUserDataKeywords : null)
-                .withLocation(canCollectPersonalInformation ? mLocation : null);
+                .withLocation(canCollectPersonalInformation ? mLocation : null)
+                .withRequestedAdSize(mRequestedAdSize)
+                .withWindowInsets(mWindowInsets);
 
         return mUrlGenerator.generateUrlString(Constants.HOST);
     }
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/BaseVideoPlayerActivity.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/BaseVideoPlayerActivity.java
index 8426031e..92c09dc6 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/BaseVideoPlayerActivity.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/BaseVideoPlayerActivity.java
@@ -9,12 +9,15 @@
 import android.content.Context;
 import android.content.Intent;
 import android.media.AudioManager;
+import android.support.annotation.Nullable;
 
 import com.mopub.common.Constants;
+import com.mopub.common.CreativeOrientation;
 import com.mopub.common.logging.MoPubLog;
 
 import static android.content.Intent.FLAG_ACTIVITY_NEW_TASK;
 import static com.mopub.common.DataKeys.BROADCAST_IDENTIFIER_KEY;
+import static com.mopub.common.DataKeys.CREATIVE_ORIENTATION_KEY;
 import static com.mopub.common.logging.MoPubLog.SdkLogEvent.CUSTOM;
 import static com.mopub.mobileads.VastVideoViewController.VAST_VIDEO_CONFIG;
 
@@ -42,9 +45,10 @@ static Intent createIntentMraid(final Context context,
 
     static void startVast(final Context context,
             final VastVideoConfig vastVideoConfig,
-            final long broadcastIdentifier) {
+            final long broadcastIdentifier,
+            @Nullable final CreativeOrientation orientation) {
         final Intent intentVideoPlayerActivity = createIntentVast(context, vastVideoConfig,
-                broadcastIdentifier);
+                broadcastIdentifier, orientation);
         try {
             context.startActivity(intentVideoPlayerActivity);
         } catch (ActivityNotFoundException e) {
@@ -54,12 +58,14 @@ static void startVast(final Context context,
 
     static Intent createIntentVast(final Context context,
             final VastVideoConfig vastVideoConfig,
-            final long broadcastIdentifier) {
+            final long broadcastIdentifier,
+            @Nullable final CreativeOrientation orientation) {
         final Intent intentVideoPlayerActivity = new Intent(context, MraidVideoPlayerActivity.class);
         intentVideoPlayerActivity.setFlags(FLAG_ACTIVITY_NEW_TASK);
         intentVideoPlayerActivity.putExtra(VIDEO_CLASS_EXTRAS_KEY, "vast");
         intentVideoPlayerActivity.putExtra(VAST_VIDEO_CONFIG, vastVideoConfig);
         intentVideoPlayerActivity.putExtra(BROADCAST_IDENTIFIER_KEY, broadcastIdentifier);
+        intentVideoPlayerActivity.putExtra(CREATIVE_ORIENTATION_KEY, orientation);
         return intentVideoPlayerActivity;
     }
 
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/BaseVideoViewController.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/BaseVideoViewController.java
index 28e7384a..5fd1771f 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/BaseVideoViewController.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/BaseVideoViewController.java
@@ -50,7 +50,7 @@ protected BaseVideoViewController(final Context context,
 
      protected void onCreate() {
         final RelativeLayout.LayoutParams adViewLayout = new RelativeLayout.LayoutParams(
-                RelativeLayout.LayoutParams.FILL_PARENT, RelativeLayout.LayoutParams.WRAP_CONTENT);
+                RelativeLayout.LayoutParams.MATCH_PARENT, RelativeLayout.LayoutParams.MATCH_PARENT);
         adViewLayout.addRule(RelativeLayout.CENTER_IN_PARENT);
         mLayout.addView(getVideoView(), 0, adViewLayout);
         mBaseVideoViewControllerListener.onSetContentView(mLayout);
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/ConversionUrlGenerator.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/ConversionUrlGenerator.java
index 36f7a804..e36eb86b 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/ConversionUrlGenerator.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/ConversionUrlGenerator.java
@@ -80,6 +80,7 @@ public String generateUrlString(String serverHostname) {
             addParam(SESSION_TRACKER_KEY, true);
         }
         addParam(SDK_VERSION_KEY, MoPub.SDK_VERSION);
+        appendAppEngineInfo();
         addParam(CURRENT_CONSENT_STATUS_KEY, mCurrentConsentStatus);
         addParam(CONSENTED_VENDOR_LIST_VERSION_KEY, mConsentedVendorListVersion);
         addParam(CONSENTED_PRIVACY_POLICY_VERSION_KEY, mConsentedPrivacyPolicyVersion);
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/MoPubView.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/MoPubView.java
index f52751f4..659388e5 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/MoPubView.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/MoPubView.java
@@ -9,12 +9,18 @@
 import android.content.Context;
 import android.content.Intent;
 import android.content.IntentFilter;
+import android.content.res.Resources;
+import android.content.res.TypedArray;
+import android.graphics.Point;
 import android.location.Location;
+import android.os.Build;
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
 import android.text.TextUtils;
 import android.util.AttributeSet;
 import android.view.View;
+import android.view.ViewGroup;
+import android.view.WindowInsets;
 import android.widget.FrameLayout;
 
 import com.mopub.common.*;
@@ -22,6 +28,7 @@
 import com.mopub.common.util.ManifestUtils;
 import com.mopub.common.util.Reflection;
 import com.mopub.common.util.Visibility;
+import com.mopub.mobileads.base.R;
 import com.mopub.mobileads.factories.AdViewControllerFactory;
 
 import java.util.Map;
@@ -38,6 +45,7 @@
 import static com.mopub.common.logging.MoPubLog.AdLogEvent.SHOW_ATTEMPTED;
 import static com.mopub.common.logging.MoPubLog.AdLogEvent.SHOW_FAILED;
 import static com.mopub.common.logging.MoPubLog.AdLogEvent.SHOW_SUCCESS;
+import static com.mopub.common.logging.MoPubLog.SdkLogEvent.CUSTOM_WITH_THROWABLE;
 import static com.mopub.common.logging.MoPubLog.SdkLogEvent.ERROR;
 import static com.mopub.mobileads.MoPubErrorCode.ADAPTER_NOT_FOUND;
 
@@ -50,6 +58,67 @@
         public void onBannerCollapsed(MoPubView banner);
     }
 
+    /**
+     * MoPubAdSizeInt
+     *
+     * Integer values that represent the possible predefined ad heights in dp.
+     */
+    interface MoPubAdSizeInt {
+        int MATCH_VIEW_INT = -1;
+        int HEIGHT_50_INT = 50;
+        int HEIGHT_90_INT = 90;
+        int HEIGHT_250_INT = 250;
+        int HEIGHT_280_INT = 280;
+    }
+
+    /**
+     * MoPubAdSize
+     *
+     * These predefined constants are used to specify the desired height for an ad.
+     */
+    public enum MoPubAdSize implements MoPubAdSizeInt {
+
+        MATCH_VIEW(MATCH_VIEW_INT),
+        HEIGHT_50(HEIGHT_50_INT),
+        HEIGHT_90(HEIGHT_90_INT),
+        HEIGHT_250(HEIGHT_250_INT),
+        HEIGHT_280(HEIGHT_280_INT);
+
+        final private int mSizeInt;
+
+        MoPubAdSize(final int sizeInt) {
+            this.mSizeInt = sizeInt;
+        }
+
+        /**
+         * This valueOf overload is used to get the associated the MoPubAdSize enum from an int (likely
+         * from XML layout).
+         *
+         * @param adSizeInt The int value for which the MoPubAdSize is needed.
+         * @return The MoPubAdSize associated with the level. Will return CUSTOM by default.
+         */
+        @NonNull
+        public static MoPubAdSize valueOf(final int adSizeInt) {
+            switch (adSizeInt) {
+                case HEIGHT_50_INT:
+                    return HEIGHT_50;
+                case HEIGHT_90_INT:
+                    return HEIGHT_90;
+                case HEIGHT_250_INT:
+                    return HEIGHT_250;
+                case HEIGHT_280_INT:
+                    return HEIGHT_280;
+                case MATCH_VIEW_INT:
+                default:
+                    return MATCH_VIEW;
+            }
+        }
+
+        public int toInt() {
+            return mSizeInt;
+        }
+    }
+
     private static final String CUSTOM_EVENT_BANNER_ADAPTER_FACTORY =
             "com.mopub.mobileads.factories.CustomEventBannerAdapterFactory";
 
@@ -61,7 +130,7 @@
     private Context mContext;
     private int mScreenVisibility;
     private BroadcastReceiver mScreenStateReceiver;
-
+    private MoPubView.MoPubAdSize mMoPubAdSize;
     private BannerAdListener mBannerAdListener;
 
     public MoPubView(Context context) {
@@ -71,6 +140,9 @@ public MoPubView(Context context) {
     public MoPubView(Context context, AttributeSet attrs) {
         super(context, attrs);
 
+        mMoPubAdSize = getMoPubAdSizeFromAttributeSet(context, attrs,
+                MoPubAdSize.MATCH_VIEW);
+
         ManifestUtils.checkWebViewActivitiesDeclared(context);
 
         mContext = context;
@@ -83,6 +155,22 @@ public MoPubView(Context context, AttributeSet attrs) {
         registerScreenStateBroadcastReceiver();
     }
 
+    @Override
+    protected void onAttachedToWindow() {
+        super.onAttachedToWindow();
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.P) {
+            setWindowInsets(getRootWindowInsets());
+        }
+    }
+
+    @Override
+    public WindowInsets onApplyWindowInsets(WindowInsets insets) {
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.P) {
+            setWindowInsets(insets);
+        }
+        return super.onApplyWindowInsets(insets);
+    }
+
     private void registerScreenStateBroadcastReceiver() {
         mScreenStateReceiver = new BroadcastReceiver() {
             public void onReceive(final Context context, final Intent intent) {
@@ -113,9 +201,15 @@ private void unregisterScreenStateBroadcastReceiver() {
         }
     }
 
+    public void loadAd(final MoPubAdSize moPubAdSize) {
+        setAdSize(moPubAdSize);
+        loadAd();
+    }
+
     public void loadAd() {
         if (mAdViewController != null) {
             MoPubLog.log(LOAD_ATTEMPTED);
+            mAdViewController.setRequestedAdSize(resolveAdSize());
             mAdViewController.loadAd();
         }
     }
@@ -282,6 +376,51 @@ protected void creativeDownloaded() {
         adLoaded();
     }
 
+    private MoPubAdSize getMoPubAdSizeFromAttributeSet(
+            final Context context,
+            final AttributeSet attrs,
+            MoPubAdSize defaultMoPubAdSize) {
+        TypedArray a = context.getTheme().obtainStyledAttributes(
+                attrs,
+                R.styleable.MoPubView,
+                0, 0);
+
+        MoPubAdSize returnValue = defaultMoPubAdSize;
+
+        try {
+            final int moPubAdSizeInt = a.getInteger(R.styleable.MoPubView_moPubAdSize,
+                    defaultMoPubAdSize.toInt());
+            returnValue = MoPubAdSize.valueOf(moPubAdSizeInt);
+        } catch(Resources.NotFoundException rnfe) {
+            MoPubLog.log(CUSTOM_WITH_THROWABLE,
+                    "Encountered a problem while setting the MoPubAdSize", 
+                    rnfe);
+        } finally {
+            a.recycle();
+        }
+
+        return returnValue;
+    }
+
+    protected Point resolveAdSize() {
+        final Point resolvedAdSize = new Point(getWidth(), getHeight());
+        final ViewGroup.LayoutParams layoutParams = getLayoutParams();
+
+        // If WRAP_CONTENT or MATCH_PARENT
+        if (layoutParams != null && layoutParams.width < 0) {
+            resolvedAdSize.x = ((View) getParent()).getWidth();
+        }
+
+        // MoPubAdSize only applies to height
+        if (mMoPubAdSize != MoPubAdSize.MATCH_VIEW) {
+            resolvedAdSize.y = mMoPubAdSize.toInt();
+        } else if (layoutParams != null && layoutParams.height < 0) {
+            resolvedAdSize.y = ((View) getParent()).getHeight();
+        }
+
+        return resolvedAdSize;
+    }
+
     ////////////////////////////////////////////////////////////////////////////////////////////////
 
     public void setAdUnitId(String adUnitId) {
@@ -424,6 +563,20 @@ public void forceRefresh() {
         }
     }
 
+    public void setAdSize(final MoPubAdSize moPubAdSize) {
+        mMoPubAdSize = moPubAdSize;
+    }
+
+    public MoPubAdSize getAdSize() {
+        return mMoPubAdSize;
+    }
+
+    void setWindowInsets(@NonNull final WindowInsets windowInsets) {
+        if (mAdViewController != null) {
+            mAdViewController.setWindowInsets(windowInsets);
+        }
+    }
+
     AdViewController getAdViewController() {
         return mAdViewController;
     }
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/MraidVideoPlayerActivity.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/MraidVideoPlayerActivity.java
index 9591b41b..54e900c4 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/MraidVideoPlayerActivity.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/MraidVideoPlayerActivity.java
@@ -16,13 +16,18 @@
 import android.view.Window;
 import android.view.WindowManager;
 
+import com.mopub.common.CreativeOrientation;
 import com.mopub.common.IntentActions;
 import com.mopub.common.logging.MoPubLog;
+import com.mopub.common.util.DeviceUtils;
 import com.mopub.common.util.Intents;
 import com.mopub.common.util.Reflection;
 import com.mopub.mraid.MraidVideoViewController;
 
+import java.io.Serializable;
+
 import static com.mopub.common.DataKeys.BROADCAST_IDENTIFIER_KEY;
+import static com.mopub.common.DataKeys.CREATIVE_ORIENTATION_KEY;
 import static com.mopub.common.logging.MoPubLog.SdkLogEvent.CUSTOM;
 import static com.mopub.mobileads.BaseBroadcastReceiver.broadcastAction;
 
@@ -53,6 +58,14 @@ protected void onCreate(Bundle savedInstanceState) {
             return;
         }
 
+        final Serializable orientationExtra = getIntent().getSerializableExtra(
+                CREATIVE_ORIENTATION_KEY);
+        CreativeOrientation requestedOrientation = CreativeOrientation.DEVICE;
+        if (orientationExtra instanceof CreativeOrientation) {
+            requestedOrientation = (CreativeOrientation) orientationExtra;
+        }
+        DeviceUtils.lockOrientation(this, requestedOrientation);
+
         mBaseVideoController.onCreate();
     }
 
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastManager.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastManager.java
index 81ae8aa2..3d256be8 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastManager.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastManager.java
@@ -48,7 +48,7 @@
     @Nullable private VastXmlManagerAggregator mVastXmlManagerAggregator;
     @Nullable private String mDspCreativeId;
     private double mScreenAspectRatio;
-    private int mScreenAreaDp;
+    private int mScreenWidthDp;
 
     private final boolean mShouldPreCacheVideo;
 
@@ -73,8 +73,10 @@ public void prepareVastVideoConfiguration(@Nullable final String vastXml,
 
         if (mVastXmlManagerAggregator == null) {
             mVastManagerListener = vastManagerListener;
-            mVastXmlManagerAggregator = new VastXmlManagerAggregator(this, mScreenAspectRatio,
-                    mScreenAreaDp, context.getApplicationContext());
+            mVastXmlManagerAggregator = new VastXmlManagerAggregator(this,
+                    mScreenAspectRatio,
+                    mScreenWidthDp,
+                    context.getApplicationContext());
             mDspCreativeId = dspCreativeId;
 
             try {
@@ -157,10 +159,9 @@ private boolean updateDiskMediaFileUrl(
 
     private void initializeScreenDimensions(@NonNull final Context context) {
         Preconditions.checkNotNull(context, "context cannot be null");
-        // This currently assumes that all vast videos will be played in landscape
         final Display display = ((WindowManager) context.getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();
-        final int xPx = display.getWidth();
-        final int yPx = display.getHeight();
+        final int screenWidth = display.getWidth();
+        final int screenHeight = display.getHeight();
         // Use the screen density to convert x and y (in pixels) to DP. Also, check the density to
         // make sure that this is a valid density and that this is not going to divide by 0.
         float density = context.getResources().getDisplayMetrics().density;
@@ -168,17 +169,14 @@ private void initializeScreenDimensions(@NonNull final Context context) {
             density = 1;
         }
 
-        // For landscape, width is always greater than height
-        int screenWidth = Math.max(xPx, yPx);
-        int screenHeight = Math.min(xPx, yPx);
         mScreenAspectRatio = (double) screenWidth / screenHeight;
-        mScreenAreaDp = (int) ((screenWidth / density) * (screenHeight / density));
+        mScreenWidthDp = (int) (screenWidth / density);
     }
 
     @VisibleForTesting
     @Deprecated
-    int getScreenAreaDp() {
-        return mScreenAreaDp;
+    int getScreenWidthDp() {
+        return mScreenWidthDp;
     }
 
     @VisibleForTesting
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastMediaXmlManager.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastMediaXmlManager.java
index 8c4958d4..f1a78a59 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastMediaXmlManager.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastMediaXmlManager.java
@@ -22,6 +22,9 @@
     private static final String HEIGHT = "height";
     private static final String DELIVERY = "delivery";
     private static final String VIDEO_TYPE  = "type";
+    private static final String BITRATE = "bitrate";
+    private static final String BITRATE_MIN = "minBitrate";
+    private static final String BITRATE_MAX = "maxBitrate";
 
     @NonNull private final Node mMediaNode;
 
@@ -84,4 +87,37 @@ String getType() {
     String getMediaUrl() {
         return XmlUtils.getNodeValue(mMediaNode);
     }
+
+    /**
+     * The Bitrate of the video or {@code null} if not specified.
+     *
+     * @return Integer representation of the video in kbps or {@code null}
+     */
+    @Nullable
+    Integer getBitrate() {
+        // the "bitrate" attribute is the average across the entire video:
+        final Integer bitrate = XmlUtils.getAttributeValueAsInt(mMediaNode, BITRATE);
+
+        if (bitrate != null) {
+            return bitrate;
+        }
+
+        // If an average bitrate isn't provided:
+        final Integer minBitrate = XmlUtils.getAttributeValueAsInt(mMediaNode, BITRATE_MIN);
+        final Integer maxBitrate = XmlUtils.getAttributeValueAsInt(mMediaNode, BITRATE_MAX);
+
+        // Use the min and max to calculate the average, if both are non-null:
+        if (minBitrate != null && maxBitrate != null) {
+            return (minBitrate + maxBitrate) / 2;
+        }
+
+        // If only minBitrate is non-null:
+        if (minBitrate != null) {
+            return minBitrate;
+        }
+
+        // Return maxBitrate since at this point we would return null anyway if it's null:
+        return maxBitrate;
+
+    }
 }
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastVideoConfig.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastVideoConfig.java
index 6c73a739..1b666594 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastVideoConfig.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastVideoConfig.java
@@ -68,7 +68,6 @@
     @Nullable private String mCustomCtaText;
     @Nullable private String mCustomSkipText;
     @Nullable private String mCustomCloseIconUrl;
-    @NonNull private DeviceUtils.ForceOrientation mCustomForceOrientation = DeviceUtils.ForceOrientation.FORCE_LANDSCAPE; // Default is forcing landscape
     @Nullable private VideoViewabilityTracker mVideoViewabilityTracker;
     // Viewability
     @NonNull private final Map<String, String> mExternalViewabilityTrackers;
@@ -80,13 +79,6 @@
     private String mPrivacyInformationIconImageUrl;
     private String mPrivacyInformationIconClickthroughUrl;
 
-    /**
-     * Flag to indicate if the VAST xml document has explicitly set the orientation as opposed to
-     * using the default.
-     */
-    private boolean mIsForceOrientationSet;
-
-
     public VastVideoConfig() {
         mImpressionTrackers = new ArrayList<VastTracker>();
         mFractionalTrackers = new ArrayList<VastFractionalProgressTracker>();
@@ -323,13 +315,6 @@ public void setCustomCloseIconUrl(@Nullable final String customCloseIconUrl) {
         }
     }
 
-    public void setCustomForceOrientation(@Nullable final DeviceUtils.ForceOrientation customForceOrientation) {
-        if (customForceOrientation != null && customForceOrientation != DeviceUtils.ForceOrientation.UNDEFINED) {
-            mCustomForceOrientation = customForceOrientation;
-            mIsForceOrientationSet = true;
-        }
-    }
-
     public void setSkipOffset(@Nullable final String skipOffset) {
         if (skipOffset != null) {
             mSkipOffset = skipOffset;
@@ -487,10 +472,6 @@ public VideoViewabilityTracker getVideoViewabilityTracker() {
         return mMoatImpressionPixels;
     }
 
-    public boolean isCustomForceOrientationSet() {
-        return mIsForceOrientationSet;
-    }
-
     /**
      * Returns whether or not there is a companion ad set. There must be both a landscape and a
      * portrait companion ad set for this to be true.
@@ -501,15 +482,6 @@ public boolean hasCompanionAd() {
         return mLandscapeVastCompanionAdConfig != null && mPortraitVastCompanionAdConfig != null;
     }
 
-    /**
-     * Get custom force orientation
-     * @return ForceOrientation enum (default is FORCE_LANDSCAPE)
-     */
-    @NonNull
-    public DeviceUtils.ForceOrientation getCustomForceOrientation() {
-        return mCustomForceOrientation;
-    }
-
     /**
      * Gets the String specified in the VAST document regarding the skip offset. This should be in
      * the form HH:MM:SS[.mmm] or n%. (e.g. 00:00:12, 00:00:12.345, 42%).
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastVideoGradientStripWidget.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastVideoGradientStripWidget.java
index cab8ae0a..9223f75d 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastVideoGradientStripWidget.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastVideoGradientStripWidget.java
@@ -20,19 +20,16 @@
 import static com.mopub.common.logging.MoPubLog.SdkLogEvent.CUSTOM;
 
 public class VastVideoGradientStripWidget extends ImageView {
-    @NonNull DeviceUtils.ForceOrientation mForceOrientation;
     private int mVisibilityForCompanionAd;
     private boolean mHasCompanionAd;
     private boolean mIsVideoComplete;
 
     public VastVideoGradientStripWidget(@NonNull final Context context,
             @NonNull final GradientDrawable.Orientation gradientOrientation,
-            @NonNull final DeviceUtils.ForceOrientation forceOrientation,
             final boolean hasCompanionAd, final int visibilityForCompanionAd, final int layoutVerb,
             final int layoutAnchor) {
         super(context);
 
-        mForceOrientation = forceOrientation;
         mVisibilityForCompanionAd = visibilityForCompanionAd;
         mHasCompanionAd = hasCompanionAd;
 
@@ -74,33 +71,27 @@ private void updateVisibility() {
             return;
         }
 
-        if (mForceOrientation == DeviceUtils.ForceOrientation.FORCE_PORTRAIT) {
-            setVisibility(View.INVISIBLE);
-        } else if (mForceOrientation == DeviceUtils.ForceOrientation.FORCE_LANDSCAPE) {
-            setVisibility(View.VISIBLE);
-        } else  {
-            final int currentOrientation = getResources().getConfiguration().orientation;
-
-            switch (currentOrientation) {
-                case Configuration.ORIENTATION_LANDSCAPE:
-                    setVisibility(View.VISIBLE);
-                    break;
-                case Configuration.ORIENTATION_PORTRAIT:
-                    setVisibility(View.INVISIBLE);
-                    break;
-                case Configuration.ORIENTATION_UNDEFINED:
-                    MoPubLog.log(CUSTOM, "Screen orientation undefined: do not show gradient strip widget");
-                    setVisibility(View.INVISIBLE);
-                    break;
-                case Configuration.ORIENTATION_SQUARE:
-                    MoPubLog.log(CUSTOM, "Screen orientation is deprecated ORIENTATION_SQUARE: do not show gradient strip widget");
-                    setVisibility(View.INVISIBLE);
-                    break;
-                default:
-                    MoPubLog.log(CUSTOM, "Unrecognized screen orientation: do not show gradient strip widget");
-                    setVisibility(View.INVISIBLE);
-                    break;
-            }
+        final int currentOrientation = getResources().getConfiguration().orientation;
+
+        switch (currentOrientation) {
+            case Configuration.ORIENTATION_LANDSCAPE:
+                setVisibility(View.VISIBLE);
+                break;
+            case Configuration.ORIENTATION_PORTRAIT:
+                setVisibility(View.INVISIBLE);
+                break;
+            case Configuration.ORIENTATION_UNDEFINED:
+                MoPubLog.log(CUSTOM, "Screen orientation undefined: do not show gradient strip widget");
+                setVisibility(View.INVISIBLE);
+                break;
+            case Configuration.ORIENTATION_SQUARE:
+                MoPubLog.log(CUSTOM, "Screen orientation is deprecated ORIENTATION_SQUARE: do not show gradient strip widget");
+                setVisibility(View.INVISIBLE);
+                break;
+            default:
+                MoPubLog.log(CUSTOM, "Unrecognized screen orientation: do not show gradient strip widget");
+                setVisibility(View.INVISIBLE);
+                break;
         }
     }
 }
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastVideoViewController.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastVideoViewController.java
index 028b3dbd..022ea188 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastVideoViewController.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastVideoViewController.java
@@ -262,21 +262,6 @@ protected VideoView getVideoView() {
     protected void onCreate() {
         super.onCreate();
 
-        switch (mVastVideoConfig.getCustomForceOrientation()) {
-            case FORCE_PORTRAIT:
-                getBaseVideoViewControllerListener().onSetRequestedOrientation(SCREEN_ORIENTATION_PORTRAIT);
-                break;
-            case FORCE_LANDSCAPE:
-                getBaseVideoViewControllerListener().onSetRequestedOrientation(SCREEN_ORIENTATION_SENSOR_LANDSCAPE);
-                break;
-            case DEVICE_ORIENTATION:
-                break;  // don't do anything
-            case UNDEFINED:
-                break;  // don't do anything
-            default:
-                break;
-        }
-
         mVastVideoConfig.handleImpression(getContext(), getCurrentPosition());
         broadcastAction(IntentActions.ACTION_INTERSTITIAL_SHOW);
     }
@@ -498,7 +483,6 @@ private void addTopGradientStripWidget(@NonNull final Context context) {
 
         mTopGradientStripWidget = new VastVideoGradientStripWidget(context,
                 GradientDrawable.Orientation.TOP_BOTTOM,
-                mVastVideoConfig.getCustomForceOrientation(),
                 hasCompanionAd,
                 View.VISIBLE,
                 RelativeLayout.ALIGN_TOP,
@@ -512,7 +496,6 @@ private void addBottomGradientStripWidget(@NonNull final Context context) {
 
         mBottomGradientStripWidget = new VastVideoGradientStripWidget(context,
                 GradientDrawable.Orientation.BOTTOM_TOP,
-                mVastVideoConfig.getCustomForceOrientation(),
                 hasCompanionAd,
                 View.GONE,
                 RelativeLayout.ABOVE,
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastXmlManager.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastXmlManager.java
index 2ace57b4..2deeca18 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastXmlManager.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastXmlManager.java
@@ -173,16 +173,4 @@ String getCustomSkipText() {
     String getCustomCloseIconUrl() {
         return XmlUtils.getFirstMatchingStringData(mVastDoc, CUSTOM_CLOSE_ICON);
     }
-
-    /**
-     * Gets the orientation that this ad should be forced in. This returns DEVICE if not
-     * specified.
-     *
-     * @return {@code ForceOrientation} orientation or {@code DEVICE}
-     */
-    @NonNull
-    ForceOrientation getCustomForceOrientation() {
-        return ForceOrientation.getForceOrientation(
-                XmlUtils.getFirstMatchingStringData(mVastDoc, CUSTOM_FORCE_ORIENTATION));
-    }
 }
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastXmlManagerAggregator.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastXmlManagerAggregator.java
index e160003f..5eeb1537 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastXmlManagerAggregator.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mobileads/VastXmlManagerAggregator.java
@@ -76,17 +76,19 @@
 
     // More than reasonable number of nested VAST urls to follow
     static final int MAX_TIMES_TO_FOLLOW_VAST_REDIRECT = 10;
-    private static final double ASPECT_RATIO_WEIGHT = 70;
-    private static final double AREA_WEIGHT = 30;
+    private static final String MIME_TYPE_MP4 = "video/mp4";
+    private static final String MIME_TYPE_3GPP = "video/3gpp";
     private static final List<String> VIDEO_MIME_TYPES =
-            Arrays.asList("video/mp4", "video/3gpp");
+            Arrays.asList(MIME_TYPE_MP4, MIME_TYPE_3GPP);
     private static final int MINIMUM_COMPANION_AD_WIDTH = 300;
     private static final int MINIMUM_COMPANION_AD_HEIGHT = 250;
+    private static final int BITRATE_THRESHOLD_HIGH = 1500;
+    private static final int BITRATE_THRESHOLD_LOW = 700;
 
     @NonNull private final WeakReference<VastXmlManagerAggregatorListener> mVastXmlManagerAggregatorListener;
     private final double mScreenAspectRatio;
-    private final int mScreenAreaDp;
     @NonNull private final Context mContext;
+    private final int mScreenWidthDp;
 
     /**
      * Number of times this has followed a redirect. This value is only
@@ -95,9 +97,9 @@
     private int mTimesFollowedVastRedirect;
 
     VastXmlManagerAggregator(@NonNull final VastXmlManagerAggregatorListener vastXmlManagerAggregatorListener,
-            final double screenAspectRatio,
-            final int screenAreaDp,
-            @NonNull final Context context) {
+                             final double screenAspectRatio,
+                             final int screenWidthDp,
+                             @NonNull final Context context) {
         super();
 
         Preconditions.checkNotNull(vastXmlManagerAggregatorListener);
@@ -105,7 +107,7 @@
         mVastXmlManagerAggregatorListener =
                 new WeakReference<VastXmlManagerAggregatorListener>(vastXmlManagerAggregatorListener);
         mScreenAspectRatio = screenAspectRatio;
-        mScreenAreaDp = screenAreaDp;
+        mScreenWidthDp = screenWidthDp;
         mContext = context.getApplicationContext();
     }
 
@@ -477,9 +479,6 @@ private void populateMoPubCustomElements(@NonNull final VastXmlManager xmlManage
         if (vastVideoConfig.getCustomCloseIconUrl() == null) {
             vastVideoConfig.setCustomCloseIconUrl(xmlManager.getCustomCloseIconUrl());
         }
-        if (!vastVideoConfig.isCustomForceOrientationSet()) {
-            vastVideoConfig.setCustomForceOrientation(xmlManager.getCustomForceOrientation());
-        }
     }
 
     /**
@@ -517,7 +516,7 @@ private boolean fireErrorTrackerIfNoAds(
     String getBestMediaFileUrl(@NonNull final List<VastMediaXmlManager> managers) {
         Preconditions.checkNotNull(managers, "managers cannot be null");
         final List<VastMediaXmlManager> mediaXmlManagers = new ArrayList<VastMediaXmlManager>(managers);
-        double bestMediaFitness = Double.POSITIVE_INFINITY;
+        double bestMediaFitness = Double.NEGATIVE_INFINITY;
         String bestMediaFileUrl = null;
 
         final Iterator<VastMediaXmlManager> xmlManagerIterator = mediaXmlManagers.iterator();
@@ -533,12 +532,16 @@ String getBestMediaFileUrl(@NonNull final List<VastMediaXmlManager> managers) {
 
             final Integer mediaWidth = mediaXmlManager.getWidth();
             final Integer mediaHeight = mediaXmlManager.getHeight();
+            final Integer mediaBitrate = mediaXmlManager.getBitrate();
             if (mediaWidth == null || mediaWidth <= 0 || mediaHeight == null || mediaHeight <= 0) {
                 continue;
             }
 
-            final double mediaFitness = calculateFitness(mediaWidth, mediaHeight);
-            if (mediaFitness < bestMediaFitness) {
+            final double mediaFitness = calculateFitness(mediaWidth,
+                    mediaHeight,
+                    mediaBitrate,
+                    mediaType);
+            if (mediaFitness > bestMediaFitness) {
                 bestMediaFitness = mediaFitness;
                 bestMediaFileUrl = mediaUrl;
             }
@@ -557,7 +560,7 @@ VastCompanionAdConfig getBestCompanionAd(
 
         final List<VastCompanionAdXmlManager> companionXmlManagers =
                 new ArrayList<VastCompanionAdXmlManager>(managers);
-        double bestCompanionFitness = Double.POSITIVE_INFINITY;
+        double bestCompanionFitness = Double.NEGATIVE_INFINITY;
         VastCompanionAdXmlManager bestCompanionXmlManager = null;
         VastResource bestVastResource = null;
         Point bestVastScaledDimensions = null;
@@ -585,12 +588,14 @@ VastCompanionAdConfig getBestCompanionAd(
                 }
 
                 final double companionFitness;
-                if (CompanionOrientation.PORTRAIT == orientation) {
-                    companionFitness = calculateFitness(height, width);
+                // pass null for companion fitness because images don't have bitrates.
+                if ((CompanionOrientation.LANDSCAPE == orientation) && (mScreenAspectRatio < 1)
+                        || (CompanionOrientation.PORTRAIT == orientation) && (mScreenAspectRatio > 1)) {
+                    companionFitness = calculateFitness(height, width, null, null);
                 } else {
-                    companionFitness = calculateFitness(width, height);
+                    companionFitness = calculateFitness(width, height, null, null);
                 }
-                if (companionFitness < bestCompanionFitness) {
+                if (companionFitness > bestCompanionFitness) {
                     bestCompanionFitness = companionFitness;
                     bestCompanionXmlManager = companionXmlManager;
                     bestVastResource = vastResource;
@@ -781,22 +786,87 @@ VastIconConfig getBestIcon(@NonNull final List<VastIconXmlManager> managers) {
         return null;
     }
 
+    /**
+     * Calculates the fitness of the media file or companion using the aspect ratio, width, and
+     * bitrate and of the device. The closer to 0 the score, the better.
+     *
+     * @param widthDp  the width of the media file or companion ad
+     * @param heightDp the height of the media file or companion ad
+     * @param bitrate  the bitrate of the media file - null if none provided or needed
+     * @param format   the MIME format fo the media file - null if none provided or needed
+     * @return the overall fitness score. The closer to 0, the better.
+     */
+    private double calculateFitness(final int widthDp,
+                                    final int heightDp,
+                                    @Nullable final Integer bitrate,
+                                    @Nullable final String format) {
+
+        final double screenFitness = calculateScreenFitnessFactor(widthDp, heightDp);
+        final double bitrateFitness = calculateBitrateFitnessFactor(bitrate);
+        final double formatFitness = calculateFormatFitnessFactor(format);
+
+        return formatFitness * (1.0 / (1.0 + screenFitness + bitrateFitness));
+    }
+
+    /**
+     * Calculates the fitness value of the media file's bitrate (by determining whether it is low,
+     * medium, or high). The closer to 0 the score, the better. This is used by the overall fitness
+     * function to choose an appropriate MediaFile.
+     *
+     * @param bitrate the bitrate of the media file - null if none provided or needed
+     * @return the fitness factor based on the bitrate. The closer to 0, the better.
+     */
+    private double calculateBitrateFitnessFactor(@Nullable final Integer bitrate) {
+        // Default bitrate to 0 if one was not provided for the MediaFile.
+        final int usableBitrate = (bitrate == null || bitrate < 0) ? 0 : bitrate;
+
+        if (BITRATE_THRESHOLD_LOW <= usableBitrate && usableBitrate <= BITRATE_THRESHOLD_HIGH) {
+            return 0;
+        } else {
+            final double lowDistance = Math.abs(BITRATE_THRESHOLD_LOW - usableBitrate)
+                    / (float) BITRATE_THRESHOLD_LOW;
+            final double highDistance = Math.abs(BITRATE_THRESHOLD_HIGH - usableBitrate)
+                    / (float) BITRATE_THRESHOLD_HIGH;
+            return Math.min(lowDistance, highDistance);
+        }
+    }
+
     /**
      * Calculates the fitness of the media file or companion by comparing its aspect ratio and
-     * area to those of the device. The closer to 0 the score, the better. The fitness function
-     * weighs aspect ratios and areas differently.
+     * width to those of the device. Scores cannot be negative and the closer the score is to 0, the
+     * better. This is used by the overall fitness function to choose an appropriate MediaFile.
      *
-     * @param widthDp the width of the media file or companion ad
-     * @param heightDp the height of th media file or companion ad
-     * @return the fitness score. The closer to 0, the better.
+     * @param widthDp  the width of the media file or companion ad
+     * @param heightDp the height of the media file or companion ad
+     * @return the fitness factor based on the screen size. The closer to 0, the better.
      */
-    private double calculateFitness(final int widthDp, final int heightDp) {
+    private double calculateScreenFitnessFactor(final int widthDp, final int heightDp) {
+        // mScreenAspectRatio calculated as `(double) screenWidth / screenHeight`, so we'll do the
+        // same here.
         final double mediaAspectRatio = (double) widthDp / heightDp;
-        final int mediaAreaDp = widthDp * heightDp;
-        final double aspectRatioRatio = mediaAspectRatio / mScreenAspectRatio;
-        final double areaRatio = (double) mediaAreaDp / mScreenAreaDp;
-        return ASPECT_RATIO_WEIGHT * Math.abs(Math.log(aspectRatioRatio))
-                + AREA_WEIGHT * Math.abs(Math.log(areaRatio));
+        final double aspectRatioScore = Math.abs(mScreenAspectRatio - mediaAspectRatio);
+        final double widthScore = Math.abs((mScreenWidthDp - widthDp) / mScreenWidthDp);
+
+        return aspectRatioScore + widthScore;
+    }
+
+    /**
+     * Calculates the fitness of the media file or companion based on the MIME type. This currently
+     * gives preference to MP4 files.
+     *
+     * @param format the MIME format fo the media file - null if none provided or needed
+     * @return the factor to be using in calculating the fitness score. Higher scores are better.
+     */
+    private double calculateFormatFitnessFactor(final String format) {
+        final String safeFormat = (format == null) ? "" : format;
+
+        switch (safeFormat) {
+            case MIME_TYPE_MP4:
+                return 1.5f;
+            case MIME_TYPE_3GPP:
+            default:
+                return 1.0f;
+        }
     }
 
     /**
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mraid/MraidController.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mraid/MraidController.java
index 27d40be1..0f7e6cb4 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mraid/MraidController.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mraid/MraidController.java
@@ -13,6 +13,7 @@
 import android.content.pm.ActivityInfo;
 import android.content.pm.PackageManager;
 import android.graphics.Rect;
+import android.os.Build;
 import android.os.Handler;
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
@@ -126,6 +127,12 @@
     // itself requires an orientation lock.
     @Nullable private Integer mOriginalActivityOrientation;
 
+    // UI flags for hiding the status bar when expanded
+    private final int mExpandedUiFlags;
+
+    // UI flags before expanding for restoration when not expanded
+    private int mOriginalUiFlags;
+
     @NonNull private UrlHandler.MoPubSchemeListener mDebugSchemeListener
             = new UrlHandler.MoPubSchemeListener() {
         @Override
@@ -208,6 +215,18 @@ public boolean onTouch(View v, MotionEvent event) {
         mMraidBridge.setMraidBridgeListener(mMraidBridgeListener);
         mTwoPartBridge.setMraidBridgeListener(mTwoPartBridgeListener);
         mMraidNativeCommandHandler = new MraidNativeCommandHandler();
+
+        int flags = View.SYSTEM_UI_FLAG_LOW_PROFILE
+                | View.SYSTEM_UI_FLAG_FULLSCREEN
+                | View.SYSTEM_UI_FLAG_LAYOUT_STABLE
+                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION
+                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;
+
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) {
+            flags |= View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY;
+        }
+
+        mExpandedUiFlags = flags;
     }
 
     @SuppressWarnings("FieldCanBeLocal")
@@ -863,6 +882,10 @@ void handleExpand(@Nullable URI uri, boolean shouldUseCustomClose)
         LayoutParams layoutParams = new LayoutParams(
                 LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT);
         if (mViewState == ViewState.DEFAULT) {
+
+            mOriginalUiFlags = getAndMemoizeRootView().getSystemUiVisibility();
+            getAndMemoizeRootView().setSystemUiVisibility(mExpandedUiFlags);
+
             if (isTwoPart) {
                 mCloseableAdContainer.addView(mTwoPartWebView, layoutParams);
             } else {
@@ -1010,6 +1033,8 @@ void applyOrientation() throws MraidCommandException {
 
     @VisibleForTesting
     void unApplyOrientation() {
+        getAndMemoizeRootView().setSystemUiVisibility(mOriginalUiFlags);
+
         final Activity activity = mWeakActivity.get();
         if (activity != null && mOriginalActivityOrientation != null) {
             activity.setRequestedOrientation(mOriginalActivityOrientation);
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mraid/MraidVideoViewController.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mraid/MraidVideoViewController.java
index 1d2f4265..f7c695b2 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mraid/MraidVideoViewController.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/mraid/MraidVideoViewController.java
@@ -42,6 +42,14 @@ public MraidVideoViewController(final Context context,
         super(context, null, baseVideoViewControllerListener);
 
         mVideoView = new VideoView(context);
+
+        mVideoView.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {
+            @Override
+            public void onPrepared(MediaPlayer mp) {
+                mp.setVideoScalingMode(MediaPlayer.VIDEO_SCALING_MODE_SCALE_TO_FIT);
+            }
+        });
+
         mVideoView.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {
             @Override
             public void onCompletion(MediaPlayer mp) {
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/network/MultiAdResponse.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/network/MultiAdResponse.java
index d6cd2832..4edcc613 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/network/MultiAdResponse.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/network/MultiAdResponse.java
@@ -55,6 +55,7 @@
         void onInvalidateConsent(@Nullable final String consentChangeReason);
         void onReacquireConsent(@Nullable final String consentChangeReason);
         void onForceGdprApplies();
+        void onRequestSuccess(@Nullable final String adUnitId);
     }
 
     @NonNull
@@ -116,6 +117,7 @@ public MultiAdResponse(@NonNull final Context appContext,
             } else if (reacquireConsent) {
                 sServerOverrideListener.onReacquireConsent(consentChangeReason);
             }
+            sServerOverrideListener.onRequestSuccess(adUnitId);
         }
 
         final boolean enableDebugLogging = extractBooleanHeader(jsonObject,
diff --git a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/network/PlayServicesUrlRewriter.java b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/network/PlayServicesUrlRewriter.java
index 56d27487..3c0da814 100644
--- a/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/network/PlayServicesUrlRewriter.java
+++ b/mopub-sdk/mopub-sdk-base/src/main/java/com/mopub/network/PlayServicesUrlRewriter.java
@@ -19,6 +19,7 @@
 public class PlayServicesUrlRewriter implements HurlStack.UrlRewriter {
     public static final String UDID_TEMPLATE = "mp_tmpl_advertising_id";
     public static final String DO_NOT_TRACK_TEMPLATE = "mp_tmpl_do_not_track";
+    public static final String MOPUB_ID_TEMPLATE = "mp_tmpl_mopub_id";
 
     public PlayServicesUrlRewriter() {
     }
@@ -38,6 +39,7 @@ public String rewriteUrl(final String url) {
         String toReturn = url.replace(UDID_TEMPLATE,
                 Uri.encode(info.getIdWithPrefix(MoPub.canCollectPersonalInformation())));
         toReturn = toReturn.replace(DO_NOT_TRACK_TEMPLATE, info.isDoNotTrack() ? "1" : "0");
+        toReturn = toReturn.replace(MOPUB_ID_TEMPLATE,  Uri.encode(info.getIdentifier(false)));
         return toReturn;
     }
 }
diff --git a/mopub-sdk/mopub-sdk-interstitial/src/main/java/com/mopub/mobileads/BaseInterstitialActivity.java b/mopub-sdk/mopub-sdk-interstitial/src/main/java/com/mopub/mobileads/BaseInterstitialActivity.java
index a0caeb37..f3223dd4 100644
--- a/mopub-sdk/mopub-sdk-interstitial/src/main/java/com/mopub/mobileads/BaseInterstitialActivity.java
+++ b/mopub-sdk/mopub-sdk-interstitial/src/main/java/com/mopub/mobileads/BaseInterstitialActivity.java
@@ -6,6 +6,7 @@
 
 import android.app.Activity;
 import android.content.Intent;
+import android.os.Build;
 import android.os.Bundle;
 import android.support.annotation.Nullable;
 import android.view.View;
@@ -27,6 +28,23 @@
 
     public abstract View getAdView();
 
+    @Override
+    protected void onResume() {
+        super.onResume();
+
+        int flags = View.SYSTEM_UI_FLAG_LOW_PROFILE
+                | View.SYSTEM_UI_FLAG_FULLSCREEN
+                | View.SYSTEM_UI_FLAG_LAYOUT_STABLE
+                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION
+                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;
+
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) {
+            flags |= View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY;
+        }
+
+        mCloseableLayout.setSystemUiVisibility(flags);
+    }
+
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -41,6 +59,8 @@ protected void onCreate(Bundle savedInstanceState) {
         View adView = getAdView();
 
         mCloseableLayout = new CloseableLayout(this);
+        final int blackColor = getResources().getColor(android.R.color.black);
+        mCloseableLayout.setBackgroundColor(blackColor);
         mCloseableLayout.setOnCloseListener(new OnCloseListener() {
             @Override
             public void onClose() {
diff --git a/mopub-sdk/mopub-sdk-interstitial/src/main/java/com/mopub/mobileads/MoPubInterstitial.java b/mopub-sdk/mopub-sdk-interstitial/src/main/java/com/mopub/mobileads/MoPubInterstitial.java
index 87ac39db..7dbb971e 100644
--- a/mopub-sdk/mopub-sdk-interstitial/src/main/java/com/mopub/mobileads/MoPubInterstitial.java
+++ b/mopub-sdk/mopub-sdk-interstitial/src/main/java/com/mopub/mobileads/MoPubInterstitial.java
@@ -6,11 +6,15 @@
 
 import android.app.Activity;
 import android.content.Context;
+import android.graphics.Point;
 import android.location.Location;
+import android.os.Build;
 import android.os.Handler;
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
 import android.text.TextUtils;
+import android.view.Window;
+import android.view.WindowInsets;
 
 import com.mojang.base.Helper;
 import com.mojang.base.Logger;
@@ -18,6 +22,7 @@
 import com.mopub.common.Preconditions;
 import com.mopub.common.VisibleForTesting;
 import com.mopub.common.logging.MoPubLog;
+import com.mopub.common.util.DeviceUtils;
 import com.mopub.mobileads.factories.CustomEventInterstitialAdapterFactory;
 
 import java.util.Map;
@@ -207,6 +212,7 @@ synchronized boolean attemptStateTransition(@NonNull final InterstitialState end
                         // Going from IDLE to LOADING is the usual load case
                         invalidateInterstitialAdapter();
                         mCurrentInterstitialState = LOADING;
+                        updatedInsets();
                         if (force) {
                             // Force-load means a pub-initiated force refresh.
                             mInterstitialView.forceRefresh();
@@ -344,6 +350,20 @@ private void setInterstitialStateDestroyed() {
         mCurrentInterstitialState = DESTROYED;
     }
 
+    private void updatedInsets() {
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.P) {
+            final Window window = mActivity.getWindow();
+            if (window == null) {
+                return;
+            }
+            final WindowInsets insets = window.getDecorView().getRootWindowInsets();
+            if (insets == null) {
+                return;
+            }
+            mInterstitialView.setWindowInsets(insets);
+        }
+    }
+
     public void load() {
         MoPubLog.log(LOAD_ATTEMPTED);
         attemptStateTransition(LOADING);
@@ -599,6 +619,11 @@ protected void adFailed(MoPubErrorCode errorCode) {
                 mInterstitialAdListener.onInterstitialFailed(MoPubInterstitial.this, errorCode);
             }
         }
+
+        @Override
+        protected Point resolveAdSize() {
+            return DeviceUtils.getDeviceDimensions(mActivity);
+        }
     }
 
     @VisibleForTesting
diff --git a/mopub-sdk/mopub-sdk-interstitial/src/main/java/com/mopub/mobileads/VastVideoInterstitial.java b/mopub-sdk/mopub-sdk-interstitial/src/main/java/com/mopub/mobileads/VastVideoInterstitial.java
index e7d4a533..b7e612dd 100644
--- a/mopub-sdk/mopub-sdk-interstitial/src/main/java/com/mopub/mobileads/VastVideoInterstitial.java
+++ b/mopub-sdk/mopub-sdk-interstitial/src/main/java/com/mopub/mobileads/VastVideoInterstitial.java
@@ -8,6 +8,7 @@
 import android.text.TextUtils;
 
 import com.mopub.common.CacheService;
+import com.mopub.common.CreativeOrientation;
 import com.mopub.common.DataKeys;
 import com.mopub.common.logging.MoPubLog;
 import com.mopub.common.util.Json;
@@ -18,6 +19,7 @@
 
 import java.util.Map;
 
+import static com.mopub.common.DataKeys.CREATIVE_ORIENTATION_KEY;
 import static com.mopub.common.logging.MoPubLog.AdapterLogEvent.LOAD_FAILED;
 import static com.mopub.common.logging.MoPubLog.AdapterLogEvent.LOAD_SUCCESS;
 import static com.mopub.common.logging.MoPubLog.AdapterLogEvent.SHOW_ATTEMPTED;
@@ -32,10 +34,12 @@
     private VastVideoConfig mVastVideoConfig;
     @Nullable private JSONObject mVideoTrackers;
     @Nullable private Map<String, String> mExternalViewabilityTrackers;
+    @Nullable private CreativeOrientation mOrientation;
 
     @Override
     protected void extractExtras(Map<String, String> serverExtras) {
         mVastResponse = serverExtras.get(DataKeys.HTML_RESPONSE_BODY_KEY);
+        mOrientation = CreativeOrientation.fromString(serverExtras.get(CREATIVE_ORIENTATION_KEY));
 
         final String externalViewabilityTrackers =
                 serverExtras.get(DataKeys.EXTERNAL_VIDEO_VIEWABILITY_TRACKERS_KEY);
@@ -79,7 +83,7 @@ protected void preRenderHtml(CustomEventInterstitialListener customEventIntersti
     @Override
     public void showInterstitial() {
         MoPubLog.log(SHOW_ATTEMPTED, ADAPTER_NAME);
-        MraidVideoPlayerActivity.startVast(mContext, mVastVideoConfig, mBroadcastIdentifier);
+        MraidVideoPlayerActivity.startVast(mContext, mVastVideoConfig, mBroadcastIdentifier, mOrientation);
     }
 
     @Override
diff --git a/mopub-sdk/mopub-sdk-native-static/src/main/java/com/mopub/nativeads/PositioningUrlGenerator.java b/mopub-sdk/mopub-sdk-native-static/src/main/java/com/mopub/nativeads/PositioningUrlGenerator.java
index 1d7caaa5..e39dd2d9 100644
--- a/mopub-sdk/mopub-sdk-native-static/src/main/java/com/mopub/nativeads/PositioningUrlGenerator.java
+++ b/mopub-sdk/mopub-sdk-native-static/src/main/java/com/mopub/nativeads/PositioningUrlGenerator.java
@@ -37,7 +37,9 @@ public String generateUrlString(@NonNull final String serverHostname) {
 
         ClientMetadata clientMetadata = ClientMetadata.getInstance(mContext);
 
-        setSdkVersion(clientMetadata.getSdkVersion());
+        addParam(SDK_VERSION_KEY, clientMetadata.getSdkVersion());
+
+        appendAppEngineInfo();
 
         setDeviceInfo(clientMetadata.getDeviceManufacturer(),
                 clientMetadata.getDeviceModel(),
@@ -53,8 +55,4 @@ public String generateUrlString(@NonNull final String serverHostname) {
     private void setAdUnitId(@NonNull String adUnitId) {
         addParam("id", adUnitId);
     }
-
-    private void setSdkVersion(@NonNull String sdkVersion) {
-        addParam("nv", sdkVersion);
-    }
 }
diff --git a/mopub-sdk/mopub-sdk-rewardedvideo/src/main/java/com/mopub/mobileads/MoPubRewardedVideoManager.java b/mopub-sdk/mopub-sdk-rewardedvideo/src/main/java/com/mopub/mobileads/MoPubRewardedVideoManager.java
index 47806418..f75ff777 100644
--- a/mopub-sdk/mopub-sdk-rewardedvideo/src/main/java/com/mopub/mobileads/MoPubRewardedVideoManager.java
+++ b/mopub-sdk/mopub-sdk-rewardedvideo/src/main/java/com/mopub/mobileads/MoPubRewardedVideoManager.java
@@ -7,12 +7,16 @@
 import android.app.Activity;
 import android.content.Context;
 import android.content.SharedPreferences;
+import android.graphics.Point;
 import android.location.Location;
+import android.os.Build;
 import android.os.Handler;
 import android.os.Looper;
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
 import android.text.TextUtils;
+import android.view.Window;
+import android.view.WindowInsets;
 
 import com.mopub.common.AdReport;
 import com.mopub.common.AdUrlGenerator;
@@ -282,14 +286,15 @@ public void run() {
         }
 
         final AdUrlGenerator urlGenerator = new WebViewAdUrlGenerator(sInstance.mContext, false);
-        final String adUrlString = urlGenerator.withAdUnitId(adUnitId)
+        urlGenerator.withAdUnitId(adUnitId)
                 .withKeywords(requestParameters == null ? null : requestParameters.mKeywords)
                 .withUserDataKeywords((requestParameters == null ||
                         !MoPub.canCollectPersonalInformation()) ? null : requestParameters.mUserDataKeywords)
-                .withLocation(requestParameters == null ? null : requestParameters.mLocation)
-                .generateUrlString(Constants.HOST);
+                .withLocation(requestParameters == null ? null : requestParameters.mLocation);
 
-        loadVideo(adUnitId, adUrlString, null);
+        setSafeAreaValues(urlGenerator);
+
+        loadVideo(adUnitId, urlGenerator.generateUrlString(Constants.HOST), null);
     }
 
     private static void loadVideo(@NonNull String adUnitId, @NonNull String adUrlString, @Nullable MoPubErrorCode errorCode) {
@@ -406,6 +411,31 @@ public static void selectReward(@NonNull String adUnitId, @NonNull MoPubReward s
         }
     }
 
+    private static void setSafeAreaValues(@NonNull final AdUrlGenerator urlGenerator) {
+        Preconditions.checkNotNull(urlGenerator);
+
+        // Set the requested ad size as screen size
+        final Point dimens = ClientMetadata.getInstance(sInstance.mContext).getDeviceDimensions();
+        urlGenerator.withRequestedAdSize(dimens);
+
+        // Set the window insets if we can get them
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.P) {
+            final Activity activity = sInstance.mMainActivity.get();
+            if (activity == null) {
+                return;
+            }
+            final Window window = sInstance.mMainActivity.get().getWindow();
+            if (window == null) {
+                return;
+            }
+            final WindowInsets insets = window.getDecorView().getRootWindowInsets();
+            if (insets == null) {
+                return;
+            }
+            urlGenerator.withWindowInsets(insets);
+        }
+    }
+
     ///// Ad Request / Response methods /////
     void onAdSuccess(AdResponse adResponse) {
         final String adUnitId = adResponse.getAdUnitId();
diff --git a/mopub-sdk/shared-build.gradle b/mopub-sdk/shared-build.gradle
index 536eacb5..f2409660 100644
--- a/mopub-sdk/shared-build.gradle
+++ b/mopub-sdk/shared-build.gradle
@@ -16,7 +16,7 @@ repositories {
 }
 
 project.group = 'com.mopub'
-project.version = '5.7.1'
+project.version = '5.8.0'
 
 android {
     compileSdkVersion 27
@@ -24,7 +24,7 @@ android {
     lintOptions { abortOnError false }
 
     defaultConfig {
-        versionCode 69
+        versionCode 71
         versionName version
         minSdkVersion 16
         targetSdkVersion 27
@@ -57,6 +57,7 @@ android {
             all {
                 jvmArgs '-XX:MaxPermSize=4096m', '-Xmx8192m', '-noverify'
                 forkEvery 200
+                maxParallelForks Runtime.runtime.availableProcessors().intdiv(2) ?: 1
             }
         }
     }
diff --git a/mopub-sdk/src/test/java/com/mopub/common/MoPubBrowserTest.java b/mopub-sdk/src/test/java/com/mopub/common/MoPubBrowserTest.java
index 3557f920..75fc304f 100644
--- a/mopub-sdk/src/test/java/com/mopub/common/MoPubBrowserTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/common/MoPubBrowserTest.java
@@ -4,6 +4,8 @@
 
 package com.mopub.common;
 
+import android.os.Build;
+import android.view.View;
 import android.webkit.CookieSyncManager;
 import android.webkit.WebView;
 
@@ -13,11 +15,14 @@
 import org.junit.Test;
 import org.junit.runner.RunWith;
 import org.robolectric.Robolectric;
+import org.robolectric.annotation.Config;
 
 import static org.mockito.Mockito.mock;
 import static org.mockito.Mockito.never;
 import static org.mockito.Mockito.verify;
 
+import static org.fest.assertions.api.Assertions.assertThat;
+
 @RunWith(SdkTestRunner.class)
 public class MoPubBrowserTest {
 
@@ -30,7 +35,35 @@ public void setUp() {
         CookieSyncManager.createInstance(subject);
 
         mockWebView = mock(WebView.class);
-        subject.setWebView(mockWebView);
+    }
+
+    @Config(sdk = Build.VERSION_CODES.JELLY_BEAN_MR2)
+    @Test
+    public void moPubBrowser_shouldHaveSystemUiFlagsSet() throws Exception {
+        final int flags = View.SYSTEM_UI_FLAG_LOW_PROFILE
+                | View.SYSTEM_UI_FLAG_FULLSCREEN
+                | View.SYSTEM_UI_FLAG_LAYOUT_STABLE
+                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION
+                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;
+
+        subject.onResume();
+
+        assertThat(subject.getSystemUiVisibility()).isEqualTo(flags);
+    }
+
+    @Config(sdk = Build.VERSION_CODES.KITKAT)
+    @Test
+    public void moPubBrowser_withApi19AndAbove_shouldHaveSystemUiFlagsSetWithImmersive() throws Exception {
+        final int flags = View.SYSTEM_UI_FLAG_LOW_PROFILE
+                | View.SYSTEM_UI_FLAG_FULLSCREEN
+                | View.SYSTEM_UI_FLAG_LAYOUT_STABLE
+                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION
+                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION
+                | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY;
+
+        subject.onResume();
+
+        assertThat(subject.getSystemUiVisibility()).isEqualTo(flags);
     }
 
     @Test
@@ -38,6 +71,7 @@ public void onPause_withIsFinishingTrue_shouldStopLoading_shouldLoadBlankUrl_sho
         // We have to manually call #onPause here after #finish since the activity is not being managed by Android
         // Even if the activity was being managed by Android we would likely have to call onPause since the test would
         // complete before the UI thread had a chance to invoke the lifecycle events
+        subject.setWebView(mockWebView);
         subject.finish();
         subject.onPause();
 
@@ -48,6 +82,7 @@ public void onPause_withIsFinishingTrue_shouldStopLoading_shouldLoadBlankUrl_sho
 
     @Test
     public void onPause_withIsFinishingFalse_shouldPauseWebView() throws Exception {
+        subject.setWebView(mockWebView);
         subject.onPause();
 
         verify(mockWebView, never()).stopLoading();
@@ -57,6 +92,7 @@ public void onPause_withIsFinishingFalse_shouldPauseWebView() throws Exception {
 
     @Test
     public void onResume_shouldResumeWebView() throws Exception {
+        subject.setWebView(mockWebView);
         subject.onResume();
 
         verify(mockWebView).onResume();
@@ -64,6 +100,7 @@ public void onResume_shouldResumeWebView() throws Exception {
 
     @Test
     public void onDestroy_shouldDestroyWebView() throws Exception {
+        subject.setWebView(mockWebView);
         subject.onDestroy();
 
         verify(mockWebView).destroy();
diff --git a/mopub-sdk/src/test/java/com/mopub/common/privacy/ConsentDialogControllerTest.java b/mopub-sdk/src/test/java/com/mopub/common/privacy/ConsentDialogControllerTest.java
index 291e14dc..d1278b26 100644
--- a/mopub-sdk/src/test/java/com/mopub/common/privacy/ConsentDialogControllerTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/common/privacy/ConsentDialogControllerTest.java
@@ -65,7 +65,8 @@ public void setup() {
         mockRequestQueue = Mockito.mock(MoPubRequestQueueTest.TestMoPubRequestQueue.class);
         mockDialogListener = Mockito.mock(ConsentDialogListener.class);
         dialogResponse = new ConsentDialogResponse(HTML_TEXT);
-        personalInfoData = new PersonalInfoData(context, AD_UNIT_ID);
+        personalInfoData = new PersonalInfoData(context);
+        personalInfoData.setAdUnit(AD_UNIT_ID);
 
         PowerMockito.mockStatic(Networking.class);
         when(Networking.getRequestQueue(context)).thenReturn(mockRequestQueue);
diff --git a/mopub-sdk/src/test/java/com/mopub/common/privacy/ConsentDialogUrlGeneratorTest.java b/mopub-sdk/src/test/java/com/mopub/common/privacy/ConsentDialogUrlGeneratorTest.java
index c9b001c1..1455b35f 100644
--- a/mopub-sdk/src/test/java/com/mopub/common/privacy/ConsentDialogUrlGeneratorTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/common/privacy/ConsentDialogUrlGeneratorTest.java
@@ -7,10 +7,13 @@
 import android.app.Activity;
 import android.content.Context;
 
+import com.mopub.common.AppEngineInfo;
+import com.mopub.common.BaseUrlGenerator;
 import com.mopub.common.ClientMetadata;
 import com.mopub.common.Constants;
 import com.mopub.common.MoPub;
 
+import org.junit.After;
 import org.junit.Before;
 import org.junit.Rule;
 import org.junit.Test;
@@ -65,6 +68,11 @@ public void setup() {
                 mockClientMetadata);
     }
 
+    @After
+    public void tearDown() {
+        BaseUrlGenerator.setAppEngineInfo(null);
+    }
+
     @Test(expected = NullPointerException.class)
     public void constructor_withContextNull_shouldThrowException() {
         subject = new ConsentDialogUrlGenerator(null, AD_UNIT_ID, UNKNOWN.getValue());
@@ -115,6 +123,35 @@ public void generateUrlString_withAllParameters_shouldGenerateValidUrl() {
         assertThat(map.size()).isEqualTo(12);
     }
 
+    @Test
+    public void generateUrlString_withAllParameters_withAppEngine_shouldGenerateValidUrl() {
+        MoPub.setEngineInformation(new AppEngineInfo("unity", "123"));
+        subject = new ConsentDialogUrlGenerator(context, AD_UNIT_ID, EXPLICIT_YES.getValue());
+        subject.withConsentedPrivacyPolicyVersion(POLICY_VERSION)
+                .withConsentedVendorListVersion(VENDOR_LIST_VERSION)
+                .withForceGdprApplies(true)
+                .withGdprApplies(true);
+
+        String url = subject.generateUrlString(Constants.HOST);
+        Map<String, String> map = urlToMap(url);
+
+        assertThat(map.get(HOST_KEY)).isEqualTo(Constants.HOST);
+        assertThat(map.get(SCHEME_KEY)).isEqualTo(Constants.HTTPS);
+        assertThat(map.get(PATH_KEY)).isEqualTo(Constants.GDPR_CONSENT_HANDLER);
+        assertThat(map.get("id")).isEqualTo(AD_UNIT_ID);
+        assertThat(map.get("current_consent_status")).isEqualTo(EXPLICIT_YES.getValue());
+        assertThat(map.get("nv")).isEqualTo(MoPub.SDK_VERSION);
+        assertThat(map.get("e_name")).isEqualTo("unity");
+        assertThat(map.get("e_ver")).isEqualTo("123");
+        assertThat(map.get("language")).isEqualTo(CURRENT_LANGUAGE);
+        assertThat(map.get("gdpr_applies")).isEqualTo("1");
+        assertThat(map.get("force_gdpr_applies")).isEqualTo("1");
+        assertThat(map.get("consented_vendor_list_version")).isEqualTo(VENDOR_LIST_VERSION);
+        assertThat(map.get("consented_privacy_policy_version")).isEqualTo(POLICY_VERSION);
+        assertThat(map.get("bundle")).isEqualTo(BUNDLE);
+        assertThat(map.size()).isEqualTo(14);
+    }
+
     @Test
     public void generateUrlString_withGdprAppliesNotSet_shouldNotIncludeGdprParam() {
         subject = new ConsentDialogUrlGenerator(context, AD_UNIT_ID, EXPLICIT_NO.getValue());
diff --git a/mopub-sdk/src/test/java/com/mopub/common/privacy/PersonalInfoDataTest.java b/mopub-sdk/src/test/java/com/mopub/common/privacy/PersonalInfoDataTest.java
index fcfa6845..dcc08da0 100644
--- a/mopub-sdk/src/test/java/com/mopub/common/privacy/PersonalInfoDataTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/common/privacy/PersonalInfoDataTest.java
@@ -24,7 +24,7 @@
     @Before
     public void setUp() {
         activity = Robolectric.buildActivity(Activity.class).get();
-        subject = new PersonalInfoData(activity, "adUnit");
+        subject = new PersonalInfoData(activity);
     }
 
     @Test
@@ -43,4 +43,19 @@ public void replaceLanguageMacro_withLanguageMacro_shouldReplaceLanguageMacro()
 
         assertThat(result).isEqualTo("someurl://en/somepath");
     }
+
+    @Test
+    public void chooseAdUnit_withEmptyAdUnit_shouldChooseCachedLastAdUnitIdUsedForInit() {
+        subject.setCachedLastAdUnitIdUsedForInit("cached");
+
+        assertThat(subject.chooseAdUnit()).isEqualTo("cached");
+    }
+
+    @Test
+    public void chooseAdUnit_withAdUnit_shouldChooseAdUnit() {
+        subject.setAdUnit("adunit");
+        subject.setCachedLastAdUnitIdUsedForInit("cached");
+
+        assertThat(subject.chooseAdUnit()).isEqualTo("adunit");
+    }
 }
diff --git a/mopub-sdk/src/test/java/com/mopub/common/privacy/PersonalInfoManagerTest.java b/mopub-sdk/src/test/java/com/mopub/common/privacy/PersonalInfoManagerTest.java
index ee8712a9..4e461980 100644
--- a/mopub-sdk/src/test/java/com/mopub/common/privacy/PersonalInfoManagerTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/common/privacy/PersonalInfoManagerTest.java
@@ -739,6 +739,24 @@ public void serverOverrideListener_onForceGdprApplies_shouldForceGdprApplies() {
         assertThat(subject.gdprApplies()).isTrue();
     }
 
+    @Test
+    public void serverOverrideListener_onRequestSuccess_withNoCachedAdUnit_shouldSetAdUnit() {
+        personalInfoData.setAdUnit("");
+
+        subject.getServerOverrideListener().onRequestSuccess("newAdUnit");
+
+        assertThat(personalInfoData.getAdUnitId()).isEqualTo("newAdUnit");
+    }
+
+    @Test
+    public void serverOverrideListener_onRequestSuccess_withCachedAdUnit_shouldDoNothing() {
+        personalInfoData.setAdUnit("oldAdUnit");
+
+        subject.getServerOverrideListener().onRequestSuccess("newAdUnit");
+
+        assertThat(personalInfoData.getAdUnitId()).isEqualTo("oldAdUnit");
+    }
+
     @Test
     public void attemptStateTransition_withSameConsentStatus_shouldDoNothing() {
         subject.attemptStateTransition(ConsentStatus.UNKNOWN, "no reason");
diff --git a/mopub-sdk/src/test/java/com/mopub/common/privacy/SyncUrlGeneratorTest.java b/mopub-sdk/src/test/java/com/mopub/common/privacy/SyncUrlGeneratorTest.java
index 3b387f8b..ee3ca61a 100644
--- a/mopub-sdk/src/test/java/com/mopub/common/privacy/SyncUrlGeneratorTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/common/privacy/SyncUrlGeneratorTest.java
@@ -7,6 +7,8 @@
 import android.app.Activity;
 import android.content.Context;
 
+import com.mopub.common.AppEngineInfo;
+import com.mopub.common.BaseUrlGenerator;
 import com.mopub.common.ClientMetadata;
 import com.mopub.common.Constants;
 import com.mopub.common.MoPub;
@@ -14,6 +16,7 @@
 import com.mopub.nativeads.NativeUrlGeneratorTest;
 import com.mopub.network.PlayServicesUrlRewriter;
 
+import org.junit.After;
 import org.junit.Before;
 import org.junit.Rule;
 import org.junit.Test;
@@ -63,8 +66,14 @@ public void setUp() {
         when(ClientMetadata.getInstance(any(Context.class))).thenReturn(clientMetadata);
     }
 
+    @After
+    public void tearDown() {
+        BaseUrlGenerator.setAppEngineInfo(null);
+    }
+
     @Test
     public void generateUrlString_withAllParams_shouldGenerateFullUrl() {
+        MoPub.setEngineInformation(new AppEngineInfo("ename", "eversion"));
         subject.withAdUnitId(AD_UNIT);
         subject.withUdid(UDID);
         subject.withGdprApplies(true);
@@ -110,6 +119,12 @@ public void generateUrlString_withAllParams_shouldGenerateFullUrl() {
                 "extras")).isEqualTo(EXTRAS);
         assertThat(NativeUrlGeneratorTest.getParameterFromRequestUrl(url,
                 "dnt")).isEqualTo(PlayServicesUrlRewriter.DO_NOT_TRACK_TEMPLATE);
+        assertThat(NativeUrlGeneratorTest.getParameterFromRequestUrl(url,
+                "mid")).isEqualTo(PlayServicesUrlRewriter.MOPUB_ID_TEMPLATE);
+        assertThat(NativeUrlGeneratorTest.getParameterFromRequestUrl(url,
+                "e_name")).isEqualTo("ename");
+        assertThat(NativeUrlGeneratorTest.getParameterFromRequestUrl(url,
+                "e_ver")).isEqualTo("eversion");
     }
 
     @Test
@@ -118,7 +133,8 @@ public void generateUrlString_withMinimumParams_shouldGenerateValidUrl() throws
 
         assertThat(url).isEqualTo("https://minurl/m/gdpr_sync?nv=" +
                 URLEncoder.encode(MoPub.SDK_VERSION, "UTF-8") +
-                "&current_consent_status=unknown&force_gdpr_applies=0&dnt=mp_tmpl_do_not_track");
+                "&current_consent_status=unknown&force_gdpr_applies=0&dnt=mp_tmpl_do_not_track" +
+                "&mid=mp_tmpl_mopub_id");
     }
 
     @Test
@@ -132,7 +148,7 @@ public void generateUrlString_withExtrasThatShouldBeUrlEncoded_shouldGenerateVal
                 URLEncoder.encode(MoPub.SDK_VERSION, "UTF-8") +
                 "&current_consent_status=explicit_yes" +
                 "&extras=!%40%23%24%25%5E%26*()_%3B'%5B%5D%7B%7D%7C%5C" +
-                "&force_gdpr_applies=0&dnt=mp_tmpl_do_not_track");
+                "&force_gdpr_applies=0&dnt=mp_tmpl_do_not_track&mid=mp_tmpl_mopub_id");
     }
 
 }
diff --git a/mopub-sdk/src/test/java/com/mopub/mobileads/AdViewControllerTest.java b/mopub-sdk/src/test/java/com/mopub/mobileads/AdViewControllerTest.java
index 099a22ff..3dfabc87 100644
--- a/mopub-sdk/src/test/java/com/mopub/mobileads/AdViewControllerTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mobileads/AdViewControllerTest.java
@@ -7,6 +7,7 @@
 import android.Manifest;
 import android.app.Activity;
 import android.content.Context;
+import android.graphics.Point;
 import android.location.Location;
 import android.net.ConnectivityManager;
 import android.net.Uri;
@@ -205,6 +206,33 @@ public void generateAdUrl_shouldSetUserDataKeywordsIfUserConsent() {
         assertThat(getParameterFromRequestUrl(adUrl, "user_data_q")).isEqualTo("user_data_keywords");
     }
 
+    @Test
+    public void generateAdUrl_withoutSetRequestedAdSize_shouldSetRequestedAdSizeToZeroZero() {
+        subject.setAdUnitId("abc123");
+        subject.setKeywords("keywords");
+        subject.setUserDataKeywords("user_data_keywords");
+        subject.setLocation(new Location(""));
+        WebViewAdUrlGenerator mUrlGenerator = new WebViewAdUrlGenerator(mockMoPubView.getContext(), false);
+
+        final String adUrl = subject.generateAdUrl();
+        assertThat(getParameterFromRequestUrl(adUrl, "cw")).isEqualTo("0");
+        assertThat(getParameterFromRequestUrl(adUrl, "ch")).isEqualTo("0");
+    }
+
+    @Test
+    public void generateAdUrl_withSetRequestedAdSize_shouldSetRequestedAdSize() {
+        subject.setAdUnitId("abc123");
+        subject.setKeywords("keywords");
+        subject.setUserDataKeywords("user_data_keywords");
+        subject.setLocation(new Location(""));
+        subject.setRequestedAdSize(new Point(120, 240));
+        WebViewAdUrlGenerator mUrlGenerator = new WebViewAdUrlGenerator(mockMoPubView.getContext(), false);
+
+        final String adUrl = subject.generateAdUrl();
+        assertThat(getParameterFromRequestUrl(adUrl, "cw")).isEqualTo("120");
+        assertThat(getParameterFromRequestUrl(adUrl, "ch")).isEqualTo("240");
+    }
+
     @Test
     public void adDidFail_shouldScheduleRefreshTimer_shouldCallMoPubViewAdFailed() {
         ShadowLooper.pauseMainLooper();
diff --git a/mopub-sdk/src/test/java/com/mopub/mobileads/BaseVideoPlayerActivityTest.java b/mopub-sdk/src/test/java/com/mopub/mobileads/BaseVideoPlayerActivityTest.java
index 8e0d1eae..a926ff65 100644
--- a/mopub-sdk/src/test/java/com/mopub/mobileads/BaseVideoPlayerActivityTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mobileads/BaseVideoPlayerActivityTest.java
@@ -9,6 +9,7 @@
 import android.content.Intent;
 import android.media.AudioManager;
 
+import com.mopub.common.CreativeOrientation;
 import com.mopub.common.test.support.SdkTestRunner;
 import com.mopub.common.util.Utils;
 
@@ -36,11 +37,13 @@
 
     private long testBroadcastIdentifier;
     private VastVideoConfig mVastVideoConfig;
+    private CreativeOrientation mOrientation;
 
     @Before
     public void setup() throws Exception {
         mVastVideoConfig = mock(VastVideoConfig.class, withSettings().serializable());
         testBroadcastIdentifier = 1234;
+        mOrientation = CreativeOrientation.DEVICE;
     }
 
     @Test
@@ -52,7 +55,7 @@ public void startMraid_shouldStartMraidVideoPlayerActivity() throws Exception {
     @Test
     public void startVast_shouldStartMraidVideoPlayerActivity() throws Exception {
         startVast(Robolectric.buildActivity(Activity.class).create().get(), mVastVideoConfig,
-                testBroadcastIdentifier);
+                testBroadcastIdentifier, mOrientation);
         assertVastVideoPlayerActivityStarted(MraidVideoPlayerActivity.class, mVastVideoConfig,
                 testBroadcastIdentifier);
     }
diff --git a/mopub-sdk/src/test/java/com/mopub/mobileads/ConversionUrlGeneratorTest.java b/mopub-sdk/src/test/java/com/mopub/mobileads/ConversionUrlGeneratorTest.java
index 07d63efd..847664bf 100644
--- a/mopub-sdk/src/test/java/com/mopub/mobileads/ConversionUrlGeneratorTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mobileads/ConversionUrlGeneratorTest.java
@@ -52,7 +52,7 @@ public void setUp() throws Exception {
         when(ClientMetadata.getInstance(context)).thenReturn(clientMetadata);
     }
 
-    //https://ads.mopub.com/m/open?v=6&av=app_version&udid=mp_tmpl_advertising_id&dnt=mp_tmpl_do_not_track&id=com.mopub.mobileads&st=1&nv=5.0.0&current_consent_status=consent_status&consented_vendor_list_version=vendor_list_version&consented_privacy_policy_version=privacy_version&gdpr_applies=0
+    //https://ads.mopub.com/m/open?v=6&av=app_version&udid=mp_tmpl_advertising_id&dnt=mp_tmpl_do_not_track&mid=mp_tmpl_mopub_id&id=com.mopub.mobileads&st=1&nv=5.0.0&current_consent_status=consent_status&consented_vendor_list_version=vendor_list_version&consented_privacy_policy_version=privacy_version&gdpr_applies=0
     @Test
     public void generateUrlString_allParametersSet_shouldReturnValidUrl() {
         ConversionUrlGenerator subject = new ConversionUrlGenerator(context);
@@ -69,6 +69,7 @@ public void generateUrlString_allParametersSet_shouldReturnValidUrl() {
         assertThat(NativeUrlGeneratorTest.getParameterFromRequestUrl(url, "nv")).isEqualTo(MoPub.SDK_VERSION);
         assertThat(NativeUrlGeneratorTest.getParameterFromRequestUrl(url, "av")).isEqualTo(APP_VERSION);
         assertThat(NativeUrlGeneratorTest.getParameterFromRequestUrl(url, "udid")).isEqualTo("mp_tmpl_advertising_id");
+        assertThat(NativeUrlGeneratorTest.getParameterFromRequestUrl(url, "mid")).isEqualTo("mp_tmpl_mopub_id");
         assertThat(NativeUrlGeneratorTest.getParameterFromRequestUrl(url, "st")).isEqualTo("1");
         assertThat(NativeUrlGeneratorTest.getParameterFromRequestUrl(url, "current_consent_status")).isEqualTo(CONSENT_STATUS);
         assertThat(NativeUrlGeneratorTest.getParameterFromRequestUrl(url, "gdpr_applies")).isEqualTo("0");
@@ -92,6 +93,7 @@ public void generateUrlString_allParametersNoSt_shouldReturnValidUrl() {
         assertThat(NativeUrlGeneratorTest.getParameterFromRequestUrl(url, "nv")).isEqualTo(MoPub.SDK_VERSION);
         assertThat(NativeUrlGeneratorTest.getParameterFromRequestUrl(url, "av")).isEqualTo(APP_VERSION);
         assertThat(NativeUrlGeneratorTest.getParameterFromRequestUrl(url, "udid")).isEqualTo("mp_tmpl_advertising_id");
+        assertThat(NativeUrlGeneratorTest.getParameterFromRequestUrl(url, "mid")).isEqualTo("mp_tmpl_mopub_id");
         assertThat(url.indexOf("&st=")).isEqualTo(-1);
         assertThat(NativeUrlGeneratorTest.getParameterFromRequestUrl(url, "current_consent_status")).isEqualTo(CONSENT_STATUS);
         assertThat(NativeUrlGeneratorTest.getParameterFromRequestUrl(url, "gdpr_applies")).isEqualTo("0");
diff --git a/mopub-sdk/src/test/java/com/mopub/mobileads/EventForwardingBroadcastReceiverTest.java b/mopub-sdk/src/test/java/com/mopub/mobileads/EventForwardingBroadcastReceiverTest.java
index 1591f431..13d5e304 100644
--- a/mopub-sdk/src/test/java/com/mopub/mobileads/EventForwardingBroadcastReceiverTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mobileads/EventForwardingBroadcastReceiverTest.java
@@ -19,7 +19,6 @@
 import org.junit.Test;
 import org.junit.runner.RunWith;
 import org.robolectric.Robolectric;
-import org.robolectric.shadows.support.v4.ShadowLocalBroadcastManager;
 
 import java.util.HashMap;
 import java.util.Iterator;
@@ -178,7 +177,7 @@ public void onReceiver_whenCustomEventInterstitialListenerIsNull_shouldNotBlowUp
     public void register_shouldEnableReceivingBroadcasts() throws Exception {
         subject.register(subject, context);
         Intent intent = getIntentForActionAndIdentifier(ACTION_INTERSTITIAL_SHOW, broadcastIdentifier);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener).onInterstitialShown();
     }
@@ -189,7 +188,7 @@ public void unregister_shouldDisableReceivingBroadcasts() throws Exception {
 
         subject.unregister(subject);
         Intent intent = getIntentForActionAndIdentifier(ACTION_INTERSTITIAL_SHOW, broadcastIdentifier);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener, never()).onInterstitialShown();
     }
@@ -211,7 +210,7 @@ public void unregister_shouldNotLeakTheContext() throws Exception {
 
         // Unregister shouldn't know the context any more and so should not have worked
         Intent intent = getIntentForActionAndIdentifier(ACTION_INTERSTITIAL_SHOW, broadcastIdentifier);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
         verify(customEventInterstitialListener).onInterstitialShown();
     }
 
diff --git a/mopub-sdk/src/test/java/com/mopub/mobileads/HtmlInterstitialTest.java b/mopub-sdk/src/test/java/com/mopub/mobileads/HtmlInterstitialTest.java
index 30bdab61..d5ff26b2 100644
--- a/mopub-sdk/src/test/java/com/mopub/mobileads/HtmlInterstitialTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mobileads/HtmlInterstitialTest.java
@@ -6,6 +6,7 @@
 
 import android.app.Activity;
 import android.content.Intent;
+import android.support.v4.content.LocalBroadcastManager;
 
 import com.mopub.common.test.support.SdkTestRunner;
 import com.mopub.mobileads.test.support.TestHtmlInterstitialWebViewFactory;
@@ -16,7 +17,6 @@
 import org.junit.runner.RunWith;
 import org.robolectric.Robolectric;
 import org.robolectric.shadows.ShadowApplication;
-import org.robolectric.shadows.support.v4.ShadowLocalBroadcastManager;
 
 import java.util.HashMap;
 import java.util.Map;
@@ -109,12 +109,12 @@ public void loadInterstitial_shouldConnectListenerToBroadcastReceiver() throws E
         subject.loadInterstitial(context, customEventInterstitialListener, localExtras, serverExtras);
 
         Intent intent = getIntentForActionAndIdentifier(ACTION_INTERSTITIAL_SHOW, broadcastIdentifier);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener).onInterstitialShown();
 
         intent = getIntentForActionAndIdentifier(ACTION_INTERSTITIAL_DISMISS, broadcastIdentifier);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener).onInterstitialDismissed();
     }
@@ -126,12 +126,12 @@ public void onInvalidate_shouldDisconnectListenerToBroadcastReceiver() throws Ex
 
         Intent intent;
         intent = new Intent(ACTION_INTERSTITIAL_SHOW);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener, never()).onInterstitialShown();
 
         intent = new Intent(ACTION_INTERSTITIAL_DISMISS);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener, never()).onInterstitialDismissed();
     }
diff --git a/mopub-sdk/src/test/java/com/mopub/mobileads/MoPubActivityTest.java b/mopub-sdk/src/test/java/com/mopub/mobileads/MoPubActivityTest.java
index f8122e9c..8d2e27f4 100644
--- a/mopub-sdk/src/test/java/com/mopub/mobileads/MoPubActivityTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mobileads/MoPubActivityTest.java
@@ -9,6 +9,7 @@
 import android.content.Context;
 import android.content.Intent;
 import android.content.pm.ActivityInfo;
+import android.support.v4.content.LocalBroadcastManager;
 import android.view.View;
 import android.view.ViewGroup;
 import android.webkit.WebViewClient;
@@ -29,11 +30,9 @@
 import org.robolectric.shadow.api.Shadow;
 import org.robolectric.shadows.ShadowActivity;
 import org.robolectric.shadows.ShadowApplication;
-import org.robolectric.shadows.support.v4.ShadowLocalBroadcastManager;
 
 import static com.mopub.common.DataKeys.CLICKTHROUGH_URL_KEY;
 import static com.mopub.common.DataKeys.CREATIVE_ORIENTATION_KEY;
-import static com.mopub.common.DataKeys.HTML_RESPONSE_BODY_KEY;
 import static com.mopub.common.IntentActions.ACTION_INTERSTITIAL_CLICK;
 import static com.mopub.common.IntentActions.ACTION_INTERSTITIAL_DISMISS;
 import static com.mopub.common.IntentActions.ACTION_INTERSTITIAL_FAIL;
@@ -81,7 +80,7 @@ public void setUp() throws Exception {
         final ActivityController<MoPubActivity> subjectController = Robolectric.buildActivity(
                 MoPubActivity.class, moPubActivityIntent);
         subject = subjectController.get();
-        ShadowLocalBroadcastManager.getInstance(subject).registerReceiver(broadcastReceiver,
+        LocalBroadcastManager.getInstance(subject).registerReceiver(broadcastReceiver,
                 new EventForwardingBroadcastReceiver(customEventInterstitialListener,
                         testBroadcastIdentifier).getIntentFilter());
         subjectController.create();
@@ -211,7 +210,7 @@ public void getAdView_shouldCreateHtmlInterstitialWebViewAndLoadResponse() throw
     public void getAdView_shouldSetUpForBroadcastingClicks() throws Exception {
         subject.getAdView();
         BroadcastReceiver broadcastReceiver = mock(BroadcastReceiver.class);
-        ShadowLocalBroadcastManager.getInstance(subject).registerReceiver(broadcastReceiver,
+        LocalBroadcastManager.getInstance(subject).registerReceiver(broadcastReceiver,
                 new EventForwardingBroadcastReceiver(customEventInterstitialListener,
                         testBroadcastIdentifier).getIntentFilter());
 
@@ -227,7 +226,7 @@ public void getAdView_shouldSetUpForBroadcastingClicks() throws Exception {
     public void getAdView_shouldSetUpForBroadcastingFail() throws Exception {
         subject.getAdView();
         BroadcastReceiver broadcastReceiver = mock(BroadcastReceiver.class);
-        ShadowLocalBroadcastManager.getInstance(subject).registerReceiver(broadcastReceiver,
+        LocalBroadcastManager.getInstance(subject).registerReceiver(broadcastReceiver,
                 new EventForwardingBroadcastReceiver(customEventInterstitialListener,
                         testBroadcastIdentifier).getIntentFilter());
 
diff --git a/mopub-sdk/src/test/java/com/mopub/mobileads/MoPubViewTest.java b/mopub-sdk/src/test/java/com/mopub/mobileads/MoPubViewTest.java
index 81d16a14..560fc99a 100644
--- a/mopub-sdk/src/test/java/com/mopub/mobileads/MoPubViewTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mobileads/MoPubViewTest.java
@@ -7,6 +7,7 @@
 import android.app.Activity;
 import android.content.Context;
 import android.content.Intent;
+import android.graphics.Point;
 import android.view.View;
 
 import com.mopub.common.test.support.SdkTestRunner;
@@ -248,6 +249,20 @@ public void invalidateAdapter_withReflection_shouldExist() throws Exception {
                 "invalidate")).isNotNull();
     }
 
+    @Test
+    public void loadAd_withoutRequestedAdSize_shouldSetRequestedAdSizeToZeroZero() throws Exception {
+        subject.loadAd();
+        final Point point = new Point(0, 0);
+        verify(adViewController).setRequestedAdSize(point);
+    }
+
+    @Test
+    public void loadAd_withRequestedAdSize_shouldSetRequestedAdSize() throws Exception {
+        final Point point = new Point(0, MoPubView.MoPubAdSize.HEIGHT_50.toInt());
+        subject.loadAd(MoPubView.MoPubAdSize.HEIGHT_50);
+        verify(adViewController).setRequestedAdSize(point);
+    }
+
     private void broadcastIntent(final Intent intent) {
         final List<ShadowApplication.Wrapper> wrappers = ShadowApplication.getInstance().getRegisteredReceivers();
 
diff --git a/mopub-sdk/src/test/java/com/mopub/mobileads/MraidActivityTest.java b/mopub-sdk/src/test/java/com/mopub/mobileads/MraidActivityTest.java
index 2c5df7fa..649e1c1d 100644
--- a/mopub-sdk/src/test/java/com/mopub/mobileads/MraidActivityTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mobileads/MraidActivityTest.java
@@ -9,6 +9,7 @@
 import android.content.ComponentName;
 import android.content.Context;
 import android.content.Intent;
+import android.support.v4.content.LocalBroadcastManager;
 import android.view.View;
 import android.view.ViewGroup;
 import android.view.WindowManager;
@@ -17,7 +18,6 @@
 
 import com.mopub.common.AdReport;
 import com.mopub.common.Constants;
-import com.mopub.common.CreativeOrientation;
 import com.mopub.common.test.support.SdkTestRunner;
 import com.mopub.mraid.MraidBridge;
 import com.mopub.mraid.MraidBridge.MraidWebView;
@@ -34,7 +34,6 @@
 import org.robolectric.Robolectric;
 import org.robolectric.Shadows;
 import org.robolectric.android.controller.ActivityController;
-import org.robolectric.shadows.support.v4.ShadowLocalBroadcastManager;
 
 import static com.mopub.common.DataKeys.BROADCAST_IDENTIFIER_KEY;
 import static com.mopub.common.DataKeys.HTML_RESPONSE_BODY_KEY;
@@ -42,7 +41,6 @@
 import static com.mopub.common.IntentActions.ACTION_INTERSTITIAL_DISMISS;
 import static com.mopub.common.IntentActions.ACTION_INTERSTITIAL_SHOW;
 import static com.mopub.mobileads.EventForwardingBroadcastReceiverTest.getIntentForActionAndIdentifier;
-import static com.mopub.mobileads.MoPubErrorCode.RENDER_PROCESS_GONE_WITH_CRASH;
 import static org.fest.assertions.api.Assertions.assertThat;
 import static org.mockito.Matchers.any;
 import static org.mockito.Matchers.eq;
@@ -232,7 +230,7 @@ public void onCreate_shouldSetHardwareAcceleratedFlag() throws Exception {
     @Test
     public void onDestroy_DestroyMraidView() throws Exception {
         Intent expectedIntent = getIntentForActionAndIdentifier(ACTION_INTERSTITIAL_DISMISS, subject.getBroadcastIdentifier());
-        ShadowLocalBroadcastManager.getInstance(subject).registerReceiver(broadcastReceiver,
+        LocalBroadcastManager.getInstance(subject).registerReceiver(broadcastReceiver,
                 new EventForwardingBroadcastReceiver(customEventInterstitialListener,
                         testBroadcastIdentifier).getIntentFilter());
 
@@ -293,7 +291,7 @@ public void baseMraidListenerOnClose_shouldFireJavascriptWebViewDidClose() throw
     @Test
     public void baseMraidListenerOnOpen_shouldBroadcastClickEvent() throws Exception {
         Intent expectedIntent = getIntentForActionAndIdentifier(ACTION_INTERSTITIAL_CLICK, testBroadcastIdentifier);
-        ShadowLocalBroadcastManager.getInstance(subject).registerReceiver(broadcastReceiver,
+        LocalBroadcastManager.getInstance(subject).registerReceiver(broadcastReceiver,
                 new EventForwardingBroadcastReceiver(customEventInterstitialListener,
                         testBroadcastIdentifier).getIntentFilter());
 
@@ -358,7 +356,7 @@ private Intent createMraidActivityIntent(String expectedSource) {
     @Test
     public void onCreate_shouldBroadcastInterstitialShow() throws Exception {
         Intent expectedIntent = getIntentForActionAndIdentifier(ACTION_INTERSTITIAL_SHOW, testBroadcastIdentifier);
-        ShadowLocalBroadcastManager.getInstance(subject).registerReceiver(broadcastReceiver,
+        LocalBroadcastManager.getInstance(subject).registerReceiver(broadcastReceiver,
                 new EventForwardingBroadcastReceiver(customEventInterstitialListener,
                         testBroadcastIdentifier).getIntentFilter());
 
@@ -369,7 +367,7 @@ public void onCreate_shouldBroadcastInterstitialShow() throws Exception {
     @Test
     public void onDestroy_shouldBroadcastInterstitialDismiss() throws Exception {
         Intent expectedIntent = getIntentForActionAndIdentifier(ACTION_INTERSTITIAL_DISMISS, testBroadcastIdentifier);
-        ShadowLocalBroadcastManager.getInstance(subject).registerReceiver(broadcastReceiver,
+        LocalBroadcastManager.getInstance(subject).registerReceiver(broadcastReceiver,
                 new EventForwardingBroadcastReceiver(customEventInterstitialListener,
                         testBroadcastIdentifier).getIntentFilter());
 
diff --git a/mopub-sdk/src/test/java/com/mopub/mobileads/VastManagerTest.java b/mopub-sdk/src/test/java/com/mopub/mobileads/VastManagerTest.java
index 60e8f006..6615c310 100644
--- a/mopub-sdk/src/test/java/com/mopub/mobileads/VastManagerTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mobileads/VastManagerTest.java
@@ -88,7 +88,7 @@ public void prepareVastVideoConfiguration_shouldNotifyTheListenerAndContainTheCo
         semaphore.acquire();
         verify(vastManagerListener).onVastVideoConfigurationPrepared(any(VastVideoConfig.class));
 
-        assertThat(mVastVideoConfig.getNetworkMediaFileUrl()).isEqualTo("https://s3.amazonaws.com/mopub-vast/tapad-video.mp4");
+        assertThat(mVastVideoConfig.getNetworkMediaFileUrl()).isEqualTo("https://s3.amazonaws.com/mopub-vast/tapad-video1.mp4");
 
         final String expectedFilePathDiskCache = CacheService.getFilePathDiskCache(mVastVideoConfig.getNetworkMediaFileUrl());
         assertThat(mVastVideoConfig.getDiskMediaFileUrl()).isEqualTo(expectedFilePathDiskCache);
@@ -151,7 +151,7 @@ public void prepareVastVideoConfiguration_shouldHandleMultipleRedirects() throws
                 .class));
 
         // at this point it should have 3 sets of data from TEST_VAST_XML_STRING and one set from TEST_NESTED_VAST_XML_STRING
-        assertThat(mVastVideoConfig.getNetworkMediaFileUrl()).isEqualTo("https://s3.amazonaws.com/mopub-vast/tapad-video.mp4");
+        assertThat(mVastVideoConfig.getNetworkMediaFileUrl()).isEqualTo("https://s3.amazonaws.com/mopub-vast/tapad-video1.mp4");
         final String expectedFilePathDiskCache = CacheService.getFilePathDiskCache(mVastVideoConfig.getNetworkMediaFileUrl());
         assertThat(mVastVideoConfig.getDiskMediaFileUrl()).isEqualTo(expectedFilePathDiskCache);
 
@@ -231,7 +231,6 @@ public void prepareVastVideoConfiguration_withNoExtensions_shouldContainTheCorre
         assertThat(mVastVideoConfig.getCustomCtaText()).isNull();
         assertThat(mVastVideoConfig.getCustomSkipText()).isNull();
         assertThat(mVastVideoConfig.getCustomCloseIconUrl()).isNull();
-        assertThat(mVastVideoConfig.getCustomForceOrientation()).isEqualTo(DeviceUtils.ForceOrientation.FORCE_LANDSCAPE);
     }
 
     @Test
@@ -249,7 +248,6 @@ public void prepareVastVideoConfiguration_withExtensionsUnderWrapper_shouldConta
                                 "<MoPubCtaText>custom CTA text</MoPubCtaText>" +
                                 "<MoPubSkipText>skip</MoPubSkipText>" +
                                 "<MoPubCloseIcon>https://ton.twitter.com/exchange-media/images/v4/star_icon_3x.png</MoPubCloseIcon>" +
-                                "<MoPubForceOrientation>device</MoPubForceOrientation>" +
                             "</Extension>" +
                         "</Extensions>"),
                 vastManagerListener,
@@ -265,7 +263,6 @@ public void prepareVastVideoConfiguration_withExtensionsUnderWrapper_shouldConta
         assertThat(mVastVideoConfig.getCustomCtaText()).isEqualTo("custom CTA text");
         assertThat(mVastVideoConfig.getCustomSkipText()).isEqualTo("skip");
         assertThat(mVastVideoConfig.getCustomCloseIconUrl()).isEqualTo("https://ton.twitter.com/exchange-media/images/v4/star_icon_3x.png");
-        assertThat(mVastVideoConfig.getCustomForceOrientation()).isEqualTo(DeviceUtils.ForceOrientation.DEVICE_ORIENTATION);
     }
 
     @Test
@@ -278,7 +275,6 @@ public void prepareVastVideoConfiguration_withExtensionsUnderInline_shouldContai
                                 "<MoPubCtaText>custom CTA text</MoPubCtaText>" +
                                 "<MoPubSkipText>skip</MoPubSkipText>" +
                                 "<MoPubCloseIcon>https://ton.twitter.com/exchange-media/images/v4/star_icon_3x.png</MoPubCloseIcon>" +
-                                "<MoPubForceOrientation>device</MoPubForceOrientation>" +
                                 "</Extension>" +
                                 "</Extensions>"));
         // Video download response
@@ -293,7 +289,6 @@ public void prepareVastVideoConfiguration_withExtensionsUnderInline_shouldContai
         assertThat(mVastVideoConfig.getCustomCtaText()).isEqualTo("custom CTA text");
         assertThat(mVastVideoConfig.getCustomSkipText()).isEqualTo("skip");
         assertThat(mVastVideoConfig.getCustomCloseIconUrl()).isEqualTo("https://ton.twitter.com/exchange-media/images/v4/star_icon_3x.png");
-        assertThat(mVastVideoConfig.getCustomForceOrientation()).isEqualTo(DeviceUtils.ForceOrientation.DEVICE_ORIENTATION);
     }
 
     @Test
@@ -306,7 +301,6 @@ public void prepareVastVideoConfiguration_withExtensionsUnderBothWrapperAndInlin
                                 "<MoPubCtaText>CTA 2</MoPubCtaText>" +
                                 "<MoPubSkipText>skip 2</MoPubSkipText>" +
                                 "<MoPubCloseIcon>https://ton.twitter.com/exchange-media/images/v4/star_icon_3x_2.png</MoPubCloseIcon>" +
-                                "<MoPubForceOrientation>landscape</MoPubForceOrientation>" +
                                 "</Extension>" +
                                 "</Extensions>"));
         // Video download response
@@ -320,7 +314,6 @@ public void prepareVastVideoConfiguration_withExtensionsUnderBothWrapperAndInlin
                                 "<MoPubCtaText>CTA 1</MoPubCtaText>" +
                                 "<MoPubSkipText>skip 1</MoPubSkipText>" +
                                 "<MoPubCloseIcon>https://ton.twitter.com/exchange-media/images/v4/star_icon_3x_1.png</MoPubCloseIcon>" +
-                                "<MoPubForceOrientation>device orientation</MoPubForceOrientation>" +
                             "</Extension>" +
                         "</Extensions>"),
                 vastManagerListener,
@@ -337,7 +330,6 @@ public void prepareVastVideoConfiguration_withExtensionsUnderBothWrapperAndInlin
         assertThat(mVastVideoConfig.getCustomCtaText()).isEqualTo("CTA 2");
         assertThat(mVastVideoConfig.getCustomSkipText()).isEqualTo("skip 2");
         assertThat(mVastVideoConfig.getCustomCloseIconUrl()).isEqualTo("https://ton.twitter.com/exchange-media/images/v4/star_icon_3x_2.png");
-        assertThat(mVastVideoConfig.getCustomForceOrientation()).isEqualTo(DeviceUtils.ForceOrientation.FORCE_LANDSCAPE);
     }
 
     @Test
@@ -400,46 +392,6 @@ public void prepareVastVideoConfiguration_withCustomSkipTextLongerThan8Chars_sho
         assertThat(mVastVideoConfig.getCustomSkipText()).isNull();
     }
 
-    @Test
-    public void prepareVastVideoConfiguration_withInvalidCustomForceOrientation_shouldReturnDefaultForceLandscapeOrientation() throws Exception {
-        // Vast redirect response
-        ShadowMoPubHttpUrlConnection.addPendingResponse(200,
-                TEST_NESTED_VAST_XML_STRING.replace(EXTENSIONS_SNIPPET_PLACEHOLDER,
-                        "<Extensions>" +
-                                "<Extension type=\"MoPub\">" +
-                                "<MoPubForceOrientation>abcd</MoPubForceOrientation>" +   // invalid value
-                                "</Extension>" +
-                                "</Extensions>"));
-        // Video download response
-        ShadowMoPubHttpUrlConnection.addPendingResponse(200, "video_data");
-
-        prepareVastVideoConfiguration();
-        semaphore.acquire();
-
-        verify(vastManagerListener).onVastVideoConfigurationPrepared(any(VastVideoConfig.class));
-        assertThat(mVastVideoConfig.getCustomForceOrientation()).isEqualTo(DeviceUtils.ForceOrientation.FORCE_LANDSCAPE);
-    }
-
-    @Test
-    public void prepareVastVideoConfiguration_withCustomForceOrientationInMixedCaseAndUntrimmed_shouldReturnCustomForceOrientation() throws Exception {
-        // Vast redirect response
-        ShadowMoPubHttpUrlConnection.addPendingResponse(200,
-                TEST_NESTED_VAST_XML_STRING.replace(EXTENSIONS_SNIPPET_PLACEHOLDER,
-                        "<Extensions>" +
-                                "<Extension type=\"MoPub\">" +
-                                "<MoPubForceOrientation> PortRAIT  </MoPubForceOrientation>" +
-                                "</Extension>" +
-                                "</Extensions>"));
-        // Video download response
-        ShadowMoPubHttpUrlConnection.addPendingResponse(200, "video_data");
-
-        prepareVastVideoConfiguration();
-        semaphore.acquire();
-
-        verify(vastManagerListener).onVastVideoConfigurationPrepared(any(VastVideoConfig.class));
-        assertThat(mVastVideoConfig.getCustomForceOrientation()).isEqualTo(DeviceUtils.ForceOrientation.FORCE_PORTRAIT);
-    }
-
     @Test
     public void prepareVastVideoConfiguration_withValidPercentSkipOffset_shouldReturnCorrectValue() throws Exception {
         // Vast redirect response
@@ -566,7 +518,7 @@ public void prepareVastVideoConfiguration_withEmptyXml_shouldReturnNull() throws
     public void prepareVastVideoConfiguration_withVideoInDiskCache_shouldNotDownloadVideo() throws Exception {
         ShadowMoPubHttpUrlConnection.addPendingResponse(200, TEST_NESTED_VAST_XML_STRING);
 
-        CacheService.putToDiskCache("https://s3.amazonaws.com/mopub-vast/tapad-video.mp4", "video_data".getBytes());
+        CacheService.putToDiskCache("https://s3.amazonaws.com/mopub-vast/tapad-video1.mp4", "video_data".getBytes());
 
         prepareVastVideoConfiguration();
         semaphore.acquire();
@@ -574,7 +526,7 @@ public void prepareVastVideoConfiguration_withVideoInDiskCache_shouldNotDownload
         assertThat(ShadowMoPubHttpUrlConnection.getLatestRequestUrl()).isNotNull();
         verify(vastManagerListener).onVastVideoConfigurationPrepared(any(VastVideoConfig.class));
         assertThat(mVastVideoConfig.getDiskMediaFileUrl())
-                .isEqualTo(CacheService.getFilePathDiskCache("https://s3.amazonaws.com/mopub-vast/tapad-video.mp4"));
+                .isEqualTo(CacheService.getFilePathDiskCache("https://s3.amazonaws.com/mopub-vast/tapad-video1.mp4"));
     }
 
     @Test
diff --git a/mopub-sdk/src/test/java/com/mopub/mobileads/VastVideoGradientStripWidgetTest.java b/mopub-sdk/src/test/java/com/mopub/mobileads/VastVideoGradientStripWidgetTest.java
index 045f60da..4ffbff58 100644
--- a/mopub-sdk/src/test/java/com/mopub/mobileads/VastVideoGradientStripWidgetTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mobileads/VastVideoGradientStripWidgetTest.java
@@ -12,7 +12,6 @@
 import android.widget.RelativeLayout;
 
 import com.mopub.common.test.support.SdkTestRunner;
-import com.mopub.common.util.DeviceUtils;
 
 import org.junit.Before;
 import org.junit.Test;
@@ -34,26 +33,25 @@ public void setUp() throws Exception {
     @Test
     public void constructor_whenForcePortrait_shouldBeInvisible() throws Exception {
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.FORCE_PORTRAIT, true, View.VISIBLE,
-                RelativeLayout.ALIGN_TOP, 0);
+                true, View.VISIBLE, RelativeLayout.ALIGN_TOP, 0);
 
         assertThat(subject.getVisibility()).isEqualTo(View.INVISIBLE);
     }
 
     @Test
-    public void constructor_whenForceLandscape_shouldBeVisible() throws Exception {
+    public void constructor_whenForceLandscape_shouldBeInvisible() throws Exception {
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.FORCE_LANDSCAPE, true, View.VISIBLE,
-                RelativeLayout.ALIGN_TOP, 0);
+                true, View.VISIBLE, RelativeLayout.ALIGN_TOP, 0);
 
-        assertThat(subject.getVisibility()).isEqualTo(View.VISIBLE);
+        // If not forcing orientation, visibility depends on device orientation,
+        // which is initially ORIENTATION_UNDEFINED in tests
+        assertThat(subject.getVisibility()).isEqualTo(View.INVISIBLE);
     }
 
     @Test
     public void constructor_whenUseDeviceOrientation_shouldBeInvisible() throws Exception {
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.DEVICE_ORIENTATION, true, View.VISIBLE,
-                RelativeLayout.ALIGN_TOP, 0);
+                true, View.VISIBLE, RelativeLayout.ALIGN_TOP, 0);
 
         // If not forcing orientation, visibility depends on device orientation,
         // which is initially ORIENTATION_UNDEFINED in tests
@@ -63,8 +61,7 @@ public void constructor_whenUseDeviceOrientation_shouldBeInvisible() throws Exce
     @Test
     public void constructor_whenForceOrientationUndefined_shouldBeInvisible() throws Exception {
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.UNDEFINED, true, View.VISIBLE,
-                RelativeLayout.ALIGN_TOP, 0);
+                true, View.VISIBLE, RelativeLayout.ALIGN_TOP, 0);
 
         // If force orientation undefined, visibility depends on device orientation,
         // which is initially ORIENTATION_UNDEFINED in tests
@@ -76,8 +73,7 @@ public void constructor_whenForceOrientationUndefined_shouldBeInvisible() throws
     @Test
     public void onConfigurationChanged_whenForcePortraitAndDeviceInPortrait_shouldBeInvisible() throws Exception {
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.FORCE_PORTRAIT, true, View.VISIBLE,
-                RelativeLayout.ALIGN_TOP, 0);
+                true, View.VISIBLE, RelativeLayout.ALIGN_TOP, 0);
         context.getResources().getConfiguration().orientation = Configuration.ORIENTATION_PORTRAIT;
 
         subject.onConfigurationChanged(context.getResources().getConfiguration());
@@ -86,22 +82,20 @@ public void onConfigurationChanged_whenForcePortraitAndDeviceInPortrait_shouldBe
     }
 
     @Test
-    public void onConfigurationChanged_whenForcePortraitAndDeviceInLandscape_shouldBeInvisible() throws Exception {
+    public void onConfigurationChanged_whenForcePortraitAndDeviceInLandscape_shouldBeVisible() throws Exception {
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.FORCE_PORTRAIT, true, View.VISIBLE,
-                RelativeLayout.ALIGN_TOP, 0);
+                true, View.VISIBLE, RelativeLayout.ALIGN_TOP, 0);
         context.getResources().getConfiguration().orientation = Configuration.ORIENTATION_LANDSCAPE;
 
         subject.onConfigurationChanged(context.getResources().getConfiguration());
 
-        assertThat(subject.getVisibility()).isEqualTo(View.INVISIBLE);
+        assertThat(subject.getVisibility()).isEqualTo(View.VISIBLE);
     }
 
     @Test
     public void onConfigurationChanged_whenForcePortraitAndDeviceOrientationUndefined_shouldBeInvisible() throws Exception {
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.FORCE_PORTRAIT, true, View.VISIBLE,
-                RelativeLayout.ALIGN_TOP, 0);
+                true, View.VISIBLE, RelativeLayout.ALIGN_TOP, 0);
         context.getResources().getConfiguration().orientation = Configuration.ORIENTATION_UNDEFINED;
 
         subject.onConfigurationChanged(context.getResources().getConfiguration());
@@ -112,22 +106,20 @@ public void onConfigurationChanged_whenForcePortraitAndDeviceOrientationUndefine
     // Video is still playing, forcing landscape orientation
 
     @Test
-    public void onConfigurationChanged_whenForceLandscapeAndDeviceInPortrait_shouldBeVisible() throws Exception {
+    public void onConfigurationChanged_whenForceLandscapeAndDeviceInPortrait_shouldBeInvisible() throws Exception {
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.FORCE_LANDSCAPE, true, View.VISIBLE,
-                RelativeLayout.ALIGN_TOP, 0);
+                true, View.VISIBLE, RelativeLayout.ALIGN_TOP, 0);
         context.getResources().getConfiguration().orientation = Configuration.ORIENTATION_PORTRAIT;
 
         subject.onConfigurationChanged(context.getResources().getConfiguration());
 
-        assertThat(subject.getVisibility()).isEqualTo(View.VISIBLE);
+        assertThat(subject.getVisibility()).isEqualTo(View.INVISIBLE);
     }
 
     @Test
     public void onConfigurationChanged_whenForceLandscapeAndDeviceInLandscape_shouldBeVisible() throws Exception {
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.FORCE_LANDSCAPE, true, View.VISIBLE,
-                RelativeLayout.ALIGN_TOP, 0);
+                true, View.VISIBLE, RelativeLayout.ALIGN_TOP, 0);
         context.getResources().getConfiguration().orientation = Configuration.ORIENTATION_LANDSCAPE;
 
         subject.onConfigurationChanged(context.getResources().getConfiguration());
@@ -136,15 +128,14 @@ public void onConfigurationChanged_whenForceLandscapeAndDeviceInLandscape_should
     }
 
     @Test
-    public void onConfigurationChanged_whenForceLandscapeAndDeviceOrientationUndefined_shouldBeVisible() throws Exception {
+    public void onConfigurationChanged_whenForceLandscapeAndDeviceOrientationUndefined_shouldBeInvisible() throws Exception {
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.FORCE_LANDSCAPE, true, View.VISIBLE,
-                RelativeLayout.ALIGN_TOP, 0);
+                true, View.VISIBLE, RelativeLayout.ALIGN_TOP, 0);
         context.getResources().getConfiguration().orientation = Configuration.ORIENTATION_UNDEFINED;
 
         subject.onConfigurationChanged(context.getResources().getConfiguration());
 
-        assertThat(subject.getVisibility()).isEqualTo(View.VISIBLE);
+        assertThat(subject.getVisibility()).isEqualTo(View.INVISIBLE);
     }
 
     // Video is still playing, use device orientation
@@ -152,8 +143,7 @@ public void onConfigurationChanged_whenForceLandscapeAndDeviceOrientationUndefin
     @Test
     public void onConfigurationChanged_whenUseDeviceOrientationAndDeviceInPortrait_shouldBeInvisible() throws Exception {
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.DEVICE_ORIENTATION, true, View.VISIBLE,
-                RelativeLayout.ALIGN_TOP, 0);
+                true, View.VISIBLE, RelativeLayout.ALIGN_TOP, 0);
         context.getResources().getConfiguration().orientation = Configuration.ORIENTATION_PORTRAIT;
 
         subject.onConfigurationChanged(context.getResources().getConfiguration());
@@ -164,8 +154,7 @@ public void onConfigurationChanged_whenUseDeviceOrientationAndDeviceInPortrait_s
     @Test
     public void onConfigurationChanged_whenUseDeviceOrientationAndDeviceInLandscape_shouldBeVisible() throws Exception {
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.DEVICE_ORIENTATION, true, View.VISIBLE,
-                RelativeLayout.ALIGN_TOP, 0);
+                true, View.VISIBLE, RelativeLayout.ALIGN_TOP, 0);
         context.getResources().getConfiguration().orientation = Configuration.ORIENTATION_LANDSCAPE;
 
         subject.onConfigurationChanged(context.getResources().getConfiguration());
@@ -176,8 +165,7 @@ public void onConfigurationChanged_whenUseDeviceOrientationAndDeviceInLandscape_
     @Test
     public void onConfigurationChanged_whenUseDeviceOrientationAndDeviceOrientationUndefined_shouldBeInvisible() throws Exception {
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.DEVICE_ORIENTATION, true, View.VISIBLE,
-                RelativeLayout.ALIGN_TOP, 0);
+                true, View.VISIBLE, RelativeLayout.ALIGN_TOP, 0);
         context.getResources().getConfiguration().orientation = Configuration.ORIENTATION_UNDEFINED;
 
         subject.onConfigurationChanged(context.getResources().getConfiguration());
@@ -190,8 +178,7 @@ public void onConfigurationChanged_whenUseDeviceOrientationAndDeviceOrientationU
     @Test
     public void onConfigurationChanged_whenForceOrientationUndefinedAndDeviceInPortrait_shouldBeInvisible() throws Exception {
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.UNDEFINED, true, View.VISIBLE,
-                RelativeLayout.ALIGN_TOP, 0);
+                true, View.VISIBLE, RelativeLayout.ALIGN_TOP, 0);
         context.getResources().getConfiguration().orientation = Configuration.ORIENTATION_PORTRAIT;
 
         subject.onConfigurationChanged(context.getResources().getConfiguration());
@@ -202,8 +189,7 @@ public void onConfigurationChanged_whenForceOrientationUndefinedAndDeviceInPortr
     @Test
     public void onConfigurationChanged_whenForceOrientationUndefinedAndDeviceInLandscape_shouldBeVisible() throws Exception {
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.UNDEFINED, true, View.VISIBLE,
-                RelativeLayout.ALIGN_TOP, 0);
+                true, View.VISIBLE, RelativeLayout.ALIGN_TOP, 0);
         context.getResources().getConfiguration().orientation = Configuration.ORIENTATION_LANDSCAPE;
 
         subject.onConfigurationChanged(context.getResources().getConfiguration());
@@ -214,8 +200,7 @@ public void onConfigurationChanged_whenForceOrientationUndefinedAndDeviceInLands
     @Test
     public void onConfigurationChanged_whenForceOrientationUndefinedAndDeviceOrientationUndefined_shouldBeInvisible() throws Exception {
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.UNDEFINED, true, View.VISIBLE,
-                RelativeLayout.ALIGN_TOP, 0);
+                true, View.VISIBLE, RelativeLayout.ALIGN_TOP, 0);
         context.getResources().getConfiguration().orientation = Configuration.ORIENTATION_UNDEFINED;
 
         subject.onConfigurationChanged(context.getResources().getConfiguration());
@@ -229,8 +214,7 @@ public void onConfigurationChanged_whenForceOrientationUndefinedAndDeviceOrienta
     public void notifyVideoComplete_withCompanionAd_shouldSetVisibilityForCompanionAd() throws Exception {
         final int visibilityForCompanionAd = View.VISIBLE;
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.FORCE_PORTRAIT, true, visibilityForCompanionAd,
-                RelativeLayout.ALIGN_TOP, 0);
+                true, visibilityForCompanionAd, RelativeLayout.ALIGN_TOP, 0);
 
         subject.notifyVideoComplete();
 
@@ -241,8 +225,7 @@ public void notifyVideoComplete_withCompanionAd_shouldSetVisibilityForCompanionA
     public void notifyVideoComplete_withoutCompanionAd_shouldBeGone() throws Exception {
         final int visibilityForCompanionAd = View.VISIBLE;
         subject = new VastVideoGradientStripWidget(context, GradientDrawable.Orientation.TOP_BOTTOM,
-                DeviceUtils.ForceOrientation.FORCE_PORTRAIT, false, visibilityForCompanionAd,
-                RelativeLayout.ALIGN_TOP, 0);
+                false, visibilityForCompanionAd, RelativeLayout.ALIGN_TOP, 0);
 
         subject.notifyVideoComplete();
 
diff --git a/mopub-sdk/src/test/java/com/mopub/mobileads/VastVideoInterstitialTest.java b/mopub-sdk/src/test/java/com/mopub/mobileads/VastVideoInterstitialTest.java
index 8b64f96e..ac03730e 100644
--- a/mopub-sdk/src/test/java/com/mopub/mobileads/VastVideoInterstitialTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mobileads/VastVideoInterstitialTest.java
@@ -7,6 +7,7 @@
 import android.app.Activity;
 import android.content.Context;
 import android.content.Intent;
+import android.support.v4.content.LocalBroadcastManager;
 
 import com.mopub.common.AdReport;
 import com.mopub.common.CacheServiceTest;
@@ -22,7 +23,6 @@
 import org.mockito.Mock;
 import org.robolectric.Robolectric;
 import org.robolectric.shadows.httpclient.FakeHttp;
-import org.robolectric.shadows.support.v4.ShadowLocalBroadcastManager;
 
 import java.util.Arrays;
 import java.util.HashMap;
@@ -136,12 +136,12 @@ public void loadInterstitial_shouldConnectListenerToBroadcastReceiver() throws E
         subject.loadInterstitial(context, customEventInterstitialListener, localExtras, serverExtras);
 
         Intent intent = getIntentForActionAndIdentifier(ACTION_INTERSTITIAL_SHOW, broadcastIdentifier);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener).onInterstitialShown();
 
         intent = getIntentForActionAndIdentifier(ACTION_INTERSTITIAL_DISMISS, broadcastIdentifier);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener).onInterstitialDismissed();
     }
@@ -201,12 +201,12 @@ public void onInvalidate_shouldDisconnectListenerToBroadcastReceiver() throws Ex
 
         Intent intent;
         intent = new Intent(ACTION_INTERSTITIAL_SHOW);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener, never()).onInterstitialShown();
 
         intent = new Intent(ACTION_INTERSTITIAL_DISMISS);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener, never()).onInterstitialDismissed();
     }
diff --git a/mopub-sdk/src/test/java/com/mopub/mobileads/VastVideoViewControllerTest.java b/mopub-sdk/src/test/java/com/mopub/mobileads/VastVideoViewControllerTest.java
index 99368f74..1b5dfea0 100644
--- a/mopub-sdk/src/test/java/com/mopub/mobileads/VastVideoViewControllerTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mobileads/VastVideoViewControllerTest.java
@@ -17,6 +17,7 @@
 import android.net.Uri;
 import android.os.AsyncTask;
 import android.os.Bundle;
+import android.support.v4.content.LocalBroadcastManager;
 import android.view.View;
 import android.webkit.WebView;
 import android.widget.ImageView;
@@ -25,7 +26,6 @@
 import com.mopub.common.ExternalViewabilitySession;
 import com.mopub.common.MoPubBrowser;
 import com.mopub.common.test.support.SdkTestRunner;
-import com.mopub.common.util.DeviceUtils.ForceOrientation;
 import com.mopub.mobileads.resource.CloseButtonDrawable;
 import com.mopub.mobileads.test.support.GestureUtils;
 import com.mopub.mobileads.test.support.ShadowVastVideoView;
@@ -52,7 +52,6 @@
 import org.robolectric.shadows.httpclient.FakeHttp;
 import org.robolectric.shadows.httpclient.RequestMatcher;
 import org.robolectric.shadows.httpclient.TestHttpResponse;
-import org.robolectric.shadows.support.v4.ShadowLocalBroadcastManager;
 
 import java.util.ArrayList;
 import java.util.Arrays;
@@ -60,8 +59,6 @@
 import java.util.HashMap;
 import java.util.Map;
 
-import static android.content.pm.ActivityInfo.SCREEN_ORIENTATION_PORTRAIT;
-import static android.content.pm.ActivityInfo.SCREEN_ORIENTATION_SENSOR_LANDSCAPE;
 import static com.mopub.common.IntentActions.ACTION_INTERSTITIAL_DISMISS;
 import static com.mopub.common.IntentActions.ACTION_INTERSTITIAL_FAIL;
 import static com.mopub.common.IntentActions.ACTION_INTERSTITIAL_SHOW;
@@ -234,7 +231,7 @@ public boolean matches(HttpRequest request) {
             }
         }, new TestHttpResponse(200, "body"));
 
-        ShadowLocalBroadcastManager.getInstance(context).registerReceiver(broadcastReceiver,
+        LocalBroadcastManager.getInstance(context).registerReceiver(broadcastReceiver,
                 new EventForwardingBroadcastReceiver(null,
                 testBroadcastIdentifier).getIntentFilter());
 
@@ -246,7 +243,7 @@ public void tearDown() throws Exception {
         Robolectric.getForegroundThreadScheduler().reset();
         Robolectric.getBackgroundThreadScheduler().reset();
 
-        ShadowLocalBroadcastManager.getInstance(context).unregisterReceiver(broadcastReceiver);
+        LocalBroadcastManager.getInstance(context).unregisterReceiver(broadcastReceiver);
     }
 
     @Test
@@ -559,60 +556,6 @@ public void onCreate_shouldBroadcastInterstitialShow() throws Exception {
                 argThat(new IntentIsEqual(expectedIntent)));
     }
 
-    @Test
-    public void onCreate_whenCustomForceOrientationNotSpecified_shouldForceLandscapeOrientation() throws Exception {
-        VastVideoConfig vastVideoConfig = new VastVideoConfig();
-        vastVideoConfig.setDiskMediaFileUrl("disk_video_path");
-        bundle.putSerializable(VAST_VIDEO_CONFIG, vastVideoConfig);
-
-        initializeSubject();
-        subject.onCreate();
-
-        verify(baseVideoViewControllerListener).onSetRequestedOrientation(
-                SCREEN_ORIENTATION_SENSOR_LANDSCAPE);
-    }
-
-    @Test
-    public void onCreate_whenCustomForceOrientationIsDeviceOrientation_shouldNotForceLandscapeOrientation() throws Exception {
-        VastVideoConfig vastVideoConfig = new VastVideoConfig();
-        vastVideoConfig.setDiskMediaFileUrl("disk_video_path");
-        vastVideoConfig.setCustomForceOrientation(ForceOrientation.DEVICE_ORIENTATION);
-        bundle.putSerializable(VAST_VIDEO_CONFIG, vastVideoConfig);
-
-        initializeSubject();
-        subject.onCreate();
-
-        verify(baseVideoViewControllerListener, never()).onSetRequestedOrientation(anyInt());
-    }
-
-    @Test
-    public void onCreate_whenCustomForceOrientationIsPortraitOrientation_shouldForcePortraitOrientation() throws Exception {
-        VastVideoConfig vastVideoConfig = new VastVideoConfig();
-        vastVideoConfig.setDiskMediaFileUrl("disk_video_path");
-        vastVideoConfig.setCustomForceOrientation(ForceOrientation.FORCE_PORTRAIT);
-        bundle.putSerializable(VAST_VIDEO_CONFIG, vastVideoConfig);
-
-        initializeSubject();
-        subject.onCreate();
-
-        verify(baseVideoViewControllerListener).onSetRequestedOrientation(
-                SCREEN_ORIENTATION_PORTRAIT);
-    }
-
-    @Test
-    public void onCreate_whenCustomForceOrientationIsLandscapeOrientation_shouldForceLandscapeOrientation() throws Exception {
-        VastVideoConfig vastVideoConfig = new VastVideoConfig();
-        vastVideoConfig.setDiskMediaFileUrl("disk_video_path");
-        vastVideoConfig.setCustomForceOrientation(ForceOrientation.FORCE_LANDSCAPE);
-        bundle.putSerializable(VAST_VIDEO_CONFIG, vastVideoConfig);
-
-        initializeSubject();
-        subject.onCreate();
-
-        verify(baseVideoViewControllerListener).onSetRequestedOrientation(
-                SCREEN_ORIENTATION_SENSOR_LANDSCAPE);
-    }
-
     @Test
     public void VastWebView_onVastWebViewClick_shouldCallVastCompanionAdHandleClick() throws Exception {
         initializeSubject();
diff --git a/mopub-sdk/src/test/java/com/mopub/mobileads/VastXmlManagerAggregatorTest.java b/mopub-sdk/src/test/java/com/mopub/mobileads/VastXmlManagerAggregatorTest.java
index 1595df8f..f663e700 100644
--- a/mopub-sdk/src/test/java/com/mopub/mobileads/VastXmlManagerAggregatorTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mobileads/VastXmlManagerAggregatorTest.java
@@ -364,12 +364,11 @@ public Object answer(InvocationOnMock invocationOnMock) throws Throwable {
         }).when(vastXmlManagerAggregatorListener).onAggregationComplete(any(VastVideoConfig.class));
 
         // Always assume landscape (where width > height) since videos will always be played in this orientation
-        int screenWidth = DIM_LONG;
-        int screenHeight = DIM_SHORT;
+        final int screenWidth = DIM_LONG;
+        final int screenHeight = DIM_SHORT;
         double screenAspectRatio = (double) screenWidth / screenHeight;
-        int screenArea = screenWidth * screenHeight;
         subject = new VastXmlManagerAggregator(vastXmlManagerAggregatorListener, screenAspectRatio,
-                screenArea, context);
+                screenWidth, context);
     }
 
     // NOTE most of the functionality of this class is tested through VastManagerTest
diff --git a/mopub-sdk/src/test/java/com/mopub/mobileads/VastXmlManagerTest.java b/mopub-sdk/src/test/java/com/mopub/mobileads/VastXmlManagerTest.java
index 2e11d93a..ce31cf2a 100644
--- a/mopub-sdk/src/test/java/com/mopub/mobileads/VastXmlManagerTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mobileads/VastXmlManagerTest.java
@@ -482,13 +482,6 @@ public void getCustomCloseIconUrl_shouldReturnTheCorrectValue() {
                 ".com/exchange-media/images/v4/star_icon_3x.png");
     }
 
-    @Test
-    public void getCustomForceOrientation_shouldReturnTheCorrectValue() {
-        ForceOrientation customForceOrientation = mXmlManager.getCustomForceOrientation();
-
-        assertThat(customForceOrientation).isEqualTo(ForceOrientation.DEVICE_ORIENTATION);
-    }
-
     /**
      * INTEGRATION TESTS
      */
diff --git a/mopub-sdk/src/test/java/com/mopub/mobileads/WebViewAdUrlGeneratorTest.java b/mopub-sdk/src/test/java/com/mopub/mobileads/WebViewAdUrlGeneratorTest.java
index 31ab3568..a97400fe 100644
--- a/mopub-sdk/src/test/java/com/mopub/mobileads/WebViewAdUrlGeneratorTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mobileads/WebViewAdUrlGeneratorTest.java
@@ -26,7 +26,9 @@
 import android.view.Display;
 import android.view.WindowManager;
 
+import com.mopub.common.AppEngineInfo;
 import com.mopub.common.BaseAdapterConfiguration;
+import com.mopub.common.BaseUrlGenerator;
 import com.mopub.common.ClientMetadata;
 import com.mopub.common.LocationService;
 import com.mopub.common.MoPub;
@@ -79,6 +81,7 @@
 import static com.mopub.common.ClientMetadata.MoPubNetworkType;
 import static com.mopub.common.MoPubTest.INIT_ADUNIT;
 import static org.fest.assertions.api.Assertions.assertThat;
+import static org.junit.Assert.assertEquals;
 import static org.mockito.Matchers.any;
 import static org.mockito.Matchers.anyInt;
 import static org.mockito.Mockito.doAnswer;
@@ -94,6 +97,8 @@
     private static final String TEST_UDID = "20b013c721c";
     private static final int TEST_SCREEN_WIDTH = 42;
     private static final int TEST_SCREEN_HEIGHT = 1337;
+    private static final int TEST_SCREEN_SAFE_WIDTH = 0;
+    private static final int TEST_SCREEN_SAFE_HEIGHT = 0;
     private static final float TEST_DENSITY = 1.0f;
 
     private WebViewAdUrlGenerator subject;
@@ -190,6 +195,7 @@ public void tearDown() throws Exception {
                 .setStatic(MoPub.class)
                 .setAccessible()
                 .execute();
+        BaseUrlGenerator.setAppEngineInfo(null);
     }
 
     @Test
@@ -1001,6 +1007,23 @@ public void disableLocationCollection_whenLocationServiceHasMostRecentLocation_s
         assertThat(getParameterFromRequestUrl(adUrl, "ll")).isNullOrEmpty();
     }
 
+    @Test
+    public void generateAdUrl_whenEngineInfoIsNotSet_shouldIncludeEngineInfo() {
+        String adUrl = generateMinimumUrlString();
+
+        assertThat(getParameterFromRequestUrl(adUrl, "e_name")).isNullOrEmpty();
+        assertThat(getParameterFromRequestUrl(adUrl, "e_ver")).isNullOrEmpty();
+    }
+
+    @Test
+    public void generateAdUrl_whenEngineInfoIsSet_shouldIncludeEngineInfo() {
+        MoPub.setEngineInformation(new AppEngineInfo("ename", "eversion"));
+        String adUrl = generateMinimumUrlString();
+
+        assertEquals(getParameterFromRequestUrl(adUrl, "e_name"), "ename");
+        assertEquals(getParameterFromRequestUrl(adUrl, "e_ver"), "eversion");
+    }
+
     private String getParameterFromRequestUrl(String requestString, String key) {
         Uri requestUri = Uri.parse(requestString);
         String parameter = requestUri.getQueryParameter(key);
@@ -1069,6 +1092,8 @@ public String build() {
                             "&ll=" + latLon + "&lla=" + locationAccuracy + "&llf=" + latLonLastUpdated) +
                     "&z=-0700" +
                     "&o=p" +
+                    "&cw=" + TEST_SCREEN_SAFE_WIDTH +
+                    "&ch=" + TEST_SCREEN_SAFE_HEIGHT +
                     "&w=" + TEST_SCREEN_WIDTH +
                     "&h=" + TEST_SCREEN_HEIGHT +
                     "&sc=1.0" +
@@ -1081,6 +1106,7 @@ public String build() {
                     (TextUtils.isEmpty(abt) ? "" : "&abt=" + Uri.encode(abt)) +
                     "&udid=" + PlayServicesUrlRewriter.UDID_TEMPLATE +
                     "&dnt=" + PlayServicesUrlRewriter.DO_NOT_TRACK_TEMPLATE +
+                    "&mid=" + PlayServicesUrlRewriter.MOPUB_ID_TEMPLATE +
                     paramIfNotEmpty("gdpr_applies", gdprApplies) +
                     paramIfNotEmpty("force_gdpr_applies", forceGdprApplies) +
                     paramIfNotEmpty("current_consent_status", currentConsentStatus) +
diff --git a/mopub-sdk/src/test/java/com/mopub/mraid/MraidControllerTest.java b/mopub-sdk/src/test/java/com/mopub/mraid/MraidControllerTest.java
index d3963263..61784461 100644
--- a/mopub-sdk/src/test/java/com/mopub/mraid/MraidControllerTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mraid/MraidControllerTest.java
@@ -11,6 +11,7 @@
 import android.content.pm.PackageManager;
 import android.content.pm.ResolveInfo;
 import android.net.Uri;
+import android.os.Build;
 import android.view.View;
 import android.view.Window;
 import android.view.WindowManager;
@@ -42,6 +43,7 @@
 import org.mockito.invocation.InvocationOnMock;
 import org.mockito.stubbing.Answer;
 import org.robolectric.Robolectric;
+import org.robolectric.annotation.Config;
 import org.robolectric.shadows.ShadowApplication;
 
 import java.net.URI;
@@ -402,6 +404,41 @@ public void handleExpand_withTwoPartUrl_shouldAttachTwoPartBridge_shouldCallOnEx
         assertThat(subject.getViewState()).isEqualTo(ViewState.EXPANDED);
     }
 
+    @Config(sdk = Build.VERSION_CODES.JELLY_BEAN_MR2)
+    @Test
+    public void handleExpand_shouldHaveSystemUiFlagsSet()
+            throws MraidCommandException {
+
+        final int flags = View.SYSTEM_UI_FLAG_LOW_PROFILE
+                | View.SYSTEM_UI_FLAG_FULLSCREEN
+                | View.SYSTEM_UI_FLAG_LAYOUT_STABLE
+                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION
+                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;
+
+        subject.handlePageLoad();
+
+        subject.handleExpand(null, false);
+        assertThat(rootView.getSystemUiVisibility()).isEqualTo(flags);
+    }
+
+    @Config(sdk = Build.VERSION_CODES.KITKAT)
+    @Test
+    public void handleExpand_withApi19AndAbove_shouldHaveSystemUiFlagsSetWithImmersive()
+            throws MraidCommandException {
+
+        final int flags = View.SYSTEM_UI_FLAG_LOW_PROFILE
+                | View.SYSTEM_UI_FLAG_FULLSCREEN
+                | View.SYSTEM_UI_FLAG_LAYOUT_STABLE
+                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION
+                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION
+                | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY;
+
+        subject.handlePageLoad();
+
+        subject.handleExpand(null, false);
+        assertThat(rootView.getSystemUiVisibility()).isEqualTo(flags);
+    }
+
     @Test
     public void handleClose_afterDestroy_shouldNotFireOnClose() {
         subject.destroy();
@@ -1124,6 +1161,23 @@ public void destroy_fromResizedState_shouldRemoveCloseableAdContainerFromContent
         assertThat(rootView.getChildCount()).isEqualTo(0);
     }
 
+    @Test
+    public void destroy_shouldResetSystemUIFlags()
+            throws MraidCommandException {
+
+        final int originalFlags = rootView.getSystemUiVisibility();
+        final int newFlags = originalFlags + 1;
+
+        rootView.setSystemUiVisibility(newFlags);
+
+        // make sure the flags were set
+        assertThat(rootView.getSystemUiVisibility()).isEqualTo(newFlags);
+
+        subject.destroy();
+
+        assertThat(rootView.getSystemUiVisibility()).isEqualTo(originalFlags);
+    }
+
     @Test
     public void callMraidListenerCallbacks_withVariousStates_shouldCallCorrectMraidListenerCallback() {
         // Previous state LOADING
diff --git a/mopub-sdk/src/test/java/com/mopub/mraid/MraidInterstitialTest.java b/mopub-sdk/src/test/java/com/mopub/mraid/MraidInterstitialTest.java
index 9d1c0718..33fca603 100644
--- a/mopub-sdk/src/test/java/com/mopub/mraid/MraidInterstitialTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mraid/MraidInterstitialTest.java
@@ -6,6 +6,7 @@
 
 import android.app.Activity;
 import android.content.Intent;
+import android.support.v4.content.LocalBroadcastManager;
 
 import com.mopub.common.test.support.SdkTestRunner;
 import com.mopub.mobileads.ResponseBodyInterstitialTest;
@@ -18,17 +19,16 @@
 import org.robolectric.Robolectric;
 import org.robolectric.Shadows;
 import org.robolectric.shadows.ShadowActivity;
-import org.robolectric.shadows.support.v4.ShadowLocalBroadcastManager;
 
 import java.util.HashMap;
 import java.util.Map;
 
 import static com.mopub.common.DataKeys.BROADCAST_IDENTIFIER_KEY;
 import static com.mopub.common.DataKeys.HTML_RESPONSE_BODY_KEY;
-import static com.mopub.mobileads.CustomEventInterstitial.CustomEventInterstitialListener;
 import static com.mopub.common.IntentActions.ACTION_INTERSTITIAL_CLICK;
 import static com.mopub.common.IntentActions.ACTION_INTERSTITIAL_DISMISS;
 import static com.mopub.common.IntentActions.ACTION_INTERSTITIAL_SHOW;
+import static com.mopub.mobileads.CustomEventInterstitial.CustomEventInterstitialListener;
 import static com.mopub.mobileads.EventForwardingBroadcastReceiverTest.getIntentForActionAndIdentifier;
 import static com.mopub.mobileads.MoPubErrorCode.NETWORK_INVALID_STATE;
 import static org.fest.assertions.api.Assertions.assertThat;
@@ -87,17 +87,17 @@ public void loadInterstitial_shouldConnectListenerToBroadcastReceiver() throws E
 
         Intent intent =
                 getIntentForActionAndIdentifier(ACTION_INTERSTITIAL_SHOW, broadcastIdentifier);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener).onInterstitialShown();
 
         intent = getIntentForActionAndIdentifier(ACTION_INTERSTITIAL_CLICK, broadcastIdentifier);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener).onInterstitialClicked();
 
         intent = getIntentForActionAndIdentifier(ACTION_INTERSTITIAL_DISMISS, broadcastIdentifier);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener).onInterstitialDismissed();
     }
@@ -124,12 +124,12 @@ public void onInvalidate_shouldDisconnectListenerToBroadcastReceiver() throws Ex
 
         Intent intent;
         intent = new Intent(ACTION_INTERSTITIAL_SHOW);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener, never()).onInterstitialShown();
 
         intent = new Intent(ACTION_INTERSTITIAL_DISMISS);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener, never()).onInterstitialDismissed();
     }
diff --git a/mopub-sdk/src/test/java/com/mopub/mraid/MraidVideoViewControllerTest.java b/mopub-sdk/src/test/java/com/mopub/mraid/MraidVideoViewControllerTest.java
index 6dc8ed9e..0d10fbaf 100644
--- a/mopub-sdk/src/test/java/com/mopub/mraid/MraidVideoViewControllerTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mraid/MraidVideoViewControllerTest.java
@@ -7,6 +7,7 @@
 import android.app.Activity;
 import android.content.Context;
 import android.os.Bundle;
+import android.support.v4.content.LocalBroadcastManager;
 import android.widget.ImageButton;
 
 import com.mopub.common.test.support.SdkTestRunner;
@@ -23,7 +24,6 @@
 import org.robolectric.shadows.httpclient.FakeHttp;
 import org.robolectric.shadows.httpclient.RequestMatcher;
 import org.robolectric.shadows.httpclient.TestHttpResponse;
-import org.robolectric.shadows.support.v4.ShadowLocalBroadcastManager;
 
 import static android.view.View.GONE;
 import static android.view.View.VISIBLE;
@@ -60,7 +60,7 @@ public boolean matches(HttpRequest request) {
             }
         }, new TestHttpResponse(200, "body"));
 
-        ShadowLocalBroadcastManager.getInstance(context).registerReceiver(broadcastReceiver,
+        LocalBroadcastManager.getInstance(context).registerReceiver(broadcastReceiver,
                 new EventForwardingBroadcastReceiver(null, 0).getIntentFilter());
     }
 
@@ -70,7 +70,7 @@ public void tearDown() throws Exception {
         Robolectric.getBackgroundThreadScheduler().reset();
         FakeHttp.clearPendingHttpResponses();
 
-        ShadowLocalBroadcastManager.getInstance(context).unregisterReceiver(broadcastReceiver);
+        LocalBroadcastManager.getInstance(context).unregisterReceiver(broadcastReceiver);
     }
 
     @Test
diff --git a/mopub-sdk/src/test/java/com/mopub/mraid/RewardedMraidInterstitialTest.java b/mopub-sdk/src/test/java/com/mopub/mraid/RewardedMraidInterstitialTest.java
index 0c00f6ef..33cb4989 100644
--- a/mopub-sdk/src/test/java/com/mopub/mraid/RewardedMraidInterstitialTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/mraid/RewardedMraidInterstitialTest.java
@@ -6,6 +6,7 @@
 
 import android.app.Activity;
 import android.content.Intent;
+import android.support.v4.content.LocalBroadcastManager;
 
 import com.mopub.common.test.support.SdkTestRunner;
 import com.mopub.mobileads.ResponseBodyInterstitialTest;
@@ -17,7 +18,6 @@
 import org.robolectric.Robolectric;
 import org.robolectric.Shadows;
 import org.robolectric.shadows.ShadowActivity;
-import org.robolectric.shadows.support.v4.ShadowLocalBroadcastManager;
 
 import java.util.HashMap;
 import java.util.Map;
@@ -97,23 +97,23 @@ public void loadInterstitial_shouldConnectListenerToBroadcastReceiver() throws E
 
         Intent intent =
                 getIntentForActionAndIdentifier(ACTION_INTERSTITIAL_SHOW, broadcastIdentifier);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener).onInterstitialShown();
 
         intent = getIntentForActionAndIdentifier(ACTION_INTERSTITIAL_CLICK, broadcastIdentifier);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener).onInterstitialClicked();
 
         intent = getIntentForActionAndIdentifier(ACTION_INTERSTITIAL_DISMISS, broadcastIdentifier);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener).onInterstitialDismissed();
 
         intent = getIntentForActionAndIdentifier(ACTION_REWARDED_PLAYABLE_COMPLETE,
                 broadcastIdentifier);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener).onMraidComplete();
     }
@@ -145,17 +145,17 @@ public void onInvalidate_shouldDisconnectListenerToBroadcastReceiver() throws Ex
 
         Intent intent;
         intent = new Intent(ACTION_INTERSTITIAL_SHOW);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener, never()).onInterstitialShown();
 
         intent = new Intent(ACTION_INTERSTITIAL_DISMISS);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener, never()).onInterstitialDismissed();
 
         intent = new Intent(ACTION_REWARDED_PLAYABLE_COMPLETE);
-        ShadowLocalBroadcastManager.getInstance(context).sendBroadcast(intent);
+        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
 
         verify(customEventInterstitialListener, never()).onMraidComplete();
     }
diff --git a/mopub-sdk/src/test/java/com/mopub/nativeads/NativeUrlGeneratorTest.java b/mopub-sdk/src/test/java/com/mopub/nativeads/NativeUrlGeneratorTest.java
index 0b5c8400..a70c0182 100644
--- a/mopub-sdk/src/test/java/com/mopub/nativeads/NativeUrlGeneratorTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/nativeads/NativeUrlGeneratorTest.java
@@ -21,6 +21,8 @@
 import android.view.Display;
 import android.view.WindowManager;
 
+import com.mopub.common.AppEngineInfo;
+import com.mopub.common.BaseUrlGenerator;
 import com.mopub.common.LocationService;
 import com.mopub.common.MoPub;
 import com.mopub.common.privacy.ConsentStatus;
@@ -53,6 +55,7 @@
 import static android.Manifest.permission.ACCESS_FINE_LOCATION;
 import static android.Manifest.permission.ACCESS_NETWORK_STATE;
 import static org.fest.assertions.api.Assertions.assertThat;
+import static org.junit.Assert.assertEquals;
 import static org.mockito.Matchers.any;
 import static org.mockito.Matchers.anyInt;
 import static org.mockito.Mockito.doAnswer;
@@ -67,6 +70,8 @@
     private static final String TEST_BUNDLE = "test.bundle";
     private static final int TEST_SCREEN_WIDTH = 320;
     private static final int TEST_SCREEN_HEIGHT = 470;
+    private static final int TEST_SCREEN_SAFE_WIDTH = 0;
+    private static final int TEST_SCREEN_SAFE_HEIGHT = 0;
     private static final float TEST_DENSITY = 1.0f;
     private Activity context;
     private NativeUrlGenerator subject;
@@ -142,6 +147,7 @@ public void tearDown() throws Exception {
                 .setStatic(MoPub.class)
                 .setAccessible()
                 .execute();
+        BaseUrlGenerator.setAppEngineInfo(null);
     }
 
     @Test
@@ -448,6 +454,10 @@ public void generateUrlString_withOnlyAdUnitSet_shouldReturnMinimumUrl() {
                         "&bundle=" + TEST_BUNDLE +
                         "&z=-0700" +
                         "&o=p" +
+                        "&cw=" +
+                        TEST_SCREEN_SAFE_WIDTH +
+                        "&ch=" +
+                        TEST_SCREEN_SAFE_HEIGHT +
                         "&w=" +
                         TEST_SCREEN_WIDTH +
                         "&h=" +
@@ -456,6 +466,7 @@ public void generateUrlString_withOnlyAdUnitSet_shouldReturnMinimumUrl() {
                         TEST_DENSITY +
                         "&ct=3&av=" + Uri.encode(BuildConfig.VERSION_NAME) +
                         "&udid=mp_tmpl_advertising_id&dnt=mp_tmpl_do_not_track" +
+                        "&mid=mp_tmpl_mopub_id" +
                         "&gdpr_applies=0" +
                         "&current_consent_status=unknown");
     }
@@ -497,6 +508,25 @@ public void disableLocationCollection_whenLocationServiceHasMostRecentLocation_s
         assertThat(getParameterFromRequestUrl(requestString, "ll")).isNullOrEmpty();
     }
 
+    @Test
+    public void generateUrlString_whenEngineInfoIsNotSet_shouldIncludeEngineInfo() {
+        subject = new NativeUrlGenerator(context).withAdUnitId(AD_UNIT_ID);
+        String adUrl = generateMinimumUrlString();
+
+        assertThat(getParameterFromRequestUrl(adUrl, "e_name")).isNullOrEmpty();
+        assertThat(getParameterFromRequestUrl(adUrl, "e_ver")).isNullOrEmpty();
+    }
+
+    @Test
+    public void generateUrlString_whenEngineInfoIsSet_shouldIncludeEngineInfo() {
+        subject = new NativeUrlGenerator(context).withAdUnitId(AD_UNIT_ID);
+        MoPub.setEngineInformation(new AppEngineInfo("ename", "eversion"));
+        String adUrl = generateMinimumUrlString();
+
+        assertEquals(getParameterFromRequestUrl(adUrl, "e_name"), "ename");
+        assertEquals(getParameterFromRequestUrl(adUrl, "e_ver"), "eversion");
+    }
+
     private List<String> getDesiredAssetsListFromRequestUrlString(String requestString) {
         Uri requestUri = Uri.parse(requestString);
 
diff --git a/mopub-sdk/src/test/java/com/mopub/network/MultiAdResponseTest.java b/mopub-sdk/src/test/java/com/mopub/network/MultiAdResponseTest.java
index 7e2af37d..16772416 100644
--- a/mopub-sdk/src/test/java/com/mopub/network/MultiAdResponseTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/network/MultiAdResponseTest.java
@@ -240,6 +240,20 @@ public void constructor_withReaquireConsentSet_shouldCallListener() throws Excep
         verify(mockOverrideListener).onReacquireConsent("change_reason");
     }
 
+    @Test
+    public void constructor_withServerOverrideListener_shouldCallOnRequestSuccess() throws Exception {
+        final ServerOverrideListener mockOverrideListener = mock(ServerOverrideListener.class);
+        MultiAdResponse.setServerOverrideListener(mockOverrideListener);
+
+        final JSONObject jsonObject = createJsonBody(FAIL_URL, singleAdResponse);
+
+        final byte[] body = jsonObject.toString().getBytes();
+        final NetworkResponse testResponse = new NetworkResponse(body);
+        new MultiAdResponse(activity, testResponse, AdFormat.BANNER, adUnitId);
+
+        verify(mockOverrideListener).onRequestSuccess(adUnitId);
+    }
+
     @Test(expected = JSONException.class)
     public void constructor_NonJsonBodyShouldThrowException() throws Exception {
         NetworkResponse testResponse = new NetworkResponse("abc".getBytes());
diff --git a/mopub-sdk/src/test/java/com/mopub/network/PlayServicesUrlRewriterTest.java b/mopub-sdk/src/test/java/com/mopub/network/PlayServicesUrlRewriterTest.java
index 3b3a3441..aa4bea72 100644
--- a/mopub-sdk/src/test/java/com/mopub/network/PlayServicesUrlRewriterTest.java
+++ b/mopub-sdk/src/test/java/com/mopub/network/PlayServicesUrlRewriterTest.java
@@ -9,7 +9,6 @@
 import android.net.Uri;
 
 import com.mopub.common.ClientMetadata;
-import com.mopub.common.GpsHelper;
 import com.mopub.common.MoPub;
 import com.mopub.common.privacy.AdvertisingId;
 import com.mopub.common.privacy.MoPubIdentifier;
@@ -26,7 +25,6 @@
 import org.robolectric.Robolectric;
 
 import static org.fest.assertions.api.Assertions.assertThat;
-import static org.mockito.Matchers.any;
 import static org.mockito.Mockito.mock;
 import static org.mockito.Mockito.when;
 
@@ -69,10 +67,12 @@ public void rewriteUrl_shouldUseAdvertisingIdValue(){
         MoPubIdentifier identifier = ClientMetadata.getInstance().getMoPubIdentifier();
         AdvertisingId adId = identifier.getAdvertisingInfo();
         String encodedId = Uri.encode(adId.getIdWithPrefix(true));
-        String actualUrl = subject.rewriteUrl("https://ads.mopub.com/m/ad?ad_id=abcece&udid=mp_tmpl_advertising_id&dnt=mp_tmpl_do_not_track");
+        String encodedMoPubId = Uri.encode(adId.getIdentifier(false));
+        String actualUrl = subject.rewriteUrl(
+                "https://ads.mopub.com/m/ad?ad_id=abcece&udid=mp_tmpl_advertising_id&dnt=mp_tmpl_do_not_track&mid=mp_tmpl_mopub_id");
 
-        assertThat(actualUrl)
-                .isEqualToIgnoringCase("https://ads.mopub.com/m/ad?ad_id=abcece&udid="+encodedId+"&dnt=0");
+        assertThat(actualUrl).isEqualToIgnoringCase("https://ads.mopub.com/m/ad?ad_id=abcece&udid=" +
+                encodedId + "&dnt=0&mid=" + encodedMoPubId);
     }
 
     @Test
