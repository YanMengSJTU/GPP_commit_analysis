diff --git a/TMessagesProj/src/main/AndroidManifest.xml b/TMessagesProj/src/main/AndroidManifest.xml
index 306d735eb..d9bdd6a78 100644
--- a/TMessagesProj/src/main/AndroidManifest.xml
+++ b/TMessagesProj/src/main/AndroidManifest.xml
@@ -167,7 +167,7 @@
             </intent-filter>
         </service>
 
-        <service android:name=".NotificationsService" android:enabled="true"/>
+        <service android:name="org.telegram.messenger.NotificationsService" android:enabled="true"/>
         <service android:name=".NotificationRepeat" android:exported="false"/>
         <service android:name=".VideoEncodingService" android:enabled="true"/>
         <service android:name=".MusicPlayerService" android:exported="true" android:enabled="true"/>
@@ -184,9 +184,9 @@
             </intent-filter>
         </receiver>
 
-        <receiver android:name=".AppStartReceiver" android:enabled="true">
+        <receiver android:name="org.telegram.messenger.AppStartReceiver" android:enabled="true">
             <intent-filter>
-                <action android:name="org.telegram.start" />
+                <action android:name="org.telegram.plus.start" />
                 <action android:name="android.intent.action.BOOT_COMPLETED" />
             </intent-filter>
         </receiver>
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java b/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
index 46561fb48..5e81fce1e 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
@@ -39,6 +39,7 @@
 
 import java.io.File;
 import java.io.RandomAccessFile;
+import java.util.Calendar;
 import java.util.concurrent.atomic.AtomicInteger;
 
 public class ApplicationLoader extends Application {
@@ -302,14 +303,15 @@ public static void startPushService() {
             applicationContext.startService(new Intent(applicationContext, NotificationsService.class));
 
             if (android.os.Build.VERSION.SDK_INT >= 19) {
-//                Calendar cal = Calendar.getInstance();
-//                PendingIntent pintent = PendingIntent.getService(applicationContext, 0, new Intent(applicationContext, NotificationsService.class), 0);
-//                AlarmManager alarm = (AlarmManager) applicationContext.getSystemService(Context.ALARM_SERVICE);
-//                alarm.setRepeating(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(), 30000, pintent);
-
+                FileLog.e("ApplicationLoader", "startPushService");
+                Calendar cal = Calendar.getInstance();
                 PendingIntent pintent = PendingIntent.getService(applicationContext, 0, new Intent(applicationContext, NotificationsService.class), 0);
-                AlarmManager alarm = (AlarmManager)applicationContext.getSystemService(Context.ALARM_SERVICE);
-                alarm.cancel(pintent);
+                AlarmManager alarm = (AlarmManager) applicationContext.getSystemService(Context.ALARM_SERVICE);
+                alarm.setRepeating(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(), 30000, pintent);
+
+                //PendingIntent pintent = PendingIntent.getService(applicationContext, 0, new Intent(applicationContext, NotificationsService.class), 0);
+                //AlarmManager alarm = (AlarmManager)applicationContext.getSystemService(Context.ALARM_SERVICE);
+                //alarm.cancel(pintent);
             }
         } else {
             stopPushService();
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/DialogsSearchAdapter.java b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/DialogsSearchAdapter.java
index 1301d865a..4e45094c0 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/DialogsSearchAdapter.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/DialogsSearchAdapter.java
@@ -867,7 +867,9 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {
                 CharSequence name = null;
                 boolean isRecent = false;
                 String un = null;
-                String hexDarkColor = String.format("#%08X", (0xFFFFFFFF & AndroidUtilities.getIntDarkerColor("themeColor", 0x15)));
+                int darkColor = AndroidUtilities.getIntDarkerColor("themeColor", -0x40);
+                int hColor = themePrefs.getInt("chatsHighlightSearchColor", darkColor);
+                String hexDarkColor = String.format("#%08X", (0xFFFFFFFF & hColor));
                 Object obj = getItem(position);
 
                 if (obj instanceof TLRPC.User) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java
index 2aff71682..9a2b93305 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java
@@ -1192,7 +1192,9 @@ protected void onAfterBackgroundDraw(Canvas canvas) {
             if(themePrefs.getBoolean("chatMemberColorCheck", false)){
                 senderPaint.setColor(themePrefs.getInt("chatMemberColor", AndroidUtilities.getIntDarkerColor("themeColor", 0x15)));
             }else{
-                senderPaint.setColor(AvatarDrawable.getNameColorForId(MessagesController.getInstance().getUser(currentMessageObject.messageOwner.from_id).id));
+                if (currentMessageObject != null && currentMessageObject.messageOwner.from_id > 0) {
+                    senderPaint.setColor(AvatarDrawable.getNameColorForId(MessagesController.getInstance().getUser(currentMessageObject.messageOwner.from_id).id));
+                }
             }
         } catch (Exception e) {
             FileLog.e("tmessages", e);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java
index 53a9d83cc..37d94332b 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java
@@ -404,8 +404,7 @@ public void buildLayout() {
                         }
                         checkMessage = false;
                         SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
-                        //int defColor = themePrefs.getInt("themeColor", AndroidUtilities.defColor);
-                        //String hexColor = String.format("#%08X", (0xffffffff & defColor));
+
                         String hexMsgColor = String.format("#%08X", (0xffffffff & themePrefs.getInt("chatsMessageColor", 0xff808080)));
                         int darkColor = themePrefs.getInt("chatsMemberColor", AndroidUtilities.getIntDarkerColor("themeColor", 0x15));
                         String hexDarkColor = String.format("#%08X", (0xffffffff & darkColor));
@@ -886,7 +885,7 @@ private void updateTheme(){
         clockDrawable.setColorFilter(themePrefs.getInt("chatsChecksColor", tColor), PorterDuff.Mode.SRC_IN);
 
         countDrawable.setColorFilter(themePrefs.getInt("chatsCountBGColor", tColor), PorterDuff.Mode.SRC_IN);
-        countDrawableGrey.setColorFilter(themePrefs.getInt("chatsCountBGColor", tColor), PorterDuff.Mode.SRC_IN);
+        countDrawableGrey.setColorFilter(themePrefs.getInt("chatsCountSilentBGColor", themePrefs.getInt("chatsCountBGColor", 0xffb9b9b9)), PorterDuff.Mode.SRC_IN);
 
         nColor = themePrefs.getInt("chatsGroupIconColor", themePrefs.getInt("chatsGroupNameColor", 0xff000000));
         groupDrawable.setColorFilter(nColor, PorterDuff.Mode.SRC_IN);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/UserCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/UserCell.java
index b17671465..20655666b 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/UserCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/UserCell.java
@@ -17,15 +17,15 @@
 import android.widget.ImageView;
 
 import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.ApplicationLoader;
 import org.telegram.messenger.LocaleController;
 import org.telegram.messenger.MessagesController;
-import org.telegram.messenger.UserObject;
-import org.telegram.messenger.ApplicationLoader;
 import org.telegram.messenger.R;
+import org.telegram.messenger.UserConfig;
+import org.telegram.messenger.UserObject;
 import org.telegram.tgnet.ConnectionsManager;
 import org.telegram.tgnet.TLObject;
 import org.telegram.tgnet.TLRPC;
-import org.telegram.messenger.UserConfig;
 import org.telegram.ui.Components.AvatarDrawable;
 import org.telegram.ui.Components.BackupImageView;
 import org.telegram.ui.Components.CheckBox;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
index d299d828c..54590ed43 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
@@ -132,7 +132,6 @@
 import org.telegram.ui.Components.WebFrameLayout;
 
 import java.io.File;
-import java.io.IOException;
 import java.net.URLDecoder;
 import java.util.ArrayList;
 import java.util.Collections;
@@ -680,8 +679,11 @@ public View createView(Context context) {
 
             ResourceLoader.loadRecources(context);
 
-            actionBar.setBackButtonDrawable(new BackDrawable(false));
+            //actionBar.setBackButtonDrawable(new BackDrawable(false));
             SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
+            Drawable d = new BackDrawable(false);
+            ((BackDrawable) d).setColor(themePrefs.getInt("chatHeaderIconsColor", 0xffffffff));
+            actionBar.setBackButtonDrawable(d);
             actionBar.setActionBarMenuOnItemClick(new ActionBar.ActionBarMenuOnItemClick() {
                 @Override
             public void onItemClick(final int id) {
@@ -2572,7 +2574,7 @@ public void showReplyPanel(boolean show, MessageObject messageObject, ArrayList<
             int textColor = themePrefs.getInt("chatEditTextColor", 0xff999999);
             replyObjectTextView.setTextColor(textColor);
             //int rColor = themePrefs.getInt("chatForwardRColor", defColor);
-            Drawable delete = ApplicationLoader.applicationContext.getResources().getDrawable(R.drawable.delete_reply);
+            Drawable delete = getParentActivity().getResources().getDrawable(R.drawable.delete_reply);
             delete.setColorFilter(iColor, PorterDuff.Mode.SRC_IN);
             deleteIconImageView.setImageDrawable(delete);
             if (messageObject != null) {
@@ -2598,7 +2600,7 @@ public void showReplyPanel(boolean show, MessageObject messageObject, ArrayList<
                     return;
                 }
                 //replyIconImageView.setImageResource(R.drawable.reply);
-                Drawable reply = ApplicationLoader.applicationContext.getResources().getDrawable(R.drawable.reply);
+                Drawable reply = getParentActivity().getResources().getDrawable(R.drawable.reply);
                 reply.setColorFilter(iColor, PorterDuff.Mode.SRC_IN);
                 replyIconImageView.setImageDrawable(reply);
 
@@ -2628,7 +2630,7 @@ public void showReplyPanel(boolean show, MessageObject messageObject, ArrayList<
                 chatActivityEnterView.setForceShowSendButton(true, animated);
                 ArrayList<Integer> uids = new ArrayList<>();
                 //replyIconImageView.setImageResource(R.drawable.forward_blue);
-                Drawable forward = ApplicationLoader.applicationContext.getResources().getDrawable(R.drawable.forward_blue);
+                Drawable forward = getParentActivity().getResources().getDrawable(R.drawable.forward_blue);
                 forward.setColorFilter(iColor, PorterDuff.Mode.SRC_IN);
                 replyIconImageView.setImageDrawable(forward);
                 deleteIconImageView.setVisibility(View.VISIBLE);
@@ -2730,7 +2732,7 @@ public void showReplyPanel(boolean show, MessageObject messageObject, ArrayList<
                 }
             } else {
                 //replyIconImageView.setImageResource(R.drawable.link);
-                Drawable link = ApplicationLoader.applicationContext.getResources().getDrawable(R.drawable.link);
+                Drawable link = getParentActivity().getResources().getDrawable(R.drawable.link);
                 link.setColorFilter(iColor, PorterDuff.Mode.SRC_IN);
                 replyIconImageView.setImageDrawable(link);
                 replyNameTextView.setTextColor(iColor);//
@@ -5397,17 +5399,19 @@ private void updateTheme(){
             //onlineTextView.setTextColor(themePrefs.getInt("chatStatusColor", AndroidUtilities.getIntDarkerColor("themeColor", -0x40)));
             onlineTextView.setTextSize(TypedValue.COMPLEX_UNIT_DIP, themePrefs.getInt("chatStatusSize", 14));
             int iColor = themePrefs.getInt("chatHeaderIconsColor", 0xffffffff);
-            Drawable mute = getParentActivity().getResources().getDrawable(R.drawable.mute_blue);
-            mute.setColorFilter(iColor, PorterDuff.Mode.SRC_IN);
-            Drawable dots = getParentActivity().getResources().getDrawable(R.drawable.ic_ab_other);
-            dots.setColorFilter(iColor, PorterDuff.Mode.MULTIPLY);
-            Drawable back = getParentActivity().getResources().getDrawable(R.drawable.ic_ab_back);
-            back.setColorFilter(iColor, PorterDuff.Mode.MULTIPLY);
-
-            Drawable searchD = getParentActivity().getResources().getDrawable(R.drawable.search_down);
-            searchD.setColorFilter(iColor, PorterDuff.Mode.SRC_IN);
-            Drawable searchU = getParentActivity().getResources().getDrawable(R.drawable.search_up);
-            searchU.setColorFilter(iColor, PorterDuff.Mode.SRC_IN);
+            if(getParentActivity() != null) {
+                Drawable mute = getParentActivity().getResources().getDrawable(R.drawable.mute_blue);
+                mute.setColorFilter(iColor, PorterDuff.Mode.SRC_IN);
+                Drawable dots = getParentActivity().getResources().getDrawable(R.drawable.ic_ab_other);
+                dots.setColorFilter(iColor, PorterDuff.Mode.MULTIPLY);
+                Drawable back = getParentActivity().getResources().getDrawable(R.drawable.ic_ab_back);
+                back.setColorFilter(iColor, PorterDuff.Mode.MULTIPLY);
+
+                Drawable searchD = getParentActivity().getResources().getDrawable(R.drawable.search_down);
+                searchD.setColorFilter(iColor, PorterDuff.Mode.SRC_IN);
+                Drawable searchU = getParentActivity().getResources().getDrawable(R.drawable.search_up);
+                searchU.setColorFilter(iColor, PorterDuff.Mode.SRC_IN);
+            }
             if(searchItem != null)searchItem.getSearchField().setTextColor(iColor);
             //Channel
             bottomOverlayChat.setBackgroundColor(hColor);
@@ -5519,21 +5523,21 @@ public boolean onPreDraw() {
                         SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
                         int color = themePrefs.getInt("chatHeaderIconsColor", 0xffffffff);
                         if (AndroidUtilities.isSmallTablet() && ApplicationLoader.applicationContext.getResources().getConfiguration().orientation == Configuration.ORIENTATION_PORTRAIT) {
-                            actionBar.setBackButtonDrawable(new BackDrawable(false));
+                            //actionBar.setBackButtonDrawable(new BackDrawable(false));
 
-                            /*Drawable back = context.getResources().getDrawable(R.drawable.ic_ab_back);
-                            back.setColorFilter(color, PorterDuff.Mode.MULTIPLY);
-                            actionBar.setBackButtonDrawable(back);*/
+                            Drawable back = new BackDrawable(false);
+                            ((BackDrawable) back).setColor(color);
+                            actionBar.setBackButtonDrawable(back);
 
                             if (playerView != null && playerView.getParent() == null) {
                                 ((ViewGroup) fragmentView).addView(playerView, LayoutHelper.createFrame(LayoutHelper.MATCH_PARENT, 39, Gravity.TOP | Gravity.LEFT, 0, -36, 0, 0));
                             }
                         } else {
-                            actionBar.setBackButtonDrawable(new BackDrawable(true));
+                            //actionBar.setBackButtonDrawable(new BackDrawable(true));
 
-                            /*Drawable close = context.getResources().getDrawable(R.drawable.ic_ab_back);
-                            close.setColorFilter(color, PorterDuff.Mode.MULTIPLY);
-                            actionBar.setBackButtonDrawable(close);*/
+                            Drawable back = new BackDrawable(false);
+                            ((BackDrawable) back).setColor(color);
+                            actionBar.setBackButtonDrawable(back);
 
                             if (playerView != null && playerView.getParent() != null) {
                                 fragmentView.setPadding(0, 0, 0, 0);
@@ -5980,7 +5984,7 @@ public void onClick(DialogInterface dialogInterface, int i) {
                     MediaController.saveFile(path, getParentActivity(), 0, null);
                 }
             }
-        } else if (option == 60) {
+        /*} else if (option == 60) {
             if (selectedObject != null) {
 
                 String ObjectPath = "";
@@ -6018,7 +6022,7 @@ public void onClick(DialogInterface dialogInterface, int i) {
                 shareIntent.setType(MimeType);
                 getParentActivity().startActivity(Intent.createChooser(shareIntent, LocaleController.getString("ShareFile", R.string.ShareFile)));
                 selectedObject = null;
-            }
+            }*/
         } else if (option == 8) {
             showReplyPanel(true, selectedObject, null, null, false, true);
         } else if (option == 9) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
index fd47b599b..a09872485 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
@@ -217,7 +217,9 @@ protected void onDraw(Canvas canvas) {
 
         public RecordCircle(Context context) {
             super(context);
-            paint.setColor(0xff5795cc);
+            //paint.setColor(0xff5795cc);
+            SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
+            paint.setColor(themePrefs.getInt("themeColor", AndroidUtilities.defColor));
             paintRecord.setColor(0x0d000000);
             micDrawable = getResources().getDrawable(R.drawable.mic_pressed);
         }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
index d95da0a2d..7c8e6d49f 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
@@ -341,10 +341,10 @@ public void onItemClick(AdapterView<?> parent, View view, int position, long id)
                     drawerLayoutContainer.closeDrawer(false);
                 } else if (position == channelRow) {
                     try {
-                        String link = "https://telegram.me/plusmsn";//https://plus.google.com/101839105638971401281/posts"
+                        String link = "https://telegram.me/plusmsgr";//https://plus.google.com/101839105638971401281/posts"
                         String lg = Locale.getDefault().getLanguage();
                         if(lg.contains("es") || lg.contains("gl") || lg.contains("ca")){
-                            link = "https://telegram.me/plusmsnes";
+                            link = "https://telegram.me/plusmsgres";
                         }
                         startActivityForResult(new Intent(Intent.ACTION_VIEW, Uri.parse(link)), 504);
                     } catch (Exception e) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java b/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java
index 2337a71b9..d625502cb 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java
@@ -897,7 +897,7 @@ public boolean dispatchKeyEventPreIme(KeyEvent event) {
         windowLayoutParams.flags = WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE;
 
         actionBar = new ActionBar(activity);
-        actionBar.setBackgroundColor(0x7F000000);
+        //actionBar.setBackgroundColor(0x7F000000);
         SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
         int def = themePrefs.getInt("themeColor", AndroidUtilities.defColor);
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java
index ea8f79748..9b052e63f 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java
@@ -72,6 +72,7 @@
 import org.telegram.ui.ActionBar.ActionBar;
 import org.telegram.ui.ActionBar.ActionBarMenu;
 import org.telegram.ui.ActionBar.ActionBarMenuItem;
+import org.telegram.ui.ActionBar.BackDrawable;
 import org.telegram.ui.ActionBar.BaseFragment;
 import org.telegram.ui.Cells.AddMemberCell;
 import org.telegram.ui.Cells.DividerCell;
@@ -281,10 +282,13 @@ public View createView(Context context) {
         SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
         actionBar.setBackgroundColor(AvatarDrawable.getProfileBackColorForId(user_id != 0 || ChatObject.isChannel(chat_id) ? 5 : chat_id));
         actionBar.setItemsBackground(AvatarDrawable.getButtonColorForId(user_id != 0 || ChatObject.isChannel(chat_id) ? 5 : chat_id));
-        Drawable back = context.getResources().getDrawable(R.drawable.ic_ab_back);
-        back.setColorFilter(themePrefs.getInt("profileHeaderIconsColor", 0xffffffff), PorterDuff.Mode.MULTIPLY);
-        actionBar.setBackButtonDrawable(back);
+        //Drawable back = context.getResources().getDrawable(R.drawable.ic_ab_back);
+        //back.setColorFilter(themePrefs.getInt("profileHeaderIconsColor", 0xffffffff), PorterDuff.Mode.MULTIPLY);
+        //actionBar.setBackButtonDrawable(back);
         //actionBar.setBackButtonDrawable(new BackDrawable(false));
+        Drawable back = new BackDrawable(false);
+        ((BackDrawable) back).setColor(themePrefs.getInt("profileHeaderIconsColor", 0xffffffff));
+        actionBar.setBackButtonDrawable(back);
         actionBar.setCastShadows(false);
         actionBar.setAddToContainer(false);
         hasOwnBackground = true;
@@ -1050,13 +1054,20 @@ public void onAnimationEnd(Object animation) {
                 ViewProxy.setTranslationX(avatarImage, -AndroidUtilities.dp(47) * diff);
                 ViewProxy.setTranslationY(avatarImage, (float) Math.ceil(avatarY));
             }
+            SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
+            int y = themePrefs.getInt("profileNameSize", 18) - 18;
+
             ViewProxy.setTranslationX(nameTextView, -21 * AndroidUtilities.density * diff);
             ViewProxy.setTranslationY(nameTextView, (float) Math.floor(avatarY) - (float) Math.ceil(AndroidUtilities.density) + (float) Math.floor(7 * AndroidUtilities.density * diff));
+
             ViewProxy.setTranslationX(onlineTextView, -21 * AndroidUtilities.density * diff);
-            ViewProxy.setTranslationY(onlineTextView, (float) Math.floor(avatarY) + AndroidUtilities.dp(22) + (float )Math.floor(11 * AndroidUtilities.density) * diff);
+            //ViewProxy.setTranslationY(onlineTextView, (float) Math.floor(avatarY) + AndroidUtilities.dp(22) + (float) Math.floor(11 * AndroidUtilities.density) * diff);
+            ViewProxy.setTranslationY(onlineTextView, (float) Math.floor(avatarY) + AndroidUtilities.dp(22 + y) + (float) Math.floor(11 * AndroidUtilities.density) * diff);
 
+            int y2 = themePrefs.getInt("profileStatusSize", 14) - 14 + y;
             ViewProxy.setTranslationX(adminTextView, -21 * AndroidUtilities.density * diff);
-            ViewProxy.setTranslationY(adminTextView, (float) Math.floor(avatarY) + AndroidUtilities.dp(32) + (float )Math.floor(22 * AndroidUtilities.density) * diff);
+            //ViewProxy.setTranslationY(adminTextView, (float) Math.floor(avatarY) + AndroidUtilities.dp(32) + (float) Math.floor(22 * AndroidUtilities.density) * diff);
+            ViewProxy.setTranslationY(adminTextView, (float) Math.floor(avatarY) + AndroidUtilities.dp(32 + y2) + (float )Math.floor(22 * AndroidUtilities.density) * diff);
 
             ViewProxy.setScaleX(nameTextView, 1.0f + 0.12f * diff);
             ViewProxy.setScaleY(nameTextView, 1.0f + 0.12f * diff);
@@ -1738,10 +1749,10 @@ public void onClick(View v) {
                         try {
                             if (Build.VERSION.SDK_INT < android.os.Build.VERSION_CODES.HONEYCOMB) {
                                 android.text.ClipboardManager clipboard = (android.text.ClipboardManager) ApplicationLoader.applicationContext.getSystemService(Context.CLIPBOARD_SERVICE);
-                                clipboard.setText(""+fId);
+                                clipboard.setText("" + fId);
                             } else {
                                 android.content.ClipboardManager clipboard = (android.content.ClipboardManager) ApplicationLoader.applicationContext.getSystemService(Context.CLIPBOARD_SERVICE);
-                                android.content.ClipData clip = android.content.ClipData.newPlainText("label", ""+fId);
+                                android.content.ClipData clip = android.content.ClipData.newPlainText("label", "" + fId);
                                 clipboard.setPrimaryClip(clip);
                             }
                             Toast.makeText(getParentActivity(), LocaleController.formatString("Copied", R.string.Copied, fId), Toast.LENGTH_SHORT).show();
@@ -1796,18 +1807,19 @@ private void updateListBG(){
         }else{
             listView.setBackgroundColor(mainColor);
         }
-        listView.setGlowColor(mainColor);
+        //listView.setGlowColor(mainColor);
     }
 
     private void updateActionBarBG(){
         SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
         int def = themePrefs.getInt("themeColor", AndroidUtilities.defColor);
-
         int hColor = themePrefs.getInt("profileHeaderColor", def);
         actionBar.setBackgroundColor(hColor);
+        listView.setGlowColor(hColor);
         extraHeightView.setBackgroundColor(hColor);
         int val = themePrefs.getInt("profileHeaderGradient", 0);
         if (val > 0) {
+            int gradColor = themePrefs.getInt("profileHeaderGradientColor", def);
             GradientDrawable.Orientation go;
             switch (val) {
                 case 2:
@@ -1821,45 +1833,22 @@ private void updateActionBarBG(){
                     break;
                 default:
                     go = GradientDrawable.Orientation.TOP_BOTTOM;
+                    extraHeightView.setBackgroundColor(gradColor);
             }
-            int gradColor = themePrefs.getInt("profileHeaderGradientColor", def);
+
             int[] colors = new int[]{hColor, gradColor};
             GradientDrawable gd = new GradientDrawable(go, colors);
             actionBar.setBackgroundDrawable(gd);
-            extraHeightView.setBackgroundDrawable(gd);
+            if(val > 1)extraHeightView.setBackgroundDrawable(gd);
         }
     }
-
+    /*
     private void updateViewColor(View v){
         SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
-        int mainColor = themePrefs.getInt("profileRowColor", 0xffffffff);
         int value = themePrefs.getInt("profileRowGradient", 0);
-        boolean b = true;//themePrefs.getBoolean("profileRowGradientListCheck", false);
-        if(value > 0 && !b) {
-            GradientDrawable.Orientation go;
-            switch(value) {
-                case 2:
-                    go = GradientDrawable.Orientation.LEFT_RIGHT;
-                    break;
-                case 3:
-                    go = GradientDrawable.Orientation.TL_BR;
-                    break;
-                case 4:
-                    go = GradientDrawable.Orientation.BL_TR;
-                    break;
-                default:
-                    go = GradientDrawable.Orientation.TOP_BOTTOM;
-            }
-
-            int gradColor = themePrefs.getInt("profileRowGradientColor", 0xffffffff);
-            int[] colors = new int[]{mainColor, gradColor};
-            GradientDrawable gd = new GradientDrawable(go, colors);
-            v.setBackgroundDrawable(gd);
-        } else if(b){
-            v.setBackgroundColor(0x00000000);
-        }
-        if(value > 0)v.setTag("Profile00");
-    }
+        v.setBackgroundColor(0x00000000);
+        if(value > 0)v.setTag("Profile00");//if gradient make dividercell transparent
+    }*/
 
     private void createActionBarMenu() {
         ActionBarMenu menu = actionBar.createMenu();
@@ -1972,13 +1961,23 @@ public ListAdapter(Context context) {
         @Override
         public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
             View view = null;
+            SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
+            int rColor = themePrefs.getInt("profileRowColor", 0xffffffff);
+            int value = themePrefs.getInt("profileRowGradient", 0);
+            int tColor = themePrefs.getInt("profileTitleColor", 0xff212121);
+            int dColor = themePrefs.getInt("profileIconsColor", 0xff737373);
             switch (viewType) {
                 case 0:
                     view = new EmptyCell(mContext);
+                    //updateViewColor(view);
+                    view.setBackgroundColor(0x00000000);
                     break;
                 case 1:
                     view = new DividerCell(mContext);
                     view.setPadding(AndroidUtilities.dp(72), 0, 0, 0);
+                    view.setTag("profileRowColor");
+                    view.setBackgroundColor(0x00000000);
+                    if(value > 0)view.setTag("Profile00");
                     break;
                 case 2:
                     view = new TextDetailCell(mContext) {
@@ -1992,8 +1991,12 @@ public boolean onTouchEvent(MotionEvent event) {
                             return super.onTouchEvent(event);
                         }
                     };
+                    ((TextDetailCell) view).setTextColor(tColor);
+                    ((TextDetailCell) view).setValueColor(themePrefs.getInt("profileSummaryColor", 0xff8a8a8a));
+                    //updateViewColor(view);
+                    view.setBackgroundColor(0x00000000);
                     break;
-case 3:
+                case 3:
                     view = new TextCell(mContext) {
                         @Override
                         public boolean onTouchEvent(MotionEvent event) {
@@ -2005,6 +2008,9 @@ public boolean onTouchEvent(MotionEvent event) {
                             return super.onTouchEvent(event);
                         }
                     };
+                    //updateViewColor(view);
+                    view.setBackgroundColor(0x00000000);
+                    ((TextCell) view).setTextColor(tColor);
                     break;
                 case 4:
                     view = new UserCell(mContext, 61) {
@@ -2018,17 +2024,26 @@ public boolean onTouchEvent(MotionEvent event) {
                             return super.onTouchEvent(event);
                         }
                     };
+                    //updateViewColor(view);
+                    view.setBackgroundColor(0x00000000);
+                    view.setTag("Profile");
                     break;
                 case 5:
-                    view = new ShadowSectionCell(mContext);
+                    //view = new ShadowSectionCell(mContext);
+                    view = new ShadowSectionCell(mContext, false);
+                    if(rColor != 0xffffffff || value > 0)view.setBackgroundColor(0x00000000);
                     break;
                 case 6:
                     view = new AddMemberCell(mContext);
+                    //updateViewColor(view);
+                    view.setBackgroundColor(0x00000000);
                     if (chat_id > 0) {
                         ((AddMemberCell) view).setText(LocaleController.getString("AddMember", R.string.AddMember));
                     } else {
                         ((AddMemberCell) view).setText(LocaleController.getString("AddRecipient", R.string.AddRecipient));
                     }
+                    ((AddMemberCell) view).setTextColor(tColor);
+                    ((AddMemberCell) view).setDrawableColor(dColor);
                     break;
             }
             return new Holder(view);
@@ -2050,10 +2065,8 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                     } else {
                         ((EmptyCell) holder.itemView).setHeight(AndroidUtilities.dp(36));
                     }
-                    updateViewColor(holder.itemView);
                     break;
                 case 2:
-                    updateViewColor(holder.itemView);
                     TextDetailCell textDetailCell = (TextDetailCell) holder.itemView;
                     textDetailCell.setTextColor(tColor);
                     textDetailCell.setValueColor(themePrefs.getInt("profileSummaryColor", 0xff8a8a8a));
@@ -2089,7 +2102,6 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                     }
                     break;
                 case 3:
-                    updateViewColor(holder.itemView);
                     TextCell textCell = (TextCell) holder.itemView;
                     //textCell.setTextColor(0xff212121);
                     textCell.setTextColor(tColor);
@@ -2172,9 +2184,8 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                     }
                     break;
                 case 4:
-                    updateViewColor(holder.itemView);
                     TLRPC.TL_chatParticipant part = info.participants.participants.get(sortedUsers.get(i - emptyRowChat2 - 1));
-                    //((UserCell) holder.itemView).setData(MessagesController.getInstance().getUser(part.user_id), null, null, i == emptyRowChat2 + 1 ? R.drawable.menu_newgroup : 0);
+                    //((TitleColor) holder.itemView).setData(MessagesController.getInstance().getUser(part.user_id), null, null, i == emptyRowChat2 + 1 ? R.drawable.menu_newgroup : 0);
                     int icon = 0;
                     if (info.participants.admin_id == part.user_id) {
                         icon = R.drawable.menu_admin;
@@ -2182,6 +2193,7 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                         icon = R.drawable.menu_newgroup;
                     }
                     ((UserCell) holder.itemView).setData(MessagesController.getInstance().getUser(part.user_id), null, null, icon);
+                    //holder.itemView.setTag("Profile");
                     break;
                 default:
                     checkBackground = false;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatActivity.java
index 4075d3565..8689b3351 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatActivity.java
@@ -119,6 +119,9 @@
     private int emojiViewBGGradientRow;
     private int emojiViewBGGradientColorRow;
 
+    private int commandColorRow;
+    private int commandColorCheckRow;
+
     private int rowCount;
 
     public final static int CENTER = 0;
@@ -166,6 +169,9 @@ public boolean onFragmentCreate() {
         lTextColorRow = rowCount++;
         lLinkColorRow = rowCount++;
 
+        commandColorCheckRow = rowCount++;
+        commandColorRow = rowCount++;
+
         timeSizeRow = rowCount++;
         rTimeColorRow = rowCount++;
         lTimeColorRow = rowCount++;
@@ -390,6 +396,18 @@ public void onClick(DialogInterface dialog, int which) {
                         });
                         builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
                         showDialog(builder.create());
+                    } else if (i == commandColorCheckRow) {
+                        boolean b = themePrefs.getBoolean( key, true);
+                        SharedPreferences.Editor editor = themePrefs.edit();
+                        editor.putBoolean(key, !b);
+                        editor.commit();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(!b);
+                        }
+                        if (listView != null) {
+                            listView.invalidateViews();
+                        }
+
                     } else if (i == solidBGColorCheckRow) {
                         boolean b = themePrefs.getBoolean( key, true);
                         SharedPreferences.Editor editor = themePrefs.edit();
@@ -989,6 +1007,20 @@ public void colorChanged(int color) {
                             }
                         },themePrefs.getInt("chatOnlineColor", themePrefs.getInt("chatStatusColor", lightColor)), CENTER, 0, false);
                         colorDialog.show();
+                    } else if (i == commandColorRow) {
+                        if (getParentActivity() == null) {
+                            return;
+                        }
+                        LayoutInflater li = (LayoutInflater)getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
+                        li.inflate(R.layout.colordialog, null, false);
+                        ColorSelectorDialog colorDialog = new ColorSelectorDialog(getParentActivity(), new OnColorChangedListener() {
+                            @Override
+                            public void colorChanged(int color) {
+                                commitInt("chatCommandColor", color);
+                            }
+
+                        },themePrefs.getInt("chatCommandColor", defColor), CENTER, 0, false);
+                        colorDialog.show();
                     } else if (i == dateColorRow) {
                         if (getParentActivity() == null) {
                             return;
@@ -1260,6 +1292,8 @@ public boolean onItemLongClick(AdapterView<?> adapterView, View view, int i, lon
                         resetPref("chatRTimeColor");
                     } else if (i == lTimeColorRow) {
                         resetPref("chatLTimeColor");
+                    } else if (i == commandColorRow) {
+                        resetPref("chatCommandColor");
                     } else if (i == dateColorRow) {
                         resetPref("chatDateColor");
                     } else if (i == checksColorRow) {
@@ -1415,7 +1449,7 @@ public boolean isEnabled(int i) {
             int g = AndroidUtilities.getIntDef("chatGradientBG", 0);
             return  i == headerColorRow || i == headerGradientRow || AndroidUtilities.getIntDef("chatHeaderGradient", 0) != 0 && i == headerGradientColorRow || i == muteColorRow || i == headerIconsColorRow || i == rBubbleColorRow || i == lBubbleColorRow ||  i == bubblesRow ||
                     i == solidBGColorCheckRow || b && i == solidBGColorRow || b && i == gradientBGRow || (g != 0 &&  i == gradientBGColorRow) || i == avatarRadiusRow || i == avatarSizeRow || i == avatarMarginLeftRow || i == avatarAlignTopRow || i == ownAvatarAlignTopRow || i == showContactAvatar || i == showOwnAvatar || i == showOwnAvatarGroup || i == nameColorRow || i == nameSizeRow || i == statusColorRow || i == onlineColorRow || i == statusSizeRow ||
-                    i == textSizeRow || i == timeSizeRow || i == dateColorRow || i == dateSizeRow || i == dateBubbleColorRow || i == rTextColorRow || i == rLinkColorRow || i == lTextColorRow || i == lLinkColorRow ||
+                    i == textSizeRow || i == timeSizeRow || AndroidUtilities.getBoolPref("chatCommandColorCheck") && i == commandColorRow || i == commandColorCheckRow || i == dateColorRow || i == dateSizeRow || i == dateBubbleColorRow || i == rTextColorRow || i == rLinkColorRow || i == lTextColorRow || i == lLinkColorRow ||
                     i == rTimeColorRow|| i == lTimeColorRow || i == checksColorRow || i == memberColorCheckRow || AndroidUtilities.getBoolPref("chatMemberColorCheck") && i == memberColorRow || i == contactNameColorRow || i == forwardRightNameColorRow || i == forwardLeftNameColorRow || i == showUsernameCheckRow ||
                     i == editTextSizeRow || i == editTextColorRow || i == editTextIconsColorRow || i == sendColorRow || i == editTextBGColorRow || i == editTextBGGradientRow || AndroidUtilities.getIntDef("chatEditTextBGGradient", 0) != 0 && i == editTextBGGradientColorRow || i == attachBGColorRow || i == attachBGGradientRow || AndroidUtilities.getIntDef("chatAttachBGGradient", 0) != 0 && i == attachBGGradientColorRow || i == attachTextColorRow ||
                     i == emojiViewBGColorRow || i == emojiViewBGGradientRow || AndroidUtilities.getIntDef("chatEmojiViewBGGradient", 0) != 0 && i == emojiViewBGGradientColorRow || i == emojiViewTabIconColorRow || i == emojiViewTabColorRow;
@@ -1508,6 +1542,9 @@ else if (type == 2) {
                 if (i == solidBGColorCheckRow) {
                     textCell.setTag("chatSolidBGColorCheck");
                     textCell.setTextAndCheck(LocaleController.getString("SetSolidBGColor", R.string.SetSolidBGColor), themePrefs.getBoolean("chatSolidBGColorCheck", false), false);
+                } else if (i == commandColorCheckRow) {
+                    textCell.setTag("chatCommandColorCheck");
+                    textCell.setTextAndCheck(LocaleController.getString("CommandColorCheck", R.string.CommandColorCheck), themePrefs.getBoolean("chatCommandColorCheck", false), false);
                 } else if (i == memberColorCheckRow) {
                     textCell.setTag("chatMemberColorCheck");
                     textCell.setTextAndCheck(LocaleController.getString("SetMemberColor", R.string.SetMemberColor), themePrefs.getBoolean("chatMemberColorCheck", false), false);
@@ -1593,6 +1630,8 @@ else if (type == 3){
                     textCell.setTextAndColor(LocaleController.getString("LTimeColor", R.string.LTimeColor), themePrefs.getInt("chatLTimeColor", 0xffa1aab3), true);
                 } else if (i == checksColorRow) {
                     textCell.setTextAndColor(LocaleController.getString("ChecksColor", R.string.ChecksColor), themePrefs.getInt("chatChecksColor", defColor), true);
+                } else if (i == commandColorRow) {
+                    textCell.setTextAndColor(LocaleController.getString("CommandColor", R.string.CommandColor), themePrefs.getBoolean("chatCommandColorCheck", false) ? themePrefs.getInt("chatCommandColor", defColor) : 0x00000000, true);
                 } else if (i == dateColorRow) {
                     textCell.setTextAndColor(LocaleController.getString("DateColor", R.string.DateColor), themePrefs.getInt("chatDateColor", 0xffffffff), true);
                 } else if (i == dateBubbleColorRow) {
@@ -1717,12 +1756,12 @@ else if ( i == avatarRadiusRow || i == avatarSizeRow || i == avatarMarginLeftRow
             }
 
             else if ( i == headerColorRow || i == headerGradientColorRow || i == muteColorRow || i == headerIconsColorRow ||
-                    i == solidBGColorRow || i == gradientBGColorRow || i == rBubbleColorRow || i == lBubbleColorRow || i == nameColorRow || i == statusColorRow || i == onlineColorRow || i == dateColorRow || i == dateBubbleColorRow ||
+                    i == solidBGColorRow || i == gradientBGColorRow || i == rBubbleColorRow || i == lBubbleColorRow || i == nameColorRow || i == statusColorRow || i == onlineColorRow || i == commandColorRow || i == dateColorRow || i == dateBubbleColorRow ||
                     i == rTextColorRow || i == rLinkColorRow || i == lTextColorRow || i == lLinkColorRow || i == rLinkColorRow || i == rTimeColorRow || i == lTimeColorRow || i == checksColorRow || i == memberColorRow || i == contactNameColorRow || i == forwardRightNameColorRow || i == forwardLeftNameColorRow ||
                     i == sendColorRow || i == editTextColorRow || i == editTextBGColorRow || i == editTextBGGradientColorRow || i == editTextIconsColorRow ||  i == attachBGColorRow ||  i == attachBGGradientColorRow || i == attachTextColorRow ||
                     i == emojiViewBGColorRow || i == emojiViewBGGradientColorRow || i == emojiViewTabIconColorRow || i == emojiViewTabColorRow) {
                 return 3;
-            } else if (i == solidBGColorCheckRow || i == memberColorCheckRow || i == showUsernameCheckRow || i == avatarAlignTopRow || i == ownAvatarAlignTopRow || i == showContactAvatar || i == showOwnAvatar || i == showOwnAvatarGroup) {
+            } else if (i == solidBGColorCheckRow || i == commandColorCheckRow || i == memberColorCheckRow || i == showUsernameCheckRow || i == avatarAlignTopRow || i == ownAvatarAlignTopRow || i == showContactAvatar || i == showOwnAvatar || i == showOwnAvatarGroup) {
                 return 4;
             } else if (i == headerGradientRow || i == gradientBGRow || i == editTextBGGradientRow || i == attachBGGradientRow || i == emojiViewBGGradientRow) {
                 return 5;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatsActivity.java
index 080e359a4..8b344b652 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatsActivity.java
@@ -80,6 +80,8 @@
     private int countColorRow;
     private int countSizeRow;
     private int countBGColorRow;
+    //private int countSilentColorRow;
+    private int countSilentBGColorRow;
     private int floatingPencilColorRow;
     private int floatingBGColorRow;
     private int avatarSizeRow;
@@ -94,6 +96,7 @@
     private int rowGradientListCheckRow;
     private int headerGradientRow;
     private int headerGradientColorRow;
+    private int highlightSearchColorRow;
 
     private int rowCount;
 
@@ -142,10 +145,14 @@ public boolean onFragmentCreate() {
         countColorRow = rowCount++;
         countSizeRow = rowCount++;
         countBGColorRow = rowCount++;
+        //countSilentColorRow = rowCount++;
+        countSilentBGColorRow = rowCount++;
 
         floatingPencilColorRow = rowCount++;
         floatingBGColorRow = rowCount++;
 
+        highlightSearchColorRow = rowCount++;
+
         return true;
     }
 
@@ -501,6 +508,20 @@ public void colorChanged(int color) {
 
                         },themePrefs.getInt( key, 0xff8f8f8f), CENTER, 0, true);
 
+                        colorDialog.show();
+                    } else if (i == highlightSearchColorRow) {
+                        if (getParentActivity() == null) {
+                            return;
+                        }
+                        LayoutInflater li = (LayoutInflater)getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
+                        li.inflate(R.layout.colordialog, null, false);
+                        ColorSelectorDialog colorDialog = new ColorSelectorDialog(getParentActivity(), new OnColorChangedListener() {
+                            @Override
+                            public void colorChanged(int color) {
+                                commitInt( key, color);
+                            }
+
+                        },themePrefs.getInt( key, AndroidUtilities.getIntDarkerColor("themeColor", -0x40)), CENTER, 0, true);
                         colorDialog.show();
                     } else if (i == memberColorRow) {
                         if (getParentActivity() == null) {
@@ -589,6 +610,34 @@ public void colorChanged(int color) {
 
                         },themePrefs.getInt( key, defColor), CENTER, 0, true);
                         colorDialog.show();
+                    } /*else if (i == countSilentColorRow) {
+                        if (getParentActivity() == null) {
+                            return;
+                        }
+                        LayoutInflater li = (LayoutInflater)getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
+                        li.inflate(R.layout.colordialog, null, false);
+                        ColorSelectorDialog colorDialog = new ColorSelectorDialog(getParentActivity(), new OnColorChangedListener() {
+                            @Override
+                            public void colorChanged(int color) {
+                                commitInt( key, color);
+                            }
+
+                        },themePrefs.getInt( key, 0xffffffff), CENTER, 0, true);
+                        colorDialog.show();
+                    }*/ else if (i == countSilentBGColorRow) {
+                        if (getParentActivity() == null) {
+                            return;
+                        }
+                        LayoutInflater li = (LayoutInflater)getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
+                        li.inflate(R.layout.colordialog, null, false);
+                        ColorSelectorDialog colorDialog = new ColorSelectorDialog(getParentActivity(), new OnColorChangedListener() {
+                            @Override
+                            public void colorChanged(int color) {
+                                commitInt( key, color);
+                            }
+
+                        },themePrefs.getInt( key, themePrefs.getInt("chatsCountBGColor", 0xffb9b9b9)), CENTER, 0, true);
+                        colorDialog.show();
                     } else if (i == avatarRadiusRow) {
                         if (getParentActivity() == null) {
                             return;
@@ -904,8 +953,8 @@ public boolean isEnabled(int i) {
             int g = AndroidUtilities.getIntDef("chatsRowGradient",0);
             return  i == headerColorRow || i == headerGradientRow || (AndroidUtilities.getIntDef("chatsHeaderGradient", 0) != 0 && i == headerGradientColorRow) || i == headerTitleColorRow || i == headerIconsColorRow || i == headerTitleRow ||
                     i == rowColorRow || i == rowGradientRow || (g != 0 &&  i == rowGradientColorRow) || (g != 0 && i == rowGradientListCheckRow) || i == dividerColorRow || i == avatarRadiusRow ||  i == avatarSizeRow ||   i == avatarMarginLeftRow ||
-                    i == nameColorRow || i == groupNameColorRow || i == unknownNameColorRow || i == groupIconColorRow || i == muteColorRow || i == checksColorRow || i == nameSizeRow || i == groupNameSizeRow || i == messageColorRow || i == memberColorRow || i == mediaColorRow || i == typingColorRow || i == messageSizeRow ||
-                    i == timeColorRow || i == timeSizeRow || i == countColorRow || i == countSizeRow || i == countBGColorRow || i == floatingPencilColorRow || i == floatingBGColorRow;
+                    i == nameColorRow || i == groupNameColorRow || i == unknownNameColorRow || i == groupIconColorRow || i == muteColorRow || i == checksColorRow || i == nameSizeRow || i == groupNameSizeRow || i == messageColorRow || i == highlightSearchColorRow || i == memberColorRow || i == mediaColorRow || i == typingColorRow || i == messageSizeRow ||
+                    i == timeColorRow || i == timeSizeRow || i == countColorRow || i == countSizeRow || i == countBGColorRow /*|| i == countSilentColorRow*/ || i == countSilentBGColorRow || i == floatingPencilColorRow || i == floatingBGColorRow;
         }
 
         @Override
@@ -1054,12 +1103,21 @@ public View getView(int i, View view, ViewGroup viewGroup) {
                 } else if (i == countBGColorRow) {
                     textCell.setTag("chatsCountBGColor");
                     textCell.setTextAndColor(LocaleController.getString("CountBGColor", R.string.CountBGColor), themePrefs.getInt("chatsCountBGColor", defColor), true);
+                } /*else if (i == countSilentColorRow) {
+                    textCell.setTag("chatsCountSilentColor");
+                    textCell.setTextAndColor(LocaleController.getString("CountSilentColor", R.string.CountSilentColor), themePrefs.getInt("chatsCountSilentColor", themePrefs.getInt("chatsCountColor", 0xffffffff)), true);
+                }*/ else if (i == countSilentBGColorRow) {
+                    textCell.setTag("chatsCountSilentBGColor");
+                    textCell.setTextAndColor(LocaleController.getString("CountSilentBGColor", R.string.CountSilentBGColor), themePrefs.getInt("chatsCountSilentBGColor", themePrefs.getInt("chatsCountBGColor", 0xffb9b9b9)), true);
                 } else if (i == floatingPencilColorRow) {
                     textCell.setTag("chatsFloatingPencilColor");
                     textCell.setTextAndColor(LocaleController.getString("FloatingPencilColor", R.string.FloatingPencilColor), themePrefs.getInt("chatsFloatingPencilColor", 0xffffffff), true);
                 } else if (i == floatingBGColorRow) {
                     textCell.setTag("chatsFloatingBGColor");
-                    textCell.setTextAndColor(LocaleController.getString("FloatingBGColor", R.string.FloatingBGColor), themePrefs.getInt("chatsFloatingBGColor", defColor), false);
+                    textCell.setTextAndColor(LocaleController.getString("FloatingBGColor", R.string.FloatingBGColor), themePrefs.getInt("chatsFloatingBGColor", defColor), true);
+                } else if (i == highlightSearchColorRow) {
+                    textCell.setTag("chatsHighlightSearchColor");
+                    textCell.setTextAndColor(LocaleController.getString("HighlightSearchColor", R.string.HighlightSearchColor), themePrefs.getInt("chatsHighlightSearchColor", AndroidUtilities.getIntDarkerColor("themeColor", -0x40)), false);
                 }
             } else if (type == 4) {
                 if (view == null) {
@@ -1144,8 +1202,8 @@ public int getItemViewType(int i) {
             } else if ( i == avatarRadiusRow || i == avatarSizeRow || i == avatarMarginLeftRow || i == nameSizeRow || i == groupNameSizeRow ||  i == messageSizeRow || i == timeSizeRow || i == countSizeRow ) {
                 return 2;
             } else if ( i == headerColorRow || i == headerGradientColorRow  || i == headerTitleColorRow || i == headerIconsColorRow  ||
-                        i == rowColorRow || i == rowGradientColorRow || i == dividerColorRow || i == nameColorRow || i == groupNameColorRow || i == unknownNameColorRow || i == groupIconColorRow || i == muteColorRow || i == checksColorRow || i == messageColorRow  || i == memberColorRow || i == mediaColorRow || i == typingColorRow || i == timeColorRow || i == countColorRow ||
-                        i == countBGColorRow || i == floatingPencilColorRow || i == floatingBGColorRow) {
+                        i == rowColorRow || i == rowGradientColorRow || i == dividerColorRow || i == nameColorRow || i == groupNameColorRow || i == unknownNameColorRow || i == groupIconColorRow || i == muteColorRow || i == checksColorRow || i == messageColorRow || i == highlightSearchColorRow || i == memberColorRow || i == mediaColorRow || i == typingColorRow || i == timeColorRow || i == countColorRow ||
+                        i == countBGColorRow /*|| i == countSilentColorRow*/ || i == countSilentBGColorRow || i == floatingPencilColorRow || i == floatingBGColorRow) {
                 return 3;
             } else if (i == rowGradientListCheckRow) {
                 return 4;
diff --git a/TMessagesProj/src/main/res/values-ar/strings.xml b/TMessagesProj/src/main/res/values-ar/strings.xml
index c9c4ee8be..ad632a919 100644
--- a/TMessagesProj/src/main/res/values-ar/strings.xml
+++ b/TMessagesProj/src/main/res/values-ar/strings.xml
@@ -977,7 +977,7 @@
     <string name="formatDateAtTime">%1$s الساعة %2$s</string>
     <!--update text-->
     <string name="updateText">تم تحديث تيليجرام على الأندرويد. الجديد في النسخة رقم 3.2.6:\n\n- تحسين للواجهة البصرية للتطبيق\n- دعم للإيموجي الجديدة\n- تحسينات أخرى وإصلاح للثغرات</string>
-    <string name="updateBuild">655</string>
+    <string name="updateBuild">657</string>
     <!--Telegram+--><!--
   <string name="updatePlusText"></string>-->
   <string name="TelegramForAndroid">بلاس مسنجر للأندرويد</string>
diff --git a/TMessagesProj/src/main/res/values-ca/strings.xml b/TMessagesProj/src/main/res/values-ca/strings.xml
index 7748360f2..aa2c41265 100644
--- a/TMessagesProj/src/main/res/values-ca/strings.xml
+++ b/TMessagesProj/src/main/res/values-ca/strings.xml
@@ -982,11 +982,11 @@ Si no us interessa, us suggerim crear un canal privat.</string>
 - Animacions noves i moltes millores visuals
 - Compatibilitat amb els emojis nous
 - Altres millores i correcció d\'errors</string>
-<string name="updateBuild">655</string>
+<string name="updateBuild">657</string>
     <!--Telegram+-->
   <string name="updatePlusText">
 
-Novetats a la versió 3.2.6.0:
+Novetats a la versió 3.2.6.1:
 
 - Correcció d\'errors</string>
     <string name="TelegramForAndroid">Plus Messenger per Android</string>
@@ -1139,7 +1139,7 @@ Novetats a la versió 3.2.6.0:
   <string name="Copied">S\'ha copiat %s al porta-retalls</string>
   <string name="JoinChannel">
 
-Afegiu-vos al canal oficial del Plus Messenger: https://telegram.me/plusmsnes</string>
+Afegiu-vos al canal oficial del Plus Messenger: https://telegram.me/plusmsgres</string>
   <string name="DownloadThemes">Baixa nous temes</string>
   <string name="OfficialChannel">Canal oficial</string>
   <string name="DialogsSettings">Diàlegs</string>
diff --git a/TMessagesProj/src/main/res/values-de/strings.xml b/TMessagesProj/src/main/res/values-de/strings.xml
index 6eacd811b..42e4835c0 100644
--- a/TMessagesProj/src/main/res/values-de/strings.xml
+++ b/TMessagesProj/src/main/res/values-de/strings.xml
@@ -974,9 +974,9 @@
     <string name="formatDateAtTime">%1$s um %2$s</string>
     <!--update text-->
 <string name="updateText">Plus Messenger für Android wurde aktualisiert. Neu in Version 3.2.6:\n\n- Neue Animationen und optische Verbesserungen\n- Neue Emoji\n-  Sonstige Verbesserungen und Fehlerbehebungen</string>
-    <string name="updateBuild">655</string>
+    <string name="updateBuild">657</string>
     <!--Telegram+-->
-  <string name="updatePlusText">\n\nNeues in Version 3.2.6.0:\n\n- Fehlerbeseitigung</string>
+  <string name="updatePlusText">\n\nNeues in Version 3.2.6.1:\n\n- Fehlerbeseitigung</string>
     <string name="TelegramForAndroid">Plus Messenger für Android</string>
   <string name="Theming">Themen bearbeiten</string>
   <string name="colorHexInvalid">Ungültiger Hex-Code!</string>
@@ -1126,7 +1126,7 @@
   <string name="RowGradientList">Hintergrund Farbverlauf Liste oder Seite</string>
   <string name="Copied">%s in die Zwischenablage kopiert</string>
   <string name="JoinChannel">
-\n\nPlus Messenger Mitglied werden im offiziellen Kanal: https://telegram.me/plusmsn</string>
+\n\nPlus Messenger Mitglied werden im offiziellen Kanal: https://telegram.me/plusmsgr</string>
   <string name="DownloadThemes">Themen herunterladen</string>
   <string name="OfficialChannel">Offizieller Kanal</string>
   <string name="DialogsSettings">Dialoge</string>
diff --git a/TMessagesProj/src/main/res/values-es/strings.xml b/TMessagesProj/src/main/res/values-es/strings.xml
index 64d25b6ce..f232ea298 100644
--- a/TMessagesProj/src/main/res/values-es/strings.xml
+++ b/TMessagesProj/src/main/res/values-es/strings.xml
@@ -974,9 +974,9 @@
     <string name="formatDateAtTime">%1$s a las %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger para Android ha sido actualizada. Novedades en la versión 3.2.6:\n\n- Nuevas animaciones y muchas mejoras visuales\n- Soporte para los nuevos emojis\n- Soporte para Android 6.0 (Now on Tap - Direct Share - Soporte para huella digital en el código de acceso)\n- Otras mejoras y correcciones de errores</string>
-    <string name="updateBuild">655</string>
+    <string name="updateBuild">657</string>
     <!--Telegram+-->
-    <string name="updatePlusText">\n\nNovedades en 3.2.6.0:\n\n- Corrección de errores</string>
+    <string name="updatePlusText">\n\nNovedades en 3.2.6.1:\n\n- Añadido mod para color de comando en pantalla chat\n- Añadido mod para fondo de contador para chat/grupo/canal silenciado en pantalla principal\n- Añadido mod de color de resaltado de búsqueda en pantalla principal\n- Corrección de errores</string>
     <string name="TelegramForAndroid">Plus Messenger para Android</string>
     <string name="Theming">Tematización</string>
     <string name="colorHexInvalid">¡Color hexadecimal inválido!</string>
@@ -1125,7 +1125,7 @@
     <string name="RowGradientBLTR">Abajo-Izquierda Arriba-Derecha</string>
     <string name="RowGradientList">Aplicar gradiente a fondo de lista</string>
     <string name="Copied">%s copiado al portapapeles</string>
-    <string name="JoinChannel">\n\nÚnete al canal oficial de Plus Messenger en español: https://telegram.me/plusmsnes</string>
+    <string name="JoinChannel">\n\nÚnete al canal oficial de Plus Messenger en español: https://telegram.me/plusmsgres</string>
     <string name="DownloadThemes">Descargar temas</string>
     <string name="OfficialChannel">Canal oficial</string>
     <string name="DialogsSettings">Chats</string>
@@ -1133,4 +1133,8 @@
     <string name="ClickOnGroupPic">Click en foto de grupo</string>
     <string name="ShowProfile">Perfil</string>
     <string name="ShowPics">Fotos de perfil</string>
+    <string name="CountSilentBGColor">Color de fondo de contador en silencio</string>
+    <string name="CommandColorCheck">Activar color de comando</string>
+    <string name="CommandColor">Color de comando</string>
+    <string name="HighlightSearchColor">Color de resaltado de búsqueda</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-fr/strings.xml b/TMessagesProj/src/main/res/values-fr/strings.xml
index f01c90ad4..c62d340f7 100644
--- a/TMessagesProj/src/main/res/values-fr/strings.xml
+++ b/TMessagesProj/src/main/res/values-fr/strings.xml
@@ -974,7 +974,7 @@
   <string name="formatDateAtTime">%1$s à %2$s</string>
   <!--update text-->
   <string name="updateText">Telegram pour Android a été mis à jour. Nouveau dans la version 3.2.6:\n\n- De nouvelles animations et de nombreuses améliorations visuelles.\n- Support pour de nouveaux emoji\n- Autres améliorations et corrections de bogues.</string>
-  <string name="updateBuild">655</string>
+  <string name="updateBuild">657</string>
     <!--Telegram+-->
     <string name="TelegramForAndroid">Plus Messenger pour Android</string>
     <string name="Theming">Thème</string>
diff --git a/TMessagesProj/src/main/res/values-gl/strings.xml b/TMessagesProj/src/main/res/values-gl/strings.xml
index ce4d4d7fe..e16da3a58 100644
--- a/TMessagesProj/src/main/res/values-gl/strings.xml
+++ b/TMessagesProj/src/main/res/values-gl/strings.xml
@@ -975,9 +975,9 @@ e introduce o teu número.</string>
   <string name="formatDateAtTime">%1$s ás %2$s</string>
   <!--update text-->
   <string name="updateText">Telegram para Android foi actualizada. Novidades na versión 3.2.6:\n\n- Novas animacións e moitas melloras visuais\n- Soporte para os novos emoji\n- Outras melloras e correccións de erros</string>
-  <string name="updateBuild">655</string>
+  <string name="updateBuild">657</string>
   <!--Telegram+-->
-  <string name="updatePlusText">\n\nNovidades na versión 3.2.6.0:\n\n- Corrección de erros</string>
+  <string name="updatePlusText">\n\nNovidades na versión 3.2.6.1:\n\n- Corrección de erros</string>
     <string name="TelegramForAndroid">Plus Messenger para Android</string>
     <string name="Theming">Tematización</string>
     <string name="colorHexInvalid">Cor hexadecimal inválida!</string>
@@ -1126,7 +1126,7 @@ e introduce o teu número.</string>
   <string name="RowGradientBLTR">Abaixo-Esquerda Arriba-Dereita</string>
   <string name="RowGradientList">Aplicar gradiente ao fondo do listado</string>
   <string name="Copied">%s copiado ao portapapeis</string>
-  <string name="JoinChannel">\n\nÚnete á canle oficial de Plus Messenger: https://telegram.me/plusmsnes</string>
+  <string name="JoinChannel">\n\nÚnete á canle oficial de Plus Messenger: https://telegram.me/plusmsgres</string>
   <string name="DownloadThemes">Descargar temas</string>
   <string name="OfficialChannel">Canle oficial</string>
   <string name="DialogsSettings">Conversas</string>
diff --git a/TMessagesProj/src/main/res/values-hi/strings.xml b/TMessagesProj/src/main/res/values-hi/strings.xml
index e66040edf..d97fef781 100644
--- a/TMessagesProj/src/main/res/values-hi/strings.xml
+++ b/TMessagesProj/src/main/res/values-hi/strings.xml
@@ -515,7 +515,7 @@
   <string name="formatDateAtTime">%1$s पर %2$s</string>
   <!--update text--><!--
   <string name="updateText">Plus Messenger for Android has been updated. New in Version 3.0:\n\n\n\n- Dedicated tabs for each one of your custom sticker sets in the sticker panel. Add custom stickers like https://telegram.me/addstickers/Animals\n- New bot API, free for everyone. If you\'re an engineer, create your own bots for games, services or integrations. Learn more at https://telegram.org/blog/bot-revolution\n https://play.google.com/store/apps/details?id=es.rafalense.themes</string>-->
-  <string name="updateBuild">655</string>
+  <string name="updateBuild">657</string>
   <!--Telegram+--><!--
   <string name="updatePlusText"></string>-->
   <string name="TelegramForAndroid">Android  के लिए प्लस मैसेंजर</string>
diff --git a/TMessagesProj/src/main/res/values-hr/strings.xml b/TMessagesProj/src/main/res/values-hr/strings.xml
index 0443a881e..f963fc7b0 100644
--- a/TMessagesProj/src/main/res/values-hr/strings.xml
+++ b/TMessagesProj/src/main/res/values-hr/strings.xml
@@ -750,7 +750,7 @@
     <string name="formatterDay12H">h:mm a</string>
     <string name="formatDateAtTime">%1$s u %2$s</string>
   <!--update text-->
-  <string name="updateBuild">655</string>
+  <string name="updateBuild">657</string>
     <!--Telegram+-->
   <string name="TelegramForAndroid">Plus Messenger za Android</string>
   <string name="Theming">Izrada teme</string>
diff --git a/TMessagesProj/src/main/res/values-it/strings.xml b/TMessagesProj/src/main/res/values-it/strings.xml
index 4c18a999f..6bdb27f24 100644
--- a/TMessagesProj/src/main/res/values-it/strings.xml
+++ b/TMessagesProj/src/main/res/values-it/strings.xml
@@ -974,9 +974,10 @@
     <string name="formatDateAtTime">%1$s alle %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger per Android si è aggiornato. Nuovo nella versione 3.2.6:\n\n- Nuove animazioni e miglioramenti di interfaccia\n- Supporto per le nuove emoji\n- Altri miglioramenti e risoluzione di problemi</string>
-    <string name="updateBuild">655</string>
+    <string name="updateBuild">657</string>
     <!--Telegram+-->
-  <string name="updatePlusText">\n\nNovità nella versione 3.2.6.0:\n\n- Correzioni bug</string>
+  <string name="updatePlusText">
+\n\nNovità nella versione 3.2.6.1:\n\n- Aggiunta mod per il colore del comando nella schermata della chat\n- Aggiunta mod per il colore dello sfondo del contatore di chat/gruppi/canali mutati nella schermata principale\n- Aggiunta mod per il colore dell\'evidenziazione della ricerca nella schermata principale\n- Correzioni bug</string>
     <string name="TelegramForAndroid">Plus Messenger per Android</string>
   <string name="Theming">Personalizzazione</string>
     <string name="colorHexInvalid">Codice del colore esadecimale non valido!</string>
@@ -1126,7 +1127,7 @@
   <string name="RowGradientList">Applica il gradiente allo sfondo della lista</string>
   <string name="Copied">%s copiato negli appunti</string>
   <string name="JoinChannel">
-\n\nEntra nel canale ufficiale di Plus Messenger: https://telegram.me/plusmsn</string>
+\n\nEntra nel canale ufficiale di Plus Messenger: https://telegram.me/plusmsgr</string>
   <string name="DownloadThemes">Scarica temi</string>
   <string name="OfficialChannel">Canale ufficiale</string>
   <string name="DialogsSettings">Avvisi</string>
@@ -1134,4 +1135,8 @@
   <string name="ClickOnGroupPic">Click sull\'immagine del gruppo</string>
   <string name="ShowProfile">Profilo</string>
   <string name="ShowPics">Immagini del profilo</string>
+  <string name="CountSilentBGColor">Colore di sfondo del contatore per le conversazioni silenziate</string>
+  <string name="CommandColorCheck">Colore della spunta del comando del bot</string>
+  <string name="CommandColor">Colore del comando del bot</string>
+  <string name="HighlightSearchColor">Colore dell\'evidenziazione nella ricerca</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-ko/strings.xml b/TMessagesProj/src/main/res/values-ko/strings.xml
index b4dc2add4..6672b14c2 100644
--- a/TMessagesProj/src/main/res/values-ko/strings.xml
+++ b/TMessagesProj/src/main/res/values-ko/strings.xml
@@ -977,5 +977,5 @@
     <string name="formatDateAtTime">%1$s %2$s</string>
     <!--update text-->
     <string name="updateText">텔레그램 안드로이드 버전이 업데이트 되었습니다. 새로운 버전은 3.2.6 입니다:\n\n- 새로운 애니메이션 및 다양한 비쥬얼 향상\n- 신규 이모티콘 지원\n- 기타 기능 향상 및 버그 수정</string>
-    <string name="updateBuild">655</string>
+    <string name="updateBuild">657</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-nl/strings.xml b/TMessagesProj/src/main/res/values-nl/strings.xml
index 4787dd4ca..8713bee70 100644
--- a/TMessagesProj/src/main/res/values-nl/strings.xml
+++ b/TMessagesProj/src/main/res/values-nl/strings.xml
@@ -974,7 +974,7 @@
     <string name="formatDateAtTime">%1$s om %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger voor Android is bijgewerkt. Nieuw in versie 3.2.6:\n\n- Nieuwe animaties en andere visuele verbeteringen\n- Ondersteuning voor nieuwe Emoji\n-Tijdsaanduiding voor laatst gezien gelijk aan iOS\n-Probleemoplossing en andere verbeteringen</string>
-    <string name="updateBuild">655</string>
+    <string name="updateBuild">657</string>
     <!--Telegram+--><!--
   <string name="updatePlusText"></string>-->
     <string name="TelegramForAndroid">Plus Messenger voor Android</string>
diff --git a/TMessagesProj/src/main/res/values-pt-rBR/strings.xml b/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
index 0f329535e..a29a61358 100644
--- a/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
+++ b/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
@@ -974,10 +974,10 @@
     <string name="formatDateAtTime">%1$s às %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger para Android foi atualizado. Novidades na versão 3.2.6:\n\n- Novas animações e melhorias no visual\n- Suporte para novos emojis\n- Outras melhorias e resoluções de bugs</string>
-    <string name="updateBuild">655</string>
+    <string name="updateBuild">657</string>
     <!--Telegram+-->
   <string name="updatePlusText">
-\n\nNovidades na versão 3.2.6.0:\n\n- Correções de erros</string>
+\n\nNovidades na versão 3.2.6.1:\n\n- Adicionada mod para cor de comando na tela de chat\n- Adicionada mod para cor de fundo do contador para chat/grupo/canal silenciado na tela principal\n- Correções de erros</string>
     <string name="TelegramForAndroid">Plus Messenger para Android</string>
     <string name="Theming">Personalização</string>
   <string name="colorHexInvalid">Código de cor HEX inválido!</string>
@@ -1094,7 +1094,7 @@
   <string name="ForwardRightNameColor">Cor do Nome Direito ao Encaminhar</string>
   <string name="ForwardLeftNameColor">Cor do Nome Esquerdo ao Encaminhar</string>
   <string name="IconsColor">Cor dos Ícones</string>
-  <string name="SettingsScreen">Configurações/Personalização</string>
+  <string name="SettingsScreen">Configurações</string>
   <string name="BackgroundColor">Cor de Fundo</string>
   <string name="ShadowColor">Cor da Sombra</string>
   <string name="SectionColor">Cor das Seções</string>
@@ -1125,9 +1125,9 @@
   <string name="RowGradientTLBR">Superior-Esquerda Inferior-Direita</string>
   <string name="RowGradientBLTR">Inferior-Esquerda Superior-Direita</string>
   <string name="RowGradientList">Aplicar degradê para a lista de fundo</string>
-  <string name="Copied">%s copiado para o clipboard</string>
+  <string name="Copied">%s copiado para a área de transferência</string>
   <string name="JoinChannel">
-\n\nJunte-se ao canal oficial do Plus Messenger: https://telegram.me/plusmsn</string>
+\n\nJunte-se ao canal oficial do Plus Messenger: https://telegram.me/plusmsgr</string>
   <string name="DownloadThemes">Baixar Temas</string>
   <string name="OfficialChannel">Canal Oficial</string>
   <string name="DialogsSettings">Diálogos</string>
@@ -1135,4 +1135,7 @@
   <string name="ClickOnGroupPic">Clique na foto do grupo</string>
   <string name="ShowProfile">Perfil</string>
   <string name="ShowPics">Fotos de Perfil</string>
+  <string name="CountSilentBGColor">Fundo do Contador Silenciado</string>
+  <string name="CommandColorCheck">Definir Cor de Comando Bot</string>
+  <string name="CommandColor">Cor de Comando Bot</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-pt-rPT/strings.xml b/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
index 57eddce4a..1c7d8e93d 100644
--- a/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
+++ b/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
@@ -977,7 +977,7 @@
     <string name="formatDateAtTime">%1$s às %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger para Android foi atualizado. Novidades na versão 3.2.6:\n\n- Novas animações e melhorias no visual\n- Suporte para novos emojis\n- Outras melhorias e resoluções de bugs</string>
-    <string name="updateBuild">655</string>
+    <string name="updateBuild">657</string>
     <!--Telegram+-->
   <string name="TelegramForAndroid">Plus Messenger para Android</string>
   <string name="Theming">Temas</string>
diff --git a/TMessagesProj/src/main/res/values-ru/strings.xml b/TMessagesProj/src/main/res/values-ru/strings.xml
index 21c56f99f..62f817ff3 100644
--- a/TMessagesProj/src/main/res/values-ru/strings.xml
+++ b/TMessagesProj/src/main/res/values-ru/strings.xml
@@ -974,10 +974,10 @@
   <string name="formatDateAtTime">%1$s в %2$s</string>
   <!--update text-->
   <string name="updateText">Telegram для Android обновлён. Новое в версии 3.2.5:\n\n- Новые анимации и множество визуальных усовершенствований\n- Поддержка новых эмодзи\n- Прочие улучшения и исправления ошибок</string>
-  <string name="updateBuild">655</string>
+  <string name="updateBuild">657</string>
     <!--Telegram+-->
   <string name="updatePlusText">
-\n\nНовое в версииn 3.2.6.0:\n\n- Исправление ошибок</string>
+\n\nНовое в версииn 3.2.6.1:\n\n- Исправление ошибок</string>
   <string name="TelegramForAndroid">Plus Messenger для Android</string>
   <string name="Theming">Кастомизация</string>
   <string name="colorHexInvalid">Неверный hex-код цвета!</string>
@@ -1127,7 +1127,7 @@
   <string name="RowGradientList">Применить градиент к фону списка</string>
   <string name="Copied">%s скопировано в буфер обмена</string>
   <string name="JoinChannel">
-\n\nПрисоединяйтесь к официальному каналу Plus Messenger: https://telegram.me/plusmsn</string>
+\n\nПрисоединяйтесь к официальному каналу Plus Messenger: https://telegram.me/plusmsgr</string>
   <string name="DownloadThemes">Загрузить темы</string>
   <string name="OfficialChannel">Официальный канал</string>
   <string name="DialogsSettings">Диалоги</string>
diff --git a/TMessagesProj/src/main/res/values-tr/strings.xml b/TMessagesProj/src/main/res/values-tr/strings.xml
index 27f8e93be..cbea87f07 100644
--- a/TMessagesProj/src/main/res/values-tr/strings.xml
+++ b/TMessagesProj/src/main/res/values-tr/strings.xml
@@ -830,7 +830,7 @@
   <string name="formatDateAtTime">%1$s %2$s</string>
   <!--update text--><!--
   <string name="updateText">Plus Messenger için temalar indirin ve uygulayın. Hergün yeni temalar ekleniyor:\n https://play.google.com/store/apps/details?id=es.rafalense.themes</string>-->
-  <string name="updateBuild">655</string>
+  <string name="updateBuild">657</string>
   <!--Telegram+--><!--
   <string name="updatePlusText">
 \n\n3.2.2.1\'deki Yenilikler:\n\n- Artık duvarkağıdı direkt olarak sohbet ekranından değişebiliyor\n- Tema duvarkağıtlarının uygulama yönteminde geliştirmeler yapıldı\n- Eğer profil ekranında işaretlenmişse kullanıcı adı kopyalanabilir\n- Hata düzeltmeleri</string>-->
@@ -983,5 +983,5 @@
   <string name="RowGradientList">Arkaplana gradyan uygula</string>
   <string name="Copied">%s panoya kopyalandı</string>
   <string name="JoinChannel">
-\n\nPlus Messenger resmi kanalına katılın: https://telegram.me/plusmsn</string>
+\n\nPlus Messenger resmi kanalına katılın: https://telegram.me/plusmsgr</string>
 </resources>
diff --git a/TMessagesProj/src/main/res/values-zh-rCN/strings.xml b/TMessagesProj/src/main/res/values-zh-rCN/strings.xml
index 127e9ec4c..29622330d 100644
--- a/TMessagesProj/src/main/res/values-zh-rCN/strings.xml
+++ b/TMessagesProj/src/main/res/values-zh-rCN/strings.xml
@@ -897,7 +897,7 @@
   <string name="formatDateAtTime">%1$s 的 %2$s</string>
   <!--update text--><!--
   <string name="updateText">Android 版的 Plus Messenger 已更新。最新版本 3.1 的新增功能有：\n\n- 在特定聊天中搜索消息内容。\n- 全新设计的附件选择菜单。从附件选择菜单中直接发送联系人资料或语音文件。\n- 改进的程序内媒体播放功能 （YouTube, Vimoe, Soundcloud 等）, 新播放器适用于大型语音文件。\n\n更多更新请查看：\nhttps://telegram.org/blog/search-and-media</string>-->
-  <string name="updateBuild">655</string>
+  <string name="updateBuild">657</string>
   <!--Telegram+--><!--
   <string name="updatePlusText">\n\n在 3.0.1.3 版的新功能：\n\n- 添加设置使用手机字体选项\n- 添加聊天/群组聊天内搜索聊天记录选项\n- 在设置/主题调整界面里添加标头颜色、标题颜色和标头图标颜色的设置\n- 添加主界面群组图标颜色的设置\n- 添加导航栏中头像大小的设置\n- 错误修复</string>-->
   <string name="TelegramForAndroid">Plus Messenger for Android</string>
@@ -1049,7 +1049,7 @@
   <string name="RowGradientList">应用渐变色到列表背景</string>
   <string name="Copied">%s 已复制到剪贴板</string>
   <string name="JoinChannel">
-\n\n加入 Plus Messenger 官方频道： https://telegram.me/plusmsn</string>
+\n\n加入 Plus Messenger 官方频道： https://telegram.me/plusmsgr</string>
   <string name="DownloadThemes">下载主题</string>
   <string name="OfficialChannel">官方频道</string>
   <string name="DialogsSettings">对话框</string>
diff --git a/TMessagesProj/src/main/res/values-zh-rTW/strings.xml b/TMessagesProj/src/main/res/values-zh-rTW/strings.xml
index b438eb2cf..5d289741a 100644
--- a/TMessagesProj/src/main/res/values-zh-rTW/strings.xml
+++ b/TMessagesProj/src/main/res/values-zh-rTW/strings.xml
@@ -947,7 +947,7 @@
   <string name="formatDateAtTime">於時間 %1$s  %2$s</string>
   <!--update text--><!--
   <string name="updateText">Android 版的 Telegram 已經更新。在版本 3.2.0 中的新功能：\n\n- 引進頻道 – 用來將您的訊息向無限觀眾廣播的新方式 (取代舊式的廣播)。\n\n了解更多：https://telegram.org/blog/channels</string>
-  <string name="updateBuild">655</string>-->
+  <string name="updateBuild">657</string>-->
   <!--Telegram+--><!--
   <string name="updatePlusText">
 \n\n在 3.1.1.9 版的新功能：\n\n- 新的模組在聊天畫面顯示擁有的大頭照\n- 加入新的泡泡邊緣 (感謝 Edwin Macalopu)\n- 錯誤修復</string>-->
diff --git a/TMessagesProj/src/main/res/values/strings.xml b/TMessagesProj/src/main/res/values/strings.xml
index d9c5d2de0..8dd11b20f 100644
--- a/TMessagesProj/src/main/res/values/strings.xml
+++ b/TMessagesProj/src/main/res/values/strings.xml
@@ -978,9 +978,9 @@
     <string name="formatDateAtTime">%1$s at %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger for Android has been updated. New in version 3.2.6:\n\n- New animations and many visual improvements\n- Support for new emoji\n- Android 6.0 support (Now on Tap - Direct Share - Fingerprint support for Passcodes)\n- Other improvements and bug fixes</string>
-    <string name="updateBuild">655</string>
+    <string name="updateBuild">657</string>
     <!--Telegram+-->
-    <string name="updatePlusText">\n\nNew in version 3.2.6.0:\n\n- Bug fixes</string>
+    <string name="updatePlusText">\n\nNew in version 3.2.6.1:\n\n- Added mod for command color in chat screen\n- Added mod for counter color background for muted chat/group/channel in main screen\n- Added highlight search color mod in main screen\n- Bug fixes</string>
     <string name="TelegramForAndroid">Plus Messenger for Android</string>
     <string name="Theming">Theming</string>
     <string name="colorHexInvalid">Invalid color hex code!</string>
@@ -1129,7 +1129,7 @@
     <string name="RowGradientBLTR">Bottom-Left Top-Right</string>
     <string name="RowGradientList">Apply gradient to list background</string>
     <string name="Copied">%s copied to clipboard</string>
-    <string name="JoinChannel">\n\nJoin Plus Messenger official channel: https://telegram.me/plusmsn</string>
+    <string name="JoinChannel">\n\nJoin Plus Messenger official channel: https://telegram.me/plusmsgr</string>
     <string name="DownloadThemes">Download themes</string>
     <string name="OfficialChannel">Official channel</string>
     <string name="DialogsSettings">Dialogs</string>
@@ -1137,4 +1137,8 @@
     <string name="ClickOnGroupPic">Click on group pic</string>
     <string name="ShowProfile">Profile</string>
     <string name="ShowPics">Profile pics</string>
+    <string name="CountSilentBGColor">Count silent background color</string>
+    <string name="CommandColorCheck">Bot command color check</string>
+    <string name="CommandColor">Bot command color</string>
+    <string name="HighlightSearchColor">Highlight search color</string>
 </resources>
\ No newline at end of file
