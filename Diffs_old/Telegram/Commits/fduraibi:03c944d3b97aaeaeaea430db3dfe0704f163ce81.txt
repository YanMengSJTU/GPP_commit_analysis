diff --git a/TMessagesProj/src/main/java/org/telegram/objects/MessageObject.java b/TMessagesProj/src/main/java/org/telegram/objects/MessageObject.java
index 4dfecf319..d64045140 100644
--- a/TMessagesProj/src/main/java/org/telegram/objects/MessageObject.java
+++ b/TMessagesProj/src/main/java/org/telegram/objects/MessageObject.java
@@ -252,6 +252,11 @@ public MessageObject(TLRPC.Message message, AbstractMap<Integer, TLRPC.User> use
         } else {
             messageText = message.message;
         }
+        // Text between two * will be in RED and text between two ^ will be BIG size
+        messageText = messageText.toString().replaceAll("\\^(.+?)\\^", "<big>$1</big>");
+        messageText = messageText.toString().replaceAll("\\*(.+?)\\*", "<font color='blue'>$1</font>");
+        messageText = messageText.toString().replace("\n", "<br>");
+        messageText = Html.fromHtml(messageText.toString());
         messageText = Emoji.replaceEmoji(messageText);
 
         if (message instanceof TLRPC.TL_message || (message instanceof TLRPC.TL_messageForwarded && (message.media == null || !(message.media instanceof TLRPC.TL_messageMediaEmpty)))) {
@@ -261,10 +266,6 @@ public MessageObject(TLRPC.Message message, AbstractMap<Integer, TLRPC.User> use
                 } else {
                     type = 1;
                 }
-                // Text between two * will be in RED and text between two ^ will be BIG size
-                messageText = messageText.toString().replace("\n", "<br>");
-                messageText = messageText.toString().replaceAll("\\^(.+?)\\^", "<big>$1</big>");
-                messageText = Html.fromHtml(messageText.toString().replaceAll("\\*(.+?)\\*", "<font color='blue'>$1</font>"));
             } else if (message.media != null && message.media instanceof TLRPC.TL_messageMediaPhoto) {
                 if (message.from_id == UserConfig.clientUserId) {
                     type = 2;
