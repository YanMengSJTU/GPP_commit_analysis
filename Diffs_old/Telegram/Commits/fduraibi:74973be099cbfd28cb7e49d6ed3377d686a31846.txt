diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ApplicationLoader.java b/TMessagesProj/src/main/java/org/telegram/ui/ApplicationLoader.java
index efc7560e4..d5bd4c24a 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ApplicationLoader.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ApplicationLoader.java
@@ -20,6 +20,7 @@
 import android.content.res.Configuration;
 import android.graphics.Bitmap;
 import android.os.AsyncTask;
+import android.os.Build;
 import android.os.Handler;
 import android.os.PowerManager;
 import android.view.ViewConfiguration;
@@ -258,7 +259,13 @@ protected Boolean doInBackground(String... objects) {
                 }
                 return false;
             }
-        }.execute(null, null, null);
+        };
+        if(Build.VERSION.SDK_INT < 11) {
+            task.execute(null, null, null);
+        }
+        else{
+            task.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, null, null, null);
+        }
     }
 
     private void sendRegistrationIdToBackend(final boolean isNew) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/EmojiView.java b/TMessagesProj/src/main/java/org/telegram/ui/Views/EmojiView.java
index d147321fa..bb61ac8f6 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/EmojiView.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Views/EmojiView.java
@@ -102,7 +102,7 @@ private void init() {
         setOrientation(1);
         for (int i = 0; ; i++) {
             if (i >= Emoji.data.length) {
-                setBackgroundDrawable(new GradientDrawable(GradientDrawable.Orientation.TOP_BOTTOM, new int[] { -14145496, -16777216 }));
+                setBackgroundDrawable(new GradientDrawable(GradientDrawable.Orientation.TOP_BOTTOM, new int[] { 0xFF606060, 0xFFD0D0D0 }));
                 pager = new ViewPager(getContext());
                 pager.setAdapter(new EmojiPagesAdapter());
                 PagerSlidingTabStrip tabs = new PagerSlidingTabStrip(getContext());
