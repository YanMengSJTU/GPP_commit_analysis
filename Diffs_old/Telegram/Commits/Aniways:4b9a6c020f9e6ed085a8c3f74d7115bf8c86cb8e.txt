diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index 654a9ee38..28e5e2297 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -92,7 +92,7 @@ android {
         targetSdkVersion 21
         renderscriptTargetApi 21
         renderscriptSupportModeEnabled true
-        versionCode 235
-        versionName "1.5.66"
+        versionCode 236
+        versionName "1.5.67"
     }
 }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LoginActivityPhoneView.java b/TMessagesProj/src/main/java/org/telegram/ui/LoginActivityPhoneView.java
index 750ec0ece..af46881aa 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LoginActivityPhoneView.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LoginActivityPhoneView.java
@@ -39,6 +39,7 @@
 import com.aniways.Utils;
 import com.aniways.anigram.messenger.R;
 import com.aniways.data.AniwaysNetworkStateChecker;
+import com.aniways.data.AniwaysPrivateConfig;
 
 import org.telegram.messenger.RPCRequest;
 import org.telegram.messenger.Utilities;
@@ -414,8 +415,8 @@ public void run(boolean connectionAvailable) {
                 }
                 if (connectionAvailable) {
                     long now = System.currentTimeMillis();
-                    if (now - startReqTime > 30000) {
-                        Log.e(true, TAG, "Takes long time receiving response in reg process ");
+                    if ((now - startReqTime) > AniwaysPrivateConfig.getInstance().phoneRegTimeout) {
+                        Log.e(true, TAG, "Takes long time receiving response in reg process: " + (now - startReqTime));
                         Toast toast = Toast.makeText(getContext(), "Process takes too long. Please re-install app and try again", Toast.LENGTH_LONG);
                         toast.setGravity(Gravity.CENTER, 0, 0);
                         toast.show();
