diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/MessageObject.java b/TMessagesProj/src/main/java/org/telegram/messenger/MessageObject.java
index 1a19dc06b..b0ccb0587 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/MessageObject.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/MessageObject.java
@@ -441,7 +441,6 @@ public MessageObject(TLRPC.Message message, AbstractMap<Integer, TLRPC.User> use
 
         generateCaption();
         if (generateLayout) {
-            addPollgramLinks(messageText);
             generateLayout();
         }
         generateThumbs(false);
@@ -727,8 +726,7 @@ private void generateLayout() {
         if (useManualParse) {
             addLinks(messageText);
         } else {
-            if (messageText instanceof Spannable && messageText.length() < 100 &&
-                    msgManager.getMessageType(messageText.toString()) == null ) {
+            if (messageText instanceof Spannable && messageText.length() < 100) {
                 try {
                     Linkify.addLinks((Spannable) messageText, Linkify.PHONE_NUMBERS);
                 } catch (Throwable e) {
@@ -736,6 +734,7 @@ private void generateLayout() {
                 }
             }
         }
+        addPollgramLinks(messageText);
 
         if (messageText instanceof Spannable) {
             Spannable spannable = (Spannable) messageText;
