diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java
index 0ff44ed81..392afcd3f 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java
@@ -19,6 +19,7 @@
 
 import com.aniways.AniwaysDynamicImageSpansContainer;
 import com.aniways.AniwaysIconInfoDisplayer;
+import com.aniways.AniwaysMessageListViewItemWrapperLayout;
 import com.aniways.IAniwaysIconInfoSpan;
 import com.aniways.IAniwaysTextContainer;
 import com.aniways.IIconInfoDisplayer;
@@ -29,6 +30,8 @@
 import org.telegram.messenger.Utilities;
 import org.telegram.objects.MessageObject;
 
+import java.util.HashSet;
+
 public class ChatMessageCell extends ChatBaseCell implements IAniwaysTextContainer {
 
     private final AniwaysIconInfoDisplayer mIconInfoDisplayer;
@@ -42,6 +45,7 @@
     private int totalVisibleBlocksCount = 0;
     private long clickDownEventTIme = -1;
     private AniwaysDynamicImageSpansContainer mDynamicImageSpansContainer;
+    private HashSet<AniwaysMessageListViewItemWrapperLayout.IOnTextChanged> mSetTextListeners = new HashSet<AniwaysMessageListViewItemWrapperLayout.IOnTextChanged>();
 
     public ChatMessageCell(Context context, boolean isChat) {
         super(context, isChat);
@@ -218,6 +222,12 @@ private void setMessageObject(MessageObject messageObject, boolean force) {
             }
         }
         this.mDynamicImageSpansContainer.onSetText(this.getText(), oldText);
+        // Call liteners
+        if(mSetTextListeners != null){
+            for(AniwaysMessageListViewItemWrapperLayout.IOnTextChanged listener : mSetTextListeners){
+                listener.onTextChanged(this.getText());
+            }
+        }
     }
 
     @Override
@@ -400,4 +410,17 @@ protected void onDetachedFromWindow() {
         super.onDetachedFromWindow();
     }
 
+    @Override
+    public void registerSetTextListener(AniwaysMessageListViewItemWrapperLayout.IOnTextChanged textChangedListener) {
+        this.mSetTextListeners.add(textChangedListener);
+        textChangedListener.onTextChanged(getText());
+
+    }
+
+    @Override
+    public void unregisterSetTextListener(AniwaysMessageListViewItemWrapperLayout.IOnTextChanged listener) {
+        this.mSetTextListeners.remove(listener);
+
+    }
+
 }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java
index 347818200..c9b4ce604 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java
@@ -31,6 +31,7 @@
 
 import com.aniways.AniwaysLoadingImageSpan;
 import com.aniways.AniwaysDynamicImageSpansContainer;
+import com.aniways.AniwaysMessageListViewItemWrapperLayout;
 import com.aniways.IAniwaysTextContainer;
 import com.aniways.IIconInfoDisplayer;
 import com.aniways.Log;
@@ -43,6 +44,7 @@
 import org.telegram.ui.Views.ImageReceiver;
 
 import java.lang.ref.WeakReference;
+import java.util.HashSet;
 
 public class DialogCell extends BaseCell implements IAniwaysTextContainer {
     private static final String TAG = "DialogCell";
@@ -62,6 +64,7 @@
     private static Drawable countDrawable;
     private static Drawable groupDrawable;
     private final AniwaysIconInfoDisplayer mIconInfoDisplayer;
+    private HashSet<AniwaysMessageListViewItemWrapperLayout.IOnTextChanged> mSetTextListeners = new HashSet<AniwaysMessageListViewItemWrapperLayout.IOnTextChanged>();
 
     private TLRPC.TL_dialog currentDialog;
     private ImageReceiver avatarImage;
@@ -384,6 +387,18 @@ public void onErrorLoadingImage() {
 
     }
 
+    @Override
+    public void registerSetTextListener(AniwaysMessageListViewItemWrapperLayout.IOnTextChanged textChangedListener) {
+        this.mSetTextListeners.add(textChangedListener);
+
+    }
+
+    @Override
+    public void unregisterSetTextListener(AniwaysMessageListViewItemWrapperLayout.IOnTextChanged listener) {
+        this.mSetTextListeners.remove(listener);
+
+    }
+
     @Override
     public IIconInfoDisplayer getIconInfoDisplayer() {
         return mIconInfoDisplayer;
@@ -757,6 +772,12 @@ public void build(int width, int height) {
             Spannable oldText = this.getText();
             messageLayout = new StaticLayout(messageStringFinal, currentMessagePaint, messageWidth, Layout.Alignment.ALIGN_NORMAL, 1.0f, 0.0f, false);
             mLoadingImageSpansContainer.onSetText(this.getText(), oldText);
+            // Call liteners
+            if(mSetTextListeners != null){
+                for(AniwaysMessageListViewItemWrapperLayout.IOnTextChanged listener : mSetTextListeners){
+                    listener.onTextChanged(this.getText());
+                }
+            }
 
             double widthpx = 0;
             float left = 0;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
index 165e44355..5d76fc22b 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
@@ -68,6 +68,7 @@
 
 import com.aniways.Aniways;
 import com.aniways.AniwaysEditText;
+import com.aniways.AniwaysMessageListViewItemWrapperLayout;
 import com.aniways.AniwaysTextView;
 
 import org.telegram.PhoneFormat.PhoneFormat;
@@ -586,6 +587,9 @@ public void onScroll(AbsListView absListView, int firstVisibleItem, int visibleI
                     }
                     for (int a = 0; a < visibleItemCount; a++) {
                         View view = absListView.getChildAt(a);
+                        if (view instanceof AniwaysMessageListViewItemWrapperLayout) {
+                            view = ((AniwaysMessageListViewItemWrapperLayout)view).getChildAt(0);
+                        }
                         if (view instanceof ChatMessageCell) {
                             ChatMessageCell messageCell = (ChatMessageCell)view;
                             messageCell.getLocalVisibleRect(scrollRect);
@@ -3478,6 +3482,9 @@ public void didPressedUserAvatar(ChatBaseCell cell, TLRPC.User user) {
                 view.setBackgroundColor(0);
             }
 
+            AniwaysMessageListViewItemWrapperLayout wrapper = new AniwaysMessageListViewItemWrapperLayout(mContext);
+            ViewGroup.LayoutParams layoutParams = new ViewGroup.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT);
+
             if (view instanceof ChatBaseCell) {
                 ((ChatBaseCell)view).setMessageObject(message);
                 ((ChatBaseCell)view).setCheckPressed(!disableSelection, disableSelection && selected);
@@ -3495,7 +3502,13 @@ public void didPressedUserAvatar(ChatBaseCell cell, TLRPC.User user) {
                 holder.update();
             }
 
+            if (view instanceof ChatMessageCell) {
+                //wrapper.setLayoutParams(layoutParams);
+                wrapper.addView(view);
+                return wrapper;
+            }
             return view;
+
         }
 
         @Override
