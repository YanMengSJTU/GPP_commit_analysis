diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index 9790bc7b6..39549a90f 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -5,11 +5,14 @@ repositories {
 }
 
 dependencies {
-    compile 'com.android.support:support-v4:23.0.+'
-    compile 'com.google.android.gms:play-services:3.2.+'
+    compile 'com.android.support:support-v4:23.1.1'
+    compile 'com.google.android.gms:play-services:8.3.0'
     compile 'net.hockeyapp.android:HockeySDK:3.5.+'
     compile 'com.googlecode.mp4parser:isoparser:1.0.+'
     compile 'org.apache.httpcomponents:httpmime:4.2.1'
+    compile 'com.google.android.gms:play-services-ads:8.3.0'
+    compile 'com.google.android.gms:play-services-identity:8.3.0'
+    compile 'com.google.android.gms:play-services-gcm:8.3.0'
 }
 
 android {
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/BuildVars.java b/TMessagesProj/src/main/java/org/telegram/messenger/BuildVars.java
index 372124bc8..39d30d1b5 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/BuildVars.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/BuildVars.java
@@ -11,8 +11,8 @@
 public class BuildVars {
     public static boolean DEBUG_VERSION = true;
     public static int BUILD_VERSION = 627;
-    public static int APP_ID = 0; //obtain your own APP_ID at https://core.telegram.org/api/obtaining_api_id
-    public static String APP_HASH = ""; //obtain your own APP_HASH at https://core.telegram.org/api/obtaining_api_id
+    public static int APP_ID = 34798; //obtain your own APP_ID at https://core.telegram.org/api/obtaining_api_id
+    public static String APP_HASH = "6fff96da381a0de22a32a22899bcad68"; //obtain your own APP_HASH at https://core.telegram.org/api/obtaining_api_id
     // public static String HOCKEY_APP_HASH = "your-hockeyapp-api-key-here";
     public static String GCM_SENDER_ID = "760348033672";
     public static String SEND_LOGS_EMAIL = "zeqing.g@gmail.com";
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/SPAPollingUtils.java b/TMessagesProj/src/main/java/org/telegram/messenger/SPAPollingUtils.java
new file mode 100644
index 000000000..798b03f98
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/SPAPollingUtils.java
@@ -0,0 +1,41 @@
+package org.telegram.messenger;
+
+import android.app.AlarmManager;
+import android.app.PendingIntent;
+import android.content.Context;
+import android.content.Intent;
+import android.os.SystemClock;
+
+/**
+ * Created by gzq on 15/11/24.
+ */
+public class SPAPollingUtils {
+
+    public static void startPollingService(Context context,
+                                           int seconds,
+                                           Class<?> cls,
+                                           String action) {
+        AlarmManager alarmManager = (AlarmManager) context
+                .getSystemService(Context.ALARM_SERVICE);
+
+        Intent intent = new Intent(context, cls);
+        intent.setAction(action);
+        PendingIntent pendingIntent = PendingIntent.getService(context, 0,
+                intent, PendingIntent.FLAG_UPDATE_CURRENT);
+
+        long triggerAtTime = SystemClock.elapsedRealtime();
+
+        alarmManager.setRepeating(AlarmManager.ELAPSED_REALTIME, triggerAtTime,
+                seconds * 1000, pendingIntent);
+    }
+
+    public static void stopPollingService(Context context, Class<?> cls, String action) {
+        AlarmManager alarmManager = (AlarmManager) context
+                .getSystemService(Context.ALARM_SERVICE);
+        Intent intent = new Intent(context, cls);
+        intent.setAction(action);
+        PendingIntent pendingIntent = PendingIntent.getService(context, 0,
+                intent, PendingIntent.FLAG_UPDATE_CURRENT);
+        alarmManager.cancel(pendingIntent);
+    }
+}
