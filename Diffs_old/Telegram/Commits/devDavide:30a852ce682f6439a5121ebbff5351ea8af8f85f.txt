diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java b/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
index d4ffaa2be..b2f91d7e0 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
@@ -430,6 +430,7 @@ public void run() {
             Integer newMsgId = (Integer) args[1];
             Long did = (Long) args[3];
             MessageObject obj = dialogMessage.get(did);
+            pollgramService.processMessage(obj);
             if (obj != null && obj.getId() == msgId) {
                 obj.messageOwner.id = newMsgId;
                 obj.messageOwner.send_state = MessageObject.MESSAGE_SEND_STATE_SENT;
@@ -861,6 +862,7 @@ public void run(TLObject response, TLRPC.TL_error error) {
                         }
                         message.dialog_id = dialog_id;
                         MessageObject msg = new MessageObject(message, usersLocal, chatsLocal, true);
+                        pollgramService.processMessage(msg);
                         objects.add(msg);
                     }
 
@@ -2652,6 +2654,7 @@ public void run() {
                         }
                     }
                     MessageObject messageObject = new MessageObject(message, usersDict, chatsDict, false);
+                    pollgramService.processMessage(messageObject);
                     new_dialogMessage.put(messageObject.getDialogId(), messageObject);
                 }
                 for (int a = 0; a < dialogsRes.dialogs.size(); a++) {
@@ -4372,6 +4375,7 @@ public void run() {
                                                 arr = new ArrayList<>();
                                                 messages.put(uid, arr);
                                             }
+                                            pollgramService.processMessage(obj);
                                             arr.add(obj);
                                         }
 
@@ -5144,6 +5148,7 @@ public void run() {
                 messagesArr.add(message);
                 ImageLoader.saveMessageThumbs(message);
                 MessageObject obj = new MessageObject(message, usersDict, chatsDict, true);
+                pollgramService.processMessage(obj);
                 if (obj.type == 11) {
                     interfaceUpdateMask |= UPDATE_MASK_CHAT_AVATAR;
                 } else if (obj.type == 10) {
@@ -5275,6 +5280,7 @@ public void run() {
 
                     messagesArr.add(newMessage);
                     MessageObject obj = new MessageObject(newMessage, usersDict, chatsDict, true);
+                    pollgramService.processMessage(obj);
                     ArrayList<MessageObject> arr = messages.get(newMessage.dialog_id);
                     if (arr == null) {
                         arr = new ArrayList<>();
@@ -5323,6 +5329,7 @@ public void run() {
 
                 messagesArr.add(newMessage);
                 MessageObject obj = new MessageObject(newMessage, usersDict, chatsDict, true);
+                pollgramService.processMessage(obj);
                 ArrayList<MessageObject> arr = messages.get(newMessage.dialog_id);
                 if (arr == null) {
                     arr = new ArrayList<>();
