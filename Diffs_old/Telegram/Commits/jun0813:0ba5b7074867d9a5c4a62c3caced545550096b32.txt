diff --git a/TMessagesProj/TMessagesProj-3.0.4-release.apk b/TMessagesProj/TMessagesProj-3.0.4-release.apk
new file mode 100644
index 000000000..2de6b90b3
Binary files /dev/null and b/TMessagesProj/TMessagesProj-3.0.4-release.apk differ
diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index fe6e8d206..318ae4fe6 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -9,6 +9,9 @@ dependencies {
     compile 'com.google.android.gms:play-services:7.3.+'
     compile 'net.hockeyapp.android:HockeySDK:3.5.+'
     compile 'com.googlecode.mp4parser:isoparser:1.0.+'
+    // Test libraries
+    testCompile 'junit:junit:4.12'
+    testCompile 'org.robolectric:robolectric:3.0'
 
 }
 
@@ -76,6 +79,6 @@ android {
         minSdkVersion 9
         targetSdkVersion 22
         versionCode 572
-        versionName "3.0.3"
+        versionName "3.0.4"
     }
 }
diff --git a/TMessagesProj/src/main/AndroidManifest.xml b/TMessagesProj/src/main/AndroidManifest.xml
index 1d3947259..542aaccdd 100644
--- a/TMessagesProj/src/main/AndroidManifest.xml
+++ b/TMessagesProj/src/main/AndroidManifest.xml
@@ -172,6 +172,13 @@
             </intent-filter>
         </receiver>
 
+        <receiver android:name="org.telegramsecureplus.android.DeleteMessageBroadcastReceiver"
+            android:enabled="false">
+            <intent-filter>
+                <action android:name="android.intent.action.BOOT_COMPLETED" />
+            </intent-filter>
+        </receiver>
+
         <receiver android:name="org.telegramsecureplus.android.WearReplyReceiver" android:enabled="true"/>
 
         <uses-library android:name="com.sec.android.app.multiwindow" android:required="false" />
diff --git a/TMessagesProj/src/main/java/org/telegramsecureplus/android/DeleteMessageBroadcastReceiver.java b/TMessagesProj/src/main/java/org/telegramsecureplus/android/DeleteMessageBroadcastReceiver.java
new file mode 100644
index 000000000..aff86d146
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegramsecureplus/android/DeleteMessageBroadcastReceiver.java
@@ -0,0 +1,22 @@
+package org.telegramsecureplus.android;
+
+import android.content.BroadcastReceiver;
+import android.content.Context;
+import android.content.Intent;
+
+/**
+ * Created by jun0813 on 2015. 11. 22..
+ */
+public class DeleteMessageBroadcastReceiver extends BroadcastReceiver{
+    private static final String ACTION_BOOT_COMPLETED = "android.intent.action.BOOT_COMPLETED";
+
+    @Override
+    public void onReceive(Context context, Intent intent) {
+        if (ACTION_BOOT_COMPLETED.equals(intent.getAction())) {
+            DeleteMessageController.getInstance().scheduleDeleteMessageRepeat(context);
+        }
+
+        Intent service = new Intent(context, DeleteMessageRepeat.class);
+        context.startService(service);
+    }
+}
diff --git a/TMessagesProj/src/main/java/org/telegramsecureplus/android/DeleteMessageController.java b/TMessagesProj/src/main/java/org/telegramsecureplus/android/DeleteMessageController.java
new file mode 100644
index 000000000..1befdd57d
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegramsecureplus/android/DeleteMessageController.java
@@ -0,0 +1,84 @@
+package org.telegramsecureplus.android;
+
+import android.app.Activity;
+import android.app.AlarmManager;
+import android.app.PendingIntent;
+import android.content.ComponentName;
+import android.content.Context;
+import android.content.Intent;
+import android.content.SharedPreferences;
+import android.content.pm.PackageManager;
+import android.util.Log;
+
+import org.telegramsecureplus.messenger.ApplicationLoader;
+
+import java.text.SimpleDateFormat;
+import java.util.Calendar;
+
+/**
+ * Created by jun0813 on 2015. 11. 22..
+ */
+public class DeleteMessageController {
+
+    private static volatile DeleteMessageController Instance = null;
+    public static DeleteMessageController getInstance() {
+        DeleteMessageController localInstance = Instance;
+        if (localInstance == null) {
+            synchronized (MessagesController.class) {
+                localInstance = Instance;
+                if (localInstance == null) {
+                    Instance = localInstance = new DeleteMessageController();
+                }
+            }
+        }
+        return localInstance;
+    }
+
+    public void scheduleDeleteMessageRepeat(Context context) {
+
+        AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);
+
+        Intent intent = new Intent(context, DeleteMessageBroadcastReceiver.class);
+        PendingIntent deleteIntent = PendingIntent.getBroadcast(context, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);
+
+        SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications", Activity.MODE_PRIVATE);
+        int minutes = preferences.getInt("repeat_delete_time", 0);
+        if (minutes > 0) {
+            alarmManager.cancel(deleteIntent);
+
+            Calendar calendar = Calendar.getInstance();
+            calendar.setTimeInMillis(System.currentTimeMillis());
+            calendar.add(Calendar.MINUTE, minutes);
+
+            SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd hh:mm:ss");
+            Log.d("DeleteMessageController", "minutes = " + minutes + " delete time=" + sdf.format(calendar.getTime()));
+
+            //preferences.edit().putLong("repeat_start_time", calendar.getTimeInMillis()).commit();
+
+            enableAlarmOnBootComplete(context);
+            alarmManager.setInexactRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), minutes * 60 * 1000, deleteIntent);
+        }
+        else {
+            disableAlarmBootComplete(context);
+            alarmManager.cancel(deleteIntent);
+        }
+    }
+
+    public void enableAlarmOnBootComplete(Context context) {
+        ComponentName receiver = new ComponentName(context, DeleteMessageBroadcastReceiver.class);
+        PackageManager pm = context.getPackageManager();
+
+        pm.setComponentEnabledSetting(receiver,
+                PackageManager.COMPONENT_ENABLED_STATE_ENABLED,
+                PackageManager.DONT_KILL_APP);
+    }
+
+    public void disableAlarmBootComplete(Context context) {
+        ComponentName receiver = new ComponentName(context, DeleteMessageBroadcastReceiver.class);
+        PackageManager pm = context.getPackageManager();
+
+        pm.setComponentEnabledSetting(receiver,
+                PackageManager.COMPONENT_ENABLED_STATE_DISABLED,
+                PackageManager.DONT_KILL_APP);
+    }
+}
diff --git a/TMessagesProj/src/main/java/org/telegramsecureplus/android/NotificationsController.java b/TMessagesProj/src/main/java/org/telegramsecureplus/android/NotificationsController.java
index d0d1aeace..49512e964 100644
--- a/TMessagesProj/src/main/java/org/telegramsecureplus/android/NotificationsController.java
+++ b/TMessagesProj/src/main/java/org/telegramsecureplus/android/NotificationsController.java
@@ -334,29 +334,6 @@ private String getStringForMessage(MessageObject messageObject, boolean shortMes
         return msg;
     }
 
-    public void scheduleDeleteMessageRepeat() {
-        try {
-            PendingIntent pintent = PendingIntent.getService(ApplicationLoader.applicationContext, 0, new Intent(ApplicationLoader.applicationContext, DeleteMessageRepeat.class), 0);
-            SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications", Activity.MODE_PRIVATE);
-            int minutes = preferences.getInt("repeat_delete_time", 0);
-            if (minutes > 0) {
-                alarmManager.cancel(pintent);
-                long now = System.currentTimeMillis();
-                Date date = new Date(now + minutes * 60 * 1000);
-
-                Log.d("NotificationsController::scheduleDeleteMessageRepeat", "minutes = " + minutes + " now=" + date.toString());
-                //alarmManager.setInexactRepeating(AlarmManager.ELAPSED_REALTIME_WAKEUP, SystemClock.elapsedRealtime() + minutes * 60 * 1000 , minutes * 60 * 1000, pintent);
-                alarmManager.setInexactRepeating(AlarmManager.RTC_WAKEUP, date.getTime(), minutes * 60 * 1000, pintent);
-            } else {
-                alarmManager.cancel(pintent);
-            }
-        } catch (Exception e) {
-            FileLog.e("tmessages", e);
-            e.printStackTrace();
-        }
-
-    }
-
     private void scheduleNotificationRepeat() {
         try {
             PendingIntent pintent = PendingIntent.getService(ApplicationLoader.applicationContext, 0, new Intent(ApplicationLoader.applicationContext, NotificationRepeat.class), 0);
diff --git a/TMessagesProj/src/main/java/org/telegramsecureplus/messenger/ApplicationLoader.java b/TMessagesProj/src/main/java/org/telegramsecureplus/messenger/ApplicationLoader.java
index d2f39b307..947100c7f 100644
--- a/TMessagesProj/src/main/java/org/telegramsecureplus/messenger/ApplicationLoader.java
+++ b/TMessagesProj/src/main/java/org/telegramsecureplus/messenger/ApplicationLoader.java
@@ -179,7 +179,6 @@ public static void postInitApplication() {
             ConnectionsManager.getInstance().initPushConnection();
             MessagesController.getInstance().getBlockedUsers(true);
             SendMessagesHelper.getInstance().checkUnsentMessages();
-            NotificationsController.getInstance().scheduleDeleteMessageRepeat();
         }
 
         ApplicationLoader app = (ApplicationLoader)ApplicationLoader.applicationContext;
@@ -228,8 +227,6 @@ public static void startPushService() {
                 PendingIntent pintent = PendingIntent.getService(applicationContext, 0, new Intent(applicationContext, NotificationsService.class), 0);
                 AlarmManager alarm = (AlarmManager)applicationContext.getSystemService(Context.ALARM_SERVICE);
                 alarm.cancel(pintent);
-
-                NotificationsController.getInstance().scheduleDeleteMessageRepeat();
             }
         } else {
             stopPushService();
diff --git a/TMessagesProj/src/main/java/org/telegramsecureplus/ui/PrivacySettingsActivity.java b/TMessagesProj/src/main/java/org/telegramsecureplus/ui/PrivacySettingsActivity.java
index fa7b83b57..7c75ee77c 100644
--- a/TMessagesProj/src/main/java/org/telegramsecureplus/ui/PrivacySettingsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegramsecureplus/ui/PrivacySettingsActivity.java
@@ -23,6 +23,7 @@
 
 import org.telegramsecureplus.android.AndroidUtilities;
 import org.telegramsecureplus.android.ContactsController;
+import org.telegramsecureplus.android.DeleteMessageController;
 import org.telegramsecureplus.android.LocaleController;
 import org.telegramsecureplus.android.NotificationCenter;
 import org.telegramsecureplus.android.NotificationsController;
@@ -294,7 +295,7 @@ public void onClick(DialogInterface dialog, int which) {
                                     if (listView != null) {
                                         listView.invalidateViews();
                                     }
-                                    NotificationsController.getInstance().scheduleDeleteMessageRepeat();
+                                    DeleteMessageController.getInstance().scheduleDeleteMessageRepeat(ApplicationLoader.applicationContext);
                                 }
                             }
                     );
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/intro1.png b/TMessagesProj/src/main/res/drawable-hdpi/intro1.png
index a8d1b924c..e2009db74 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/intro1.png and b/TMessagesProj/src/main/res/drawable-hdpi/intro1.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/intro1.png b/TMessagesProj/src/main/res/drawable-mdpi/intro1.png
index 9acf06791..ffe0d4c59 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/intro1.png and b/TMessagesProj/src/main/res/drawable-mdpi/intro1.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/intro1.png b/TMessagesProj/src/main/res/drawable-xhdpi/intro1.png
index 526e860d9..b1c727daa 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/intro1.png and b/TMessagesProj/src/main/res/drawable-xhdpi/intro1.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/intro1.png b/TMessagesProj/src/main/res/drawable-xxhdpi/intro1.png
index b8633f749..4a2b487c4 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/intro1.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/intro1.png differ
diff --git a/TMessagesProj/src/test/java/DeleteMessageControllerTest.java b/TMessagesProj/src/test/java/DeleteMessageControllerTest.java
new file mode 100644
index 000000000..0f2dfaa66
--- /dev/null
+++ b/TMessagesProj/src/test/java/DeleteMessageControllerTest.java
@@ -0,0 +1,10 @@
+import org.junit.runner.RunWith;
+import org.robolectric.RobolectricGradleTestRunner;
+
+/**
+ * Created by jun0813 on 2015. 11. 22..
+ */
+
+@RunWith(RobolectricGradleTestRunner.class)
+public class DeleteMessageControllerTest {
+}
