diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index e9eaf5a9c..212c7f96b 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -3,7 +3,7 @@ buildscript {
         mavenCentral()
     }
     dependencies {
-        classpath 'com.android.tools.build:gradle:0.14.0'
+        classpath 'com.android.tools.build:gradle:1.0.0'
     }
 }
 apply plugin: 'com.android.application'
diff --git a/TMessagesProj/src/main/java/org/telegram/android/AndroidUtilities.java b/TMessagesProj/src/main/java/org/telegram/android/AndroidUtilities.java
index 944f1d7ac..ad3d69de1 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/AndroidUtilities.java
+++ b/TMessagesProj/src/main/java/org/telegram/android/AndroidUtilities.java
@@ -273,7 +273,12 @@ public static void cancelRunOnUIThread(Runnable runnable) {
 
     public static boolean isTablet() {
         if (isTablet == null) {
-            isTablet = ApplicationLoader.applicationContext.getResources().getBoolean(R.bool.isTablet);
+            // If disableTabletMode is enabled return false (treat it as phone)
+            if (ApplicationLoader.applicationContext.getSharedPreferences("Ultra", Activity.MODE_PRIVATE).getBoolean("disableTabletMode", false)) {
+                isTablet = false;
+            } else {
+                isTablet = ApplicationLoader.applicationContext.getResources().getBoolean(R.bool.isTablet);
+            }
         }
         return isTablet;
     }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/SettingsUltraFeaturesActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/SettingsUltraFeaturesActivity.java
index a97b72da1..2a37d5fab 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/SettingsUltraFeaturesActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/SettingsUltraFeaturesActivity.java
@@ -37,6 +37,7 @@
     private int enableMarkdownRow;
     private int PhotoQualityRow;
     private int showAndroidEmojiRow;
+    private int disableTabletModeRow;
 
     private int rowCount = 0;
 
@@ -45,6 +46,7 @@ public boolean onFragmentCreate() {
         enableMarkdownRow = rowCount++;
         PhotoQualityRow = rowCount++;
         showAndroidEmojiRow = rowCount++;
+        disableTabletModeRow = rowCount++;
 
         return super.onFragmentCreate();
     }
@@ -99,6 +101,12 @@ public void onItemClick(AdapterView<?> adapterView, View view, final int i, long
                         enabled = preferences.getBoolean("showAndroidEmoji", false);
                         editor.putBoolean("showAndroidEmoji", !enabled);
                         editor.commit();
+                    } else if (i == disableTabletModeRow) {
+                        SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Ultra", Activity.MODE_PRIVATE);
+                        SharedPreferences.Editor editor = preferences.edit();
+                        enabled = preferences.getBoolean("disableTabletMode", false);
+                        editor.putBoolean("disableTabletMode", !enabled);
+                        editor.commit();
                     } else if (i == PhotoQualityRow) {
                         final View layout = inflater.inflate(R.layout.settings_seekbar_dialog_layout, (ViewGroup) fragmentView.findViewById(R.id.seekBar_Dialog_Layout));
                         AlertDialog.Builder builder = new AlertDialog.Builder(getParentActivity());
@@ -175,7 +183,7 @@ public boolean areAllItemsEnabled() {
 
         @Override
         public boolean isEnabled(int i) {
-            return (i == enableMarkdownRow || i == PhotoQualityRow || i == showAndroidEmojiRow);
+            return (i == enableMarkdownRow || i == PhotoQualityRow || i == showAndroidEmojiRow || i == disableTabletModeRow);
         }
 
         @Override
@@ -211,6 +219,8 @@ public View getView(int i, View view, ViewGroup viewGroup) {
                     checkCell.setTextAndCheck(LocaleController.getString("EnableMarkdown", R.string.EnableMarkdown), preferences.getBoolean("view_markdown", false), true);
                 } else if (i == showAndroidEmojiRow) {
                     checkCell.setTextAndCheck(LocaleController.getString("showAndroidEmoji", R.string.showAndroidEmoji), preferences.getBoolean("showAndroidEmoji", false), true);
+                } else if (i == disableTabletModeRow) {
+                    checkCell.setTextAndCheck(LocaleController.getString("disableTabletMode", R.string.disableTabletMode), preferences.getBoolean("disableTabletMode", false), true);
                 }
             } else if (type == 1) {
                 if (view == null) {
@@ -229,7 +239,7 @@ public View getView(int i, View view, ViewGroup viewGroup) {
 
         @Override
         public int getItemViewType(int i) {
-            if (i == enableMarkdownRow || i == showAndroidEmojiRow) {
+            if (i == enableMarkdownRow || i == showAndroidEmojiRow || i == disableTabletModeRow) {
                 return 0;
             } else if (i == PhotoQualityRow) {
                 return 1;
diff --git a/TMessagesProj/src/main/res/values-ar/strings.xml b/TMessagesProj/src/main/res/values-ar/strings.xml
index 522f79b56..149d75003 100644
--- a/TMessagesProj/src/main/res/values-ar/strings.xml
+++ b/TMessagesProj/src/main/res/values-ar/strings.xml
@@ -541,4 +541,5 @@
     <string name="PhotoQuality">جودة الصور</string>
     <string name="showAndroidEmoji">اعرض فيسات الاندرويد</string>
     <string name="PhotoQualityInfo">القيمة هنا تستخدم مع الصور الجديدة فقط، القيم العالية تعطي جودة اعلى لكن حجم ملف اكبر.\n\n* نسبة 80% عادة تقدم توازن بين الجودة والحجم.</string>
+    <string name="disableTabletMode">عطل عرض اللوحي</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-de/strings.xml b/TMessagesProj/src/main/res/values-de/strings.xml
index b0afd26d0..bf7fcfd95 100644
--- a/TMessagesProj/src/main/res/values-de/strings.xml
+++ b/TMessagesProj/src/main/res/values-de/strings.xml
@@ -538,4 +538,5 @@
     <string name="PhotoQuality">Photo Quality</string>
     <string name="showAndroidEmoji">Show Android Emoji</string>
     <string name="PhotoQualityInfo">This setting only applies to new photos, higher value means better quality but also means bigger file size. \n\n* 80% is usually a good balance between size and quality.</string>
+    <string name="disableTabletMode">Disable Tablet view</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-es/strings.xml b/TMessagesProj/src/main/res/values-es/strings.xml
index 5f955c87e..52fe01588 100644
--- a/TMessagesProj/src/main/res/values-es/strings.xml
+++ b/TMessagesProj/src/main/res/values-es/strings.xml
@@ -538,4 +538,5 @@
     <string name="PhotoQuality">Photo Quality</string>
     <string name="showAndroidEmoji">Show Android Emoji</string>
     <string name="PhotoQualityInfo">This setting only applies to new photos, higher value means better quality but also means bigger file size. \n\n* 80% is usually a good balance between size and quality.</string>
+    <string name="disableTabletMode">Disable Tablet view</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-it/strings.xml b/TMessagesProj/src/main/res/values-it/strings.xml
index a597960cf..a947d170a 100644
--- a/TMessagesProj/src/main/res/values-it/strings.xml
+++ b/TMessagesProj/src/main/res/values-it/strings.xml
@@ -538,4 +538,5 @@
     <string name="PhotoQuality">Photo Quality</string>
     <string name="showAndroidEmoji">Show Android Emoji</string>
     <string name="PhotoQualityInfo">This setting only applies to new photos, higher value means better quality but also means bigger file size. \n\n* 80% is usually a good balance between size and quality.</string>
+    <string name="disableTabletMode">Disable Tablet view</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-ko/strings.xml b/TMessagesProj/src/main/res/values-ko/strings.xml
index 3778a713b..35c54c6be 100644
--- a/TMessagesProj/src/main/res/values-ko/strings.xml
+++ b/TMessagesProj/src/main/res/values-ko/strings.xml
@@ -538,4 +538,5 @@
     <string name="PhotoQuality">Photo Quality</string>
     <string name="showAndroidEmoji">Show Android Emoji</string>
     <string name="PhotoQualityInfo">This setting only applies to new photos, higher value means better quality but also means bigger file size. \n\n* 80% is usually a good balance between size and quality.</string>
+    <string name="disableTabletMode">Disable Tablet view</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-nl/strings.xml b/TMessagesProj/src/main/res/values-nl/strings.xml
index 9b0b8cabc..f96628efa 100644
--- a/TMessagesProj/src/main/res/values-nl/strings.xml
+++ b/TMessagesProj/src/main/res/values-nl/strings.xml
@@ -538,4 +538,5 @@
     <string name="PhotoQuality">Photo Quality</string>
     <string name="showAndroidEmoji">Show Android Emoji</string>
     <string name="PhotoQualityInfo">This setting only applies to new photos, higher value means better quality but also means bigger file size. \n\n* 80% is usually a good balance between size and quality.</string>
+    <string name="disableTabletMode">Disable Tablet view</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-pt-rBR/strings.xml b/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
index de61e1767..362f19834 100644
--- a/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
+++ b/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
@@ -538,4 +538,5 @@
     <string name="PhotoQuality">Photo Quality</string>
     <string name="showAndroidEmoji">Show Android Emoji</string>
     <string name="PhotoQualityInfo">This setting only applies to new photos, higher value means better quality but also means bigger file size. \n\n* 80% is usually a good balance between size and quality.</string>
+    <string name="disableTabletMode">Disable Tablet view</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-pt-rPT/strings.xml b/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
index 8174dace7..e47356d91 100644
--- a/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
+++ b/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
@@ -538,4 +538,5 @@
     <string name="PhotoQuality">Photo Quality</string>
     <string name="showAndroidEmoji">Show Android Emoji</string>
     <string name="PhotoQualityInfo">This setting only applies to new photos, higher value means better quality but also means bigger file size. \n\n* 80% is usually a good balance between size and quality.</string>
+    <string name="disableTabletMode">Disable Tablet view</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values/strings.xml b/TMessagesProj/src/main/res/values/strings.xml
index 13b6f0a4f..479a5e9d4 100644
--- a/TMessagesProj/src/main/res/values/strings.xml
+++ b/TMessagesProj/src/main/res/values/strings.xml
@@ -538,4 +538,5 @@
     <string name="PhotoQuality">Photo Quality</string>
     <string name="showAndroidEmoji">Show Android Emoji</string>
     <string name="PhotoQualityInfo">This setting only applies to new photos, higher value means better quality but also means bigger file size. \n\n* 80% is usually a good balance between size and quality.</string>
+    <string name="disableTabletMode">Disable Tablet view</string>
 </resources>
\ No newline at end of file
