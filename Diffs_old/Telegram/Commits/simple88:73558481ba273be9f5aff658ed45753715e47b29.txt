diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index 691671542..7b5e5968d 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -1,4 +1,4 @@
-apply plugin: 'com.android.application'
+apply plugin: 'com.android.library'
 
 repositories {
     mavenCentral()
@@ -20,55 +20,23 @@ android {
         targetCompatibility JavaVersion.VERSION_1_7
     }
 
-    signingConfigs {
-        debug {
-            storeFile file("config/debug.keystore")
-        }
-
-        release {
-            storeFile file("config/release.keystore")
-            storePassword RELEASE_STORE_PASSWORD
-            keyAlias RELEASE_KEY_ALIAS
-            keyPassword RELEASE_KEY_PASSWORD
-        }
-    }
-
-    buildTypes {
-        debug {
-            debuggable true
-            jniDebuggable true
-            signingConfig signingConfigs.debug
-        }
-
-        release {
-            debuggable false
-            jniDebuggable false
-            signingConfig signingConfigs.release
-        }
-
-        foss {
-            debuggable false
-            jniDebuggable false
-            signingConfig signingConfigs.release
-        }
-    }
 
     sourceSets.main {
         jniLibs.srcDir 'libs'
         jni.srcDirs = [] //disable automatic ndk-build call
     }
 
-    sourceSets.debug {
-        manifest.srcFile 'config/debug/AndroidManifest.xml'
-    }
-
-    sourceSets.release {
-        manifest.srcFile 'config/release/AndroidManifest.xml'
-    }
-
-    sourceSets.foss {
-        manifest.srcFile 'config/foss/AndroidManifest.xml'
-    }
+//    sourceSets.debug {
+//        manifest.srcFile 'config/debug/AndroidManifest.xml'
+//    }
+//
+//    sourceSets.release {
+//        manifest.srcFile 'config/release/AndroidManifest.xml'
+//    }
+//
+//    sourceSets.foss {
+//        manifest.srcFile 'config/foss/AndroidManifest.xml'
+//    }
 
     defaultConfig {
         minSdkVersion 8
diff --git a/TMessagesProj/src/main/AndroidManifest.xml b/TMessagesProj/src/main/AndroidManifest.xml
index e5c2d138d..54413c03b 100644
--- a/TMessagesProj/src/main/AndroidManifest.xml
+++ b/TMessagesProj/src/main/AndroidManifest.xml
@@ -41,7 +41,7 @@
     <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
 
     <application
-        android:name=".ApplicationLoader"
+        android:name="org.telegram.messenger.ApplicationLoader"
         android:allowBackup="false"
         android:hardwareAccelerated="@bool/useHardwareAcceleration"
         android:icon="@drawable/ic_launcher"
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/BuildVars.java b/TMessagesProj/src/main/java/org/telegram/messenger/BuildVars.java
index 3b5b46a4c..b43209f72 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/BuildVars.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/BuildVars.java
@@ -11,11 +11,11 @@
 public class BuildVars {
     public static boolean DEBUG_VERSION = false;
     public static int BUILD_VERSION = 592;
-    public static int APP_ID = 0; //obtain your own APP_ID at https://core.telegram.org/api/obtaining_api_id
-    public static String APP_HASH = ""; //obtain your own APP_HASH at https://core.telegram.org/api/obtaining_api_id
-    public static String HOCKEY_APP_HASH = "your-hockeyapp-api-key-here";
+    public static int APP_ID = 23630; //obtain your own APP_ID at https://core.telegram.org/api/obtaining_api_id
+    public static String APP_HASH = "522b7ac779a2009c9c5aa555951bd1d6"; //obtain your own APP_HASH at https://core.telegram.org/api/obtaining_api_id
+    public static String HOCKEY_APP_HASH = "66346190bd46042c289bee55308acfef";
     public static String GCM_SENDER_ID = "760348033672";
-    public static String SEND_LOGS_EMAIL = "email@gmail.com";
+    public static String SEND_LOGS_EMAIL = "drakeet.me@gmail.com";
     public static String BING_SEARCH_KEY = ""; //obtain your own KEY at https://www.bing.com/dev/en-us/dev-center
     public static String FOURSQUARE_API_KEY = ""; //obtain your own KEY at https://developer.foursquare.com/
     public static String FOURSQUARE_API_ID = ""; //obtain your own API_ID at https://developer.foursquare.com/
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
index 9e8ca3575..2868076f1 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
@@ -4645,6 +4645,7 @@ public void onConfigurationChanged(android.content.res.Configuration newConfig)
     }
 
     public void createMenu(View v, boolean single) {
+        Toast.makeText(v.getContext(), "hehe", Toast.LENGTH_SHORT).show();
         if (actionBar.isActionModeShowed()) {
             return;
         }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/PasscodeView.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/PasscodeView.java
index 1834f9cf4..17d6d1d1e 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/PasscodeView.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/PasscodeView.java
@@ -993,7 +993,7 @@ protected void onLayout(boolean changed, int left, int top, int right, int botto
 
         if (UserConfig.passcodeType == 1 && (AndroidUtilities.isTablet() || getContext().getResources().getConfiguration().orientation != Configuration.ORIENTATION_LANDSCAPE)) {
             int t = 0;
-            if (passwordFrameLayout.getTag() != 0) {
+            if ((int)passwordFrameLayout.getTag() != 0) {
                 t = (Integer) passwordFrameLayout.getTag();
             }
             LayoutParams layoutParams = (LayoutParams) passwordFrameLayout.getLayoutParams();
diff --git a/TMessagesProj/src/main/res/values/strings.xml b/TMessagesProj/src/main/res/values/strings.xml
index 7c70bbe05..4881873d9 100644
--- a/TMessagesProj/src/main/res/values/strings.xml
+++ b/TMessagesProj/src/main/res/values/strings.xml
@@ -3,7 +3,7 @@
 
 
 <resources>
-    <string name="AppName">Telegram</string>
+    <string name="AppName">Tel4Drakeet</string>
     <string name="LanguageName">English</string>
     <string name="LanguageNameInEnglish">English</string>
     <string name="LanguageCode">en</string>
diff --git a/settings.gradle b/settings.gradle
index 867a4183d..794149f68 100644
--- a/settings.gradle
+++ b/settings.gradle
@@ -1 +1 @@
-include ':TMessagesProj'
+include ':TMessagesProj', ':tele4drakeet'
diff --git a/tele4drakeet/.gitignore b/tele4drakeet/.gitignore
new file mode 100644
index 000000000..796b96d1c
--- /dev/null
+++ b/tele4drakeet/.gitignore
@@ -0,0 +1 @@
+/build
diff --git a/tele4drakeet/build.gradle b/tele4drakeet/build.gradle
new file mode 100644
index 000000000..e37c3aef5
--- /dev/null
+++ b/tele4drakeet/build.gradle
@@ -0,0 +1,45 @@
+apply plugin: 'com.android.application'
+
+repositories {
+    mavenCentral()
+}
+
+android {
+    compileSdkVersion 23
+    buildToolsVersion "23.0.1"
+
+    defaultConfig {
+        applicationId "me.drakeet.tele4drakeet"
+        minSdkVersion 14
+        targetSdkVersion 23
+        versionCode 1
+        versionName "1.0"
+    }
+
+    signingConfigs {
+        debug {
+            storeFile file("drakeet.keystore")
+            storePassword project.hasProperty('STOREPASS') ? STOREPASS : ''
+            keyAlias project.hasProperty('KEYALIAS') ? KEYALIAS : ''
+            keyPassword project.hasProperty('KEYPASS') ? KEYPASS : ''
+        }
+
+        release {
+            storeFile file("drakeet.keystore")
+            storePassword project.hasProperty('STOREPASS') ? STOREPASS : ''
+            keyAlias project.hasProperty('KEYALIAS') ? KEYALIAS : ''
+            keyPassword project.hasProperty('KEYPASS') ? KEYPASS : ''
+        }
+    }
+
+    buildTypes {
+        release {
+            minifyEnabled false
+            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
+        }
+    }
+}
+
+dependencies {
+    compile project(':TMessagesProj')
+}
diff --git a/tele4drakeet/proguard-rules.pro b/tele4drakeet/proguard-rules.pro
new file mode 100644
index 000000000..c9a7dfef2
--- /dev/null
+++ b/tele4drakeet/proguard-rules.pro
@@ -0,0 +1,17 @@
+# Add project specific ProGuard rules here.
+# By default, the flags in this file are appended to flags specified
+# in /Users/drakeet/Applications/sdk/tools/proguard/proguard-android.txt
+# You can edit the include path and order by changing the proguardFiles
+# directive in build.gradle.
+#
+# For more details, see
+#   http://developer.android.com/guide/developing/tools/proguard.html
+
+# Add any project specific keep options here:
+
+# If your project uses WebView with JS, uncomment the following
+# and specify the fully qualified class name to the JavaScript interface
+# class:
+#-keepclassmembers class fqcn.of.javascript.interface.for.webview {
+#   public *;
+#}
diff --git a/tele4drakeet/src/androidTest/java/me/drakeet/tele4drakeet/ApplicationTest.java b/tele4drakeet/src/androidTest/java/me/drakeet/tele4drakeet/ApplicationTest.java
new file mode 100644
index 000000000..17d7b8001
--- /dev/null
+++ b/tele4drakeet/src/androidTest/java/me/drakeet/tele4drakeet/ApplicationTest.java
@@ -0,0 +1,13 @@
+package me.drakeet.tele4drakeet;
+
+import android.app.Application;
+import android.test.ApplicationTestCase;
+
+/**
+ * <a href="http://d.android.com/tools/testing/testing_android.html">Testing Fundamentals</a>
+ */
+public class ApplicationTest extends ApplicationTestCase<Application> {
+    public ApplicationTest() {
+        super(Application.class);
+    }
+}
\ No newline at end of file
diff --git a/tele4drakeet/src/main/AndroidManifest.xml b/tele4drakeet/src/main/AndroidManifest.xml
new file mode 100644
index 000000000..b5b26f227
--- /dev/null
+++ b/tele4drakeet/src/main/AndroidManifest.xml
@@ -0,0 +1,69 @@
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+    package="me.drakeet.tele4drakeet"
+    android:installLocation="auto">
+
+    <uses-feature
+        android:name="android.hardware.location.gps"
+        android:required="false"/>
+    <uses-feature
+        android:name="android.hardware.location.network"
+        android:required="false"/>
+    <uses-feature
+        android:name="android.hardware.location"
+        android:required="false"/>
+    <uses-feature
+        android:name="android.hardware.LOCATION"
+        android:required="false"/>
+
+    <uses-permission android:name="com.google.android.c2dm.permission.RECEIVE"/>
+    <uses-permission android:name="org.telegram.messenger.permission.MAPS_RECEIVE"/>
+    <uses-permission android:name="org.telegram.messenger.permission.C2D_MESSAGE" />
+    <uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES"/>
+    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
+    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
+
+
+
+    <application
+        android:allowBackup="false"
+        android:icon="@drawable/ic_launcher"
+        android:label="@string/AppName"
+        android:theme="@style/Theme.TMessages.Start"
+        android:name="org.telegram.messenger.ApplicationLoader"
+        android:hardwareAccelerated="@bool/useHardwareAcceleration"
+        android:largeHeap="true">
+
+        <meta-data
+            android:name="com.google.android.maps.v2.API_KEY"
+            android:value="AIzaSyCTNmNqbWovP9ETcAob98YlrfOQEAC0CJ4"/>
+
+        <activity android:name="net.hockeyapp.android.UpdateActivity"/>
+
+        <receiver
+            android:name="org.telegram.android.GcmBroadcastReceiver"
+            android:permission="com.google.android.c2dm.permission.SEND">
+            <intent-filter>
+                <action android:name="com.google.android.c2dm.intent.RECEIVE"/>
+                <action android:name="com.google.android.c2dm.intent.REGISTRATION"/>
+
+                <category android:name="org.telegram.messenger"/>
+            </intent-filter>
+        </receiver>
+
+        <uses-library
+            android:name="com.google.android.maps"
+            android:required="false"/>
+
+    </application>
+
+</manifest>
+
+<!--<permission-->
+<!--android:name="org.telegram.messenger.permission.MAPS_RECEIVE"-->
+<!--android:protectionLevel="signature"/>-->
+<!--<permission-->
+<!--android:name="org.telegram.messenger.permission.C2D_MESSAGE"-->
+<!--android:protectionLevel="signature"/>-->
+
+
+
diff --git a/tele4drakeet/src/main/res/values/colors.xml b/tele4drakeet/src/main/res/values/colors.xml
new file mode 100644
index 000000000..3ab3e9cbc
--- /dev/null
+++ b/tele4drakeet/src/main/res/values/colors.xml
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <color name="colorPrimary">#3F51B5</color>
+    <color name="colorPrimaryDark">#303F9F</color>
+    <color name="colorAccent">#FF4081</color>
+</resources>
diff --git a/tele4drakeet/src/main/res/values/strings.xml b/tele4drakeet/src/main/res/values/strings.xml
new file mode 100644
index 000000000..854200555
--- /dev/null
+++ b/tele4drakeet/src/main/res/values/strings.xml
@@ -0,0 +1,2 @@
+<resources>
+</resources>
diff --git a/tele4drakeet/src/main/res/values/styles.xml b/tele4drakeet/src/main/res/values/styles.xml
new file mode 100644
index 000000000..f11f7450a
--- /dev/null
+++ b/tele4drakeet/src/main/res/values/styles.xml
@@ -0,0 +1,3 @@
+<resources>
+
+</resources>
