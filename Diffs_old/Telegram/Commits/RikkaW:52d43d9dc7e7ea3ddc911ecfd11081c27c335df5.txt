diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/FloatingActionButton.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/FloatingActionButton.java
index b0f5053aa..f07cd3fca 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/FloatingActionButton.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/FloatingActionButton.java
@@ -11,6 +11,7 @@
 import android.graphics.drawable.GradientDrawable;
 import android.graphics.drawable.LayerDrawable;
 import android.graphics.drawable.RippleDrawable;
+import android.support.v4.content.ContextCompat;
 import android.support.v4.content.res.ConfigurationHelper;
 import android.util.AttributeSet;
 import android.util.TypedValue;
@@ -65,9 +66,9 @@ public FloatingActionButton(Context context, AttributeSet attrs, int defStyleAtt
 
         TypedValue outValue = new TypedValue();
         context.getTheme().resolveAttribute(android.R.attr.colorAccent, outValue, true);
-        int color = outValue.data;
+        int color = ContextCompat.getColor(context, outValue.resourceId);
         context.getTheme().resolveAttribute(android.R.attr.colorControlHighlight, outValue, true);
-        int rippleColor = outValue.data;
+        int rippleColor = ContextCompat.getColor(context, outValue.resourceId);
 
         Drawable shapeDrawable = createShapeDrawable();
         shapeDrawable.setTint(color);
