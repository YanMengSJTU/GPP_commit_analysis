diff --git a/TMessagesProj/src/main/java/org/telepatch/android/NotificationsController.java b/TMessagesProj/src/main/java/org/telepatch/android/NotificationsController.java
index 5a5e3c17b..2ee000c43 100644
--- a/TMessagesProj/src/main/java/org/telepatch/android/NotificationsController.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/NotificationsController.java
@@ -8,6 +8,7 @@
 
 package org.telepatch.android;
 
+import android.app.Activity;
 import android.app.AlarmManager;
 import android.app.PendingIntent;
 import android.content.Context;
@@ -60,7 +61,7 @@
 
     //TODO miei campi
 
-    private SharedPreferences preferences;
+    private SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications", Activity.MODE_PRIVATE);
 
 
     private static volatile NotificationsController Instance = null;
@@ -91,7 +92,7 @@ public void cleanup() {
         popupMessages.clear();
         wearNoticationsIds.clear();
         notifyCheck = false;
-        SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications", Context.MODE_PRIVATE);
+        //TODO rimosso ovunque inizializzazione preferences, lo faccio una volta sola
         SharedPreferences.Editor editor = preferences.edit();
         editor.clear();
         editor.commit();
@@ -134,7 +135,6 @@ private String getStringForMessage(MessageObject messageObject, boolean shortMes
         String msg = null;
         if ((int)dialog_id != 0) {
             if (chat_id == 0 && user_id != 0) {
-                SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications", Context.MODE_PRIVATE);
                 if (preferences.getBoolean("EnablePreviewAll", true)) {
                     if (messageObject.messageOwner instanceof TLRPC.TL_messageService) {
                         if (messageObject.messageOwner.action instanceof TLRPC.TL_messageActionUserJoined) {
@@ -174,7 +174,6 @@ private String getStringForMessage(MessageObject messageObject, boolean shortMes
                     msg = LocaleController.formatString("NotificationMessageNoText", R.string.NotificationMessageNoText, ContactsController.formatName(user.first_name, user.last_name));
                 }
             } else if (chat_id != 0) {
-                SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications", Context.MODE_PRIVATE);
                 if (preferences.getBoolean("EnablePreviewGroup", true)) {
                     if (messageObject.messageOwner instanceof TLRPC.TL_messageService) {
                         if (messageObject.messageOwner.action instanceof TLRPC.TL_messageActionChatAddUser) {
@@ -210,7 +209,7 @@ private String getStringForMessage(MessageObject messageObject, boolean shortMes
                         if (messageObject.messageOwner.media instanceof TLRPC.TL_messageMediaEmpty) {
                             if (!shortMessage && messageObject.messageOwner.message != null && messageObject.messageOwner.message.length() != 0) {
                                 //TODO ho modificato il comportamento, voglio che sia nel titolo "tizio @ gruppo", non nel testo
-                                msg = LocaleController.formatString("NotificationMessageGroupText", R.string.NotificationMessageText, ContactsController.formatName(user.first_name, ""), chat.title, messageObject.messageOwner.message);
+                                msg = LocaleController.formatString("NotificationMessageGroupText", R.string.NotificationMessageGroupText, ContactsController.formatName(user.first_name, ""), chat.title, messageObject.messageOwner.message);
 
                                 //msg = LocaleController.formatString("NotificationMessageGroupText", R.string.NotificationMessageGroupText, ContactsController.formatName(user.first_name, user.last_name), chat.title, messageObject.messageOwner.message);
                             } else {
@@ -307,7 +306,6 @@ private void showOrUpdateNotification(boolean notifyAboutLast) {
             boolean inAppPreview = false;
             int vibrate_override = 0;
 
-            SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications", Context.MODE_PRIVATE);
             int notify_override = preferences.getInt("notify2_" + dialog_id, 0);
             if (!notifyAboutLast || notify_override == 2 || (!preferences.getBoolean("EnableAll", true) || chat_id != 0 && !preferences.getBoolean("EnableGroup", true)) && notify_override == 0) {
                 notifyDisabled = true;
@@ -725,7 +723,6 @@ public void processNewMessages(ArrayList<MessageObject> messageObjects, boolean
 
         int oldCount = popupMessages.size();
         HashMap<Long, Boolean> settingsCache = new HashMap<Long, Boolean>();
-        SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications", Context.MODE_PRIVATE);
         int popup = 0;
 
         for (MessageObject messageObject : messageObjects) {
@@ -777,7 +774,6 @@ public void processNewMessages(ArrayList<MessageObject> messageObjects, boolean
 
     public void processDialogsUpdateRead(final HashMap<Long, Integer> dialogsToUpdate) {
         int old_unread_count = total_unread_count;
-        SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications", Context.MODE_PRIVATE);
         for (HashMap.Entry<Long, Integer> entry : dialogsToUpdate.entrySet()) {
             long dialog_id = entry.getKey();
 
@@ -835,7 +831,6 @@ public void processLoadedUnreadMessages(HashMap<Long, Integer> dialogs, ArrayLis
         pushMessagesDict.clear();
         total_unread_count = 0;
         personal_count = 0;
-        SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications", Context.MODE_PRIVATE);
         HashMap<Long, Boolean> settingsCache = new HashMap<Long, Boolean>();
 
         for (HashMap.Entry<Long, Integer> entry : dialogs.entrySet()) {
diff --git a/TMessagesProj/src/main/java/org/telepatch/ui/SettingsNotificationsActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsNotificationsActivity.java
index cb134f314..462a6e7e2 100644
--- a/TMessagesProj/src/main/java/org/telepatch/ui/SettingsNotificationsActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsNotificationsActivity.java
@@ -78,13 +78,16 @@
 
     //TODO mie rows
 
-    private int messageQuickReply;
-    private int messageMultipleNotification;
+    private int messageQuickReplyRow;
+    private int messageMultipleNotificationRow;
 
     @Override
     public boolean onFragmentCreate() {
         notificationsServiceRow = rowCount++;
         messageSectionRow = rowCount++;
+        //TODO Mie rows
+        messageMultipleNotificationRow = rowCount++;
+        messageQuickReplyRow = rowCount++;
         messageAlertRow = rowCount++;
         messagePreviewRow = rowCount++;
         messageVibrateRow = rowCount++;
@@ -172,7 +175,7 @@ public void onItemClick(AdapterView<?> adapterView, View view, final int i, long
                         listView.invalidateViews();
                         updateServerNotificationsSettings(i == groupPreviewRow);
                         //TODO qui metto il toggle delle notifiche multiple
-                    } else if (i == messageMultipleNotification) {
+                    } else if (i == messageMultipleNotificationRow) {
                         SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications", Activity.MODE_PRIVATE);
                         SharedPreferences.Editor editor = preferences.edit();
                         boolean enabled;
@@ -181,11 +184,10 @@ public void onItemClick(AdapterView<?> adapterView, View view, final int i, long
                         editor.commit();
                         listView.invalidateViews();
                         //TODO qui metto il toggle della quickReply
-                    } else if (i == messageQuickReply) {
+                    } else if (i == messageQuickReplyRow) {
                         SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications", Activity.MODE_PRIVATE);
                         SharedPreferences.Editor editor = preferences.edit();
-                        boolean enabled;
-                        enabled = preferences.getBoolean("QuickReplyEnabled", true);
+                        boolean enabled = preferences.getBoolean("QuickReplyEnabled", true);
                         editor.putBoolean("QuickReplyEnabled", !enabled);
                         editor.commit();
                         listView.invalidateViews();
@@ -602,15 +604,13 @@ public View getView(int i, View view, ViewGroup viewGroup) {
                     }
                     textView.setText(LocaleController.getString("Alert", R.string.Alert));
                     divider.setVisibility(View.VISIBLE);
-                    //TODO qui metto le multiple notifications nell'adapter
-                } else if (i == messageMultipleNotification) {
+                } else if (i == messageMultipleNotificationRow) {
                     enabled = preferences.getBoolean("multiple_notify", true);
-                    textView.setText(R.string.multiple_notify);
+                    textView.setText(LocaleController.getString("Multiple Notifications", R.string.multiple_notify));
                     divider.setVisibility(View.VISIBLE);
-                    //TODO qui metto le quickReply nell'adapter
-                } else if (i == messageQuickReply) {
+                } else if (i == messageQuickReplyRow) {
                     enabled = preferences.getBoolean("QuickReplyEnabled", true);
-                    textView.setText(R.string.QuickReplyLabel);
+                    textView.setText(LocaleController.getString("Quick Reply", R.string.QuickReplyLabel));
                     divider.setVisibility(View.VISIBLE);
                 } else if (i == messagePreviewRow || i == groupPreviewRow) {
                     if (i == messagePreviewRow) {
@@ -758,7 +758,10 @@ public int getItemViewType(int i) {
                     i == groupAlertRow || i == groupPreviewRow ||
                     i == inappSoundRow || i == inappVibrateRow || i == inappPreviewRow ||
                     i == contactJoinedRow ||
-                    i == pebbleAlertRow || i == notificationsServiceRow || i == badgeNumberRow) {
+                    i == pebbleAlertRow || i == notificationsServiceRow || i == badgeNumberRow
+                    //mie row
+                   || i == messageMultipleNotificationRow || i == messageQuickReplyRow
+                     ) {
                 return 1;
             } else if (i == messageLedRow || i == groupLedRow) {
                 return 3;
diff --git a/TMessagesProj/src/main/res/values-it/strings.xml b/TMessagesProj/src/main/res/values-it/strings.xml
index 6c72a4e16..aa9573bb8 100644
--- a/TMessagesProj/src/main/res/values-it/strings.xml
+++ b/TMessagesProj/src/main/res/values-it/strings.xml
@@ -121,7 +121,7 @@
     <string name="MessageLifetimeRemoved">%1$s ha disabilitato il timer di autodistruzione</string>
     <string name="MessageLifetimeYouRemoved">Hai disabilitato il timer di autodistruzione</string>
     <string name="YouHaveNewMessage">Hai un nuovo messaggio</string>
-    <string name="NotificationMessageText">%1$s (%2$s)</string>
+    <string name="NotificationMessageText">%2$s</string>
     <string name="NotificationMessageNoText">%1$s ti ha inviato un messaggio</string>
     <string name="NotificationMessagePhoto">%1$s ti ha inviato una foto</string>
     <string name="NotificationMessageVideo">%1$s ti ha inviato un video</string>
diff --git a/TMessagesProj/src/main/res/values/strings.xml b/TMessagesProj/src/main/res/values/strings.xml
index 8e2f9c3f9..8821eacf5 100644
--- a/TMessagesProj/src/main/res/values/strings.xml
+++ b/TMessagesProj/src/main/res/values/strings.xml
@@ -122,7 +122,7 @@
     <string name="MessageLifetimeYouRemoved">You disabled the self-destruct timer</string>
     <string name="YouHaveNewMessage">You have a new message</string>
     <!-- TODO modifica brutale da %1$s -->
-    <string name="NotificationMessageText">%1$s (%2$s)</string>
+    <string name="NotificationMessageText">%2$s</string>
     <string name="NotificationMessageNoText">%1$s sent you a message</string>
     <string name="NotificationMessagePhoto">%1$s sent you a photo</string>
     <string name="NotificationMessageVideo">%1$s sent you a video</string>
