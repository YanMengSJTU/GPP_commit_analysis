diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java b/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
index 6dc1c08e4..b84a6bc38 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
@@ -29,7 +29,6 @@
 import android.os.Vibrator;
 import android.provider.Settings;
 import android.support.v4.app.NotificationCompat;
-import android.support.v7.app.ActionBarActivity;
 import android.text.Html;
 import android.util.SparseArray;
 
@@ -5072,7 +5071,7 @@ public void run(TLObject response, TLRPC.TL_error error) {
                                 @Override
                                 public void run() {
                                     try {
-                                        if (!((ActionBarActivity) context).isFinishing()) {
+                                        if (!((Activity) context).isFinishing()) {
                                             progressDialog.dismiss();
                                         }
                                     } catch (Exception e) {
@@ -5113,7 +5112,7 @@ public void run(final TLObject response, TLRPC.TL_error error) {
                                     @Override
                                     public void run() {
                                         startingSecretChat = false;
-                                        if (!((ActionBarActivity) context).isFinishing()) {
+                                        if (!((Activity) context).isFinishing()) {
                                             try {
                                                 progressDialog.dismiss();
                                             } catch (Exception e) {
@@ -5168,7 +5167,7 @@ public void run() {
                                 Utilities.RunOnUIThread(new Runnable() {
                                     @Override
                                     public void run() {
-                                        if (!((ActionBarActivity) context).isFinishing()) {
+                                        if (!((Activity) context).isFinishing()) {
                                             startingSecretChat = false;
                                             try {
                                                 progressDialog.dismiss();
@@ -5192,7 +5191,7 @@ public void run() {
                         @Override
                         public void run() {
                             startingSecretChat = false;
-                            if (!((ActionBarActivity) context).isFinishing()) {
+                            if (!((Activity) context).isFinishing()) {
                                 try {
                                     progressDialog.dismiss();
                                 } catch (Exception e) {
