diff --git a/TMessagesProj/src/main/assets/better.attheme b/TMessagesProj/src/main/assets/better.attheme
index fba19adbf..35c7bcb10 100644
--- a/TMessagesProj/src/main/assets/better.attheme
+++ b/TMessagesProj/src/main/assets/better.attheme
@@ -11,4 +11,9 @@ windowBackgroundWhiteBlueHeader=-14042522
 dialogTextBlue=-11283062
 windowBackgroundWhiteValueText=-11283062
 switchThumbChecked=-11283062
-switchTrackChecked=-8989795
\ No newline at end of file
+switchTrackChecked=-8989795
+topbar_inactiveColor=-5903419
+topbar_activeColor=-1
+bottombar_inactiveColor=-3552823
+bottombar_activeColor=-14693011
+bottombar_backgroundColor=-1
\ No newline at end of file
diff --git a/TMessagesProj/src/main/assets/bluebubbles.attheme b/TMessagesProj/src/main/assets/bluebubbles.attheme
index f2a96ad2f..a365689a2 100644
Binary files a/TMessagesProj/src/main/assets/bluebubbles.attheme and b/TMessagesProj/src/main/assets/bluebubbles.attheme differ
diff --git a/TMessagesProj/src/main/assets/dark.attheme b/TMessagesProj/src/main/assets/dark.attheme
index f32323474..5119d2d63 100644
--- a/TMessagesProj/src/main/assets/dark.attheme
+++ b/TMessagesProj/src/main/assets/dark.attheme
@@ -274,3 +274,8 @@ player_progress=#ff23afef
 player_placeholderBackground=#ff1c1f20
 player_button=#fff2f2f2
 player_buttonActive=#ff23afef
+topbar_inactiveColor=-10590359
+topbar_activeColor=-1
+bottombar_inactiveColor=-3552823
+bottombar_activeColor=-14407896
+bottombar_backgroundColor=-1
\ No newline at end of file
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/Theme.java b/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/Theme.java
index f57a9b41b..0eee6da35 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/Theme.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/Theme.java
@@ -1065,6 +1065,11 @@ public int getMinimumHeight() {
 
     public static final String key_bottombar_inactiveColor = "bottombar_inactiveColor";
     public static final String key_bottombar_activeColor = "bottombar_activeColor";
+    public static final String key_bottombar_backgroundColor = "bottombar_backgroundColor";
+
+    public static final String key_topbar_inactiveColor = "topbar_inactiveColor";
+    public static final String key_topbar_activeColor = "topbar_activeColor";
+    public static final String key_topbar_unreadCounterColor = "topbar_unreadCounterColor";
 
     //ununsed
     public static final String key_chat_outBroadcast = "chat_outBroadcast";
@@ -1693,6 +1698,11 @@ public int getMinimumHeight() {
 
         defaultColors.put(key_bottombar_inactiveColor, 0xFFC9C9C9);
         defaultColors.put(key_bottombar_activeColor, 0xFF1FCD6D);
+        defaultColors.put(key_bottombar_backgroundColor, 0xFFFFFFFF);
+
+        defaultColors.put(key_topbar_inactiveColor, 0xffa5ebc5);
+        defaultColors.put(key_topbar_activeColor, 0xffffffff);
+        defaultColors.put(key_topbar_unreadCounterColor, 0xFFEB3E4A);
 
         fallbackKeys.put(key_chat_adminText, key_chat_inTimeText);
         fallbackKeys.put(key_chat_adminSelectedText, key_chat_inTimeSelectedText);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/BottomBar/BottomNavigationBar.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/BottomBar/BottomNavigationBar.java
index 11745ad3a..7a2c0cc4b 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/BottomBar/BottomNavigationBar.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/BottomBar/BottomNavigationBar.java
@@ -227,9 +227,7 @@ private void init() {
         setMinimumHeight(minHeight);
         setOrientation(HORIZONTAL);
 
-        if (getBackground() == null) {
-            setBackgroundColor(0xFFFFFFFF);
-        }
+        setBackgroundColor(Theme.getColor(Theme.key_bottombar_backgroundColor));
 
         if (atLeastLollipop()) {
             setOutlineProvider(ViewOutlineProvider.BOUNDS);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/PlusPagerSlidingTabStrip.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/PlusPagerSlidingTabStrip.java
index c333fe243..79c97a69a 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/PlusPagerSlidingTabStrip.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/PlusPagerSlidingTabStrip.java
@@ -32,17 +32,12 @@
 import android.os.Parcelable;
 import android.support.v4.view.ViewPager;
 import android.support.v4.view.ViewPager.OnPageChangeListener;
+import android.util.Log;
 import android.util.TypedValue;
 import android.view.Gravity;
 import android.view.View;
 import android.view.ViewTreeObserver.OnGlobalLayoutListener;
-import android.widget.HorizontalScrollView;
-import android.widget.ImageButton;
-import android.widget.ImageView;
-import android.widget.LinearLayout;
-import android.widget.RelativeLayout;
-import android.widget.TextView;
-
+import android.widget.*;
 import org.telegram.messenger.AndroidUtilities;
 import org.telegram.messenger.ApplicationLoader;
 import org.telegram.messenger.FileLog;
@@ -161,12 +156,9 @@ public PlusPagerSlidingTabStrip(Context context) {
         if (tabTitlesMode) {
             scrollOffset = layoutWidth / 2;
         }
-        //SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
-        //counterBgColorMuted = themePrefs.getInt("chatsHeaderTabCounterSilentBGColor", 0xffb9b9b9);
-        //counterBgColor = themePrefs.getInt("chatsHeaderTabCounterBGColor", 0xffd32f2f);
-        //Log.e("PlusPager", "PlusPagerSlidingTabStrip create");
-        tabTextIconUnselectedColor = Theme.getColor(Theme.key_actionBarDefaultIcon);
-        tabTextIconSelectedColor = Theme.getColor(Theme.key_actionBarDefaultIcon);
+
+        tabTextIconUnselectedColor = Theme.getColor(Theme.key_topbar_inactiveColor);
+        tabTextIconSelectedColor = Theme.getColor(Theme.key_topbar_activeColor);
     }
 
     public void setViewPager(ViewPager pager) {
@@ -263,7 +255,9 @@ public void addTabWithCounter(final int position, View view) {
         view.setOnClickListener(new OnClickListener() {
             @Override
             public void onClick(View v) {
-                //Log.e("PlusPager", "position " + position + " / " + pager.getCurrentItem());
+                Log.e("PlusPager", "position " + position + " / " + pager.getCurrentItem());
+                int currentPosition = pager.getCurrentItem();
+
                 if (position == pager.getCurrentItem()) {
                     if (delegate != null) {
                         delegate.onTabClick();
@@ -348,7 +342,7 @@ public void updateCounter(int position, int count, boolean allMuted, boolean for
                     //tv.setText(count >= 10000 && Theme.plusLimitTabsCounters ? "+9999" : String.format("%d", count));
                     tv.setText(String.format("%d", count));
                     //tv.getBackground().setColorFilter(allMuted ? Theme.usePlusTheme ? Theme.chatsTabCounterSilentBGColor : Theme.getColor(Theme.key_chats_unreadCounterMuted) : Theme.usePlusTheme ? Theme.chatsTabCounterBGColor : Theme.getColor(Theme.key_chats_unreadCounter), PorterDuff.Mode.SRC_IN);
-                    tv.getBackground().setColorFilter(Color.parseColor("#ff585b"), PorterDuff.Mode.SRC_IN);
+                    tv.getBackground().setColorFilter(Theme.getColor(Theme.key_topbar_unreadCounterColor), PorterDuff.Mode.SRC_IN);
                 } else {
                     tv.setVisibility(INVISIBLE);
                     //tv.getBackground().setColorFilter(0x00000000, PorterDuff.Mode.SRC_IN);
