diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/Emoji.java b/TMessagesProj/src/main/java/org/telegram/messenger/Emoji.java
index 39ce82c14..500598e70 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/Emoji.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/Emoji.java
@@ -28,6 +28,7 @@
 import android.os.Build;
 import android.text.Spannable;
 import android.text.Spanned;
+import android.text.style.AbsoluteSizeSpan;
 import android.text.style.DynamicDrawableSpan;
 import android.text.style.ImageSpan;
 import android.view.View;
@@ -362,7 +363,7 @@ public static CharSequence replaceEmoji(CharSequence cs, Paint.FontMetricsInt fo
             s = Spannable.Factory.getInstance().newSpannable(cs.toString());
         }
 
-        if (SharedConfig.useSystemEmoji) {
+        if (SharedConfig.useSystemEmoji && !SharedConfig.allowBigEmoji) {
             return s;
         }
 
@@ -489,11 +490,13 @@ public static CharSequence replaceEmoji(CharSequence cs, Paint.FontMetricsInt fo
                         emojiOnly[0]++;
                     }
                     CharSequence code = emojiCode.subSequence(0, emojiCode.length());
-                    drawable = Emoji.getEmojiDrawable(code);
-                    if (drawable != null) {
-                        span = new EmojiSpan(drawable, DynamicDrawableSpan.ALIGN_BOTTOM, size, fontMetrics);
-                        s.setSpan(span, startIndex, startIndex + startLength, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
-                        emojiCount++;
+                    if (!SharedConfig.useSystemEmoji) {
+                        drawable = Emoji.getEmojiDrawable(code);
+                        if (drawable != null) {
+                            span = new EmojiSpan(drawable, DynamicDrawableSpan.ALIGN_BOTTOM, size, fontMetrics);
+                            s.setSpan(span, startIndex, startIndex + startLength, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
+                            emojiCount++;
+                        }
                     }
                     startLength = 0;
                     startIndex = -1;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/MessageObject.java b/TMessagesProj/src/main/java/org/telegram/messenger/MessageObject.java
index 94ca61872..2937ae128 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/MessageObject.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/MessageObject.java
@@ -19,6 +19,7 @@
 import android.text.StaticLayout;
 import android.text.TextPaint;
 import android.text.TextUtils;
+import android.text.style.AbsoluteSizeSpan;
 import android.text.style.URLSpan;
 import android.text.util.Linkify;
 import android.util.Base64;
@@ -899,10 +900,15 @@ private void checkEmojiOnly(int[] emojiOnly) {
                     emojiOnlyCount = 3;
                     break;
             }
-            Emoji.EmojiSpan[] spans = ((Spannable) messageText).getSpans(0, messageText.length(), Emoji.EmojiSpan.class);
-            if (spans != null && spans.length > 0) {
-                for (int a = 0; a < spans.length; a++) {
-                    spans[a].replaceFontMetrics(emojiPaint.getFontMetricsInt(), size);
+            if (SharedConfig.useSystemEmoji) {
+                final AbsoluteSizeSpan span = new AbsoluteSizeSpan(size);
+                ((Spannable) messageText).setSpan(span, 0, messageText.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
+            } else {
+                Emoji.EmojiSpan[] spans = ((Spannable) messageText).getSpans(0, messageText.length(), Emoji.EmojiSpan.class);
+                if (spans != null && spans.length > 0) {
+                    for (int a = 0; a < spans.length; a++) {
+                        spans[a].replaceFontMetrics(emojiPaint.getFontMetricsInt(), size);
+                    }
                 }
             }
         }
diff --git a/TMessagesProj/src/main/res/values/strings.xml b/TMessagesProj/src/main/res/values/strings.xml
index f6024e94c..bcd0fd542 100644
--- a/TMessagesProj/src/main/res/values/strings.xml
+++ b/TMessagesProj/src/main/res/values/strings.xml
@@ -1486,7 +1486,7 @@
     <string name="DirectShareInfo">Show recent chats in Android share menu</string>
     <string name="Emoji">Emoji</string>
     <string name="LargeEmoji">Large Emoji</string>
-    <string name="EmojiUseDefault">Use system default emoji</string>
+    <string name="EmojiUseDefault">System emoji</string>
     <string name="TelegramVersion">Telegram for Android %1$s</string>
     <string name="DebugMenu">Debug Menu</string>
     <string name="DebugSendLogs">Send Logs</string>
