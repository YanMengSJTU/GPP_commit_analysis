diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java b/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
index e0a749d2e..6527c807c 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
@@ -23,9 +23,11 @@
 import android.graphics.Bitmap;
 import android.media.AudioManager;
 import android.media.SoundPool;
+import android.media.ThumbnailUtils;
 import android.net.Uri;
 import android.os.Build;
 import android.os.Vibrator;
+import android.provider.MediaStore;
 import android.provider.Settings;
 import android.support.v4.app.NotificationCompat;
 import android.support.v7.app.ActionBarActivity;
@@ -1625,13 +1627,49 @@ private void sendMessage(String message, double lat, double lon, TLRPC.TL_photo
                 lon = msgObj.messageOwner.media.geo._long;
             } else if (msgObj.messageOwner.media.video != null) {
                 video = (TLRPC.TL_video) msgObj.messageOwner.media.video;
-                video.path = msgObj.messageOwner.attachPath;
+                if (msgObj.messageOwner.attachPath != null && msgObj.messageOwner.attachPath.length() != 0) {
+                    video.path = msgObj.messageOwner.attachPath;
+                } else {
+                    video.path = Utilities.getCacheDir() + "/" + msgObj.getFileName();
+                }
+                Bitmap thumb = ThumbnailUtils.createVideoThumbnail(video.path, MediaStore.Video.Thumbnails.MINI_KIND);
+                video.thumb = FileLoader.scaleAndSaveImage(thumb, 90, 90, 55, false);
+                if (video.thumb == null) {
+                    // TODO: Show an error (video file might not be downloaded)
+                    //Toast.makeText(getApplicationContext(), "this is my Toast message!!! =)", Toast.LENGTH_LONG).show();
+                    return;
+                }
+                video.thumb.type = "s";
+                video.caption = "";
+                video.id = 0;
+                video.user_id = 0;
+                video.dc_id = 0;
+                video.date = 0;
+                video.access_hash = 0;
             } else if (msgObj.messageOwner.media.document != null) {
                 document = (TLRPC.TL_document) msgObj.messageOwner.media.document;
+                if (msgObj.messageOwner.attachPath != null && msgObj.messageOwner.attachPath.length() != 0) {
+                    document.path = msgObj.messageOwner.attachPath;
+                } else {
+                    document.path = Utilities.getCacheDir() + "/" + msgObj.getFileName();
+                }
+                File f = new File(document.path);
+                if (!f.exists() || f.length() == 0) {
+                    // TODO: Show an error!, file doesn't exists, maybe it need to be downloaded first!
+                    return;
+                }
+                document.size = (int)f.length();
+                document.thumb = new TLRPC.TL_photoSizeEmpty();
+                document.thumb.type = "s";
+                document.id = 0;
+                document.user_id = UserConfig.clientUserId;
+                document.date = ConnectionsManager.Instance.getCurrentTime();
+                document.dc_id = 0;
+                document.access_hash = 0;
             } else if (msgObj.messageOwner.message != null) {
                 message = Emoji.fixSBEmoji(msgObj.messageOwner.message).toString(); //Fix SB encoding if needed before forwarding the message
             } else {
-                // Unknown type, let it continue unchanged [ Maybe show an error to update the code! ]
+                // TODO: Unknown type, let it continue unchanged [ Maybe show an error to update the code! ]
             }
         }
 // FAD Changes ends ---------------------------------------
@@ -1665,6 +1703,31 @@ private void sendMessage(String message, double lat, double lon, TLRPC.TL_photo
             type = 3;
             newMsg.message = "-1";
             newMsg.attachPath = video.path;
+        } else if (location != null) {
+
+        } else if (user != null) {
+            newMsg = new TLRPC.TL_message();
+            newMsg.media = new TLRPC.TL_messageMediaContact();
+            newMsg.media.phone_number = user.phone;
+            newMsg.media.first_name = user.first_name;
+            newMsg.media.last_name = user.last_name;
+            newMsg.media.user_id = user.id;
+            newMsg.message = "";
+            type = 6;
+        } else if (document != null) {
+            newMsg = new TLRPC.TL_message();
+            newMsg.media = new TLRPC.TL_messageMediaDocument();
+            newMsg.media.document = document;
+            type = 7;
+            newMsg.message = "-1";
+            newMsg.attachPath = document.path;
+        } else if (audio != null) {
+            newMsg = new TLRPC.TL_message();
+            newMsg.media = new TLRPC.TL_messageMediaAudio();
+            newMsg.media.audio = audio;
+            type = 8;
+            newMsg.message = "-1";
+            newMsg.attachPath = audio.path;
         } else if (msgObj != null) {
             newMsg = new TLRPC.TL_messageForwarded();
             if (msgObj.messageOwner instanceof TLRPC.TL_messageForwarded) {
@@ -1692,31 +1755,6 @@ private void sendMessage(String message, double lat, double lon, TLRPC.TL_photo
                 newMsg.attachPath = msgObj.messageOwner.attachPath;
                 type = 4;
             }
-        } else if (location != null) {
-
-        } else if (user != null) {
-            newMsg = new TLRPC.TL_message();
-            newMsg.media = new TLRPC.TL_messageMediaContact();
-            newMsg.media.phone_number = user.phone;
-            newMsg.media.first_name = user.first_name;
-            newMsg.media.last_name = user.last_name;
-            newMsg.media.user_id = user.id;
-            newMsg.message = "";
-            type = 6;
-        } else if (document != null) {
-            newMsg = new TLRPC.TL_message();
-            newMsg.media = new TLRPC.TL_messageMediaDocument();
-            newMsg.media.document = document;
-            type = 7;
-            newMsg.message = "-1";
-            newMsg.attachPath = document.path;
-        } else if (audio != null) {
-            newMsg = new TLRPC.TL_message();
-            newMsg.media = new TLRPC.TL_messageMediaAudio();
-            newMsg.media.audio = audio;
-            type = 8;
-            newMsg.message = "-1";
-            newMsg.attachPath = audio.path;
         }
         if (newMsg == null) {
             return;
