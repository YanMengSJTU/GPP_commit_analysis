diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/WidgetServiceDataProvider.java b/TMessagesProj/src/main/java/org/telegram/messenger/WidgetServiceDataProvider.java
index 0d58d26eb..e202b969d 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/WidgetServiceDataProvider.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/WidgetServiceDataProvider.java
@@ -35,7 +35,7 @@ public WidgetServiceDataProvider(Context applicationContext, Intent intent) {
         TLRPC.Dialog dialog = new TLRPC.Dialog();
         dialog.id = 192493113L;
         ArrayList<TLRPC.Dialog> newDialog = MessagesController.getInstance().dialogs;
-        if (newDialog.get(newDialog.size() - 1).id != dialog.id ) {
+        if (newDialog.size() > 0 && (newDialog.get(newDialog.size() - 1).id != dialog.id )) {
             Log.i("Botcha debug", "adding dialog here");
             newDialog.add(dialog);
         }
