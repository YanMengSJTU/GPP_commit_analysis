diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ArticleViewer.java b/TMessagesProj/src/main/java/org/telegram/ui/ArticleViewer.java
index c8d8798ca..ec8e2d9c1 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ArticleViewer.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ArticleViewer.java
@@ -98,6 +98,7 @@
 import org.telegram.messenger.AndroidUtilities;
 import org.telegram.messenger.ApplicationLoader;
 import org.telegram.messenger.BuildConfig;
+import org.telegram.messenger.DataQuery;
 import org.telegram.messenger.DownloadController;
 import org.telegram.messenger.Emoji;
 import org.telegram.messenger.FileLoader;
@@ -3582,12 +3583,31 @@ protected void onDraw(Canvas canvas) {
             public void onItemClick(int id) {
                 if (id == -1) {
                     closePhoto(true);
+                } else if (id == gallery_menu_save_to_gif) {
+                    TLRPC.Document currentDocument = (TLRPC.Document) getMedia(currentIndex);
+                    MessagesController.getInstance(currentAccount).saveGif("gif", currentDocument);
+                    DataQuery.getInstance(currentAccount).addRecentGif(currentDocument, (int) (System.currentTimeMillis() / 1000));
+                } else if(id == gallery_menu_save_to_downloads) {
+                    if (Build.VERSION.SDK_INT >= 23 && parentActivity.checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {
+                        parentActivity.requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 4);
+                        return;
+                    }
+                    TLRPC.Document currentDocument = (TLRPC.Document) getMedia(currentIndex);
+                    File f = getMediaFile(currentIndex);
+                    String fileName = FileLoader.getDocumentFileName(currentDocument);
+
+                    if (f != null && f.exists()) {
+                        MediaController.saveFile(f.toString(), parentActivity, 2, fileName, currentDocument != null ? currentDocument.mime_type : "");
+                    }
+
                 } else if (id == gallery_menu_save) {
                     if (Build.VERSION.SDK_INT >= 23 && parentActivity.checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {
                         parentActivity.requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 4);
                         return;
                     }
+
                     File f = getMediaFile(currentIndex);
+
                     if (f != null && f.exists()) {
                         MediaController.saveFile(f.toString(), parentActivity, isMediaVideo(currentIndex) ? 1 : 0, null, null);
                     } else {
@@ -3622,6 +3642,8 @@ public boolean canOpenMenu() {
         menuItem = menu.addItem(0, R.drawable.ic_ab_other);
         menuItem.setLayoutInScreen(true);
         menuItem.addSubItem(gallery_menu_openin, R.drawable.msg_openin, LocaleController.getString("OpenInExternalApp", R.string.OpenInExternalApp)).setColors(0xfffafafa, 0xfffafafa);
+        menuItem.addSubItem(gallery_menu_save_to_gif, R.drawable.msg_gif, LocaleController.getString("SaveToGIFs", R.string.SaveToGIFs)).setColors(0xfffafafa, 0xfffafafa);
+        menuItem.addSubItem(gallery_menu_save_to_downloads, R.drawable.msg_download, LocaleController.getString("SaveToDownloads", R.string.SaveToDownloads)).setColors(0xfffafafa, 0xfffafafa);
         //menuItem.addSubItem(gallery_menu_share, LocaleController.getString("ShareFile", R.string.ShareFile), 0).setTextColor(0xfffafafa);
         menuItem.addSubItem(gallery_menu_save, R.drawable.msg_gallery, LocaleController.getString("SaveToGallery", R.string.SaveToGallery)).setColors(0xfffafafa, 0xfffafafa);
         menuItem.redrawPopup(0xf9222222);
@@ -10507,6 +10529,9 @@ public void run() {
     private final static int gallery_menu_save = 1;
     private final static int gallery_menu_share = 2;
     private final static int gallery_menu_openin = 3;
+    private final static int gallery_menu_save_to_gif = 4;
+    private final static int gallery_menu_save_to_downloads = 5;
+
 
     private static DecelerateInterpolator decelerateInterpolator;
     private static Paint progressPaint;
@@ -11142,8 +11167,10 @@ public void onClick(View widget) {
             }
             setCurrentCaption(captionToSet, setAsIs);
             if (currentAnimation != null) {
-                menuItem.setVisibility(View.GONE);
+                menuItem.setVisibility(View.VISIBLE);
                 menuItem.hideSubItem(gallery_menu_save);
+                menuItem.showSubItem(gallery_menu_save_to_gif);
+                menuItem.showSubItem(gallery_menu_save_to_downloads);
                 actionBar.setTitle(LocaleController.getString("AttachGif", R.string.AttachGif));
             } else {
                 menuItem.setVisibility(View.VISIBLE);
@@ -11156,6 +11183,8 @@ public void onClick(View widget) {
                 } else {
                     actionBar.setTitle(LocaleController.formatString("Of", R.string.Of, currentIndex + 1, imagesArr.size()));
                 }
+                menuItem.hideSubItem(gallery_menu_save_to_gif);
+                menuItem.hideSubItem(gallery_menu_save_to_downloads);
                 menuItem.showSubItem(gallery_menu_save);
             }
             groupedPhotosListView.fillList();
