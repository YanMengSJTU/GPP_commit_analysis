diff --git a/TMessagesProj/src/main/java/io/bettergram/adapters/CryptoAdapter.java b/TMessagesProj/src/main/java/io/bettergram/adapters/CryptoAdapter.java
index 8c90a7a39..7891570bd 100644
--- a/TMessagesProj/src/main/java/io/bettergram/adapters/CryptoAdapter.java
+++ b/TMessagesProj/src/main/java/io/bettergram/adapters/CryptoAdapter.java
@@ -455,11 +455,11 @@ public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int positi
         } else if (holder instanceof HeaderViewHolder) {
             HeaderViewHolder header = (HeaderViewHolder) holder;
             holder.itemView.setVisibility(searchMode ? View.GONE : View.VISIBLE);
-            double cap = cryptoData.cap;
+            double cap = cryptoData != null ? cryptoData.cap : 0.0f;
             header.textCap.setText(formatHeaderValue(context, "MARKET CAP($)", Number.truncateNumber(cap)));
-            double dom = cryptoData.btcDominance;
+            double dom = cryptoData != null ? cryptoData.btcDominance : 0.0f;
             header.textDom.setText(formatHeaderValue(context, "BTC DOM.", String.format("%.2f%%", (dom * 100))));
-            double vol = cryptoData.volume;
+            double vol = cryptoData != null ? cryptoData.volume : 0.0f;
             header.textVol.setText(formatHeaderValue(context, "24H VOL($)", Number.truncateNumber(vol)));
         } else if (holder instanceof MainViewHolder) {
 
diff --git a/TMessagesProj/src/main/java/io/bettergram/service/CryptoCurrencyDataService.java b/TMessagesProj/src/main/java/io/bettergram/service/CryptoCurrencyDataService.java
index 8424699ba..25defb088 100644
--- a/TMessagesProj/src/main/java/io/bettergram/service/CryptoCurrencyDataService.java
+++ b/TMessagesProj/src/main/java/io/bettergram/service/CryptoCurrencyDataService.java
@@ -53,9 +53,9 @@
     public static final String RESULT = "result";
     public static final String NOTIFICATION = "io.bettergram.service.CryptoCurrencyDataService";
 
-    public static final String CURRENCY_URL = "https://alpha-api.livecoinwatch.com/currencies?type=coin";
-    public static final String CURRENCY_COINS_URL = "https://alpha-api.livecoinwatch.com/bettergram/coins";
-    public static final String CURRENCY_STATS_URL = "https://alpha-api.livecoinwatch.com/stats";
+    public static final String CURRENCY_URL = "https://http-api.livecoinwatch.com/currencies?type=coin";
+    public static final String CURRENCY_COINS_URL = "https://http-api.livecoinwatch.com/bettergram/coins";
+    public static final String CURRENCY_STATS_URL = "https://http-api.livecoinwatch.com/stats";
 
     private static final OkHttpClient client = okhttp_client();
     public static final int notify = 60000;
diff --git a/TMessagesProj/src/main/java/io/bettergram/service/NewsDataService.java b/TMessagesProj/src/main/java/io/bettergram/service/NewsDataService.java
index 324369748..0213de6d7 100644
--- a/TMessagesProj/src/main/java/io/bettergram/service/NewsDataService.java
+++ b/TMessagesProj/src/main/java/io/bettergram/service/NewsDataService.java
@@ -179,7 +179,7 @@ protected void onHandleIntent(Intent intent) {
                         NotificationCenter.getGlobalInstance().postNotificationName(NotificationCenter.updateToLatestApiVersion);
                     }
                 }
-            } catch (IOException e) {
+            } catch (IOException | IllegalStateException e) {
                 e.printStackTrace();
             }
 
diff --git a/TMessagesProj/src/main/java/io/bettergram/service/api/CurrencyApi.java b/TMessagesProj/src/main/java/io/bettergram/service/api/CurrencyApi.java
index 48226c60c..3add3b097 100644
--- a/TMessagesProj/src/main/java/io/bettergram/service/api/CurrencyApi.java
+++ b/TMessagesProj/src/main/java/io/bettergram/service/api/CurrencyApi.java
@@ -22,8 +22,8 @@
 import static io.bettergram.telegram.messenger.ApplicationLoader.okhttp_client;
 
 public final class CurrencyApi {
-    private static final String CURRENCY_SEARCH_URL = "https://alpha-api.livecoinwatch.com/currencies?search=";
-    private static final String CURRENCY_COINS_URL = "https://alpha-api.livecoinwatch.com/coins";
+    private static final String CURRENCY_SEARCH_URL = "https://http-api.livecoinwatch.com/currencies?search=";
+    private static final String CURRENCY_COINS_URL = "https://http-api.livecoinwatch.com/coins";
     private static final ExecutorService THREAD_POOL = Executors.newCachedThreadPool();
     private static SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences(CRYPTO_PREF, Context.MODE_PRIVATE);
 
diff --git a/TMessagesProj/src/main/java/io/bettergram/telegram/ui/Components/BottomBar/BottomNavigationBar.java b/TMessagesProj/src/main/java/io/bettergram/telegram/ui/Components/BottomBar/BottomNavigationBar.java
index 905aaf68b..32174422f 100644
--- a/TMessagesProj/src/main/java/io/bettergram/telegram/ui/Components/BottomBar/BottomNavigationBar.java
+++ b/TMessagesProj/src/main/java/io/bettergram/telegram/ui/Components/BottomBar/BottomNavigationBar.java
@@ -36,6 +36,7 @@
 import io.bettergram.utils.Counter;
 
 import static android.text.TextUtils.isEmpty;
+import static io.bettergram.telegram.messenger.AndroidUtilities.runOnUIThread;
 
 public class BottomNavigationBar extends LinearLayout implements NotificationCenter.NotificationCenterDelegate {
 
@@ -309,26 +310,37 @@ public void didReceivedNotification(int id, int account, Object... args) {
             int count = (int) args[0];
             String tag = (String) args[1];
             if (!isEmpty(tag)) {
-                if (!preferences.getBoolean(tag + "_counter_opened", false)) {
-                    if (tag.equals("news")) {
-                        if (count > 0 && selectedPosition != 2) {
-                            getTabAt(2).icon.countString(String.format("%s", Counter.format(count))).update();
+                Thread thread = new Thread(() -> {
+                    do {
+                        if (!preferences.getBoolean(tag + "_counter_opened", false)) {
+                            if (tag.equals("news") && count > 0 && selectedPosition != 2 && tabs.size() > 2) {
+                                runOnUIThread(() -> {
+                                    getTabAt(2).icon.countString(String.format("%s", Counter.format(count))).update();
+                                });
+                            } else if (tag.equals("video") && selectedPosition != 3 && count > 0 && tabs.size() > 3) {
+                                runOnUIThread(() -> {
+                                    getTabAt(3).icon.countString(String.format("%s", Counter.format(count))).update();
+                                });
+                            }
+                        } else {
+                            if (tag.equals("news") && tabs.size() > 2) {
+                                runOnUIThread(() -> {
+                                    getTabAt(2).icon.countString(Strings.EMPTY).update();
+                                });
+                            } else if (tag.equals("video") && tabs.size() > 3) {
+                                runOnUIThread(() -> {
+                                    getTabAt(3).icon.countString(Strings.EMPTY).update();
+                                });
+                            }
+                            preferences.edit().putBoolean(tag + "_counter_opened", false).apply();
                         }
-                    } else if (tag.equals("video") && selectedPosition != 3) {
-                        if (count > 0) {
-                            getTabAt(3).icon.countString(String.format("%s", Counter.format(count))).update();
-                        }
-                    }
-                } else {
-                    if (tag.equals("news")) {
-                        getTabAt(2).icon.countString(Strings.EMPTY).update();
-                    } else if (tag.equals("video")) {
-                        getTabAt(3).icon.countString(Strings.EMPTY).update();
-                    }
-                    preferences.edit().putBoolean(tag + "_counter_opened", false).apply();
-                }
+                    } while (tabs.size() == 0);
+                });
+                thread.start();
             }
-        } else if (id == NotificationCenter.openBottombarCounter) {
+        } else if (id == NotificationCenter.openBottombarCounter)
+
+        {
             String tag = (String) args[0];
             if (!isEmpty(tag)) {
                 preferences.edit().putBoolean(tag + "_counter_opened", true).apply();
diff --git a/TMessagesProj/src/main/java/io/bettergram/telegram/ui/DialogsActivity.java b/TMessagesProj/src/main/java/io/bettergram/telegram/ui/DialogsActivity.java
index 165d7e99a..71356a998 100644
--- a/TMessagesProj/src/main/java/io/bettergram/telegram/ui/DialogsActivity.java
+++ b/TMessagesProj/src/main/java/io/bettergram/telegram/ui/DialogsActivity.java
@@ -676,7 +676,7 @@ public void smoothScrollToPosition(RecyclerView recyclerView, RecyclerView.State
                     int firstVisibleItem = layoutManager.findFirstVisibleItemPosition();
                     //change data set
                     if (dialogsAdapter != null) {
-                        dialogsAdapter.setDialogsType(type);
+                        listView.postAndNotifyAdapter(() -> dialogsAdapter.setDialogsType(type));
                     }
                     if (scroll) {
                         //scroll to top
diff --git a/build.gradle b/build.gradle
index b19dc3656..06d422471 100644
--- a/build.gradle
+++ b/build.gradle
@@ -11,7 +11,7 @@ buildscript {
         supportVersion = '28.0.0'
         igjsonVersion = 'master-SNAPSHOT'
         googleServicesVersion = '4.0.2'
-        okhttpVersion = '3.11.0'
+        okhttpVersion = '3.12.0'
         fabricVersion = '1.26.1'
     }
     repositories {
