diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index d762e267e..8e1e56cc6 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -5,10 +5,14 @@ repositories {
 }
 
 dependencies {
-    compile 'com.android.support:support-v4:23.1.+'
-    compile 'com.google.android.gms:play-services:3.2.+'
+    compile 'com.android.support:support-v4:23.1.1'
+    compile 'com.google.android.gms:play-services:8.4.0'
     compile 'net.hockeyapp.android:HockeySDK:3.6.+'
     compile 'com.googlecode.mp4parser:isoparser:1.0.+'
+    compile 'com.google.android.gms:play-services-ads:8.4.0'
+    compile 'com.google.android.gms:play-services-identity:8.4.0'
+    compile 'com.google.android.gms:play-services-gcm:8.4.0'
+    compile 'com.android.support:multidex:1.0.0'
 }
 
 android {
@@ -17,6 +21,10 @@ android {
 
     useLibrary 'org.apache.http.legacy'
 
+    dexOptions {
+        javaMaxHeapSize "4g"
+    }
+
     compileOptions {
         sourceCompatibility JavaVersion.VERSION_1_7
         targetCompatibility JavaVersion.VERSION_1_7
@@ -77,9 +85,12 @@ android {
     }
 
     defaultConfig {
-        minSdkVersion 8
+        minSdkVersion 9
         targetSdkVersion 23
         versionCode 695
         versionName "3.3.2"
+
+        // Enabling multidex support.
+        multiDexEnabled true
     }
 }
