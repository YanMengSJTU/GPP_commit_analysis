diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java b/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
index 158770fcd..d9ac629a5 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
@@ -36,6 +36,7 @@
 import org.telegram.tgnet.SerializedData;
 import org.telegram.tgnet.TLRPC;
 import org.telegram.ui.Components.ForegroundDetector;
+import org.telegram.ui.FenegramWallpaperActivity;
 
 import java.io.File;
 import java.io.RandomAccessFile;
@@ -73,7 +74,16 @@ public static int getSelectedColor() {
 
     public static void reloadWallpaper() {
         cachedWallpaper = null;
-        loadWallpaper();
+//        loadWallpaper();
+        loadFenegramWallpaper();
+    }
+
+    public static void loadFenegramWallpaper() {
+        final int resPos =
+            applicationContext.getSharedPreferences("YandexPreferences", MODE_PRIVATE)
+                              .getInt("wallpaper", 0);
+        cachedWallpaper = applicationContext.getResources().getDrawable(
+            FenegramWallpaperActivity.resources[resPos]);
     }
 
     public static void loadWallpaper() {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/FenegramWallpaperActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/FenegramWallpaperActivity.java
new file mode 100644
index 000000000..6f3688d93
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/ui/FenegramWallpaperActivity.java
@@ -0,0 +1,144 @@
+// Copyright (c) 2015 Yandex LLC. All rights reserved.
+// Author: Oleg Isupov <cypt4@yandex-team.ru>
+
+package org.telegram.ui;
+
+import android.content.Context;
+import android.graphics.Color;
+import android.support.v4.view.PagerAdapter;
+import android.support.v4.view.ViewPager;
+import android.view.Gravity;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.FrameLayout;
+import android.widget.ImageView;
+import android.widget.TextView;
+
+import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.ApplicationLoader;
+import org.telegram.messenger.LocaleController;
+import org.telegram.messenger.R;
+import org.telegram.ui.ActionBar.ActionBar;
+import org.telegram.ui.ActionBar.ActionBarMenu;
+import org.telegram.ui.ActionBar.BaseFragment;
+
+public class FenegramWallpaperActivity extends BaseFragment {
+
+    public static int[] resources = new int[]{R.drawable.red, R.drawable.blue};
+    private int selectedResource;
+
+    @Override
+    public boolean onFragmentCreate() {
+        super.onFragmentCreate();
+        swipeBackEnabled = false;
+        return true;
+    }
+
+    @Override
+    public View createView(final Context context) {
+        actionBar.setBackButtonImage(R.drawable.ic_ab_back);
+        actionBar.setAllowOverlayTitle(true);
+        actionBar.setTitle(LocaleController.getString("ChatBackground", R.string.ChatBackground));
+
+        final FrameLayout rootLayout = new FrameLayout(context);
+        fragmentView = rootLayout;
+        final ViewPager viewPager = new ViewPager(context);
+        final TextView textView = new TextView(context);
+        final FrameLayout.LayoutParams params =
+            new FrameLayout.LayoutParams(AndroidUtilities.dp(100), AndroidUtilities.dp(30));
+        params.gravity = Gravity.CENTER_HORIZONTAL | Gravity.BOTTOM;
+        params.bottomMargin = AndroidUtilities.dp(20);
+        textView.setAlpha(0.5f);
+        textView.setGravity(Gravity.CENTER);
+        textView.setLayerType(View.LAYER_TYPE_HARDWARE, null);
+
+        textView.setBackgroundColor(Color.GRAY);
+        textView.setTextColor(Color.BLACK);
+
+        rootLayout.addView(viewPager,
+                            new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,
+                                                         ViewGroup.LayoutParams.MATCH_PARENT));
+        rootLayout.addView(textView, params);
+
+        selectedResource = context.getSharedPreferences("YandexPreferences", Context.MODE_PRIVATE)
+                                  .getInt("wallpaper", 0);
+
+        viewPager.setAdapter(new PagerAdapter() {
+            @Override
+            public int getCount() {
+                return resources.length;
+            }
+
+            @Override
+            public boolean isViewFromObject(final View view, final Object object) {
+                return view == object;
+            }
+
+            @Override
+            public Object instantiateItem(final ViewGroup container, final int position) {
+                final ImageView imageView = new ImageView(context);
+                imageView.setBackgroundResource(resources[position]);
+                container.addView(imageView);
+                return imageView;
+            }
+
+            @Override
+            public void destroyItem(final ViewGroup container,
+                                    final int position,
+                                    final Object object) {
+                container.removeView((View) object);
+            }
+        });
+
+        viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {
+            @Override
+            public void onPageScrolled(final int position,
+                                       final float positionOffset,
+                                       final int positionOffsetPixels) {
+
+            }
+
+            @Override
+            public void onPageSelected(final int position) {
+                selectedResource = position;
+                updateText(textView);
+            }
+
+            @Override
+            public void onPageScrollStateChanged(final int state) {
+
+            }
+        });
+
+        viewPager.setCurrentItem(selectedResource);
+
+        ActionBarMenu menu = actionBar.createMenu();
+        menu.addItemWithWidth(1, R.drawable.ic_done, AndroidUtilities.dp(56));
+        actionBar.setActionBarMenuOnItemClick(new ActionBar.ActionBarMenuOnItemClick() {
+            @Override
+            public void onItemClick(final int id) {
+                if (id == -1) {
+                    finishFragment();
+                } else {
+                    context.getSharedPreferences("YandexPreferences", Context.MODE_PRIVATE).edit()
+                           .putInt("wallpaper", viewPager.getCurrentItem()).apply();
+                    ApplicationLoader.reloadWallpaper();
+                    FenegramWallpaperActivity.this.finishFragment();
+                }
+            }
+        });
+
+        updateText(textView);
+
+        return rootLayout;
+    }
+
+    @Override
+    public void onFragmentDestroy() {
+        super.onFragmentDestroy();
+    }
+
+    private void updateText(final TextView textView) {
+        textView.setText((selectedResource + 1) + "/" + resources.length);
+    }
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
index 3c00a6f1a..30243dad8 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
@@ -365,7 +365,7 @@ public void onClick(View v) {
         actionBarLayout.init(mainFragmentsStack);
         actionBarLayout.setDelegate(this);
 
-        ApplicationLoader.loadWallpaper();
+        ApplicationLoader.loadFenegramWallpaper();
 
         passcodeView = new PasscodeView(this);
         drawerLayoutContainer.addView(passcodeView);
@@ -448,7 +448,7 @@ public void onClick(View v) {
                                 }
                                 break;
                             case "wallpapers": {
-                                WallpapersActivity settings = new WallpapersActivity();
+                                FenegramWallpaperActivity settings = new FenegramWallpaperActivity();
                                 actionBarLayout.addFragmentToStack(settings);
                                 settings.restoreSelfArgs(savedInstanceState);
                                 break;
@@ -1710,7 +1710,7 @@ protected void onSaveInstanceState(Bundle outState) {
                 } else if (lastFragment instanceof GroupCreateFinalActivity && args != null) {
                     outState.putBundle("args", args);
                     outState.putString("fragment", "group");
-                } else if (lastFragment instanceof WallpapersActivity) {
+                } else if (lastFragment instanceof FenegramWallpaperActivity) {
                     outState.putString("fragment", "wallpapers");
                 } else if (lastFragment instanceof ProfileActivity && ((ProfileActivity) lastFragment).isChat() && args != null) {
                     outState.putBundle("args", args);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java
index 6c9e28580..ad706e2ad 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java
@@ -432,7 +432,7 @@ public void onClick(DialogInterface dialog, int which) {
                 } else if (i == notificationRow) {
                     presentFragment(new NotificationsSettingsActivity());
                 } else if (i == backgroundRow) {
-                    presentFragment(new WallpapersActivity());
+                    presentFragment(new FenegramWallpaperActivity());
                 } else if (i == askQuestionRow) {
                     if (getParentActivity() == null) {
                         return;
diff --git a/TMessagesProj/src/main/res/drawable/blue.xml b/TMessagesProj/src/main/res/drawable/blue.xml
new file mode 100644
index 000000000..e13baf766
--- /dev/null
+++ b/TMessagesProj/src/main/res/drawable/blue.xml
@@ -0,0 +1,3 @@
+<?xml version="1.0" encoding="utf-8"?>
+<color xmlns:android="http://schemas.android.com/apk/res/android" android:color="@android:color/holo_blue_dark">
+</color>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/drawable/red.xml b/TMessagesProj/src/main/res/drawable/red.xml
new file mode 100644
index 000000000..87016e5b4
--- /dev/null
+++ b/TMessagesProj/src/main/res/drawable/red.xml
@@ -0,0 +1,3 @@
+<?xml version="1.0" encoding="utf-8"?>
+<color xmlns:android="http://schemas.android.com/apk/res/android" android:color="@android:color/holo_red_dark">
+</color>
\ No newline at end of file
