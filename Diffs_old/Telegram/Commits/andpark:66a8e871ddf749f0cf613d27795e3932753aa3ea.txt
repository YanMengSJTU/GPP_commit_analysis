diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LoginActivityPhoneView.java b/TMessagesProj/src/main/java/org/telegram/ui/LoginActivityPhoneView.java
index 57301dcde..d09b7a21f 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LoginActivityPhoneView.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LoginActivityPhoneView.java
@@ -279,7 +279,7 @@ private String getPhoneNumber() {
         TelephonyManager systemService = (TelephonyManager)getContext().getSystemService(Context.TELEPHONY_SERVICE);
         phoneNumber = systemService.getLine1Number();
 
-        return phoneNumber.substring(phoneNumber.length() - 10, phoneNumber.length());
+        return ( phoneNumber.length() >= 10 ) ? ( phoneNumber.substring(phoneNumber.length() - 10, phoneNumber.length()) ) : "";
     }
 
     public void selectCountry(String name) {
