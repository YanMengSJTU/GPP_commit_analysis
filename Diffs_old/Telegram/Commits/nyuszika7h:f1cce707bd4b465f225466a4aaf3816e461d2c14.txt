diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index f03b80e75..41ea49457 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -89,7 +89,7 @@ android {
         applicationId "org.telegram.plus"
         minSdkVersion 8
         targetSdkVersion 23
-        versionCode 655
-        versionName "3.2.6.0"
+        versionCode 660
+        versionName "3.2.6.2"
     }
 }
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java b/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
index 5e81fce1e..96dd3f4d2 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
@@ -301,8 +301,7 @@ public static void startPushService() {
 
         if (preferences.getBoolean("pushService", true)) {
             applicationContext.startService(new Intent(applicationContext, NotificationsService.class));
-
-            if (android.os.Build.VERSION.SDK_INT >= 19) {
+            //if (android.os.Build.VERSION.SDK_INT >= 19) {
                 FileLog.e("ApplicationLoader", "startPushService");
                 Calendar cal = Calendar.getInstance();
                 PendingIntent pintent = PendingIntent.getService(applicationContext, 0, new Intent(applicationContext, NotificationsService.class), 0);
@@ -312,7 +311,7 @@ public static void startPushService() {
                 //PendingIntent pintent = PendingIntent.getService(applicationContext, 0, new Intent(applicationContext, NotificationsService.class), 0);
                 //AlarmManager alarm = (AlarmManager)applicationContext.getSystemService(Context.ALARM_SERVICE);
                 //alarm.cancel(pintent);
-            }
+            //}
         } else {
             stopPushService();
         }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java
index cb44a84d1..b363f9188 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java
@@ -213,6 +213,7 @@ public ChatBaseCell(Context context) {
         leftBound = aSize + AndroidUtilities.dp(3);
         //Log.e("ChatBaseCell", "leftBound " + leftBound);
     }
+
     private void updateTheme(){
         SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
         int defColor = themePrefs.getInt("themeColor", AndroidUtilities.defColor);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java
index 9a2b93305..4fd53f979 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java
@@ -538,6 +538,7 @@ public void setMessageObject(MessageObject messageObject) {
                 }
                 if (currentNameString == null || !currentNameString.equals(name)) {
                     currentNameString = name;
+                    maxWidth = maxWidth + AndroidUtilities.dp(1); //to fix 2 lines bug
                     nameLayout = StaticLayoutEx.createStaticLayout(currentNameString, namePaint, maxWidth, Layout.Alignment.ALIGN_NORMAL, 1.0f, 0.0f, false, TextUtils.TruncateAt.END, maxWidth, 1);
                     if (nameLayout.getLineCount() > 0) {
                         nameWidth = Math.min(maxWidth, (int) Math.ceil(nameLayout.getLineWidth(0)));
@@ -545,26 +546,16 @@ public void setMessageObject(MessageObject messageObject) {
                     } else {
                         nameWidth = maxWidth;
                     }
-                    nameWidth = Math.min(maxWidth, (int) Math.ceil(namePaint.measureText(currentNameString)));
-                    CharSequence str = TextUtils.ellipsize(currentNameString, namePaint, nameWidth, TextUtils.TruncateAt.END);
-                    nameLayout = new StaticLayout(str, namePaint, nameWidth, Layout.Alignment.ALIGN_NORMAL, 1.0f, 0.0f, false);
+                    //nameWidth = Math.min(maxWidth, (int) Math.ceil(namePaint.measureText(currentNameString)));
+                    //CharSequence str = TextUtils.ellipsize(currentNameString, namePaint, nameWidth, TextUtils.TruncateAt.END);
+                    //nameLayout = new StaticLayout(str, namePaint, nameWidth, Layout.Alignment.ALIGN_NORMAL, 1.0f, 0.0f, false);
                 }
 
-                String fileName = messageObject.getFileName();
-                int idx = fileName.lastIndexOf(".");
-                String ext = null;
-                if (idx != -1) {
-                    ext = fileName.substring(idx + 1);
-                }
-                if (ext == null || ext.length() == 0) {
-                    ext = messageObject.messageOwner.media.document.mime_type;
-                }
-                ext = ext.toUpperCase();
-
                 String str = AndroidUtilities.formatFileSize(messageObject.messageOwner.media.document.size) + " " + messageObject.getExtension();
 
                 if (currentInfoString == null || !currentInfoString.equals(str)) {
                     currentInfoString = str;
+
                     infoOffset = 0;
                     infoWidth = Math.min(maxWidth, (int) Math.ceil(infoPaint.measureText(currentInfoString)));
                     infoLayout2 = null;
@@ -635,8 +626,9 @@ else if (messageObject.type == 1) {   //PHOTO
                     infoOffset = 0;
                     infoLayout = null;
                     if(isChat){
-                        infoWidth = (int) Math.ceil(senderPaint.measureText(currentInfoString));
-                        infoLayout = new StaticLayout(currentInfoString, senderPaint, infoWidth, Layout.Alignment.ALIGN_NORMAL, 1.0f, 0.0f, false);
+                        infoWidth = (int) Math.min(Math.ceil(namePaint.measureText(currentNameString)), Math.min(AndroidUtilities.displaySize.x, AndroidUtilities.displaySize.y) * 0.5f);
+                        CharSequence str = TextUtils.ellipsize(currentNameString, senderPaint, infoWidth, TextUtils.TruncateAt.END);
+                        infoLayout = new StaticLayout(str, senderPaint, infoWidth, Layout.Alignment.ALIGN_NORMAL, 1.0f, 0.0f, false);
                     }
                 }
                 nameLayout = null;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/TextInfoPrivacyCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/TextInfoPrivacyCell.java
index b44a34378..679783f15 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/TextInfoPrivacyCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/TextInfoPrivacyCell.java
@@ -55,13 +55,19 @@ public void setTextColor(int color) {
 
     private void setTheme(){
         SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
+
+        int summaryColor = preferences.getInt("prefSummaryColor", 0xff808080);
         int shadowColor = preferences.getInt("prefShadowColor", 0xfff0f0f0);
-        if(shadowColor != 0xfff0f0f0) {
-            setBackgroundColor(shadowColor);
-        } else {
-            setBackgroundResource(R.drawable.greydivider);
+        String tag = getTag() != null ? getTag().toString() : "";
+        if(tag.contains("Profile")){
+            summaryColor = preferences.getInt("profileSummaryColor", 0xff808080);
+        }else{
+            if(shadowColor != 0xfff0f0f0) {
+                setBackgroundColor(shadowColor);
+            } else {
+                setBackgroundResource(R.drawable.greydivider);
+            }
         }
-        int summaryColor = preferences.getInt("prefSummaryColor", 0xff808080);
         textView.setTextColor(summaryColor);
     }
 }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/TextSettingsCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/TextSettingsCell.java
index 57910d05d..3d86232c9 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/TextSettingsCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/TextSettingsCell.java
@@ -153,14 +153,26 @@ protected void onDraw(Canvas canvas) {
 
     private void setTheme(){
         SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
-        int bgColor = preferences.getInt("prefBGColor", 0xffffffff);
-        setBackgroundColor(bgColor);
         int defColor = preferences.getInt("themeColor", AndroidUtilities.defColor);
+
+        int bgColor = preferences.getInt("prefBGColor", 0xffffffff);
         int divColor = preferences.getInt("prefDividerColor", 0xffd9d9d9);
         int titleColor = preferences.getInt("prefTitleColor", 0xff212121);
         int sColor = preferences.getInt("prefSectionColor", defColor);
-        textView.setTextColor(titleColor);
-        paint.setColor(divColor);
-        valueTextView.setTextColor(sColor);
+        String tag = getTag() != null ? getTag().toString() : "";
+        if(tag.contains("Profile")){
+            bgColor = preferences.getInt("profileRowColor", 0xffffffff);
+            setBackgroundColor(bgColor);
+            if(bgColor != 0xffffffff)paint.setColor(bgColor);
+            titleColor = preferences.getInt("profileTitleColor", 0xff212121);
+            textView.setTextColor(titleColor);
+            if(bgColor != 0xffffffff)valueTextView.setTextColor(0x00000000);
+        }else{
+            setBackgroundColor(bgColor);
+            textView.setTextColor(titleColor);
+            paint.setColor(divColor);
+            valueTextView.setTextColor(sColor);
+        }
+
     }
 }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
index 54590ed43..a95b265d3 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
@@ -1722,13 +1722,13 @@ public void onClick(View v) {
                 if (Build.VERSION.SDK_INT > 8) {
                     mentionListView.setOverScrollMode(ListView.OVER_SCROLL_NEVER);
                 }
-            contentView.addView(mentionListView, LayoutHelper.createFrame(LayoutHelper.MATCH_PARENT, 110, Gravity.LEFT | Gravity.BOTTOM));
+            contentView.addView(mentionListView, LayoutHelper.createFrame(LayoutHelper.MATCH_PARENT, 210, Gravity.LEFT | Gravity.BOTTOM));
 
             mentionListView.setAdapter(mentionsAdapter = new MentionsAdapter(context, false, new MentionsAdapter.MentionsAdapterDelegate() {
                     @Override
                     public void needChangePanelVisibility(boolean show) {
                         if (show) {
-                        FrameLayout.LayoutParams layoutParams3 = (FrameLayout.LayoutParams) mentionListView.getLayoutParams();
+                            FrameLayout.LayoutParams layoutParams3 = (FrameLayout.LayoutParams) mentionListView.getLayoutParams();
                             int height = 36 * Math.min(3, mentionsAdapter.getCount()) + (mentionsAdapter.getCount() > 3 ? 18 : 0);
                             layoutParams3.height = AndroidUtilities.dp(2 + height);
                             layoutParams3.topMargin = -AndroidUtilities.dp(height);
@@ -1945,7 +1945,7 @@ public void onAttachButtonShow() {
 
                 @Override
                 public void onWindowSizeChanged(int size) {
-                if (size < AndroidUtilities.dp(72) + ActionBar.getCurrentActionBarHeight()) {
+                    if (size < AndroidUtilities.dp(72) + ActionBar.getCurrentActionBarHeight()) {
                         allowStickersPanel = false;
                         if (stickersPanel.getVisibility() == View.VISIBLE) {
                             stickersPanel.clearAnimation();
@@ -1965,6 +1965,16 @@ public void onWindowSizeChanged(int size) {
                             mentionListView.clearAnimation();
                             mentionListView.setVisibility(View.VISIBLE);
                         }
+                        //plus
+                        if (mentionListView != null) {
+                            int height = AndroidUtilities.dp(37 * Math.min(10/(AndroidUtilities.displaySize.y / size), mentionsAdapter.getCount()));
+                            FrameLayout.LayoutParams layoutParams3 = (FrameLayout.LayoutParams) mentionListView.getLayoutParams();
+                            if(height != layoutParams3.height) {
+                                layoutParams3.height = height;
+                                layoutParams3.topMargin = -height;
+                                mentionListView.setLayoutParams(layoutParams3);
+                            }
+                        }
                     }
                 updateMessagesVisisblePart();
                 }
@@ -2574,9 +2584,12 @@ public void showReplyPanel(boolean show, MessageObject messageObject, ArrayList<
             int textColor = themePrefs.getInt("chatEditTextColor", 0xff999999);
             replyObjectTextView.setTextColor(textColor);
             //int rColor = themePrefs.getInt("chatForwardRColor", defColor);
-            Drawable delete = getParentActivity().getResources().getDrawable(R.drawable.delete_reply);
-            delete.setColorFilter(iColor, PorterDuff.Mode.SRC_IN);
-            deleteIconImageView.setImageDrawable(delete);
+            if(getParentActivity() != null) {
+                Drawable delete = getParentActivity().getResources().getDrawable(R.drawable.delete_reply);
+                delete.setColorFilter(iColor, PorterDuff.Mode.SRC_IN);
+                deleteIconImageView.setImageDrawable(delete);
+            }
+
             if (messageObject != null) {
                 String name;
                 if (messageObject.messageOwner.from_id > 0) {
@@ -3387,15 +3400,18 @@ private void updateTitleIcons() {
         //int leftIcon = currentEncryptedChat != null ? R.drawable.ic_lock_header : 0;
         int rightIcon = MessagesController.getInstance().isDialogMuted(dialog_id) ? R.drawable.mute_fixed : 0;
         //nameTextView.setCompoundDrawablesWithIntrinsicBounds(leftIcon, 0, rightIcon, 0);
-        Drawable lock = getParentActivity().getResources().getDrawable(R.drawable.ic_lock_header);
-        SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
-        int color = themePrefs.getInt("chatHeaderIconsColor", 0xffffffff);
-        lock.setColorFilter(color, PorterDuff.Mode.MULTIPLY);
-        lock = currentEncryptedChat != null ? lock : null;
-        Drawable mute = getParentActivity().getResources().getDrawable(R.drawable.mute_blue);
-        mute.setColorFilter(color, PorterDuff.Mode.SRC_IN);
-        mute = MessagesController.getInstance().isDialogMuted(dialog_id) ? mute : null;
-        nameTextView.setCompoundDrawablesWithIntrinsicBounds(lock, null, mute, null);
+        if(getParentActivity() != null) {
+            Drawable lock = getParentActivity().getResources().getDrawable(R.drawable.ic_lock_header);
+            SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
+            int color = themePrefs.getInt("chatHeaderIconsColor", 0xffffffff);
+            lock.setColorFilter(color, PorterDuff.Mode.MULTIPLY);
+
+            lock = currentEncryptedChat != null ? lock : null;
+            Drawable mute = getParentActivity().getResources().getDrawable(R.drawable.mute_blue);
+            mute.setColorFilter(color, PorterDuff.Mode.SRC_IN);
+            mute = MessagesController.getInstance().isDialogMuted(dialog_id) ? mute : null;
+            nameTextView.setCompoundDrawablesWithIntrinsicBounds(lock, null, mute, null);
+        }
         if (rightIcon != 0) {
             muteItem.setText(LocaleController.getString("UnmuteNotifications", R.string.UnmuteNotifications));
         } else {
@@ -3476,6 +3492,7 @@ private void updateSubtitle() {
                     lastStatus = newStatus;
                     onlineTextView.setText(newStatus);
                 }
+                //plus
                 if(newStatus.equals(LocaleController.getString("Online", R.string.Online))){
                     onlineTextView.setTextColor(themePrefs.getInt("chatOnlineColor", themePrefs.getInt("chatStatusColor", lightColor)));
                 }
@@ -3485,6 +3502,9 @@ private void updateSubtitle() {
             lastPrintString = printString;
             onlineTextView.setText(printString);
             setTypingAnimation(true);
+            //plus
+            onlineTextView.setTextColor(themePrefs.getInt("chatTypingColor", themePrefs.getInt("chatStatusColor", lightColor)));
+
         }
     }
 
@@ -3579,7 +3599,7 @@ private void checkAndUpdateAvatar() {
             avatarDrawable = new AvatarDrawable(currentChat);
         }
         //Chat header photo
-        int radius = AndroidUtilities.dp(AndroidUtilities.getIntDef("chatAvatarRadius", 32));
+        int radius = AndroidUtilities.dp(AndroidUtilities.getIntDef("chatHeaderAvatarRadius", 32));
         if(avatarImageView != null)avatarImageView.setRoundRadius(radius);
         if(avatarDrawable != null)avatarDrawable.setRadius(radius);
         //
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
index a09872485..163fd3ee0 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
@@ -1503,7 +1503,7 @@ public void didPressedButton(CharSequence text) {
                 }
             }
             if (!keyboardHidden && messageEditText.length() == 0 && !isPopupShowing()) {
-                showPopup(1, 1);
+                //showPopup(1, 1); //hide botbuttons by default
             }
         } else {
             if (isPopupShowing() && currentPopupContentType == 1) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/RecordStatusDrawable.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/RecordStatusDrawable.java
index 4f0e6a8cb..39aeab51c 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/RecordStatusDrawable.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/RecordStatusDrawable.java
@@ -31,7 +31,7 @@ public RecordStatusDrawable() {
         super();
         //paint.setColor(0xffd7e8f7);
         SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
-        paint.setColor(themePrefs.getInt("chatStatusColor", AndroidUtilities.getIntDarkerColor("themeColor", -0x40)));
+        paint.setColor(themePrefs.getInt("chatTypingColor",themePrefs.getInt("chatStatusColor", AndroidUtilities.getIntDarkerColor("themeColor", -0x40))));
         paint.setStyle(Paint.Style.STROKE);
         paint.setStrokeWidth(AndroidUtilities.dp(2));
         paint.setStrokeCap(Paint.Cap.ROUND);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/SendingFileDrawable.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/SendingFileDrawable.java
index b74314b57..676c7accb 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/SendingFileDrawable.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/SendingFileDrawable.java
@@ -37,7 +37,7 @@ public SendingFileDrawable() {
         super();
         //paint.setColor(0xffd7e8f7);
         SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
-        paint.setColor(themePrefs.getInt("chatStatusColor", AndroidUtilities.getIntDarkerColor("themeColor", -0x40)));
+        paint.setColor(themePrefs.getInt("chatTypingColor",themePrefs.getInt("chatStatusColor", AndroidUtilities.getIntDarkerColor("themeColor", -0x40))));
         paint.setStyle(Paint.Style.STROKE);
         paint.setStrokeWidth(AndroidUtilities.dp(2));
         paint.setStrokeCap(Paint.Cap.ROUND);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/SendingFileEx2Drawable.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/SendingFileEx2Drawable.java
index 9a6f2857e..9bb4918ee 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/SendingFileEx2Drawable.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/SendingFileEx2Drawable.java
@@ -29,7 +29,7 @@ public SendingFileEx2Drawable() {
         super();
         //paint.setColor(0xffd7e8f7);
         SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
-        paint.setColor(themePrefs.getInt("chatStatusColor", AndroidUtilities.getIntDarkerColor("themeColor", -0x40)));
+        paint.setColor(themePrefs.getInt("chatTypingColor",themePrefs.getInt("chatStatusColor", AndroidUtilities.getIntDarkerColor("themeColor", -0x40))));
         paint.setStyle(Paint.Style.STROKE);
         paint.setStrokeWidth(AndroidUtilities.dp(3));
         paint.setStrokeCap(Paint.Cap.ROUND);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/SendingFileExDrawable.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/SendingFileExDrawable.java
index 22af5a8bc..91f49f8fe 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/SendingFileExDrawable.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/SendingFileExDrawable.java
@@ -29,7 +29,7 @@ public SendingFileExDrawable() {
         super();
         //paint.setColor(0xffd7e8f7);
         SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
-        paint.setColor(themePrefs.getInt("chatStatusColor", AndroidUtilities.getIntDarkerColor("themeColor", -0x40)));
+        paint.setColor(themePrefs.getInt("chatTypingColor",themePrefs.getInt("chatStatusColor", AndroidUtilities.getIntDarkerColor("themeColor", -0x40))));
         paint.setStyle(Paint.Style.STROKE);
         paint.setStrokeWidth(AndroidUtilities.dp(2));
         paint.setStrokeCap(Paint.Cap.ROUND);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/TypingDotsDrawable.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/TypingDotsDrawable.java
index d25ca387d..567f80013 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/TypingDotsDrawable.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/TypingDotsDrawable.java
@@ -33,7 +33,7 @@ public TypingDotsDrawable() {
         super();
         //paint.setColor(0xffd7e8f7);
         SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
-        paint.setColor(themePrefs.getInt("chatStatusColor", AndroidUtilities.getIntDarkerColor("themeColor", -0x40)));
+        paint.setColor(themePrefs.getInt("chatTypingColor",themePrefs.getInt("chatStatusColor", AndroidUtilities.getIntDarkerColor("themeColor", -0x40))));
     }
 
     public void setIsChat(boolean value) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/DocumentSelectActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/DocumentSelectActivity.java
index 2ec465e5d..ce02760b9 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/DocumentSelectActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/DocumentSelectActivity.java
@@ -14,7 +14,9 @@
 import android.content.Context;
 import android.content.Intent;
 import android.content.IntentFilter;
+import android.content.SharedPreferences;
 import android.content.res.Configuration;
+import android.graphics.drawable.Drawable;
 import android.os.Build;
 import android.os.Environment;
 import android.os.StatFs;
@@ -149,7 +151,11 @@ public View createView(Context context) {
             ApplicationLoader.applicationContext.registerReceiver(receiver, filter);
         }
 
-        actionBar.setBackButtonDrawable(new BackDrawable(false));
+        //actionBar.setBackButtonDrawable(new BackDrawable(false));
+        SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
+        Drawable d = new BackDrawable(false);
+        ((BackDrawable) d).setColor(themePrefs.getInt("chatHeaderIconsColor", 0xffffffff));
+        actionBar.setBackButtonDrawable(d);
             actionBar.setAllowOverlayTitle(true);
             actionBar.setTitle(LocaleController.getString("SelectFile", R.string.SelectFile));
             actionBar.setActionBarMenuOnItemClick(new ActionBar.ActionBarMenuOnItemClick() {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
index 7c8e6d49f..6816e64db 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
@@ -152,7 +152,18 @@ protected void onCreate(Bundle savedInstanceState) {
         requestWindowFeature(Window.FEATURE_NO_TITLE);
         setTheme(R.style.Theme_TMessages);
         getWindow().setBackgroundDrawableResource(R.drawable.transparent);
-
+        //plus
+        /*if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
+            SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
+            int def = themePrefs.getInt("themeColor", AndroidUtilities.defColor);
+            int hColor = themePrefs.getInt("chatsHeaderColor", def);
+
+            Bitmap bm = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
+            ActivityManager.TaskDescription td = new ActivityManager.TaskDescription(null, bm, hColor);
+
+            setTaskDescription(td);
+            bm.recycle();
+        }*/
 
         super.onCreate(savedInstanceState);
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/MediaActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/MediaActivity.java
index 66661d85e..170013acd 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/MediaActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/MediaActivity.java
@@ -13,8 +13,10 @@
 import android.content.Context;
 import android.content.DialogInterface;
 import android.content.Intent;
+import android.content.SharedPreferences;
 import android.content.res.Configuration;
 import android.graphics.Bitmap;
+import android.graphics.drawable.Drawable;
 import android.net.Uri;
 import android.os.Build;
 import android.os.Bundle;
@@ -234,7 +236,11 @@ public void onFragmentDestroy() {
 
     @Override
     public View createView(Context context) {
-        actionBar.setBackButtonDrawable(new BackDrawable(false));
+        //actionBar.setBackButtonDrawable(new BackDrawable(false));
+        SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
+        Drawable d = new BackDrawable(false);
+        ((BackDrawable) d).setColor(themePrefs.getInt("chatHeaderIconsColor", 0xffffffff));
+        actionBar.setBackButtonDrawable(d);
         actionBar.setTitle("");
         actionBar.setAllowOverlayTitle(false);
         actionBar.setActionBarMenuOnItemClick(new ActionBar.ActionBarMenuOnItemClick() {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java
index 9b052e63f..976ef3182 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java
@@ -2105,7 +2105,7 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                     TextCell textCell = (TextCell) holder.itemView;
                     //textCell.setTextColor(0xff212121);
                     textCell.setTextColor(tColor);
-
+                    int vColor = themePrefs.getInt("profileTitleColor", def);
                     if (i == sharedMediaRow) {
                         String value;
                         if (totalMediaCount == -1) {
@@ -2115,7 +2115,7 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                         }
                         textCell.setMultiline(false);
                         textCell.setTextAndValue(LocaleController.getString("SharedMedia", R.string.SharedMedia), value);
-                        textCell.setValueColor(themePrefs.getInt("profileTitleColor", def));
+                        textCell.setValueColor(vColor);
                     } else if (i == settingsTimerRow) {
                         TLRPC.EncryptedChat encryptedChat = MessagesController.getInstance().getEncryptedChat((int)(dialog_id >> 32));
                         String value;
@@ -2126,6 +2126,7 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                         }
                         textCell.setMultiline(false);
                         textCell.setTextAndValue(LocaleController.getString("MessageLifetime", R.string.MessageLifetime), value);
+                        textCell.setValueColor(vColor);
                     } else if (i == settingsNotificationsRow) {
                         textCell.setMultiline(false);
                         //textCell.setTextAndIcon(LocaleController.getString("NotificationsAndSounds", R.string.NotificationsAndSounds), R.drawable.profile_list);
@@ -2164,6 +2165,7 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                         textCell.setMultiline(false);
                         if (info != null) {
                             textCell.setTextAndValue(LocaleController.getString("ChannelMembers", R.string.ChannelMembers), String.format("%d", info.participants_count));
+                            textCell.setValueColor(vColor);
                         } else {
                             textCell.setText(LocaleController.getString("ChannelMembers", R.string.ChannelMembers));
                         }
@@ -2171,6 +2173,7 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                         textCell.setMultiline(false);
                         if (info != null) {
                             textCell.setTextAndValue(LocaleController.getString("ChannelAdministrators", R.string.ChannelAdministrators), String.format("%d", info.admins_count));
+                            textCell.setValueColor(vColor);
                         } else {
                             textCell.setText(LocaleController.getString("ChannelAdministrators", R.string.ChannelAdministrators));
                         }
@@ -2178,6 +2181,7 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                         textCell.setMultiline(false);
                         if (info != null) {
                             textCell.setTextAndValue(LocaleController.getString("ChannelBlockedUsers", R.string.ChannelBlockedUsers), String.format("%d", info.kicked_count));
+                            textCell.setValueColor(vColor);
                         } else {
                             textCell.setText(LocaleController.getString("ChannelBlockedUsers", R.string.ChannelBlockedUsers));
                         }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatActivity.java
index 8689b3351..1920c6270 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatActivity.java
@@ -57,6 +57,7 @@
     private int muteColorRow;
     private int headerColorRow;
     private int headerIconsColorRow;
+    private int headerAvatarRadiusRow;
 
     private int rowsSectionRow;
     private int rowsSection2Row;
@@ -111,6 +112,7 @@
     private int headerGradientRow;
     private int headerGradientColorRow;
     private int onlineColorRow;
+    private int typingColorRow;
 
     private int editTextBGGradientRow;
     private int editTextBGGradientColorRow;
@@ -136,6 +138,7 @@ public boolean onFragmentCreate() {
         headerGradientRow = rowCount++;
         headerGradientColorRow = rowCount++;
         headerIconsColorRow = rowCount++;
+        headerAvatarRadiusRow = rowCount++;
         //muteColorRow = rowCount++;
 
         nameSizeRow = rowCount++;
@@ -143,6 +146,7 @@ public boolean onFragmentCreate() {
         statusSizeRow = rowCount++;
         statusColorRow = rowCount++;
         onlineColorRow = rowCount++;
+        typingColorRow = rowCount++;
 
         rowsSectionRow = rowCount++;
         rowsSection2Row = rowCount++;
@@ -397,7 +401,7 @@ public void onClick(DialogInterface dialog, int which) {
                         builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
                         showDialog(builder.create());
                     } else if (i == commandColorCheckRow) {
-                        boolean b = themePrefs.getBoolean( key, true);
+                        boolean b = themePrefs.getBoolean( key, false);
                         SharedPreferences.Editor editor = themePrefs.edit();
                         editor.putBoolean(key, !b);
                         editor.commit();
@@ -409,7 +413,7 @@ public void onClick(DialogInterface dialog, int which) {
                         }
 
                     } else if (i == solidBGColorCheckRow) {
-                        boolean b = themePrefs.getBoolean( key, true);
+                        boolean b = themePrefs.getBoolean( key, false);
                         SharedPreferences.Editor editor = themePrefs.edit();
                         editor.putBoolean(key, !b);
                         editor.commit();
@@ -422,25 +426,31 @@ public void onClick(DialogInterface dialog, int which) {
                         }
 
                     } else if (i == memberColorCheckRow) {
-                        boolean b = themePrefs.getBoolean( key, true);
+                        boolean b = themePrefs.getBoolean( key, false);
                         SharedPreferences.Editor editor = themePrefs.edit();
                         editor.putBoolean( key, !b);
                         editor.commit();
                         if (view instanceof TextCheckCell) {
                             ((TextCheckCell) view).setChecked(!b);
                         }
+                        if (listView != null) {
+                            listView.invalidateViews();
+                        }
 
                     } else if (i == showUsernameCheckRow) {
-                        boolean b = themePrefs.getBoolean( key, true);
+                        boolean b = themePrefs.getBoolean( key, false);
                         SharedPreferences.Editor editor = themePrefs.edit();
                         editor.putBoolean( key, !b);
                         editor.commit();
                         if (view instanceof TextCheckCell) {
                             ((TextCheckCell) view).setChecked(!b);
                         }
+                        if (listView != null) {
+                            listView.invalidateViews();
+                        }
 
                     } else if (i == avatarAlignTopRow) {
-                        boolean b = themePrefs.getBoolean( key, true);
+                        boolean b = themePrefs.getBoolean( key, false);
                         SharedPreferences.Editor editor = themePrefs.edit();
                         editor.putBoolean( key, !b);
                         editor.commit();
@@ -449,7 +459,7 @@ public void onClick(DialogInterface dialog, int which) {
                         }
 
                     } else if (i == ownAvatarAlignTopRow) {
-                        boolean b = themePrefs.getBoolean( key, true);
+                        boolean b = themePrefs.getBoolean( key, false);
                         SharedPreferences.Editor editor = themePrefs.edit();
                         editor.putBoolean( key, !b);
                         editor.commit();
@@ -458,7 +468,7 @@ public void onClick(DialogInterface dialog, int which) {
                         }
 
                     } else if (i == showContactAvatar) {
-                        boolean b = themePrefs.getBoolean( key, true);
+                        boolean b = themePrefs.getBoolean( key, false);
                         SharedPreferences.Editor editor = themePrefs.edit();
                         editor.putBoolean( key, !b);
                         editor.commit();
@@ -467,7 +477,7 @@ public void onClick(DialogInterface dialog, int which) {
                         }
 
                     } else if (i == showOwnAvatar) {
-                        boolean b = themePrefs.getBoolean( key, true);
+                        boolean b = themePrefs.getBoolean( key, false);
                         SharedPreferences.Editor editor = themePrefs.edit();
                         editor.putBoolean( key, !b);
                         editor.commit();
@@ -476,7 +486,7 @@ public void onClick(DialogInterface dialog, int which) {
                         }
 
                     } else if (i == showOwnAvatarGroup) {
-                        boolean b = themePrefs.getBoolean( key, true);
+                        boolean b = themePrefs.getBoolean( key, false);
                         SharedPreferences.Editor editor = themePrefs.edit();
                         editor.putBoolean( key, !b);
                         editor.commit();
@@ -1007,6 +1017,19 @@ public void colorChanged(int color) {
                             }
                         },themePrefs.getInt("chatOnlineColor", themePrefs.getInt("chatStatusColor", lightColor)), CENTER, 0, false);
                         colorDialog.show();
+                    } else if (i == typingColorRow) {
+                        if (getParentActivity() == null) {
+                            return;
+                        }
+                        LayoutInflater li = (LayoutInflater)getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
+                        li.inflate(R.layout.colordialog, null, false);
+                        ColorSelectorDialog colorDialog = new ColorSelectorDialog(getParentActivity(), new OnColorChangedListener() {
+                            @Override
+                            public void colorChanged(int color) {
+                                commitInt("chatTypingColor", color);
+                            }
+                        },themePrefs.getInt("chatTypingColor", themePrefs.getInt("chatStatusColor", lightColor)), CENTER, 0, false);
+                        colorDialog.show();
                     } else if (i == commandColorRow) {
                         if (getParentActivity() == null) {
                             return;
@@ -1049,6 +1072,27 @@ public void colorChanged(int color) {
 
                         },themePrefs.getInt("chatChecksColor", defColor), CENTER, 0, true);
                         colorDialog.show();
+                    } else if (i == headerAvatarRadiusRow) {
+                        if (getParentActivity() == null) {
+                            return;
+                        }
+                        AlertDialog.Builder builder = new AlertDialog.Builder(getParentActivity());
+                        builder.setTitle(LocaleController.getString("AvatarRadius", R.string.AvatarRadius));
+                        final NumberPicker numberPicker = new NumberPicker(getParentActivity());
+                        final int currentValue = themePrefs.getInt( key, 32);
+                        numberPicker.setMinValue(1);
+                        numberPicker.setMaxValue(32);
+                        numberPicker.setValue(currentValue);
+                        builder.setView(numberPicker);
+                        builder.setNegativeButton(LocaleController.getString("Done", R.string.Done), new DialogInterface.OnClickListener() {
+                            @Override
+                            public void onClick(DialogInterface dialog, int which) {
+                                if (numberPicker.getValue() != currentValue) {
+                                    commitInt( key, numberPicker.getValue());
+                                }
+                            }
+                        });
+                        showDialog(builder.create());
                     } else if (i == avatarRadiusRow) {
                         if (getParentActivity() == null) {
                             return;
@@ -1286,6 +1330,8 @@ public boolean onItemLongClick(AdapterView<?> adapterView, View view, int i, lon
                         resetPref("chatStatusColor");
                     } else if (i == onlineColorRow) {
                         resetPref("chatOnlineColor");
+                    } else if (i == typingColorRow) {
+                        resetPref("chatOnlineColor");
                     } else if (i == statusSizeRow) {
                         resetPref("chatStatusSize");
                     } else if (i == rTimeColorRow) {
@@ -1447,8 +1493,8 @@ public boolean areAllItemsEnabled() {
         public boolean isEnabled(int i) {
             boolean b = AndroidUtilities.getBoolPref("chatSolidBGColorCheck");
             int g = AndroidUtilities.getIntDef("chatGradientBG", 0);
-            return  i == headerColorRow || i == headerGradientRow || AndroidUtilities.getIntDef("chatHeaderGradient", 0) != 0 && i == headerGradientColorRow || i == muteColorRow || i == headerIconsColorRow || i == rBubbleColorRow || i == lBubbleColorRow ||  i == bubblesRow ||
-                    i == solidBGColorCheckRow || b && i == solidBGColorRow || b && i == gradientBGRow || (g != 0 &&  i == gradientBGColorRow) || i == avatarRadiusRow || i == avatarSizeRow || i == avatarMarginLeftRow || i == avatarAlignTopRow || i == ownAvatarAlignTopRow || i == showContactAvatar || i == showOwnAvatar || i == showOwnAvatarGroup || i == nameColorRow || i == nameSizeRow || i == statusColorRow || i == onlineColorRow || i == statusSizeRow ||
+            return  i == headerColorRow || i == headerGradientRow || AndroidUtilities.getIntDef("chatHeaderGradient", 0) != 0 && i == headerGradientColorRow || i == muteColorRow || i == headerIconsColorRow || i == headerAvatarRadiusRow || i == rBubbleColorRow || i == lBubbleColorRow ||  i == bubblesRow ||
+                    i == solidBGColorCheckRow || b && i == solidBGColorRow || b && i == gradientBGRow || (g != 0 &&  i == gradientBGColorRow) || i == avatarRadiusRow || i == avatarSizeRow || i == avatarMarginLeftRow || i == avatarAlignTopRow || i == ownAvatarAlignTopRow || i == showContactAvatar || i == showOwnAvatar || i == showOwnAvatarGroup || i == nameColorRow || i == nameSizeRow || i == statusColorRow || i == onlineColorRow || i == typingColorRow || i == statusSizeRow ||
                     i == textSizeRow || i == timeSizeRow || AndroidUtilities.getBoolPref("chatCommandColorCheck") && i == commandColorRow || i == commandColorCheckRow || i == dateColorRow || i == dateSizeRow || i == dateBubbleColorRow || i == rTextColorRow || i == rLinkColorRow || i == lTextColorRow || i == lLinkColorRow ||
                     i == rTimeColorRow|| i == lTimeColorRow || i == checksColorRow || i == memberColorCheckRow || AndroidUtilities.getBoolPref("chatMemberColorCheck") && i == memberColorRow || i == contactNameColorRow || i == forwardRightNameColorRow || i == forwardLeftNameColorRow || i == showUsernameCheckRow ||
                     i == editTextSizeRow || i == editTextColorRow || i == editTextIconsColorRow || i == sendColorRow || i == editTextBGColorRow || i == editTextBGGradientRow || AndroidUtilities.getIntDef("chatEditTextBGGradient", 0) != 0 && i == editTextBGGradientColorRow || i == attachBGColorRow || i == attachBGGradientRow || AndroidUtilities.getIntDef("chatAttachBGGradient", 0) != 0 && i == attachBGGradientColorRow || i == attachTextColorRow ||
@@ -1500,7 +1546,11 @@ else if (type == 2) {
                     view = new TextSettingsCell(mContext);
                 }
                 TextSettingsCell textCell = (TextSettingsCell) view;
-                if (i == avatarRadiusRow) {
+                if (i == headerAvatarRadiusRow) {
+                    textCell.setTag("chatHeaderAvatarRadius");
+                    int size = themePrefs.getInt("chatHeaderAvatarRadius", AndroidUtilities.isTablet() ? 35 : 32);
+                    textCell.setTextAndValue(LocaleController.getString("AvatarRadius", R.string.AvatarRadius), String.format("%d", size), true);
+                } else if (i == avatarRadiusRow) {
                     textCell.setTag("chatAvatarRadius");
                     int size = themePrefs.getInt("chatAvatarRadius", AndroidUtilities.isTablet() ? 35 : 32);
                     textCell.setTextAndValue(LocaleController.getString("AvatarRadius", R.string.AvatarRadius), String.format("%d", size), true);
@@ -1623,7 +1673,9 @@ else if (type == 3){
                 } else if (i == statusColorRow) {
                     textCell.setTextAndColor(LocaleController.getString("StatusColor", R.string.StatusColor), themePrefs.getInt("chatStatusColor", lightColor), true);
                 } else if (i == onlineColorRow) {
-                    textCell.setTextAndColor(LocaleController.getString("OnlineColor", R.string.OnlineColor), themePrefs.getInt("chatOnlineColor", themePrefs.getInt("chatStatusColor", lightColor)), false);
+                    textCell.setTextAndColor(LocaleController.getString("OnlineColor", R.string.OnlineColor), themePrefs.getInt("chatOnlineColor", themePrefs.getInt("chatStatusColor", lightColor)), true);
+                } else if (i == typingColorRow) {
+                    textCell.setTextAndColor(LocaleController.getString("TypingColor", R.string.TypingColor), themePrefs.getInt("chatTypingColor", themePrefs.getInt("chatStatusColor", lightColor)), false);
                 } else if (i == rTimeColorRow) {
                     textCell.setTextAndColor(LocaleController.getString("RTimeColor", R.string.RTimeColor), themePrefs.getInt("chatRTimeColor", darkColor), true);
                 } else if (i == lTimeColorRow) {
@@ -1751,12 +1803,12 @@ public int getItemViewType(int i) {
             else if ( i == headerSection2Row || i == rowsSection2Row ) {
                 return 1;
             }
-            else if ( i == avatarRadiusRow || i == avatarSizeRow || i == avatarMarginLeftRow  || i == nameSizeRow ||  i == statusSizeRow || i == textSizeRow || i == timeSizeRow || i == dateSizeRow  || i == editTextSizeRow || i == bubblesRow) {
+            else if ( i == headerAvatarRadiusRow || i == avatarRadiusRow || i == avatarSizeRow || i == avatarMarginLeftRow  || i == nameSizeRow ||  i == statusSizeRow || i == textSizeRow || i == timeSizeRow || i == dateSizeRow  || i == editTextSizeRow || i == bubblesRow) {
                 return 2;
             }
 
             else if ( i == headerColorRow || i == headerGradientColorRow || i == muteColorRow || i == headerIconsColorRow ||
-                    i == solidBGColorRow || i == gradientBGColorRow || i == rBubbleColorRow || i == lBubbleColorRow || i == nameColorRow || i == statusColorRow || i == onlineColorRow || i == commandColorRow || i == dateColorRow || i == dateBubbleColorRow ||
+                    i == solidBGColorRow || i == gradientBGColorRow || i == rBubbleColorRow || i == lBubbleColorRow || i == nameColorRow || i == statusColorRow || i == onlineColorRow || i == typingColorRow || i == commandColorRow || i == dateColorRow || i == dateBubbleColorRow ||
                     i == rTextColorRow || i == rLinkColorRow || i == lTextColorRow || i == lLinkColorRow || i == rLinkColorRow || i == rTimeColorRow || i == lTimeColorRow || i == checksColorRow || i == memberColorRow || i == contactNameColorRow || i == forwardRightNameColorRow || i == forwardLeftNameColorRow ||
                     i == sendColorRow || i == editTextColorRow || i == editTextBGColorRow || i == editTextBGGradientColorRow || i == editTextIconsColorRow ||  i == attachBGColorRow ||  i == attachBGGradientColorRow || i == attachTextColorRow ||
                     i == emojiViewBGColorRow || i == emojiViewBGGradientColorRow || i == emojiViewTabIconColorRow || i == emojiViewTabColorRow) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ThemingDrawerActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ThemingDrawerActivity.java
index aecb23865..95d840904 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ThemingDrawerActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ThemingDrawerActivity.java
@@ -235,7 +235,7 @@ public void colorChanged(int color) {
                         },themePrefs.getInt("drawerHeaderGradientColor", defColor), CENTER, 0, true);
                         colorDialog.show();
                     } else if (i == headerBackgroundCheckRow) {
-                        boolean b = themePrefs.getBoolean( key, true);
+                        boolean b = themePrefs.getBoolean( key, false);
                         SharedPreferences.Editor editor = themePrefs.edit();
                         editor.putBoolean(key, !b);
                         editor.commit();
@@ -244,7 +244,7 @@ public void colorChanged(int color) {
                         }
 
                     } else if (i == hideBackgroundShadowRow) {
-                        boolean b = themePrefs.getBoolean( key, true);
+                        boolean b = themePrefs.getBoolean( key, false);
                         SharedPreferences.Editor editor = themePrefs.edit();
                         editor.putBoolean(key, !b);
                         editor.commit();
@@ -253,7 +253,7 @@ public void colorChanged(int color) {
                         }
 
                     } else if (i == centerAvatarRow) {
-                        boolean b = themePrefs.getBoolean( key, true);
+                        boolean b = themePrefs.getBoolean( key, false);
                         SharedPreferences.Editor editor = themePrefs.edit();
                         editor.putBoolean(key, !b);
                         editor.commit();
diff --git a/TMessagesProj/src/main/res/values-ar/strings.xml b/TMessagesProj/src/main/res/values-ar/strings.xml
index ad632a919..848a11057 100644
--- a/TMessagesProj/src/main/res/values-ar/strings.xml
+++ b/TMessagesProj/src/main/res/values-ar/strings.xml
@@ -977,7 +977,7 @@
     <string name="formatDateAtTime">%1$s الساعة %2$s</string>
     <!--update text-->
     <string name="updateText">تم تحديث تيليجرام على الأندرويد. الجديد في النسخة رقم 3.2.6:\n\n- تحسين للواجهة البصرية للتطبيق\n- دعم للإيموجي الجديدة\n- تحسينات أخرى وإصلاح للثغرات</string>
-    <string name="updateBuild">657</string>
+    <string name="updateBuild">660</string>
     <!--Telegram+--><!--
   <string name="updatePlusText"></string>-->
   <string name="TelegramForAndroid">بلاس مسنجر للأندرويد</string>
diff --git a/TMessagesProj/src/main/res/values-ca/strings.xml b/TMessagesProj/src/main/res/values-ca/strings.xml
index aa2c41265..ac6dfd8b0 100644
--- a/TMessagesProj/src/main/res/values-ca/strings.xml
+++ b/TMessagesProj/src/main/res/values-ca/strings.xml
@@ -982,13 +982,16 @@ Si no us interessa, us suggerim crear un canal privat.</string>
 - Animacions noves i moltes millores visuals
 - Compatibilitat amb els emojis nous
 - Altres millores i correcció d\'errors</string>
-<string name="updateBuild">657</string>
-    <!--Telegram+-->
+<string name="updateBuild">660</string>
+    <!--Telegram+--><!--
   <string name="updatePlusText">
 
-Novetats a la versió 3.2.6.1:
+Novetats a la versió 3.2.6.2:
 
-- Correcció d\'errors</string>
+- S\'ha afegit una modificació per al color de les ordres a la pantalla de xats
+- S\'ha afegit una modificació per al color de fons del comptador de missatges als xats/grups/canals silenciats.
+- S\'ha afegit una modificació per al color de ressaltat a les cerques en la pantalla principal
+- Correcció d\'errors </string>-->
     <string name="TelegramForAndroid">Plus Messenger per Android</string>
   <string name="Theming">Aparença</string>
   <string name="colorHexInvalid">Codi de color hexadecimal no vàlid.</string>
@@ -1034,7 +1037,7 @@ Novetats a la versió 3.2.6.1:
   <string name="EditTextBGColor">Color de fons de l\'entrada de text</string>
   <string name="EmojiViewBGColor">Color de fons dels emoji</string>
   <string name="EmojiViewTabColor">Color de la pestanya d\'emojis activa</string>
-  <string name="EmojiViewTabIconColor">Color de la icona de la pestanya d\'emojis</string>
+  <string name="EmojiViewTabIconColor">Color de la icona a la pestanya d\'emojis</string>
   <string name="OnlineColor">Color de «en línia»</string>
     <string name="ChatMusic">Música</string>
   <string name="SaveTheme">Desa el tema</string>
@@ -1127,24 +1130,26 @@ Novetats a la versió 3.2.6.1:
   <string name="ShowUsername">Mostra el nom d\'usuari als missatges</string>
   <string name="DisableAudioStop">No aturis els àudios</string>
   <string name="ListDividerColor">Color del divisor de llista</string>
-  <string name="CenterAvatar">Centra l\'avatar, el nom i el número de telèfon</string>
+  <string name="CenterAvatar">Centra l\'avatar, el nom i el telèfon</string>
   <string name="RowGradient">Gradient</string>
-  <string name="RowGradientColor">Color de gradient</string>
-  <string name="RowGradientDisabled">Deshabilitat</string>
+  <string name="RowGradientColor">Color del gradient</string>
+  <string name="RowGradientDisabled">Inhabilitat</string>
   <string name="RowGradientTopBottom">De dalt a baix</string>
   <string name="RowGradientLeftRight">D\'esquerra a dreta</string>
-  <string name="RowGradientTLBR">Dalt-Esquerra Baix-Dreta</string>
-  <string name="RowGradientBLTR">Baix-Esquerra Dalt-Dreta</string>
+  <string name="RowGradientTLBR">Dalt-Esquerra, Baix-Dreta</string>
+  <string name="RowGradientBLTR">Baix-Esquerra, Dalt-Dreta</string>
   <string name="RowGradientList">Aplica el gradient al fons de la llista</string>
   <string name="Copied">S\'ha copiat %s al porta-retalls</string>
-  <string name="JoinChannel">
-
-Afegiu-vos al canal oficial del Plus Messenger: https://telegram.me/plusmsgres</string>
-  <string name="DownloadThemes">Baixa nous temes</string>
+  <string name="JoinChannel">\n\nAfegiu-vos al canal oficial del Plus Messenger (en castellà): https://telegram.me/plusmsgres</string>
+  <string name="DownloadThemes">Baixa temes nous</string>
   <string name="OfficialChannel">Canal oficial</string>
-  <string name="DialogsSettings">Diàlegs</string>
-  <string name="ClickOnContactPic">En tocar la imatge d\'un contacte</string>
-  <string name="ClickOnGroupPic">En tocar la imatge d\'un grup</string>
+  <string name="DialogsSettings">En tocar...</string>
+  <string name="ClickOnContactPic">Imatge d\'un contacte</string>
+  <string name="ClickOnGroupPic">Imatge d\'un grup</string>
   <string name="ShowProfile">Perfil</string>
   <string name="ShowPics">Fotos de perfil</string>
+  <string name="CountSilentBGColor">Color de fons dels comptadors silenciats</string>
+  <string name="CommandColorCheck">Color a les ordres del bots</string>
+  <string name="CommandColor">Color de les ordres dels bots</string>
+  <string name="HighlightSearchColor">Color de cerca ressaltada</string>
 </resources>
diff --git a/TMessagesProj/src/main/res/values-de/strings.xml b/TMessagesProj/src/main/res/values-de/strings.xml
index 42e4835c0..1ce0defd5 100644
--- a/TMessagesProj/src/main/res/values-de/strings.xml
+++ b/TMessagesProj/src/main/res/values-de/strings.xml
@@ -974,9 +974,9 @@
     <string name="formatDateAtTime">%1$s um %2$s</string>
     <!--update text-->
 <string name="updateText">Plus Messenger für Android wurde aktualisiert. Neu in Version 3.2.6:\n\n- Neue Animationen und optische Verbesserungen\n- Neue Emoji\n-  Sonstige Verbesserungen und Fehlerbehebungen</string>
-    <string name="updateBuild">657</string>
-    <!--Telegram+-->
-  <string name="updatePlusText">\n\nNeues in Version 3.2.6.1:\n\n- Fehlerbeseitigung</string>
+    <string name="updateBuild">660</string>
+    <!--Telegram+--><!--
+  <string name="updatePlusText">\n\nNeu in Version 3.2.6.2:\n\n- Now header gets color in android recent apps list\n- Mention list size increased in chat screen\n- Now also channels can be muted from main screen\n- Added mod to set header avatar radius in chat screen\n- Added mod to set typing text color in chat header\n- Fehlerbeseitigungen</string>-->
     <string name="TelegramForAndroid">Plus Messenger für Android</string>
   <string name="Theming">Themen bearbeiten</string>
   <string name="colorHexInvalid">Ungültiger Hex-Code!</string>
@@ -1093,7 +1093,7 @@
   <string name="ForwardRightNameColor">Sprechblase rechts Name weiterleiten</string>
   <string name="ForwardLeftNameColor">Sprechblase links Name weiterleiten </string>
   <string name="IconsColor">Symbol</string>
-  <string name="SettingsScreen"> Einstellungen Thema bearbeiten </string>
+  <string name="SettingsScreen">Einstellungen Thema bearbeiten </string>
   <string name="BackgroundColor">Hintergrund</string>
   <string name="ShadowColor">Trennbalken</string>
   <string name="SectionColor">Überschrift</string>
@@ -1125,8 +1125,7 @@
   <string name="RowGradientBLTR">von unten Links nach oben Rechts</string>
   <string name="RowGradientList">Hintergrund Farbverlauf Liste oder Seite</string>
   <string name="Copied">%s in die Zwischenablage kopiert</string>
-  <string name="JoinChannel">
-\n\nPlus Messenger Mitglied werden im offiziellen Kanal: https://telegram.me/plusmsgr</string>
+  <string name="JoinChannel">\n\nPlus Messenger Mitglied werden im offiziellen Kanal: https://telegram.me/plusmsgr</string>
   <string name="DownloadThemes">Themen herunterladen</string>
   <string name="OfficialChannel">Offizieller Kanal</string>
   <string name="DialogsSettings">Dialoge</string>
@@ -1134,4 +1133,8 @@
   <string name="ClickOnGroupPic">Zeige bei Tip auf Gruppenbild</string>
   <string name="ShowProfile">Profil</string>
   <string name="ShowPics">Profilbilder</string>
+  <string name="CountSilentBGColor">Stumm im Hintergrund zählen</string>
+  <string name="CommandColorCheck">Bot Befehl Farbprüfung</string>
+  <string name="CommandColor">Bot Befehl</string>
+  <string name="HighlightSearchColor">Höhepunkt Suche</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-es/strings.xml b/TMessagesProj/src/main/res/values-es/strings.xml
index f232ea298..42cc89629 100644
--- a/TMessagesProj/src/main/res/values-es/strings.xml
+++ b/TMessagesProj/src/main/res/values-es/strings.xml
@@ -974,9 +974,9 @@
     <string name="formatDateAtTime">%1$s a las %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger para Android ha sido actualizada. Novedades en la versión 3.2.6:\n\n- Nuevas animaciones y muchas mejoras visuales\n- Soporte para los nuevos emojis\n- Soporte para Android 6.0 (Now on Tap - Direct Share - Soporte para huella digital en el código de acceso)\n- Otras mejoras y correcciones de errores</string>
-    <string name="updateBuild">657</string>
+    <string name="updateBuild">660</string>
     <!--Telegram+-->
-    <string name="updatePlusText">\n\nNovedades en 3.2.6.1:\n\n- Añadido mod para color de comando en pantalla chat\n- Añadido mod para fondo de contador para chat/grupo/canal silenciado en pantalla principal\n- Añadido mod de color de resaltado de búsqueda en pantalla principal\n- Corrección de errores</string>
+    <string name="updatePlusText">\n\nNovedades en 3.2.6.2:\n\n- Cabecera en lista de apps recientes ya toma color de cabecera principal (a partir de lollipop)\n- Tamaño de lista de menciones en pantalla chat aumentado\n- Ahora los canales también se pueden silenciar desde la pantalla principal\n- Añadido mod para ajustar radio de avatar de cabecera en pantalla chat\n- Añadido mod para cambiar color de texto \'escribiendo\' en pantalla chat\n- Corrección de errores</string>
     <string name="TelegramForAndroid">Plus Messenger para Android</string>
     <string name="Theming">Tematización</string>
     <string name="colorHexInvalid">¡Color hexadecimal inválido!</string>
diff --git a/TMessagesProj/src/main/res/values-fr/strings.xml b/TMessagesProj/src/main/res/values-fr/strings.xml
index c62d340f7..e56c47d22 100644
--- a/TMessagesProj/src/main/res/values-fr/strings.xml
+++ b/TMessagesProj/src/main/res/values-fr/strings.xml
@@ -974,7 +974,7 @@
   <string name="formatDateAtTime">%1$s à %2$s</string>
   <!--update text-->
   <string name="updateText">Telegram pour Android a été mis à jour. Nouveau dans la version 3.2.6:\n\n- De nouvelles animations et de nombreuses améliorations visuelles.\n- Support pour de nouveaux emoji\n- Autres améliorations et corrections de bogues.</string>
-  <string name="updateBuild">657</string>
+  <string name="updateBuild">660</string>
     <!--Telegram+-->
     <string name="TelegramForAndroid">Plus Messenger pour Android</string>
     <string name="Theming">Thème</string>
diff --git a/TMessagesProj/src/main/res/values-gl/strings.xml b/TMessagesProj/src/main/res/values-gl/strings.xml
index e16da3a58..d1865b4a3 100644
--- a/TMessagesProj/src/main/res/values-gl/strings.xml
+++ b/TMessagesProj/src/main/res/values-gl/strings.xml
@@ -975,9 +975,9 @@ e introduce o teu número.</string>
   <string name="formatDateAtTime">%1$s ás %2$s</string>
   <!--update text-->
   <string name="updateText">Telegram para Android foi actualizada. Novidades na versión 3.2.6:\n\n- Novas animacións e moitas melloras visuais\n- Soporte para os novos emoji\n- Outras melloras e correccións de erros</string>
-  <string name="updateBuild">657</string>
-  <!--Telegram+-->
-  <string name="updatePlusText">\n\nNovidades na versión 3.2.6.1:\n\n- Corrección de erros</string>
+  <string name="updateBuild">660</string>
+  <!--Telegram+--><!--
+  <string name="updatePlusText">\n\nNovidades en 3.2.6.2:\n\n- Engadido mod para a cor do comando na pantalla de conversa\n- Engadido mod para o fondo do contador para conversas/grupos/canles silenciadas na pantalla principal\n- Engadido mod para a cor do resaltado da busca na pantalla principal\n- Corrección de erros</string>-->
     <string name="TelegramForAndroid">Plus Messenger para Android</string>
     <string name="Theming">Tematización</string>
     <string name="colorHexInvalid">Cor hexadecimal inválida!</string>
@@ -1126,7 +1126,7 @@ e introduce o teu número.</string>
   <string name="RowGradientBLTR">Abaixo-Esquerda Arriba-Dereita</string>
   <string name="RowGradientList">Aplicar gradiente ao fondo do listado</string>
   <string name="Copied">%s copiado ao portapapeis</string>
-  <string name="JoinChannel">\n\nÚnete á canle oficial de Plus Messenger: https://telegram.me/plusmsgres</string>
+  <string name="JoinChannel">\n\nÚnete á canle oficial de Plus Messenger en español: https://telegram.me/plusmsgres</string>
   <string name="DownloadThemes">Descargar temas</string>
   <string name="OfficialChannel">Canle oficial</string>
   <string name="DialogsSettings">Conversas</string>
@@ -1134,4 +1134,8 @@ e introduce o teu número.</string>
   <string name="ClickOnGroupPic">Clic na foto do grupo</string>
   <string name="ShowProfile">Perfil</string>
   <string name="ShowPics">Fotos do perfil</string>
+  <string name="CountSilentBGColor">Cor do fondo do contador en silencio</string>
+  <string name="CommandColorCheck">Activar cor do comando</string>
+  <string name="CommandColor">Cor do comando</string>
+  <string name="HighlightSearchColor">Cor do resaltado da busca</string>
 </resources>
diff --git a/TMessagesProj/src/main/res/values-hi/strings.xml b/TMessagesProj/src/main/res/values-hi/strings.xml
index d97fef781..4ac0b82ea 100644
--- a/TMessagesProj/src/main/res/values-hi/strings.xml
+++ b/TMessagesProj/src/main/res/values-hi/strings.xml
@@ -515,7 +515,7 @@
   <string name="formatDateAtTime">%1$s पर %2$s</string>
   <!--update text--><!--
   <string name="updateText">Plus Messenger for Android has been updated. New in Version 3.0:\n\n\n\n- Dedicated tabs for each one of your custom sticker sets in the sticker panel. Add custom stickers like https://telegram.me/addstickers/Animals\n- New bot API, free for everyone. If you\'re an engineer, create your own bots for games, services or integrations. Learn more at https://telegram.org/blog/bot-revolution\n https://play.google.com/store/apps/details?id=es.rafalense.themes</string>-->
-  <string name="updateBuild">657</string>
+  <string name="updateBuild">660</string>
   <!--Telegram+--><!--
   <string name="updatePlusText"></string>-->
   <string name="TelegramForAndroid">Android  के लिए प्लस मैसेंजर</string>
diff --git a/TMessagesProj/src/main/res/values-hr/strings.xml b/TMessagesProj/src/main/res/values-hr/strings.xml
index f963fc7b0..6e4a5857b 100644
--- a/TMessagesProj/src/main/res/values-hr/strings.xml
+++ b/TMessagesProj/src/main/res/values-hr/strings.xml
@@ -750,7 +750,7 @@
     <string name="formatterDay12H">h:mm a</string>
     <string name="formatDateAtTime">%1$s u %2$s</string>
   <!--update text-->
-  <string name="updateBuild">657</string>
+  <string name="updateBuild">660</string>
     <!--Telegram+-->
   <string name="TelegramForAndroid">Plus Messenger za Android</string>
   <string name="Theming">Izrada teme</string>
diff --git a/TMessagesProj/src/main/res/values-it/strings.xml b/TMessagesProj/src/main/res/values-it/strings.xml
index 6bdb27f24..7e4452374 100644
--- a/TMessagesProj/src/main/res/values-it/strings.xml
+++ b/TMessagesProj/src/main/res/values-it/strings.xml
@@ -974,10 +974,10 @@
     <string name="formatDateAtTime">%1$s alle %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger per Android si è aggiornato. Nuovo nella versione 3.2.6:\n\n- Nuove animazioni e miglioramenti di interfaccia\n- Supporto per le nuove emoji\n- Altri miglioramenti e risoluzione di problemi</string>
-    <string name="updateBuild">657</string>
-    <!--Telegram+-->
+    <string name="updateBuild">660</string>
+    <!--Telegram+--><!--
   <string name="updatePlusText">
-\n\nNovità nella versione 3.2.6.1:\n\n- Aggiunta mod per il colore del comando nella schermata della chat\n- Aggiunta mod per il colore dello sfondo del contatore di chat/gruppi/canali mutati nella schermata principale\n- Aggiunta mod per il colore dell\'evidenziazione della ricerca nella schermata principale\n- Correzioni bug</string>
+\n\nNovità nella versione 3.2.6.2:\n\n- Aggiunta mod per il colore del comando nella schermata della chat\n- Aggiunta mod per il colore dello sfondo del contatore di chat/gruppi/canali mutati nella schermata principale\n- Aggiunta mod per il colore dell\'evidenziazione della ricerca nella schermata principale\n- Correzioni bug</string>-->
     <string name="TelegramForAndroid">Plus Messenger per Android</string>
   <string name="Theming">Personalizzazione</string>
     <string name="colorHexInvalid">Codice del colore esadecimale non valido!</string>
diff --git a/TMessagesProj/src/main/res/values-ko/strings.xml b/TMessagesProj/src/main/res/values-ko/strings.xml
index 6672b14c2..cf3151b70 100644
--- a/TMessagesProj/src/main/res/values-ko/strings.xml
+++ b/TMessagesProj/src/main/res/values-ko/strings.xml
@@ -977,5 +977,5 @@
     <string name="formatDateAtTime">%1$s %2$s</string>
     <!--update text-->
     <string name="updateText">텔레그램 안드로이드 버전이 업데이트 되었습니다. 새로운 버전은 3.2.6 입니다:\n\n- 새로운 애니메이션 및 다양한 비쥬얼 향상\n- 신규 이모티콘 지원\n- 기타 기능 향상 및 버그 수정</string>
-    <string name="updateBuild">657</string>
+    <string name="updateBuild">660</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-nl/strings.xml b/TMessagesProj/src/main/res/values-nl/strings.xml
index 8713bee70..15c7e7701 100644
--- a/TMessagesProj/src/main/res/values-nl/strings.xml
+++ b/TMessagesProj/src/main/res/values-nl/strings.xml
@@ -974,7 +974,7 @@
     <string name="formatDateAtTime">%1$s om %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger voor Android is bijgewerkt. Nieuw in versie 3.2.6:\n\n- Nieuwe animaties en andere visuele verbeteringen\n- Ondersteuning voor nieuwe Emoji\n-Tijdsaanduiding voor laatst gezien gelijk aan iOS\n-Probleemoplossing en andere verbeteringen</string>
-    <string name="updateBuild">657</string>
+    <string name="updateBuild">660</string>
     <!--Telegram+--><!--
   <string name="updatePlusText"></string>-->
     <string name="TelegramForAndroid">Plus Messenger voor Android</string>
diff --git a/TMessagesProj/src/main/res/values-pt-rBR/strings.xml b/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
index a29a61358..62e4718d2 100644
--- a/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
+++ b/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
@@ -974,10 +974,10 @@
     <string name="formatDateAtTime">%1$s às %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger para Android foi atualizado. Novidades na versão 3.2.6:\n\n- Novas animações e melhorias no visual\n- Suporte para novos emojis\n- Outras melhorias e resoluções de bugs</string>
-    <string name="updateBuild">657</string>
-    <!--Telegram+-->
+    <string name="updateBuild">660</string>
+    <!--Telegram+--><!--
   <string name="updatePlusText">
-\n\nNovidades na versão 3.2.6.1:\n\n- Adicionada mod para cor de comando na tela de chat\n- Adicionada mod para cor de fundo do contador para chat/grupo/canal silenciado na tela principal\n- Correções de erros</string>
+\n\nNovidades na versão 3.2.6.2:\n\n- Adicionada mod para cor de comando na tela de chat\n- Adicionada mod para cor de fundo do contador para chat/grupo/canal silenciado na tela principal\n- Adicionada mod para cor destaque de busca na tela principal\n- Correções de erros</string>-->
     <string name="TelegramForAndroid">Plus Messenger para Android</string>
     <string name="Theming">Personalização</string>
   <string name="colorHexInvalid">Código de cor HEX inválido!</string>
@@ -1071,7 +1071,7 @@
   <string name="HeaderTitle">Título do Cabeçalho</string>
   <string name="ForwardNoQuote">Encaminhar sem mencionar</string>
   <string name="DisableMessageClick">Desativar Pop-up ao Clicar</string>
-  <string name="ProfileScreen">Perfil de Contato/Grupo</string>
+  <string name="ProfileScreen">Perfil</string>
   <string name="HideBackground">Ocultar Capa Personalizada</string>
   <string name="RLinkColor">Cor do Link Direito</string>
   <string name="LLinkColor">Cor do Link Esquerdo</string>
@@ -1138,4 +1138,5 @@
   <string name="CountSilentBGColor">Fundo do Contador Silenciado</string>
   <string name="CommandColorCheck">Definir Cor de Comando Bot</string>
   <string name="CommandColor">Cor de Comando Bot</string>
+  <string name="HighlightSearchColor">Cor Destaque de Busca</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-pt-rPT/strings.xml b/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
index 1c7d8e93d..8dd300b80 100644
--- a/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
+++ b/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
@@ -977,7 +977,7 @@
     <string name="formatDateAtTime">%1$s às %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger para Android foi atualizado. Novidades na versão 3.2.6:\n\n- Novas animações e melhorias no visual\n- Suporte para novos emojis\n- Outras melhorias e resoluções de bugs</string>
-    <string name="updateBuild">657</string>
+    <string name="updateBuild">660</string>
     <!--Telegram+-->
   <string name="TelegramForAndroid">Plus Messenger para Android</string>
   <string name="Theming">Temas</string>
diff --git a/TMessagesProj/src/main/res/values-ru/strings.xml b/TMessagesProj/src/main/res/values-ru/strings.xml
index 62f817ff3..a0a3fb307 100644
--- a/TMessagesProj/src/main/res/values-ru/strings.xml
+++ b/TMessagesProj/src/main/res/values-ru/strings.xml
@@ -973,11 +973,10 @@
   <string name="formatterDay12H">h:mm a</string>
   <string name="formatDateAtTime">%1$s в %2$s</string>
   <!--update text-->
-  <string name="updateText">Telegram для Android обновлён. Новое в версии 3.2.5:\n\n- Новые анимации и множество визуальных усовершенствований\n- Поддержка новых эмодзи\n- Прочие улучшения и исправления ошибок</string>
-  <string name="updateBuild">657</string>
+  <string name="updateText">Telegram для Android обновлён. Новое в версии 3.2.6:\n\n- Новые анимации и множество визуальных усовершенствований\n- Поддержка новых эмодзи\n- Прочие улучшения и исправления ошибок</string>
+  <string name="updateBuild">660</string>
     <!--Telegram+-->
-  <string name="updatePlusText">
-\n\nНовое в версииn 3.2.6.1:\n\n- Исправление ошибок</string>
+  <string name="updatePlusText">\n\nНовое в версии 3.2.6.2:\n\n- Теперь заголовок берёт цвет в списке недавних приложений  Andriod\n- Увеличен размер списка упоминаний на экране чата\n- Теперь каналы можно перевести в беззвучный режим из основного экранаn\n- Добавлена настройка закругления аватара в заголовке экрана чата\n- Добавлена настройка цвета для уведомления печати в заголовке чата\n- Исправление ошибок</string>
   <string name="TelegramForAndroid">Plus Messenger для Android</string>
   <string name="Theming">Кастомизация</string>
   <string name="colorHexInvalid">Неверный hex-код цвета!</string>
@@ -1135,4 +1134,8 @@
   <string name="ClickOnGroupPic">Касание аватарки группы</string>
   <string name="ShowProfile">Профиль</string>
   <string name="ShowPics">Аватарки</string>
+  <string name="CountSilentBGColor">Цвет фона счётчика сообщений с откл. уведомлениями</string>
+  <string name="CommandColorCheck">Изменить цвет команд бота</string>
+  <string name="CommandColor">Цвет команд бота</string>
+  <string name="HighlightSearchColor">Цвет подсветки поиска </string>
 </resources>
diff --git a/TMessagesProj/src/main/res/values-tr/strings.xml b/TMessagesProj/src/main/res/values-tr/strings.xml
index cbea87f07..eb4c863cc 100644
--- a/TMessagesProj/src/main/res/values-tr/strings.xml
+++ b/TMessagesProj/src/main/res/values-tr/strings.xml
@@ -830,7 +830,7 @@
   <string name="formatDateAtTime">%1$s %2$s</string>
   <!--update text--><!--
   <string name="updateText">Plus Messenger için temalar indirin ve uygulayın. Hergün yeni temalar ekleniyor:\n https://play.google.com/store/apps/details?id=es.rafalense.themes</string>-->
-  <string name="updateBuild">657</string>
+  <string name="updateBuild">660</string>
   <!--Telegram+--><!--
   <string name="updatePlusText">
 \n\n3.2.2.1\'deki Yenilikler:\n\n- Artık duvarkağıdı direkt olarak sohbet ekranından değişebiliyor\n- Tema duvarkağıtlarının uygulama yönteminde geliştirmeler yapıldı\n- Eğer profil ekranında işaretlenmişse kullanıcı adı kopyalanabilir\n- Hata düzeltmeleri</string>-->
diff --git a/TMessagesProj/src/main/res/values-zh-rCN/strings.xml b/TMessagesProj/src/main/res/values-zh-rCN/strings.xml
index 29622330d..d4ad0900c 100644
--- a/TMessagesProj/src/main/res/values-zh-rCN/strings.xml
+++ b/TMessagesProj/src/main/res/values-zh-rCN/strings.xml
@@ -897,9 +897,9 @@
   <string name="formatDateAtTime">%1$s 的 %2$s</string>
   <!--update text--><!--
   <string name="updateText">Android 版的 Plus Messenger 已更新。最新版本 3.1 的新增功能有：\n\n- 在特定聊天中搜索消息内容。\n- 全新设计的附件选择菜单。从附件选择菜单中直接发送联系人资料或语音文件。\n- 改进的程序内媒体播放功能 （YouTube, Vimoe, Soundcloud 等）, 新播放器适用于大型语音文件。\n\n更多更新请查看：\nhttps://telegram.org/blog/search-and-media</string>-->
-  <string name="updateBuild">657</string>
+  <string name="updateBuild">660</string>
   <!--Telegram+--><!--
-  <string name="updatePlusText">\n\n在 3.0.1.3 版的新功能：\n\n- 添加设置使用手机字体选项\n- 添加聊天/群组聊天内搜索聊天记录选项\n- 在设置/主题调整界面里添加标头颜色、标题颜色和标头图标颜色的设置\n- 添加主界面群组图标颜色的设置\n- 添加导航栏中头像大小的设置\n- 错误修复</string>-->
+  <string name="updatePlusText">\n\n在 3.2.6.2 版的新功能：\n\n- 添加设置使用手机字体选项\n- 添加聊天/群组聊天内搜索聊天记录选项\n- 在设置/主题调整界面里添加标头颜色、标题颜色和标头图标颜色的设置\n- 添加主界面群组图标颜色的设置\n- 添加导航栏中头像大小的设置\n- 错误修复</string>-->
   <string name="TelegramForAndroid">Plus Messenger for Android</string>
   <string name="Theming">主题调整</string>
   <string name="colorHexInvalid">无效的颜色代码！</string>
diff --git a/TMessagesProj/src/main/res/values-zh-rTW/strings.xml b/TMessagesProj/src/main/res/values-zh-rTW/strings.xml
index 5d289741a..a374a00ae 100644
--- a/TMessagesProj/src/main/res/values-zh-rTW/strings.xml
+++ b/TMessagesProj/src/main/res/values-zh-rTW/strings.xml
@@ -947,10 +947,10 @@
   <string name="formatDateAtTime">於時間 %1$s  %2$s</string>
   <!--update text--><!--
   <string name="updateText">Android 版的 Telegram 已經更新。在版本 3.2.0 中的新功能：\n\n- 引進頻道 – 用來將您的訊息向無限觀眾廣播的新方式 (取代舊式的廣播)。\n\n了解更多：https://telegram.org/blog/channels</string>
-  <string name="updateBuild">657</string>-->
+  <string name="updateBuild">660</string>-->
   <!--Telegram+--><!--
   <string name="updatePlusText">
-\n\n在 3.1.1.9 版的新功能：\n\n- 新的模組在聊天畫面顯示擁有的大頭照\n- 加入新的泡泡邊緣 (感謝 Edwin Macalopu)\n- 錯誤修復</string>-->
+\n\n在 3.2.6.2 版的新功能：\n\n- 新的模組在聊天畫面顯示擁有的大頭照\n- 加入新的泡泡邊緣 (感謝 Edwin Macalopu)\n- 錯誤修復</string>-->
   <string name="TelegramForAndroid">適用於 Android 的 Plus Messenger</string>
   <string name="Theming">自製佈景主題</string>
   <string name="colorHexInvalid">無效的十六進位顏色代碼！</string>
diff --git a/TMessagesProj/src/main/res/values/strings.xml b/TMessagesProj/src/main/res/values/strings.xml
index 8dd11b20f..a46bd2ade 100644
--- a/TMessagesProj/src/main/res/values/strings.xml
+++ b/TMessagesProj/src/main/res/values/strings.xml
@@ -978,9 +978,9 @@
     <string name="formatDateAtTime">%1$s at %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger for Android has been updated. New in version 3.2.6:\n\n- New animations and many visual improvements\n- Support for new emoji\n- Android 6.0 support (Now on Tap - Direct Share - Fingerprint support for Passcodes)\n- Other improvements and bug fixes</string>
-    <string name="updateBuild">657</string>
+    <string name="updateBuild">660</string>
     <!--Telegram+-->
-    <string name="updatePlusText">\n\nNew in version 3.2.6.1:\n\n- Added mod for command color in chat screen\n- Added mod for counter color background for muted chat/group/channel in main screen\n- Added highlight search color mod in main screen\n- Bug fixes</string>
+    <string name="updatePlusText">\n\nNew in version 3.2.6.2:\n\n- Now header gets color in android recent apps list (lollipop and up)\n- Mention list size increased in chat screen\n- Now also channels can be muted from main screen\n- Added mod to set header avatar radius in chat screen\n- Added mod to set typing text color in chat header\n- Bug fixes</string>
     <string name="TelegramForAndroid">Plus Messenger for Android</string>
     <string name="Theming">Theming</string>
     <string name="colorHexInvalid">Invalid color hex code!</string>
