diff --git a/TMessagesProj/src/main/java/io/bettergram/service/CryptoDataService.java b/TMessagesProj/src/main/java/io/bettergram/service/CryptoDataService.java
index 482e0b0bb..c3b9707d1 100644
--- a/TMessagesProj/src/main/java/io/bettergram/service/CryptoDataService.java
+++ b/TMessagesProj/src/main/java/io/bettergram/service/CryptoDataService.java
@@ -54,17 +54,27 @@ public void onDestroy() {
 
     @Override
     protected void onHandleIntent(@Nullable Intent intent) {
-        if (mTimer != null) // Cancel if already existed
-            mTimer.cancel();
-        else
-            mTimer = new Timer();   //recreate new
-        try {
-            mTimer.scheduleAtFixedRate(new TimeDisplay(intent), 0, notify);   //Schedule task
-        } catch (IllegalStateException e) {
-            e.printStackTrace();
+        mTimer = new Timer();   //recreate new
+        boolean canStart = true;
+        while (canStart) {
+            try {
+                startTimer(intent);
+                canStart = false;
+            } catch (IllegalStateException e) {
+                e.printStackTrace();
+                String savedCryptoInfoJson = preferences.getString(KEY_CRYPTO_CURRENCIES_SAVED, null);
+                if (!isEmpty(savedCryptoInfoJson)) {
+                    publishResults(savedCryptoInfoJson, NOTIFICATION, RESULT);
+                }
+                canStart = true;
+            }
         }
     }
 
+    private void startTimer(Intent intent) {
+        mTimer.scheduleAtFixedRate(new TimeDisplay(intent), 0, notify);   //Schedule task
+    }
+
     private List<CryptoCurrencyInfo> addIcons(List<CryptoCurrencyInfo> list, List<CryptoCurrency> currencies) {
         for (int i = 0, size = list.size(); i < size; i++) {
             final int index = i;
@@ -106,24 +116,19 @@ protected void onHandleIntent(@Nullable Intent intent) {
 
         @Override
         public void run() {
-
             String savedCryptoInfoJson = preferences.getString(KEY_CRYPTO_CURRENCIES_SAVED, null);
             if (!isEmpty(savedCryptoInfoJson)) {
                 publishResults(savedCryptoInfoJson, NOTIFICATION, RESULT);
             }
 
             boolean fetchCryptoCurrencies = intent.getBooleanExtra(KEY_CRYPTO_CURRENCIES, false);
-
             String savedCryptoJson = preferences.getString(KEY_CRYPTO_CURRENCIES, null);
-
             List<CryptoCurrency> currencies = new ArrayList<>();
 
             OkHttpClient client = new OkHttpClient();
 
             if (fetchCryptoCurrencies || isEmpty(savedCryptoJson)) {
-
                 Request request = new Request.Builder().url(CRYPTO_CURRENCIES_URL).build();
-
                 try {
                     Response response = client.newCall(request).execute();
 
@@ -160,7 +165,6 @@ public void run() {
             urlBuilder.addQueryParameter("currency", currency);
 
             String url = urlBuilder.build().toString();
-
             Request request = new Request.Builder().url(url).build();
 
             try {
@@ -189,7 +193,6 @@ public void run() {
                     }
 
                     String json = CryptoCurrencyInfoResponse__JsonHelper.serializeToJson(cryptoResponse);
-
                     preferences.edit().putString(KEY_CRYPTO_CURRENCIES_SAVED, json).apply();
 
                     publishResults(json, NOTIFICATION, RESULT);
diff --git a/TMessagesProj/src/main/java/io/bettergram/ui/adapters/YouTubePlayerAdapter.java b/TMessagesProj/src/main/java/io/bettergram/ui/adapters/YouTubePlayerAdapter.java
index aa2c6d3a2..068e7eb01 100644
--- a/TMessagesProj/src/main/java/io/bettergram/ui/adapters/YouTubePlayerAdapter.java
+++ b/TMessagesProj/src/main/java/io/bettergram/ui/adapters/YouTubePlayerAdapter.java
@@ -8,7 +8,6 @@
 import android.content.IntentFilter;
 import android.os.Bundle;
 import android.support.annotation.NonNull;
-import android.util.Log;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
@@ -21,6 +20,7 @@
 import io.bettergram.data.VideoList__JsonHelper;
 import io.bettergram.messenger.R;
 import io.bettergram.service.YoutubeDataService;
+import io.bettergram.utils.RoundedCornersTransform;
 import org.telegram.messenger.AndroidUtilities;
 import org.telegram.messenger.support.widget.RecyclerView;
 
@@ -92,13 +92,13 @@ public void run() {
     }
 
     private ImageLoader imageLoader = (imageView, url, height, width) -> {
-        Picasso.get().invalidate(url);// temporarily invalidated so the app wont load from memory as it shows blank image
-
+        //Picasso.get().invalidate(url);// temporarily invalidated so the app wont load from memory as it shows blank image
         Picasso.get()
                 .load(url)
-                .resize(width, height)
+                .resize((int) (width * 0.30f), (int) (height * 0.30f))
                 .centerCrop()
-                .placeholder(R.drawable.photoview_placeholder)
+                .placeholder(R.color.grey70)
+                .transform(RoundedCornersTransform.getInstance())
                 .into(imageView);
     };
 
@@ -146,7 +146,6 @@ public void onBindViewHolder(final YouTubePlayerViewHolder holder, int position)
         String channelTitle = video.channelTitle;
         String publishedAt = video.publishedAt;
         String viewCount = video.viewCount;
-        String duration = video.duration;
 
         holder.textTitle.setText(title);
         holder.textAccount.setText(channelTitle);
@@ -156,7 +155,7 @@ public void onBindViewHolder(final YouTubePlayerViewHolder holder, int position)
         if (!playerView.initted) {
             playerView.initPlayer(apiKey, videoId, webviewUrl, playerType, null, fragmentManager, imageLoader);
         } else {
-            playerView.load();
+            playerView.load(videoId);
         }
     }
 
diff --git a/TMessagesProj/src/main/java/io/bettergram/utils/RoundedCornersTransform.java b/TMessagesProj/src/main/java/io/bettergram/utils/RoundedCornersTransform.java
new file mode 100644
index 000000000..2ce5f3082
--- /dev/null
+++ b/TMessagesProj/src/main/java/io/bettergram/utils/RoundedCornersTransform.java
@@ -0,0 +1,49 @@
+package io.bettergram.utils;
+
+import android.graphics.*;
+import com.squareup.picasso.Transformation;
+
+public class RoundedCornersTransform implements Transformation {
+
+    private static RoundedCornersTransform instance = null;
+
+    private RoundedCornersTransform() {
+        // Exists only to defeat instantiation.
+    }
+
+    public static RoundedCornersTransform getInstance() {
+        if (instance == null) {
+            instance = new RoundedCornersTransform();
+        }
+        return instance;
+    }
+
+    @Override
+    public Bitmap transform(Bitmap source) {
+        int width = source.getWidth();
+        int height = source.getHeight();
+
+        Bitmap squaredBitmap = Bitmap.createBitmap(source, 0, 0, width, height);
+        if (squaredBitmap != source) {
+            source.recycle();
+        }
+
+        Bitmap bitmap = Bitmap.createBitmap(width, height, source.getConfig());
+
+        Canvas canvas = new Canvas(bitmap);
+        Paint paint = new Paint();
+        BitmapShader shader = new BitmapShader(squaredBitmap, BitmapShader.TileMode.CLAMP, BitmapShader.TileMode.CLAMP);
+        paint.setShader(shader);
+        paint.setAntiAlias(true);
+
+        float r = Math.min(width, height) / 28f;
+        canvas.drawRoundRect(new RectF(0, 0, source.getWidth(), source.getHeight()), r, r, paint);
+        squaredBitmap.recycle();
+        return bitmap;
+    }
+
+    @Override
+    public String key() {
+        return "rounded_corners";
+    }
+}
\ No newline at end of file
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/RecyclerListView.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/RecyclerListView.java
index d17748b3c..64c36c027 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/RecyclerListView.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/RecyclerListView.java
@@ -1327,12 +1327,13 @@ protected void onDetachedFromWindow() {
         selectorRect.setEmpty();
     }
 
-    public void postAndNotifyAdapter() {
+    public void postAndNotifyAdapter(Callback callback) {
         post(() -> {
             if (!isComputingLayout()) {
+                if (callback != null) callback.call();
                 getAdapter().notifyDataSetChanged();
             } else {
-                postAndNotifyAdapter();
+                postAndNotifyAdapter(callback);
             }
         });
     }
@@ -1348,4 +1349,8 @@ public void postAndNotifyAdapter() {
     public View getPinnedHeader() {
         return pinnedHeader;
     }
+
+    public interface Callback {
+        void call();
+    }
 }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java
index 39657eca0..305c0dfce 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java
@@ -1371,32 +1371,27 @@ public void onMessageSend(CharSequence message) {
                     switch (position) {
                         case 0:
                             if (!(listView.getAdapter() instanceof BetterDialogsAdapter)) {
-                                listView.setAdapter(dialogsAdapter);
-                                //handler.postDelayed(dialogsAdapter::notifyDataSetChanged, 1000);
+                                listView.postAndNotifyAdapter(() -> listView.setAdapter(dialogsAdapter));
                             }
                             break;
                         case 1:
                             if (!(listView.getAdapter() instanceof CryptoAdapter)) {
-                                listView.setAdapter(cryptoAdapter);
-                                //handler.postDelayed(cryptoAdapter::notifyDataSetChanged, 1000);
+                                listView.postAndNotifyAdapter(() -> listView.setAdapter(cryptoAdapter));
                             }
                             break;
                         case 2:
                             if (!(listView.getAdapter() instanceof NewsAdapter)) {
-                                listView.setAdapter(newsAdapter);
-                                //handler.postDelayed(newsAdapter::notifyDataSetChanged, 1000);
+                                listView.postAndNotifyAdapter(() -> listView.setAdapter(newsAdapter));
                             }
                             break;
                         case 3:
                             if (!(listView.getAdapter() instanceof YouTubePlayerAdapter)) {
-                                listView.setAdapter(videoAdapter);
-                                //handler.postDelayed(videoAdapter::notifyDataSetChanged, 1000);
+                                listView.postAndNotifyAdapter(() -> listView.setAdapter(videoAdapter));
                             }
                             break;
                         case 4:
                             if (!(listView.getAdapter() instanceof ResourcesAdapter)) {
-                                listView.setAdapter(resourcesAdapter);
-                                //handler.postDelayed(resourcesAdapter::notifyDataSetChanged, 1000);
+                                listView.postAndNotifyAdapter(() -> listView.setAdapter(resourcesAdapter));
                             }
                             break;
                     }
diff --git a/TMessagesProj/src/main/res/layout/youtube_player.xml b/TMessagesProj/src/main/res/layout/youtube_player.xml
index 1fe64b4be..7f809f861 100644
--- a/TMessagesProj/src/main/res/layout/youtube_player.xml
+++ b/TMessagesProj/src/main/res/layout/youtube_player.xml
@@ -4,7 +4,9 @@
         xmlns:app="http://schemas.android.com/apk/res-auto"
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
-        android:layout_margin="16dp"
+        android:layout_marginTop="16dp"
+        android:layout_marginStart="16dp"
+        android:layout_marginEnd="16dp"
         android:elevation="2dp"
         app:cardCornerRadius="4dp"
         app:cardUseCompatPadding="true"
@@ -23,7 +25,7 @@
         <com.flipkart.youtubeview.YouTubePlayerView
                 android:id="@+id/youtube_player_view"
                 android:layout_width="match_parent"
-                android:layout_height="wrap_content"/>
+                android:layout_height="180dp"/>
 
         <!--<TextView-->
         <!--android:id="@+id/textDuration"-->
diff --git a/inline-youtube-view/src/main/java/com/flipkart/youtubeview/YouTubePlayerView.java b/inline-youtube-view/src/main/java/com/flipkart/youtubeview/YouTubePlayerView.java
index 6677df5e2..f19aeccd6 100644
--- a/inline-youtube-view/src/main/java/com/flipkart/youtubeview/YouTubePlayerView.java
+++ b/inline-youtube-view/src/main/java/com/flipkart/youtubeview/YouTubePlayerView.java
@@ -29,9 +29,9 @@
 import android.support.annotation.Nullable;
 import android.text.TextUtils;
 import android.util.AttributeSet;
+import android.util.Log;
 import android.view.LayoutInflater;
 import android.view.View;
-import android.view.ViewGroup;
 import android.view.ViewParent;
 import android.widget.FrameLayout;
 import android.widget.ImageView;
@@ -65,6 +65,8 @@
     private String webViewUrl;
     private ImageLoader imageLoader;
 
+    private static int lastWidth, lastHeight;
+
     public boolean initted = false;
 
     public YouTubePlayerView(Context context) {
@@ -85,21 +87,28 @@ public YouTubePlayerView(Context context, AttributeSet attrs, int defStyleAttr)
     @Override
     protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
         super.onMeasure(widthMeasureSpec, heightMeasureSpec);
-        int newWidth;
-        int newHeight;
-        newWidth = getMeasuredWidth();
-        newHeight = (int) (newWidth * ASPECT_RATIO);
-        setMeasuredDimension(newWidth, newHeight);
-        if (playerContainer != null && playerContainer.getMeasuredHeight() != newHeight) {
-            ViewGroup.LayoutParams layoutParams = playerContainer.getLayoutParams();
-            layoutParams.height = newHeight;
-            playerContainer.setLayoutParams(layoutParams);
-
-            String url = "https://img.youtube.com/vi/" + videoId + "/0.jpg";
-            if (null != imageLoader) {
-                imageLoader.loadImage(thumbnailImageView, url, getMeasuredHeight(), getMeasuredWidth());
-            }
+        int newWidth = MeasureSpec.getSize(widthMeasureSpec);
+        int newHeight = (int) (newWidth * ASPECT_RATIO);
+
+        if (lastWidth != newWidth || lastHeight != newHeight) {
+            lastWidth = newWidth;
+            lastHeight = newHeight;
+        }
+        Log.e("video", "Point A, getMeasuredWidth(): " + getMeasuredWidth());
+        Log.e("video", "lastWidth: " + lastWidth + ", lastHeight: " + lastHeight);
+        setMeasuredDimension(lastWidth, lastHeight);
+
+//        if (playerContainer != null && playerContainer.getMeasuredHeight() != lastHeight) {
+//            ViewGroup.LayoutParams layoutParams = playerContainer.getLayoutParams();
+//            layoutParams.height = lastHeight;
+//            playerContainer.setLayoutParams(layoutParams);
+
+
+        String url = "https://img.youtube.com/vi/" + videoId + "/0.jpg";
+        if (null != imageLoader) {
+            imageLoader.loadImage(thumbnailImageView, url, lastHeight, lastWidth);
         }
+//        }
     }
 
     @MainThread
@@ -125,10 +134,14 @@ public void initPlayer(@NonNull String apiKey, @NonNull String videoId,
         initted = true;
     }
 
-    public void load() {
+    public void load(String videoId) {
         String url = "https://img.youtube.com/vi/" + videoId + "/0.jpg";
         if (null != imageLoader) {
-            imageLoader.loadImage(thumbnailImageView, url, getMeasuredHeight(), getMeasuredWidth());
+            if (getMeasuredWidth() > 0 && getMeasuredHeight() > 0) {
+                lastWidth = getMeasuredWidth();
+                lastHeight = getMeasuredHeight();
+            }
+            imageLoader.loadImage(thumbnailImageView, url, lastHeight, lastWidth);
         }
     }
 
diff --git a/inline-youtube-view/src/main/res/layout/video_container.xml b/inline-youtube-view/src/main/res/layout/video_container.xml
index 623ec962b..63ca55461 100644
--- a/inline-youtube-view/src/main/res/layout/video_container.xml
+++ b/inline-youtube-view/src/main/res/layout/video_container.xml
@@ -3,13 +3,13 @@
         xmlns:android="http://schemas.android.com/apk/res/android"
         android:id="@+id/video_container"
         android:layout_width="match_parent"
-        android:layout_height="match_parent"
-        android:orientation="vertical">
+        android:layout_height="match_parent">
 
     <ImageView
             android:id="@+id/video_thumbnail_image"
             android:layout_width="match_parent"
-            android:layout_height="match_parent"/>
+            android:layout_height="match_parent"
+            android:adjustViewBounds="true"/>
 
     <ImageView
             android:id="@+id/play_btn"
