diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/MessageObject.java b/TMessagesProj/src/main/java/org/telegram/messenger/MessageObject.java
index 9e514bdf5..274027d0a 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/MessageObject.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/MessageObject.java
@@ -19,6 +19,7 @@
 import android.text.TextUtils;
 import android.text.style.URLSpan;
 import android.text.util.Linkify;
+import android.util.Log;
 
 import org.telegram.tgnet.ConnectionsManager;
 import org.telegram.tgnet.TLObject;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/UserConfig.java b/TMessagesProj/src/main/java/org/telegram/messenger/UserConfig.java
index 3edded20b..1f96e57d5 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/UserConfig.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/UserConfig.java
@@ -168,7 +168,6 @@ public static void loadConfig() {
                 try {
                     SerializedData data = new SerializedData(configFile);
                     int ver = data.readInt32(false);
-                    Log.i("TGM", "loadConfig: " + String.valueOf(ver));
                     if (ver == 1) {
                         int constructor = data.readInt32(false);
                         currentUser = TLRPC.User.TLdeserialize(data, constructor, false);
@@ -224,7 +223,6 @@ public void run() {
                     FileLog.e(e);
                 }
             } else {
-                Log.i("TGM", "loadConfig: not exists");
                 SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("userconfing"+ ChangeUserHelper.getUserTag(), Context.MODE_PRIVATE);
                 registeredForPush = preferences.getBoolean("registeredForPush", false);
                 pushString = preferences.getString("pushString2", "");
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/UserItemsAdapter.java b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/UserItemsAdapter.java
index bd9038aac..a9ee30842 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/UserItemsAdapter.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/UserItemsAdapter.java
@@ -95,7 +95,6 @@ public View getView(int position, View convertView, ViewGroup parent) {
         if ((userItems.getCurrent() != -1) && (userItems.getCurrent() == position)) {
             holder.imgViewCurrent.setColorFilter(new PorterDuffColorFilter(Theme.getColor(Theme.key_chats_sentCheck), PorterDuff.Mode.MULTIPLY));
             holder.imgViewCurrent.setVisibility(View.VISIBLE);
-            Log.i("TGM", "getView: current = " + position);
         } else holder.imgViewCurrent.setVisibility(View.INVISIBLE);
 
         holder.txtViewName.setText(userItems.getName());
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChangeUserActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChangeUserActivity.java
index e23e05e54..29352c28a 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChangeUserActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChangeUserActivity.java
@@ -45,6 +45,7 @@
 
 import java.io.File;
 import java.util.ArrayList;
+import java.util.List;
 
 public class ChangeUserActivity extends Activity implements AdapterView.OnItemClickListener {
 
@@ -54,6 +55,7 @@
     private UserItems userItems ;
     static ProgressDialog prepareProgress;
     static Context ctx ;
+    public int currentUser = 0;
 
     @Override
     public void onBackPressed()
@@ -151,12 +153,14 @@ protected void onDestroy() {
     }
 
     private void deleteUser(int position) {
+        int toDelete = -1;
+        if(getUsersEnabled().size() > position) toDelete = getUsersEnabled().get(position); else return;
+
         SharedPreferences sharedPref = getSharedPreferences("userID", Context.MODE_PRIVATE);
-        sharedPref.edit().putInt("usersCount", getUsersCount() -1).commit();
+        sharedPref.edit().putInt("state_user_" + toDelete, 1).commit();
         sharedPref.edit().apply();
-        deleteDir(getApplicationInfo().dataDir + "/files_user_" + String.valueOf(position));
-        adapter.remove(position);
-        adapter.notifyDataSetChanged();
+        deleteDir(getApplicationInfo().dataDir + "/files_user_" + String.valueOf(toDelete));
+        if(currentUser == position) setUser(0); else prepareArrayList();
     }
 
     private void showAlertDeleteUser(final int position) {
@@ -195,12 +199,15 @@ public void deleteDir(String folder) {
     }
 
     public void addUser() {
+        int firstDisabledUser = getUsersDisabled();
+        Log.i("TGM", "addUser: firstDisabledUser" + firstDisabledUser);
         SharedPreferences sharedPref = getSharedPreferences("userID", Context.MODE_PRIVATE);
         sharedPref.edit().putInt("lastID", ChangeUserHelper.getID()).commit();
         Log.i("userTAG", "lastUser: tag changed to " + ChangeUserHelper.getID());
-        ChangeUserHelper.setUserTag(getUsersCount());
-        sharedPref.edit().putInt("userID", ChangeUserHelper.getID()).commit();
-        sharedPref.edit().putInt("usersCount", getUsersCount() + 1).commit();
+        ChangeUserHelper.setUserTag(firstDisabledUser);
+        sharedPref.edit().putInt("userID", firstDisabledUser).commit();
+        sharedPref.edit().putInt("state_user_"+firstDisabledUser, 0).commit();
+        sharedPref.edit().putInt("addedUser", firstDisabledUser).commit();
         sharedPref.edit().apply();
         Log.i("userTAG", "addUser: tag changed to " + ChangeUserHelper.getUserTag());
         restart();
@@ -208,21 +215,40 @@ public void addUser() {
 
     public void backToLastUser() {
         SharedPreferences sharedPref = getSharedPreferences("userID", Context.MODE_PRIVATE);
+        sharedPref.edit().putInt("state_user_" + sharedPref.getInt("addedUser",10), 1).commit();
         sharedPref.edit().putInt("userID", sharedPref.getInt("lastID",0)).commit();
-        sharedPref.edit().putInt("usersCount", sharedPref.getInt("lastCount",1)).commit();
         sharedPref.edit().apply();
-        Log.i("userTAG", "backToLastUser: tag changed to _" + ChangeUserHelper.getUserTag());
+        deleteUser(sharedPref.getInt("addedUser",10));
+        Log.i("userTAG", "backToLastUser: tag changed to _" + sharedPref.getInt("lastID",0));
         restart();
     }
 
-    public int getUsersCount() {
-        Log.i("TGM", "getUsersCount: called");
-        SharedPreferences userPhone = getSharedPreferences("userID", Context.MODE_PRIVATE);
-        return userPhone.getInt("usersCount",1);
+    public int getUsersDisabled() {
+        int count = 0;
+        Log.i("TGM", "getUsersDisabled: called");
+        SharedPreferences userDisabled = getSharedPreferences("userID", Context.MODE_PRIVATE);
+        for (int i = 0; i < 9; i++) {
+            if(userDisabled.getInt("state_user_"+i,1) == 1) return i;
+        }
+        return -1;
+    }
+
+    public List<Integer> getUsersEnabled() {
+        List<Integer> users = new ArrayList<Integer>();
+        Log.i("TGM", "getUsersEnabled: called");
+        SharedPreferences userDisabled = getSharedPreferences("userID", Context.MODE_PRIVATE);
+        for (int i = 0; i < 9; i++) {
+            if(userDisabled.getInt("state_user_"+i,1) == 0) {
+                users.add(i);
+            }
+        }
+        return users;
     }
 
     public void setUser(int position) {
-        ChangeUserHelper.setUserTag(position);
+        int toSetUser = -1;
+        if(getUsersEnabled().size() > position) toSetUser = getUsersEnabled().get(position); else return;
+        ChangeUserHelper.setUserTag(toSetUser);
         SharedPreferences sharedPref = getSharedPreferences("userID", Context.MODE_PRIVATE);
         sharedPref.edit().putInt("userID", ChangeUserHelper.getID()).commit();
         sharedPref.edit().apply();
@@ -241,24 +267,24 @@ public void restart() {
 
     @Override
     public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
-        UserItems userItems = (UserItems) adapter.getItem(position);
-//        Toast.makeText(this, "Name => "+userItems.getName()+" \n Phone => "+userItems.getPhone(), Toast.LENGTH_SHORT).show();
+//        UserItems userItems = (UserItems) adapter.getItem(position);
         setUser(position);
     }
 
     public void prepareArrayList()
-    {   itemList = new ArrayList<Object>();
-        int usersCount = getUsersCount();
-        for (int i = 0; i < usersCount ; i++) {
-            Log.i("TGM", "prepareArrayLits: " + i);
+    {   itemList = new ArrayList<>();
+        for (int i = 0; i < getUsersEnabled().size() ; i++) {
+            int k = getUsersEnabled().get(i);
+            Log.i("TGM", "prepareArrayLits: " + k);
+            Log.i("TGM", "prepareArrayList: getUsersEnabled().size " + getUsersEnabled().size());
+            Log.i("TGM", "prepareArrayList: getUsersEnabled().get(i) " + k + " i = " + i);
             String first_name = "null";
-            if (getUserByTag("_user_" + i).last_name == null) first_name = getUserByTag("_user_" + i).first_name;
-            else first_name = getUserByTag("_user_" + i).first_name + " " + getUserByTag("_user_" + i).last_name;
-            String phone = getUserByTag("_user_" + i).phone;
-            Bitmap photo = getBitmap(getUserByTag("_user_" + i));
-            if(ChangeUserHelper.getID() == i) AddObjectToList(photo, first_name, phone, i);
-            else
-                AddObjectToList(photo, first_name, phone);
+            if (getUserByTag("_user_" + k).last_name == null) first_name = getUserByTag("_user_" + k).first_name;
+            else first_name = getUserByTag("_user_" + k).first_name + " " + getUserByTag("_user_" + k).last_name;
+            String phone = getUserByTag("_user_" + k).phone;
+            Bitmap photo = getBitmap(getUserByTag("_user_" + k));
+            if (ChangeUserHelper.getID() == k) AddObjectToList(photo, first_name, phone, i);
+            else AddObjectToList(photo, first_name, phone);
         }
         adapter = new UserItemsAdapter(this, itemList);
         lvUserList.setAdapter(adapter);
@@ -280,7 +306,7 @@ public Bitmap getBitmap(TLRPC.User user) {
             icon = createRoundBitmap(FileLoader.getPathToAttach(user.photo.photo_small, true));
             return icon;
         }
-        return drawableToBitmap(R.drawable.logo_avatar);
+        return drawableToBitmap(R.drawable.book_user);
     }
 
     public void AddObjectToList(Bitmap image, String title, String desc)
@@ -295,11 +321,12 @@ public void AddObjectToList(Bitmap image, String title, String desc)
 
     public void AddObjectToList(Bitmap image, String title, String desc, int pos)
     {
-        Log.i("TGM", "AddObjectToList: called");
+        Log.i("TGM", "AddObjectToList with setCurrent: called " + pos);
         userItems = new UserItems();
         userItems.setPhone(desc);
         userItems.setPhoto(image);
         userItems.setCurrent(pos);
+        currentUser = pos;
         userItems.setName(title);
         itemList.add(userItems);
     }
@@ -346,7 +373,6 @@ public static float convertDpToPixel(float dp){
     public boolean onOptionsItemSelected(MenuItem item) {
         switch (item.getItemId()) {
             case android.R.id.home:
-                // app icon in action bar clicked; go home
             onBackPressed();
                 return true;
             default:
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java
index bb0852a51..e7ad0f711 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java
@@ -224,7 +224,6 @@ public void run() {
             }
         });
 
-        Log.i("TGM", "createView: call");
         ActionBarMenu menu = actionBar.createMenu();
         if (!onlySelect && searchString == null) {
             passcodeItem = menu.addItem(1, R.drawable.lock_close);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/IntroActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/IntroActivity.java
index 9221c8fb9..dd95ec924 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/IntroActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/IntroActivity.java
@@ -141,6 +141,10 @@ protected void onCreate(Bundle savedInstanceState) {
             startMessagingButton.setText(LocaleController.getString("AddUser", R.string.AddUser).toUpperCase());
             backToLastUserButton.setVisibility(View.VISIBLE);
             backToLastUserButton.setText(getText(R.string.GoBack).toString().toUpperCase());//LocaleController.getString("StartMessaging", R.string.StartMessaging).toUpperCase());
+        } else
+        {
+            sharedPref.edit().putInt("state_user_0",0).apply();
+            sharedPref.edit().putInt("userID", 0).apply();
         }
             if (Build.VERSION.SDK_INT >= 21) {
             StateListAnimator animator = new StateListAnimator();
diff --git a/TMessagesProj/src/main/res/layout/user_list_item.xml b/TMessagesProj/src/main/res/layout/user_list_item.xml
index 6a9da0f6d..117947a0a 100644
--- a/TMessagesProj/src/main/res/layout/user_list_item.xml
+++ b/TMessagesProj/src/main/res/layout/user_list_item.xml
@@ -34,7 +34,8 @@
         android:id="@+id/userPhone"
         android:layout_toRightOf="@+id/userPhoto"
         android:layout_below="@+id/userName"
-        android:layout_marginLeft="15dip">
+        android:textColor="#808080"
+        android:layout_marginLeft="10dip">
     </TextView>
 
     <ImageView
