diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index 52181cf0d..f14f395f9 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -26,7 +26,6 @@ dependencies {
 android {
     compileSdkVersion 19
     buildToolsVersion '20.0.0'
-
     signingConfigs {
         debug {
             storeFile file("config/debug.keystore")
@@ -39,32 +38,27 @@ android {
             keyPassword RELEASE_KEY_PASSWORD
         }
     }
-
     buildTypes {
         debug {
             debuggable true
             jniDebugBuild false
             signingConfig signingConfigs.debug
         }
-
         release {
             debuggable false
             jniDebugBuild false
             signingConfig signingConfigs.release
         }
-
         foss {
             debuggable false
             jniDebugBuild false
             signingConfig signingConfigs.release
         }
     }
-
     sourceSets.main {
         jniLibs.srcDir 'libs'
         jni.srcDirs = [] //disable automatic ndk-build call
     }
-
     sourceSets {
         debug {
             manifest.srcFile 'config/debug/AndroidManifest.xml'
@@ -76,11 +70,12 @@ android {
             manifest.srcFile 'config/foss/AndroidManifest.xml'
         }
     }
-
     defaultConfig {
         minSdkVersion 8
         targetSdkVersion 19
         versionCode 355
-        versionName "1.9.4"
+        versionName '1.9.4'
+    }
+    productFlavors {
     }
 }
diff --git a/TMessagesProj/src/main/java/com/teamjihu/ThemeManager.java b/TMessagesProj/src/main/java/com/teamjihu/ThemeManager.java
index 16df466fc..c2d0daf06 100644
--- a/TMessagesProj/src/main/java/com/teamjihu/ThemeManager.java
+++ b/TMessagesProj/src/main/java/com/teamjihu/ThemeManager.java
@@ -11,7 +11,8 @@
 import android.graphics.drawable.Drawable;
 
 public class ThemeManager {
-	private static final String CUSTOM_PERMISSION = "kr.co.iconnect.inputmethod.ikeypad.theme.V1";
+    private static final String CUSTOM_PERMISSION = "kr.co.iconnect.inputmethod.ikeypad.theme.V1";
+    private static final String DEFAULT_THEME_NAME = "com.teamjihu.telegram";
 	private PackageManager mPackageManager = null;
 	private String mCurrentTheme = null;
 	private Resources mCurrentThemeResource = null;
@@ -27,7 +28,7 @@ public void setCurrentTheme(String themePkgName) {
 		try {
 			mCurrentThemeResource = mPackageManager.getResourcesForApplication(mCurrentTheme);
 		} catch (NameNotFoundException e) {
-			setCurrentTheme("com.teamjihu.taroplayer");
+			setCurrentTheme(DEFAULT_THEME_NAME);
 		}
 	}
 	
@@ -88,7 +89,7 @@ public Drawable getDrawable(String name, boolean nullIfNotExist) {
 			if(nullIfNotExist)
 				return null;
 			String currentTheme = getCurrentTheme();
-			setCurrentTheme("com.teamjihu.taroplayer");
+			setCurrentTheme(DEFAULT_THEME_NAME);
 			Drawable ret = getDrawable(name, false);
 			setCurrentTheme(currentTheme);
 			return ret;
@@ -101,7 +102,7 @@ public int getColor(String name) {
 			return mCurrentThemeResource.getColor(id);
 		} catch(Resources.NotFoundException ex) {
 			String currentTheme = getCurrentTheme();
-			setCurrentTheme("com.teamjihu.taroplayer");
+			setCurrentTheme(DEFAULT_THEME_NAME);
 			int ret = getColor(name);
 			setCurrentTheme(currentTheme);
 			return ret;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/SettingsThemeActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/SettingsThemeActivity.java
index c68c15716..8def41b51 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/SettingsThemeActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/SettingsThemeActivity.java
@@ -6,13 +6,27 @@
 import android.view.View;
 import android.view.ViewGroup;
 import android.view.LayoutInflater;
+import android.widget.FrameLayout;
+import android.widget.LinearLayout;
+import android.widget.ListView;
+import android.widget.TextView;
+
+import com.teamjihu.ThemeManager;
+
 import org.telegram.messenger.phonethemeshop.R;
+
+import java.util.ArrayList;
+
 /**
  * Created by soohwanpark on 2014-10-22.
  */
 public class SettingsThemeActivity extends BaseFragment {
+    ThemeManager mThemeManager;
+    LayoutInflater INFLATER;
+
     @Override
     public View createView(LayoutInflater inflater, ViewGroup container) {
+        INFLATER = inflater;
         if (fragmentView == null) {
             actionBarLayer.setDisplayHomeAsUpEnabled(true, R.drawable.ic_ab_back);
             actionBarLayer.setBackOverlay(R.layout.updating_state_layout);
@@ -27,6 +41,8 @@ public void onItemClick(int id) {
             });
 
             fragmentView = inflater.inflate(R.layout.settings_theme_layout, container, false);
+            mThemeManager = new ThemeManager(getActivity().getPackageManager());
+            getThemeList();
         } else {
             ViewGroup parent = (ViewGroup)fragmentView.getParent();
             if (parent != null) {
@@ -35,4 +51,19 @@ public void onItemClick(int id) {
         }
         return fragmentView;
     }
+
+    private void getThemeList() {
+        ArrayList<String> pkgs = new ArrayList<String>();
+        ArrayList<String> names = new ArrayList<String>();
+
+        ListView themeList = (ListView)fragmentView.findViewById(R.id.theme_list);
+        mThemeManager.GetThemeList(pkgs, names);
+        for ( int i = 0; i < pkgs.size(); i++ ) {
+            FrameLayout themeItem = (FrameLayout)INFLATER.inflate(R.layout.theme_item, themeList, false);
+            TextView themeName = (TextView)themeItem.findViewById(R.id.theme_name);
+            themeName.setText(names.get(i));
+
+            themeList.addView(themeItem);
+        }
+    }
 }
diff --git a/TMessagesProj/src/main/res/layout/settings_theme_layout.xml b/TMessagesProj/src/main/res/layout/settings_theme_layout.xml
index 17f167f96..9649c338f 100644
--- a/TMessagesProj/src/main/res/layout/settings_theme_layout.xml
+++ b/TMessagesProj/src/main/res/layout/settings_theme_layout.xml
@@ -6,8 +6,8 @@
     android:layout_height="wrap_content"
     android:paddingTop="13dp"
     android:paddingBottom="12dp">
-    <TextView
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:text="abcvd" />
+    <ListView
+        android:id="@+id/theme_list"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"></ListView>
 </LinearLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/theme_item.xml b/TMessagesProj/src/main/res/layout/theme_item.xml
index 84b6e7478..ca77d6cd6 100644
--- a/TMessagesProj/src/main/res/layout/theme_item.xml
+++ b/TMessagesProj/src/main/res/layout/theme_item.xml
@@ -1,6 +1,16 @@
 <?xml version="1.0" encoding="utf-8"?>
 <FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="match_parent"
-    android:layout_height="match_parent">
+    android:layout_height="50dp">
+
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:orientation="horizontal">
+        <TextView
+            android:id="@+id/theme_name"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent" />
+    </LinearLayout>
 
 </FrameLayout>
