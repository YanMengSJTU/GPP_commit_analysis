diff --git a/TMessagesProj/src/main/java/org/telegram/messenger_test/ApplicationLoader.java b/TMessagesProj/src/main/java/org/telegram/messenger_test/ApplicationLoader.java
index ad881f335..c21956fa1 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger_test/ApplicationLoader.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger_test/ApplicationLoader.java
@@ -25,6 +25,7 @@
 import android.os.Handler;
 import android.os.PowerManager;
 import android.util.Base64;
+import android.util.Log;
 
 import com.google.android.gms.common.ConnectionResult;
 import com.google.android.gms.common.GooglePlayServicesUtil;
@@ -117,6 +118,9 @@ public static void postInitApplication() {
         }
 
         applicationInited = true;
+        SharedPreferences userID = ApplicationLoader.applicationContext.getSharedPreferences("userID", Context.MODE_PRIVATE);
+        Change_user_helper.setUserTag(userID.getString("userID","_user_0"));
+        Log.i("userTAG", "postInitApplication: " + Change_user_helper.getUserTag());
         convertConfig();
 
         try {
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger_test/Change_user_helper.java b/TMessagesProj/src/main/java/org/telegram/messenger_test/Change_user_helper.java
index 099998ec4..9c7a7edbc 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger_test/Change_user_helper.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger_test/Change_user_helper.java
@@ -1,5 +1,7 @@
 package org.telegram.messenger_test;
 
+import android.util.Log;
+
 /**
  * Created by oleg.svs on 21.05.2017.
  */
@@ -10,6 +12,7 @@
     static public void setUserTag(String tag) {
         if(tag != null)
             userTag = tag;
+        Log.i("userTAG", "getUserTag: " + userTag);
     }
 
     static public String getUserTag() {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChangeUserActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChangeUserActivity.java
index 8cf0d769b..11592f6d8 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChangeUserActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChangeUserActivity.java
@@ -1,11 +1,18 @@
 package org.telegram.ui;
 
 import android.app.Activity;
+import android.app.AlarmManager;
+import android.app.PendingIntent;
+import android.content.Context;
+import android.content.Intent;
+import android.content.SharedPreferences;
 import android.os.Bundle;
-import android.widget.TextView;
+import android.util.Log;
+import android.view.View;
 import android.widget.Toast;
 
 import org.telegram.PhoneFormat.PhoneFormat;
+import org.telegram.messenger_test.Change_user_helper;
 import org.telegram.messenger_test.LocaleController;
 import org.telegram.messenger_test.R;
 import org.telegram.messenger_test.UserConfig;
@@ -39,4 +46,31 @@ protected void onCreate(Bundle savedInstanceState) {
 //        tvPnone.setText(userPhone);
         Toast.makeText(this,userName.toString() + " " + userPhone.toString(),Toast.LENGTH_LONG).show();
     }
+
+    public void setUser1(View v) {
+        Change_user_helper.setUserTag("_user_0");
+        SharedPreferences sharedPref = getSharedPreferences("userID", Context.MODE_PRIVATE);
+        sharedPref.edit().putString("userID", Change_user_helper.getUserTag()).commit();
+        sharedPref.edit().apply();
+        Log.i("userTAG", "setUser2: tag changed to " + Change_user_helper.getUserTag());
+        restart();
+    }
+
+    public void setUser2(View v) {
+        Change_user_helper.setUserTag("_user_1");
+        SharedPreferences sharedPref = getSharedPreferences("userID", Context.MODE_PRIVATE);
+        sharedPref.edit().putString("userID", Change_user_helper.getUserTag()).commit();
+        sharedPref.edit().apply();
+        Log.i("userTAG", "setUser2: tag changed to " + Change_user_helper.getUserTag());
+        restart();
+    }
+
+    public void restart() {
+        Intent launchIntent = new Intent(getApplicationContext(), org.telegram.ui.LaunchActivity.class);
+        PendingIntent intent = PendingIntent.getActivity(getApplicationContext(), 0, launchIntent , 0);
+        AlarmManager manager = (AlarmManager) this.getSystemService(Context.ALARM_SERVICE);
+        manager.set(AlarmManager.RTC, System.currentTimeMillis() + 500, intent);
+        Log.i("userTAG", "restarting... " + Change_user_helper.getUserTag());
+        System.exit(2);
+    }
 }
diff --git a/TMessagesProj/src/main/res/layout/activity_change_user.xml b/TMessagesProj/src/main/res/layout/activity_change_user.xml
index ec9484e32..f73ffd769 100644
--- a/TMessagesProj/src/main/res/layout/activity_change_user.xml
+++ b/TMessagesProj/src/main/res/layout/activity_change_user.xml
@@ -1,18 +1,10 @@
 <?xml version="1.0" encoding="utf-8"?>
 <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
 android:layout_width="match_parent"
-android:layout_height="match_parent"
-    >
-<RelativeLayout
-    android:id="@+id/main_layout"
-    android:layout_width="match_parent"
-    android:layout_height="match_parent"
-    >
-
-
-</RelativeLayout>
+android:layout_height="match_parent">
     <Button
-        android:id="@+id/button2"
+        android:id="@+id/setUser1"
+        android:onClick="setUser1"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_alignParentEnd="true"
@@ -21,5 +13,16 @@ android:layout_height="match_parent"
         android:layout_marginEnd="131dp"
         android:layout_marginRight="131dp"
         android:layout_marginTop="207dp"
-        android:text="Button" />
+        android:text="setUser1" />
+
+    <Button
+        android:id="@+id/setUser2"
+        android:onClick="setUser2"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="setUser2"
+        android:layout_below="@+id/setUser1"
+        android:layout_alignLeft="@+id/setUser1"
+        android:layout_alignStart="@+id/setUser1"
+        android:layout_marginTop="18dp" />
 </RelativeLayout>
\ No newline at end of file
