diff --git a/jsprit-core/src/main/java/com/graphhopper/jsprit/core/util/VehicleIndexComparator.java b/jsprit-core/src/main/java/com/graphhopper/jsprit/core/util/VehicleIndexComparator.java
index 5b7c6585a..0e6954077 100644
--- a/jsprit-core/src/main/java/com/graphhopper/jsprit/core/util/VehicleIndexComparator.java
+++ b/jsprit-core/src/main/java/com/graphhopper/jsprit/core/util/VehicleIndexComparator.java
@@ -23,7 +23,9 @@
 import com.graphhopper.jsprit.core.problem.solution.route.VehicleRoute;
 
 public class VehicleIndexComparator implements Comparator<VehicleRoute> {
+    @Override
     public int compare(VehicleRoute a, VehicleRoute b) {
-        return a.getVehicle().getIndex() - b.getVehicle().getIndex();
+        return (a.getVehicle() == null ? 0 : a.getVehicle().getIndex()) -
+                        (b.getVehicle() == null ? 0 : b.getVehicle().getIndex());
     }
 }
