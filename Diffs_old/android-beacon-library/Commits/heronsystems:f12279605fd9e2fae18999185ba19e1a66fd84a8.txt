diff --git a/build.gradle b/build.gradle
index d04ab77a..eb1fae59 100644
--- a/build.gradle
+++ b/build.gradle
@@ -31,7 +31,7 @@ buildscript {
     }
 
     dependencies {
-        classpath 'com.android.tools.build:gradle:2.3.1'
+        classpath 'com.android.tools.build:gradle:3.0.0-alpha2'
         classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.7.3'
         classpath 'org.jfrog.buildinfo:build-info-extractor-gradle:3.0.3'
     }
@@ -53,17 +53,19 @@ allprojects {
 android {
     // You cannot set a minSdk < Android O if targeting android-O.  Swap out the
     // commented lines below to test on Android O devices vs. earlier devices.
-    //compileSdkVersion 25
     compileSdkVersion 'android-O'
     buildToolsVersion '26.0.0-rc2'
+    //compileSdkVersion 24
+    //buildToolsVersion "25.0.2"
 
     defaultConfig {
         // Unfortunately 'com.android.support:appcompat-v7:26.0.0-alpha1
         // requires minSdkVersion 14, forcing a bump verson minSdkVersion 7
         minSdkVersion 14
+        //minSdkVersion 7
         // You cannot set a minSdk < Android O if targeting android-O.  Swap out the
         // commented lines below to test on Android O devices vs. earlier devices.
-        //targetSdkVersion 25
+        //targetSdkVersion 23
         targetSdkVersion 'O'
         versionCode 1
         versionName version
@@ -95,8 +97,11 @@ android {
 
 dependencies {
     compile fileTree ( dir: 'libs', include: ['*.jar'] )
-    // Docs say to use com.android.support:appcompat-v7:26.0.0-beta1, but that is not available
-    compile 'com.android.support:appcompat-v7:26.0.0-alpha1'
+    // You cannot set a minSdk < Android O if targeting android-O.  Swap out the
+    // commented lines below to test on Android O devices vs. earlier devices.
+    // For Android O Docs say to use com.android.support:appcompat-v7:26.0.0-beta1, but that is not available
+    //compile 'com.android.support:appcompat-v7:26.0.0-alpha1'
+    compile 'com.android.support:support-v4:24.1.0'
     compile 'com.android.support:support-annotations:24.2.1'
 
     testCompile('junit:junit:4.12') {
diff --git a/gradle/wrapper/gradle-wrapper.properties b/gradle/wrapper/gradle-wrapper.properties
index 388ee27b..6c7b0b88 100644
--- a/gradle/wrapper/gradle-wrapper.properties
+++ b/gradle/wrapper/gradle-wrapper.properties
@@ -3,4 +3,5 @@ distributionBase=GRADLE_USER_HOME
 distributionPath=wrapper/dists
 zipStoreBase=GRADLE_USER_HOME
 zipStorePath=wrapper/dists
-distributionUrl=https\://services.gradle.org/distributions/gradle-3.3-all.zip
+distributionUrl=https\://services.gradle.org/distributions/gradle-4.0-milestone-1-all.zip
+#distributionUrl=https\://services.gradle.org/distributions/gradle-3.3-all.zip
diff --git a/src/main/AndroidManifest.xml b/src/main/AndroidManifest.xml
index 995136cf..a27fcf75 100644
--- a/src/main/AndroidManifest.xml
+++ b/src/main/AndroidManifest.xml
@@ -5,47 +5,6 @@
     <uses-permission android:name="android.permission.BLUETOOTH" android:required="false"/>
     <uses-permission android:name="android.permission.BLUETOOTH_ADMIN" android:required="false"/>
     <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"/>
-    <!--
-06-04 23:00:12.489 3894-3894/? E/AndroidRuntime: FATAL EXCEPTION: main
-                                                 Process: org.altbeacon.beaconreference, PID: 3894
-                                                 java.lang.RuntimeException: Unable to create application org.altbeacon.beaconreference.BeaconReferenceApplication: java.lang.IllegalArgumentException: Error: requested job be persisted without holding RECEIVE_BOOT_COMPLETED permission.
-                                                     at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5788)
-                                                     at android.app.ActivityThread.-wrap1(Unknown Source:0)
-                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1659)
-                                                     at android.os.Handler.dispatchMessage(Handler.java:105)
-                                                     at android.os.Looper.loop(Looper.java:164)
-                                                     at android.app.ActivityThread.main(ActivityThread.java:6535)
-                                                     at java.lang.reflect.Method.invoke(Native Method)
-                                                     at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)
-                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)
-                                                  Caused by: java.lang.IllegalArgumentException: Error: requested job be persisted without holding RECEIVE_BOOT_COMPLETED permission.
-                                                     at android.os.Parcel.readException(Parcel.java:1940)
-                                                     at android.os.Parcel.readException(Parcel.java:1882)
-                                                     at android.app.job.IJobScheduler$Stub$Proxy.schedule(IJobScheduler.java:180)
-                                                     at android.app.JobSchedulerImpl.schedule(JobSchedulerImpl.java:44)
-                                                     at org.altbeacon.beacon.service.ScanJob.schedule(ScanJob.java:260)
-                                                     at org.altbeacon.beacon.service.ScanJob.applySettingsToScheduledJob(ScanJob.java:204)
-                                                     at org.altbeacon.beacon.service.ScanJob.applySettingsToScheduledJob(ScanJob.java:211)
-                                                     at org.altbeacon.beacon.BeaconManager.startMonitoringBeaconsInRegion(BeaconManager.java:874)
-                                                     at org.altbeacon.beacon.startup.RegionBootstrap$InternalBeaconConsumer.onBeaconServiceConnect(RegionBootstrap.java:155)
-                                                     at org.altbeacon.beacon.BeaconManager.bind(BeaconManager.java:378)
-                                                     at org.altbeacon.beacon.startup.RegionBootstrap.<init>(RegionBootstrap.java:58)
-                                                     at org.altbeacon.beaconreference.BeaconReferenceApplication.onCreate(BeaconReferenceApplication.java:60)
-                                                     at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1118)
-                                                     at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5785)
-                                                     at android.app.ActivityThread.-wrap1(Unknown Source:0) 
-                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1659) 
-                                                     at android.os.Handler.dispatchMessage(Handler.java:105) 
-                                                     at android.os.Looper.loop(Looper.java:164) 
-                                                     at android.app.ActivityThread.main(ActivityThread.java:6535) 
-                                                     at java.lang.reflect.Method.invoke(Native Method) 
-                                                     at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240) 
-                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767) 
-
-    -->
-
-
-
     <uses-permission-sdk-23 android:name="android.permission.ACCESS_COARSE_LOCATION"/>
 
     <application>
diff --git a/src/main/java/org/altbeacon/beacon/BeaconManager.java b/src/main/java/org/altbeacon/beacon/BeaconManager.java
index 85dde8df..a0a9a674 100644
--- a/src/main/java/org/altbeacon/beacon/BeaconManager.java
+++ b/src/main/java/org/altbeacon/beacon/BeaconManager.java
@@ -156,10 +156,9 @@
     private boolean mBackgroundMode = false;
     private boolean mBackgroundModeUninitialized = true;
     private boolean mMainProcess = false;
-    private boolean mScheduledScanJobsEnabled = false;
     @Nullable
     private Boolean mScannerInSameProcess = null;
-
+    private boolean mScheduledScanJobsEnabled = false;
     private static boolean sAndroidLScanningDisabled = false;
     private static boolean sManifestCheckingDisabled = false;
 
@@ -863,8 +862,7 @@ protected void syncSettingsToService() {
                 Message msg = Message.obtain(null, BeaconService.MSG_SYNC_SETTINGS, 0, 0);
                 msg.setData(new SettingsData().collect(mContext).toBundle());
                 serviceMessenger.send(msg);
-            }
-            catch (RemoteException e) {
+            } catch (RemoteException e) {
                 LogManager.e(TAG, "Failed to sync settings to service", e);
             }
         }
diff --git a/src/main/java/org/altbeacon/beacon/service/scanner/CycledLeScannerForAndroidO.java b/src/main/java/org/altbeacon/beacon/service/scanner/CycledLeScannerForAndroidO.java
index 4df63c91..403c25b7 100644
--- a/src/main/java/org/altbeacon/beacon/service/scanner/CycledLeScannerForAndroidO.java
+++ b/src/main/java/org/altbeacon/beacon/service/scanner/CycledLeScannerForAndroidO.java
@@ -38,9 +38,6 @@ public void startAndroidOBackgroundScan(Set<BeaconParser> beaconParsers) {
         List<ScanFilter> filters = new ScanFilterUtils().createScanFiltersForBeaconParsers(
                 new ArrayList(beaconParsers));
         try {
-            // We cannot build with a minSdk < Android O when using Android O preview APIs
-            // so if you set an earlier minSdk to test against pre-O devices, you must comment out
-            // the next few lines
             int result = getBluetoothAdapter().getBluetoothLeScanner().startScan(filters, settings, getScanCallbackIntent());
             if (result != 0) {
                 LogManager.e(TAG, "Failed to start background scan on Android O.  Code: "+result);
