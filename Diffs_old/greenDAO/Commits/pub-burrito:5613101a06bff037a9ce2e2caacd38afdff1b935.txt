diff --git a/DaoCore/src/de/greenrobot/dao/AbstractDao.java b/DaoCore/src/de/greenrobot/dao/AbstractDao.java
index fd6c1267..71a85ea6 100644
--- a/DaoCore/src/de/greenrobot/dao/AbstractDao.java
+++ b/DaoCore/src/de/greenrobot/dao/AbstractDao.java
@@ -279,7 +279,8 @@ private void executeInsertInTx(PreparedStatement stmt, Iterable<T> entities, boo
                     for (T entity : entities) {
                         bindValues(stmt, entity);
                         if (setPrimaryKey) {
-                            long rowId = stmt.executeUpdate();
+                        	stmt.executeUpdate();
+                            long rowId = getGeneratedKey( stmt );
                             updateKeyAfterInsertAndAttach(entity, rowId, false);
                         } else {
                             stmt.execute();
@@ -327,7 +328,8 @@ public long insertWithoutSettingPk(T entity) throws SQLException {
         try {
             synchronized (stmt) {
                 bindValues(stmt, entity);
-                rowId = stmt.executeUpdate();
+                stmt.executeUpdate();
+                rowId = getGeneratedKey( stmt );
                 connection.commit();
             }
         } catch (SQLException e) {
@@ -355,7 +357,8 @@ private long executeInsert(T entity, PreparedStatement stmt) throws SQLException
         try {
             synchronized (stmt) {
                 bindValues(stmt, entity);
-                rowId = stmt.executeUpdate();
+                stmt.executeUpdate();
+                rowId = getGeneratedKey( stmt );
             }
             connection.commit();
         } catch (SQLException e) {
@@ -368,6 +371,20 @@ private long executeInsert(T entity, PreparedStatement stmt) throws SQLException
         return rowId;
     }
 
+    protected long getGeneratedKey( PreparedStatement stmt ) throws SQLException
+    {
+        ResultSet rs = stmt.getGeneratedKeys();
+        
+		if ( rs.next() )
+		{
+			return rs.getLong( 1 );
+		}
+		else 
+		{
+			return 0;
+		}
+    }
+    
     protected void updateKeyAfterInsertAndAttach(T entity, long rowId, boolean lock) {
         if (rowId != -1) {
             K key = updateKeyAfterInsert(entity, rowId);
