diff --git a/ion/src/com/koushikdutta/ion/conscrypt/ConscryptMiddleware.java b/ion/src/com/koushikdutta/ion/conscrypt/ConscryptMiddleware.java
index dd47276d..b907504c 100644
--- a/ion/src/com/koushikdutta/ion/conscrypt/ConscryptMiddleware.java
+++ b/ion/src/com/koushikdutta/ion/conscrypt/ConscryptMiddleware.java
@@ -10,7 +10,9 @@
 import java.security.Provider;
 import java.security.Security;
 
+import javax.net.ssl.HttpsURLConnection;
 import javax.net.ssl.SSLContext;
+import javax.net.ssl.SSLSocketFactory;
 
 /**
  * Created by koush on 7/13/14.
@@ -42,7 +44,8 @@ static void initialize(Context context) {
                 if (Security.getProvider(GMS_PROVIDER) != null)
                     return;
 
-                SSLContext originalDefault = SSLContext.getDefault();
+                SSLContext originalDefaultContext = SSLContext.getDefault();
+                SSLSocketFactory originalDefaultSSLSocketFactory = HttpsURLConnection.getDefaultSSLSocketFactory();
                 Context gms = context.createPackageContext("com.google.android.gms", Context.CONTEXT_INCLUDE_CODE | Context.CONTEXT_IGNORE_SECURITY);
                 gms
                 .getClassLoader()
@@ -54,7 +57,8 @@ static void initialize(Context context) {
                 Provider provider = Security.getProvider(GMS_PROVIDER);
                 Security.removeProvider(GMS_PROVIDER);
                 Security.insertProviderAt(provider, providers.length);
-                SSLContext.setDefault(originalDefault);
+                SSLContext.setDefault(originalDefaultContext);
+                HttpsURLConnection.setDefaultSSLSocketFactory(originalDefaultSSLSocketFactory);
                 success = true;
             }
         }
diff --git a/ion/test/src/com/koushikdutta/ion/test/ConscryptTests.java b/ion/test/src/com/koushikdutta/ion/test/ConscryptTests.java
new file mode 100644
index 00000000..19dc38a1
--- /dev/null
+++ b/ion/test/src/com/koushikdutta/ion/test/ConscryptTests.java
@@ -0,0 +1,38 @@
+package com.koushikdutta.ion.test;
+
+import android.test.AndroidTestCase;
+
+import com.koushikdutta.ion.Ion;
+
+import java.security.Provider;
+import java.security.Security;
+
+import javax.net.ssl.HttpsURLConnection;
+import javax.net.ssl.SSLSocketFactory;
+
+/**
+ * Created by koush on 10/27/14.
+ */
+public class ConscryptTests extends AndroidTestCase {
+    // needs to be run on fresh vm startups...
+
+    /*
+    public void testConscryptInit() throws Exception {
+        Ion.getDefault(getContext())
+        .getConscryptMiddleware().initialize();
+
+        Provider[] providers = Security.getProviders();
+
+        System.out.println(providers);
+    }
+
+    public void testDefault() throws Exception {
+        SSLSocketFactory factory = HttpsURLConnection.getDefaultSSLSocketFactory();
+
+        Ion.getDefault(getContext())
+        .getConscryptMiddleware().initialize();
+
+        assertEquals(factory, HttpsURLConnection.getDefaultSSLSocketFactory());
+    }
+    */
+}
