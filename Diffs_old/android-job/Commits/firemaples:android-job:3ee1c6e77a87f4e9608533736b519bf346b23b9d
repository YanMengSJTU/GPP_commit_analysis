diff --git a/build.gradle b/build.gradle
index 2dbcbf0..8903871 100644
--- a/build.gradle
+++ b/build.gradle
@@ -1,7 +1,7 @@
 buildscript {
     repositories {
-        jcenter()
         google()
+        jcenter()
     }
     dependencies {
         classpath 'com.android.tools.build:gradle:3.2.1'
@@ -11,8 +11,8 @@ buildscript {
 
 allprojects {
     repositories {
-        jcenter()
         google()
+        jcenter()
     }
 
     tasks.withType(JavaCompile) {
diff --git a/library/src/androidTest/java/com/evernote/android/job/PlatformJobManagerRule.java b/library/src/androidTest/java/com/evernote/android/job/PlatformJobManagerRule.java
index 716db52..1f410b4 100644
--- a/library/src/androidTest/java/com/evernote/android/job/PlatformJobManagerRule.java
+++ b/library/src/androidTest/java/com/evernote/android/job/PlatformJobManagerRule.java
@@ -39,7 +39,10 @@ protected void after() {
         mManager.cancelAll();
         mManager.destroy();
 
-        getJobScheduler().cancelAll();
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
+            getJobScheduler().cancelAll();
+        }
+
         JobConfig.reset();
     }
 
diff --git a/library/src/androidTest/java/com/evernote/android/job/PlatformTest.java b/library/src/androidTest/java/com/evernote/android/job/PlatformTest.java
index db80528..580dc6e 100644
--- a/library/src/androidTest/java/com/evernote/android/job/PlatformTest.java
+++ b/library/src/androidTest/java/com/evernote/android/job/PlatformTest.java
@@ -159,6 +159,23 @@ private void testOneOff(JobApi api, long wait, TimeUnit timeUnit) throws Excepti
         assertThat(mManager.getJobRequest(jobId)).isNull();
     }
 
+    @Test
+    public void testUpdateCurrent() {
+        String TAG = "tag";
+
+        JobRequest.Builder builder = new JobRequest.Builder(TAG)
+                .setUpdateCurrent(true)
+                .setExecutionWindow(TimeUnit.HOURS.toMillis(4), TimeUnit.HOURS.toMillis(5));
+
+        builder.build().schedule();
+
+        assertThat(JobManager.instance().getAllJobRequestsForTag(TAG)).hasSize(1);
+
+        builder.build().schedule();
+
+        assertThat(JobManager.instance().getAllJobRequestsForTag(TAG)).hasSize(1);
+    }
+
     private final class TestJob extends Job {
 
         private final CountDownLatch mLatch = new CountDownLatch(1);
diff --git a/library/src/main/java/com/evernote/android/job/GcmAvailableHelper.java b/library/src/main/java/com/evernote/android/job/GcmAvailableHelper.java
index 8db56f0..27993ad 100644
--- a/library/src/main/java/com/evernote/android/job/GcmAvailableHelper.java
+++ b/library/src/main/java/com/evernote/android/job/GcmAvailableHelper.java
@@ -20,6 +20,7 @@
 import android.content.Intent;
 import android.content.pm.PackageManager;
 import android.content.pm.ResolveInfo;
+import android.os.Build;
 import android.support.annotation.RestrictTo;
 
 import com.evernote.android.job.gcm.JobProxyGcm;
@@ -58,7 +59,7 @@
 
     public static boolean isGcmApiSupported(Context context) {
         try {
-            if (!checkedServiceEnabled) {
+            if (!checkedServiceEnabled && Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
                 checkedServiceEnabled = true;
                 setServiceEnabled(context, GCM_IN_CLASSPATH);
             }
