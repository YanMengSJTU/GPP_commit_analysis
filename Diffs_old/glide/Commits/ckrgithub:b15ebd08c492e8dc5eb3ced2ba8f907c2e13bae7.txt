diff --git a/.travis.yml b/.travis.yml
index 8e655e0f8..cb517689d 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -24,8 +24,6 @@ env:
     - COMPONENT=instrumentation ANDROID_TARGET=17
     - COMPONENT=instrumentation ANDROID_TARGET=18
     - COMPONENT=instrumentation ANDROID_TARGET=19
-    - COMPONENT=instrumentation ANDROID_TARGET=21
-    - COMPONENT=instrumentation ANDROID_TARGET=22
     - COMPONENT=samples
 
 before_script:
diff --git a/CHANGELOG.md b/CHANGELOG.md
deleted file mode 100644
index 7b49f092c..000000000
--- a/CHANGELOG.md
+++ /dev/null
@@ -1,53 +0,0 @@
-# Change Log
-
-## [v4.5.0](https://github.com/bumptech/glide/tree/HEAD)
-
-[Full Changelog](https://github.com/bumptech/glide/compare/v4.4.0...v4.5.0)
-
-## Features
-* Add an API to pause all requests for a given `Activity` or `Fragment` to allow callers to manually reduce memory when their Fragment or Application is backgrounded (@kurtisnelson, 09e33a2133eb1d4005b227439c0c53c9c4e8c89b) 
-* Fully support Bitmap re-use for `RGBA_F16` `Bitmap`s. Previously Glide supported decoding `RGBA_F16` `Bitmap`s, but would not re-use any stored in the `BitmapPool` when doing so (cc0288c3b4bfb82a109a3f279af52c57fc5e1499)
-* Support decoding Videos from resources as `AssetFileDescriptor`s (6e9866b5a19d06625006a9a8c605db21047df74b)
-* Added support for the [`MediaMetadataRetriever#getScaledFrameAtTime`][2] method added in OMR1 to marginally reduce memory usage when decoding video frames (ded8f77c9f2471e3c3413aa234656df8cf72dd2f)
-* Support transcoding `BitmapDrawable`s to `byte[]`s (015d2659a9ea7438ab72b94500a0921f8ff35aa3)
-
-## Bugs
-* Cleaned up old and incorrect `@TargetApi` annoatations (@SUPERCILEX, 67783961c71639871cc3687894976e6caeb6609e)
-* Added `@Nullable` and `@NonNull` annotations to many of Glide's APIs (@SUPERCILEX, dc12b60c8f0a21eb9b3ab2164471c93d2e20ae25, c3dafde00a061bafcd43a739336ca3503af13a7d, 0cffd1da977e9ca334032ebc1d798213a177aab7, f541b65e596a49d252ba6b80d3b05a111ce93461, 36e0b802c3a1e564caf230b351a6438fa32100ac, 650bb7770d08b279c2a7f00e25337618da54f7f3, bd2f21595d3404e6aadf1f4333bef369509c4a56, e35a73b4e78f2f05dc5c1163b8083ac1b662b02f, f37ced1512f7eabf37f6c93b1b7ffb32c3629b72, bb96b633174184965cd1bdf9027ef3843f59c54f, 276d4ff4bdce85763c985c90a87ea5e858a1ffe4, c3107801dab8ccbe121157bee7dba29b7d9723e6, )
-* Fixed a case where restarting an identical request with `skipMemoryCache(true)` would complete the load from the memory cache (#2663, 3dc1d18da75b44d8d97f4161fe0d330e4993e537)
-* Fixed decoding interlaced and downsampled GIFs as static images (#2698, b64f23de2a7ba38fceac1cda85f05158e80132f9)
-* Added more models to the list of devices requiring a lock when decoding or drawing Bitmaps (@strooooke, #738, c809f7ec03bbfc2c529f2c211cfc644c2073aab0, e923554b10fa9625f4fa6fe706f3d5a553843ab9)
-* Fixed a race condition where starting multiple loads simultaneously the first time any request is made for a given model and resource could lead to NPEs (#2708, d427cbd33206cbcc88ac4a0f0c29ef831d4bb5b5)
-* Make the annotation processor tests pass on Windows (@SUPERCILEX, #2709, 2b4be8b8c210abb34740f0778434679b644a6525)
-* Fix NPE and RuntimeExceptions thrown in `DefaultConnectivityMonitor` on some devices (c902730b75085cecdd40cd5817453d8af0eff4e9)
-* Only trim to half of the memory cache maximum size, not the current size, when background the app (@kurtisnelson, 429b7e2d9854da549eb0b852e2e08de176f05fbf)
-* Fix a `StateVerifier` exception thrown when `ResourceEncoder` implementations unexpectedly throw exceptions while writing resources to Glide's disk cache (6c7cf3f8cae998469a7e7df8c70c459311479a38)
-* Fix an NPE error message when `ResourceDrawableDecoder` fails to decode an image (d522ac7249ca1bf71f6de30e62d71a1faa8d4c4c)
-* Fix an `IllegalStateException` if a request using [`.error()`][3] is cleared while the error request is running (#2767, 9c70aa5f92f523c6bac29628554fdde5428e0cdd)
-* Cleaned up a number of accessor classes generated by unnecessarily strict visibility in inner classes (@TWiStErRob, e02969417a75048af0fcb61c5fbf6ea94bd2c4aa)
-* Updated OkHttp and removed a no longer necessary workaround for `ClassCastException`s thrown by the Android framework on O (#2355, 642b2dc431e54cb677088e934743d78f1ad84810)
-* Added missing annotations to overrides on some of Glide's generated classes (@TWiStErRob, 62d7464fb4f874897121591815ecb7503f7bc01b, 9fde00628f223e96372aeceadcb3e35a0635cb6d, d7bb6f956b34dd00ad0dbcb64f15f4b9c2fb0538)
-* Avoid throwing exceptions when `LruBitmapPool` was asked to provide `Bitmap`s with a `null` config (c1036c1cdc3c85827bf566e104a12ca880e26411)
-
-
-## Behavior Changes
-* Default to `aar` packaging in POMs, so `@aar` should no longer be required to avoid warnings about jars depending on aars (06ba3442fd8d25c943e986c2bd6c138aa4b390e3)
-* Default active resource retention to false (73759b9eb1d3b186c4deb6412137b0b1193fbd5d), but leave the option in `GlideBuilder` to manually enable it. Enabling active resource retention can lead to recycled `Bitmap` errors or `Bitmap` re-use bugs if applications call `Bitmap.recycle()` on any images loaded by Glide or mutate the contents of `Bitmap`s loaded by Glide. 
-* Treat devices with API < 19 as having `ActivityManager.isLowRam` set to `true` (#2650, b221d4bbec138efcdb1aabd07600b7df713f9e40)
-
-## Breaking Changes
-* Removed deprecated constructors requiring `Context`s in most of Glide's default `Transformation` (23975d933bcda7d136340b9988f2bd575065b667, 733b2e0f25a6d3ddbb4942172e92a9fe01c87363, 9bedc2b5fe5b1b2e05203af173c73f0e599a0177, 55594baf791ccb49dd5cdc256662360717b409bb, d8f6224d127b984c3ac1356d44f62126e4843d07, d840533448fd7bde528e0af7ce10c49653430c12, 2f76842b8ef9ac15c43a2c5175f23496b5a13f37, 144ac5374eb0bd11a8f8e92d7346dafac1426621, 150ebabbd7d5e8751c8678fa01418d1b1f1259da, 92d761d002da25320f2c504267f56d73b889b2d4, a6f1b1c1bef5b4e8be736c564792715266b07463) 
-
-## Deprecations
-* Deprecated [`VideoBitmapDecoder`][4], use [`VideoDecoder`][5] instead.
-
-## Build Changes
-* Glide must be compiled against API 27 (@SUPERCILEX, #2730, 75c2a8b6d216013e7fbf797231839a8f4c82757a)
-* Glide uses v27 of the support libraries (though v26 should work as well, to use v26 of the support library, see [Glide's Android SDK requirements docs page][1])
-* Updated to PMD 6.0.0 (@TWiStErRob, f16aef4c6ad583bafe796c7a952a0d10920c4dcd)
-* Fix a PMD failure when building with --profile or any other way in which class files didn't happen to have already been compiled (@TWiStErRob, #2776, fd73179166b15af246769c9b1ae205c65c584e5b)
-
-[1]: http://bumptech.github.io/glide/doc/download-setup.html#android-sdk-requirements
-[2]: https://developer.android.com/reference/android/media/MediaMetadataRetriever.html#getScaledFrameAtTime(long,%20int,%20int,%20int)
-[3]: http://bumptech.github.io/glide/javadocs/440/com/bumptech/glide/RequestBuilder.html#error-com.bumptech.glide.RequestBuilder-
-[4]: http://bumptech.github.io/glide/javadocs/450/com/bumptech/glide/load/resource/bitmap/VideoBitmapDecoder.html
diff --git a/README.md b/README.md
index bdd2ac91b..3ab88b264 100644
--- a/README.md
+++ b/README.md
@@ -31,8 +31,8 @@ repositories {
 }
 
 dependencies {
-  implementation 'com.github.bumptech.glide:glide:4.6.1'
-  annotationProcessor 'com.github.bumptech.glide:compiler:4.6.1'
+  implementation 'com.github.bumptech.glide:glide:4.8.0'
+  annotationProcessor 'com.github.bumptech.glide:compiler:4.8.0'
 }
 ```
 
@@ -42,12 +42,12 @@ Or Maven:
 <dependency>
   <groupId>com.github.bumptech.glide</groupId>
   <artifactId>glide</artifactId>
-  <version>4.6.1</version>
+  <version>4.8.0</version>
 </dependency>
 <dependency>
   <groupId>com.github.bumptech.glide</groupId>
   <artifactId>compiler</artifactId>
-  <version>4.6.1</version>
+  <version>4.8.0</version>
   <optional>true</optional>
 </dependency>
 ```
diff --git a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/AppModuleProcessor.java b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/AppModuleProcessor.java
index 5e10a334b..3469eff24 100644
--- a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/AppModuleProcessor.java
+++ b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/AppModuleProcessor.java
@@ -88,7 +88,8 @@ boolean maybeWriteAppModule() {
       writeRequestOptions(generatedCodePackageName, generatedRequestOptions);
 
     TypeSpec generatedRequestBuilder =
-        requestBuilderGenerator.generate(generatedCodePackageName, generatedRequestOptions);
+        requestBuilderGenerator.generate(
+            generatedCodePackageName, indexedClassNames.extensions, generatedRequestOptions);
     writeRequestBuilder(generatedCodePackageName, generatedRequestBuilder);
 
     TypeSpec requestManager =
diff --git a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/GlideExtensionValidator.java b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/GlideExtensionValidator.java
index b69b2ac37..77c496d8b 100644
--- a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/GlideExtensionValidator.java
+++ b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/GlideExtensionValidator.java
@@ -20,7 +20,6 @@
 import javax.lang.model.element.TypeElement;
 import javax.lang.model.element.VariableElement;
 import javax.lang.model.type.DeclaredType;
-import javax.lang.model.type.TypeKind;
 import javax.lang.model.type.TypeMirror;
 import javax.tools.Diagnostic.Kind;
 
@@ -89,78 +88,65 @@ private static void validateExtensionConstructor(Element element) {
   }
 
   private void validateGlideOption(ExecutableElement executableElement) {
-    if (returnsVoid(executableElement)) {
-      validateDeprecatedGlideOption(executableElement);
-    } else {
-      validateNewGlideOption(executableElement);
-    }
-  }
-
-  private void validateNewGlideOption(ExecutableElement executableElement) {
-    validateNewGlideOptionAnnotations(executableElement);
+    validateGlideOptionAnnotations(executableElement);
     validateGlideOptionParameters(executableElement);
     TypeMirror returnType = executableElement.getReturnType();
-    if (!isRequestOptions(returnType)) {
-      throw new IllegalArgumentException("@GlideOption methods should return a RequestOptions"
-          + " object, but " + getQualifiedMethodName(executableElement) + " returns " + returnType
-          + ". If you're using old style @GlideOption methods, your method may have a void return"
-          + " type, but doing so is deprecated and support will be removed in a future version");
+    if (!isBaseRequestOptions(returnType)) {
+      throw new IllegalArgumentException("@GlideOption methods should return a"
+          + " BaseRequestOptions<?> object, but " + getQualifiedMethodName(executableElement)
+          + " returns " + returnType + ". If you're using old style @GlideOption methods, your"
+          + " method may have a void return type, but doing so is deprecated and support will be"
+          + " removed in a future version");
     }
     validateGlideOptionOverride(executableElement);
   }
 
-  private void validateNewGlideOptionAnnotations(ExecutableElement executableElement) {
+  private void validateGlideOptionAnnotations(ExecutableElement executableElement) {
     validateAnnotatedNonNull(executableElement);
   }
 
-  private void validateDeprecatedGlideOption(ExecutableElement executableElement) {
-    validateStaticVoid(executableElement, GlideOption.class);
-    validateGlideOptionParameters(executableElement);
-    validateGlideOptionOverride(executableElement);
-  }
-
   private static void validateGlideOptionParameters(ExecutableElement executableElement) {
     if (executableElement.getParameters().isEmpty()) {
       throw new IllegalArgumentException("@GlideOption methods must take a "
-          + "RequestOptions object as their first parameter, but "
+          + "BaseRequestOptions<?> object as their first parameter, but "
           + getQualifiedMethodName(executableElement) + " has none");
     }
     VariableElement first = executableElement.getParameters().get(0);
     TypeMirror expected = first.asType();
-    if (!isRequestOptions(expected)) {
+    if (!isBaseRequestOptions(expected)) {
       throw new IllegalArgumentException("@GlideOption methods must take a"
-          + " RequestOptions object as their first parameter, but the first parameter in "
+          + " BaseRequestOptions<?> object as their first parameter, but the first parameter in "
           + getQualifiedMethodName(executableElement) + " is " + expected);
     }
   }
 
-  private static boolean isRequestOptions(TypeMirror typeMirror) {
-    return typeMirror.toString().equals("com.bumptech.glide.request.RequestOptions");
+  private static boolean isBaseRequestOptions(TypeMirror typeMirror) {
+    return typeMirror.toString().equals("com.bumptech.glide.request.BaseRequestOptions<?>");
   }
 
   private void validateGlideOptionOverride(ExecutableElement element) {
     int overrideType = processorUtil.getOverrideType(element);
-    boolean isOverridingRequestOptionsMethod = isMethodInRequestOptions(element);
-    if (isOverridingRequestOptionsMethod && overrideType == GlideOption.OVERRIDE_NONE) {
+    boolean isOverridingBaseRequestOptionsMethod = isMethodInBaseRequestOptions(element);
+    if (isOverridingBaseRequestOptionsMethod && overrideType == GlideOption.OVERRIDE_NONE) {
       throw new IllegalArgumentException("Accidentally attempting to override a method in"
-          + " RequestOptions. Add an 'override' value in the @GlideOption annotation"
+          + " BaseRequestOptions. Add an 'override' value in the @GlideOption annotation"
           + " if this is intentional. Offending method: "
           + getQualifiedMethodName(element));
-    } else if (!isOverridingRequestOptionsMethod && overrideType != GlideOption.OVERRIDE_NONE) {
+    } else if (!isOverridingBaseRequestOptionsMethod && overrideType != GlideOption.OVERRIDE_NONE) {
       throw new IllegalArgumentException("Requested to override an existing method in"
-          + " RequestOptions, but no such method was found. Offending method: "
+          + " BaseRequestOptions, but no such method was found. Offending method: "
           + getQualifiedMethodName(element));
     }
   }
 
-  private boolean isMethodInRequestOptions(ExecutableElement toFind) {
+  private boolean isMethodInBaseRequestOptions(ExecutableElement toFind) {
     // toFind is a method in a GlideExtension whose first argument is a BaseRequestOptions<?> type.
     // Since we're comparing against methods in BaseRequestOptions itself, we need to drop that
     // first type.
     TypeElement requestOptionsType =
         processingEnvironment
             .getElementUtils()
-            .getTypeElement(RequestOptionsGenerator.REQUEST_OPTIONS_QUALIFIED_NAME);
+            .getTypeElement(RequestOptionsGenerator.BASE_REQUEST_OPTIONS_QUALIFIED_NAME);
     List<String> toFindParameterNames = getComparableParameterNames(toFind, true /*skipFirst*/);
     String toFindSimpleName = toFind.getSimpleName().toString();
     for (Element element : requestOptionsType.getEnclosedElements()) {
@@ -193,16 +179,8 @@ private boolean isMethodInRequestOptions(ExecutableElement toFind) {
   }
 
   private void validateGlideType(ExecutableElement executableElement) {
-    if (returnsVoid(executableElement)) {
-      validateDeprecatedGlideType(executableElement);
-    } else {
-      validateNewGlideType(executableElement);
-    }
-  }
-
-  private void validateNewGlideType(ExecutableElement executableElement) {
     TypeMirror returnType = executableElement.getReturnType();
-    validateNewGlideTypeAnnotations(executableElement);
+    validateGlideTypeAnnotations(executableElement);
     if (!isRequestBuilder(returnType) || !typeMatchesExpected(returnType, executableElement)) {
       String expectedClassName = getGlideTypeValue(executableElement);
       throw new IllegalArgumentException("@GlideType methods should return a RequestBuilder<"
@@ -240,11 +218,6 @@ private boolean isRequestBuilder(TypeMirror typeMirror) {
     return toCompare.toString().equals("com.bumptech.glide.RequestBuilder");
   }
 
-  private static void validateDeprecatedGlideType(ExecutableElement executableElement) {
-    validateStaticVoid(executableElement, GlideType.class);
-    validateGlideTypeParameters(executableElement);
-  }
-
   private static void validateGlideTypeParameters(ExecutableElement executableElement) {
     if (executableElement.getParameters().size() != 1) {
       throw new IllegalArgumentException("@GlideType methods must take a"
@@ -261,7 +234,7 @@ private static void validateGlideTypeParameters(ExecutableElement executableElem
     }
   }
 
-  private void validateNewGlideTypeAnnotations(ExecutableElement executableElement) {
+  private void validateGlideTypeAnnotations(ExecutableElement executableElement) {
     validateAnnotatedNonNull(executableElement);
   }
 
@@ -291,26 +264,4 @@ public String apply(AnnotationMirror input) {
               + " values");
     }
   }
-
-  private static void validateStatic(ExecutableElement executableElement, Class<?> clazz) {
-    if (!executableElement.getModifiers().contains(Modifier.STATIC)) {
-      throw new IllegalArgumentException("@" + clazz.getSimpleName() + " methods must be static");
-    }
-  }
-
-  private static boolean returnsVoid(ExecutableElement executableElement) {
-    TypeMirror returnType = executableElement.getReturnType();
-    return returnType.getKind() == TypeKind.VOID;
-  }
-
-  private static void validateVoid(ExecutableElement executableElement, Class<?> clazz) {
-    if (!returnsVoid(executableElement)) {
-      throw new IllegalArgumentException("@" + clazz.getSimpleName() + " methods must return void");
-    }
-  }
-
-  private static void validateStaticVoid(ExecutableElement executableElement, Class<?> clazz) {
-    validateStatic(executableElement, clazz);
-    validateVoid(executableElement, clazz);
-  }
 }
diff --git a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/GlideGenerator.java b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/GlideGenerator.java
index e5220abaf..d4da883b5 100644
--- a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/GlideGenerator.java
+++ b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/GlideGenerator.java
@@ -79,6 +79,9 @@
   private static final String VISIBLE_FOR_TESTING_QUALIFIED_NAME =
       "android.support.annotation.VisibleForTesting";
 
+  private static final String VISIBLE_FOR_TESTING_QUALIFIED_NAME_ANDROIDX =
+      "androidx.annotation.VisibleForTesting";
+
   private static final String SUPPRESS_LINT_PACKAGE_NAME =
       "android.annotation";
   private static final String SUPPRESS_LINT_CLASS_NAME =
@@ -174,11 +177,14 @@ private MethodSpec overrideGlideStaticMethod(ExecutableElement methodToOverride)
   }
 
   private Builder addReturnAnnotations(Builder builder, ExecutableElement methodToOverride) {
-    String visibleForTestingTypeQualifiedName =
-        processingEnv
-            .getElementUtils()
-            .getTypeElement(VISIBLE_FOR_TESTING_QUALIFIED_NAME)
-            .toString();
+    Elements elements = processingEnv.getElementUtils();
+    TypeElement visibleForTestingTypeElement = elements
+        .getTypeElement(VISIBLE_FOR_TESTING_QUALIFIED_NAME_ANDROIDX);
+    if (visibleForTestingTypeElement == null) {
+      // Fall back to looking for the Support library version.
+      visibleForTestingTypeElement = elements.getTypeElement(VISIBLE_FOR_TESTING_QUALIFIED_NAME);
+    }
+    String visibleForTestingTypeQualifiedName = visibleForTestingTypeElement.toString();
 
     for (AnnotationMirror mirror : methodToOverride.getAnnotationMirrors()) {
       builder.addAnnotation(AnnotationSpec.get(mirror));
diff --git a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/ProcessorUtil.java b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/ProcessorUtil.java
index b7051e295..b9832f365 100644
--- a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/ProcessorUtil.java
+++ b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/ProcessorUtil.java
@@ -68,6 +68,12 @@
       ClassName.get("android.support.annotation", "NonNull");
   private static final ClassName JETBRAINS_NOTNULL_ANNOTATION =
       ClassName.get("org.jetbrains.annotations", "NotNull");
+  private static final ClassName ANDROIDX_NONNULL_ANNOTATION =
+      ClassName.get("androidx.annotation", "NonNull");
+  private static final ClassName CHECK_RESULT_ANNOTATION =
+      ClassName.get("android.support.annotation", "CheckResult");
+  private static final ClassName ANDROIDX_CHECK_RESULT_ANNOTATION =
+      ClassName.get("androidx.annotation", "CheckResult");
 
   private final ProcessingEnvironment processingEnv;
   private final TypeElement appGlideModuleType;
@@ -252,10 +258,6 @@ void infoLog(String toLog) {
     processingEnv.getMessager().printMessage(Diagnostic.Kind.NOTE, "[" + round + "] " + toLog);
   }
 
-  void warnLog(String toLog) {
-    processingEnv.getMessager().printMessage(Diagnostic.Kind.WARNING, toLog);
-  }
-
   static CodeBlock generateCastingSuperCall(TypeName toReturn, MethodSpec method) {
     return CodeBlock.builder()
         .add("return ($T) super.$N(", toReturn, method.name)
@@ -439,11 +441,26 @@ private static String applySmartParameterNameReplacements(String name) {
   }
 
   static ClassName nonNull() {
-    return NONNULL_ANNOTATION;
+    try {
+      Class.forName(ANDROIDX_NONNULL_ANNOTATION.reflectionName());
+      return ANDROIDX_NONNULL_ANNOTATION;
+    } catch (ClassNotFoundException e) {
+      return NONNULL_ANNOTATION;
+    }
+  }
+
+  static ClassName checkResult() {
+    try {
+      Class.forName(ANDROIDX_CHECK_RESULT_ANNOTATION.reflectionName());
+      return ANDROIDX_CHECK_RESULT_ANNOTATION;
+    } catch (ClassNotFoundException e) {
+      return CHECK_RESULT_ANNOTATION;
+    }
   }
 
   static List<ClassName> nonNulls() {
-    return Arrays.asList(NONNULL_ANNOTATION, JETBRAINS_NOTNULL_ANNOTATION);
+    return Arrays.asList(NONNULL_ANNOTATION, JETBRAINS_NOTNULL_ANNOTATION,
+        ANDROIDX_NONNULL_ANNOTATION);
   }
 
   List<ExecutableElement> findInstanceMethodsReturning(TypeElement clazz, TypeMirror returnType) {
diff --git a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestBuilderGenerator.java b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestBuilderGenerator.java
index 5610dcd25..b45ea1779 100644
--- a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestBuilderGenerator.java
+++ b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestBuilderGenerator.java
@@ -1,5 +1,6 @@
 package com.bumptech.glide.annotation.compiler;
 
+import static com.bumptech.glide.annotation.compiler.ProcessorUtil.checkResult;
 import static com.bumptech.glide.annotation.compiler.ProcessorUtil.nonNull;
 
 import com.bumptech.glide.annotation.GlideExtension;
@@ -107,18 +108,17 @@
   /** A set of method names to avoid overriding from RequestOptions. */
   private static final ImmutableSet<String> EXCLUDED_METHODS_FROM_BASE_REQUEST_OPTIONS =
       ImmutableSet.of("clone", "apply", "autoLock", "lock", "autoClone");
-  private static final ClassName CHECK_RESULT_CLASS_NAME =
-      ClassName.get("android.support.annotation", "CheckResult");
   private static final AnnotationSpec NON_NULL = AnnotationSpec.builder(nonNull()).build();
+  private static final AnnotationSpec CHECK_RESULT = AnnotationSpec.builder(checkResult()).build();
 
   private final ProcessingEnvironment processingEnv;
   private final ProcessorUtil processorUtil;
-  private ClassName generatedRequestBuilderClassName;
   private final TypeVariableName transcodeTypeName;
-  private ParameterizedTypeName generatedRequestBuilderOfTranscodeType;
   private final TypeElement requestOptionsType;
   private final TypeElement requestBuilderType;
+  private ClassName generatedRequestBuilderClassName;
   private ClassName requestOptionsClassName;
+  private ParameterizedTypeName generatedRequestBuilderOfTranscodeType;
 
   RequestBuilderGenerator(ProcessingEnvironment processingEnv, ProcessorUtil processorUtil) {
     this.processingEnv = processingEnv;
@@ -133,12 +133,10 @@
         REQUEST_OPTIONS_QUALIFIED_NAME);
   }
 
-  TypeSpec generate(String generatedCodePackageName, @Nullable TypeSpec generatedOptions) {
-    generatedRequestBuilderClassName =
-        ClassName.get(generatedCodePackageName, GENERATED_REQUEST_BUILDER_SIMPLE_NAME);
-    generatedRequestBuilderOfTranscodeType =
-        ParameterizedTypeName.get(generatedRequestBuilderClassName, transcodeTypeName);
-
+  TypeSpec generate(
+      String generatedCodePackageName,
+      Set<String> glideExtensionClassNames,
+      @Nullable TypeSpec generatedOptions) {
     if (generatedOptions != null) {
       requestOptionsClassName =
           ClassName.get(generatedCodePackageName, generatedOptions.name);
@@ -146,14 +144,25 @@ TypeSpec generate(String generatedCodePackageName, @Nullable TypeSpec generatedO
       requestOptionsClassName =
           ClassName.get(
               RequestOptionsGenerator.REQUEST_OPTIONS_PACKAGE_NAME,
-              RequestBuilderGenerator.REQUEST_OPTIONS_SIMPLE_NAME);
+              RequestOptionsGenerator.BASE_REQUEST_OPTIONS_SIMPLE_NAME);
     }
 
+    generatedRequestBuilderClassName =
+        ClassName.get(generatedCodePackageName, GENERATED_REQUEST_BUILDER_SIMPLE_NAME);
+    generatedRequestBuilderOfTranscodeType =
+        ParameterizedTypeName.get(generatedRequestBuilderClassName, transcodeTypeName);
+    RequestOptionsExtensionGenerator requestOptionsExtensionGenerator =
+        new RequestOptionsExtensionGenerator(generatedRequestBuilderOfTranscodeType, processorUtil);
+
     ParameterizedTypeName requestBuilderOfTranscodeType =
         ParameterizedTypeName.get(
             ClassName.get(REQUEST_BUILDER_PACKAGE_NAME, REQUEST_BUILDER_SIMPLE_NAME),
             transcodeTypeName);
 
+    List<MethodSpec> requestOptionsExtensionMethods =
+        requestOptionsExtensionGenerator.generateInstanceMethodsForExtensions(
+            glideExtensionClassNames);
+
     return TypeSpec.classBuilder(GENERATED_REQUEST_BUILDER_SIMPLE_NAME)
         .addJavadoc("Contains all public methods from {@link $T}, all options from\n",
             requestBuilderType)
@@ -176,75 +185,13 @@ TypeSpec generate(String generatedCodePackageName, @Nullable TypeSpec generatedO
         .addSuperinterface(Cloneable.class)
         .addMethods(generateConstructors())
         .addMethod(generateDownloadOnlyRequestMethod())
-        .addMethods(generateGeneratedRequestOptionsEquivalents(generatedOptions))
+        .addMethods(
+            generateGeneratedRequestOptionsEquivalents(
+                requestOptionsExtensionMethods, generatedOptions))
         .addMethods(generateRequestBuilderOverrides())
+        .addMethods(requestOptionsExtensionMethods)
         .build();
   }
-
-  /**
-   * Generates overrides of all methods in {@code com.bumptech.glide.RequestBuilder} that return
-   * {@code com.bumptech.glide.RequestBuilder} so that they return our generated subclass instead.
-   */
-  private List<MethodSpec> generateRequestBuilderOverrides() {
-    TypeMirror rawRequestBuilderType =
-        processingEnv.getTypeUtils().erasure(requestBuilderType.asType());
-    return Lists.transform(
-        processorUtil.findInstanceMethodsReturning(requestBuilderType, rawRequestBuilderType),
-        new Function<ExecutableElement, MethodSpec>() {
-          @Override
-          public MethodSpec apply(ExecutableElement input) {
-            return generateRequestBuilderOverride(input);
-          }
-        });
-  }
-
-  /**
-   * Generates an override of a particular method in {@code com.bumptech.glide.RequestBuilder} that
-   * returns {@code com.bumptech.glide.RequestBuilder} so that it returns our generated subclass
-   * instead.
-   */
-  private MethodSpec generateRequestBuilderOverride(ExecutableElement methodToOverride) {
-    // We've already verified that this method returns a RequestBuilder and RequestBuilders have
-    // exactly one type argument, so this is safe unless those assumptions change.
-    TypeMirror typeArgument =
-        ((DeclaredType) methodToOverride.getReturnType()).getTypeArguments().get(0);
-
-    ParameterizedTypeName generatedRequestBuilderOfType =
-        ParameterizedTypeName.get(generatedRequestBuilderClassName, ClassName.get(typeArgument));
-
-    MethodSpec.Builder builder = ProcessorUtil.overriding(methodToOverride)
-        .returns(generatedRequestBuilderOfType);
-    builder.addCode(CodeBlock.builder()
-        .add("return ($T) super.$N(",
-            generatedRequestBuilderOfType, methodToOverride.getSimpleName())
-        .add(FluentIterable.from(builder.build().parameters)
-            .transform(new Function<ParameterSpec, String>() {
-              @Override
-              public String apply(ParameterSpec input) {
-                return input.name;
-              }
-            })
-            .join(Joiner.on(", ")))
-        .add(");\n")
-        .build());
-
-    for (AnnotationMirror mirror : methodToOverride.getAnnotationMirrors()) {
-      builder = builder.addAnnotation(AnnotationSpec.get(mirror));
-    }
-
-    if (methodToOverride.isVarArgs()) {
-      builder = builder
-          .addModifiers(Modifier.FINAL)
-          .addAnnotation(SafeVarargs.class)
-          .addAnnotation(
-              AnnotationSpec.builder(SuppressWarnings.class)
-                  .addMember("value", "$S", "varargs")
-                  .build());
-    }
-
-    return builder.build();
-  }
-
   /**
    * Generates methods with equivalent names and arguments to methods annotated with
    * {@link GlideOption} in
@@ -252,6 +199,7 @@ public String apply(ParameterSpec input) {
    * {@code com.bumptech.glide.RequestBuilder} subclass.
    */
   private List<MethodSpec> generateGeneratedRequestOptionsEquivalents(
+      final List<MethodSpec> requestOptionsExtensionMethods,
       @Nullable final TypeSpec generatedOptions) {
     if (generatedOptions == null) {
       return Collections.emptyList();
@@ -261,7 +209,7 @@ public String apply(ParameterSpec input) {
         .filter(new Predicate<MethodSpec>() {
           @Override
           public boolean apply(MethodSpec input) {
-            return isUsefulGeneratedRequestOption(input);
+            return isUsefulGeneratedRequestOption(requestOptionsExtensionMethods, input);
           }
         })
         .transform(new Function<MethodSpec, MethodSpec>() {
@@ -273,6 +221,7 @@ public MethodSpec apply(MethodSpec input) {
         .toList();
   }
 
+
   /**
    * Returns {@code true} if the given {@link MethodSpec} is a useful method to have in our
    * {@code com.bumptech.glide.RequestBuilder} subclass.
@@ -281,16 +230,30 @@ public MethodSpec apply(MethodSpec input) {
    * {@code com.bumptech.glide.request.BaseRequestBuilder} subclass, so we only have to filter out
    * methods that override other methods to avoid duplicates.
    */
-  private boolean isUsefulGeneratedRequestOption(MethodSpec requestOptionMethod) {
+  private boolean isUsefulGeneratedRequestOption(
+      List<MethodSpec> requestOptionsExtensionMethods,
+      final MethodSpec requestOptionsMethod) {
     return
-        !EXCLUDED_METHODS_FROM_BASE_REQUEST_OPTIONS.contains(requestOptionMethod.name)
-        && requestOptionMethod.hasModifier(Modifier.PUBLIC)
-        && !requestOptionMethod.hasModifier(Modifier.STATIC)
-        && requestOptionMethod.returnType.toString()
-            .equals(requestOptionsClassName.toString());
+        !EXCLUDED_METHODS_FROM_BASE_REQUEST_OPTIONS.contains(requestOptionsMethod.name)
+            && requestOptionsMethod.hasModifier(Modifier.PUBLIC)
+            && !requestOptionsMethod.hasModifier(Modifier.STATIC)
+            && requestOptionsMethod.returnType.toString().equals(requestOptionsClassName.toString())
+            && !isExtensionMethod(requestOptionsExtensionMethods, requestOptionsMethod);
   }
 
-   /**
+  private boolean isExtensionMethod(
+      List<MethodSpec> requestOptionsExtensionMethods, final MethodSpec requestOptionsMethod) {
+     return
+         FluentIterable.from(requestOptionsExtensionMethods).anyMatch(new Predicate<MethodSpec>() {
+           @Override
+           public boolean apply(MethodSpec input) {
+             return input.name.equals(requestOptionsMethod.name)
+                 && input.parameters.equals(requestOptionsMethod.parameters);
+           }
+         });
+  }
+
+  /**
    * Generates a particular method with  an equivalent name and arguments to the given method
    * from the generated {@code com.bumptech.glide.request.BaseRequestBuilder} subclass.
    */
@@ -331,17 +294,8 @@ public boolean apply(AnnotationSpec input) {
         .addTypeVariables(requestOptionMethod.typeVariables)
         .addParameters(requestOptionMethod.parameters)
         .returns(generatedRequestBuilderOfTranscodeType)
-        .beginControlFlow(
-            "if (getMutableOptions() instanceof $T)", requestOptionsClassName)
-        .addCode("this.requestOptions = (($T) getMutableOptions())",
-            requestOptionsClassName)
-        .addCode(callRequestOptionsMethod)
-        .nextControlFlow("else")
-        .addCode(CodeBlock.of("this.requestOptions = new $T().apply(this.requestOptions)",
-            requestOptionsClassName))
-        .addCode(callRequestOptionsMethod)
-        .endControlFlow()
-        .addStatement("return this");
+        .addCode("return ($T) super", generatedRequestBuilderOfTranscodeType)
+        .addCode(callRequestOptionsMethod);
 
     AnnotationSpec suppressWarnings = buildSuppressWarnings(requestOptionMethod);
     if (suppressWarnings != null) {
@@ -350,6 +304,7 @@ public boolean apply(AnnotationSpec input) {
     return result.build();
   }
 
+
   @Nullable
   private AnnotationSpec buildSuppressWarnings(MethodSpec requestOptionMethod) {
     Set<String> suppressions = new HashSet<>();
@@ -391,6 +346,72 @@ public String apply(CodeBlock input) {
     return builder.build();
   }
 
+
+  /**
+   * Generates overrides of all methods in {@code com.bumptech.glide.RequestBuilder} that return
+   * {@code com.bumptech.glide.RequestBuilder} so that they return our generated subclass instead.
+   */
+  private List<MethodSpec> generateRequestBuilderOverrides() {
+    TypeMirror rawRequestBuilderType =
+        processingEnv.getTypeUtils().erasure(requestBuilderType.asType());
+    return Lists.transform(
+        processorUtil.findInstanceMethodsReturning(requestBuilderType, rawRequestBuilderType),
+        new Function<ExecutableElement, MethodSpec>() {
+          @Override
+          public MethodSpec apply(ExecutableElement input) {
+            return generateRequestBuilderOverride(input);
+          }
+        });
+  }
+
+
+  /**
+   * Generates an override of a particular method in {@code com.bumptech.glide.RequestBuilder} that
+   * returns {@code com.bumptech.glide.RequestBuilder} so that it returns our generated subclass
+   * instead.
+   */
+  private MethodSpec generateRequestBuilderOverride(ExecutableElement methodToOverride) {
+    // We've already verified that this method returns a RequestBuilder and RequestBuilders have
+    // exactly one type argument, so this is safe unless those assumptions change.
+    TypeMirror typeArgument =
+        ((DeclaredType) methodToOverride.getReturnType()).getTypeArguments().get(0);
+
+    ParameterizedTypeName generatedRequestBuilderOfType =
+        ParameterizedTypeName.get(generatedRequestBuilderClassName, ClassName.get(typeArgument));
+
+    MethodSpec.Builder builder = ProcessorUtil.overriding(methodToOverride)
+        .returns(generatedRequestBuilderOfType);
+    builder.addCode(CodeBlock.builder()
+        .add("return ($T) super.$N(",
+            generatedRequestBuilderOfType, methodToOverride.getSimpleName())
+        .add(FluentIterable.from(builder.build().parameters)
+            .transform(new Function<ParameterSpec, String>() {
+              @Override
+              public String apply(ParameterSpec input) {
+                return input.name;
+              }
+            })
+            .join(Joiner.on(", ")))
+        .add(");\n")
+        .build());
+
+    for (AnnotationMirror mirror : methodToOverride.getAnnotationMirrors()) {
+      builder = builder.addAnnotation(AnnotationSpec.get(mirror));
+    }
+
+    if (methodToOverride.isVarArgs()) {
+      builder = builder
+          .addModifiers(Modifier.FINAL)
+          .addAnnotation(SafeVarargs.class)
+          .addAnnotation(
+              AnnotationSpec.builder(SuppressWarnings.class)
+                  .addMember("value", "$S", "varargs")
+                  .build());
+    }
+
+    return builder.build();
+  }
+
   private List<MethodSpec> generateConstructors() {
     ParameterizedTypeName classOfTranscodeType =
         ParameterizedTypeName.get(ClassName.get(Class.class), transcodeTypeName);
@@ -448,7 +469,7 @@ private MethodSpec generateDownloadOnlyRequestMethod() {
         = ParameterizedTypeName.get(generatedRequestBuilderClassName, ClassName.get(File.class));
     return MethodSpec.methodBuilder("getDownloadOnlyRequest")
         .addAnnotation(Override.class)
-        .addAnnotation(AnnotationSpec.builder(CHECK_RESULT_CLASS_NAME).build())
+        .addAnnotation(CHECK_RESULT)
         .addAnnotation(NON_NULL)
         .returns(generatedRequestBuilderOfFile)
         .addModifiers(Modifier.PROTECTED)
diff --git a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestManagerFactoryGenerator.java b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestManagerFactoryGenerator.java
index 4aec3c8bb..d20a7fd2a 100644
--- a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestManagerFactoryGenerator.java
+++ b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestManagerFactoryGenerator.java
@@ -68,7 +68,6 @@
 
     TypeElement requestManagerType = elementUtils.getTypeElement(REQUEST_MANAGER_QUALIFIED_NAME);
     requestManagerClassName = ClassName.get(requestManagerType);
-
   }
 
   TypeSpec generate(String generatedCodePackageName, TypeSpec generatedRequestManagerSpec) {
diff --git a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestManagerGenerator.java b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestManagerGenerator.java
index 23e791350..d66257e87 100644
--- a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestManagerGenerator.java
+++ b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestManagerGenerator.java
@@ -1,5 +1,6 @@
 package com.bumptech.glide.annotation.compiler;
 
+import static com.bumptech.glide.annotation.compiler.ProcessorUtil.checkResult;
 import static com.bumptech.glide.annotation.compiler.ProcessorUtil.nonNull;
 
 import com.bumptech.glide.annotation.GlideExtension;
@@ -61,8 +62,6 @@
       "com.bumptech.glide.manager.Lifecycle";
   private static final String REQUEST_MANAGER_TREE_NODE_QUALIFIED_NAME =
       "com.bumptech.glide.manager.RequestManagerTreeNode";
-  private static final ClassName CHECK_RESULT_CLASS_NAME =
-      ClassName.get("android.support.annotation", "CheckResult");
   private static final ClassName CONTEXT_CLASS_NAME =
       ClassName.get("android.content", "Context");
 
@@ -164,7 +163,7 @@ private MethodSpec generateAsMethod(String generatedCodePackageName, TypeSpec re
     return MethodSpec.methodBuilder("as")
         .addModifiers(Modifier.PUBLIC)
         .addAnnotation(Override.class)
-        .addAnnotation(AnnotationSpec.builder(CHECK_RESULT_CLASS_NAME).build())
+        .addAnnotation(checkResult())
         .addAnnotation(nonNull())
         .addTypeVariable(TypeVariableName.get("ResourceType"))
         .returns(requestBuilderOfResourceType)
@@ -289,7 +288,7 @@ private MethodSpec generateAdditionalRequestManagerMethodLegacy(
         .returns(parameterizedTypeName)
         .addJavadoc(processorUtil.generateSeeMethodJavadoc(extensionMethod))
         .addAnnotation(nonNull())
-        .addAnnotation(AnnotationSpec.builder(CHECK_RESULT_CLASS_NAME).build())
+        .addAnnotation(checkResult())
         .addStatement(
             "$T requestBuilder = this.as($T.class)", parameterizedTypeName, returnTypeClassName)
         .addStatement("$T.$N(requestBuilder)",
@@ -311,7 +310,7 @@ private MethodSpec generateAdditionalRequestManagerMethodNew(
         .returns(parameterizedTypeName)
         .addJavadoc(processorUtil.generateSeeMethodJavadoc(extensionMethod))
         .addAnnotation(nonNull())
-        .addAnnotation(AnnotationSpec.builder(CHECK_RESULT_CLASS_NAME).build())
+        .addAnnotation(checkResult())
         .addStatement(
             "return ($T) $T.$N(this.as($T.class))",
             parameterizedTypeName,
diff --git a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestOptionsExtensionGenerator.java b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestOptionsExtensionGenerator.java
new file mode 100644
index 000000000..450ab8326
--- /dev/null
+++ b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestOptionsExtensionGenerator.java
@@ -0,0 +1,139 @@
+package com.bumptech.glide.annotation.compiler;
+
+import static com.bumptech.glide.annotation.GlideOption.OVERRIDE_EXTEND;
+import static com.bumptech.glide.annotation.compiler.ProcessorUtil.checkResult;
+import static com.bumptech.glide.annotation.compiler.ProcessorUtil.nonNull;
+
+import com.bumptech.glide.annotation.GlideOption;
+import com.squareup.javapoet.AnnotationSpec;
+import com.squareup.javapoet.ClassName;
+import com.squareup.javapoet.CodeBlock;
+import com.squareup.javapoet.MethodSpec;
+import com.squareup.javapoet.ParameterSpec;
+import com.squareup.javapoet.TypeName;
+import java.util.ArrayList;
+import java.util.List;
+import java.util.Set;
+import javax.lang.model.element.ExecutableElement;
+import javax.lang.model.element.Modifier;
+import javax.lang.model.element.VariableElement;
+import javax.lang.model.type.TypeKind;
+
+/**
+ * Generates method overrides for classes that want to mix in {@link GlideOption} annotated methods
+ * in Glide extensions.
+ */
+final class RequestOptionsExtensionGenerator {
+  private TypeName containingClassName;
+  private ProcessorUtil processorUtil;
+
+  RequestOptionsExtensionGenerator(TypeName containingClassName, ProcessorUtil processorUtil) {
+    this.containingClassName = containingClassName;
+    this.processorUtil = processorUtil;
+  }
+
+  /**
+   * Returns the set of {@link GlideOption} annotated methods in the classes that correspond to the
+   * given extension class names.
+   */
+  List<ExecutableElement> getRequestOptionExtensionMethods(Set<String> glideExtensionClassNames) {
+   return processorUtil.findAnnotatedElementsInClasses(glideExtensionClassNames, GlideOption.class);
+  }
+
+  /**
+   * Returns a list containing an override {@link MethodSpec} for all {@link GlideOption} annotated
+   * methods in the classes that correspond to the given extension class names.
+   */
+  List<MethodSpec> generateInstanceMethodsForExtensions(Set<String> glideExtensionClassNames) {
+    List<ExecutableElement> requestOptionExtensionMethods =
+        getRequestOptionExtensionMethods(glideExtensionClassNames);
+
+    List<MethodSpec> result = new ArrayList<>(requestOptionExtensionMethods.size());
+    for (ExecutableElement requestOptionsExtensionMethod : requestOptionExtensionMethods) {
+      result.add(generateMethodsForRequestOptionsExtension(requestOptionsExtensionMethod));
+    }
+
+    return result;
+  }
+
+  private MethodSpec generateMethodsForRequestOptionsExtension(
+      ExecutableElement element) {
+    // Assert for legacy versions
+    if (element.getReturnType().getKind() == TypeKind.VOID) {
+      throw new IllegalArgumentException(
+          "The " + element.getSimpleName() + " method annotated with @GlideOption in the "
+              + element.getEnclosingElement().getSimpleName() + " @GlideExtension is using a legacy"
+              + " format that is no longer supported. Please change your method definition so that"
+              + " your @GlideModule annotated methods return BaseRequestOptions<?> objects instead"
+              + " of null.");
+    }
+
+    int overrideType = processorUtil.getOverrideType(element);
+
+    String methodName = element.getSimpleName().toString();
+    MethodSpec.Builder builder = MethodSpec.methodBuilder(methodName)
+        .addModifiers(Modifier.PUBLIC)
+        .addJavadoc(processorUtil.generateSeeMethodJavadoc(element))
+        .varargs(element.isVarArgs())
+        .returns(containingClassName)
+        .addAnnotation(
+            AnnotationSpec.builder(SuppressWarnings.class)
+                .addMember("value", "$S", "unchecked")
+                .build());
+
+    // The 0th element is expected to be a RequestOptions object.
+    List<? extends VariableElement> paramElements =
+        element.getParameters().subList(1, element.getParameters().size());
+    List<ParameterSpec> parameters = ProcessorUtil.getParameters(paramElements);
+    builder.addParameters(parameters);
+
+    String extensionRequestOptionsArgument;
+    if (overrideType == OVERRIDE_EXTEND) {
+      builder
+          .addJavadoc(
+              processorUtil.generateSeeMethodJavadoc(
+                  containingClassName, methodName, paramElements))
+          .addAnnotation(Override.class);
+
+      List<Object> methodArgs = new ArrayList<>();
+      methodArgs.add(element.getSimpleName().toString());
+      StringBuilder methodLiterals = new StringBuilder();
+      if (!parameters.isEmpty()) {
+        for (ParameterSpec parameter : parameters) {
+          methodLiterals.append("$L, ");
+          methodArgs.add(parameter.name);
+        }
+        methodLiterals = new StringBuilder(
+            methodLiterals.substring(0, methodLiterals.length() - 2));
+      }
+      extensionRequestOptionsArgument = CodeBlock.builder()
+          .add("super.$N(" + methodLiterals + ")", methodArgs.toArray(new Object[0]))
+          .build()
+          .toString();
+    } else {
+      extensionRequestOptionsArgument = "this";
+    }
+
+    List<Object> args = new ArrayList<>();
+    StringBuilder code = new StringBuilder("return ($T) $T.$L($L, ");
+    args.add(containingClassName);
+    args.add(ClassName.get(element.getEnclosingElement().asType()));
+    args.add(element.getSimpleName().toString());
+    args.add(extensionRequestOptionsArgument);
+    if (!parameters.isEmpty()) {
+      for (ParameterSpec parameter : parameters) {
+        code.append("$L, ");
+        args.add(parameter.name);
+      }
+    }
+    code = new StringBuilder(code.substring(0, code.length() - 2));
+    code.append(")");
+    builder.addStatement(code.toString(), args.toArray(new Object[0]));
+
+    builder
+        .addAnnotation(checkResult())
+        .addAnnotation(nonNull());
+
+    return builder.build();
+  }
+}
diff --git a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestOptionsGenerator.java b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestOptionsGenerator.java
index 16cb0fe70..f68cde6e8 100644
--- a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestOptionsGenerator.java
+++ b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestOptionsGenerator.java
@@ -1,14 +1,14 @@
 package com.bumptech.glide.annotation.compiler;
 
-import static com.bumptech.glide.annotation.GlideOption.OVERRIDE_EXTEND;
+import static com.bumptech.glide.annotation.compiler.ProcessorUtil.checkResult;
 import static com.bumptech.glide.annotation.compiler.ProcessorUtil.nonNull;
 
 import com.bumptech.glide.annotation.GlideExtension;
 import com.bumptech.glide.annotation.GlideOption;
 import com.google.common.base.Function;
-import com.google.common.base.Joiner;
 import com.google.common.base.Objects;
 import com.google.common.base.Preconditions;
+import com.google.common.base.Predicate;
 import com.google.common.base.Strings;
 import com.google.common.collect.FluentIterable;
 import com.google.common.collect.ImmutableSet;
@@ -29,13 +29,11 @@
 import java.util.Set;
 import javax.annotation.Nullable;
 import javax.annotation.processing.ProcessingEnvironment;
-import javax.lang.model.element.AnnotationMirror;
 import javax.lang.model.element.ExecutableElement;
 import javax.lang.model.element.Modifier;
 import javax.lang.model.element.TypeElement;
 import javax.lang.model.element.TypeParameterElement;
 import javax.lang.model.element.VariableElement;
-import javax.lang.model.type.TypeKind;
 
 /**
  * Generates a new implementation of {@code com.bumptech.glide.request.RequestOptions}
@@ -76,19 +74,22 @@
   private static final String REQUEST_OPTIONS_SIMPLE_NAME = "RequestOptions";
   static final String REQUEST_OPTIONS_QUALIFIED_NAME =
       REQUEST_OPTIONS_PACKAGE_NAME + "." + REQUEST_OPTIONS_SIMPLE_NAME;
-  private static final ClassName CHECK_RESULT_CLASS_NAME =
-      ClassName.get("android.support.annotation", "CheckResult");
 
-  private final ProcessingEnvironment processingEnvironment;
+  static final String BASE_REQUEST_OPTIONS_SIMPLE_NAME = "BaseRequestOptions";
+  static final String BASE_REQUEST_OPTIONS_QUALIFIED_NAME =
+      REQUEST_OPTIONS_PACKAGE_NAME + "." + BASE_REQUEST_OPTIONS_SIMPLE_NAME;
+
+  private int nextFieldId;
+
   private final ClassName requestOptionsName;
   private final TypeElement requestOptionsType;
   private final ProcessorUtil processorUtil;
+  private final RequestOptionsOverrideGenerator requestOptionsOverrideGenerator;
+
   private ClassName glideOptionsName;
-  private int nextStaticFieldUniqueId;
 
   RequestOptionsGenerator(
       ProcessingEnvironment processingEnvironment, ProcessorUtil processorUtil) {
-    this.processingEnvironment = processingEnvironment;
     this.processorUtil = processorUtil;
 
     requestOptionsName = ClassName.get(REQUEST_OPTIONS_PACKAGE_NAME,
@@ -96,19 +97,55 @@
 
     requestOptionsType = processingEnvironment.getElementUtils().getTypeElement(
         REQUEST_OPTIONS_QUALIFIED_NAME);
+
+    requestOptionsOverrideGenerator =
+        new RequestOptionsOverrideGenerator(processingEnvironment, processorUtil);
   }
 
   TypeSpec generate(String generatedCodePackageName, Set<String> glideExtensionClassNames) {
     glideOptionsName =
         ClassName.get(generatedCodePackageName, GENERATED_REQUEST_OPTIONS_SIMPLE_NAME);
 
-    List<MethodAndStaticVar> methodsForExtensions =
-        generateMethodsForExtensions(glideExtensionClassNames);
+    RequestOptionsExtensionGenerator requestOptionsExtensionGenerator =
+        new RequestOptionsExtensionGenerator(glideOptionsName, processorUtil);
+    List<MethodAndStaticVar> instanceMethodsForExtensions =
+        FluentIterable.from(
+            requestOptionsExtensionGenerator
+                .generateInstanceMethodsForExtensions(glideExtensionClassNames))
+            .transform(new Function<MethodSpec, MethodAndStaticVar>() {
+              @Override
+              public MethodAndStaticVar apply(MethodSpec input) {
+                return new MethodAndStaticVar(input);
+              }
+            })
+            .toList();
+
+    List<MethodAndStaticVar> staticMethodsForExtensions =
+        FluentIterable.from(
+            requestOptionsExtensionGenerator.getRequestOptionExtensionMethods(
+                glideExtensionClassNames))
+            .filter(new Predicate<ExecutableElement>() {
+              @Override
+              public boolean apply(ExecutableElement input) {
+                return !skipStaticMethod(input);
+              }
+            })
+        .transform(new Function<ExecutableElement, MethodAndStaticVar>() {
+          @Override
+          public MethodAndStaticVar apply(ExecutableElement input) {
+            return generateStaticMethodEquivalentForExtensionMethod(input);
+          }
+        })
+        .toList();
+
+    List<MethodAndStaticVar> methodsForExtensions = new ArrayList<>();
+    methodsForExtensions.addAll(instanceMethodsForExtensions);
+    methodsForExtensions.addAll(staticMethodsForExtensions);
 
-    Set<MethodSignature> extensionMethodSignatures = ImmutableSet.copyOf(
-        Iterables.transform(methodsForExtensions,
-            new Function<MethodAndStaticVar, MethodSignature>() {
-              @Nullable
+    Set<MethodSignature> extensionMethodSignatures =
+        ImmutableSet.copyOf(
+            Iterables.transform(methodsForExtensions,
+                new Function<MethodAndStaticVar, MethodSignature>() {
               @Override
               public MethodSignature apply(MethodAndStaticVar f) {
                 return new MethodSignature(f.method);
@@ -116,7 +153,9 @@ public MethodSignature apply(MethodAndStaticVar f) {
             }));
 
     List<MethodAndStaticVar> staticOverrides = generateStaticMethodOverridesForRequestOptions();
-    List<MethodSpec> instanceOverrides = generateInstanceMethodOverridesForRequestOptions();
+    List<MethodSpec> instanceOverrides =
+        requestOptionsOverrideGenerator.generateInstanceMethodOverridesForRequestOptions(
+            glideOptionsName);
 
     List<MethodAndStaticVar> allMethodsAndStaticVars = new ArrayList<>();
     for (MethodAndStaticVar item : staticOverrides) {
@@ -168,226 +207,6 @@ private CodeBlock generateClassJavadoc(Set<String> glideExtensionClassNames) {
     return builder.build();
   }
 
-  private List<MethodAndStaticVar> generateMethodsForExtensions(
-      Set<String> glideExtensionClassNames) {
-    List<ExecutableElement> requestOptionExtensionMethods =
-        processorUtil.findAnnotatedElementsInClasses(
-            glideExtensionClassNames, GlideOption.class);
-
-    List<MethodAndStaticVar> result = new ArrayList<>(requestOptionExtensionMethods.size());
-    for (ExecutableElement requestOptionsExtensionMethod : requestOptionExtensionMethods) {
-      result.addAll(generateMethodsForRequestOptionsExtension(requestOptionsExtensionMethod));
-    }
-
-    return result;
-  }
-
-  private List<MethodSpec> generateInstanceMethodOverridesForRequestOptions() {
-    return Lists.transform(
-        processorUtil.findInstanceMethodsReturning(requestOptionsType, requestOptionsType),
-        new Function<ExecutableElement, MethodSpec>() {
-          @Override
-          public MethodSpec apply(ExecutableElement input) {
-            return generateRequestOptionOverride(input);
-          }
-        });
-  }
-
-  private MethodSpec generateRequestOptionOverride(ExecutableElement methodToOverride) {
-    MethodSpec.Builder result = ProcessorUtil.overriding(methodToOverride)
-        .returns(glideOptionsName)
-        .addModifiers(Modifier.FINAL);
-    result.addCode(CodeBlock.builder()
-        .add("return ($T) super.$N(", glideOptionsName, methodToOverride.getSimpleName())
-        .add(FluentIterable.from(result.build().parameters)
-            .transform(new Function<ParameterSpec, String>() {
-              @Override
-              public String apply(ParameterSpec input) {
-                return input.name;
-              }
-            })
-            .join(Joiner.on(", ")))
-        .add(");\n")
-        .build());
-
-    if (methodToOverride.getSimpleName().toString().equals("transforms")) {
-      result
-          .addAnnotation(SafeVarargs.class)
-          .addAnnotation(
-              AnnotationSpec.builder(SuppressWarnings.class)
-                  .addMember("value", "$S", "varargs")
-                  .build());
-    }
-
-    for (AnnotationMirror mirror : methodToOverride.getAnnotationMirrors()) {
-      result.addAnnotation(AnnotationSpec.get(mirror));
-    }
-
-    return result.build();
-  }
-
-  private List<MethodAndStaticVar> generateMethodsForRequestOptionsExtension(
-      ExecutableElement element) {
-    if (element.getReturnType().getKind() == TypeKind.VOID) {
-      processorUtil.warnLog(
-          "The " + element.getSimpleName() + " method annotated with @GlideOption in the "
-              + element.getEnclosingElement().getSimpleName() + " @GlideExtension is using a legacy"
-              + " format. Support will be removed in a future version. Please change your method"
-              + " definition so that your @GlideModule annotated methods return RequestOptions"
-              + " objects instead of null.");
-      return generateMethodsForRequestOptionsExtensionDeprecated(element);
-    } else {
-      return generateMethodsForRequestOptionsExtensionNew(element);
-    }
-  }
-
-  private List<MethodAndStaticVar> generateMethodsForRequestOptionsExtensionNew(
-      ExecutableElement element) {
-    int overrideType = processorUtil.getOverrideType(element);
-
-    String methodName = element.getSimpleName().toString();
-    MethodSpec.Builder builder = MethodSpec.methodBuilder(methodName)
-        .addModifiers(Modifier.PUBLIC)
-        .addJavadoc(processorUtil.generateSeeMethodJavadoc(element))
-        .varargs(element.isVarArgs())
-        .returns(glideOptionsName);
-
-    // The 0th element is expected to be a RequestOptions object.
-    List<? extends VariableElement> paramElements =
-        element.getParameters().subList(1, element.getParameters().size());
-    List<ParameterSpec> parameters = ProcessorUtil.getParameters(paramElements);
-    builder.addParameters(parameters);
-
-    String extensionRequestOptionsArgument;
-    if (overrideType == OVERRIDE_EXTEND) {
-      builder
-          .addJavadoc(
-              processorUtil.generateSeeMethodJavadoc(requestOptionsName, methodName, paramElements))
-          .addAnnotation(Override.class);
-
-      List<Object> methodArgs = new ArrayList<>();
-      methodArgs.add(element.getSimpleName().toString());
-      StringBuilder methodLiterals = new StringBuilder();
-      if (!parameters.isEmpty()) {
-        for (ParameterSpec parameter : parameters) {
-          methodLiterals.append("$L, ");
-          methodArgs.add(parameter.name);
-        }
-        methodLiterals = new StringBuilder(
-            methodLiterals.substring(0, methodLiterals.length() - 2));
-      }
-      extensionRequestOptionsArgument = CodeBlock.builder()
-          .add("super.$N(" + methodLiterals + ")", methodArgs.toArray(new Object[0]))
-          .build()
-          .toString();
-    } else {
-      extensionRequestOptionsArgument = "this";
-    }
-
-    List<Object> args = new ArrayList<>();
-    StringBuilder code = new StringBuilder("return ($T) $T.$L($L, ");
-    args.add(glideOptionsName);
-    args.add(ClassName.get(element.getEnclosingElement().asType()));
-    args.add(element.getSimpleName().toString());
-    args.add(extensionRequestOptionsArgument);
-    if (!parameters.isEmpty()) {
-      for (ParameterSpec parameter : parameters) {
-        code.append("$L, ");
-        args.add(parameter.name);
-      }
-    }
-    code = new StringBuilder(code.substring(0, code.length() - 2));
-    code.append(")");
-    builder.addStatement(code.toString(), args.toArray(new Object[0]));
-
-    builder
-        .addAnnotation(AnnotationSpec.builder(CHECK_RESULT_CLASS_NAME).build())
-        .addAnnotation(nonNull());
-
-    List<MethodAndStaticVar> result = new ArrayList<>();
-    result.add(new MethodAndStaticVar(builder.build()));
-    MethodAndStaticVar methodAndVar = generateStaticMethodEquivalentForExtensionMethod(element);
-    if (methodAndVar != null) {
-      result.add(methodAndVar);
-    }
-
-    return result;
-  }
-
-  private List<MethodAndStaticVar> generateMethodsForRequestOptionsExtensionDeprecated(
-      ExecutableElement element) {
-    int overrideType = processorUtil.getOverrideType(element);
-
-    String methodName = element.getSimpleName().toString();
-    MethodSpec.Builder builder = MethodSpec.methodBuilder(methodName)
-        .addModifiers(Modifier.PUBLIC)
-        .addJavadoc(processorUtil.generateSeeMethodJavadoc(element))
-        .varargs(element.isVarArgs())
-        .returns(glideOptionsName);
-
-    // The 0th element is expected to be a RequestOptions object.
-    List<? extends VariableElement> paramElements =
-        element.getParameters().subList(1, element.getParameters().size());
-    List<ParameterSpec> parameters = ProcessorUtil.getParameters(paramElements);
-    builder.addParameters(parameters);
-
-    // Generates the String and list of arguments to pass in when calling this method or super.
-    // IE centerCrop(context) creates methodLiterals="%L" and methodArgs=[centerCrop, context].
-    List<Object> methodArgs = new ArrayList<>();
-    methodArgs.add(element.getSimpleName().toString());
-    StringBuilder methodLiterals = new StringBuilder();
-    if (!parameters.isEmpty()) {
-      for (ParameterSpec parameter : parameters) {
-        methodLiterals.append("$L, ");
-        methodArgs.add(parameter.name);
-      }
-      methodLiterals = new StringBuilder(methodLiterals.substring(0, methodLiterals.length() - 2));
-    }
-
-    builder.beginControlFlow("if (isAutoCloneEnabled())")
-        .addStatement(
-            "return clone().$N(" + methodLiterals + ")", methodArgs.toArray(new Object[0]))
-        .endControlFlow();
-
-    // Add the correct super() call.
-    if (overrideType == OVERRIDE_EXTEND) {
-      String callSuper = "super.$L(" + methodLiterals + ")";
-      builder.addStatement(callSuper, methodArgs.toArray(new Object[0]))
-          .addJavadoc(processorUtil.generateSeeMethodJavadoc(
-              requestOptionsName, methodName, paramElements))
-          .addAnnotation(Override.class);
-    }
-
-    // Adds: <AnnotatedClass>.<thisMethodName>(RequestOptions<?>, <arg1>, <arg2>, <argN>);
-    List<Object> args = new ArrayList<>();
-    StringBuilder code = new StringBuilder("$T.$L($L, ");
-    args.add(ClassName.get(element.getEnclosingElement().asType()));
-    args.add(element.getSimpleName().toString());
-    args.add("this");
-    if (!parameters.isEmpty()) {
-      for (ParameterSpec parameter : parameters) {
-        code.append("$L, ");
-        args.add(parameter.name);
-      }
-    }
-    code = new StringBuilder(code.substring(0, code.length() - 2));
-    code.append(")");
-    builder.addStatement(code.toString(), args.toArray(new Object[0]));
-
-    builder.addStatement("return this")
-        .addAnnotation(AnnotationSpec.builder(CHECK_RESULT_CLASS_NAME).build())
-        .addAnnotation(nonNull());
-
-    List<MethodAndStaticVar> result = new ArrayList<>();
-    result.add(new MethodAndStaticVar(builder.build()));
-    MethodAndStaticVar methodAndVar = generateStaticMethodEquivalentForExtensionMethod(element);
-    if (methodAndVar != null) {
-      result.add(methodAndVar);
-    }
-
-    return result;
-  }
-
   private List<MethodAndStaticVar> generateStaticMethodOverridesForRequestOptions() {
     List<ExecutableElement> staticMethodsThatReturnRequestOptions =
         processorUtil.findStaticMethodsReturning(requestOptionsType, requestOptionsType);
@@ -458,7 +277,7 @@ private MethodAndStaticVar generateStaticMethodEquivalentForRequestOptionsStatic
       // }
 
       // Mix in an incrementing unique id to handle method overloading.
-      String staticVariableName = staticMethodName + nextStaticFieldUniqueId++;
+      String staticVariableName = staticMethodName + nextFieldId++;
       requiredStaticField = FieldSpec.builder(glideOptionsName, staticVariableName)
           .addModifiers(Modifier.PRIVATE, Modifier.STATIC)
           .build();
@@ -483,7 +302,7 @@ private MethodAndStaticVar generateStaticMethodEquivalentForRequestOptionsStatic
     }
 
     methodSpecBuilder
-        .addAnnotation(AnnotationSpec.builder(CHECK_RESULT_CLASS_NAME).build())
+        .addAnnotation(checkResult())
         .addAnnotation(nonNull());
 
     return new MethodAndStaticVar(methodSpecBuilder.build(), requiredStaticField);
@@ -496,13 +315,33 @@ private static boolean memoizeStaticMethodFromArguments(ExecutableElement static
         .equals("android.content.Context"));
   }
 
-  @Nullable
+  private StringBuilder createNewOptionAndCall(boolean memoize,
+      MethodSpec.Builder methodSpecBuilder,
+      String start, List<ParameterSpec> specs) {
+    StringBuilder createNewOptionAndCall = new StringBuilder(start);
+    if (!specs.isEmpty()) {
+      methodSpecBuilder.addParameters(specs);
+      for (ParameterSpec parameter : specs) {
+        createNewOptionAndCall.append(parameter.name);
+        // use the Application Context to avoid memory leaks.
+        if (memoize && isAndroidContext(parameter)) {
+          createNewOptionAndCall.append(".getApplicationContext()");
+        }
+        createNewOptionAndCall.append(", ");
+      }
+      createNewOptionAndCall = new StringBuilder(
+          createNewOptionAndCall.substring(0, createNewOptionAndCall.length() - 2));
+    }
+    createNewOptionAndCall.append(")");
+    return createNewOptionAndCall;
+  }
+
+  private boolean isAndroidContext(ParameterSpec parameter) {
+    return parameter.type.toString().equals("android.content.Context");
+  }
+
   private MethodAndStaticVar generateStaticMethodEquivalentForExtensionMethod(
       ExecutableElement instanceMethod) {
-    boolean skipStaticMethod = skipStaticMethod(instanceMethod);
-    if (skipStaticMethod) {
-      return null;
-    }
     String staticMethodName = getStaticMethodName(instanceMethod);
     String instanceMethodName = instanceMethod.getSimpleName().toString();
     if (Strings.isNullOrEmpty(staticMethodName)) {
@@ -545,7 +384,7 @@ private MethodAndStaticVar generateStaticMethodEquivalentForExtensionMethod(
       // }
 
       // Mix in an incrementing unique id to handle method overloading.
-      String staticVariableName = staticMethodName + nextStaticFieldUniqueId++;
+      String staticVariableName = staticMethodName + nextFieldId++;
       requiredStaticField = FieldSpec.builder(glideOptionsName, staticVariableName)
           .addModifiers(Modifier.PRIVATE, Modifier.STATIC)
           .build();
@@ -569,36 +408,11 @@ private MethodAndStaticVar generateStaticMethodEquivalentForExtensionMethod(
           TypeVariableName.get(typeParameterElement.getSimpleName().toString()));
     }
 
-    methodSpecBuilder.addAnnotation(AnnotationSpec.builder(CHECK_RESULT_CLASS_NAME).build());
+    methodSpecBuilder.addAnnotation(checkResult());
 
     return new MethodAndStaticVar(methodSpecBuilder.build(), requiredStaticField);
   }
 
-  private StringBuilder createNewOptionAndCall(boolean memoize,
-      MethodSpec.Builder methodSpecBuilder,
-      String start, List<ParameterSpec> specs) {
-    StringBuilder createNewOptionAndCall = new StringBuilder(start);
-    if (!specs.isEmpty()) {
-      methodSpecBuilder.addParameters(specs);
-      for (ParameterSpec parameter : specs) {
-        createNewOptionAndCall.append(parameter.name);
-        // use the Application Context to avoid memory leaks.
-        if (memoize && isAndroidContext(parameter)) {
-          createNewOptionAndCall.append(".getApplicationContext()");
-        }
-        createNewOptionAndCall.append(", ");
-      }
-      createNewOptionAndCall = new StringBuilder(
-          createNewOptionAndCall.substring(0, createNewOptionAndCall.length() - 2));
-    }
-    createNewOptionAndCall.append(")");
-    return createNewOptionAndCall;
-  }
-
-  private boolean isAndroidContext(ParameterSpec parameter) {
-    return parameter.type.toString().equals("android.content.Context");
-  }
-
   @Nullable
   private static String getStaticMethodName(ExecutableElement element) {
     GlideOption glideOption =
@@ -649,7 +463,6 @@ private static boolean skipStaticMethod(ExecutableElement element) {
             @Override
             public TypeName apply(ParameterSpec parameterSpec) {
               return parameterSpec.type;
-
             }
           });
     }
diff --git a/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestOptionsOverrideGenerator.java b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestOptionsOverrideGenerator.java
new file mode 100644
index 000000000..065ac564f
--- /dev/null
+++ b/annotation/compiler/src/main/java/com/bumptech/glide/annotation/compiler/RequestOptionsOverrideGenerator.java
@@ -0,0 +1,105 @@
+package com.bumptech.glide.annotation.compiler;
+
+import static com.bumptech.glide.annotation.compiler.RequestOptionsGenerator.BASE_REQUEST_OPTIONS_QUALIFIED_NAME;
+
+import com.google.common.base.Function;
+import com.google.common.base.Joiner;
+import com.google.common.base.Predicate;
+import com.google.common.collect.FluentIterable;
+import com.squareup.javapoet.AnnotationSpec;
+import com.squareup.javapoet.CodeBlock;
+import com.squareup.javapoet.MethodSpec;
+import com.squareup.javapoet.ParameterSpec;
+import com.squareup.javapoet.TypeName;
+import java.util.Collections;
+import java.util.List;
+import java.util.Set;
+import javax.annotation.processing.ProcessingEnvironment;
+import javax.lang.model.element.AnnotationMirror;
+import javax.lang.model.element.ExecutableElement;
+import javax.lang.model.element.Modifier;
+import javax.lang.model.element.TypeElement;
+
+/**
+ * Generates overrides for BaseRequestOptions methods so that subclasses' methods return the
+ * subclass type, not just BaseRequestOptions.
+ */
+final class RequestOptionsOverrideGenerator {
+
+  private final TypeElement baseRequestOptionsType;
+  private ProcessorUtil processorUtil;
+
+  RequestOptionsOverrideGenerator(
+      ProcessingEnvironment processingEnv, ProcessorUtil processorUtil) {
+
+    this.processorUtil = processorUtil;
+    baseRequestOptionsType = processingEnv.getElementUtils().getTypeElement(
+        BASE_REQUEST_OPTIONS_QUALIFIED_NAME);
+  }
+
+  List<MethodSpec> generateInstanceMethodOverridesForRequestOptions(TypeName typeToOverrideIn) {
+    return generateInstanceMethodOverridesForRequestOptions(
+        typeToOverrideIn, Collections.<String>emptySet());
+  }
+
+  List<MethodSpec> generateInstanceMethodOverridesForRequestOptions(
+      final TypeName typeToOverrideIn, final Set<String> excludedMethods) {
+    return
+        FluentIterable.from(
+            processorUtil.findInstanceMethodsReturning(
+                baseRequestOptionsType, baseRequestOptionsType))
+            .filter(new Predicate<ExecutableElement>() {
+              @Override
+              public boolean apply(ExecutableElement input) {
+                return !excludedMethods.contains(input.getSimpleName().toString());
+              }
+            })
+            .transform(
+        new Function<ExecutableElement, MethodSpec>() {
+          @Override
+          public MethodSpec apply(ExecutableElement input) {
+            return generateRequestOptionOverride(typeToOverrideIn, input);
+          }
+        })
+        .toList();
+  }
+
+  private MethodSpec generateRequestOptionOverride(
+      TypeName typeToOverrideIn, ExecutableElement methodToOverride) {
+    MethodSpec.Builder result =
+        ProcessorUtil.overriding(methodToOverride)
+            .returns(typeToOverrideIn);
+    result.addCode(
+        CodeBlock.builder()
+            .add(
+                "return ($T) super.$N(",
+                typeToOverrideIn,
+                methodToOverride.getSimpleName())
+            .add(FluentIterable.from(result.build().parameters)
+                .transform(new Function<ParameterSpec, String>() {
+                  @Override
+                  public String apply(ParameterSpec input) {
+                    return input.name;
+                  }
+                })
+                .join(Joiner.on(", ")))
+            .add(");\n")
+            .build());
+
+    if (methodToOverride.getSimpleName().toString().equals("transforms")) {
+      result
+          .addModifiers(Modifier.FINAL)
+          .addAnnotation(SafeVarargs.class)
+          .addAnnotation(
+              AnnotationSpec.builder(SuppressWarnings.class)
+                  .addMember("value", "$S", "varargs")
+                  .build());
+    }
+
+    for (AnnotationMirror mirror : methodToOverride.getAnnotationMirrors()) {
+      result.addAnnotation(AnnotationSpec.get(mirror));
+    }
+
+    return result.build();
+  }
+}
diff --git a/annotation/compiler/test/build.gradle b/annotation/compiler/test/build.gradle
index 5bb534de3..e4573f90a 100644
--- a/annotation/compiler/test/build.gradle
+++ b/annotation/compiler/test/build.gradle
@@ -13,6 +13,7 @@ dependencies {
     // build.gradle file.
     testImplementation project(':glide')
     testImplementation project(':annotation:compiler')
+    testImplementation "junit:junit:${JUNIT_VERSION}"
     testImplementation "com.squareup:javapoet:${JAVAPOET_VERSION}"
     testImplementation "com.google.auto.service:auto-service:${AUTO_SERVICE_VERSION}"
     testImplementation "com.google.code.findbugs:jsr305:${JSR_305_VERSION}"
diff --git a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/GlideExtensionOptionsTest.java b/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/GlideExtensionOptionsTest.java
index 8c2588db1..a3c64b275 100644
--- a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/GlideExtensionOptionsTest.java
+++ b/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/GlideExtensionOptionsTest.java
@@ -20,8 +20,6 @@
 
 /**
  * Verifies only the output we expect to change based on the various configurations of GlideOptions.
- *
- * <p>The output for all classes is tested in {@link LegacyGlideExtensionWithOptionTest}.
  */
 @RunWith(JUnit4.class)
 public class GlideExtensionOptionsTest {
diff --git a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/InvalidAppGlideModuleWithExcludesTest.java b/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/InvalidAppGlideModuleWithExcludesTest.java
index e99c6160c..a54f7565e 100644
--- a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/InvalidAppGlideModuleWithExcludesTest.java
+++ b/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/InvalidAppGlideModuleWithExcludesTest.java
@@ -2,40 +2,44 @@
 
 import static com.google.testing.compile.CompilationSubject.assertThat;
 import static com.google.testing.compile.Compiler.javac;
+import static org.junit.Assert.assertThrows;
 
 import com.google.testing.compile.Compilation;
 import com.google.testing.compile.JavaFileObjects;
-import org.junit.Rule;
 import org.junit.Test;
-import org.junit.rules.ExpectedException;
+import org.junit.function.ThrowingRunnable;
 import org.junit.runner.RunWith;
 import org.junit.runners.JUnit4;
 
 /**
  * Tests AppGlideModules with invalid usages of the @Excludes annotation.
  */
-// Ignore warnings since most methods use ExpectedException
+// Ignore warnings since most methods use assertThrows
 @SuppressWarnings("ResultOfMethodCallIgnored")
 @RunWith(JUnit4.class)
 public class InvalidAppGlideModuleWithExcludesTest {
-  @Rule public final ExpectedException expectedException = ExpectedException.none();
-
   @Test
   public void compilation_withMissingExcludedModuleClass_throws() {
-    expectedException.expect(RuntimeException.class);
-    javac()
-        .withProcessors(new GlideAnnotationProcessor())
-        .compile(
-            JavaFileObjects.forSourceLines(
-                "AppModuleWithExcludes",
-                "package com.bumptech.glide.test;",
-                "import com.bumptech.glide.annotation.Excludes;",
-                "import com.bumptech.glide.annotation.GlideModule;",
-                "import com.bumptech.glide.module.AppGlideModule;",
-                "import com.bumptech.glide.test.EmptyLibraryModule;",
-                "@GlideModule",
-                "@Excludes(EmptyLibraryModule.class)",
-                "public final class AppModuleWithExcludes extends AppGlideModule {}"));
+    assertThrows(
+        RuntimeException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() throws Throwable {
+            javac()
+                .withProcessors(new GlideAnnotationProcessor())
+                .compile(
+                    JavaFileObjects.forSourceLines(
+                        "AppModuleWithExcludes",
+                        "package com.bumptech.glide.test;",
+                        "import com.bumptech.glide.annotation.Excludes;",
+                        "import com.bumptech.glide.annotation.GlideModule;",
+                        "import com.bumptech.glide.module.AppGlideModule;",
+                        "import com.bumptech.glide.test.EmptyLibraryModule;",
+                        "@GlideModule",
+                        "@Excludes(EmptyLibraryModule.class)",
+                        "public final class AppModuleWithExcludes extends AppGlideModule {}"));
+          }
+        });
   }
 
   @Test
diff --git a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/InvalidGlideExtensionTest.java b/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/InvalidGlideExtensionTest.java
index c1a47efa2..2641be120 100644
--- a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/InvalidGlideExtensionTest.java
+++ b/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/InvalidGlideExtensionTest.java
@@ -8,21 +8,17 @@
 import com.google.common.truth.Truth;
 import com.google.testing.compile.Compilation;
 import com.google.testing.compile.JavaFileObjects;
-import org.junit.Rule;
 import org.junit.Test;
-import org.junit.rules.ExpectedException;
 import org.junit.runner.RunWith;
 import org.junit.runners.JUnit4;
 
 /**
  * Checks assertions on {@link com.bumptech.glide.annotation.GlideExtension}s themselves.
  */
-// Avoid warnings when using ExpectedException.
+// Avoid warnings when asserting on exceptions.
 @SuppressWarnings("ResultOfMethodCallIgnored")
 @RunWith(JUnit4.class)
 public class InvalidGlideExtensionTest {
-  @Rule public final ExpectedException expectedException = ExpectedException.none();
-
   @Test
   public void compilation_withPublicConstructor_fails() {
     try {
diff --git a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/InvalidGlideOptionsExtensionTest.java b/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/InvalidGlideOptionsExtensionTest.java
index a0be89706..e1516bdcb 100644
--- a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/InvalidGlideOptionsExtensionTest.java
+++ b/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/InvalidGlideOptionsExtensionTest.java
@@ -3,14 +3,14 @@
 import static com.bumptech.glide.annotation.compiler.test.Util.emptyAppModule;
 import static com.google.testing.compile.CompilationSubject.assertThat;
 import static com.google.testing.compile.Compiler.javac;
+import static org.junit.Assert.assertThrows;
 import static org.junit.Assert.fail;
 
 import com.google.common.truth.Truth;
 import com.google.testing.compile.Compilation;
 import com.google.testing.compile.JavaFileObjects;
-import org.junit.Rule;
 import org.junit.Test;
-import org.junit.rules.ExpectedException;
+import org.junit.function.ThrowingRunnable;
 import org.junit.runner.RunWith;
 import org.junit.runners.JUnit4;
 
@@ -18,30 +18,34 @@
  * Checks assertions on {@link com.bumptech.glide.annotation.GlideExtension}s for methods annotated
  * with {@link com.bumptech.glide.annotation.GlideOption}.
  */
-// Ignore warnings since most methods use ExpectedException
+// Ignore warnings since most methods use assertThrows.
 @SuppressWarnings("ResultOfMethodCallIgnored")
 @RunWith(JUnit4.class)
 public class InvalidGlideOptionsExtensionTest {
-  @Rule public final ExpectedException expectedException = ExpectedException.none();
-
   @Test
   public void compilation_withAnnotatedNonStaticMethod_fails() {
-    expectedException.expect(RuntimeException.class);
-    javac()
-        .withProcessors(new GlideAnnotationProcessor())
-        .compile(
-            emptyAppModule(),
-            JavaFileObjects.forSourceLines(
-                "Extension",
-                "package com.bumptech.glide.test;",
-                "import com.bumptech.glide.annotation.GlideExtension;",
-                "import com.bumptech.glide.annotation.GlideOption;",
-                "@GlideExtension",
-                "public class Extension {",
-                "  private Extension() {}",
-                "  @GlideOption",
-                "  public void doSomething() {}",
-                "}"));
+    assertThrows(
+        RuntimeException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() {
+            javac()
+                .withProcessors(new GlideAnnotationProcessor())
+                .compile(
+                    emptyAppModule(),
+                    JavaFileObjects.forSourceLines(
+                        "Extension",
+                        "package com.bumptech.glide.test;",
+                        "import com.bumptech.glide.annotation.GlideExtension;",
+                        "import com.bumptech.glide.annotation.GlideOption;",
+                        "@GlideExtension",
+                        "public class Extension {",
+                        "  private Extension() {}",
+                        "  @GlideOption",
+                        "  public void doSomething() {}",
+                        "}"));
+          }
+        });
   }
 
   @Test
@@ -56,17 +60,20 @@ public void compilation_withAnnotatedStaticMethod_withRequestOptionsArgInWrongOr
                   "package com.bumptech.glide.test;",
                   "import com.bumptech.glide.annotation.GlideExtension;",
                   "import com.bumptech.glide.annotation.GlideOption;",
-                  "import com.bumptech.glide.request.RequestOptions;",
+                  "import com.bumptech.glide.request.BaseRequestOptions;",
                   "@GlideExtension",
                   "public class NonRequestOptionsFirstArgExtension{",
                   "  private NonRequestOptionsFirstArgExtension() {}",
                   "  @GlideOption",
-                  "  public static void doSomething(Object arg1, RequestOptions options) {}",
+                  "  public static BaseRequestOptions<?> doSomething(",
+                  "      Object arg1, BaseRequestOptions<?> options) {",
+                  "    return options;",
+                  "  }",
                   "}"));
       fail();
     } catch (RuntimeException e) {
       String message = e.getCause().getMessage();
-      Truth.assertThat(message).contains("RequestOptions object as their first parameter");
+      Truth.assertThat(message).contains("BaseRequestOptions<?> object as their first parameter");
       Truth.assertThat(message).contains("Object");
       Truth.assertThat(message).contains("NonRequestOptionsFirstArgExtension");
     }
@@ -83,15 +90,17 @@ public void compilation_withAnnotatedStaticMethod_withRequestOptionsArg_succeeds
                 "package com.bumptech.glide.test;",
                 "import com.bumptech.glide.annotation.GlideExtension;",
                 "import com.bumptech.glide.annotation.GlideOption;",
-                "import com.bumptech.glide.request.RequestOptions;",
+                "import com.bumptech.glide.request.BaseRequestOptions;",
                 "@GlideExtension",
                 "public class Extension {",
                 "  private Extension() {}",
                 "  @GlideOption",
-                "  public static void doSomething(RequestOptions options) {}",
+                "  public static BaseRequestOptions<?> doSomething(",
+                "      BaseRequestOptions<?> options) {",
+                "    return options;",
+                "  }",
                 "}"));
     assertThat(compilation).succeeded();
-    assertThat(compilation).hadWarningContaining("is using a legacy format.");
   }
 
   @Test
@@ -105,57 +114,78 @@ public void compilation_withAnnotatedStaticMethod_withRequestOptionsArgAndOtherA
                 "package com.bumptech.glide.test;",
                 "import com.bumptech.glide.annotation.GlideExtension;",
                 "import com.bumptech.glide.annotation.GlideOption;",
-                "import com.bumptech.glide.request.RequestOptions;",
+                "import com.bumptech.glide.request.BaseRequestOptions;",
                 "@GlideExtension",
                 "public class Extension {",
                 "  private Extension() {}",
                 "  @GlideOption",
-                "  public static void doSomething(RequestOptions options, Object arg2) {}",
+                "  public static BaseRequestOptions<?> doSomething(",
+                "      BaseRequestOptions<?> options, Object arg2) {",
+                "    return options;",
+                "  }",
                 "}"));
     assertThat(compilation).succeeded();
-    assertThat(compilation).hadWarningContaining("is using a legacy format.");
   }
 
   @Test
   public void compilation_overridingOptionWithoutAnnotationType_fails() {
-    expectedException.expect(RuntimeException.class);
-    javac()
-        .withProcessors(new GlideAnnotationProcessor())
-        .compile(
-            emptyAppModule(),
-            JavaFileObjects.forSourceLines(
-                "Extension",
-                "package com.bumptech.glide.test;",
-                "import com.bumptech.glide.annotation.GlideExtension;",
-                "import com.bumptech.glide.annotation.GlideOption;",
-                "import com.bumptech.glide.request.RequestOptions;",
-                "@GlideExtension",
-                "public class Extension {",
-                "  private Extension() {}",
-                "  @GlideOption",
-                "  public static void centerCrop(RequestOptions options) {}",
-                "}"));
+    assertThrows(
+        RuntimeException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() {
+            javac()
+                .withProcessors(new GlideAnnotationProcessor())
+                .compile(
+                emptyAppModule(),
+                JavaFileObjects.forSourceLines(
+                    "Extension",
+                    "package com.bumptech.glide.test;",
+                    "import com.bumptech.glide.annotation.GlideExtension;",
+                    "import com.bumptech.glide.annotation.GlideOption;",
+                    "import com.bumptech.glide.request.BaseRequestOptions;",
+                    "@GlideExtension",
+                    "public class Extension {",
+                    "  private Extension() {}",
+                    "  @GlideOption",
+                    "  public static BaseRequestOptions<?> centerCrop(",
+                    "      BaseRequestOptions<?> options) {",
+                    "    return options;",
+                    "  }",
+                    "}"));
+
+          }
+        });
   }
 
   @Test
   public void compilation_withOverrideExtend_butNotOverridingMethod_fails() {
-    expectedException.expect(RuntimeException.class);
-    javac()
-        .withProcessors(new GlideAnnotationProcessor())
-        .compile(
-            emptyAppModule(),
-            JavaFileObjects.forSourceLines(
-                "Extension",
-                "package com.bumptech.glide.test;",
-                "import com.bumptech.glide.annotation.GlideExtension;",
-                "import com.bumptech.glide.annotation.GlideOption;",
-                "import com.bumptech.glide.request.RequestOptions;",
-                "@GlideExtension",
-                "public class Extension {",
-                "  private Extension() {}",
-                "  @GlideOption(override = GlideOption.OVERRIDE_EXTEND)",
-                "  public static void something(RequestOptions options) {}",
-                "}"));
+    assertThrows(
+        RuntimeException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() {
+            javac()
+                .withProcessors(new GlideAnnotationProcessor())
+                .compile(
+                    emptyAppModule(),
+                    JavaFileObjects.forSourceLines(
+                        "Extension",
+                        "package com.bumptech.glide.test;",
+                        "import com.bumptech.glide.annotation.GlideExtension;",
+                        "import com.bumptech.glide.annotation.GlideOption;",
+                        "import com.bumptech.glide.request.BaseRequestOptions;",
+                        "@GlideExtension",
+                        "public class Extension {",
+                        "  private Extension() {}",
+                        "  @GlideOption(override = GlideOption.OVERRIDE_EXTEND)",
+                        "  public static BaseRequestOptions<?> something(",
+                        "      BaseRequestOptions<?> options) {",
+                        "    return options;",
+                        "  }",
+                        "}"));
+          }
+        });
   }
 
   @Test
@@ -169,36 +199,47 @@ public void compilation_withOverrideExtend_andOverridingMethod_succeeds() {
                 "package com.bumptech.glide.test;",
                 "import com.bumptech.glide.annotation.GlideExtension;",
                 "import com.bumptech.glide.annotation.GlideOption;",
-                "import com.bumptech.glide.request.RequestOptions;",
+                "import com.bumptech.glide.request.BaseRequestOptions;",
                 "@GlideExtension",
                 "public class Extension {",
                 "  private Extension() {}",
                 "  @GlideOption(override = GlideOption.OVERRIDE_EXTEND)",
-                "  public static void centerCrop(RequestOptions options) {}",
+                "  public static BaseRequestOptions<?> centerCrop(",
+                "      BaseRequestOptions<?> options) {",
+                "    return options;",
+                "  }",
                 "}"));
     assertThat(compilation).succeeded();
-    assertThat(compilation).hadWarningContaining("is using a legacy format.");
   }
 
   @Test
   public void compilation_withOverrideReplace_butNotOverridingMethod_fails() {
-    expectedException.expect(RuntimeException.class);
-    javac()
-        .withProcessors(new GlideAnnotationProcessor())
-        .compile(
-            emptyAppModule(),
-            JavaFileObjects.forSourceLines(
-                "Extension",
-                "package com.bumptech.glide.test;",
-                "import com.bumptech.glide.annotation.GlideExtension;",
-                "import com.bumptech.glide.annotation.GlideOption;",
-                "import com.bumptech.glide.request.RequestOptions;",
-                "@GlideExtension",
-                "public class Extension {",
-                "  private Extension() {}",
-                "  @GlideOption(override = GlideOption.OVERRIDE_REPLACE)",
-                "  public static void something(RequestOptions options) {}",
-                "}"));
+    assertThrows(
+        RuntimeException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() {
+            javac()
+                .withProcessors(new GlideAnnotationProcessor())
+                .compile(
+                    emptyAppModule(),
+                    JavaFileObjects.forSourceLines(
+                        "Extension",
+                        "package com.bumptech.glide.test;",
+                        "import com.bumptech.glide.annotation.GlideExtension;",
+                        "import com.bumptech.glide.annotation.GlideOption;",
+                        "import com.bumptech.glide.request.BaseRequestOptions;",
+                        "@GlideExtension",
+                        "public class Extension {",
+                        "  private Extension() {}",
+                        "  @GlideOption(override = GlideOption.OVERRIDE_REPLACE)",
+                        "  public static BaseRequestOptions<?> something(",
+                        "      BaseRequestOptions<?> options) {",
+                        "    return options;",
+                        "  }",
+                        "}"));
+          }
+        });
   }
 
   @Test
@@ -212,15 +253,17 @@ public void compilation_withOverrideReplace_andOverridingMethod_succeeds() {
                 "package com.bumptech.glide.test;",
                 "import com.bumptech.glide.annotation.GlideExtension;",
                 "import com.bumptech.glide.annotation.GlideOption;",
-                "import com.bumptech.glide.request.RequestOptions;",
+                "import com.bumptech.glide.request.BaseRequestOptions;",
                 "@GlideExtension",
                 "public class Extension {",
                 "  private Extension() {}",
                 "  @GlideOption(override = GlideOption.OVERRIDE_REPLACE)",
-                "  public static void centerCrop(RequestOptions options) {}",
+                "  public static BaseRequestOptions<?> centerCrop(",
+                "      BaseRequestOptions<?> options) {",
+                "    return options;",
+                "  }",
                 "}"));
     assertThat(compilation).succeeded();
-    assertThat(compilation).hadWarningContaining("is using a legacy format.");
   }
 
   @Test
@@ -235,13 +278,14 @@ public void compilation_withRequestOptionsReturnValue_succeeds() {
                 "import android.support.annotation.NonNull;",
                 "import com.bumptech.glide.annotation.GlideExtension;",
                 "import com.bumptech.glide.annotation.GlideOption;",
-                "import com.bumptech.glide.request.RequestOptions;",
+                "import com.bumptech.glide.request.BaseRequestOptions;",
                 "@GlideExtension",
                 "public class Extension {",
                 "  private Extension() {}",
                 "  @NonNull",
                 "  @GlideOption",
-                "  public static RequestOptions doSomething(RequestOptions options) {",
+                "  public static BaseRequestOptions<?> doSomething(",
+                "      BaseRequestOptions<?> options) {",
                 "    return options;",
                 "  }",
                 "}"));
@@ -261,13 +305,13 @@ public void compilation_withNonRequestOptionsReturnValue_fails() {
                   "import android.support.annotation.NonNull;",
                   "import com.bumptech.glide.annotation.GlideExtension;",
                   "import com.bumptech.glide.annotation.GlideOption;",
-                  "import com.bumptech.glide.request.RequestOptions;",
+                  "import com.bumptech.glide.request.BaseRequestOptions;",
                   "@GlideExtension",
                   "public class WrongReturnTypeExtension {",
                   "  private WrongReturnTypeExtension() {}",
                   "  @NonNull",
                   "  @GlideOption",
-                  "  public static Object doSomething(RequestOptions options) {",
+                  "  public static Object doSomething(BaseRequestOptions<?> options) {",
                   "    return options;",
                   "  }",
                   "}"));
@@ -275,7 +319,7 @@ public void compilation_withNonRequestOptionsReturnValue_fails() {
     } catch (RuntimeException e) {
       String message = e.getCause().getMessage();
       Truth.assertThat(message)
-          .contains("@GlideOption methods should return a RequestOptions object");
+          .contains("@GlideOption methods should return a BaseRequestOptions<?> object");
       Truth.assertThat(message).contains("Object");
       Truth.assertThat(message).contains("WrongReturnTypeExtension");
     }
@@ -292,12 +336,13 @@ public void compilation_withMissingNonNullAnnotation_warns() {
                 "package com.bumptech.glide.test;",
                 "import com.bumptech.glide.annotation.GlideExtension;",
                 "import com.bumptech.glide.annotation.GlideOption;",
-                "import com.bumptech.glide.request.RequestOptions;",
+                "import com.bumptech.glide.request.BaseRequestOptions;",
                 "@GlideExtension",
                 "public class Extension {",
                 "  private Extension() {}",
                 "  @GlideOption",
-                "  public static RequestOptions doSomething(RequestOptions options) {",
+                "  public static BaseRequestOptions<?> doSomething(",
+                "      BaseRequestOptions<?> options) {",
                 "    return options;",
                 "  }",
                 "}"));
@@ -320,20 +365,20 @@ public void compilation_withNoOptionParameters_fails() {
                   "import android.support.annotation.NonNull;",
                   "import com.bumptech.glide.annotation.GlideExtension;",
                   "import com.bumptech.glide.annotation.GlideOption;",
-                  "import com.bumptech.glide.request.RequestOptions;",
+                  "import com.bumptech.glide.request.BaseRequestOptions;",
                   "@GlideExtension",
                   "public class MissingRequestOptionsExtension {",
                   "  private MissingRequestOptionsExtension() {}",
                   "  @NonNull",
                   "  @GlideOption",
-                  "  public static RequestOptions doSomething() {",
+                  "  public static BaseRequestOptions<?> doSomething() {",
                   "    return options;",
                   "  }",
                   "}"));
       fail();
     } catch (RuntimeException e) {
       String message = e.getCause().getMessage();
-      Truth.assertThat(message).contains("RequestOptions object as their first parameter");
+      Truth.assertThat(message).contains("BaseRequestOptions<?> object as their first parameter");
       Truth.assertThat(message).contains("doSomething");
       Truth.assertThat(message).contains("MissingRequestOptionsExtension");
     }
diff --git a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/InvalidGlideTypeExtensionTest.java b/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/InvalidGlideTypeExtensionTest.java
index 9076f806e..0a4c91c82 100644
--- a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/InvalidGlideTypeExtensionTest.java
+++ b/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/InvalidGlideTypeExtensionTest.java
@@ -5,15 +5,14 @@
 import static com.bumptech.glide.annotation.compiler.test.Util.subpackage;
 import static com.google.testing.compile.CompilationSubject.assertThat;
 import static com.google.testing.compile.Compiler.javac;
+import static org.junit.Assert.assertThrows;
 import static org.junit.Assert.fail;
 
 import com.google.common.truth.Truth;
 import com.google.testing.compile.Compilation;
 import com.google.testing.compile.JavaFileObjects;
-import java.io.IOException;
-import org.junit.Rule;
 import org.junit.Test;
-import org.junit.rules.ExpectedException;
+import org.junit.function.ThrowingRunnable;
 import org.junit.runner.RunWith;
 import org.junit.runners.JUnit4;
 
@@ -21,54 +20,71 @@
  * Checks assertions on {@link com.bumptech.glide.annotation.GlideExtension}s for methods annotated
  * with {@link com.bumptech.glide.annotation.GlideType}.
  */
-// Ignore warnings since most methods use ExpectedException
+// Ignore warnings since most methods use assertThrows.
 @SuppressWarnings("ResultOfMethodCallIgnored")
 @RunWith(JUnit4.class)
 public class InvalidGlideTypeExtensionTest {
-  @Rule public final ExpectedException expectedException = ExpectedException.none();
-
   @Test
   public void compilation_withAnnotatedNonStaticMethod_fails() {
-    expectedException.expectMessage("@GlideType methods must be static");
-    javac()
-        .withProcessors(new GlideAnnotationProcessor())
-        .compile(
-            emptyAppModule(),
-            JavaFileObjects.forSourceLines(
-                "Extension",
-                "package com.bumptech.glide.test;",
-                "import com.bumptech.glide.annotation.GlideExtension;",
-                "import com.bumptech.glide.annotation.GlideType;",
-                "@GlideExtension",
-                "public class Extension {",
-                "  private Extension() {}",
-                "  @GlideType(Number.class)",
-                "  public void doSomething() {}",
-                "}"));
+    assertThrows(
+        "@GlideType methods must be static",
+        RuntimeException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() {
+            javac()
+                .withProcessors(new GlideAnnotationProcessor())
+                .compile(
+                    emptyAppModule(),
+                    JavaFileObjects.forSourceLines(
+                        "Extension",
+                        "package com.bumptech.glide.test;",
+                        "import android.support.annotation.NonNull;",
+                        "import com.bumptech.glide.annotation.GlideExtension;",
+                        "import com.bumptech.glide.annotation.GlideType;",
+                        "@GlideExtension",
+                        "public class Extension {",
+                        "  private Extension() {}",
+                        "  @NonNull",
+                        "  @GlideType(Number.class)",
+                        "  public RequestBuilder<Number> doSomething(",
+                        "      RequestBuilder<Number> builder) {",
+                        "    return builder;",
+                        "  }",
+                        "}"));
+          }
+        });
   }
 
   @Test
   public void compilation_withAnnotatedStaticMethod_withoutRequestBuilderArg_fails() {
-    expectedException
-        .expectMessage(
-            "@GlideType methods must take a RequestBuilder object as their first and only"
-                + " parameter, but given multiple for:"
-                + " com.bumptech.glide.test.Extension#doSomething()");
-    javac()
-        .withProcessors(new GlideAnnotationProcessor())
-        .compile(
-            emptyAppModule(),
-            JavaFileObjects.forSourceLines(
-                "Extension",
-                "package com.bumptech.glide.test;",
-                "import com.bumptech.glide.annotation.GlideExtension;",
-                "import com.bumptech.glide.annotation.GlideType;",
-                "@GlideExtension",
-                "public class Extension {",
-                "  private Extension() {}",
-                "  @GlideType(Number.class)",
-                "  public static void doSomething() {}",
-                "}"));
+    assertThrows(
+        "@GlideType methods must take a RequestBuilder object as their first and only"
+            + " parameter, but given multiple for:"
+            + " com.bumptech.glide.test.Extension#doSomething()",
+        RuntimeException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() {
+            javac()
+                .withProcessors(new GlideAnnotationProcessor())
+                .compile(
+                    emptyAppModule(),
+                    JavaFileObjects.forSourceLines(
+                        "Extension",
+                        "package com.bumptech.glide.test;",
+                        "import com.bumptech.glide.annotation.GlideExtension;",
+                        "import com.bumptech.glide.annotation.GlideType;",
+                        "@GlideExtension",
+                        "public class Extension {",
+                        "  private Extension() {}",
+                        "  @GlideType(Number.class)",
+                        "  public static RequestBuilder<Number> doSomething() {",
+                        "    return null;",
+                        "  }",
+                        "}"));
+          }
+        });
   }
 
   @Test
@@ -80,14 +96,18 @@ public void compilation_withAnnotatedStaticMethod_withRequestBuilderArg_succeeds
             JavaFileObjects.forSourceLines(
                 "Extension",
                 "package com.bumptech.glide.test;",
+                "import android.support.annotation.NonNull;",
                 "import com.bumptech.glide.RequestBuilder;",
                 "import com.bumptech.glide.annotation.GlideExtension;",
                 "import com.bumptech.glide.annotation.GlideType;",
                 "@GlideExtension",
                 "public class Extension {",
                 "  private Extension() {}",
+                "  @NonNull",
                 "  @GlideType(Number.class)",
-                "  public static void type(RequestBuilder<Number> builder) {}",
+                "  public static RequestBuilder<Number> type(RequestBuilder<Number> builder) {",
+                "    return builder;",
+                "  }",
                 "}"));
     assertThat(compilation).succeededWithoutWarnings();
   }
@@ -102,14 +122,18 @@ public void compilation_withAnnotatedStaticMethod_withNonRequestBuilderArg_fails
               JavaFileObjects.forSourceLines(
                   "WrongParameterTypeExtension",
                   "package com.bumptech.glide.test;",
+                  "import android.support.annotation.NonNull;",
                   "import com.bumptech.glide.RequestBuilder;",
                   "import com.bumptech.glide.annotation.GlideExtension;",
                   "import com.bumptech.glide.annotation.GlideType;",
                   "@GlideExtension",
                   "public class WrongParameterTypeExtension {",
                   "  private WrongParameterTypeExtension() {}",
+                  "  @NonNull",
                   "  @GlideType(Number.class)",
-                  "  public static void type(Object arg) {}",
+                  "  public static RequestBuilder<Number> type(Object arg) {",
+                  "    return null;",
+                  "  }",
                   "}"));
     } catch (RuntimeException e) {
       String message = e.getCause().getMessage();
@@ -121,35 +145,44 @@ public void compilation_withAnnotatedStaticMethod_withNonRequestBuilderArg_fails
 
   @Test
   public void compilation_withAnnotatedStaticMethod_withRequestBuilderArgAndOtherArg_fails() {
-    expectedException
-        .expectMessage(
-            "@GlideType methods must take a RequestBuilder object as their first and only"
-                + " parameter, but given multiple for:"
-                + " com.bumptech.glide.test.Extension#type("
-                + "com.bumptech.glide.RequestBuilder<java.lang.Number>,"
-                + "java.lang.Object)");
-    javac()
-        .withProcessors(new GlideAnnotationProcessor())
-        .compile(
-            emptyAppModule(),
-            JavaFileObjects.forSourceLines(
-                "Extension",
-                "package com.bumptech.glide.test;",
-                "import com.bumptech.glide.RequestBuilder;",
-                "import com.bumptech.glide.annotation.GlideExtension;",
-                "import com.bumptech.glide.annotation.GlideType;",
-                "@GlideExtension",
-                "public class Extension {",
-                "  private Extension() {}",
-                "  @GlideType(Number.class)",
-                "  public static void type(RequestBuilder<Number> builder, Object arg2) {}",
-                "}"));
+    assertThrows(
+        "@GlideType methods must take a RequestBuilder object as their first and only"
+            + " parameter, but given multiple for:"
+            + " com.bumptech.glide.test.Extension#type("
+            + "com.bumptech.glide.RequestBuilder<java.lang.Number>,"
+            + "java.lang.Object)",
+        RuntimeException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() {
+            javac()
+                .withProcessors(new GlideAnnotationProcessor())
+                .compile(
+                    emptyAppModule(),
+                    JavaFileObjects.forSourceLines(
+                        "Extension",
+                        "package com.bumptech.glide.test;",
+                        "import android.support.annotation.NonNull;",
+                        "import com.bumptech.glide.RequestBuilder;",
+                        "import com.bumptech.glide.annotation.GlideExtension;",
+                        "import com.bumptech.glide.annotation.GlideType;",
+                        "@GlideExtension",
+                        "public class Extension {",
+                        "  private Extension() {}",
+                        "  @NonNull",
+                        "  @GlideType(Number.class)",
+                        "  public static RequestBuilder<Number> type(",
+                        "      RequestBuilder<Number> builder, Object arg2) {",
+                        "    return builder;",
+                        "  }",
+                        "}"));
+          }
+        });
   }
 
   @Test
-  public void compilation_withAnnotatedStaticMethod_overridingExistingType_fails()
-      throws IOException {
-    Compilation compilation =
+  public void compilation_withAnnotatedStaticMethod_overridingExistingType_fails() {
+    final Compilation compilation =
         javac()
             .withProcessors(new GlideAnnotationProcessor())
             .compile(
@@ -158,20 +191,31 @@ public void compilation_withAnnotatedStaticMethod_overridingExistingType_fails()
                     "Extension",
                     "package com.bumptech.glide.test;",
                     "import android.graphics.drawable.Drawable;",
+                    "import android.support.annotation.NonNull;",
                     "import com.bumptech.glide.RequestBuilder;",
                     "import com.bumptech.glide.annotation.GlideExtension;",
                     "import com.bumptech.glide.annotation.GlideType;",
                     "@GlideExtension",
                     "public class Extension {",
                     "  private Extension() {}",
+                    "  @NonNull",
                     "  @GlideType(Drawable.class)",
-                    "  public static void asDrawable(RequestBuilder<Drawable> builder) {}",
+                    "  public static RequestBuilder<Drawable> asDrawable(",
+                    "      RequestBuilder<Drawable> builder) {",
+                    "    return builder;",
+                    "  }",
                     "}"));
-    expectedException
-        .expectMessage(
-            "error: method asDrawable() is already defined in class"
-                + " com.bumptech.glide.test.GlideRequests");
-    compilation.generatedSourceFile(subpackage("GlideRequests"));
+
+    assertThrows(
+        "error: method asDrawable() is already defined in class"
+            + " com.bumptech.glide.test.GlideRequests",
+        RuntimeException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() {
+            compilation.generatedSourceFile(subpackage("GlideRequests"));
+          }
+        });
   }
 
   @Test
@@ -211,12 +255,14 @@ public void compilation_withAnnotatedStaticMethod_returningNonRequestBuilder_fai
               JavaFileObjects.forSourceLines(
                   "WrongReturnTypeExtension",
                   "package com.bumptech.glide.test;",
+                  "import android.support.annotation.NonNull;",
                   "import com.bumptech.glide.RequestBuilder;",
                   "import com.bumptech.glide.annotation.GlideExtension;",
                   "import com.bumptech.glide.annotation.GlideType;",
                   "@GlideExtension",
                   "public class WrongReturnTypeExtension {",
                   "  private WrongReturnTypeExtension() {}",
+                  "  @NonNull",
                   "  @GlideType(Number.class)",
                   "  public static Object asNumber(",
                   "      RequestBuilder<Number> builder) {",
@@ -242,12 +288,14 @@ public void compilation_withAnnotatedStaticMethod_returningBuilderWithIncorrectT
               JavaFileObjects.forSourceLines(
                   "WrongBuilderTypeExtension",
                   "package com.bumptech.glide.test;",
+                  "import android.support.annotation.NonNull;",
                   "import com.bumptech.glide.RequestBuilder;",
                   "import com.bumptech.glide.annotation.GlideExtension;",
                   "import com.bumptech.glide.annotation.GlideType;",
                   "@GlideExtension",
                   "public class WrongBuilderTypeExtension {",
                   "  private WrongBuilderTypeExtension() {}",
+                  "  @NonNull",
                   "  @GlideType(Number.class)",
                   "  public static RequestBuilder<Object> asNumber(",
                   "      RequestBuilder<Object> builder) {",
@@ -266,30 +314,38 @@ public void compilation_withAnnotatedStaticMethod_returningBuilderWithIncorrectT
 
   @Test
   public void compilation_withAnnotatedStaticMethod_returningBuilder_andMultipleParams_fails() {
-    expectedException.expectMessage(
+    assertThrows(
         "@GlideType methods must take a RequestBuilder object as their first and only parameter,"
             + " but given multiple for:"
             + " com.bumptech.glide.test.Extension#asNumber("
-            + "com.bumptech.glide.RequestBuilder<java.lang.Number>,java.lang.Object)");
-    javac()
-        .withProcessors(new GlideAnnotationProcessor())
-        .compile(
-            emptyAppModule(),
-            JavaFileObjects.forSourceLines(
-                "Extension",
-                "package com.bumptech.glide.test;",
-                "import com.bumptech.glide.RequestBuilder;",
-                "import com.bumptech.glide.annotation.GlideExtension;",
-                "import com.bumptech.glide.annotation.GlideType;",
-                "@GlideExtension",
-                "public class Extension {",
-                "  private Extension() {}",
-                "  @GlideType(Number.class)",
-                "  public static RequestBuilder<Number> asNumber(",
-                "      RequestBuilder<Number> builder, Object arg1) {",
-                "    return builder;",
-                "  }",
-                "}"));
+            + "com.bumptech.glide.RequestBuilder<java.lang.Number>,java.lang.Object)",
+        RuntimeException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() {
+            javac()
+                .withProcessors(new GlideAnnotationProcessor())
+                .compile(
+                    emptyAppModule(),
+                    JavaFileObjects.forSourceLines(
+                        "Extension",
+                        "package com.bumptech.glide.test;",
+                        "import android.support.annotation.NonNull;",
+                        "import com.bumptech.glide.RequestBuilder;",
+                        "import com.bumptech.glide.annotation.GlideExtension;",
+                        "import com.bumptech.glide.annotation.GlideType;",
+                        "@GlideExtension",
+                        "public class Extension {",
+                        "  private Extension() {}",
+                        "  @NonNull",
+                        "  @GlideType(Number.class)",
+                        "  public static RequestBuilder<Number> asNumber(",
+                        "      RequestBuilder<Number> builder, Object arg1) {",
+                        "    return builder;",
+                        "  }",
+                        "}"));
+          }
+        });
   }
 
   @Test
@@ -302,12 +358,14 @@ public void compilation_withAnnotatedStaticMethod_returningBuilder_nonBuilderPar
               JavaFileObjects.forSourceLines(
                   "IncorrectParameterExtension",
                   "package com.bumptech.glide.test;",
+                  "import android.support.annotation.NonNull;",
                   "import com.bumptech.glide.RequestBuilder;",
                   "import com.bumptech.glide.annotation.GlideExtension;",
                   "import com.bumptech.glide.annotation.GlideType;",
                   "@GlideExtension",
                   "public class IncorrectParameterExtension {",
                   "  private IncorrectParameterExtension() {}",
+                  "  @NonNull",
                   "  @GlideType(Number.class)",
                   "  public static RequestBuilder<Number> asNumber(",
                   "      Object arg) {",
diff --git a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/LegacyGlideExtensionOptionsTest.java b/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/LegacyGlideExtensionOptionsTest.java
deleted file mode 100644
index 5087f3be9..000000000
--- a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/LegacyGlideExtensionOptionsTest.java
+++ /dev/null
@@ -1,134 +0,0 @@
-package com.bumptech.glide.annotation.compiler;
-
-import static com.bumptech.glide.annotation.compiler.test.Util.asUnixChars;
-import static com.bumptech.glide.annotation.compiler.test.Util.emptyAppModule;
-import static com.bumptech.glide.annotation.compiler.test.Util.subpackage;
-import static com.google.testing.compile.CompilationSubject.assertThat;
-import static com.google.testing.compile.Compiler.javac;
-
-import com.bumptech.glide.annotation.compiler.test.RegenerateResourcesRule;
-import com.bumptech.glide.annotation.compiler.test.SubDirectory;
-import com.bumptech.glide.annotation.compiler.test.TestDescription;
-import com.bumptech.glide.annotation.compiler.test.Util;
-import com.google.testing.compile.Compilation;
-import java.io.IOException;
-import javax.tools.JavaFileObject;
-import org.junit.Rule;
-import org.junit.Test;
-import org.junit.runner.RunWith;
-import org.junit.runners.JUnit4;
-
-/**
- * Verifies only the output we expect to change based on the various configurations of GlideOptions
- * when GlideOptions are defined in the legacy format.
- *
- * <p>The output for all classes is tested in {@link LegacyGlideExtensionWithOptionTest}.
- */
-@RunWith(JUnit4.class)
-public class LegacyGlideExtensionOptionsTest {
-  @Rule public final TestDescription testDescription = new TestDescription();
-  @Rule public final RegenerateResourcesRule regenerateResourcesRule =
-      new RegenerateResourcesRule(getClass());
-
-  private static final String EXTENSION_NAME = "Extension.java";
-
-  @Test
-  @SubDirectory("OverrideExtend")
-  public void compilation_withOverrideExtend_validOptions() throws IOException {
-    runTest(Subject.GlideOptions);
-  }
-
-  @Test
-  @SubDirectory("OverrideExtend")
-  public void compilation_withOverrideExtend_validRequest() throws IOException {
-    runTest(Subject.GlideRequest);
-  }
-
-  @Test
-  @SubDirectory("OverrideReplace")
-  public void compilation_withOverrideReplace_validOptions() throws IOException {
-    runTest(Subject.GlideOptions);
-  }
-
-  @Test
-  @SubDirectory("OverrideReplace")
-  public void compilation_withOverrideReplace_validRequest() throws IOException {
-    runTest(Subject.GlideRequest);
-  }
-
-  @Test
-  @SubDirectory("StaticMethodName")
-  public void compilation_withStaticMethodName_validOptions() throws IOException {
-    runTest(Subject.GlideOptions);
-  }
-
-  @Test
-  @SubDirectory("StaticMethodName")
-  public void compilation_withStaticMethodName_validRequest() throws IOException {
-    runTest(Subject.GlideRequest);
-  }
-
-  @Test
-  @SubDirectory("MemoizeStaticMethod")
-  public void compilation_withMemoizeStaticMethod_validOptions() throws IOException {
-    runTest(Subject.GlideOptions);
-  }
-
-  @Test
-  @SubDirectory("MemoizeStaticMethod")
-  public void compilation_withMemoizeStaticMethod_validRequest() throws IOException {
-    runTest(Subject.GlideRequest);
-  }
-
-  @Test
-  @SubDirectory("SkipStaticMethod")
-  public void compilation_withSkipStaticMethod_validOptions() throws IOException {
-    runTest(Subject.GlideOptions);
-  }
-
-  @Test
-  @SubDirectory("SkipStaticMethod")
-  public void compilation_withSkipStaticMethod_validRequest() throws IOException {
-    runTest(Subject.GlideRequest);
-  }
-
-  private enum Subject {
-    GlideOptions,
-    GlideRequest;
-
-    String file() {
-      return name() + ".java";
-    }
-  }
-
-  private void runTest(Subject subject) throws IOException {
-    String subDirectoryName = getSubDirectoryName();
-    Compilation compilation =
-        javac()
-            .withProcessors(new GlideAnnotationProcessor())
-            .compile(
-                emptyAppModule(),
-                extension(subDirectoryName));
-    assertThat(compilation).succeeded();
-
-    assertThat(compilation)
-        .generatedSourceFile(subpackage(subject.name()))
-        .contentsAsUtf8String()
-        .isEqualTo(asUnixChars(forResource(subDirectoryName, subject.file()).getCharContent(true)));
-  }
-
-  private String getSubDirectoryName() {
-    return testDescription
-        .getDescription()
-        .getAnnotation(SubDirectory.class)
-        .value();
-  }
-
-  private JavaFileObject extension(String subdir) {
-    return forResource(subdir, EXTENSION_NAME);
-  }
-
-  private JavaFileObject forResource(String subdir, String name) {
-    return Util.forResource(getClass().getSimpleName(), subdir + "/" + name);
-  }
-}
diff --git a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/LegacyGlideExtensionWithOptionTest.java b/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/LegacyGlideExtensionWithOptionTest.java
deleted file mode 100644
index 933402ff3..000000000
--- a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/LegacyGlideExtensionWithOptionTest.java
+++ /dev/null
@@ -1,113 +0,0 @@
-package com.bumptech.glide.annotation.compiler;
-
-import static com.bumptech.glide.annotation.compiler.test.Util.appResource;
-import static com.bumptech.glide.annotation.compiler.test.Util.asUnixChars;
-import static com.bumptech.glide.annotation.compiler.test.Util.emptyAppModule;
-import static com.bumptech.glide.annotation.compiler.test.Util.glide;
-import static com.bumptech.glide.annotation.compiler.test.Util.subpackage;
-import static com.google.testing.compile.CompilationSubject.assertThat;
-import static com.google.testing.compile.Compiler.javac;
-
-import com.bumptech.glide.annotation.compiler.test.ReferencedResource;
-import com.bumptech.glide.annotation.compiler.test.RegenerateResourcesRule;
-import com.bumptech.glide.annotation.compiler.test.Util;
-import com.google.common.truth.Truth;
-import com.google.testing.compile.Compilation;
-import java.io.IOException;
-import javax.tools.JavaFileObject;
-import org.junit.Before;
-import org.junit.Rule;
-import org.junit.Test;
-import org.junit.runner.RunWith;
-import org.junit.runners.JUnit4;
-
-/**
- * Verifies the output of the processor with a simple single extension option in the legacy
- * option style where extension methods always returned {@code null}.
- */
-@RunWith(JUnit4.class)
-public class LegacyGlideExtensionWithOptionTest {
-  @Rule public final RegenerateResourcesRule regenerateResourcesRule =
-      new RegenerateResourcesRule(getClass());
-  private Compilation compilation;
-
-  @Before
-  public void setUp() {
-    compilation =
-        javac()
-            .withProcessors(new GlideAnnotationProcessor())
-            .compile(
-                emptyAppModule(),
-                forResource("ExtensionWithOption.java"));
-    assertThat(compilation).succeeded();
-    //noinspection ResultOfMethodCallIgnored
-    assertThat(compilation).hadWarningContaining(
-        "The squareThumb method annotated with @GlideOption in the ExtensionWithOption"
-            + " @GlideExtension is using a legacy format. Support will be removed in a future"
-            + " version. Please change your method definition so that your @GlideModule annotated"
-            + " methods return RequestOptions objects instead of null.");
-  }
-
-  @Test
-  public void compilation_generatesAllExpectedFiles() {
-    Truth.assertThat(compilation.generatedSourceFiles()).hasSize(7);
-  }
-
-  @Test
-  public void compilation_generatesExpectedGlideOptionsClass() throws IOException {
-    assertThat(compilation)
-        .generatedSourceFile(subpackage("GlideOptions"))
-        .contentsAsUtf8String()
-        .isEqualTo(asUnixChars(forResource("GlideOptions.java").getCharContent(true)));
-  }
-
-  @Test
-  public void compilation_generatesExpectedGlideRequestClass() throws IOException {
-    assertThat(compilation)
-        .generatedSourceFile(subpackage("GlideRequest"))
-        .contentsAsUtf8String()
-        .isEqualTo(asUnixChars(forResource("GlideRequest.java").getCharContent(true)));
-  }
-
-  @Test
-  @ReferencedResource
-  public void compilation_generatesExpectedGlideRequestsClass() throws IOException {
-    assertThat(compilation)
-        .generatedSourceFile(subpackage("GlideRequests"))
-        .contentsAsUtf8String()
-        .isEqualTo(asUnixChars(appResource("GlideRequests.java").getCharContent(true)));
-  }
-
-  @Test
-  @ReferencedResource
-  public void compilationGeneratesExpectedGlideAppClass() throws IOException {
-    assertThat(compilation)
-        .generatedSourceFile(subpackage("GlideApp"))
-        .contentsAsUtf8String()
-        .isEqualTo(asUnixChars(appResource("GlideApp.java").getCharContent(true)));
-  }
-
-  @Test
-  @ReferencedResource
-  public void compilation_generatesExpectedGeneratedAppGlideModuleImpl() throws IOException {
-    assertThat(compilation)
-        .generatedSourceFile(glide("GeneratedAppGlideModuleImpl"))
-        .contentsAsUtf8String()
-        .isEqualTo(
-            asUnixChars(appResource("GeneratedAppGlideModuleImpl.java").getCharContent(true)));
-  }
-
-  @Test
-  @ReferencedResource
-  public void compilation_generatesExpectedGeneratedRequestManagerFactory() throws IOException {
-    assertThat(compilation)
-        .generatedSourceFile(glide("GeneratedRequestManagerFactory"))
-        .contentsAsUtf8String()
-        .isEqualTo(
-            asUnixChars(appResource("GeneratedRequestManagerFactory.java").getCharContent(true)));
-  }
-
-  private JavaFileObject forResource(String name) {
-    return Util.forResource(getClass().getSimpleName(), name);
-  }
-}
diff --git a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/LegacyGlideExtensionWithTypeTest.java b/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/LegacyGlideExtensionWithTypeTest.java
deleted file mode 100644
index 52b19d890..000000000
--- a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/LegacyGlideExtensionWithTypeTest.java
+++ /dev/null
@@ -1,106 +0,0 @@
-package com.bumptech.glide.annotation.compiler;
-
-import static com.bumptech.glide.annotation.compiler.test.Util.appResource;
-import static com.bumptech.glide.annotation.compiler.test.Util.asUnixChars;
-import static com.bumptech.glide.annotation.compiler.test.Util.emptyAppModule;
-import static com.bumptech.glide.annotation.compiler.test.Util.glide;
-import static com.bumptech.glide.annotation.compiler.test.Util.subpackage;
-import static com.google.testing.compile.CompilationSubject.assertThat;
-import static com.google.testing.compile.Compiler.javac;
-
-import com.bumptech.glide.annotation.compiler.test.ReferencedResource;
-import com.bumptech.glide.annotation.compiler.test.RegenerateResourcesRule;
-import com.bumptech.glide.annotation.compiler.test.Util;
-import com.google.common.truth.Truth;
-import com.google.testing.compile.Compilation;
-import java.io.IOException;
-import javax.tools.JavaFileObject;
-import org.junit.Before;
-import org.junit.Rule;
-import org.junit.Test;
-import org.junit.runner.RunWith;
-import org.junit.runners.JUnit4;
-
-/**
- * Verifies the output of the processor with a simple single extension type.
- */
-@RunWith(JUnit4.class)
-public class LegacyGlideExtensionWithTypeTest {
-  @Rule public final RegenerateResourcesRule regenerateResourcesRule =
-      new RegenerateResourcesRule(getClass());
-  private Compilation compilation;
-
-  @Before
-  public void setUp() {
-    compilation =
-        javac()
-            .withProcessors(new GlideAnnotationProcessor())
-            .compile(
-                emptyAppModule(),
-                forResource("ExtensionWithType.java"));
-    assertThat(compilation).succeededWithoutWarnings();
-  }
-
-  @Test
-  public void compilation_generatesAllExpectedFiles() {
-    Truth.assertThat(compilation.generatedSourceFiles()).hasSize(7);
-  }
-
-  @Test
-  public void compilation_generatesExpectedGlideOptionsClass() throws IOException {
-    assertThat(compilation)
-        .generatedSourceFile(subpackage("GlideOptions"))
-        .contentsAsUtf8String()
-        .isEqualTo(asUnixChars(forResource("GlideOptions.java").getCharContent(true)));
-  }
-
-  @Test
-  @ReferencedResource
-  public void compilation_generatesExpectedGlideRequestClass() throws IOException {
-    assertThat(compilation)
-        .generatedSourceFile(subpackage("GlideRequest"))
-        .contentsAsUtf8String()
-        .isEqualTo(asUnixChars(appResource("GlideRequest.java").getCharContent(true)));
-  }
-
-  @Test
-  public void compilation_generatesExpectedGlideRequestsClass() throws IOException {
-    assertThat(compilation)
-        .generatedSourceFile(subpackage("GlideRequests"))
-        .contentsAsUtf8String()
-        .isEqualTo(asUnixChars(forResource("GlideRequests.java").getCharContent(true)));
-  }
-
-  @Test
-  @ReferencedResource
-  public void compilationGeneratesExpectedGlideAppClass() throws IOException {
-    assertThat(compilation)
-        .generatedSourceFile(subpackage("GlideApp"))
-        .contentsAsUtf8String()
-        .isEqualTo(asUnixChars(appResource("GlideApp.java").getCharContent(true)));
-  }
-
-  @Test
-  @ReferencedResource
-  public void compilation_generatesExpectedGeneratedAppGlideModuleImpl() throws IOException {
-    assertThat(compilation)
-        .generatedSourceFile(glide("GeneratedAppGlideModuleImpl"))
-        .contentsAsUtf8String()
-        .isEqualTo(
-            asUnixChars(appResource("GeneratedAppGlideModuleImpl.java").getCharContent(true)));
-  }
-
-  @Test
-  @ReferencedResource
-  public void compilation_generatesExpectedGeneratedRequestManagerFactory() throws IOException {
-    assertThat(compilation)
-        .generatedSourceFile(glide("GeneratedRequestManagerFactory"))
-        .contentsAsUtf8String()
-        .isEqualTo(
-            asUnixChars(appResource("GeneratedRequestManagerFactory.java").getCharContent(true)));
-  }
-
-  private JavaFileObject forResource(String name) {
-    return Util.forResource(getClass().getSimpleName(), name);
-  }
-}
diff --git a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/MultipleAppGlideModuleTest.java b/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/MultipleAppGlideModuleTest.java
index cecf9f748..a80590d83 100644
--- a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/MultipleAppGlideModuleTest.java
+++ b/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/MultipleAppGlideModuleTest.java
@@ -2,6 +2,7 @@
 
 import static com.google.testing.compile.CompilationSubject.assertThat;
 import static com.google.testing.compile.Compiler.javac;
+import static org.junit.Assert.assertThrows;
 
 import com.bumptech.glide.annotation.compiler.test.RegenerateResourcesRule;
 import com.bumptech.glide.annotation.compiler.test.Util;
@@ -9,7 +10,7 @@
 import javax.tools.JavaFileObject;
 import org.junit.Rule;
 import org.junit.Test;
-import org.junit.rules.ExpectedException;
+import org.junit.function.ThrowingRunnable;
 import org.junit.runner.RunWith;
 import org.junit.runners.JUnit4;
 
@@ -23,16 +24,21 @@
   private static final String SECOND_MODULE = "EmptyAppModule2.java";
   @Rule public final RegenerateResourcesRule regenerateResourcesRule =
       new RegenerateResourcesRule(getClass());
-  @Rule public final ExpectedException expectedException = ExpectedException.none();
 
   // Throws.
   @SuppressWarnings("ResultOfMethodCallIgnored")
   @Test
   public void compilation_withTwoAppModules_fails() {
-    expectedException.expect(RuntimeException.class);
-    javac()
-        .withProcessors(new GlideAnnotationProcessor())
-        .compile(forResource(FIRST_MODULE), forResource(SECOND_MODULE));
+    assertThrows(
+        RuntimeException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() throws Throwable {
+            javac()
+                .withProcessors(new GlideAnnotationProcessor())
+                .compile(forResource(FIRST_MODULE), forResource(SECOND_MODULE));
+          }
+        });
   }
 
   @Test
diff --git a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/MultipleEmptyLibraryGlideModuleTest.java b/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/MultipleEmptyLibraryGlideModuleTest.java
index 94e1c27b7..b576c08a7 100644
--- a/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/MultipleEmptyLibraryGlideModuleTest.java
+++ b/annotation/compiler/test/src/test/java/com/bumptech/glide/annotation/compiler/MultipleEmptyLibraryGlideModuleTest.java
@@ -14,7 +14,6 @@
 import org.junit.Before;
 import org.junit.Rule;
 import org.junit.Test;
-import org.junit.rules.ExpectedException;
 import org.junit.runner.RunWith;
 import org.junit.runners.JUnit4;
 
@@ -25,7 +24,6 @@
 public class MultipleEmptyLibraryGlideModuleTest {
   @Rule public final RegenerateResourcesRule regenerateResourcesRule =
       new RegenerateResourcesRule(getClass());
-  @Rule public final ExpectedException expectedException = ExpectedException.none();
   private Compilation compilation;
 
   @Before
diff --git a/annotation/compiler/test/src/test/resources/AppGlideModuleWithExcludesTest/AppModuleWithExcludes.java b/annotation/compiler/test/src/test/resources/AppGlideModuleWithExcludesTest/AppModuleWithExcludes.java
index 579bb5ab3..f935829d6 100644
--- a/annotation/compiler/test/src/test/resources/AppGlideModuleWithExcludesTest/AppModuleWithExcludes.java
+++ b/annotation/compiler/test/src/test/resources/AppGlideModuleWithExcludesTest/AppModuleWithExcludes.java
@@ -3,7 +3,6 @@
 import com.bumptech.glide.annotation.Excludes;
 import com.bumptech.glide.annotation.GlideModule;
 import com.bumptech.glide.module.AppGlideModule;
-import com.bumptech.glide.test.EmptyLibraryModule;
 
 @GlideModule
 @Excludes(EmptyLibraryModule.class)
diff --git a/annotation/compiler/test/src/test/resources/AppGlideModuleWithMultipleExcludesTest/AppModuleWithMultipleExcludes.java b/annotation/compiler/test/src/test/resources/AppGlideModuleWithMultipleExcludesTest/AppModuleWithMultipleExcludes.java
index c530727e1..94600d8e4 100644
--- a/annotation/compiler/test/src/test/resources/AppGlideModuleWithMultipleExcludesTest/AppModuleWithMultipleExcludes.java
+++ b/annotation/compiler/test/src/test/resources/AppGlideModuleWithMultipleExcludesTest/AppModuleWithMultipleExcludes.java
@@ -3,8 +3,6 @@
 import com.bumptech.glide.annotation.Excludes;
 import com.bumptech.glide.annotation.GlideModule;
 import com.bumptech.glide.module.AppGlideModule;
-import com.bumptech.glide.test.EmptyLibraryModule1;
-import com.bumptech.glide.test.EmptyLibraryModule2;
 
 @GlideModule
 @Excludes({EmptyLibraryModule1.class, EmptyLibraryModule2.class})
diff --git a/annotation/compiler/test/src/test/resources/EmptyAppGlideModuleTest/GlideOptions.java b/annotation/compiler/test/src/test/resources/EmptyAppGlideModuleTest/GlideOptions.java
index 6c2f592f1..b2cb067dc 100644
--- a/annotation/compiler/test/src/test/resources/EmptyAppGlideModuleTest/GlideOptions.java
+++ b/annotation/compiler/test/src/test/resources/EmptyAppGlideModuleTest/GlideOptions.java
@@ -16,6 +16,7 @@
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.RequestOptions;
 import java.lang.Class;
 import java.lang.Cloneable;
@@ -304,251 +305,251 @@ public static GlideOptions noAnimation() {
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
+  public GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
     return (GlideOptions) super.sizeMultiplier(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
+  public GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
     return (GlideOptions) super.useUnlimitedSourceGeneratorsPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useAnimationPool(boolean flag) {
+  public GlideOptions useAnimationPool(boolean flag) {
     return (GlideOptions) super.useAnimationPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions onlyRetrieveFromCache(boolean flag) {
+  public GlideOptions onlyRetrieveFromCache(boolean flag) {
     return (GlideOptions) super.onlyRetrieveFromCache(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
+  public GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
     return (GlideOptions) super.diskCacheStrategy(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions priority(@NonNull Priority priority) {
+  public GlideOptions priority(@NonNull Priority priority) {
     return (GlideOptions) super.priority(priority);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@Nullable Drawable drawable) {
+  public GlideOptions placeholder(@Nullable Drawable drawable) {
     return (GlideOptions) super.placeholder(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@DrawableRes int id) {
+  public GlideOptions placeholder(@DrawableRes int id) {
     return (GlideOptions) super.placeholder(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@Nullable Drawable drawable) {
+  public GlideOptions fallback(@Nullable Drawable drawable) {
     return (GlideOptions) super.fallback(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@DrawableRes int id) {
+  public GlideOptions fallback(@DrawableRes int id) {
     return (GlideOptions) super.fallback(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@Nullable Drawable drawable) {
+  public GlideOptions error(@Nullable Drawable drawable) {
     return (GlideOptions) super.error(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@DrawableRes int id) {
+  public GlideOptions error(@DrawableRes int id) {
     return (GlideOptions) super.error(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions theme(@Nullable Resources.Theme theme) {
+  public GlideOptions theme(@Nullable Resources.Theme theme) {
     return (GlideOptions) super.theme(theme);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions skipMemoryCache(boolean skip) {
+  public GlideOptions skipMemoryCache(boolean skip) {
     return (GlideOptions) super.skipMemoryCache(skip);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions override(int width, int height) {
+  public GlideOptions override(int width, int height) {
     return (GlideOptions) super.override(width, height);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions override(int size) {
+  public GlideOptions override(int size) {
     return (GlideOptions) super.override(size);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions signature(@NonNull Key key) {
+  public GlideOptions signature(@NonNull Key key) {
     return (GlideOptions) super.signature(key);
   }
 
   @Override
   @CheckResult
-  public final GlideOptions clone() {
+  public GlideOptions clone() {
     return (GlideOptions) super.clone();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions set(@NonNull Option<T> option, @NonNull T t) {
-    return (GlideOptions) super.set(option, t);
+  public <Y> GlideOptions set(@NonNull Option<Y> option, @NonNull Y y) {
+    return (GlideOptions) super.set(option, y);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions decode(@NonNull Class<?> clazz) {
+  public GlideOptions decode(@NonNull Class<?> clazz) {
     return (GlideOptions) super.decode(clazz);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
+  public GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
     return (GlideOptions) super.encodeFormat(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
+  public GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
     return (GlideOptions) super.encodeQuality(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions frame(@IntRange(from = 0) long value) {
+  public GlideOptions frame(@IntRange(from = 0) long value) {
     return (GlideOptions) super.frame(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions format(@NonNull DecodeFormat format) {
+  public GlideOptions format(@NonNull DecodeFormat format) {
     return (GlideOptions) super.format(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions disallowHardwareConfig() {
+  public GlideOptions disallowHardwareConfig() {
     return (GlideOptions) super.disallowHardwareConfig();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
+  public GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
     return (GlideOptions) super.downsample(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions timeout(@IntRange(from = 0) int value) {
+  public GlideOptions timeout(@IntRange(from = 0) int value) {
     return (GlideOptions) super.timeout(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterCrop() {
+  public GlideOptions optionalCenterCrop() {
     return (GlideOptions) super.optionalCenterCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions centerCrop() {
+  public GlideOptions centerCrop() {
     return (GlideOptions) super.centerCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalFitCenter() {
+  public GlideOptions optionalFitCenter() {
     return (GlideOptions) super.optionalFitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fitCenter() {
+  public GlideOptions fitCenter() {
     return (GlideOptions) super.fitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterInside() {
+  public GlideOptions optionalCenterInside() {
     return (GlideOptions) super.optionalCenterInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions centerInside() {
+  public GlideOptions centerInside() {
     return (GlideOptions) super.centerInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCircleCrop() {
+  public GlideOptions optionalCircleCrop() {
     return (GlideOptions) super.optionalCircleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions circleCrop() {
+  public GlideOptions circleCrop() {
     return (GlideOptions) super.circleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.transform(transformation);
   }
 
@@ -564,56 +565,56 @@ public final GlideOptions transforms(@NonNull Transformation<Bitmap>... transfor
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.optionalTransform(transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions optionalTransform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.optionalTransform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions transform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.transform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontTransform() {
+  public GlideOptions dontTransform() {
     return (GlideOptions) super.dontTransform();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontAnimate() {
+  public GlideOptions dontAnimate() {
     return (GlideOptions) super.dontAnimate();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions apply(@NonNull RequestOptions options) {
+  public GlideOptions apply(@NonNull BaseRequestOptions<?> options) {
     return (GlideOptions) super.apply(options);
   }
 
   @Override
   @NonNull
-  public final GlideOptions lock() {
+  public GlideOptions lock() {
     return (GlideOptions) super.lock();
   }
 
   @Override
   @NonNull
-  public final GlideOptions autoClone() {
+  public GlideOptions autoClone() {
     return (GlideOptions) super.autoClone();
   }
 }
diff --git a/annotation/compiler/test/src/test/resources/EmptyAppGlideModuleTest/GlideRequest.java b/annotation/compiler/test/src/test/resources/EmptyAppGlideModuleTest/GlideRequest.java
index d683d1983..440c153b7 100644
--- a/annotation/compiler/test/src/test/resources/EmptyAppGlideModuleTest/GlideRequest.java
+++ b/annotation/compiler/test/src/test/resources/EmptyAppGlideModuleTest/GlideRequest.java
@@ -23,8 +23,8 @@
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.RequestListener;
-import com.bumptech.glide.request.RequestOptions;
 import java.io.File;
 import java.lang.Class;
 import java.lang.Cloneable;
@@ -39,14 +39,14 @@
 
 /**
  * Contains all public methods from {@link RequestBuilder<TranscodeType>}, all options from
- * {@link RequestOptions} and all generated options from
+ * {@link com.bumptech.glide.request.RequestOptions} and all generated options from
  * {@link com.bumptech.glide.annotation.GlideOption} in annotated methods in
  * {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
  *
  * <p>Generated code, do not modify.
  *
  * @see RequestBuilder<TranscodeType>
- * @see RequestOptions
+ * @see com.bumptech.glide.request.RequestOptions
  */
 @SuppressWarnings({
     "unused",
@@ -75,12 +75,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).sizeMultiplier(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).sizeMultiplier(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.sizeMultiplier(value);
   }
 
   /**
@@ -89,12 +84,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> useUnlimitedSourceGeneratorsPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useUnlimitedSourceGeneratorsPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useUnlimitedSourceGeneratorsPool(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.useUnlimitedSourceGeneratorsPool(flag);
   }
 
   /**
@@ -103,12 +93,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> useAnimationPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useAnimationPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useAnimationPool(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.useAnimationPool(flag);
   }
 
   /**
@@ -117,12 +102,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> onlyRetrieveFromCache(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).onlyRetrieveFromCache(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).onlyRetrieveFromCache(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.onlyRetrieveFromCache(flag);
   }
 
   /**
@@ -131,12 +111,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).diskCacheStrategy(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).diskCacheStrategy(strategy);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.diskCacheStrategy(strategy);
   }
 
   /**
@@ -145,12 +120,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> priority(@NonNull Priority priority) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).priority(priority);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).priority(priority);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.priority(priority);
   }
 
   /**
@@ -159,12 +129,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> placeholder(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.placeholder(drawable);
   }
 
   /**
@@ -173,12 +138,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> placeholder(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.placeholder(id);
   }
 
   /**
@@ -187,12 +147,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fallback(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fallback(drawable);
   }
 
   /**
@@ -201,12 +156,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fallback(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fallback(id);
   }
 
   /**
@@ -215,12 +165,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> error(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.error(drawable);
   }
 
   /**
@@ -229,12 +174,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> error(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.error(id);
   }
 
   /**
@@ -243,12 +183,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> theme(@Nullable Resources.Theme theme) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).theme(theme);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).theme(theme);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.theme(theme);
   }
 
   /**
@@ -257,12 +192,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> skipMemoryCache(boolean skip) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).skipMemoryCache(skip);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).skipMemoryCache(skip);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.skipMemoryCache(skip);
   }
 
   /**
@@ -271,12 +201,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> override(int width, int height) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(width, height);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(width, height);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.override(width, height);
   }
 
   /**
@@ -285,12 +210,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> override(int size) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(size);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(size);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.override(size);
   }
 
   /**
@@ -299,26 +219,16 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> signature(@NonNull Key key) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).signature(key);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).signature(key);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.signature(key);
   }
 
   /**
-   * @see GlideOptions#set(Option<T>, T)
+   * @see GlideOptions#set(Option<Y>, Y)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> set(@NonNull Option<T> option, @NonNull T t) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).set(option, t);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).set(option, t);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> set(@NonNull Option<Y> option, @NonNull Y y) {
+    return (GlideRequest<TranscodeType>) super.set(option, y);
   }
 
   /**
@@ -327,12 +237,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> decode(@NonNull Class<?> clazz) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).decode(clazz);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).decode(clazz);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.decode(clazz);
   }
 
   /**
@@ -341,12 +246,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeFormat(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeFormat(format);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.encodeFormat(format);
   }
 
   /**
@@ -355,12 +255,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeQuality(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeQuality(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.encodeQuality(value);
   }
 
   /**
@@ -369,12 +264,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> frame(@IntRange(from = 0) long value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).frame(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).frame(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.frame(value);
   }
 
   /**
@@ -383,12 +273,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> format(@NonNull DecodeFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).format(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).format(format);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.format(format);
   }
 
   /**
@@ -397,12 +282,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> disallowHardwareConfig() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).disallowHardwareConfig();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).disallowHardwareConfig();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.disallowHardwareConfig();
   }
 
   /**
@@ -411,12 +291,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> downsample(@NonNull DownsampleStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).downsample(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).downsample(strategy);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.downsample(strategy);
   }
 
   /**
@@ -425,12 +300,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> timeout(@IntRange(from = 0) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).timeout(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).timeout(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.timeout(value);
   }
 
   /**
@@ -439,12 +309,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCenterCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCenterCrop();
   }
 
   /**
@@ -453,12 +318,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> centerCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.centerCrop();
   }
 
   /**
@@ -467,12 +327,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalFitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalFitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalFitCenter();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalFitCenter();
   }
 
   /**
@@ -481,12 +336,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fitCenter();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fitCenter();
   }
 
   /**
@@ -495,12 +345,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCenterInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterInside();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCenterInside();
   }
 
   /**
@@ -509,12 +354,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> centerInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerInside();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.centerInside();
   }
 
   /**
@@ -523,12 +363,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCircleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCircleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCircleCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCircleCrop();
   }
 
   /**
@@ -537,12 +372,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> circleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).circleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).circleCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.circleCrop();
   }
 
   /**
@@ -551,12 +381,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> transform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(transformation);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.transform(transformation);
   }
 
   /**
@@ -569,12 +394,7 @@
       "varargs"
   })
   public GlideRequest<TranscodeType> transforms(@NonNull Transformation<Bitmap>... transformations) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transforms(transformations);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transforms(transformations);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.transforms(transformations);
   }
 
   /**
@@ -583,42 +403,27 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(transformation);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalTransform(transformation);
   }
 
   /**
-   * @see GlideOptions#optionalTransform(Class<T>, Transformation<T>)
+   * @see GlideOptions#optionalTransform(Class<Y>, Transformation<Y>)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(clazz, transformation);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
+    return (GlideRequest<TranscodeType>) super.optionalTransform(clazz, transformation);
   }
 
   /**
-   * @see GlideOptions#transform(Class<T>, Transformation<T>)
+   * @see GlideOptions#transform(Class<Y>, Transformation<Y>)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(clazz, transformation);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> transform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
+    return (GlideRequest<TranscodeType>) super.transform(clazz, transformation);
   }
 
   /**
@@ -627,12 +432,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> dontTransform() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontTransform();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontTransform();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.dontTransform();
   }
 
   /**
@@ -641,18 +441,13 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> dontAnimate() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontAnimate();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontAnimate();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.dontAnimate();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public GlideRequest<TranscodeType> apply(@NonNull RequestOptions options) {
+  public GlideRequest<TranscodeType> apply(@NonNull BaseRequestOptions<?> options) {
     return (GlideRequest<TranscodeType>) super.apply(options);
   }
 
@@ -670,6 +465,13 @@
     return (GlideRequest<TranscodeType>) super.listener(listener);
   }
 
+  @Override
+  @NonNull
+  @CheckResult
+  public GlideRequest<TranscodeType> addListener(@Nullable RequestListener<TranscodeType> listener) {
+    return (GlideRequest<TranscodeType>) super.addListener(listener);
+  }
+
   @Override
   @NonNull
   public GlideRequest<TranscodeType> error(@Nullable RequestBuilder<TranscodeType> builder) {
diff --git a/annotation/compiler/test/src/test/resources/EmptyAppGlideModuleTest/GlideRequests.java b/annotation/compiler/test/src/test/resources/EmptyAppGlideModuleTest/GlideRequests.java
index 2756555af..7344fe291 100644
--- a/annotation/compiler/test/src/test/resources/EmptyAppGlideModuleTest/GlideRequests.java
+++ b/annotation/compiler/test/src/test/resources/EmptyAppGlideModuleTest/GlideRequests.java
@@ -14,6 +14,7 @@
 import com.bumptech.glide.load.resource.gif.GifDrawable;
 import com.bumptech.glide.manager.Lifecycle;
 import com.bumptech.glide.manager.RequestManagerTreeNode;
+import com.bumptech.glide.request.RequestListener;
 import com.bumptech.glide.request.RequestOptions;
 import java.io.File;
 import java.lang.Class;
@@ -57,6 +58,12 @@ public GlideRequests setDefaultRequestOptions(@NonNull RequestOptions options) {
     return (GlideRequests) super.setDefaultRequestOptions(options);
   }
 
+  @Override
+  @NonNull
+  public GlideRequests addDefaultRequestListener(RequestListener<Object> listener) {
+    return (GlideRequests) super.addDefaultRequestListener(listener);
+  }
+
   @Override
   @NonNull
   @CheckResult
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/MemoizeStaticMethod/Extension.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/MemoizeStaticMethod/Extension.java
index 05cf8447b..01453f331 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/MemoizeStaticMethod/Extension.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/MemoizeStaticMethod/Extension.java
@@ -3,7 +3,7 @@
 import android.support.annotation.NonNull;
 import com.bumptech.glide.annotation.GlideExtension;
 import com.bumptech.glide.annotation.GlideOption;
-import com.bumptech.glide.request.RequestOptions;
+import com.bumptech.glide.request.BaseRequestOptions;
 
 @GlideExtension
 public final class Extension {
@@ -14,7 +14,7 @@ private Extension() {
 
   @NonNull
   @GlideOption(memoizeStaticMethod = true)
-  public static RequestOptions test(RequestOptions requestOptions) {
+  public static BaseRequestOptions<?> test(BaseRequestOptions<?> requestOptions) {
     return requestOptions.centerCrop();
   }
 }
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/MemoizeStaticMethod/GlideOptions.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/MemoizeStaticMethod/GlideOptions.java
index 90fe262f3..4da6ef1ba 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/MemoizeStaticMethod/GlideOptions.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/MemoizeStaticMethod/GlideOptions.java
@@ -16,6 +16,7 @@
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.RequestOptions;
 import java.lang.Class;
 import java.lang.Cloneable;
@@ -307,251 +308,251 @@ public static GlideOptions noAnimation() {
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
+  public GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
     return (GlideOptions) super.sizeMultiplier(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
+  public GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
     return (GlideOptions) super.useUnlimitedSourceGeneratorsPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useAnimationPool(boolean flag) {
+  public GlideOptions useAnimationPool(boolean flag) {
     return (GlideOptions) super.useAnimationPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions onlyRetrieveFromCache(boolean flag) {
+  public GlideOptions onlyRetrieveFromCache(boolean flag) {
     return (GlideOptions) super.onlyRetrieveFromCache(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
+  public GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
     return (GlideOptions) super.diskCacheStrategy(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions priority(@NonNull Priority priority) {
+  public GlideOptions priority(@NonNull Priority priority) {
     return (GlideOptions) super.priority(priority);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@Nullable Drawable drawable) {
+  public GlideOptions placeholder(@Nullable Drawable drawable) {
     return (GlideOptions) super.placeholder(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@DrawableRes int id) {
+  public GlideOptions placeholder(@DrawableRes int id) {
     return (GlideOptions) super.placeholder(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@Nullable Drawable drawable) {
+  public GlideOptions fallback(@Nullable Drawable drawable) {
     return (GlideOptions) super.fallback(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@DrawableRes int id) {
+  public GlideOptions fallback(@DrawableRes int id) {
     return (GlideOptions) super.fallback(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@Nullable Drawable drawable) {
+  public GlideOptions error(@Nullable Drawable drawable) {
     return (GlideOptions) super.error(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@DrawableRes int id) {
+  public GlideOptions error(@DrawableRes int id) {
     return (GlideOptions) super.error(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions theme(@Nullable Resources.Theme theme) {
+  public GlideOptions theme(@Nullable Resources.Theme theme) {
     return (GlideOptions) super.theme(theme);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions skipMemoryCache(boolean skip) {
+  public GlideOptions skipMemoryCache(boolean skip) {
     return (GlideOptions) super.skipMemoryCache(skip);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions override(int width, int height) {
+  public GlideOptions override(int width, int height) {
     return (GlideOptions) super.override(width, height);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions override(int size) {
+  public GlideOptions override(int size) {
     return (GlideOptions) super.override(size);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions signature(@NonNull Key key) {
+  public GlideOptions signature(@NonNull Key key) {
     return (GlideOptions) super.signature(key);
   }
 
   @Override
   @CheckResult
-  public final GlideOptions clone() {
+  public GlideOptions clone() {
     return (GlideOptions) super.clone();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions set(@NonNull Option<T> option, @NonNull T t) {
-    return (GlideOptions) super.set(option, t);
+  public <Y> GlideOptions set(@NonNull Option<Y> option, @NonNull Y y) {
+    return (GlideOptions) super.set(option, y);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions decode(@NonNull Class<?> clazz) {
+  public GlideOptions decode(@NonNull Class<?> clazz) {
     return (GlideOptions) super.decode(clazz);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
+  public GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
     return (GlideOptions) super.encodeFormat(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
+  public GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
     return (GlideOptions) super.encodeQuality(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions frame(@IntRange(from = 0) long value) {
+  public GlideOptions frame(@IntRange(from = 0) long value) {
     return (GlideOptions) super.frame(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions format(@NonNull DecodeFormat format) {
+  public GlideOptions format(@NonNull DecodeFormat format) {
     return (GlideOptions) super.format(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions disallowHardwareConfig() {
+  public GlideOptions disallowHardwareConfig() {
     return (GlideOptions) super.disallowHardwareConfig();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
+  public GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
     return (GlideOptions) super.downsample(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions timeout(@IntRange(from = 0) int value) {
+  public GlideOptions timeout(@IntRange(from = 0) int value) {
     return (GlideOptions) super.timeout(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterCrop() {
+  public GlideOptions optionalCenterCrop() {
     return (GlideOptions) super.optionalCenterCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions centerCrop() {
+  public GlideOptions centerCrop() {
     return (GlideOptions) super.centerCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalFitCenter() {
+  public GlideOptions optionalFitCenter() {
     return (GlideOptions) super.optionalFitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fitCenter() {
+  public GlideOptions fitCenter() {
     return (GlideOptions) super.fitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterInside() {
+  public GlideOptions optionalCenterInside() {
     return (GlideOptions) super.optionalCenterInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions centerInside() {
+  public GlideOptions centerInside() {
     return (GlideOptions) super.centerInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCircleCrop() {
+  public GlideOptions optionalCircleCrop() {
     return (GlideOptions) super.optionalCircleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions circleCrop() {
+  public GlideOptions circleCrop() {
     return (GlideOptions) super.circleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.transform(transformation);
   }
 
@@ -567,62 +568,63 @@ public final GlideOptions transforms(@NonNull Transformation<Bitmap>... transfor
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.optionalTransform(transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions optionalTransform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.optionalTransform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions transform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.transform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontTransform() {
+  public GlideOptions dontTransform() {
     return (GlideOptions) super.dontTransform();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontAnimate() {
+  public GlideOptions dontAnimate() {
     return (GlideOptions) super.dontAnimate();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions apply(@NonNull RequestOptions options) {
+  public GlideOptions apply(@NonNull BaseRequestOptions<?> options) {
     return (GlideOptions) super.apply(options);
   }
 
   @Override
   @NonNull
-  public final GlideOptions lock() {
+  public GlideOptions lock() {
     return (GlideOptions) super.lock();
   }
 
   @Override
   @NonNull
-  public final GlideOptions autoClone() {
+  public GlideOptions autoClone() {
     return (GlideOptions) super.autoClone();
   }
 
   /**
-   * @see Extension#test(RequestOptions)
+   * @see Extension#test(BaseRequestOptions)
    */
+  @SuppressWarnings("unchecked")
   @CheckResult
   @NonNull
   public GlideOptions test() {
@@ -630,7 +632,7 @@ public GlideOptions test() {
   }
 
   /**
-   * @see Extension#test(RequestOptions)
+   * @see Extension#test(BaseRequestOptions)
    */
   @CheckResult
   public static GlideOptions testOf() {
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/MemoizeStaticMethod/GlideRequest.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/MemoizeStaticMethod/GlideRequest.java
index c9124e93b..18fb054fb 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/MemoizeStaticMethod/GlideRequest.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/MemoizeStaticMethod/GlideRequest.java
@@ -23,8 +23,8 @@
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.RequestListener;
-import com.bumptech.glide.request.RequestOptions;
 import java.io.File;
 import java.lang.Class;
 import java.lang.Cloneable;
@@ -39,14 +39,14 @@
 
 /**
  * Contains all public methods from {@link RequestBuilder<TranscodeType>}, all options from
- * {@link RequestOptions} and all generated options from
+ * {@link com.bumptech.glide.request.RequestOptions} and all generated options from
  * {@link com.bumptech.glide.annotation.GlideOption} in annotated methods in
  * {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
  *
  * <p>Generated code, do not modify.
  *
  * @see RequestBuilder<TranscodeType>
- * @see RequestOptions
+ * @see com.bumptech.glide.request.RequestOptions
  */
 @SuppressWarnings({
     "unused",
@@ -75,12 +75,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).sizeMultiplier(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).sizeMultiplier(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.sizeMultiplier(value);
   }
 
   /**
@@ -89,12 +84,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> useUnlimitedSourceGeneratorsPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useUnlimitedSourceGeneratorsPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useUnlimitedSourceGeneratorsPool(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.useUnlimitedSourceGeneratorsPool(flag);
   }
 
   /**
@@ -103,12 +93,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> useAnimationPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useAnimationPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useAnimationPool(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.useAnimationPool(flag);
   }
 
   /**
@@ -117,12 +102,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> onlyRetrieveFromCache(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).onlyRetrieveFromCache(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).onlyRetrieveFromCache(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.onlyRetrieveFromCache(flag);
   }
 
   /**
@@ -131,12 +111,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).diskCacheStrategy(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).diskCacheStrategy(strategy);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.diskCacheStrategy(strategy);
   }
 
   /**
@@ -145,12 +120,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> priority(@NonNull Priority priority) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).priority(priority);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).priority(priority);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.priority(priority);
   }
 
   /**
@@ -159,12 +129,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> placeholder(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.placeholder(drawable);
   }
 
   /**
@@ -173,12 +138,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> placeholder(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.placeholder(id);
   }
 
   /**
@@ -187,12 +147,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fallback(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fallback(drawable);
   }
 
   /**
@@ -201,12 +156,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fallback(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fallback(id);
   }
 
   /**
@@ -215,12 +165,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> error(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.error(drawable);
   }
 
   /**
@@ -229,12 +174,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> error(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.error(id);
   }
 
   /**
@@ -243,12 +183,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> theme(@Nullable Resources.Theme theme) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).theme(theme);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).theme(theme);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.theme(theme);
   }
 
   /**
@@ -257,12 +192,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> skipMemoryCache(boolean skip) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).skipMemoryCache(skip);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).skipMemoryCache(skip);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.skipMemoryCache(skip);
   }
 
   /**
@@ -271,12 +201,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> override(int width, int height) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(width, height);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(width, height);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.override(width, height);
   }
 
   /**
@@ -285,12 +210,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> override(int size) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(size);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(size);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.override(size);
   }
 
   /**
@@ -299,26 +219,16 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> signature(@NonNull Key key) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).signature(key);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).signature(key);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.signature(key);
   }
 
   /**
-   * @see GlideOptions#set(Option<T>, T)
+   * @see GlideOptions#set(Option<Y>, Y)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> set(@NonNull Option<T> option, @NonNull T t) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).set(option, t);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).set(option, t);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> set(@NonNull Option<Y> option, @NonNull Y y) {
+    return (GlideRequest<TranscodeType>) super.set(option, y);
   }
 
   /**
@@ -327,12 +237,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> decode(@NonNull Class<?> clazz) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).decode(clazz);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).decode(clazz);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.decode(clazz);
   }
 
   /**
@@ -341,12 +246,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeFormat(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeFormat(format);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.encodeFormat(format);
   }
 
   /**
@@ -355,12 +255,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeQuality(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeQuality(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.encodeQuality(value);
   }
 
   /**
@@ -369,12 +264,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> frame(@IntRange(from = 0) long value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).frame(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).frame(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.frame(value);
   }
 
   /**
@@ -383,12 +273,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> format(@NonNull DecodeFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).format(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).format(format);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.format(format);
   }
 
   /**
@@ -397,12 +282,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> disallowHardwareConfig() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).disallowHardwareConfig();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).disallowHardwareConfig();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.disallowHardwareConfig();
   }
 
   /**
@@ -411,12 +291,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> downsample(@NonNull DownsampleStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).downsample(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).downsample(strategy);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.downsample(strategy);
   }
 
   /**
@@ -425,12 +300,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> timeout(@IntRange(from = 0) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).timeout(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).timeout(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.timeout(value);
   }
 
   /**
@@ -439,12 +309,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCenterCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCenterCrop();
   }
 
   /**
@@ -453,12 +318,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> centerCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.centerCrop();
   }
 
   /**
@@ -467,12 +327,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalFitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalFitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalFitCenter();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalFitCenter();
   }
 
   /**
@@ -481,12 +336,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fitCenter();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fitCenter();
   }
 
   /**
@@ -495,12 +345,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCenterInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterInside();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCenterInside();
   }
 
   /**
@@ -509,12 +354,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> centerInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerInside();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.centerInside();
   }
 
   /**
@@ -523,12 +363,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCircleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCircleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCircleCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCircleCrop();
   }
 
   /**
@@ -537,12 +372,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> circleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).circleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).circleCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.circleCrop();
   }
 
   /**
@@ -551,12 +381,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> transform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(transformation);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.transform(transformation);
   }
 
   /**
@@ -569,12 +394,7 @@
       "varargs"
   })
   public GlideRequest<TranscodeType> transforms(@NonNull Transformation<Bitmap>... transformations) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transforms(transformations);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transforms(transformations);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.transforms(transformations);
   }
 
   /**
@@ -583,42 +403,27 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(transformation);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalTransform(transformation);
   }
 
   /**
-   * @see GlideOptions#optionalTransform(Class<T>, Transformation<T>)
+   * @see GlideOptions#optionalTransform(Class<Y>, Transformation<Y>)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(clazz, transformation);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
+    return (GlideRequest<TranscodeType>) super.optionalTransform(clazz, transformation);
   }
 
   /**
-   * @see GlideOptions#transform(Class<T>, Transformation<T>)
+   * @see GlideOptions#transform(Class<Y>, Transformation<Y>)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(clazz, transformation);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> transform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
+    return (GlideRequest<TranscodeType>) super.transform(clazz, transformation);
   }
 
   /**
@@ -627,12 +432,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> dontTransform() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontTransform();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontTransform();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.dontTransform();
   }
 
   /**
@@ -641,32 +441,13 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> dontAnimate() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontAnimate();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontAnimate();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#test()
-   */
-  @CheckResult
-  @NonNull
-  public GlideRequest<TranscodeType> test() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).test();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).test();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.dontAnimate();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public GlideRequest<TranscodeType> apply(@NonNull RequestOptions options) {
+  public GlideRequest<TranscodeType> apply(@NonNull BaseRequestOptions<?> options) {
     return (GlideRequest<TranscodeType>) super.apply(options);
   }
 
@@ -684,6 +465,13 @@
     return (GlideRequest<TranscodeType>) super.listener(listener);
   }
 
+  @Override
+  @NonNull
+  @CheckResult
+  public GlideRequest<TranscodeType> addListener(@Nullable RequestListener<TranscodeType> listener) {
+    return (GlideRequest<TranscodeType>) super.addListener(listener);
+  }
+
   @Override
   @NonNull
   public GlideRequest<TranscodeType> error(@Nullable RequestBuilder<TranscodeType> builder) {
@@ -781,4 +569,14 @@
   public GlideRequest<TranscodeType> clone() {
     return (GlideRequest<TranscodeType>) super.clone();
   }
+
+  /**
+   * @see Extension#test(BaseRequestOptions)
+   */
+  @SuppressWarnings("unchecked")
+  @CheckResult
+  @NonNull
+  public GlideRequest<TranscodeType> test() {
+    return (GlideRequest<TranscodeType>) Extension.test(this);
+  }
 }
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtend/Extension.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtend/Extension.java
index b11fe757f..0104eaa9b 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtend/Extension.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtend/Extension.java
@@ -3,7 +3,7 @@
 import android.support.annotation.NonNull;
 import com.bumptech.glide.annotation.GlideExtension;
 import com.bumptech.glide.annotation.GlideOption;
-import com.bumptech.glide.request.RequestOptions;
+import com.bumptech.glide.request.BaseRequestOptions;
 
 @GlideExtension
 public final class Extension {
@@ -14,7 +14,7 @@ private Extension() {
 
   @NonNull
   @GlideOption(override = GlideOption.OVERRIDE_EXTEND)
-  public static RequestOptions centerCrop(RequestOptions requestOptions) {
+  public static BaseRequestOptions<?> centerCrop(BaseRequestOptions<?> requestOptions) {
     return requestOptions.centerCrop();
   }
 }
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtend/GlideOptions.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtend/GlideOptions.java
index dc6c873f8..089b752ef 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtend/GlideOptions.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtend/GlideOptions.java
@@ -16,6 +16,7 @@
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.RequestOptions;
 import java.lang.Class;
 import java.lang.Cloneable;
@@ -305,244 +306,244 @@ public static GlideOptions noAnimation() {
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
+  public GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
     return (GlideOptions) super.sizeMultiplier(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
+  public GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
     return (GlideOptions) super.useUnlimitedSourceGeneratorsPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useAnimationPool(boolean flag) {
+  public GlideOptions useAnimationPool(boolean flag) {
     return (GlideOptions) super.useAnimationPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions onlyRetrieveFromCache(boolean flag) {
+  public GlideOptions onlyRetrieveFromCache(boolean flag) {
     return (GlideOptions) super.onlyRetrieveFromCache(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
+  public GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
     return (GlideOptions) super.diskCacheStrategy(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions priority(@NonNull Priority priority) {
+  public GlideOptions priority(@NonNull Priority priority) {
     return (GlideOptions) super.priority(priority);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@Nullable Drawable drawable) {
+  public GlideOptions placeholder(@Nullable Drawable drawable) {
     return (GlideOptions) super.placeholder(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@DrawableRes int id) {
+  public GlideOptions placeholder(@DrawableRes int id) {
     return (GlideOptions) super.placeholder(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@Nullable Drawable drawable) {
+  public GlideOptions fallback(@Nullable Drawable drawable) {
     return (GlideOptions) super.fallback(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@DrawableRes int id) {
+  public GlideOptions fallback(@DrawableRes int id) {
     return (GlideOptions) super.fallback(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@Nullable Drawable drawable) {
+  public GlideOptions error(@Nullable Drawable drawable) {
     return (GlideOptions) super.error(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@DrawableRes int id) {
+  public GlideOptions error(@DrawableRes int id) {
     return (GlideOptions) super.error(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions theme(@Nullable Resources.Theme theme) {
+  public GlideOptions theme(@Nullable Resources.Theme theme) {
     return (GlideOptions) super.theme(theme);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions skipMemoryCache(boolean skip) {
+  public GlideOptions skipMemoryCache(boolean skip) {
     return (GlideOptions) super.skipMemoryCache(skip);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions override(int width, int height) {
+  public GlideOptions override(int width, int height) {
     return (GlideOptions) super.override(width, height);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions override(int size) {
+  public GlideOptions override(int size) {
     return (GlideOptions) super.override(size);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions signature(@NonNull Key key) {
+  public GlideOptions signature(@NonNull Key key) {
     return (GlideOptions) super.signature(key);
   }
 
   @Override
   @CheckResult
-  public final GlideOptions clone() {
+  public GlideOptions clone() {
     return (GlideOptions) super.clone();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions set(@NonNull Option<T> option, @NonNull T t) {
-    return (GlideOptions) super.set(option, t);
+  public <Y> GlideOptions set(@NonNull Option<Y> option, @NonNull Y y) {
+    return (GlideOptions) super.set(option, y);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions decode(@NonNull Class<?> clazz) {
+  public GlideOptions decode(@NonNull Class<?> clazz) {
     return (GlideOptions) super.decode(clazz);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
+  public GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
     return (GlideOptions) super.encodeFormat(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
+  public GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
     return (GlideOptions) super.encodeQuality(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions frame(@IntRange(from = 0) long value) {
+  public GlideOptions frame(@IntRange(from = 0) long value) {
     return (GlideOptions) super.frame(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions format(@NonNull DecodeFormat format) {
+  public GlideOptions format(@NonNull DecodeFormat format) {
     return (GlideOptions) super.format(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions disallowHardwareConfig() {
+  public GlideOptions disallowHardwareConfig() {
     return (GlideOptions) super.disallowHardwareConfig();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
+  public GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
     return (GlideOptions) super.downsample(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions timeout(@IntRange(from = 0) int value) {
+  public GlideOptions timeout(@IntRange(from = 0) int value) {
     return (GlideOptions) super.timeout(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterCrop() {
+  public GlideOptions optionalCenterCrop() {
     return (GlideOptions) super.optionalCenterCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalFitCenter() {
+  public GlideOptions optionalFitCenter() {
     return (GlideOptions) super.optionalFitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fitCenter() {
+  public GlideOptions fitCenter() {
     return (GlideOptions) super.fitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterInside() {
+  public GlideOptions optionalCenterInside() {
     return (GlideOptions) super.optionalCenterInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions centerInside() {
+  public GlideOptions centerInside() {
     return (GlideOptions) super.centerInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCircleCrop() {
+  public GlideOptions optionalCircleCrop() {
     return (GlideOptions) super.optionalCircleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions circleCrop() {
+  public GlideOptions circleCrop() {
     return (GlideOptions) super.circleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.transform(transformation);
   }
 
@@ -558,63 +559,64 @@ public final GlideOptions transforms(@NonNull Transformation<Bitmap>... transfor
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.optionalTransform(transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions optionalTransform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.optionalTransform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions transform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.transform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontTransform() {
+  public GlideOptions dontTransform() {
     return (GlideOptions) super.dontTransform();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontAnimate() {
+  public GlideOptions dontAnimate() {
     return (GlideOptions) super.dontAnimate();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions apply(@NonNull RequestOptions options) {
+  public GlideOptions apply(@NonNull BaseRequestOptions<?> options) {
     return (GlideOptions) super.apply(options);
   }
 
   @Override
   @NonNull
-  public final GlideOptions lock() {
+  public GlideOptions lock() {
     return (GlideOptions) super.lock();
   }
 
   @Override
   @NonNull
-  public final GlideOptions autoClone() {
+  public GlideOptions autoClone() {
     return (GlideOptions) super.autoClone();
   }
 
   /**
-   * @see Extension#centerCrop(RequestOptions)
-   * @see RequestOptions#centerCrop()
+   * @see Extension#centerCrop(BaseRequestOptions)
+   * @see GlideOptions#centerCrop()
    */
+  @SuppressWarnings("unchecked")
   @Override
   @CheckResult
   @NonNull
@@ -623,7 +625,7 @@ public GlideOptions centerCrop() {
   }
 
   /**
-   * @see Extension#centerCrop(RequestOptions)
+   * @see Extension#centerCrop(BaseRequestOptions)
    */
   @CheckResult
   public static GlideOptions centerCropOf() {
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtend/GlideRequest.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtend/GlideRequest.java
index d47ee2740..860faf1ac 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtend/GlideRequest.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtend/GlideRequest.java
@@ -23,8 +23,8 @@
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.RequestListener;
-import com.bumptech.glide.request.RequestOptions;
 import java.io.File;
 import java.lang.Class;
 import java.lang.Cloneable;
@@ -39,14 +39,14 @@
 
 /**
  * Contains all public methods from {@link RequestBuilder<TranscodeType>}, all options from
- * {@link RequestOptions} and all generated options from
+ * {@link com.bumptech.glide.request.RequestOptions} and all generated options from
  * {@link com.bumptech.glide.annotation.GlideOption} in annotated methods in
  * {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
  *
  * <p>Generated code, do not modify.
  *
  * @see RequestBuilder<TranscodeType>
- * @see RequestOptions
+ * @see com.bumptech.glide.request.RequestOptions
  */
 @SuppressWarnings({
     "unused",
@@ -75,12 +75,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).sizeMultiplier(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).sizeMultiplier(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.sizeMultiplier(value);
   }
 
   /**
@@ -89,12 +84,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> useUnlimitedSourceGeneratorsPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useUnlimitedSourceGeneratorsPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useUnlimitedSourceGeneratorsPool(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.useUnlimitedSourceGeneratorsPool(flag);
   }
 
   /**
@@ -103,12 +93,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> useAnimationPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useAnimationPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useAnimationPool(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.useAnimationPool(flag);
   }
 
   /**
@@ -117,12 +102,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> onlyRetrieveFromCache(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).onlyRetrieveFromCache(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).onlyRetrieveFromCache(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.onlyRetrieveFromCache(flag);
   }
 
   /**
@@ -131,12 +111,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).diskCacheStrategy(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).diskCacheStrategy(strategy);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.diskCacheStrategy(strategy);
   }
 
   /**
@@ -145,12 +120,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> priority(@NonNull Priority priority) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).priority(priority);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).priority(priority);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.priority(priority);
   }
 
   /**
@@ -159,12 +129,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> placeholder(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.placeholder(drawable);
   }
 
   /**
@@ -173,12 +138,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> placeholder(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.placeholder(id);
   }
 
   /**
@@ -187,12 +147,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fallback(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fallback(drawable);
   }
 
   /**
@@ -201,12 +156,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fallback(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fallback(id);
   }
 
   /**
@@ -215,12 +165,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> error(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.error(drawable);
   }
 
   /**
@@ -229,12 +174,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> error(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.error(id);
   }
 
   /**
@@ -243,12 +183,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> theme(@Nullable Resources.Theme theme) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).theme(theme);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).theme(theme);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.theme(theme);
   }
 
   /**
@@ -257,12 +192,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> skipMemoryCache(boolean skip) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).skipMemoryCache(skip);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).skipMemoryCache(skip);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.skipMemoryCache(skip);
   }
 
   /**
@@ -271,12 +201,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> override(int width, int height) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(width, height);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(width, height);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.override(width, height);
   }
 
   /**
@@ -285,12 +210,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> override(int size) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(size);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(size);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.override(size);
   }
 
   /**
@@ -299,26 +219,16 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> signature(@NonNull Key key) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).signature(key);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).signature(key);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.signature(key);
   }
 
   /**
-   * @see GlideOptions#set(Option<T>, T)
+   * @see GlideOptions#set(Option<Y>, Y)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> set(@NonNull Option<T> option, @NonNull T t) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).set(option, t);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).set(option, t);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> set(@NonNull Option<Y> option, @NonNull Y y) {
+    return (GlideRequest<TranscodeType>) super.set(option, y);
   }
 
   /**
@@ -327,12 +237,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> decode(@NonNull Class<?> clazz) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).decode(clazz);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).decode(clazz);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.decode(clazz);
   }
 
   /**
@@ -341,12 +246,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeFormat(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeFormat(format);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.encodeFormat(format);
   }
 
   /**
@@ -355,12 +255,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeQuality(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeQuality(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.encodeQuality(value);
   }
 
   /**
@@ -369,12 +264,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> frame(@IntRange(from = 0) long value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).frame(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).frame(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.frame(value);
   }
 
   /**
@@ -383,12 +273,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> format(@NonNull DecodeFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).format(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).format(format);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.format(format);
   }
 
   /**
@@ -397,12 +282,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> disallowHardwareConfig() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).disallowHardwareConfig();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).disallowHardwareConfig();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.disallowHardwareConfig();
   }
 
   /**
@@ -411,12 +291,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> downsample(@NonNull DownsampleStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).downsample(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).downsample(strategy);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.downsample(strategy);
   }
 
   /**
@@ -425,12 +300,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> timeout(@IntRange(from = 0) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).timeout(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).timeout(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.timeout(value);
   }
 
   /**
@@ -439,12 +309,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCenterCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCenterCrop();
   }
 
   /**
@@ -453,12 +318,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalFitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalFitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalFitCenter();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalFitCenter();
   }
 
   /**
@@ -467,12 +327,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fitCenter();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fitCenter();
   }
 
   /**
@@ -481,12 +336,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCenterInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterInside();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCenterInside();
   }
 
   /**
@@ -495,12 +345,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> centerInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerInside();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.centerInside();
   }
 
   /**
@@ -509,12 +354,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCircleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCircleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCircleCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCircleCrop();
   }
 
   /**
@@ -523,12 +363,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> circleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).circleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).circleCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.circleCrop();
   }
 
   /**
@@ -537,12 +372,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> transform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(transformation);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.transform(transformation);
   }
 
   /**
@@ -555,12 +385,7 @@
       "varargs"
   })
   public GlideRequest<TranscodeType> transforms(@NonNull Transformation<Bitmap>... transformations) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transforms(transformations);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transforms(transformations);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.transforms(transformations);
   }
 
   /**
@@ -569,42 +394,27 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(transformation);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalTransform(transformation);
   }
 
   /**
-   * @see GlideOptions#optionalTransform(Class<T>, Transformation<T>)
+   * @see GlideOptions#optionalTransform(Class<Y>, Transformation<Y>)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(clazz, transformation);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
+    return (GlideRequest<TranscodeType>) super.optionalTransform(clazz, transformation);
   }
 
   /**
-   * @see GlideOptions#transform(Class<T>, Transformation<T>)
+   * @see GlideOptions#transform(Class<Y>, Transformation<Y>)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(clazz, transformation);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> transform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
+    return (GlideRequest<TranscodeType>) super.transform(clazz, transformation);
   }
 
   /**
@@ -613,12 +423,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> dontTransform() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontTransform();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontTransform();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.dontTransform();
   }
 
   /**
@@ -627,32 +432,13 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> dontAnimate() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontAnimate();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontAnimate();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#centerCrop()
-   */
-  @CheckResult
-  @NonNull
-  public GlideRequest<TranscodeType> centerCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.dontAnimate();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public GlideRequest<TranscodeType> apply(@NonNull RequestOptions options) {
+  public GlideRequest<TranscodeType> apply(@NonNull BaseRequestOptions<?> options) {
     return (GlideRequest<TranscodeType>) super.apply(options);
   }
 
@@ -670,6 +456,13 @@
     return (GlideRequest<TranscodeType>) super.listener(listener);
   }
 
+  @Override
+  @NonNull
+  @CheckResult
+  public GlideRequest<TranscodeType> addListener(@Nullable RequestListener<TranscodeType> listener) {
+    return (GlideRequest<TranscodeType>) super.addListener(listener);
+  }
+
   @Override
   @NonNull
   public GlideRequest<TranscodeType> error(@Nullable RequestBuilder<TranscodeType> builder) {
@@ -767,4 +560,16 @@
   public GlideRequest<TranscodeType> clone() {
     return (GlideRequest<TranscodeType>) super.clone();
   }
+
+  /**
+   * @see Extension#centerCrop(BaseRequestOptions)
+   * @see GlideRequest<TranscodeType>#centerCrop()
+   */
+  @SuppressWarnings("unchecked")
+  @Override
+  @CheckResult
+  @NonNull
+  public GlideRequest<TranscodeType> centerCrop() {
+    return (GlideRequest<TranscodeType>) Extension.centerCrop(super.centerCrop());
+  }
 }
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtendMultipleArguments/Extension.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtendMultipleArguments/Extension.java
index a0be8a2c3..e92ece857 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtendMultipleArguments/Extension.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtendMultipleArguments/Extension.java
@@ -3,7 +3,7 @@
 import android.support.annotation.NonNull;
 import com.bumptech.glide.annotation.GlideExtension;
 import com.bumptech.glide.annotation.GlideOption;
-import com.bumptech.glide.request.RequestOptions;
+import com.bumptech.glide.request.BaseRequestOptions;
 
 @GlideExtension
 public final class Extension {
@@ -14,7 +14,7 @@ private Extension() {
 
   @NonNull
   @GlideOption(override = GlideOption.OVERRIDE_EXTEND)
-  public static RequestOptions override(RequestOptions requestOptions, int width, int height) {
+  public static BaseRequestOptions<?> override(BaseRequestOptions<?> requestOptions, int width, int height) {
     return requestOptions
         .override(width, height)
         .centerCrop();
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtendMultipleArguments/GlideOptions.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtendMultipleArguments/GlideOptions.java
index 9fca6bfb5..89850adc8 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtendMultipleArguments/GlideOptions.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtendMultipleArguments/GlideOptions.java
@@ -16,6 +16,7 @@
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.RequestOptions;
 import java.lang.Class;
 import java.lang.Cloneable;
@@ -295,244 +296,244 @@ public static GlideOptions noAnimation() {
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
+  public GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
     return (GlideOptions) super.sizeMultiplier(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
+  public GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
     return (GlideOptions) super.useUnlimitedSourceGeneratorsPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useAnimationPool(boolean flag) {
+  public GlideOptions useAnimationPool(boolean flag) {
     return (GlideOptions) super.useAnimationPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions onlyRetrieveFromCache(boolean flag) {
+  public GlideOptions onlyRetrieveFromCache(boolean flag) {
     return (GlideOptions) super.onlyRetrieveFromCache(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
+  public GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
     return (GlideOptions) super.diskCacheStrategy(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions priority(@NonNull Priority priority) {
+  public GlideOptions priority(@NonNull Priority priority) {
     return (GlideOptions) super.priority(priority);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@Nullable Drawable drawable) {
+  public GlideOptions placeholder(@Nullable Drawable drawable) {
     return (GlideOptions) super.placeholder(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@DrawableRes int id) {
+  public GlideOptions placeholder(@DrawableRes int id) {
     return (GlideOptions) super.placeholder(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@Nullable Drawable drawable) {
+  public GlideOptions fallback(@Nullable Drawable drawable) {
     return (GlideOptions) super.fallback(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@DrawableRes int id) {
+  public GlideOptions fallback(@DrawableRes int id) {
     return (GlideOptions) super.fallback(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@Nullable Drawable drawable) {
+  public GlideOptions error(@Nullable Drawable drawable) {
     return (GlideOptions) super.error(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@DrawableRes int id) {
+  public GlideOptions error(@DrawableRes int id) {
     return (GlideOptions) super.error(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions theme(@Nullable Resources.Theme theme) {
+  public GlideOptions theme(@Nullable Resources.Theme theme) {
     return (GlideOptions) super.theme(theme);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions skipMemoryCache(boolean skip) {
+  public GlideOptions skipMemoryCache(boolean skip) {
     return (GlideOptions) super.skipMemoryCache(skip);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions override(int size) {
+  public GlideOptions override(int size) {
     return (GlideOptions) super.override(size);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions signature(@NonNull Key key) {
+  public GlideOptions signature(@NonNull Key key) {
     return (GlideOptions) super.signature(key);
   }
 
   @Override
   @CheckResult
-  public final GlideOptions clone() {
+  public GlideOptions clone() {
     return (GlideOptions) super.clone();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions set(@NonNull Option<T> option, @NonNull T t) {
-    return (GlideOptions) super.set(option, t);
+  public <Y> GlideOptions set(@NonNull Option<Y> option, @NonNull Y y) {
+    return (GlideOptions) super.set(option, y);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions decode(@NonNull Class<?> clazz) {
+  public GlideOptions decode(@NonNull Class<?> clazz) {
     return (GlideOptions) super.decode(clazz);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
+  public GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
     return (GlideOptions) super.encodeFormat(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
+  public GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
     return (GlideOptions) super.encodeQuality(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions frame(@IntRange(from = 0) long value) {
+  public GlideOptions frame(@IntRange(from = 0) long value) {
     return (GlideOptions) super.frame(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions format(@NonNull DecodeFormat format) {
+  public GlideOptions format(@NonNull DecodeFormat format) {
     return (GlideOptions) super.format(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions disallowHardwareConfig() {
+  public GlideOptions disallowHardwareConfig() {
     return (GlideOptions) super.disallowHardwareConfig();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
+  public GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
     return (GlideOptions) super.downsample(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions timeout(@IntRange(from = 0) int value) {
+  public GlideOptions timeout(@IntRange(from = 0) int value) {
     return (GlideOptions) super.timeout(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterCrop() {
+  public GlideOptions optionalCenterCrop() {
     return (GlideOptions) super.optionalCenterCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions centerCrop() {
+  public GlideOptions centerCrop() {
     return (GlideOptions) super.centerCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalFitCenter() {
+  public GlideOptions optionalFitCenter() {
     return (GlideOptions) super.optionalFitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fitCenter() {
+  public GlideOptions fitCenter() {
     return (GlideOptions) super.fitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterInside() {
+  public GlideOptions optionalCenterInside() {
     return (GlideOptions) super.optionalCenterInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions centerInside() {
+  public GlideOptions centerInside() {
     return (GlideOptions) super.centerInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCircleCrop() {
+  public GlideOptions optionalCircleCrop() {
     return (GlideOptions) super.optionalCircleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions circleCrop() {
+  public GlideOptions circleCrop() {
     return (GlideOptions) super.circleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.transform(transformation);
   }
 
@@ -548,63 +549,64 @@ public final GlideOptions transforms(@NonNull Transformation<Bitmap>... transfor
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.optionalTransform(transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions optionalTransform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.optionalTransform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions transform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.transform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontTransform() {
+  public GlideOptions dontTransform() {
     return (GlideOptions) super.dontTransform();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontAnimate() {
+  public GlideOptions dontAnimate() {
     return (GlideOptions) super.dontAnimate();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions apply(@NonNull RequestOptions options) {
+  public GlideOptions apply(@NonNull BaseRequestOptions<?> options) {
     return (GlideOptions) super.apply(options);
   }
 
   @Override
   @NonNull
-  public final GlideOptions lock() {
+  public GlideOptions lock() {
     return (GlideOptions) super.lock();
   }
 
   @Override
   @NonNull
-  public final GlideOptions autoClone() {
+  public GlideOptions autoClone() {
     return (GlideOptions) super.autoClone();
   }
 
   /**
-   * @see Extension#override(RequestOptions, int, int)
-   * @see RequestOptions#override(int, int)
+   * @see Extension#override(BaseRequestOptions, int, int)
+   * @see GlideOptions#override(int, int)
    */
+  @SuppressWarnings("unchecked")
   @Override
   @CheckResult
   @NonNull
@@ -613,7 +615,7 @@ public GlideOptions override(int width, int height) {
   }
 
   /**
-   * @see Extension#override(RequestOptions, int, int)
+   * @see Extension#override(BaseRequestOptions, int, int)
    */
   @CheckResult
   public static GlideOptions overrideOf(int width, int height) {
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtendMultipleArguments/GlideRequest.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtendMultipleArguments/GlideRequest.java
index b6d3f48db..0b3f59384 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtendMultipleArguments/GlideRequest.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideExtendMultipleArguments/GlideRequest.java
@@ -23,8 +23,8 @@
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.RequestListener;
-import com.bumptech.glide.request.RequestOptions;
 import java.io.File;
 import java.lang.Class;
 import java.lang.Cloneable;
@@ -39,14 +39,14 @@
 
 /**
  * Contains all public methods from {@link RequestBuilder<TranscodeType>}, all options from
- * {@link RequestOptions} and all generated options from
+ * {@link com.bumptech.glide.request.RequestOptions} and all generated options from
  * {@link com.bumptech.glide.annotation.GlideOption} in annotated methods in
  * {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
  *
  * <p>Generated code, do not modify.
  *
  * @see RequestBuilder<TranscodeType>
- * @see RequestOptions
+ * @see com.bumptech.glide.request.RequestOptions
  */
 @SuppressWarnings({
     "unused",
@@ -75,12 +75,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).sizeMultiplier(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).sizeMultiplier(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.sizeMultiplier(value);
   }
 
   /**
@@ -89,12 +84,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> useUnlimitedSourceGeneratorsPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useUnlimitedSourceGeneratorsPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useUnlimitedSourceGeneratorsPool(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.useUnlimitedSourceGeneratorsPool(flag);
   }
 
   /**
@@ -103,12 +93,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> useAnimationPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useAnimationPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useAnimationPool(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.useAnimationPool(flag);
   }
 
   /**
@@ -117,12 +102,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> onlyRetrieveFromCache(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).onlyRetrieveFromCache(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).onlyRetrieveFromCache(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.onlyRetrieveFromCache(flag);
   }
 
   /**
@@ -131,12 +111,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).diskCacheStrategy(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).diskCacheStrategy(strategy);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.diskCacheStrategy(strategy);
   }
 
   /**
@@ -145,12 +120,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> priority(@NonNull Priority priority) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).priority(priority);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).priority(priority);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.priority(priority);
   }
 
   /**
@@ -159,12 +129,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> placeholder(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.placeholder(drawable);
   }
 
   /**
@@ -173,12 +138,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> placeholder(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.placeholder(id);
   }
 
   /**
@@ -187,12 +147,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fallback(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fallback(drawable);
   }
 
   /**
@@ -201,12 +156,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fallback(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fallback(id);
   }
 
   /**
@@ -215,12 +165,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> error(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.error(drawable);
   }
 
   /**
@@ -229,12 +174,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> error(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.error(id);
   }
 
   /**
@@ -243,12 +183,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> theme(@Nullable Resources.Theme theme) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).theme(theme);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).theme(theme);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.theme(theme);
   }
 
   /**
@@ -257,12 +192,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> skipMemoryCache(boolean skip) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).skipMemoryCache(skip);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).skipMemoryCache(skip);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.skipMemoryCache(skip);
   }
 
   /**
@@ -271,12 +201,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> override(int size) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(size);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(size);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.override(size);
   }
 
   /**
@@ -285,26 +210,16 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> signature(@NonNull Key key) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).signature(key);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).signature(key);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.signature(key);
   }
 
   /**
-   * @see GlideOptions#set(Option<T>, T)
+   * @see GlideOptions#set(Option<Y>, Y)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> set(@NonNull Option<T> option, @NonNull T t) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).set(option, t);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).set(option, t);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> set(@NonNull Option<Y> option, @NonNull Y y) {
+    return (GlideRequest<TranscodeType>) super.set(option, y);
   }
 
   /**
@@ -313,12 +228,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> decode(@NonNull Class<?> clazz) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).decode(clazz);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).decode(clazz);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.decode(clazz);
   }
 
   /**
@@ -327,12 +237,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeFormat(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeFormat(format);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.encodeFormat(format);
   }
 
   /**
@@ -341,12 +246,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeQuality(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeQuality(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.encodeQuality(value);
   }
 
   /**
@@ -355,12 +255,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> frame(@IntRange(from = 0) long value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).frame(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).frame(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.frame(value);
   }
 
   /**
@@ -369,12 +264,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> format(@NonNull DecodeFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).format(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).format(format);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.format(format);
   }
 
   /**
@@ -383,12 +273,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> disallowHardwareConfig() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).disallowHardwareConfig();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).disallowHardwareConfig();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.disallowHardwareConfig();
   }
 
   /**
@@ -397,12 +282,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> downsample(@NonNull DownsampleStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).downsample(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).downsample(strategy);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.downsample(strategy);
   }
 
   /**
@@ -411,12 +291,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> timeout(@IntRange(from = 0) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).timeout(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).timeout(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.timeout(value);
   }
 
   /**
@@ -425,12 +300,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCenterCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCenterCrop();
   }
 
   /**
@@ -439,12 +309,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> centerCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.centerCrop();
   }
 
   /**
@@ -453,12 +318,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalFitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalFitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalFitCenter();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalFitCenter();
   }
 
   /**
@@ -467,12 +327,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fitCenter();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fitCenter();
   }
 
   /**
@@ -481,12 +336,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCenterInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterInside();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCenterInside();
   }
 
   /**
@@ -495,12 +345,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> centerInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerInside();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.centerInside();
   }
 
   /**
@@ -509,12 +354,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCircleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCircleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCircleCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCircleCrop();
   }
 
   /**
@@ -523,12 +363,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> circleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).circleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).circleCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.circleCrop();
   }
 
   /**
@@ -537,12 +372,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> transform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(transformation);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.transform(transformation);
   }
 
   /**
@@ -555,12 +385,7 @@
       "varargs"
   })
   public GlideRequest<TranscodeType> transforms(@NonNull Transformation<Bitmap>... transformations) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transforms(transformations);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transforms(transformations);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.transforms(transformations);
   }
 
   /**
@@ -569,42 +394,27 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(transformation);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalTransform(transformation);
   }
 
   /**
-   * @see GlideOptions#optionalTransform(Class<T>, Transformation<T>)
+   * @see GlideOptions#optionalTransform(Class<Y>, Transformation<Y>)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(clazz, transformation);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
+    return (GlideRequest<TranscodeType>) super.optionalTransform(clazz, transformation);
   }
 
   /**
-   * @see GlideOptions#transform(Class<T>, Transformation<T>)
+   * @see GlideOptions#transform(Class<Y>, Transformation<Y>)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(clazz, transformation);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> transform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
+    return (GlideRequest<TranscodeType>) super.transform(clazz, transformation);
   }
 
   /**
@@ -613,12 +423,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> dontTransform() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontTransform();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontTransform();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.dontTransform();
   }
 
   /**
@@ -627,32 +432,13 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> dontAnimate() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontAnimate();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontAnimate();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#override(int, int)
-   */
-  @CheckResult
-  @NonNull
-  public GlideRequest<TranscodeType> override(int width, int height) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(width, height);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(width, height);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.dontAnimate();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public GlideRequest<TranscodeType> apply(@NonNull RequestOptions options) {
+  public GlideRequest<TranscodeType> apply(@NonNull BaseRequestOptions<?> options) {
     return (GlideRequest<TranscodeType>) super.apply(options);
   }
 
@@ -670,6 +456,13 @@
     return (GlideRequest<TranscodeType>) super.listener(listener);
   }
 
+  @Override
+  @NonNull
+  @CheckResult
+  public GlideRequest<TranscodeType> addListener(@Nullable RequestListener<TranscodeType> listener) {
+    return (GlideRequest<TranscodeType>) super.addListener(listener);
+  }
+
   @Override
   @NonNull
   public GlideRequest<TranscodeType> error(@Nullable RequestBuilder<TranscodeType> builder) {
@@ -767,4 +560,16 @@
   public GlideRequest<TranscodeType> clone() {
     return (GlideRequest<TranscodeType>) super.clone();
   }
+
+  /**
+   * @see Extension#override(BaseRequestOptions, int, int)
+   * @see GlideRequest<TranscodeType>#override(int, int)
+   */
+  @SuppressWarnings("unchecked")
+  @Override
+  @CheckResult
+  @NonNull
+  public GlideRequest<TranscodeType> override(int width, int height) {
+    return (GlideRequest<TranscodeType>) Extension.override(super.override(width, height), width, height);
+  }
 }
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideReplace/Extension.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideReplace/Extension.java
index 78d91590f..4467cf21f 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideReplace/Extension.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideReplace/Extension.java
@@ -3,7 +3,7 @@
 import android.support.annotation.NonNull;
 import com.bumptech.glide.annotation.GlideExtension;
 import com.bumptech.glide.annotation.GlideOption;
-import com.bumptech.glide.request.RequestOptions;
+import com.bumptech.glide.request.BaseRequestOptions;
 
 @GlideExtension
 public final class Extension {
@@ -14,7 +14,7 @@ private Extension() {
 
   @NonNull
   @GlideOption(override = GlideOption.OVERRIDE_REPLACE)
-  public static RequestOptions centerCrop(RequestOptions requestOptions) {
+  public static BaseRequestOptions<?> centerCrop(BaseRequestOptions<?> requestOptions) {
     return requestOptions.centerCrop();
   }
 }
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideReplace/GlideOptions.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideReplace/GlideOptions.java
index 39689658e..124b80a27 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideReplace/GlideOptions.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideReplace/GlideOptions.java
@@ -16,6 +16,7 @@
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.RequestOptions;
 import java.lang.Class;
 import java.lang.Cloneable;
@@ -305,244 +306,244 @@ public static GlideOptions noAnimation() {
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
+  public GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
     return (GlideOptions) super.sizeMultiplier(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
+  public GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
     return (GlideOptions) super.useUnlimitedSourceGeneratorsPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useAnimationPool(boolean flag) {
+  public GlideOptions useAnimationPool(boolean flag) {
     return (GlideOptions) super.useAnimationPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions onlyRetrieveFromCache(boolean flag) {
+  public GlideOptions onlyRetrieveFromCache(boolean flag) {
     return (GlideOptions) super.onlyRetrieveFromCache(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
+  public GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
     return (GlideOptions) super.diskCacheStrategy(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions priority(@NonNull Priority priority) {
+  public GlideOptions priority(@NonNull Priority priority) {
     return (GlideOptions) super.priority(priority);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@Nullable Drawable drawable) {
+  public GlideOptions placeholder(@Nullable Drawable drawable) {
     return (GlideOptions) super.placeholder(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@DrawableRes int id) {
+  public GlideOptions placeholder(@DrawableRes int id) {
     return (GlideOptions) super.placeholder(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@Nullable Drawable drawable) {
+  public GlideOptions fallback(@Nullable Drawable drawable) {
     return (GlideOptions) super.fallback(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@DrawableRes int id) {
+  public GlideOptions fallback(@DrawableRes int id) {
     return (GlideOptions) super.fallback(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@Nullable Drawable drawable) {
+  public GlideOptions error(@Nullable Drawable drawable) {
     return (GlideOptions) super.error(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@DrawableRes int id) {
+  public GlideOptions error(@DrawableRes int id) {
     return (GlideOptions) super.error(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions theme(@Nullable Resources.Theme theme) {
+  public GlideOptions theme(@Nullable Resources.Theme theme) {
     return (GlideOptions) super.theme(theme);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions skipMemoryCache(boolean skip) {
+  public GlideOptions skipMemoryCache(boolean skip) {
     return (GlideOptions) super.skipMemoryCache(skip);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions override(int width, int height) {
+  public GlideOptions override(int width, int height) {
     return (GlideOptions) super.override(width, height);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions override(int size) {
+  public GlideOptions override(int size) {
     return (GlideOptions) super.override(size);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions signature(@NonNull Key key) {
+  public GlideOptions signature(@NonNull Key key) {
     return (GlideOptions) super.signature(key);
   }
 
   @Override
   @CheckResult
-  public final GlideOptions clone() {
+  public GlideOptions clone() {
     return (GlideOptions) super.clone();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions set(@NonNull Option<T> option, @NonNull T t) {
-    return (GlideOptions) super.set(option, t);
+  public <Y> GlideOptions set(@NonNull Option<Y> option, @NonNull Y y) {
+    return (GlideOptions) super.set(option, y);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions decode(@NonNull Class<?> clazz) {
+  public GlideOptions decode(@NonNull Class<?> clazz) {
     return (GlideOptions) super.decode(clazz);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
+  public GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
     return (GlideOptions) super.encodeFormat(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
+  public GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
     return (GlideOptions) super.encodeQuality(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions frame(@IntRange(from = 0) long value) {
+  public GlideOptions frame(@IntRange(from = 0) long value) {
     return (GlideOptions) super.frame(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions format(@NonNull DecodeFormat format) {
+  public GlideOptions format(@NonNull DecodeFormat format) {
     return (GlideOptions) super.format(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions disallowHardwareConfig() {
+  public GlideOptions disallowHardwareConfig() {
     return (GlideOptions) super.disallowHardwareConfig();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
+  public GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
     return (GlideOptions) super.downsample(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions timeout(@IntRange(from = 0) int value) {
+  public GlideOptions timeout(@IntRange(from = 0) int value) {
     return (GlideOptions) super.timeout(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterCrop() {
+  public GlideOptions optionalCenterCrop() {
     return (GlideOptions) super.optionalCenterCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalFitCenter() {
+  public GlideOptions optionalFitCenter() {
     return (GlideOptions) super.optionalFitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fitCenter() {
+  public GlideOptions fitCenter() {
     return (GlideOptions) super.fitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterInside() {
+  public GlideOptions optionalCenterInside() {
     return (GlideOptions) super.optionalCenterInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions centerInside() {
+  public GlideOptions centerInside() {
     return (GlideOptions) super.centerInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCircleCrop() {
+  public GlideOptions optionalCircleCrop() {
     return (GlideOptions) super.optionalCircleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions circleCrop() {
+  public GlideOptions circleCrop() {
     return (GlideOptions) super.circleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.transform(transformation);
   }
 
@@ -558,62 +559,63 @@ public final GlideOptions transforms(@NonNull Transformation<Bitmap>... transfor
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.optionalTransform(transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions optionalTransform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.optionalTransform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions transform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.transform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontTransform() {
+  public GlideOptions dontTransform() {
     return (GlideOptions) super.dontTransform();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontAnimate() {
+  public GlideOptions dontAnimate() {
     return (GlideOptions) super.dontAnimate();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions apply(@NonNull RequestOptions options) {
+  public GlideOptions apply(@NonNull BaseRequestOptions<?> options) {
     return (GlideOptions) super.apply(options);
   }
 
   @Override
   @NonNull
-  public final GlideOptions lock() {
+  public GlideOptions lock() {
     return (GlideOptions) super.lock();
   }
 
   @Override
   @NonNull
-  public final GlideOptions autoClone() {
+  public GlideOptions autoClone() {
     return (GlideOptions) super.autoClone();
   }
 
   /**
-   * @see Extension#centerCrop(RequestOptions)
+   * @see Extension#centerCrop(BaseRequestOptions)
    */
+  @SuppressWarnings("unchecked")
   @CheckResult
   @NonNull
   public GlideOptions centerCrop() {
@@ -621,7 +623,7 @@ public GlideOptions centerCrop() {
   }
 
   /**
-   * @see Extension#centerCrop(RequestOptions)
+   * @see Extension#centerCrop(BaseRequestOptions)
    */
   @CheckResult
   public static GlideOptions centerCropOf() {
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideReplace/GlideRequest.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideReplace/GlideRequest.java
index d47ee2740..0c4f8ba9b 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideReplace/GlideRequest.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/OverrideReplace/GlideRequest.java
@@ -23,8 +23,8 @@
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.RequestListener;
-import com.bumptech.glide.request.RequestOptions;
 import java.io.File;
 import java.lang.Class;
 import java.lang.Cloneable;
@@ -39,14 +39,14 @@
 
 /**
  * Contains all public methods from {@link RequestBuilder<TranscodeType>}, all options from
- * {@link RequestOptions} and all generated options from
+ * {@link com.bumptech.glide.request.RequestOptions} and all generated options from
  * {@link com.bumptech.glide.annotation.GlideOption} in annotated methods in
  * {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
  *
  * <p>Generated code, do not modify.
  *
  * @see RequestBuilder<TranscodeType>
- * @see RequestOptions
+ * @see com.bumptech.glide.request.RequestOptions
  */
 @SuppressWarnings({
     "unused",
@@ -75,12 +75,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).sizeMultiplier(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).sizeMultiplier(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.sizeMultiplier(value);
   }
 
   /**
@@ -89,12 +84,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> useUnlimitedSourceGeneratorsPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useUnlimitedSourceGeneratorsPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useUnlimitedSourceGeneratorsPool(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.useUnlimitedSourceGeneratorsPool(flag);
   }
 
   /**
@@ -103,12 +93,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> useAnimationPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useAnimationPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useAnimationPool(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.useAnimationPool(flag);
   }
 
   /**
@@ -117,12 +102,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> onlyRetrieveFromCache(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).onlyRetrieveFromCache(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).onlyRetrieveFromCache(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.onlyRetrieveFromCache(flag);
   }
 
   /**
@@ -131,12 +111,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).diskCacheStrategy(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).diskCacheStrategy(strategy);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.diskCacheStrategy(strategy);
   }
 
   /**
@@ -145,12 +120,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> priority(@NonNull Priority priority) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).priority(priority);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).priority(priority);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.priority(priority);
   }
 
   /**
@@ -159,12 +129,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> placeholder(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.placeholder(drawable);
   }
 
   /**
@@ -173,12 +138,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> placeholder(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.placeholder(id);
   }
 
   /**
@@ -187,12 +147,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fallback(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fallback(drawable);
   }
 
   /**
@@ -201,12 +156,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fallback(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fallback(id);
   }
 
   /**
@@ -215,12 +165,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> error(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.error(drawable);
   }
 
   /**
@@ -229,12 +174,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> error(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.error(id);
   }
 
   /**
@@ -243,12 +183,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> theme(@Nullable Resources.Theme theme) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).theme(theme);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).theme(theme);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.theme(theme);
   }
 
   /**
@@ -257,12 +192,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> skipMemoryCache(boolean skip) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).skipMemoryCache(skip);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).skipMemoryCache(skip);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.skipMemoryCache(skip);
   }
 
   /**
@@ -271,12 +201,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> override(int width, int height) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(width, height);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(width, height);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.override(width, height);
   }
 
   /**
@@ -285,12 +210,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> override(int size) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(size);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(size);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.override(size);
   }
 
   /**
@@ -299,26 +219,16 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> signature(@NonNull Key key) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).signature(key);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).signature(key);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.signature(key);
   }
 
   /**
-   * @see GlideOptions#set(Option<T>, T)
+   * @see GlideOptions#set(Option<Y>, Y)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> set(@NonNull Option<T> option, @NonNull T t) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).set(option, t);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).set(option, t);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> set(@NonNull Option<Y> option, @NonNull Y y) {
+    return (GlideRequest<TranscodeType>) super.set(option, y);
   }
 
   /**
@@ -327,12 +237,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> decode(@NonNull Class<?> clazz) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).decode(clazz);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).decode(clazz);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.decode(clazz);
   }
 
   /**
@@ -341,12 +246,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeFormat(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeFormat(format);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.encodeFormat(format);
   }
 
   /**
@@ -355,12 +255,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeQuality(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeQuality(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.encodeQuality(value);
   }
 
   /**
@@ -369,12 +264,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> frame(@IntRange(from = 0) long value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).frame(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).frame(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.frame(value);
   }
 
   /**
@@ -383,12 +273,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> format(@NonNull DecodeFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).format(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).format(format);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.format(format);
   }
 
   /**
@@ -397,12 +282,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> disallowHardwareConfig() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).disallowHardwareConfig();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).disallowHardwareConfig();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.disallowHardwareConfig();
   }
 
   /**
@@ -411,12 +291,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> downsample(@NonNull DownsampleStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).downsample(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).downsample(strategy);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.downsample(strategy);
   }
 
   /**
@@ -425,12 +300,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> timeout(@IntRange(from = 0) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).timeout(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).timeout(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.timeout(value);
   }
 
   /**
@@ -439,12 +309,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCenterCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCenterCrop();
   }
 
   /**
@@ -453,12 +318,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalFitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalFitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalFitCenter();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalFitCenter();
   }
 
   /**
@@ -467,12 +327,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fitCenter();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fitCenter();
   }
 
   /**
@@ -481,12 +336,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCenterInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterInside();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCenterInside();
   }
 
   /**
@@ -495,12 +345,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> centerInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerInside();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.centerInside();
   }
 
   /**
@@ -509,12 +354,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCircleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCircleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCircleCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCircleCrop();
   }
 
   /**
@@ -523,12 +363,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> circleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).circleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).circleCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.circleCrop();
   }
 
   /**
@@ -537,12 +372,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> transform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(transformation);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.transform(transformation);
   }
 
   /**
@@ -555,12 +385,7 @@
       "varargs"
   })
   public GlideRequest<TranscodeType> transforms(@NonNull Transformation<Bitmap>... transformations) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transforms(transformations);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transforms(transformations);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.transforms(transformations);
   }
 
   /**
@@ -569,42 +394,27 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(transformation);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalTransform(transformation);
   }
 
   /**
-   * @see GlideOptions#optionalTransform(Class<T>, Transformation<T>)
+   * @see GlideOptions#optionalTransform(Class<Y>, Transformation<Y>)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(clazz, transformation);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
+    return (GlideRequest<TranscodeType>) super.optionalTransform(clazz, transformation);
   }
 
   /**
-   * @see GlideOptions#transform(Class<T>, Transformation<T>)
+   * @see GlideOptions#transform(Class<Y>, Transformation<Y>)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(clazz, transformation);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> transform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
+    return (GlideRequest<TranscodeType>) super.transform(clazz, transformation);
   }
 
   /**
@@ -613,12 +423,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> dontTransform() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontTransform();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontTransform();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.dontTransform();
   }
 
   /**
@@ -627,32 +432,13 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> dontAnimate() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontAnimate();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontAnimate();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#centerCrop()
-   */
-  @CheckResult
-  @NonNull
-  public GlideRequest<TranscodeType> centerCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.dontAnimate();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public GlideRequest<TranscodeType> apply(@NonNull RequestOptions options) {
+  public GlideRequest<TranscodeType> apply(@NonNull BaseRequestOptions<?> options) {
     return (GlideRequest<TranscodeType>) super.apply(options);
   }
 
@@ -670,6 +456,13 @@
     return (GlideRequest<TranscodeType>) super.listener(listener);
   }
 
+  @Override
+  @NonNull
+  @CheckResult
+  public GlideRequest<TranscodeType> addListener(@Nullable RequestListener<TranscodeType> listener) {
+    return (GlideRequest<TranscodeType>) super.addListener(listener);
+  }
+
   @Override
   @NonNull
   public GlideRequest<TranscodeType> error(@Nullable RequestBuilder<TranscodeType> builder) {
@@ -767,4 +560,14 @@
   public GlideRequest<TranscodeType> clone() {
     return (GlideRequest<TranscodeType>) super.clone();
   }
+
+  /**
+   * @see Extension#centerCrop(BaseRequestOptions)
+   */
+  @SuppressWarnings("unchecked")
+  @CheckResult
+  @NonNull
+  public GlideRequest<TranscodeType> centerCrop() {
+    return (GlideRequest<TranscodeType>) Extension.centerCrop(this);
+  }
 }
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/SkipStaticMethod/Extension.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/SkipStaticMethod/Extension.java
index 69db3bc0f..f36597873 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/SkipStaticMethod/Extension.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/SkipStaticMethod/Extension.java
@@ -3,7 +3,7 @@
 import android.support.annotation.NonNull;
 import com.bumptech.glide.annotation.GlideExtension;
 import com.bumptech.glide.annotation.GlideOption;
-import com.bumptech.glide.request.RequestOptions;
+import com.bumptech.glide.request.BaseRequestOptions;
 
 @GlideExtension
 public final class Extension {
@@ -14,7 +14,7 @@ private Extension() {
 
   @NonNull
   @GlideOption(skipStaticMethod = true)
-  public static RequestOptions test(RequestOptions requestOptions) {
+  public static BaseRequestOptions<?> test(BaseRequestOptions<?> requestOptions) {
     return requestOptions.centerCrop();
   }
 }
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/SkipStaticMethod/GlideOptions.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/SkipStaticMethod/GlideOptions.java
index f89ddbc67..a98146108 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/SkipStaticMethod/GlideOptions.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/SkipStaticMethod/GlideOptions.java
@@ -16,6 +16,7 @@
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.RequestOptions;
 import java.lang.Class;
 import java.lang.Cloneable;
@@ -305,251 +306,251 @@ public static GlideOptions noAnimation() {
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
+  public GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
     return (GlideOptions) super.sizeMultiplier(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
+  public GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
     return (GlideOptions) super.useUnlimitedSourceGeneratorsPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useAnimationPool(boolean flag) {
+  public GlideOptions useAnimationPool(boolean flag) {
     return (GlideOptions) super.useAnimationPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions onlyRetrieveFromCache(boolean flag) {
+  public GlideOptions onlyRetrieveFromCache(boolean flag) {
     return (GlideOptions) super.onlyRetrieveFromCache(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
+  public GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
     return (GlideOptions) super.diskCacheStrategy(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions priority(@NonNull Priority priority) {
+  public GlideOptions priority(@NonNull Priority priority) {
     return (GlideOptions) super.priority(priority);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@Nullable Drawable drawable) {
+  public GlideOptions placeholder(@Nullable Drawable drawable) {
     return (GlideOptions) super.placeholder(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@DrawableRes int id) {
+  public GlideOptions placeholder(@DrawableRes int id) {
     return (GlideOptions) super.placeholder(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@Nullable Drawable drawable) {
+  public GlideOptions fallback(@Nullable Drawable drawable) {
     return (GlideOptions) super.fallback(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@DrawableRes int id) {
+  public GlideOptions fallback(@DrawableRes int id) {
     return (GlideOptions) super.fallback(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@Nullable Drawable drawable) {
+  public GlideOptions error(@Nullable Drawable drawable) {
     return (GlideOptions) super.error(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@DrawableRes int id) {
+  public GlideOptions error(@DrawableRes int id) {
     return (GlideOptions) super.error(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions theme(@Nullable Resources.Theme theme) {
+  public GlideOptions theme(@Nullable Resources.Theme theme) {
     return (GlideOptions) super.theme(theme);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions skipMemoryCache(boolean skip) {
+  public GlideOptions skipMemoryCache(boolean skip) {
     return (GlideOptions) super.skipMemoryCache(skip);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions override(int width, int height) {
+  public GlideOptions override(int width, int height) {
     return (GlideOptions) super.override(width, height);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions override(int size) {
+  public GlideOptions override(int size) {
     return (GlideOptions) super.override(size);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions signature(@NonNull Key key) {
+  public GlideOptions signature(@NonNull Key key) {
     return (GlideOptions) super.signature(key);
   }
 
   @Override
   @CheckResult
-  public final GlideOptions clone() {
+  public GlideOptions clone() {
     return (GlideOptions) super.clone();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions set(@NonNull Option<T> option, @NonNull T t) {
-    return (GlideOptions) super.set(option, t);
+  public <Y> GlideOptions set(@NonNull Option<Y> option, @NonNull Y y) {
+    return (GlideOptions) super.set(option, y);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions decode(@NonNull Class<?> clazz) {
+  public GlideOptions decode(@NonNull Class<?> clazz) {
     return (GlideOptions) super.decode(clazz);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
+  public GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
     return (GlideOptions) super.encodeFormat(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
+  public GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
     return (GlideOptions) super.encodeQuality(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions frame(@IntRange(from = 0) long value) {
+  public GlideOptions frame(@IntRange(from = 0) long value) {
     return (GlideOptions) super.frame(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions format(@NonNull DecodeFormat format) {
+  public GlideOptions format(@NonNull DecodeFormat format) {
     return (GlideOptions) super.format(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions disallowHardwareConfig() {
+  public GlideOptions disallowHardwareConfig() {
     return (GlideOptions) super.disallowHardwareConfig();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
+  public GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
     return (GlideOptions) super.downsample(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions timeout(@IntRange(from = 0) int value) {
+  public GlideOptions timeout(@IntRange(from = 0) int value) {
     return (GlideOptions) super.timeout(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterCrop() {
+  public GlideOptions optionalCenterCrop() {
     return (GlideOptions) super.optionalCenterCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions centerCrop() {
+  public GlideOptions centerCrop() {
     return (GlideOptions) super.centerCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalFitCenter() {
+  public GlideOptions optionalFitCenter() {
     return (GlideOptions) super.optionalFitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fitCenter() {
+  public GlideOptions fitCenter() {
     return (GlideOptions) super.fitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterInside() {
+  public GlideOptions optionalCenterInside() {
     return (GlideOptions) super.optionalCenterInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions centerInside() {
+  public GlideOptions centerInside() {
     return (GlideOptions) super.centerInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCircleCrop() {
+  public GlideOptions optionalCircleCrop() {
     return (GlideOptions) super.optionalCircleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions circleCrop() {
+  public GlideOptions circleCrop() {
     return (GlideOptions) super.circleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.transform(transformation);
   }
 
@@ -565,62 +566,63 @@ public final GlideOptions transforms(@NonNull Transformation<Bitmap>... transfor
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.optionalTransform(transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions optionalTransform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.optionalTransform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions transform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.transform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontTransform() {
+  public GlideOptions dontTransform() {
     return (GlideOptions) super.dontTransform();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontAnimate() {
+  public GlideOptions dontAnimate() {
     return (GlideOptions) super.dontAnimate();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions apply(@NonNull RequestOptions options) {
+  public GlideOptions apply(@NonNull BaseRequestOptions<?> options) {
     return (GlideOptions) super.apply(options);
   }
 
   @Override
   @NonNull
-  public final GlideOptions lock() {
+  public GlideOptions lock() {
     return (GlideOptions) super.lock();
   }
 
   @Override
   @NonNull
-  public final GlideOptions autoClone() {
+  public GlideOptions autoClone() {
     return (GlideOptions) super.autoClone();
   }
 
   /**
-   * @see Extension#test(RequestOptions)
+   * @see Extension#test(BaseRequestOptions)
    */
+  @SuppressWarnings("unchecked")
   @CheckResult
   @NonNull
   public GlideOptions test() {
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/SkipStaticMethod/GlideRequest.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/SkipStaticMethod/GlideRequest.java
index c9124e93b..18fb054fb 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/SkipStaticMethod/GlideRequest.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/SkipStaticMethod/GlideRequest.java
@@ -23,8 +23,8 @@
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.RequestListener;
-import com.bumptech.glide.request.RequestOptions;
 import java.io.File;
 import java.lang.Class;
 import java.lang.Cloneable;
@@ -39,14 +39,14 @@
 
 /**
  * Contains all public methods from {@link RequestBuilder<TranscodeType>}, all options from
- * {@link RequestOptions} and all generated options from
+ * {@link com.bumptech.glide.request.RequestOptions} and all generated options from
  * {@link com.bumptech.glide.annotation.GlideOption} in annotated methods in
  * {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
  *
  * <p>Generated code, do not modify.
  *
  * @see RequestBuilder<TranscodeType>
- * @see RequestOptions
+ * @see com.bumptech.glide.request.RequestOptions
  */
 @SuppressWarnings({
     "unused",
@@ -75,12 +75,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).sizeMultiplier(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).sizeMultiplier(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.sizeMultiplier(value);
   }
 
   /**
@@ -89,12 +84,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> useUnlimitedSourceGeneratorsPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useUnlimitedSourceGeneratorsPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useUnlimitedSourceGeneratorsPool(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.useUnlimitedSourceGeneratorsPool(flag);
   }
 
   /**
@@ -103,12 +93,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> useAnimationPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useAnimationPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useAnimationPool(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.useAnimationPool(flag);
   }
 
   /**
@@ -117,12 +102,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> onlyRetrieveFromCache(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).onlyRetrieveFromCache(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).onlyRetrieveFromCache(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.onlyRetrieveFromCache(flag);
   }
 
   /**
@@ -131,12 +111,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).diskCacheStrategy(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).diskCacheStrategy(strategy);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.diskCacheStrategy(strategy);
   }
 
   /**
@@ -145,12 +120,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> priority(@NonNull Priority priority) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).priority(priority);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).priority(priority);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.priority(priority);
   }
 
   /**
@@ -159,12 +129,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> placeholder(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.placeholder(drawable);
   }
 
   /**
@@ -173,12 +138,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> placeholder(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.placeholder(id);
   }
 
   /**
@@ -187,12 +147,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fallback(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fallback(drawable);
   }
 
   /**
@@ -201,12 +156,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fallback(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fallback(id);
   }
 
   /**
@@ -215,12 +165,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> error(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.error(drawable);
   }
 
   /**
@@ -229,12 +174,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> error(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.error(id);
   }
 
   /**
@@ -243,12 +183,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> theme(@Nullable Resources.Theme theme) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).theme(theme);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).theme(theme);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.theme(theme);
   }
 
   /**
@@ -257,12 +192,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> skipMemoryCache(boolean skip) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).skipMemoryCache(skip);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).skipMemoryCache(skip);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.skipMemoryCache(skip);
   }
 
   /**
@@ -271,12 +201,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> override(int width, int height) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(width, height);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(width, height);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.override(width, height);
   }
 
   /**
@@ -285,12 +210,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> override(int size) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(size);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(size);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.override(size);
   }
 
   /**
@@ -299,26 +219,16 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> signature(@NonNull Key key) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).signature(key);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).signature(key);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.signature(key);
   }
 
   /**
-   * @see GlideOptions#set(Option<T>, T)
+   * @see GlideOptions#set(Option<Y>, Y)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> set(@NonNull Option<T> option, @NonNull T t) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).set(option, t);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).set(option, t);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> set(@NonNull Option<Y> option, @NonNull Y y) {
+    return (GlideRequest<TranscodeType>) super.set(option, y);
   }
 
   /**
@@ -327,12 +237,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> decode(@NonNull Class<?> clazz) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).decode(clazz);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).decode(clazz);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.decode(clazz);
   }
 
   /**
@@ -341,12 +246,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeFormat(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeFormat(format);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.encodeFormat(format);
   }
 
   /**
@@ -355,12 +255,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeQuality(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeQuality(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.encodeQuality(value);
   }
 
   /**
@@ -369,12 +264,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> frame(@IntRange(from = 0) long value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).frame(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).frame(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.frame(value);
   }
 
   /**
@@ -383,12 +273,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> format(@NonNull DecodeFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).format(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).format(format);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.format(format);
   }
 
   /**
@@ -397,12 +282,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> disallowHardwareConfig() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).disallowHardwareConfig();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).disallowHardwareConfig();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.disallowHardwareConfig();
   }
 
   /**
@@ -411,12 +291,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> downsample(@NonNull DownsampleStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).downsample(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).downsample(strategy);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.downsample(strategy);
   }
 
   /**
@@ -425,12 +300,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> timeout(@IntRange(from = 0) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).timeout(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).timeout(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.timeout(value);
   }
 
   /**
@@ -439,12 +309,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCenterCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCenterCrop();
   }
 
   /**
@@ -453,12 +318,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> centerCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.centerCrop();
   }
 
   /**
@@ -467,12 +327,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalFitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalFitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalFitCenter();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalFitCenter();
   }
 
   /**
@@ -481,12 +336,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fitCenter();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fitCenter();
   }
 
   /**
@@ -495,12 +345,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCenterInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterInside();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCenterInside();
   }
 
   /**
@@ -509,12 +354,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> centerInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerInside();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.centerInside();
   }
 
   /**
@@ -523,12 +363,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCircleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCircleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCircleCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCircleCrop();
   }
 
   /**
@@ -537,12 +372,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> circleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).circleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).circleCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.circleCrop();
   }
 
   /**
@@ -551,12 +381,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> transform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(transformation);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.transform(transformation);
   }
 
   /**
@@ -569,12 +394,7 @@
       "varargs"
   })
   public GlideRequest<TranscodeType> transforms(@NonNull Transformation<Bitmap>... transformations) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transforms(transformations);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transforms(transformations);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.transforms(transformations);
   }
 
   /**
@@ -583,42 +403,27 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(transformation);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalTransform(transformation);
   }
 
   /**
-   * @see GlideOptions#optionalTransform(Class<T>, Transformation<T>)
+   * @see GlideOptions#optionalTransform(Class<Y>, Transformation<Y>)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(clazz, transformation);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
+    return (GlideRequest<TranscodeType>) super.optionalTransform(clazz, transformation);
   }
 
   /**
-   * @see GlideOptions#transform(Class<T>, Transformation<T>)
+   * @see GlideOptions#transform(Class<Y>, Transformation<Y>)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(clazz, transformation);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> transform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
+    return (GlideRequest<TranscodeType>) super.transform(clazz, transformation);
   }
 
   /**
@@ -627,12 +432,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> dontTransform() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontTransform();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontTransform();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.dontTransform();
   }
 
   /**
@@ -641,32 +441,13 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> dontAnimate() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontAnimate();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontAnimate();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#test()
-   */
-  @CheckResult
-  @NonNull
-  public GlideRequest<TranscodeType> test() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).test();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).test();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.dontAnimate();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public GlideRequest<TranscodeType> apply(@NonNull RequestOptions options) {
+  public GlideRequest<TranscodeType> apply(@NonNull BaseRequestOptions<?> options) {
     return (GlideRequest<TranscodeType>) super.apply(options);
   }
 
@@ -684,6 +465,13 @@
     return (GlideRequest<TranscodeType>) super.listener(listener);
   }
 
+  @Override
+  @NonNull
+  @CheckResult
+  public GlideRequest<TranscodeType> addListener(@Nullable RequestListener<TranscodeType> listener) {
+    return (GlideRequest<TranscodeType>) super.addListener(listener);
+  }
+
   @Override
   @NonNull
   public GlideRequest<TranscodeType> error(@Nullable RequestBuilder<TranscodeType> builder) {
@@ -781,4 +569,14 @@
   public GlideRequest<TranscodeType> clone() {
     return (GlideRequest<TranscodeType>) super.clone();
   }
+
+  /**
+   * @see Extension#test(BaseRequestOptions)
+   */
+  @SuppressWarnings("unchecked")
+  @CheckResult
+  @NonNull
+  public GlideRequest<TranscodeType> test() {
+    return (GlideRequest<TranscodeType>) Extension.test(this);
+  }
 }
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/StaticMethodName/Extension.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/StaticMethodName/Extension.java
index 9e05dde64..45ccc3954 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/StaticMethodName/Extension.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/StaticMethodName/Extension.java
@@ -3,7 +3,7 @@
 import android.support.annotation.NonNull;
 import com.bumptech.glide.annotation.GlideExtension;
 import com.bumptech.glide.annotation.GlideOption;
-import com.bumptech.glide.request.RequestOptions;
+import com.bumptech.glide.request.BaseRequestOptions;
 
 @GlideExtension
 public final class Extension {
@@ -14,7 +14,7 @@ private Extension() {
 
   @NonNull
   @GlideOption(staticMethodName = "testSomething")
-  public static RequestOptions test(RequestOptions requestOptions) {
+  public static BaseRequestOptions<?> test(BaseRequestOptions<?> requestOptions) {
     return requestOptions.centerCrop();
   }
 }
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/StaticMethodName/GlideOptions.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/StaticMethodName/GlideOptions.java
index 3484cb188..6c20113cb 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/StaticMethodName/GlideOptions.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/StaticMethodName/GlideOptions.java
@@ -16,6 +16,7 @@
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.RequestOptions;
 import java.lang.Class;
 import java.lang.Cloneable;
@@ -305,251 +306,251 @@ public static GlideOptions noAnimation() {
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
+  public GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
     return (GlideOptions) super.sizeMultiplier(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
+  public GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
     return (GlideOptions) super.useUnlimitedSourceGeneratorsPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useAnimationPool(boolean flag) {
+  public GlideOptions useAnimationPool(boolean flag) {
     return (GlideOptions) super.useAnimationPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions onlyRetrieveFromCache(boolean flag) {
+  public GlideOptions onlyRetrieveFromCache(boolean flag) {
     return (GlideOptions) super.onlyRetrieveFromCache(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
+  public GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
     return (GlideOptions) super.diskCacheStrategy(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions priority(@NonNull Priority priority) {
+  public GlideOptions priority(@NonNull Priority priority) {
     return (GlideOptions) super.priority(priority);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@Nullable Drawable drawable) {
+  public GlideOptions placeholder(@Nullable Drawable drawable) {
     return (GlideOptions) super.placeholder(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@DrawableRes int id) {
+  public GlideOptions placeholder(@DrawableRes int id) {
     return (GlideOptions) super.placeholder(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@Nullable Drawable drawable) {
+  public GlideOptions fallback(@Nullable Drawable drawable) {
     return (GlideOptions) super.fallback(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@DrawableRes int id) {
+  public GlideOptions fallback(@DrawableRes int id) {
     return (GlideOptions) super.fallback(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@Nullable Drawable drawable) {
+  public GlideOptions error(@Nullable Drawable drawable) {
     return (GlideOptions) super.error(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@DrawableRes int id) {
+  public GlideOptions error(@DrawableRes int id) {
     return (GlideOptions) super.error(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions theme(@Nullable Resources.Theme theme) {
+  public GlideOptions theme(@Nullable Resources.Theme theme) {
     return (GlideOptions) super.theme(theme);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions skipMemoryCache(boolean skip) {
+  public GlideOptions skipMemoryCache(boolean skip) {
     return (GlideOptions) super.skipMemoryCache(skip);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions override(int width, int height) {
+  public GlideOptions override(int width, int height) {
     return (GlideOptions) super.override(width, height);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions override(int size) {
+  public GlideOptions override(int size) {
     return (GlideOptions) super.override(size);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions signature(@NonNull Key key) {
+  public GlideOptions signature(@NonNull Key key) {
     return (GlideOptions) super.signature(key);
   }
 
   @Override
   @CheckResult
-  public final GlideOptions clone() {
+  public GlideOptions clone() {
     return (GlideOptions) super.clone();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions set(@NonNull Option<T> option, @NonNull T t) {
-    return (GlideOptions) super.set(option, t);
+  public <Y> GlideOptions set(@NonNull Option<Y> option, @NonNull Y y) {
+    return (GlideOptions) super.set(option, y);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions decode(@NonNull Class<?> clazz) {
+  public GlideOptions decode(@NonNull Class<?> clazz) {
     return (GlideOptions) super.decode(clazz);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
+  public GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
     return (GlideOptions) super.encodeFormat(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
+  public GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
     return (GlideOptions) super.encodeQuality(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions frame(@IntRange(from = 0) long value) {
+  public GlideOptions frame(@IntRange(from = 0) long value) {
     return (GlideOptions) super.frame(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions format(@NonNull DecodeFormat format) {
+  public GlideOptions format(@NonNull DecodeFormat format) {
     return (GlideOptions) super.format(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions disallowHardwareConfig() {
+  public GlideOptions disallowHardwareConfig() {
     return (GlideOptions) super.disallowHardwareConfig();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
+  public GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
     return (GlideOptions) super.downsample(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions timeout(@IntRange(from = 0) int value) {
+  public GlideOptions timeout(@IntRange(from = 0) int value) {
     return (GlideOptions) super.timeout(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterCrop() {
+  public GlideOptions optionalCenterCrop() {
     return (GlideOptions) super.optionalCenterCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions centerCrop() {
+  public GlideOptions centerCrop() {
     return (GlideOptions) super.centerCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalFitCenter() {
+  public GlideOptions optionalFitCenter() {
     return (GlideOptions) super.optionalFitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fitCenter() {
+  public GlideOptions fitCenter() {
     return (GlideOptions) super.fitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterInside() {
+  public GlideOptions optionalCenterInside() {
     return (GlideOptions) super.optionalCenterInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions centerInside() {
+  public GlideOptions centerInside() {
     return (GlideOptions) super.centerInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCircleCrop() {
+  public GlideOptions optionalCircleCrop() {
     return (GlideOptions) super.optionalCircleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions circleCrop() {
+  public GlideOptions circleCrop() {
     return (GlideOptions) super.circleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.transform(transformation);
   }
 
@@ -565,62 +566,63 @@ public final GlideOptions transforms(@NonNull Transformation<Bitmap>... transfor
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.optionalTransform(transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions optionalTransform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.optionalTransform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions transform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.transform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontTransform() {
+  public GlideOptions dontTransform() {
     return (GlideOptions) super.dontTransform();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontAnimate() {
+  public GlideOptions dontAnimate() {
     return (GlideOptions) super.dontAnimate();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions apply(@NonNull RequestOptions options) {
+  public GlideOptions apply(@NonNull BaseRequestOptions<?> options) {
     return (GlideOptions) super.apply(options);
   }
 
   @Override
   @NonNull
-  public final GlideOptions lock() {
+  public GlideOptions lock() {
     return (GlideOptions) super.lock();
   }
 
   @Override
   @NonNull
-  public final GlideOptions autoClone() {
+  public GlideOptions autoClone() {
     return (GlideOptions) super.autoClone();
   }
 
   /**
-   * @see Extension#test(RequestOptions)
+   * @see Extension#test(BaseRequestOptions)
    */
+  @SuppressWarnings("unchecked")
   @CheckResult
   @NonNull
   public GlideOptions test() {
@@ -628,7 +630,7 @@ public GlideOptions test() {
   }
 
   /**
-   * @see Extension#test(RequestOptions)
+   * @see Extension#test(BaseRequestOptions)
    */
   @CheckResult
   public static GlideOptions testSomething() {
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/StaticMethodName/GlideRequest.java b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/StaticMethodName/GlideRequest.java
index c9124e93b..18fb054fb 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/StaticMethodName/GlideRequest.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionOptionsTest/StaticMethodName/GlideRequest.java
@@ -23,8 +23,8 @@
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.RequestListener;
-import com.bumptech.glide.request.RequestOptions;
 import java.io.File;
 import java.lang.Class;
 import java.lang.Cloneable;
@@ -39,14 +39,14 @@
 
 /**
  * Contains all public methods from {@link RequestBuilder<TranscodeType>}, all options from
- * {@link RequestOptions} and all generated options from
+ * {@link com.bumptech.glide.request.RequestOptions} and all generated options from
  * {@link com.bumptech.glide.annotation.GlideOption} in annotated methods in
  * {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
  *
  * <p>Generated code, do not modify.
  *
  * @see RequestBuilder<TranscodeType>
- * @see RequestOptions
+ * @see com.bumptech.glide.request.RequestOptions
  */
 @SuppressWarnings({
     "unused",
@@ -75,12 +75,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).sizeMultiplier(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).sizeMultiplier(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.sizeMultiplier(value);
   }
 
   /**
@@ -89,12 +84,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> useUnlimitedSourceGeneratorsPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useUnlimitedSourceGeneratorsPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useUnlimitedSourceGeneratorsPool(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.useUnlimitedSourceGeneratorsPool(flag);
   }
 
   /**
@@ -103,12 +93,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> useAnimationPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useAnimationPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useAnimationPool(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.useAnimationPool(flag);
   }
 
   /**
@@ -117,12 +102,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> onlyRetrieveFromCache(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).onlyRetrieveFromCache(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).onlyRetrieveFromCache(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.onlyRetrieveFromCache(flag);
   }
 
   /**
@@ -131,12 +111,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).diskCacheStrategy(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).diskCacheStrategy(strategy);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.diskCacheStrategy(strategy);
   }
 
   /**
@@ -145,12 +120,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> priority(@NonNull Priority priority) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).priority(priority);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).priority(priority);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.priority(priority);
   }
 
   /**
@@ -159,12 +129,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> placeholder(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.placeholder(drawable);
   }
 
   /**
@@ -173,12 +138,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> placeholder(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.placeholder(id);
   }
 
   /**
@@ -187,12 +147,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fallback(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fallback(drawable);
   }
 
   /**
@@ -201,12 +156,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fallback(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fallback(id);
   }
 
   /**
@@ -215,12 +165,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> error(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.error(drawable);
   }
 
   /**
@@ -229,12 +174,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> error(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.error(id);
   }
 
   /**
@@ -243,12 +183,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> theme(@Nullable Resources.Theme theme) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).theme(theme);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).theme(theme);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.theme(theme);
   }
 
   /**
@@ -257,12 +192,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> skipMemoryCache(boolean skip) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).skipMemoryCache(skip);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).skipMemoryCache(skip);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.skipMemoryCache(skip);
   }
 
   /**
@@ -271,12 +201,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> override(int width, int height) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(width, height);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(width, height);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.override(width, height);
   }
 
   /**
@@ -285,12 +210,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> override(int size) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(size);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(size);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.override(size);
   }
 
   /**
@@ -299,26 +219,16 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> signature(@NonNull Key key) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).signature(key);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).signature(key);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.signature(key);
   }
 
   /**
-   * @see GlideOptions#set(Option<T>, T)
+   * @see GlideOptions#set(Option<Y>, Y)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> set(@NonNull Option<T> option, @NonNull T t) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).set(option, t);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).set(option, t);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> set(@NonNull Option<Y> option, @NonNull Y y) {
+    return (GlideRequest<TranscodeType>) super.set(option, y);
   }
 
   /**
@@ -327,12 +237,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> decode(@NonNull Class<?> clazz) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).decode(clazz);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).decode(clazz);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.decode(clazz);
   }
 
   /**
@@ -341,12 +246,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeFormat(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeFormat(format);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.encodeFormat(format);
   }
 
   /**
@@ -355,12 +255,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeQuality(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeQuality(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.encodeQuality(value);
   }
 
   /**
@@ -369,12 +264,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> frame(@IntRange(from = 0) long value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).frame(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).frame(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.frame(value);
   }
 
   /**
@@ -383,12 +273,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> format(@NonNull DecodeFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).format(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).format(format);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.format(format);
   }
 
   /**
@@ -397,12 +282,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> disallowHardwareConfig() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).disallowHardwareConfig();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).disallowHardwareConfig();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.disallowHardwareConfig();
   }
 
   /**
@@ -411,12 +291,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> downsample(@NonNull DownsampleStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).downsample(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).downsample(strategy);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.downsample(strategy);
   }
 
   /**
@@ -425,12 +300,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> timeout(@IntRange(from = 0) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).timeout(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).timeout(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.timeout(value);
   }
 
   /**
@@ -439,12 +309,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCenterCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCenterCrop();
   }
 
   /**
@@ -453,12 +318,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> centerCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.centerCrop();
   }
 
   /**
@@ -467,12 +327,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalFitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalFitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalFitCenter();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalFitCenter();
   }
 
   /**
@@ -481,12 +336,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fitCenter();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fitCenter();
   }
 
   /**
@@ -495,12 +345,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCenterInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterInside();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCenterInside();
   }
 
   /**
@@ -509,12 +354,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> centerInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerInside();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.centerInside();
   }
 
   /**
@@ -523,12 +363,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCircleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCircleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCircleCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCircleCrop();
   }
 
   /**
@@ -537,12 +372,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> circleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).circleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).circleCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.circleCrop();
   }
 
   /**
@@ -551,12 +381,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> transform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(transformation);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.transform(transformation);
   }
 
   /**
@@ -569,12 +394,7 @@
       "varargs"
   })
   public GlideRequest<TranscodeType> transforms(@NonNull Transformation<Bitmap>... transformations) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transforms(transformations);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transforms(transformations);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.transforms(transformations);
   }
 
   /**
@@ -583,42 +403,27 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(transformation);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalTransform(transformation);
   }
 
   /**
-   * @see GlideOptions#optionalTransform(Class<T>, Transformation<T>)
+   * @see GlideOptions#optionalTransform(Class<Y>, Transformation<Y>)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(clazz, transformation);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
+    return (GlideRequest<TranscodeType>) super.optionalTransform(clazz, transformation);
   }
 
   /**
-   * @see GlideOptions#transform(Class<T>, Transformation<T>)
+   * @see GlideOptions#transform(Class<Y>, Transformation<Y>)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(clazz, transformation);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> transform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
+    return (GlideRequest<TranscodeType>) super.transform(clazz, transformation);
   }
 
   /**
@@ -627,12 +432,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> dontTransform() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontTransform();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontTransform();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.dontTransform();
   }
 
   /**
@@ -641,32 +441,13 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> dontAnimate() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontAnimate();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontAnimate();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#test()
-   */
-  @CheckResult
-  @NonNull
-  public GlideRequest<TranscodeType> test() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).test();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).test();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.dontAnimate();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public GlideRequest<TranscodeType> apply(@NonNull RequestOptions options) {
+  public GlideRequest<TranscodeType> apply(@NonNull BaseRequestOptions<?> options) {
     return (GlideRequest<TranscodeType>) super.apply(options);
   }
 
@@ -684,6 +465,13 @@
     return (GlideRequest<TranscodeType>) super.listener(listener);
   }
 
+  @Override
+  @NonNull
+  @CheckResult
+  public GlideRequest<TranscodeType> addListener(@Nullable RequestListener<TranscodeType> listener) {
+    return (GlideRequest<TranscodeType>) super.addListener(listener);
+  }
+
   @Override
   @NonNull
   public GlideRequest<TranscodeType> error(@Nullable RequestBuilder<TranscodeType> builder) {
@@ -781,4 +569,14 @@
   public GlideRequest<TranscodeType> clone() {
     return (GlideRequest<TranscodeType>) super.clone();
   }
+
+  /**
+   * @see Extension#test(BaseRequestOptions)
+   */
+  @SuppressWarnings("unchecked")
+  @CheckResult
+  @NonNull
+  public GlideRequest<TranscodeType> test() {
+    return (GlideRequest<TranscodeType>) Extension.test(this);
+  }
 }
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionWithOptionTest/ExtensionWithOption.java b/annotation/compiler/test/src/test/resources/GlideExtensionWithOptionTest/ExtensionWithOption.java
index 9884bcefb..a82329934 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionWithOptionTest/ExtensionWithOption.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionWithOptionTest/ExtensionWithOption.java
@@ -3,7 +3,7 @@
 import android.support.annotation.NonNull;
 import com.bumptech.glide.annotation.GlideExtension;
 import com.bumptech.glide.annotation.GlideOption;
-import com.bumptech.glide.request.RequestOptions;
+import com.bumptech.glide.request.BaseRequestOptions;
 
 @GlideExtension
 public final class ExtensionWithOption {
@@ -14,7 +14,7 @@ private ExtensionWithOption() {
 
   @NonNull
   @GlideOption
-  public static RequestOptions squareThumb(RequestOptions requestOptions) {
+  public static BaseRequestOptions<?> squareThumb(BaseRequestOptions<?> requestOptions) {
     return requestOptions.centerCrop();
   }
 }
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionWithOptionTest/GlideOptions.java b/annotation/compiler/test/src/test/resources/GlideExtensionWithOptionTest/GlideOptions.java
index ea3991d19..ce0df8dd7 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionWithOptionTest/GlideOptions.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionWithOptionTest/GlideOptions.java
@@ -16,6 +16,7 @@
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.RequestOptions;
 import java.lang.Class;
 import java.lang.Cloneable;
@@ -305,251 +306,251 @@ public static GlideOptions noAnimation() {
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
+  public GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
     return (GlideOptions) super.sizeMultiplier(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
+  public GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
     return (GlideOptions) super.useUnlimitedSourceGeneratorsPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useAnimationPool(boolean flag) {
+  public GlideOptions useAnimationPool(boolean flag) {
     return (GlideOptions) super.useAnimationPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions onlyRetrieveFromCache(boolean flag) {
+  public GlideOptions onlyRetrieveFromCache(boolean flag) {
     return (GlideOptions) super.onlyRetrieveFromCache(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
+  public GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
     return (GlideOptions) super.diskCacheStrategy(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions priority(@NonNull Priority priority) {
+  public GlideOptions priority(@NonNull Priority priority) {
     return (GlideOptions) super.priority(priority);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@Nullable Drawable drawable) {
+  public GlideOptions placeholder(@Nullable Drawable drawable) {
     return (GlideOptions) super.placeholder(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@DrawableRes int id) {
+  public GlideOptions placeholder(@DrawableRes int id) {
     return (GlideOptions) super.placeholder(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@Nullable Drawable drawable) {
+  public GlideOptions fallback(@Nullable Drawable drawable) {
     return (GlideOptions) super.fallback(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@DrawableRes int id) {
+  public GlideOptions fallback(@DrawableRes int id) {
     return (GlideOptions) super.fallback(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@Nullable Drawable drawable) {
+  public GlideOptions error(@Nullable Drawable drawable) {
     return (GlideOptions) super.error(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@DrawableRes int id) {
+  public GlideOptions error(@DrawableRes int id) {
     return (GlideOptions) super.error(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions theme(@Nullable Resources.Theme theme) {
+  public GlideOptions theme(@Nullable Resources.Theme theme) {
     return (GlideOptions) super.theme(theme);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions skipMemoryCache(boolean skip) {
+  public GlideOptions skipMemoryCache(boolean skip) {
     return (GlideOptions) super.skipMemoryCache(skip);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions override(int width, int height) {
+  public GlideOptions override(int width, int height) {
     return (GlideOptions) super.override(width, height);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions override(int size) {
+  public GlideOptions override(int size) {
     return (GlideOptions) super.override(size);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions signature(@NonNull Key key) {
+  public GlideOptions signature(@NonNull Key key) {
     return (GlideOptions) super.signature(key);
   }
 
   @Override
   @CheckResult
-  public final GlideOptions clone() {
+  public GlideOptions clone() {
     return (GlideOptions) super.clone();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions set(@NonNull Option<T> option, @NonNull T t) {
-    return (GlideOptions) super.set(option, t);
+  public <Y> GlideOptions set(@NonNull Option<Y> option, @NonNull Y y) {
+    return (GlideOptions) super.set(option, y);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions decode(@NonNull Class<?> clazz) {
+  public GlideOptions decode(@NonNull Class<?> clazz) {
     return (GlideOptions) super.decode(clazz);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
+  public GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
     return (GlideOptions) super.encodeFormat(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
+  public GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
     return (GlideOptions) super.encodeQuality(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions frame(@IntRange(from = 0) long value) {
+  public GlideOptions frame(@IntRange(from = 0) long value) {
     return (GlideOptions) super.frame(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions format(@NonNull DecodeFormat format) {
+  public GlideOptions format(@NonNull DecodeFormat format) {
     return (GlideOptions) super.format(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions disallowHardwareConfig() {
+  public GlideOptions disallowHardwareConfig() {
     return (GlideOptions) super.disallowHardwareConfig();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
+  public GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
     return (GlideOptions) super.downsample(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions timeout(@IntRange(from = 0) int value) {
+  public GlideOptions timeout(@IntRange(from = 0) int value) {
     return (GlideOptions) super.timeout(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterCrop() {
+  public GlideOptions optionalCenterCrop() {
     return (GlideOptions) super.optionalCenterCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions centerCrop() {
+  public GlideOptions centerCrop() {
     return (GlideOptions) super.centerCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalFitCenter() {
+  public GlideOptions optionalFitCenter() {
     return (GlideOptions) super.optionalFitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fitCenter() {
+  public GlideOptions fitCenter() {
     return (GlideOptions) super.fitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterInside() {
+  public GlideOptions optionalCenterInside() {
     return (GlideOptions) super.optionalCenterInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions centerInside() {
+  public GlideOptions centerInside() {
     return (GlideOptions) super.centerInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCircleCrop() {
+  public GlideOptions optionalCircleCrop() {
     return (GlideOptions) super.optionalCircleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions circleCrop() {
+  public GlideOptions circleCrop() {
     return (GlideOptions) super.circleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.transform(transformation);
   }
 
@@ -565,62 +566,63 @@ public final GlideOptions transforms(@NonNull Transformation<Bitmap>... transfor
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.optionalTransform(transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions optionalTransform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.optionalTransform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions transform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.transform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontTransform() {
+  public GlideOptions dontTransform() {
     return (GlideOptions) super.dontTransform();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontAnimate() {
+  public GlideOptions dontAnimate() {
     return (GlideOptions) super.dontAnimate();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions apply(@NonNull RequestOptions options) {
+  public GlideOptions apply(@NonNull BaseRequestOptions<?> options) {
     return (GlideOptions) super.apply(options);
   }
 
   @Override
   @NonNull
-  public final GlideOptions lock() {
+  public GlideOptions lock() {
     return (GlideOptions) super.lock();
   }
 
   @Override
   @NonNull
-  public final GlideOptions autoClone() {
+  public GlideOptions autoClone() {
     return (GlideOptions) super.autoClone();
   }
 
   /**
-   * @see ExtensionWithOption#squareThumb(RequestOptions)
+   * @see ExtensionWithOption#squareThumb(BaseRequestOptions)
    */
+  @SuppressWarnings("unchecked")
   @CheckResult
   @NonNull
   public GlideOptions squareThumb() {
@@ -628,7 +630,7 @@ public GlideOptions squareThumb() {
   }
 
   /**
-   * @see ExtensionWithOption#squareThumb(RequestOptions)
+   * @see ExtensionWithOption#squareThumb(BaseRequestOptions)
    */
   @CheckResult
   public static GlideOptions squareThumbOf() {
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionWithOptionTest/GlideRequest.java b/annotation/compiler/test/src/test/resources/GlideExtensionWithOptionTest/GlideRequest.java
index b453136b6..51f731b2b 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionWithOptionTest/GlideRequest.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionWithOptionTest/GlideRequest.java
@@ -23,8 +23,8 @@
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.RequestListener;
-import com.bumptech.glide.request.RequestOptions;
 import java.io.File;
 import java.lang.Class;
 import java.lang.Cloneable;
@@ -39,14 +39,14 @@
 
 /**
  * Contains all public methods from {@link RequestBuilder<TranscodeType>}, all options from
- * {@link RequestOptions} and all generated options from
+ * {@link com.bumptech.glide.request.RequestOptions} and all generated options from
  * {@link com.bumptech.glide.annotation.GlideOption} in annotated methods in
  * {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
  *
  * <p>Generated code, do not modify.
  *
  * @see RequestBuilder<TranscodeType>
- * @see RequestOptions
+ * @see com.bumptech.glide.request.RequestOptions
  */
 @SuppressWarnings({
     "unused",
@@ -75,12 +75,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).sizeMultiplier(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).sizeMultiplier(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.sizeMultiplier(value);
   }
 
   /**
@@ -89,12 +84,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> useUnlimitedSourceGeneratorsPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useUnlimitedSourceGeneratorsPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useUnlimitedSourceGeneratorsPool(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.useUnlimitedSourceGeneratorsPool(flag);
   }
 
   /**
@@ -103,12 +93,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> useAnimationPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useAnimationPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useAnimationPool(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.useAnimationPool(flag);
   }
 
   /**
@@ -117,12 +102,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> onlyRetrieveFromCache(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).onlyRetrieveFromCache(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).onlyRetrieveFromCache(flag);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.onlyRetrieveFromCache(flag);
   }
 
   /**
@@ -131,12 +111,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).diskCacheStrategy(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).diskCacheStrategy(strategy);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.diskCacheStrategy(strategy);
   }
 
   /**
@@ -145,12 +120,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> priority(@NonNull Priority priority) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).priority(priority);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).priority(priority);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.priority(priority);
   }
 
   /**
@@ -159,12 +129,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> placeholder(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.placeholder(drawable);
   }
 
   /**
@@ -173,12 +138,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> placeholder(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.placeholder(id);
   }
 
   /**
@@ -187,12 +147,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fallback(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fallback(drawable);
   }
 
   /**
@@ -201,12 +156,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fallback(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fallback(id);
   }
 
   /**
@@ -215,12 +165,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> error(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(drawable);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.error(drawable);
   }
 
   /**
@@ -229,12 +174,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> error(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(id);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.error(id);
   }
 
   /**
@@ -243,12 +183,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> theme(@Nullable Resources.Theme theme) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).theme(theme);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).theme(theme);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.theme(theme);
   }
 
   /**
@@ -257,12 +192,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> skipMemoryCache(boolean skip) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).skipMemoryCache(skip);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).skipMemoryCache(skip);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.skipMemoryCache(skip);
   }
 
   /**
@@ -271,12 +201,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> override(int width, int height) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(width, height);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(width, height);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.override(width, height);
   }
 
   /**
@@ -285,12 +210,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> override(int size) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(size);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(size);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.override(size);
   }
 
   /**
@@ -299,26 +219,16 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> signature(@NonNull Key key) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).signature(key);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).signature(key);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.signature(key);
   }
 
   /**
-   * @see GlideOptions#set(Option<T>, T)
+   * @see GlideOptions#set(Option<Y>, Y)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> set(@NonNull Option<T> option, @NonNull T t) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).set(option, t);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).set(option, t);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> set(@NonNull Option<Y> option, @NonNull Y y) {
+    return (GlideRequest<TranscodeType>) super.set(option, y);
   }
 
   /**
@@ -327,12 +237,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> decode(@NonNull Class<?> clazz) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).decode(clazz);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).decode(clazz);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.decode(clazz);
   }
 
   /**
@@ -341,12 +246,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeFormat(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeFormat(format);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.encodeFormat(format);
   }
 
   /**
@@ -355,12 +255,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeQuality(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeQuality(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.encodeQuality(value);
   }
 
   /**
@@ -369,12 +264,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> frame(@IntRange(from = 0) long value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).frame(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).frame(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.frame(value);
   }
 
   /**
@@ -383,12 +273,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> format(@NonNull DecodeFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).format(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).format(format);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.format(format);
   }
 
   /**
@@ -397,12 +282,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> disallowHardwareConfig() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).disallowHardwareConfig();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).disallowHardwareConfig();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.disallowHardwareConfig();
   }
 
   /**
@@ -411,12 +291,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> downsample(@NonNull DownsampleStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).downsample(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).downsample(strategy);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.downsample(strategy);
   }
 
   /**
@@ -425,12 +300,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> timeout(@IntRange(from = 0) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).timeout(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).timeout(value);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.timeout(value);
   }
 
   /**
@@ -439,12 +309,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCenterCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCenterCrop();
   }
 
   /**
@@ -453,12 +318,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> centerCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.centerCrop();
   }
 
   /**
@@ -467,12 +327,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalFitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalFitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalFitCenter();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalFitCenter();
   }
 
   /**
@@ -481,12 +336,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> fitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fitCenter();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.fitCenter();
   }
 
   /**
@@ -495,12 +345,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCenterInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterInside();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCenterInside();
   }
 
   /**
@@ -509,12 +354,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> centerInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerInside();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.centerInside();
   }
 
   /**
@@ -523,12 +363,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalCircleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCircleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCircleCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalCircleCrop();
   }
 
   /**
@@ -537,12 +372,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> circleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).circleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).circleCrop();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.circleCrop();
   }
 
   /**
@@ -551,12 +381,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> transform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(transformation);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.transform(transformation);
   }
 
   /**
@@ -569,12 +394,7 @@
       "varargs"
   })
   public GlideRequest<TranscodeType> transforms(@NonNull Transformation<Bitmap>... transformations) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transforms(transformations);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transforms(transformations);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.transforms(transformations);
   }
 
   /**
@@ -583,42 +403,27 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(transformation);
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.optionalTransform(transformation);
   }
 
   /**
-   * @see GlideOptions#optionalTransform(Class<T>, Transformation<T>)
+   * @see GlideOptions#optionalTransform(Class<Y>, Transformation<Y>)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(clazz, transformation);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
+    return (GlideRequest<TranscodeType>) super.optionalTransform(clazz, transformation);
   }
 
   /**
-   * @see GlideOptions#transform(Class<T>, Transformation<T>)
+   * @see GlideOptions#transform(Class<Y>, Transformation<Y>)
    */
   @NonNull
   @CheckResult
-  public <T> GlideRequest<TranscodeType> transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(clazz, transformation);
-    }
-    return this;
+  public <Y> GlideRequest<TranscodeType> transform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
+    return (GlideRequest<TranscodeType>) super.transform(clazz, transformation);
   }
 
   /**
@@ -627,12 +432,7 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> dontTransform() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontTransform();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontTransform();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.dontTransform();
   }
 
   /**
@@ -641,32 +441,13 @@
   @NonNull
   @CheckResult
   public GlideRequest<TranscodeType> dontAnimate() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontAnimate();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontAnimate();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#squareThumb()
-   */
-  @CheckResult
-  @NonNull
-  public GlideRequest<TranscodeType> squareThumb() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).squareThumb();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).squareThumb();
-    }
-    return this;
+    return (GlideRequest<TranscodeType>) super.dontAnimate();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public GlideRequest<TranscodeType> apply(@NonNull RequestOptions options) {
+  public GlideRequest<TranscodeType> apply(@NonNull BaseRequestOptions<?> options) {
     return (GlideRequest<TranscodeType>) super.apply(options);
   }
 
@@ -684,6 +465,13 @@
     return (GlideRequest<TranscodeType>) super.listener(listener);
   }
 
+  @Override
+  @NonNull
+  @CheckResult
+  public GlideRequest<TranscodeType> addListener(@Nullable RequestListener<TranscodeType> listener) {
+    return (GlideRequest<TranscodeType>) super.addListener(listener);
+  }
+
   @Override
   @NonNull
   public GlideRequest<TranscodeType> error(@Nullable RequestBuilder<TranscodeType> builder) {
@@ -781,4 +569,14 @@
   public GlideRequest<TranscodeType> clone() {
     return (GlideRequest<TranscodeType>) super.clone();
   }
+
+  /**
+   * @see ExtensionWithOption#squareThumb(BaseRequestOptions)
+   */
+  @SuppressWarnings("unchecked")
+  @CheckResult
+  @NonNull
+  public GlideRequest<TranscodeType> squareThumb() {
+    return (GlideRequest<TranscodeType>) ExtensionWithOption.squareThumb(this);
+  }
 }
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionWithTypeTest/GlideOptions.java b/annotation/compiler/test/src/test/resources/GlideExtensionWithTypeTest/GlideOptions.java
index 558dc9f8c..435ea9275 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionWithTypeTest/GlideOptions.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionWithTypeTest/GlideOptions.java
@@ -16,6 +16,7 @@
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.RequestOptions;
 import java.lang.Class;
 import java.lang.Cloneable;
@@ -305,251 +306,251 @@ public static GlideOptions noAnimation() {
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
+  public GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
     return (GlideOptions) super.sizeMultiplier(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
+  public GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
     return (GlideOptions) super.useUnlimitedSourceGeneratorsPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions useAnimationPool(boolean flag) {
+  public GlideOptions useAnimationPool(boolean flag) {
     return (GlideOptions) super.useAnimationPool(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions onlyRetrieveFromCache(boolean flag) {
+  public GlideOptions onlyRetrieveFromCache(boolean flag) {
     return (GlideOptions) super.onlyRetrieveFromCache(flag);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
+  public GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
     return (GlideOptions) super.diskCacheStrategy(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions priority(@NonNull Priority priority) {
+  public GlideOptions priority(@NonNull Priority priority) {
     return (GlideOptions) super.priority(priority);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@Nullable Drawable drawable) {
+  public GlideOptions placeholder(@Nullable Drawable drawable) {
     return (GlideOptions) super.placeholder(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions placeholder(@DrawableRes int id) {
+  public GlideOptions placeholder(@DrawableRes int id) {
     return (GlideOptions) super.placeholder(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@Nullable Drawable drawable) {
+  public GlideOptions fallback(@Nullable Drawable drawable) {
     return (GlideOptions) super.fallback(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fallback(@DrawableRes int id) {
+  public GlideOptions fallback(@DrawableRes int id) {
     return (GlideOptions) super.fallback(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@Nullable Drawable drawable) {
+  public GlideOptions error(@Nullable Drawable drawable) {
     return (GlideOptions) super.error(drawable);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions error(@DrawableRes int id) {
+  public GlideOptions error(@DrawableRes int id) {
     return (GlideOptions) super.error(id);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions theme(@Nullable Resources.Theme theme) {
+  public GlideOptions theme(@Nullable Resources.Theme theme) {
     return (GlideOptions) super.theme(theme);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions skipMemoryCache(boolean skip) {
+  public GlideOptions skipMemoryCache(boolean skip) {
     return (GlideOptions) super.skipMemoryCache(skip);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions override(int width, int height) {
+  public GlideOptions override(int width, int height) {
     return (GlideOptions) super.override(width, height);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions override(int size) {
+  public GlideOptions override(int size) {
     return (GlideOptions) super.override(size);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions signature(@NonNull Key key) {
+  public GlideOptions signature(@NonNull Key key) {
     return (GlideOptions) super.signature(key);
   }
 
   @Override
   @CheckResult
-  public final GlideOptions clone() {
+  public GlideOptions clone() {
     return (GlideOptions) super.clone();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions set(@NonNull Option<T> option, @NonNull T t) {
-    return (GlideOptions) super.set(option, t);
+  public <Y> GlideOptions set(@NonNull Option<Y> option, @NonNull Y y) {
+    return (GlideOptions) super.set(option, y);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions decode(@NonNull Class<?> clazz) {
+  public GlideOptions decode(@NonNull Class<?> clazz) {
     return (GlideOptions) super.decode(clazz);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
+  public GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
     return (GlideOptions) super.encodeFormat(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
+  public GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
     return (GlideOptions) super.encodeQuality(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions frame(@IntRange(from = 0) long value) {
+  public GlideOptions frame(@IntRange(from = 0) long value) {
     return (GlideOptions) super.frame(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions format(@NonNull DecodeFormat format) {
+  public GlideOptions format(@NonNull DecodeFormat format) {
     return (GlideOptions) super.format(format);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions disallowHardwareConfig() {
+  public GlideOptions disallowHardwareConfig() {
     return (GlideOptions) super.disallowHardwareConfig();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
+  public GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
     return (GlideOptions) super.downsample(strategy);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions timeout(@IntRange(from = 0) int value) {
+  public GlideOptions timeout(@IntRange(from = 0) int value) {
     return (GlideOptions) super.timeout(value);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterCrop() {
+  public GlideOptions optionalCenterCrop() {
     return (GlideOptions) super.optionalCenterCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions centerCrop() {
+  public GlideOptions centerCrop() {
     return (GlideOptions) super.centerCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalFitCenter() {
+  public GlideOptions optionalFitCenter() {
     return (GlideOptions) super.optionalFitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions fitCenter() {
+  public GlideOptions fitCenter() {
     return (GlideOptions) super.fitCenter();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCenterInside() {
+  public GlideOptions optionalCenterInside() {
     return (GlideOptions) super.optionalCenterInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions centerInside() {
+  public GlideOptions centerInside() {
     return (GlideOptions) super.centerInside();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalCircleCrop() {
+  public GlideOptions optionalCircleCrop() {
     return (GlideOptions) super.optionalCircleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions circleCrop() {
+  public GlideOptions circleCrop() {
     return (GlideOptions) super.circleCrop();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.transform(transformation);
   }
 
@@ -565,56 +566,56 @@ public final GlideOptions transforms(@NonNull Transformation<Bitmap>... transfor
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
+  public GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
     return (GlideOptions) super.optionalTransform(transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions optionalTransform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.optionalTransform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final <T> GlideOptions transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
+  public <Y> GlideOptions transform(@NonNull Class<Y> clazz,
+      @NonNull Transformation<Y> transformation) {
     return (GlideOptions) super.transform(clazz, transformation);
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontTransform() {
+  public GlideOptions dontTransform() {
     return (GlideOptions) super.dontTransform();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions dontAnimate() {
+  public GlideOptions dontAnimate() {
     return (GlideOptions) super.dontAnimate();
   }
 
   @Override
   @NonNull
   @CheckResult
-  public final GlideOptions apply(@NonNull RequestOptions options) {
+  public GlideOptions apply(@NonNull BaseRequestOptions<?> options) {
     return (GlideOptions) super.apply(options);
   }
 
   @Override
   @NonNull
-  public final GlideOptions lock() {
+  public GlideOptions lock() {
     return (GlideOptions) super.lock();
   }
 
   @Override
   @NonNull
-  public final GlideOptions autoClone() {
+  public GlideOptions autoClone() {
     return (GlideOptions) super.autoClone();
   }
 }
diff --git a/annotation/compiler/test/src/test/resources/GlideExtensionWithTypeTest/GlideRequests.java b/annotation/compiler/test/src/test/resources/GlideExtensionWithTypeTest/GlideRequests.java
index bed0a7227..e0d0ad1d9 100644
--- a/annotation/compiler/test/src/test/resources/GlideExtensionWithTypeTest/GlideRequests.java
+++ b/annotation/compiler/test/src/test/resources/GlideExtensionWithTypeTest/GlideRequests.java
@@ -14,6 +14,7 @@
 import com.bumptech.glide.load.resource.gif.GifDrawable;
 import com.bumptech.glide.manager.Lifecycle;
 import com.bumptech.glide.manager.RequestManagerTreeNode;
+import com.bumptech.glide.request.RequestListener;
 import com.bumptech.glide.request.RequestOptions;
 import java.io.File;
 import java.lang.Class;
@@ -67,6 +68,12 @@ public GlideRequests setDefaultRequestOptions(@NonNull RequestOptions options) {
     return (GlideRequests) super.setDefaultRequestOptions(options);
   }
 
+  @Override
+  @NonNull
+  public GlideRequests addDefaultRequestListener(RequestListener<Object> listener) {
+    return (GlideRequests) super.addDefaultRequestListener(listener);
+  }
+
   @Override
   @NonNull
   @CheckResult
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/MemoizeStaticMethod/Extension.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/MemoizeStaticMethod/Extension.java
deleted file mode 100644
index f37b64050..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/MemoizeStaticMethod/Extension.java
+++ /dev/null
@@ -1,18 +0,0 @@
-package com.bumptech.glide.test;
-
-import com.bumptech.glide.annotation.GlideExtension;
-import com.bumptech.glide.annotation.GlideOption;
-import com.bumptech.glide.request.RequestOptions;
-
-@GlideExtension
-public final class Extension {
-
-  private Extension() {
-    // Utility class.
-  }
-
-  @GlideOption(memoizeStaticMethod = true)
-  public static void test(RequestOptions requestOptions) {
-    requestOptions.centerCrop();
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/MemoizeStaticMethod/GlideOptions.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/MemoizeStaticMethod/GlideOptions.java
deleted file mode 100644
index 76a59cadd..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/MemoizeStaticMethod/GlideOptions.java
+++ /dev/null
@@ -1,647 +0,0 @@
-package com.bumptech.glide.test;
-
-import android.content.res.Resources;
-import android.graphics.Bitmap;
-import android.graphics.drawable.Drawable;
-import android.support.annotation.CheckResult;
-import android.support.annotation.DrawableRes;
-import android.support.annotation.FloatRange;
-import android.support.annotation.IntRange;
-import android.support.annotation.NonNull;
-import android.support.annotation.Nullable;
-import com.bumptech.glide.Priority;
-import com.bumptech.glide.load.DecodeFormat;
-import com.bumptech.glide.load.Key;
-import com.bumptech.glide.load.Option;
-import com.bumptech.glide.load.Transformation;
-import com.bumptech.glide.load.engine.DiskCacheStrategy;
-import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
-import com.bumptech.glide.request.RequestOptions;
-import java.lang.Class;
-import java.lang.Cloneable;
-import java.lang.Override;
-import java.lang.SafeVarargs;
-import java.lang.SuppressWarnings;
-
-/**
- * Automatically generated from {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
- *
- * @see RequestOptions
- * @see Extension
- */
-@SuppressWarnings("deprecation")
-public final class GlideOptions extends RequestOptions implements Cloneable {
-  private static GlideOptions fitCenterTransform1;
-
-  private static GlideOptions centerInsideTransform2;
-
-  private static GlideOptions centerCropTransform3;
-
-  private static GlideOptions circleCropTransform4;
-
-  private static GlideOptions noTransformation5;
-
-  private static GlideOptions noAnimation6;
-
-  private static GlideOptions testOf0;
-
-  /**
-   * @see RequestOptions#sizeMultiplierOf(float)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions sizeMultiplierOf(@FloatRange(from = 0.0, to = 1.0) float value) {
-    return new GlideOptions().sizeMultiplier(value);
-  }
-
-  /**
-   * @see RequestOptions#diskCacheStrategyOf(DiskCacheStrategy)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions diskCacheStrategyOf(@NonNull DiskCacheStrategy strategy) {
-    return new GlideOptions().diskCacheStrategy(strategy);
-  }
-
-  /**
-   * @see RequestOptions#priorityOf(Priority)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions priorityOf(@NonNull Priority priority) {
-    return new GlideOptions().priority(priority);
-  }
-
-  /**
-   * @see RequestOptions#placeholderOf(Drawable)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions placeholderOf(@Nullable Drawable drawable) {
-    return new GlideOptions().placeholder(drawable);
-  }
-
-  /**
-   * @see RequestOptions#placeholderOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions placeholderOf(@DrawableRes int id) {
-    return new GlideOptions().placeholder(id);
-  }
-
-  /**
-   * @see RequestOptions#errorOf(Drawable)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions errorOf(@Nullable Drawable drawable) {
-    return new GlideOptions().error(drawable);
-  }
-
-  /**
-   * @see RequestOptions#errorOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions errorOf(@DrawableRes int id) {
-    return new GlideOptions().error(id);
-  }
-
-  /**
-   * @see RequestOptions#skipMemoryCacheOf(boolean)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions skipMemoryCacheOf(boolean skipMemoryCache) {
-    return new GlideOptions().skipMemoryCache(skipMemoryCache);
-  }
-
-  /**
-   * @see RequestOptions#overrideOf(int, int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions overrideOf(@IntRange(from = 0) int value0,
-      @IntRange(from = 0) int value1) {
-    return new GlideOptions().override(value0, value1);
-  }
-
-  /**
-   * @see RequestOptions#overrideOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions overrideOf(@IntRange(from = 0) int value) {
-    return new GlideOptions().override(value);
-  }
-
-  /**
-   * @see RequestOptions#signatureOf(Key)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions signatureOf(@NonNull Key key) {
-    return new GlideOptions().signature(key);
-  }
-
-  /**
-   * @see RequestOptions#fitCenterTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions fitCenterTransform() {
-    if (GlideOptions.fitCenterTransform1 == null) {
-      GlideOptions.fitCenterTransform1 =
-          new GlideOptions().fitCenter().autoClone();
-    }
-    return GlideOptions.fitCenterTransform1;
-  }
-
-  /**
-   * @see RequestOptions#centerInsideTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions centerInsideTransform() {
-    if (GlideOptions.centerInsideTransform2 == null) {
-      GlideOptions.centerInsideTransform2 =
-          new GlideOptions().centerInside().autoClone();
-    }
-    return GlideOptions.centerInsideTransform2;
-  }
-
-  /**
-   * @see RequestOptions#centerCropTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions centerCropTransform() {
-    if (GlideOptions.centerCropTransform3 == null) {
-      GlideOptions.centerCropTransform3 =
-          new GlideOptions().centerCrop().autoClone();
-    }
-    return GlideOptions.centerCropTransform3;
-  }
-
-  /**
-   * @see RequestOptions#circleCropTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions circleCropTransform() {
-    if (GlideOptions.circleCropTransform4 == null) {
-      GlideOptions.circleCropTransform4 =
-          new GlideOptions().circleCrop().autoClone();
-    }
-    return GlideOptions.circleCropTransform4;
-  }
-
-  /**
-   * @see RequestOptions#bitmapTransform(Transformation)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions bitmapTransform(@NonNull Transformation<Bitmap> transformation) {
-    return new GlideOptions().transform(transformation);
-  }
-
-  /**
-   * @see RequestOptions#noTransformation()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions noTransformation() {
-    if (GlideOptions.noTransformation5 == null) {
-      GlideOptions.noTransformation5 =
-          new GlideOptions().dontTransform().autoClone();
-    }
-    return GlideOptions.noTransformation5;
-  }
-
-  /**
-   * @see RequestOptions#option(Option, T)
-   */
-  @CheckResult
-  @NonNull
-  public static <T> GlideOptions option(@NonNull Option<T> option, @NonNull T t) {
-    return new GlideOptions().set(option, t);
-  }
-
-  /**
-   * @see RequestOptions#decodeTypeOf(Class)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions decodeTypeOf(@NonNull Class<?> clazz) {
-    return new GlideOptions().decode(clazz);
-  }
-
-  /**
-   * @see RequestOptions#formatOf(DecodeFormat)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions formatOf(@NonNull DecodeFormat format) {
-    return new GlideOptions().format(format);
-  }
-
-  /**
-   * @see RequestOptions#frameOf(long)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions frameOf(@IntRange(from = 0) long value) {
-    return new GlideOptions().frame(value);
-  }
-
-  /**
-   * @see RequestOptions#downsampleOf(DownsampleStrategy)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions downsampleOf(@NonNull DownsampleStrategy strategy) {
-    return new GlideOptions().downsample(strategy);
-  }
-
-  /**
-   * @see RequestOptions#timeoutOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions timeoutOf(@IntRange(from = 0) int value) {
-    return new GlideOptions().timeout(value);
-  }
-
-  /**
-   * @see RequestOptions#encodeQualityOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions encodeQualityOf(@IntRange(from = 0, to = 100) int value) {
-    return new GlideOptions().encodeQuality(value);
-  }
-
-  /**
-   * @see RequestOptions#encodeFormatOf(CompressFormat)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions encodeFormatOf(@NonNull Bitmap.CompressFormat format) {
-    return new GlideOptions().encodeFormat(format);
-  }
-
-  /**
-   * @see RequestOptions#noAnimation()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions noAnimation() {
-    if (GlideOptions.noAnimation6 == null) {
-      GlideOptions.noAnimation6 =
-          new GlideOptions().dontAnimate().autoClone();
-    }
-    return GlideOptions.noAnimation6;
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    return (GlideOptions) super.sizeMultiplier(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
-    return (GlideOptions) super.useUnlimitedSourceGeneratorsPool(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions useAnimationPool(boolean flag) {
-    return (GlideOptions) super.useAnimationPool(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions onlyRetrieveFromCache(boolean flag) {
-    return (GlideOptions) super.onlyRetrieveFromCache(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    return (GlideOptions) super.diskCacheStrategy(strategy);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions priority(@NonNull Priority priority) {
-    return (GlideOptions) super.priority(priority);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions placeholder(@Nullable Drawable drawable) {
-    return (GlideOptions) super.placeholder(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions placeholder(@DrawableRes int id) {
-    return (GlideOptions) super.placeholder(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fallback(@Nullable Drawable drawable) {
-    return (GlideOptions) super.fallback(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fallback(@DrawableRes int id) {
-    return (GlideOptions) super.fallback(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions error(@Nullable Drawable drawable) {
-    return (GlideOptions) super.error(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions error(@DrawableRes int id) {
-    return (GlideOptions) super.error(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions theme(@Nullable Resources.Theme theme) {
-    return (GlideOptions) super.theme(theme);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions skipMemoryCache(boolean skip) {
-    return (GlideOptions) super.skipMemoryCache(skip);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions override(int width, int height) {
-    return (GlideOptions) super.override(width, height);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions override(int size) {
-    return (GlideOptions) super.override(size);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions signature(@NonNull Key key) {
-    return (GlideOptions) super.signature(key);
-  }
-
-  @Override
-  @CheckResult
-  public final GlideOptions clone() {
-    return (GlideOptions) super.clone();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions set(@NonNull Option<T> option, @NonNull T t) {
-    return (GlideOptions) super.set(option, t);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions decode(@NonNull Class<?> clazz) {
-    return (GlideOptions) super.decode(clazz);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    return (GlideOptions) super.encodeFormat(format);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    return (GlideOptions) super.encodeQuality(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions frame(@IntRange(from = 0) long value) {
-    return (GlideOptions) super.frame(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions format(@NonNull DecodeFormat format) {
-    return (GlideOptions) super.format(format);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions disallowHardwareConfig() {
-    return (GlideOptions) super.disallowHardwareConfig();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
-    return (GlideOptions) super.downsample(strategy);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions timeout(@IntRange(from = 0) int value) {
-    return (GlideOptions) super.timeout(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCenterCrop() {
-    return (GlideOptions) super.optionalCenterCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions centerCrop() {
-    return (GlideOptions) super.centerCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalFitCenter() {
-    return (GlideOptions) super.optionalFitCenter();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fitCenter() {
-    return (GlideOptions) super.fitCenter();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCenterInside() {
-    return (GlideOptions) super.optionalCenterInside();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions centerInside() {
-    return (GlideOptions) super.centerInside();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCircleCrop() {
-    return (GlideOptions) super.optionalCircleCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions circleCrop() {
-    return (GlideOptions) super.circleCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
-    return (GlideOptions) super.transform(transformation);
-  }
-
-  @Override
-  @SafeVarargs
-  @SuppressWarnings("varargs")
-  @NonNull
-  @CheckResult
-  public final GlideOptions transforms(@NonNull Transformation<Bitmap>... transformations) {
-    return (GlideOptions) super.transforms(transformations);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    return (GlideOptions) super.optionalTransform(transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    return (GlideOptions) super.optionalTransform(clazz, transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    return (GlideOptions) super.transform(clazz, transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions dontTransform() {
-    return (GlideOptions) super.dontTransform();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions dontAnimate() {
-    return (GlideOptions) super.dontAnimate();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions apply(@NonNull RequestOptions options) {
-    return (GlideOptions) super.apply(options);
-  }
-
-  @Override
-  @NonNull
-  public final GlideOptions lock() {
-    return (GlideOptions) super.lock();
-  }
-
-  @Override
-  @NonNull
-  public final GlideOptions autoClone() {
-    return (GlideOptions) super.autoClone();
-  }
-
-  /**
-   * @see Extension#test(RequestOptions)
-   */
-  @CheckResult
-  @NonNull
-  public GlideOptions test() {
-    if (isAutoCloneEnabled()) {
-      return clone().test();
-    }
-    Extension.test(this);
-    return this;
-  }
-
-  /**
-   * @see Extension#test(RequestOptions)
-   */
-  @CheckResult
-  public static GlideOptions testOf() {
-    if (GlideOptions.testOf0 == null) {
-      GlideOptions.testOf0 =
-          new GlideOptions().test().autoClone();
-    }
-    return GlideOptions.testOf0;
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/MemoizeStaticMethod/GlideRequest.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/MemoizeStaticMethod/GlideRequest.java
deleted file mode 100644
index c9124e93b..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/MemoizeStaticMethod/GlideRequest.java
+++ /dev/null
@@ -1,784 +0,0 @@
-package com.bumptech.glide.test;
-
-import android.content.Context;
-import android.content.res.Resources;
-import android.graphics.Bitmap;
-import android.graphics.drawable.Drawable;
-import android.net.Uri;
-import android.support.annotation.CheckResult;
-import android.support.annotation.DrawableRes;
-import android.support.annotation.FloatRange;
-import android.support.annotation.IntRange;
-import android.support.annotation.NonNull;
-import android.support.annotation.Nullable;
-import android.support.annotation.RawRes;
-import com.bumptech.glide.Glide;
-import com.bumptech.glide.Priority;
-import com.bumptech.glide.RequestBuilder;
-import com.bumptech.glide.RequestManager;
-import com.bumptech.glide.TransitionOptions;
-import com.bumptech.glide.load.DecodeFormat;
-import com.bumptech.glide.load.Key;
-import com.bumptech.glide.load.Option;
-import com.bumptech.glide.load.Transformation;
-import com.bumptech.glide.load.engine.DiskCacheStrategy;
-import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
-import com.bumptech.glide.request.RequestListener;
-import com.bumptech.glide.request.RequestOptions;
-import java.io.File;
-import java.lang.Class;
-import java.lang.Cloneable;
-import java.lang.Deprecated;
-import java.lang.Integer;
-import java.lang.Object;
-import java.lang.Override;
-import java.lang.SafeVarargs;
-import java.lang.String;
-import java.lang.SuppressWarnings;
-import java.net.URL;
-
-/**
- * Contains all public methods from {@link RequestBuilder<TranscodeType>}, all options from
- * {@link RequestOptions} and all generated options from
- * {@link com.bumptech.glide.annotation.GlideOption} in annotated methods in
- * {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
- *
- * <p>Generated code, do not modify.
- *
- * @see RequestBuilder<TranscodeType>
- * @see RequestOptions
- */
-@SuppressWarnings({
-    "unused",
-    "deprecation"
-})
-public class GlideRequest<TranscodeType> extends RequestBuilder<TranscodeType> implements Cloneable {
-  GlideRequest(@NonNull Class<TranscodeType> transcodeClass, @NonNull RequestBuilder<?> other) {
-    super(transcodeClass, other);
-  }
-
-  GlideRequest(@NonNull Glide glide, @NonNull RequestManager requestManager,
-      @NonNull Class<TranscodeType> transcodeClass, @NonNull Context context) {
-    super(glide, requestManager ,transcodeClass, context);
-  }
-
-  @Override
-  @CheckResult
-  @NonNull
-  protected GlideRequest<File> getDownloadOnlyRequest() {
-    return new GlideRequest<>(File.class, this).apply(DOWNLOAD_ONLY_OPTIONS);
-  }
-
-  /**
-   * @see GlideOptions#sizeMultiplier(float)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).sizeMultiplier(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).sizeMultiplier(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#useUnlimitedSourceGeneratorsPool(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> useUnlimitedSourceGeneratorsPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useUnlimitedSourceGeneratorsPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useUnlimitedSourceGeneratorsPool(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#useAnimationPool(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> useAnimationPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useAnimationPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useAnimationPool(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#onlyRetrieveFromCache(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> onlyRetrieveFromCache(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).onlyRetrieveFromCache(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).onlyRetrieveFromCache(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#diskCacheStrategy(DiskCacheStrategy)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).diskCacheStrategy(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).diskCacheStrategy(strategy);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#priority(Priority)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> priority(@NonNull Priority priority) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).priority(priority);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).priority(priority);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#placeholder(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> placeholder(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#placeholder(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> placeholder(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fallback(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fallback(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fallback(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fallback(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#error(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> error(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#error(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> error(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#theme(Resources.Theme)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> theme(@Nullable Resources.Theme theme) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).theme(theme);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).theme(theme);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#skipMemoryCache(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> skipMemoryCache(boolean skip) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).skipMemoryCache(skip);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).skipMemoryCache(skip);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#override(int, int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> override(int width, int height) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(width, height);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(width, height);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#override(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> override(int size) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(size);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(size);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#signature(Key)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> signature(@NonNull Key key) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).signature(key);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).signature(key);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#set(Option<T>, T)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> set(@NonNull Option<T> option, @NonNull T t) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).set(option, t);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).set(option, t);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#decode(Class<?>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> decode(@NonNull Class<?> clazz) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).decode(clazz);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).decode(clazz);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#encodeFormat(Bitmap.CompressFormat)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeFormat(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeFormat(format);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#encodeQuality(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeQuality(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeQuality(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#frame(long)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> frame(@IntRange(from = 0) long value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).frame(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).frame(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#format(DecodeFormat)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> format(@NonNull DecodeFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).format(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).format(format);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#disallowHardwareConfig()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> disallowHardwareConfig() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).disallowHardwareConfig();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).disallowHardwareConfig();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#downsample(DownsampleStrategy)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> downsample(@NonNull DownsampleStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).downsample(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).downsample(strategy);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#timeout(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> timeout(@IntRange(from = 0) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).timeout(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).timeout(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCenterCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCenterCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#centerCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> centerCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalFitCenter()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalFitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalFitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalFitCenter();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fitCenter()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fitCenter();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCenterInside()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCenterInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterInside();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#centerInside()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> centerInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerInside();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCircleCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCircleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCircleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCircleCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#circleCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> circleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).circleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).circleCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transform(Transformation<Bitmap>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> transform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transforms(Transformation<Bitmap>[])
-   */
-  @NonNull
-  @CheckResult
-  @SuppressWarnings({
-      "unchecked",
-      "varargs"
-  })
-  public GlideRequest<TranscodeType> transforms(@NonNull Transformation<Bitmap>... transformations) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transforms(transformations);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transforms(transformations);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalTransform(Transformation<Bitmap>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalTransform(Class<T>, Transformation<T>)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(clazz, transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transform(Class<T>, Transformation<T>)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(clazz, transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#dontTransform()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> dontTransform() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontTransform();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontTransform();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#dontAnimate()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> dontAnimate() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontAnimate();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontAnimate();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#test()
-   */
-  @CheckResult
-  @NonNull
-  public GlideRequest<TranscodeType> test() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).test();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).test();
-    }
-    return this;
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> apply(@NonNull RequestOptions options) {
-    return (GlideRequest<TranscodeType>) super.apply(options);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> transition(@NonNull TransitionOptions<?, ? super TranscodeType> options) {
-    return (GlideRequest<TranscodeType>) super.transition(options);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> listener(@Nullable RequestListener<TranscodeType> listener) {
-    return (GlideRequest<TranscodeType>) super.listener(listener);
-  }
-
-  @Override
-  @NonNull
-  public GlideRequest<TranscodeType> error(@Nullable RequestBuilder<TranscodeType> builder) {
-    return (GlideRequest<TranscodeType>) super.error(builder);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> thumbnail(@Nullable RequestBuilder<TranscodeType> builder) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(builder);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  @SafeVarargs
-  @SuppressWarnings("varargs")
-  public final GlideRequest<TranscodeType> thumbnail(@Nullable RequestBuilder<TranscodeType>... builders) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(builders);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> thumbnail(float sizeMultiplier) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(sizeMultiplier);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Object o) {
-    return (GlideRequest<TranscodeType>) super.load(o);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Bitmap bitmap) {
-    return (GlideRequest<TranscodeType>) super.load(bitmap);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Drawable drawable) {
-    return (GlideRequest<TranscodeType>) super.load(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable String string) {
-    return (GlideRequest<TranscodeType>) super.load(string);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Uri uri) {
-    return (GlideRequest<TranscodeType>) super.load(uri);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable File file) {
-    return (GlideRequest<TranscodeType>) super.load(file);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@RawRes @DrawableRes @Nullable Integer id) {
-    return (GlideRequest<TranscodeType>) super.load(id);
-  }
-
-  @Override
-  @Deprecated
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable URL url) {
-    return (GlideRequest<TranscodeType>) super.load(url);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable byte[] bytes) {
-    return (GlideRequest<TranscodeType>) super.load(bytes);
-  }
-
-  @Override
-  @CheckResult
-  public GlideRequest<TranscodeType> clone() {
-    return (GlideRequest<TranscodeType>) super.clone();
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideExtend/Extension.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideExtend/Extension.java
deleted file mode 100644
index 5bc2838f8..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideExtend/Extension.java
+++ /dev/null
@@ -1,18 +0,0 @@
-package com.bumptech.glide.test;
-
-import com.bumptech.glide.annotation.GlideExtension;
-import com.bumptech.glide.annotation.GlideOption;
-import com.bumptech.glide.request.RequestOptions;
-
-@GlideExtension
-public final class Extension {
-
-  private Extension() {
-    // Utility class.
-  }
-
-  @GlideOption(override = GlideOption.OVERRIDE_EXTEND)
-  public static void centerCrop(RequestOptions requestOptions) {
-    requestOptions.centerCrop();
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideExtend/GlideOptions.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideExtend/GlideOptions.java
deleted file mode 100644
index e7bfc9733..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideExtend/GlideOptions.java
+++ /dev/null
@@ -1,637 +0,0 @@
-package com.bumptech.glide.test;
-
-import android.content.res.Resources;
-import android.graphics.Bitmap;
-import android.graphics.drawable.Drawable;
-import android.support.annotation.CheckResult;
-import android.support.annotation.DrawableRes;
-import android.support.annotation.FloatRange;
-import android.support.annotation.IntRange;
-import android.support.annotation.NonNull;
-import android.support.annotation.Nullable;
-import com.bumptech.glide.Priority;
-import com.bumptech.glide.load.DecodeFormat;
-import com.bumptech.glide.load.Key;
-import com.bumptech.glide.load.Option;
-import com.bumptech.glide.load.Transformation;
-import com.bumptech.glide.load.engine.DiskCacheStrategy;
-import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
-import com.bumptech.glide.request.RequestOptions;
-import java.lang.Class;
-import java.lang.Cloneable;
-import java.lang.Override;
-import java.lang.SafeVarargs;
-import java.lang.SuppressWarnings;
-
-/**
- * Automatically generated from {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
- *
- * @see RequestOptions
- * @see Extension
- */
-@SuppressWarnings("deprecation")
-public final class GlideOptions extends RequestOptions implements Cloneable {
-  private static GlideOptions fitCenterTransform0;
-
-  private static GlideOptions centerInsideTransform1;
-
-  private static GlideOptions centerCropTransform2;
-
-  private static GlideOptions circleCropTransform3;
-
-  private static GlideOptions noTransformation4;
-
-  private static GlideOptions noAnimation5;
-
-  /**
-   * @see RequestOptions#sizeMultiplierOf(float)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions sizeMultiplierOf(@FloatRange(from = 0.0, to = 1.0) float value) {
-    return new GlideOptions().sizeMultiplier(value);
-  }
-
-  /**
-   * @see RequestOptions#diskCacheStrategyOf(DiskCacheStrategy)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions diskCacheStrategyOf(@NonNull DiskCacheStrategy strategy) {
-    return new GlideOptions().diskCacheStrategy(strategy);
-  }
-
-  /**
-   * @see RequestOptions#priorityOf(Priority)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions priorityOf(@NonNull Priority priority) {
-    return new GlideOptions().priority(priority);
-  }
-
-  /**
-   * @see RequestOptions#placeholderOf(Drawable)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions placeholderOf(@Nullable Drawable drawable) {
-    return new GlideOptions().placeholder(drawable);
-  }
-
-  /**
-   * @see RequestOptions#placeholderOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions placeholderOf(@DrawableRes int id) {
-    return new GlideOptions().placeholder(id);
-  }
-
-  /**
-   * @see RequestOptions#errorOf(Drawable)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions errorOf(@Nullable Drawable drawable) {
-    return new GlideOptions().error(drawable);
-  }
-
-  /**
-   * @see RequestOptions#errorOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions errorOf(@DrawableRes int id) {
-    return new GlideOptions().error(id);
-  }
-
-  /**
-   * @see RequestOptions#skipMemoryCacheOf(boolean)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions skipMemoryCacheOf(boolean skipMemoryCache) {
-    return new GlideOptions().skipMemoryCache(skipMemoryCache);
-  }
-
-  /**
-   * @see RequestOptions#overrideOf(int, int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions overrideOf(@IntRange(from = 0) int value0,
-      @IntRange(from = 0) int value1) {
-    return new GlideOptions().override(value0, value1);
-  }
-
-  /**
-   * @see RequestOptions#overrideOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions overrideOf(@IntRange(from = 0) int value) {
-    return new GlideOptions().override(value);
-  }
-
-  /**
-   * @see RequestOptions#signatureOf(Key)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions signatureOf(@NonNull Key key) {
-    return new GlideOptions().signature(key);
-  }
-
-  /**
-   * @see RequestOptions#fitCenterTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions fitCenterTransform() {
-    if (GlideOptions.fitCenterTransform0 == null) {
-      GlideOptions.fitCenterTransform0 =
-          new GlideOptions().fitCenter().autoClone();
-    }
-    return GlideOptions.fitCenterTransform0;
-  }
-
-  /**
-   * @see RequestOptions#centerInsideTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions centerInsideTransform() {
-    if (GlideOptions.centerInsideTransform1 == null) {
-      GlideOptions.centerInsideTransform1 =
-          new GlideOptions().centerInside().autoClone();
-    }
-    return GlideOptions.centerInsideTransform1;
-  }
-
-  /**
-   * @see RequestOptions#centerCropTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions centerCropTransform() {
-    if (GlideOptions.centerCropTransform2 == null) {
-      GlideOptions.centerCropTransform2 =
-          new GlideOptions().centerCrop().autoClone();
-    }
-    return GlideOptions.centerCropTransform2;
-  }
-
-  /**
-   * @see RequestOptions#circleCropTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions circleCropTransform() {
-    if (GlideOptions.circleCropTransform3 == null) {
-      GlideOptions.circleCropTransform3 =
-          new GlideOptions().circleCrop().autoClone();
-    }
-    return GlideOptions.circleCropTransform3;
-  }
-
-  /**
-   * @see RequestOptions#bitmapTransform(Transformation)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions bitmapTransform(@NonNull Transformation<Bitmap> transformation) {
-    return new GlideOptions().transform(transformation);
-  }
-
-  /**
-   * @see RequestOptions#noTransformation()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions noTransformation() {
-    if (GlideOptions.noTransformation4 == null) {
-      GlideOptions.noTransformation4 =
-          new GlideOptions().dontTransform().autoClone();
-    }
-    return GlideOptions.noTransformation4;
-  }
-
-  /**
-   * @see RequestOptions#option(Option, T)
-   */
-  @CheckResult
-  @NonNull
-  public static <T> GlideOptions option(@NonNull Option<T> option, @NonNull T t) {
-    return new GlideOptions().set(option, t);
-  }
-
-  /**
-   * @see RequestOptions#decodeTypeOf(Class)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions decodeTypeOf(@NonNull Class<?> clazz) {
-    return new GlideOptions().decode(clazz);
-  }
-
-  /**
-   * @see RequestOptions#formatOf(DecodeFormat)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions formatOf(@NonNull DecodeFormat format) {
-    return new GlideOptions().format(format);
-  }
-
-  /**
-   * @see RequestOptions#frameOf(long)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions frameOf(@IntRange(from = 0) long value) {
-    return new GlideOptions().frame(value);
-  }
-
-  /**
-   * @see RequestOptions#downsampleOf(DownsampleStrategy)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions downsampleOf(@NonNull DownsampleStrategy strategy) {
-    return new GlideOptions().downsample(strategy);
-  }
-
-  /**
-   * @see RequestOptions#timeoutOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions timeoutOf(@IntRange(from = 0) int value) {
-    return new GlideOptions().timeout(value);
-  }
-
-  /**
-   * @see RequestOptions#encodeQualityOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions encodeQualityOf(@IntRange(from = 0, to = 100) int value) {
-    return new GlideOptions().encodeQuality(value);
-  }
-
-  /**
-   * @see RequestOptions#encodeFormatOf(CompressFormat)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions encodeFormatOf(@NonNull Bitmap.CompressFormat format) {
-    return new GlideOptions().encodeFormat(format);
-  }
-
-  /**
-   * @see RequestOptions#noAnimation()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions noAnimation() {
-    if (GlideOptions.noAnimation5 == null) {
-      GlideOptions.noAnimation5 =
-          new GlideOptions().dontAnimate().autoClone();
-    }
-    return GlideOptions.noAnimation5;
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    return (GlideOptions) super.sizeMultiplier(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
-    return (GlideOptions) super.useUnlimitedSourceGeneratorsPool(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions useAnimationPool(boolean flag) {
-    return (GlideOptions) super.useAnimationPool(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions onlyRetrieveFromCache(boolean flag) {
-    return (GlideOptions) super.onlyRetrieveFromCache(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    return (GlideOptions) super.diskCacheStrategy(strategy);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions priority(@NonNull Priority priority) {
-    return (GlideOptions) super.priority(priority);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions placeholder(@Nullable Drawable drawable) {
-    return (GlideOptions) super.placeholder(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions placeholder(@DrawableRes int id) {
-    return (GlideOptions) super.placeholder(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fallback(@Nullable Drawable drawable) {
-    return (GlideOptions) super.fallback(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fallback(@DrawableRes int id) {
-    return (GlideOptions) super.fallback(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions error(@Nullable Drawable drawable) {
-    return (GlideOptions) super.error(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions error(@DrawableRes int id) {
-    return (GlideOptions) super.error(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions theme(@Nullable Resources.Theme theme) {
-    return (GlideOptions) super.theme(theme);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions skipMemoryCache(boolean skip) {
-    return (GlideOptions) super.skipMemoryCache(skip);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions override(int width, int height) {
-    return (GlideOptions) super.override(width, height);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions override(int size) {
-    return (GlideOptions) super.override(size);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions signature(@NonNull Key key) {
-    return (GlideOptions) super.signature(key);
-  }
-
-  @Override
-  @CheckResult
-  public final GlideOptions clone() {
-    return (GlideOptions) super.clone();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions set(@NonNull Option<T> option, @NonNull T t) {
-    return (GlideOptions) super.set(option, t);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions decode(@NonNull Class<?> clazz) {
-    return (GlideOptions) super.decode(clazz);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    return (GlideOptions) super.encodeFormat(format);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    return (GlideOptions) super.encodeQuality(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions frame(@IntRange(from = 0) long value) {
-    return (GlideOptions) super.frame(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions format(@NonNull DecodeFormat format) {
-    return (GlideOptions) super.format(format);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions disallowHardwareConfig() {
-    return (GlideOptions) super.disallowHardwareConfig();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
-    return (GlideOptions) super.downsample(strategy);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions timeout(@IntRange(from = 0) int value) {
-    return (GlideOptions) super.timeout(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCenterCrop() {
-    return (GlideOptions) super.optionalCenterCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalFitCenter() {
-    return (GlideOptions) super.optionalFitCenter();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fitCenter() {
-    return (GlideOptions) super.fitCenter();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCenterInside() {
-    return (GlideOptions) super.optionalCenterInside();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions centerInside() {
-    return (GlideOptions) super.centerInside();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCircleCrop() {
-    return (GlideOptions) super.optionalCircleCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions circleCrop() {
-    return (GlideOptions) super.circleCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
-    return (GlideOptions) super.transform(transformation);
-  }
-
-  @Override
-  @SafeVarargs
-  @SuppressWarnings("varargs")
-  @NonNull
-  @CheckResult
-  public final GlideOptions transforms(@NonNull Transformation<Bitmap>... transformations) {
-    return (GlideOptions) super.transforms(transformations);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    return (GlideOptions) super.optionalTransform(transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    return (GlideOptions) super.optionalTransform(clazz, transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    return (GlideOptions) super.transform(clazz, transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions dontTransform() {
-    return (GlideOptions) super.dontTransform();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions dontAnimate() {
-    return (GlideOptions) super.dontAnimate();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions apply(@NonNull RequestOptions options) {
-    return (GlideOptions) super.apply(options);
-  }
-
-  @Override
-  @NonNull
-  public final GlideOptions lock() {
-    return (GlideOptions) super.lock();
-  }
-
-  @Override
-  @NonNull
-  public final GlideOptions autoClone() {
-    return (GlideOptions) super.autoClone();
-  }
-
-  /**
-   * @see Extension#centerCrop(RequestOptions)
-   * @see RequestOptions#centerCrop()
-   */
-  @Override
-  @CheckResult
-  @NonNull
-  public GlideOptions centerCrop() {
-    if (isAutoCloneEnabled()) {
-      return clone().centerCrop();
-    }
-    super.centerCrop();
-    Extension.centerCrop(this);
-    return this;
-  }
-
-  /**
-   * @see Extension#centerCrop(RequestOptions)
-   */
-  @CheckResult
-  public static GlideOptions centerCropOf() {
-    return new GlideOptions().centerCrop();
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideExtend/GlideRequest.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideExtend/GlideRequest.java
deleted file mode 100644
index d47ee2740..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideExtend/GlideRequest.java
+++ /dev/null
@@ -1,770 +0,0 @@
-package com.bumptech.glide.test;
-
-import android.content.Context;
-import android.content.res.Resources;
-import android.graphics.Bitmap;
-import android.graphics.drawable.Drawable;
-import android.net.Uri;
-import android.support.annotation.CheckResult;
-import android.support.annotation.DrawableRes;
-import android.support.annotation.FloatRange;
-import android.support.annotation.IntRange;
-import android.support.annotation.NonNull;
-import android.support.annotation.Nullable;
-import android.support.annotation.RawRes;
-import com.bumptech.glide.Glide;
-import com.bumptech.glide.Priority;
-import com.bumptech.glide.RequestBuilder;
-import com.bumptech.glide.RequestManager;
-import com.bumptech.glide.TransitionOptions;
-import com.bumptech.glide.load.DecodeFormat;
-import com.bumptech.glide.load.Key;
-import com.bumptech.glide.load.Option;
-import com.bumptech.glide.load.Transformation;
-import com.bumptech.glide.load.engine.DiskCacheStrategy;
-import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
-import com.bumptech.glide.request.RequestListener;
-import com.bumptech.glide.request.RequestOptions;
-import java.io.File;
-import java.lang.Class;
-import java.lang.Cloneable;
-import java.lang.Deprecated;
-import java.lang.Integer;
-import java.lang.Object;
-import java.lang.Override;
-import java.lang.SafeVarargs;
-import java.lang.String;
-import java.lang.SuppressWarnings;
-import java.net.URL;
-
-/**
- * Contains all public methods from {@link RequestBuilder<TranscodeType>}, all options from
- * {@link RequestOptions} and all generated options from
- * {@link com.bumptech.glide.annotation.GlideOption} in annotated methods in
- * {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
- *
- * <p>Generated code, do not modify.
- *
- * @see RequestBuilder<TranscodeType>
- * @see RequestOptions
- */
-@SuppressWarnings({
-    "unused",
-    "deprecation"
-})
-public class GlideRequest<TranscodeType> extends RequestBuilder<TranscodeType> implements Cloneable {
-  GlideRequest(@NonNull Class<TranscodeType> transcodeClass, @NonNull RequestBuilder<?> other) {
-    super(transcodeClass, other);
-  }
-
-  GlideRequest(@NonNull Glide glide, @NonNull RequestManager requestManager,
-      @NonNull Class<TranscodeType> transcodeClass, @NonNull Context context) {
-    super(glide, requestManager ,transcodeClass, context);
-  }
-
-  @Override
-  @CheckResult
-  @NonNull
-  protected GlideRequest<File> getDownloadOnlyRequest() {
-    return new GlideRequest<>(File.class, this).apply(DOWNLOAD_ONLY_OPTIONS);
-  }
-
-  /**
-   * @see GlideOptions#sizeMultiplier(float)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).sizeMultiplier(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).sizeMultiplier(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#useUnlimitedSourceGeneratorsPool(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> useUnlimitedSourceGeneratorsPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useUnlimitedSourceGeneratorsPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useUnlimitedSourceGeneratorsPool(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#useAnimationPool(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> useAnimationPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useAnimationPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useAnimationPool(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#onlyRetrieveFromCache(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> onlyRetrieveFromCache(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).onlyRetrieveFromCache(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).onlyRetrieveFromCache(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#diskCacheStrategy(DiskCacheStrategy)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).diskCacheStrategy(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).diskCacheStrategy(strategy);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#priority(Priority)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> priority(@NonNull Priority priority) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).priority(priority);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).priority(priority);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#placeholder(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> placeholder(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#placeholder(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> placeholder(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fallback(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fallback(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fallback(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fallback(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#error(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> error(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#error(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> error(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#theme(Resources.Theme)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> theme(@Nullable Resources.Theme theme) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).theme(theme);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).theme(theme);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#skipMemoryCache(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> skipMemoryCache(boolean skip) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).skipMemoryCache(skip);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).skipMemoryCache(skip);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#override(int, int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> override(int width, int height) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(width, height);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(width, height);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#override(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> override(int size) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(size);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(size);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#signature(Key)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> signature(@NonNull Key key) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).signature(key);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).signature(key);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#set(Option<T>, T)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> set(@NonNull Option<T> option, @NonNull T t) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).set(option, t);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).set(option, t);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#decode(Class<?>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> decode(@NonNull Class<?> clazz) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).decode(clazz);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).decode(clazz);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#encodeFormat(Bitmap.CompressFormat)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeFormat(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeFormat(format);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#encodeQuality(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeQuality(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeQuality(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#frame(long)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> frame(@IntRange(from = 0) long value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).frame(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).frame(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#format(DecodeFormat)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> format(@NonNull DecodeFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).format(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).format(format);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#disallowHardwareConfig()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> disallowHardwareConfig() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).disallowHardwareConfig();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).disallowHardwareConfig();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#downsample(DownsampleStrategy)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> downsample(@NonNull DownsampleStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).downsample(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).downsample(strategy);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#timeout(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> timeout(@IntRange(from = 0) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).timeout(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).timeout(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCenterCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCenterCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalFitCenter()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalFitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalFitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalFitCenter();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fitCenter()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fitCenter();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCenterInside()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCenterInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterInside();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#centerInside()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> centerInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerInside();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCircleCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCircleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCircleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCircleCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#circleCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> circleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).circleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).circleCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transform(Transformation<Bitmap>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> transform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transforms(Transformation<Bitmap>[])
-   */
-  @NonNull
-  @CheckResult
-  @SuppressWarnings({
-      "unchecked",
-      "varargs"
-  })
-  public GlideRequest<TranscodeType> transforms(@NonNull Transformation<Bitmap>... transformations) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transforms(transformations);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transforms(transformations);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalTransform(Transformation<Bitmap>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalTransform(Class<T>, Transformation<T>)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(clazz, transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transform(Class<T>, Transformation<T>)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(clazz, transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#dontTransform()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> dontTransform() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontTransform();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontTransform();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#dontAnimate()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> dontAnimate() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontAnimate();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontAnimate();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#centerCrop()
-   */
-  @CheckResult
-  @NonNull
-  public GlideRequest<TranscodeType> centerCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerCrop();
-    }
-    return this;
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> apply(@NonNull RequestOptions options) {
-    return (GlideRequest<TranscodeType>) super.apply(options);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> transition(@NonNull TransitionOptions<?, ? super TranscodeType> options) {
-    return (GlideRequest<TranscodeType>) super.transition(options);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> listener(@Nullable RequestListener<TranscodeType> listener) {
-    return (GlideRequest<TranscodeType>) super.listener(listener);
-  }
-
-  @Override
-  @NonNull
-  public GlideRequest<TranscodeType> error(@Nullable RequestBuilder<TranscodeType> builder) {
-    return (GlideRequest<TranscodeType>) super.error(builder);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> thumbnail(@Nullable RequestBuilder<TranscodeType> builder) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(builder);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  @SafeVarargs
-  @SuppressWarnings("varargs")
-  public final GlideRequest<TranscodeType> thumbnail(@Nullable RequestBuilder<TranscodeType>... builders) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(builders);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> thumbnail(float sizeMultiplier) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(sizeMultiplier);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Object o) {
-    return (GlideRequest<TranscodeType>) super.load(o);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Bitmap bitmap) {
-    return (GlideRequest<TranscodeType>) super.load(bitmap);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Drawable drawable) {
-    return (GlideRequest<TranscodeType>) super.load(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable String string) {
-    return (GlideRequest<TranscodeType>) super.load(string);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Uri uri) {
-    return (GlideRequest<TranscodeType>) super.load(uri);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable File file) {
-    return (GlideRequest<TranscodeType>) super.load(file);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@RawRes @DrawableRes @Nullable Integer id) {
-    return (GlideRequest<TranscodeType>) super.load(id);
-  }
-
-  @Override
-  @Deprecated
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable URL url) {
-    return (GlideRequest<TranscodeType>) super.load(url);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable byte[] bytes) {
-    return (GlideRequest<TranscodeType>) super.load(bytes);
-  }
-
-  @Override
-  @CheckResult
-  public GlideRequest<TranscodeType> clone() {
-    return (GlideRequest<TranscodeType>) super.clone();
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideReplace/Extension.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideReplace/Extension.java
deleted file mode 100644
index 591f857f2..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideReplace/Extension.java
+++ /dev/null
@@ -1,18 +0,0 @@
-package com.bumptech.glide.test;
-
-import com.bumptech.glide.annotation.GlideExtension;
-import com.bumptech.glide.annotation.GlideOption;
-import com.bumptech.glide.request.RequestOptions;
-
-@GlideExtension
-public final class Extension {
-
-  private Extension() {
-    // Utility class.
-  }
-
-  @GlideOption(override = GlideOption.OVERRIDE_REPLACE)
-  public static void centerCrop(RequestOptions requestOptions) {
-    requestOptions.centerCrop();
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideReplace/GlideOptions.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideReplace/GlideOptions.java
deleted file mode 100644
index 5474f2008..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideReplace/GlideOptions.java
+++ /dev/null
@@ -1,634 +0,0 @@
-package com.bumptech.glide.test;
-
-import android.content.res.Resources;
-import android.graphics.Bitmap;
-import android.graphics.drawable.Drawable;
-import android.support.annotation.CheckResult;
-import android.support.annotation.DrawableRes;
-import android.support.annotation.FloatRange;
-import android.support.annotation.IntRange;
-import android.support.annotation.NonNull;
-import android.support.annotation.Nullable;
-import com.bumptech.glide.Priority;
-import com.bumptech.glide.load.DecodeFormat;
-import com.bumptech.glide.load.Key;
-import com.bumptech.glide.load.Option;
-import com.bumptech.glide.load.Transformation;
-import com.bumptech.glide.load.engine.DiskCacheStrategy;
-import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
-import com.bumptech.glide.request.RequestOptions;
-import java.lang.Class;
-import java.lang.Cloneable;
-import java.lang.Override;
-import java.lang.SafeVarargs;
-import java.lang.SuppressWarnings;
-
-/**
- * Automatically generated from {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
- *
- * @see RequestOptions
- * @see Extension
- */
-@SuppressWarnings("deprecation")
-public final class GlideOptions extends RequestOptions implements Cloneable {
-  private static GlideOptions fitCenterTransform0;
-
-  private static GlideOptions centerInsideTransform1;
-
-  private static GlideOptions centerCropTransform2;
-
-  private static GlideOptions circleCropTransform3;
-
-  private static GlideOptions noTransformation4;
-
-  private static GlideOptions noAnimation5;
-
-  /**
-   * @see RequestOptions#sizeMultiplierOf(float)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions sizeMultiplierOf(@FloatRange(from = 0.0, to = 1.0) float value) {
-    return new GlideOptions().sizeMultiplier(value);
-  }
-
-  /**
-   * @see RequestOptions#diskCacheStrategyOf(DiskCacheStrategy)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions diskCacheStrategyOf(@NonNull DiskCacheStrategy strategy) {
-    return new GlideOptions().diskCacheStrategy(strategy);
-  }
-
-  /**
-   * @see RequestOptions#priorityOf(Priority)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions priorityOf(@NonNull Priority priority) {
-    return new GlideOptions().priority(priority);
-  }
-
-  /**
-   * @see RequestOptions#placeholderOf(Drawable)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions placeholderOf(@Nullable Drawable drawable) {
-    return new GlideOptions().placeholder(drawable);
-  }
-
-  /**
-   * @see RequestOptions#placeholderOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions placeholderOf(@DrawableRes int id) {
-    return new GlideOptions().placeholder(id);
-  }
-
-  /**
-   * @see RequestOptions#errorOf(Drawable)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions errorOf(@Nullable Drawable drawable) {
-    return new GlideOptions().error(drawable);
-  }
-
-  /**
-   * @see RequestOptions#errorOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions errorOf(@DrawableRes int id) {
-    return new GlideOptions().error(id);
-  }
-
-  /**
-   * @see RequestOptions#skipMemoryCacheOf(boolean)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions skipMemoryCacheOf(boolean skipMemoryCache) {
-    return new GlideOptions().skipMemoryCache(skipMemoryCache);
-  }
-
-  /**
-   * @see RequestOptions#overrideOf(int, int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions overrideOf(@IntRange(from = 0) int value0,
-      @IntRange(from = 0) int value1) {
-    return new GlideOptions().override(value0, value1);
-  }
-
-  /**
-   * @see RequestOptions#overrideOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions overrideOf(@IntRange(from = 0) int value) {
-    return new GlideOptions().override(value);
-  }
-
-  /**
-   * @see RequestOptions#signatureOf(Key)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions signatureOf(@NonNull Key key) {
-    return new GlideOptions().signature(key);
-  }
-
-  /**
-   * @see RequestOptions#fitCenterTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions fitCenterTransform() {
-    if (GlideOptions.fitCenterTransform0 == null) {
-      GlideOptions.fitCenterTransform0 =
-          new GlideOptions().fitCenter().autoClone();
-    }
-    return GlideOptions.fitCenterTransform0;
-  }
-
-  /**
-   * @see RequestOptions#centerInsideTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions centerInsideTransform() {
-    if (GlideOptions.centerInsideTransform1 == null) {
-      GlideOptions.centerInsideTransform1 =
-          new GlideOptions().centerInside().autoClone();
-    }
-    return GlideOptions.centerInsideTransform1;
-  }
-
-  /**
-   * @see RequestOptions#centerCropTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions centerCropTransform() {
-    if (GlideOptions.centerCropTransform2 == null) {
-      GlideOptions.centerCropTransform2 =
-          new GlideOptions().centerCrop().autoClone();
-    }
-    return GlideOptions.centerCropTransform2;
-  }
-
-  /**
-   * @see RequestOptions#circleCropTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions circleCropTransform() {
-    if (GlideOptions.circleCropTransform3 == null) {
-      GlideOptions.circleCropTransform3 =
-          new GlideOptions().circleCrop().autoClone();
-    }
-    return GlideOptions.circleCropTransform3;
-  }
-
-  /**
-   * @see RequestOptions#bitmapTransform(Transformation)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions bitmapTransform(@NonNull Transformation<Bitmap> transformation) {
-    return new GlideOptions().transform(transformation);
-  }
-
-  /**
-   * @see RequestOptions#noTransformation()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions noTransformation() {
-    if (GlideOptions.noTransformation4 == null) {
-      GlideOptions.noTransformation4 =
-          new GlideOptions().dontTransform().autoClone();
-    }
-    return GlideOptions.noTransformation4;
-  }
-
-  /**
-   * @see RequestOptions#option(Option, T)
-   */
-  @CheckResult
-  @NonNull
-  public static <T> GlideOptions option(@NonNull Option<T> option, @NonNull T t) {
-    return new GlideOptions().set(option, t);
-  }
-
-  /**
-   * @see RequestOptions#decodeTypeOf(Class)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions decodeTypeOf(@NonNull Class<?> clazz) {
-    return new GlideOptions().decode(clazz);
-  }
-
-  /**
-   * @see RequestOptions#formatOf(DecodeFormat)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions formatOf(@NonNull DecodeFormat format) {
-    return new GlideOptions().format(format);
-  }
-
-  /**
-   * @see RequestOptions#frameOf(long)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions frameOf(@IntRange(from = 0) long value) {
-    return new GlideOptions().frame(value);
-  }
-
-  /**
-   * @see RequestOptions#downsampleOf(DownsampleStrategy)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions downsampleOf(@NonNull DownsampleStrategy strategy) {
-    return new GlideOptions().downsample(strategy);
-  }
-
-  /**
-   * @see RequestOptions#timeoutOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions timeoutOf(@IntRange(from = 0) int value) {
-    return new GlideOptions().timeout(value);
-  }
-
-  /**
-   * @see RequestOptions#encodeQualityOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions encodeQualityOf(@IntRange(from = 0, to = 100) int value) {
-    return new GlideOptions().encodeQuality(value);
-  }
-
-  /**
-   * @see RequestOptions#encodeFormatOf(CompressFormat)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions encodeFormatOf(@NonNull Bitmap.CompressFormat format) {
-    return new GlideOptions().encodeFormat(format);
-  }
-
-  /**
-   * @see RequestOptions#noAnimation()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions noAnimation() {
-    if (GlideOptions.noAnimation5 == null) {
-      GlideOptions.noAnimation5 =
-          new GlideOptions().dontAnimate().autoClone();
-    }
-    return GlideOptions.noAnimation5;
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    return (GlideOptions) super.sizeMultiplier(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
-    return (GlideOptions) super.useUnlimitedSourceGeneratorsPool(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions useAnimationPool(boolean flag) {
-    return (GlideOptions) super.useAnimationPool(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions onlyRetrieveFromCache(boolean flag) {
-    return (GlideOptions) super.onlyRetrieveFromCache(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    return (GlideOptions) super.diskCacheStrategy(strategy);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions priority(@NonNull Priority priority) {
-    return (GlideOptions) super.priority(priority);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions placeholder(@Nullable Drawable drawable) {
-    return (GlideOptions) super.placeholder(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions placeholder(@DrawableRes int id) {
-    return (GlideOptions) super.placeholder(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fallback(@Nullable Drawable drawable) {
-    return (GlideOptions) super.fallback(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fallback(@DrawableRes int id) {
-    return (GlideOptions) super.fallback(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions error(@Nullable Drawable drawable) {
-    return (GlideOptions) super.error(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions error(@DrawableRes int id) {
-    return (GlideOptions) super.error(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions theme(@Nullable Resources.Theme theme) {
-    return (GlideOptions) super.theme(theme);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions skipMemoryCache(boolean skip) {
-    return (GlideOptions) super.skipMemoryCache(skip);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions override(int width, int height) {
-    return (GlideOptions) super.override(width, height);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions override(int size) {
-    return (GlideOptions) super.override(size);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions signature(@NonNull Key key) {
-    return (GlideOptions) super.signature(key);
-  }
-
-  @Override
-  @CheckResult
-  public final GlideOptions clone() {
-    return (GlideOptions) super.clone();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions set(@NonNull Option<T> option, @NonNull T t) {
-    return (GlideOptions) super.set(option, t);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions decode(@NonNull Class<?> clazz) {
-    return (GlideOptions) super.decode(clazz);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    return (GlideOptions) super.encodeFormat(format);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    return (GlideOptions) super.encodeQuality(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions frame(@IntRange(from = 0) long value) {
-    return (GlideOptions) super.frame(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions format(@NonNull DecodeFormat format) {
-    return (GlideOptions) super.format(format);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions disallowHardwareConfig() {
-    return (GlideOptions) super.disallowHardwareConfig();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
-    return (GlideOptions) super.downsample(strategy);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions timeout(@IntRange(from = 0) int value) {
-    return (GlideOptions) super.timeout(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCenterCrop() {
-    return (GlideOptions) super.optionalCenterCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalFitCenter() {
-    return (GlideOptions) super.optionalFitCenter();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fitCenter() {
-    return (GlideOptions) super.fitCenter();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCenterInside() {
-    return (GlideOptions) super.optionalCenterInside();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions centerInside() {
-    return (GlideOptions) super.centerInside();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCircleCrop() {
-    return (GlideOptions) super.optionalCircleCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions circleCrop() {
-    return (GlideOptions) super.circleCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
-    return (GlideOptions) super.transform(transformation);
-  }
-
-  @Override
-  @SafeVarargs
-  @SuppressWarnings("varargs")
-  @NonNull
-  @CheckResult
-  public final GlideOptions transforms(@NonNull Transformation<Bitmap>... transformations) {
-    return (GlideOptions) super.transforms(transformations);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    return (GlideOptions) super.optionalTransform(transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    return (GlideOptions) super.optionalTransform(clazz, transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    return (GlideOptions) super.transform(clazz, transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions dontTransform() {
-    return (GlideOptions) super.dontTransform();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions dontAnimate() {
-    return (GlideOptions) super.dontAnimate();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions apply(@NonNull RequestOptions options) {
-    return (GlideOptions) super.apply(options);
-  }
-
-  @Override
-  @NonNull
-  public final GlideOptions lock() {
-    return (GlideOptions) super.lock();
-  }
-
-  @Override
-  @NonNull
-  public final GlideOptions autoClone() {
-    return (GlideOptions) super.autoClone();
-  }
-
-  /**
-   * @see Extension#centerCrop(RequestOptions)
-   */
-  @CheckResult
-  @NonNull
-  public GlideOptions centerCrop() {
-    if (isAutoCloneEnabled()) {
-      return clone().centerCrop();
-    }
-    Extension.centerCrop(this);
-    return this;
-  }
-
-  /**
-   * @see Extension#centerCrop(RequestOptions)
-   */
-  @CheckResult
-  public static GlideOptions centerCropOf() {
-    return new GlideOptions().centerCrop();
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideReplace/GlideRequest.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideReplace/GlideRequest.java
deleted file mode 100644
index d47ee2740..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/OverrideReplace/GlideRequest.java
+++ /dev/null
@@ -1,770 +0,0 @@
-package com.bumptech.glide.test;
-
-import android.content.Context;
-import android.content.res.Resources;
-import android.graphics.Bitmap;
-import android.graphics.drawable.Drawable;
-import android.net.Uri;
-import android.support.annotation.CheckResult;
-import android.support.annotation.DrawableRes;
-import android.support.annotation.FloatRange;
-import android.support.annotation.IntRange;
-import android.support.annotation.NonNull;
-import android.support.annotation.Nullable;
-import android.support.annotation.RawRes;
-import com.bumptech.glide.Glide;
-import com.bumptech.glide.Priority;
-import com.bumptech.glide.RequestBuilder;
-import com.bumptech.glide.RequestManager;
-import com.bumptech.glide.TransitionOptions;
-import com.bumptech.glide.load.DecodeFormat;
-import com.bumptech.glide.load.Key;
-import com.bumptech.glide.load.Option;
-import com.bumptech.glide.load.Transformation;
-import com.bumptech.glide.load.engine.DiskCacheStrategy;
-import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
-import com.bumptech.glide.request.RequestListener;
-import com.bumptech.glide.request.RequestOptions;
-import java.io.File;
-import java.lang.Class;
-import java.lang.Cloneable;
-import java.lang.Deprecated;
-import java.lang.Integer;
-import java.lang.Object;
-import java.lang.Override;
-import java.lang.SafeVarargs;
-import java.lang.String;
-import java.lang.SuppressWarnings;
-import java.net.URL;
-
-/**
- * Contains all public methods from {@link RequestBuilder<TranscodeType>}, all options from
- * {@link RequestOptions} and all generated options from
- * {@link com.bumptech.glide.annotation.GlideOption} in annotated methods in
- * {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
- *
- * <p>Generated code, do not modify.
- *
- * @see RequestBuilder<TranscodeType>
- * @see RequestOptions
- */
-@SuppressWarnings({
-    "unused",
-    "deprecation"
-})
-public class GlideRequest<TranscodeType> extends RequestBuilder<TranscodeType> implements Cloneable {
-  GlideRequest(@NonNull Class<TranscodeType> transcodeClass, @NonNull RequestBuilder<?> other) {
-    super(transcodeClass, other);
-  }
-
-  GlideRequest(@NonNull Glide glide, @NonNull RequestManager requestManager,
-      @NonNull Class<TranscodeType> transcodeClass, @NonNull Context context) {
-    super(glide, requestManager ,transcodeClass, context);
-  }
-
-  @Override
-  @CheckResult
-  @NonNull
-  protected GlideRequest<File> getDownloadOnlyRequest() {
-    return new GlideRequest<>(File.class, this).apply(DOWNLOAD_ONLY_OPTIONS);
-  }
-
-  /**
-   * @see GlideOptions#sizeMultiplier(float)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).sizeMultiplier(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).sizeMultiplier(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#useUnlimitedSourceGeneratorsPool(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> useUnlimitedSourceGeneratorsPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useUnlimitedSourceGeneratorsPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useUnlimitedSourceGeneratorsPool(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#useAnimationPool(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> useAnimationPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useAnimationPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useAnimationPool(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#onlyRetrieveFromCache(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> onlyRetrieveFromCache(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).onlyRetrieveFromCache(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).onlyRetrieveFromCache(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#diskCacheStrategy(DiskCacheStrategy)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).diskCacheStrategy(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).diskCacheStrategy(strategy);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#priority(Priority)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> priority(@NonNull Priority priority) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).priority(priority);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).priority(priority);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#placeholder(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> placeholder(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#placeholder(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> placeholder(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fallback(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fallback(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fallback(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fallback(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#error(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> error(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#error(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> error(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#theme(Resources.Theme)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> theme(@Nullable Resources.Theme theme) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).theme(theme);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).theme(theme);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#skipMemoryCache(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> skipMemoryCache(boolean skip) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).skipMemoryCache(skip);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).skipMemoryCache(skip);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#override(int, int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> override(int width, int height) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(width, height);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(width, height);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#override(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> override(int size) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(size);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(size);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#signature(Key)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> signature(@NonNull Key key) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).signature(key);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).signature(key);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#set(Option<T>, T)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> set(@NonNull Option<T> option, @NonNull T t) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).set(option, t);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).set(option, t);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#decode(Class<?>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> decode(@NonNull Class<?> clazz) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).decode(clazz);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).decode(clazz);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#encodeFormat(Bitmap.CompressFormat)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeFormat(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeFormat(format);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#encodeQuality(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeQuality(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeQuality(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#frame(long)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> frame(@IntRange(from = 0) long value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).frame(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).frame(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#format(DecodeFormat)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> format(@NonNull DecodeFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).format(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).format(format);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#disallowHardwareConfig()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> disallowHardwareConfig() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).disallowHardwareConfig();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).disallowHardwareConfig();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#downsample(DownsampleStrategy)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> downsample(@NonNull DownsampleStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).downsample(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).downsample(strategy);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#timeout(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> timeout(@IntRange(from = 0) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).timeout(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).timeout(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCenterCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCenterCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalFitCenter()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalFitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalFitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalFitCenter();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fitCenter()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fitCenter();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCenterInside()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCenterInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterInside();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#centerInside()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> centerInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerInside();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCircleCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCircleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCircleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCircleCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#circleCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> circleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).circleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).circleCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transform(Transformation<Bitmap>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> transform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transforms(Transformation<Bitmap>[])
-   */
-  @NonNull
-  @CheckResult
-  @SuppressWarnings({
-      "unchecked",
-      "varargs"
-  })
-  public GlideRequest<TranscodeType> transforms(@NonNull Transformation<Bitmap>... transformations) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transforms(transformations);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transforms(transformations);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalTransform(Transformation<Bitmap>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalTransform(Class<T>, Transformation<T>)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(clazz, transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transform(Class<T>, Transformation<T>)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(clazz, transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#dontTransform()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> dontTransform() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontTransform();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontTransform();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#dontAnimate()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> dontAnimate() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontAnimate();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontAnimate();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#centerCrop()
-   */
-  @CheckResult
-  @NonNull
-  public GlideRequest<TranscodeType> centerCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerCrop();
-    }
-    return this;
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> apply(@NonNull RequestOptions options) {
-    return (GlideRequest<TranscodeType>) super.apply(options);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> transition(@NonNull TransitionOptions<?, ? super TranscodeType> options) {
-    return (GlideRequest<TranscodeType>) super.transition(options);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> listener(@Nullable RequestListener<TranscodeType> listener) {
-    return (GlideRequest<TranscodeType>) super.listener(listener);
-  }
-
-  @Override
-  @NonNull
-  public GlideRequest<TranscodeType> error(@Nullable RequestBuilder<TranscodeType> builder) {
-    return (GlideRequest<TranscodeType>) super.error(builder);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> thumbnail(@Nullable RequestBuilder<TranscodeType> builder) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(builder);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  @SafeVarargs
-  @SuppressWarnings("varargs")
-  public final GlideRequest<TranscodeType> thumbnail(@Nullable RequestBuilder<TranscodeType>... builders) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(builders);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> thumbnail(float sizeMultiplier) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(sizeMultiplier);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Object o) {
-    return (GlideRequest<TranscodeType>) super.load(o);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Bitmap bitmap) {
-    return (GlideRequest<TranscodeType>) super.load(bitmap);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Drawable drawable) {
-    return (GlideRequest<TranscodeType>) super.load(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable String string) {
-    return (GlideRequest<TranscodeType>) super.load(string);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Uri uri) {
-    return (GlideRequest<TranscodeType>) super.load(uri);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable File file) {
-    return (GlideRequest<TranscodeType>) super.load(file);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@RawRes @DrawableRes @Nullable Integer id) {
-    return (GlideRequest<TranscodeType>) super.load(id);
-  }
-
-  @Override
-  @Deprecated
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable URL url) {
-    return (GlideRequest<TranscodeType>) super.load(url);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable byte[] bytes) {
-    return (GlideRequest<TranscodeType>) super.load(bytes);
-  }
-
-  @Override
-  @CheckResult
-  public GlideRequest<TranscodeType> clone() {
-    return (GlideRequest<TranscodeType>) super.clone();
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/SkipStaticMethod/Extension.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/SkipStaticMethod/Extension.java
deleted file mode 100644
index 448a02b74..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/SkipStaticMethod/Extension.java
+++ /dev/null
@@ -1,18 +0,0 @@
-package com.bumptech.glide.test;
-
-import com.bumptech.glide.annotation.GlideExtension;
-import com.bumptech.glide.annotation.GlideOption;
-import com.bumptech.glide.request.RequestOptions;
-
-@GlideExtension
-public final class Extension {
-
-  private Extension() {
-    // Utility class.
-  }
-
-  @GlideOption(skipStaticMethod = true)
-  public static void test(RequestOptions requestOptions) {
-    requestOptions.centerCrop();
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/SkipStaticMethod/GlideOptions.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/SkipStaticMethod/GlideOptions.java
deleted file mode 100644
index 3e78d0ad4..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/SkipStaticMethod/GlideOptions.java
+++ /dev/null
@@ -1,633 +0,0 @@
-package com.bumptech.glide.test;
-
-import android.content.res.Resources;
-import android.graphics.Bitmap;
-import android.graphics.drawable.Drawable;
-import android.support.annotation.CheckResult;
-import android.support.annotation.DrawableRes;
-import android.support.annotation.FloatRange;
-import android.support.annotation.IntRange;
-import android.support.annotation.NonNull;
-import android.support.annotation.Nullable;
-import com.bumptech.glide.Priority;
-import com.bumptech.glide.load.DecodeFormat;
-import com.bumptech.glide.load.Key;
-import com.bumptech.glide.load.Option;
-import com.bumptech.glide.load.Transformation;
-import com.bumptech.glide.load.engine.DiskCacheStrategy;
-import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
-import com.bumptech.glide.request.RequestOptions;
-import java.lang.Class;
-import java.lang.Cloneable;
-import java.lang.Override;
-import java.lang.SafeVarargs;
-import java.lang.SuppressWarnings;
-
-/**
- * Automatically generated from {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
- *
- * @see RequestOptions
- * @see Extension
- */
-@SuppressWarnings("deprecation")
-public final class GlideOptions extends RequestOptions implements Cloneable {
-  private static GlideOptions fitCenterTransform0;
-
-  private static GlideOptions centerInsideTransform1;
-
-  private static GlideOptions centerCropTransform2;
-
-  private static GlideOptions circleCropTransform3;
-
-  private static GlideOptions noTransformation4;
-
-  private static GlideOptions noAnimation5;
-
-  /**
-   * @see RequestOptions#sizeMultiplierOf(float)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions sizeMultiplierOf(@FloatRange(from = 0.0, to = 1.0) float value) {
-    return new GlideOptions().sizeMultiplier(value);
-  }
-
-  /**
-   * @see RequestOptions#diskCacheStrategyOf(DiskCacheStrategy)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions diskCacheStrategyOf(@NonNull DiskCacheStrategy strategy) {
-    return new GlideOptions().diskCacheStrategy(strategy);
-  }
-
-  /**
-   * @see RequestOptions#priorityOf(Priority)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions priorityOf(@NonNull Priority priority) {
-    return new GlideOptions().priority(priority);
-  }
-
-  /**
-   * @see RequestOptions#placeholderOf(Drawable)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions placeholderOf(@Nullable Drawable drawable) {
-    return new GlideOptions().placeholder(drawable);
-  }
-
-  /**
-   * @see RequestOptions#placeholderOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions placeholderOf(@DrawableRes int id) {
-    return new GlideOptions().placeholder(id);
-  }
-
-  /**
-   * @see RequestOptions#errorOf(Drawable)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions errorOf(@Nullable Drawable drawable) {
-    return new GlideOptions().error(drawable);
-  }
-
-  /**
-   * @see RequestOptions#errorOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions errorOf(@DrawableRes int id) {
-    return new GlideOptions().error(id);
-  }
-
-  /**
-   * @see RequestOptions#skipMemoryCacheOf(boolean)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions skipMemoryCacheOf(boolean skipMemoryCache) {
-    return new GlideOptions().skipMemoryCache(skipMemoryCache);
-  }
-
-  /**
-   * @see RequestOptions#overrideOf(int, int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions overrideOf(@IntRange(from = 0) int value0,
-      @IntRange(from = 0) int value1) {
-    return new GlideOptions().override(value0, value1);
-  }
-
-  /**
-   * @see RequestOptions#overrideOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions overrideOf(@IntRange(from = 0) int value) {
-    return new GlideOptions().override(value);
-  }
-
-  /**
-   * @see RequestOptions#signatureOf(Key)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions signatureOf(@NonNull Key key) {
-    return new GlideOptions().signature(key);
-  }
-
-  /**
-   * @see RequestOptions#fitCenterTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions fitCenterTransform() {
-    if (GlideOptions.fitCenterTransform0 == null) {
-      GlideOptions.fitCenterTransform0 =
-          new GlideOptions().fitCenter().autoClone();
-    }
-    return GlideOptions.fitCenterTransform0;
-  }
-
-  /**
-   * @see RequestOptions#centerInsideTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions centerInsideTransform() {
-    if (GlideOptions.centerInsideTransform1 == null) {
-      GlideOptions.centerInsideTransform1 =
-          new GlideOptions().centerInside().autoClone();
-    }
-    return GlideOptions.centerInsideTransform1;
-  }
-
-  /**
-   * @see RequestOptions#centerCropTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions centerCropTransform() {
-    if (GlideOptions.centerCropTransform2 == null) {
-      GlideOptions.centerCropTransform2 =
-          new GlideOptions().centerCrop().autoClone();
-    }
-    return GlideOptions.centerCropTransform2;
-  }
-
-  /**
-   * @see RequestOptions#circleCropTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions circleCropTransform() {
-    if (GlideOptions.circleCropTransform3 == null) {
-      GlideOptions.circleCropTransform3 =
-          new GlideOptions().circleCrop().autoClone();
-    }
-    return GlideOptions.circleCropTransform3;
-  }
-
-  /**
-   * @see RequestOptions#bitmapTransform(Transformation)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions bitmapTransform(@NonNull Transformation<Bitmap> transformation) {
-    return new GlideOptions().transform(transformation);
-  }
-
-  /**
-   * @see RequestOptions#noTransformation()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions noTransformation() {
-    if (GlideOptions.noTransformation4 == null) {
-      GlideOptions.noTransformation4 =
-          new GlideOptions().dontTransform().autoClone();
-    }
-    return GlideOptions.noTransformation4;
-  }
-
-  /**
-   * @see RequestOptions#option(Option, T)
-   */
-  @CheckResult
-  @NonNull
-  public static <T> GlideOptions option(@NonNull Option<T> option, @NonNull T t) {
-    return new GlideOptions().set(option, t);
-  }
-
-  /**
-   * @see RequestOptions#decodeTypeOf(Class)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions decodeTypeOf(@NonNull Class<?> clazz) {
-    return new GlideOptions().decode(clazz);
-  }
-
-  /**
-   * @see RequestOptions#formatOf(DecodeFormat)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions formatOf(@NonNull DecodeFormat format) {
-    return new GlideOptions().format(format);
-  }
-
-  /**
-   * @see RequestOptions#frameOf(long)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions frameOf(@IntRange(from = 0) long value) {
-    return new GlideOptions().frame(value);
-  }
-
-  /**
-   * @see RequestOptions#downsampleOf(DownsampleStrategy)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions downsampleOf(@NonNull DownsampleStrategy strategy) {
-    return new GlideOptions().downsample(strategy);
-  }
-
-  /**
-   * @see RequestOptions#timeoutOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions timeoutOf(@IntRange(from = 0) int value) {
-    return new GlideOptions().timeout(value);
-  }
-
-  /**
-   * @see RequestOptions#encodeQualityOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions encodeQualityOf(@IntRange(from = 0, to = 100) int value) {
-    return new GlideOptions().encodeQuality(value);
-  }
-
-  /**
-   * @see RequestOptions#encodeFormatOf(CompressFormat)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions encodeFormatOf(@NonNull Bitmap.CompressFormat format) {
-    return new GlideOptions().encodeFormat(format);
-  }
-
-  /**
-   * @see RequestOptions#noAnimation()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions noAnimation() {
-    if (GlideOptions.noAnimation5 == null) {
-      GlideOptions.noAnimation5 =
-          new GlideOptions().dontAnimate().autoClone();
-    }
-    return GlideOptions.noAnimation5;
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    return (GlideOptions) super.sizeMultiplier(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
-    return (GlideOptions) super.useUnlimitedSourceGeneratorsPool(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions useAnimationPool(boolean flag) {
-    return (GlideOptions) super.useAnimationPool(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions onlyRetrieveFromCache(boolean flag) {
-    return (GlideOptions) super.onlyRetrieveFromCache(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    return (GlideOptions) super.diskCacheStrategy(strategy);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions priority(@NonNull Priority priority) {
-    return (GlideOptions) super.priority(priority);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions placeholder(@Nullable Drawable drawable) {
-    return (GlideOptions) super.placeholder(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions placeholder(@DrawableRes int id) {
-    return (GlideOptions) super.placeholder(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fallback(@Nullable Drawable drawable) {
-    return (GlideOptions) super.fallback(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fallback(@DrawableRes int id) {
-    return (GlideOptions) super.fallback(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions error(@Nullable Drawable drawable) {
-    return (GlideOptions) super.error(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions error(@DrawableRes int id) {
-    return (GlideOptions) super.error(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions theme(@Nullable Resources.Theme theme) {
-    return (GlideOptions) super.theme(theme);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions skipMemoryCache(boolean skip) {
-    return (GlideOptions) super.skipMemoryCache(skip);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions override(int width, int height) {
-    return (GlideOptions) super.override(width, height);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions override(int size) {
-    return (GlideOptions) super.override(size);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions signature(@NonNull Key key) {
-    return (GlideOptions) super.signature(key);
-  }
-
-  @Override
-  @CheckResult
-  public final GlideOptions clone() {
-    return (GlideOptions) super.clone();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions set(@NonNull Option<T> option, @NonNull T t) {
-    return (GlideOptions) super.set(option, t);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions decode(@NonNull Class<?> clazz) {
-    return (GlideOptions) super.decode(clazz);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    return (GlideOptions) super.encodeFormat(format);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    return (GlideOptions) super.encodeQuality(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions frame(@IntRange(from = 0) long value) {
-    return (GlideOptions) super.frame(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions format(@NonNull DecodeFormat format) {
-    return (GlideOptions) super.format(format);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions disallowHardwareConfig() {
-    return (GlideOptions) super.disallowHardwareConfig();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
-    return (GlideOptions) super.downsample(strategy);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions timeout(@IntRange(from = 0) int value) {
-    return (GlideOptions) super.timeout(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCenterCrop() {
-    return (GlideOptions) super.optionalCenterCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions centerCrop() {
-    return (GlideOptions) super.centerCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalFitCenter() {
-    return (GlideOptions) super.optionalFitCenter();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fitCenter() {
-    return (GlideOptions) super.fitCenter();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCenterInside() {
-    return (GlideOptions) super.optionalCenterInside();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions centerInside() {
-    return (GlideOptions) super.centerInside();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCircleCrop() {
-    return (GlideOptions) super.optionalCircleCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions circleCrop() {
-    return (GlideOptions) super.circleCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
-    return (GlideOptions) super.transform(transformation);
-  }
-
-  @Override
-  @SafeVarargs
-  @SuppressWarnings("varargs")
-  @NonNull
-  @CheckResult
-  public final GlideOptions transforms(@NonNull Transformation<Bitmap>... transformations) {
-    return (GlideOptions) super.transforms(transformations);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    return (GlideOptions) super.optionalTransform(transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    return (GlideOptions) super.optionalTransform(clazz, transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    return (GlideOptions) super.transform(clazz, transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions dontTransform() {
-    return (GlideOptions) super.dontTransform();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions dontAnimate() {
-    return (GlideOptions) super.dontAnimate();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions apply(@NonNull RequestOptions options) {
-    return (GlideOptions) super.apply(options);
-  }
-
-  @Override
-  @NonNull
-  public final GlideOptions lock() {
-    return (GlideOptions) super.lock();
-  }
-
-  @Override
-  @NonNull
-  public final GlideOptions autoClone() {
-    return (GlideOptions) super.autoClone();
-  }
-
-  /**
-   * @see Extension#test(RequestOptions)
-   */
-  @CheckResult
-  @NonNull
-  public GlideOptions test() {
-    if (isAutoCloneEnabled()) {
-      return clone().test();
-    }
-    Extension.test(this);
-    return this;
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/SkipStaticMethod/GlideRequest.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/SkipStaticMethod/GlideRequest.java
deleted file mode 100644
index c9124e93b..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/SkipStaticMethod/GlideRequest.java
+++ /dev/null
@@ -1,784 +0,0 @@
-package com.bumptech.glide.test;
-
-import android.content.Context;
-import android.content.res.Resources;
-import android.graphics.Bitmap;
-import android.graphics.drawable.Drawable;
-import android.net.Uri;
-import android.support.annotation.CheckResult;
-import android.support.annotation.DrawableRes;
-import android.support.annotation.FloatRange;
-import android.support.annotation.IntRange;
-import android.support.annotation.NonNull;
-import android.support.annotation.Nullable;
-import android.support.annotation.RawRes;
-import com.bumptech.glide.Glide;
-import com.bumptech.glide.Priority;
-import com.bumptech.glide.RequestBuilder;
-import com.bumptech.glide.RequestManager;
-import com.bumptech.glide.TransitionOptions;
-import com.bumptech.glide.load.DecodeFormat;
-import com.bumptech.glide.load.Key;
-import com.bumptech.glide.load.Option;
-import com.bumptech.glide.load.Transformation;
-import com.bumptech.glide.load.engine.DiskCacheStrategy;
-import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
-import com.bumptech.glide.request.RequestListener;
-import com.bumptech.glide.request.RequestOptions;
-import java.io.File;
-import java.lang.Class;
-import java.lang.Cloneable;
-import java.lang.Deprecated;
-import java.lang.Integer;
-import java.lang.Object;
-import java.lang.Override;
-import java.lang.SafeVarargs;
-import java.lang.String;
-import java.lang.SuppressWarnings;
-import java.net.URL;
-
-/**
- * Contains all public methods from {@link RequestBuilder<TranscodeType>}, all options from
- * {@link RequestOptions} and all generated options from
- * {@link com.bumptech.glide.annotation.GlideOption} in annotated methods in
- * {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
- *
- * <p>Generated code, do not modify.
- *
- * @see RequestBuilder<TranscodeType>
- * @see RequestOptions
- */
-@SuppressWarnings({
-    "unused",
-    "deprecation"
-})
-public class GlideRequest<TranscodeType> extends RequestBuilder<TranscodeType> implements Cloneable {
-  GlideRequest(@NonNull Class<TranscodeType> transcodeClass, @NonNull RequestBuilder<?> other) {
-    super(transcodeClass, other);
-  }
-
-  GlideRequest(@NonNull Glide glide, @NonNull RequestManager requestManager,
-      @NonNull Class<TranscodeType> transcodeClass, @NonNull Context context) {
-    super(glide, requestManager ,transcodeClass, context);
-  }
-
-  @Override
-  @CheckResult
-  @NonNull
-  protected GlideRequest<File> getDownloadOnlyRequest() {
-    return new GlideRequest<>(File.class, this).apply(DOWNLOAD_ONLY_OPTIONS);
-  }
-
-  /**
-   * @see GlideOptions#sizeMultiplier(float)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).sizeMultiplier(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).sizeMultiplier(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#useUnlimitedSourceGeneratorsPool(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> useUnlimitedSourceGeneratorsPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useUnlimitedSourceGeneratorsPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useUnlimitedSourceGeneratorsPool(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#useAnimationPool(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> useAnimationPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useAnimationPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useAnimationPool(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#onlyRetrieveFromCache(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> onlyRetrieveFromCache(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).onlyRetrieveFromCache(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).onlyRetrieveFromCache(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#diskCacheStrategy(DiskCacheStrategy)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).diskCacheStrategy(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).diskCacheStrategy(strategy);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#priority(Priority)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> priority(@NonNull Priority priority) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).priority(priority);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).priority(priority);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#placeholder(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> placeholder(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#placeholder(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> placeholder(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fallback(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fallback(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fallback(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fallback(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#error(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> error(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#error(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> error(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#theme(Resources.Theme)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> theme(@Nullable Resources.Theme theme) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).theme(theme);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).theme(theme);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#skipMemoryCache(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> skipMemoryCache(boolean skip) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).skipMemoryCache(skip);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).skipMemoryCache(skip);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#override(int, int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> override(int width, int height) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(width, height);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(width, height);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#override(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> override(int size) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(size);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(size);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#signature(Key)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> signature(@NonNull Key key) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).signature(key);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).signature(key);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#set(Option<T>, T)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> set(@NonNull Option<T> option, @NonNull T t) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).set(option, t);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).set(option, t);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#decode(Class<?>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> decode(@NonNull Class<?> clazz) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).decode(clazz);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).decode(clazz);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#encodeFormat(Bitmap.CompressFormat)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeFormat(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeFormat(format);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#encodeQuality(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeQuality(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeQuality(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#frame(long)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> frame(@IntRange(from = 0) long value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).frame(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).frame(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#format(DecodeFormat)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> format(@NonNull DecodeFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).format(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).format(format);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#disallowHardwareConfig()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> disallowHardwareConfig() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).disallowHardwareConfig();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).disallowHardwareConfig();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#downsample(DownsampleStrategy)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> downsample(@NonNull DownsampleStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).downsample(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).downsample(strategy);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#timeout(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> timeout(@IntRange(from = 0) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).timeout(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).timeout(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCenterCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCenterCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#centerCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> centerCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalFitCenter()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalFitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalFitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalFitCenter();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fitCenter()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fitCenter();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCenterInside()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCenterInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterInside();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#centerInside()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> centerInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerInside();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCircleCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCircleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCircleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCircleCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#circleCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> circleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).circleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).circleCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transform(Transformation<Bitmap>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> transform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transforms(Transformation<Bitmap>[])
-   */
-  @NonNull
-  @CheckResult
-  @SuppressWarnings({
-      "unchecked",
-      "varargs"
-  })
-  public GlideRequest<TranscodeType> transforms(@NonNull Transformation<Bitmap>... transformations) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transforms(transformations);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transforms(transformations);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalTransform(Transformation<Bitmap>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalTransform(Class<T>, Transformation<T>)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(clazz, transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transform(Class<T>, Transformation<T>)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(clazz, transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#dontTransform()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> dontTransform() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontTransform();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontTransform();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#dontAnimate()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> dontAnimate() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontAnimate();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontAnimate();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#test()
-   */
-  @CheckResult
-  @NonNull
-  public GlideRequest<TranscodeType> test() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).test();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).test();
-    }
-    return this;
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> apply(@NonNull RequestOptions options) {
-    return (GlideRequest<TranscodeType>) super.apply(options);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> transition(@NonNull TransitionOptions<?, ? super TranscodeType> options) {
-    return (GlideRequest<TranscodeType>) super.transition(options);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> listener(@Nullable RequestListener<TranscodeType> listener) {
-    return (GlideRequest<TranscodeType>) super.listener(listener);
-  }
-
-  @Override
-  @NonNull
-  public GlideRequest<TranscodeType> error(@Nullable RequestBuilder<TranscodeType> builder) {
-    return (GlideRequest<TranscodeType>) super.error(builder);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> thumbnail(@Nullable RequestBuilder<TranscodeType> builder) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(builder);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  @SafeVarargs
-  @SuppressWarnings("varargs")
-  public final GlideRequest<TranscodeType> thumbnail(@Nullable RequestBuilder<TranscodeType>... builders) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(builders);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> thumbnail(float sizeMultiplier) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(sizeMultiplier);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Object o) {
-    return (GlideRequest<TranscodeType>) super.load(o);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Bitmap bitmap) {
-    return (GlideRequest<TranscodeType>) super.load(bitmap);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Drawable drawable) {
-    return (GlideRequest<TranscodeType>) super.load(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable String string) {
-    return (GlideRequest<TranscodeType>) super.load(string);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Uri uri) {
-    return (GlideRequest<TranscodeType>) super.load(uri);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable File file) {
-    return (GlideRequest<TranscodeType>) super.load(file);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@RawRes @DrawableRes @Nullable Integer id) {
-    return (GlideRequest<TranscodeType>) super.load(id);
-  }
-
-  @Override
-  @Deprecated
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable URL url) {
-    return (GlideRequest<TranscodeType>) super.load(url);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable byte[] bytes) {
-    return (GlideRequest<TranscodeType>) super.load(bytes);
-  }
-
-  @Override
-  @CheckResult
-  public GlideRequest<TranscodeType> clone() {
-    return (GlideRequest<TranscodeType>) super.clone();
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/StaticMethodName/Extension.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/StaticMethodName/Extension.java
deleted file mode 100644
index b6c72bbad..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/StaticMethodName/Extension.java
+++ /dev/null
@@ -1,18 +0,0 @@
-package com.bumptech.glide.test;
-
-import com.bumptech.glide.annotation.GlideExtension;
-import com.bumptech.glide.annotation.GlideOption;
-import com.bumptech.glide.request.RequestOptions;
-
-@GlideExtension
-public final class Extension {
-
-  private Extension() {
-    // Utility class.
-  }
-
-  @GlideOption(staticMethodName = "testSomething")
-  public static void test(RequestOptions requestOptions) {
-    requestOptions.centerCrop();
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/StaticMethodName/GlideOptions.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/StaticMethodName/GlideOptions.java
deleted file mode 100644
index 27dae5637..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/StaticMethodName/GlideOptions.java
+++ /dev/null
@@ -1,641 +0,0 @@
-package com.bumptech.glide.test;
-
-import android.content.res.Resources;
-import android.graphics.Bitmap;
-import android.graphics.drawable.Drawable;
-import android.support.annotation.CheckResult;
-import android.support.annotation.DrawableRes;
-import android.support.annotation.FloatRange;
-import android.support.annotation.IntRange;
-import android.support.annotation.NonNull;
-import android.support.annotation.Nullable;
-import com.bumptech.glide.Priority;
-import com.bumptech.glide.load.DecodeFormat;
-import com.bumptech.glide.load.Key;
-import com.bumptech.glide.load.Option;
-import com.bumptech.glide.load.Transformation;
-import com.bumptech.glide.load.engine.DiskCacheStrategy;
-import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
-import com.bumptech.glide.request.RequestOptions;
-import java.lang.Class;
-import java.lang.Cloneable;
-import java.lang.Override;
-import java.lang.SafeVarargs;
-import java.lang.SuppressWarnings;
-
-/**
- * Automatically generated from {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
- *
- * @see RequestOptions
- * @see Extension
- */
-@SuppressWarnings("deprecation")
-public final class GlideOptions extends RequestOptions implements Cloneable {
-  private static GlideOptions fitCenterTransform0;
-
-  private static GlideOptions centerInsideTransform1;
-
-  private static GlideOptions centerCropTransform2;
-
-  private static GlideOptions circleCropTransform3;
-
-  private static GlideOptions noTransformation4;
-
-  private static GlideOptions noAnimation5;
-
-  /**
-   * @see RequestOptions#sizeMultiplierOf(float)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions sizeMultiplierOf(@FloatRange(from = 0.0, to = 1.0) float value) {
-    return new GlideOptions().sizeMultiplier(value);
-  }
-
-  /**
-   * @see RequestOptions#diskCacheStrategyOf(DiskCacheStrategy)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions diskCacheStrategyOf(@NonNull DiskCacheStrategy strategy) {
-    return new GlideOptions().diskCacheStrategy(strategy);
-  }
-
-  /**
-   * @see RequestOptions#priorityOf(Priority)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions priorityOf(@NonNull Priority priority) {
-    return new GlideOptions().priority(priority);
-  }
-
-  /**
-   * @see RequestOptions#placeholderOf(Drawable)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions placeholderOf(@Nullable Drawable drawable) {
-    return new GlideOptions().placeholder(drawable);
-  }
-
-  /**
-   * @see RequestOptions#placeholderOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions placeholderOf(@DrawableRes int id) {
-    return new GlideOptions().placeholder(id);
-  }
-
-  /**
-   * @see RequestOptions#errorOf(Drawable)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions errorOf(@Nullable Drawable drawable) {
-    return new GlideOptions().error(drawable);
-  }
-
-  /**
-   * @see RequestOptions#errorOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions errorOf(@DrawableRes int id) {
-    return new GlideOptions().error(id);
-  }
-
-  /**
-   * @see RequestOptions#skipMemoryCacheOf(boolean)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions skipMemoryCacheOf(boolean skipMemoryCache) {
-    return new GlideOptions().skipMemoryCache(skipMemoryCache);
-  }
-
-  /**
-   * @see RequestOptions#overrideOf(int, int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions overrideOf(@IntRange(from = 0) int value0,
-      @IntRange(from = 0) int value1) {
-    return new GlideOptions().override(value0, value1);
-  }
-
-  /**
-   * @see RequestOptions#overrideOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions overrideOf(@IntRange(from = 0) int value) {
-    return new GlideOptions().override(value);
-  }
-
-  /**
-   * @see RequestOptions#signatureOf(Key)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions signatureOf(@NonNull Key key) {
-    return new GlideOptions().signature(key);
-  }
-
-  /**
-   * @see RequestOptions#fitCenterTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions fitCenterTransform() {
-    if (GlideOptions.fitCenterTransform0 == null) {
-      GlideOptions.fitCenterTransform0 =
-          new GlideOptions().fitCenter().autoClone();
-    }
-    return GlideOptions.fitCenterTransform0;
-  }
-
-  /**
-   * @see RequestOptions#centerInsideTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions centerInsideTransform() {
-    if (GlideOptions.centerInsideTransform1 == null) {
-      GlideOptions.centerInsideTransform1 =
-          new GlideOptions().centerInside().autoClone();
-    }
-    return GlideOptions.centerInsideTransform1;
-  }
-
-  /**
-   * @see RequestOptions#centerCropTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions centerCropTransform() {
-    if (GlideOptions.centerCropTransform2 == null) {
-      GlideOptions.centerCropTransform2 =
-          new GlideOptions().centerCrop().autoClone();
-    }
-    return GlideOptions.centerCropTransform2;
-  }
-
-  /**
-   * @see RequestOptions#circleCropTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions circleCropTransform() {
-    if (GlideOptions.circleCropTransform3 == null) {
-      GlideOptions.circleCropTransform3 =
-          new GlideOptions().circleCrop().autoClone();
-    }
-    return GlideOptions.circleCropTransform3;
-  }
-
-  /**
-   * @see RequestOptions#bitmapTransform(Transformation)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions bitmapTransform(@NonNull Transformation<Bitmap> transformation) {
-    return new GlideOptions().transform(transformation);
-  }
-
-  /**
-   * @see RequestOptions#noTransformation()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions noTransformation() {
-    if (GlideOptions.noTransformation4 == null) {
-      GlideOptions.noTransformation4 =
-          new GlideOptions().dontTransform().autoClone();
-    }
-    return GlideOptions.noTransformation4;
-  }
-
-  /**
-   * @see RequestOptions#option(Option, T)
-   */
-  @CheckResult
-  @NonNull
-  public static <T> GlideOptions option(@NonNull Option<T> option, @NonNull T t) {
-    return new GlideOptions().set(option, t);
-  }
-
-  /**
-   * @see RequestOptions#decodeTypeOf(Class)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions decodeTypeOf(@NonNull Class<?> clazz) {
-    return new GlideOptions().decode(clazz);
-  }
-
-  /**
-   * @see RequestOptions#formatOf(DecodeFormat)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions formatOf(@NonNull DecodeFormat format) {
-    return new GlideOptions().format(format);
-  }
-
-  /**
-   * @see RequestOptions#frameOf(long)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions frameOf(@IntRange(from = 0) long value) {
-    return new GlideOptions().frame(value);
-  }
-
-  /**
-   * @see RequestOptions#downsampleOf(DownsampleStrategy)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions downsampleOf(@NonNull DownsampleStrategy strategy) {
-    return new GlideOptions().downsample(strategy);
-  }
-
-  /**
-   * @see RequestOptions#timeoutOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions timeoutOf(@IntRange(from = 0) int value) {
-    return new GlideOptions().timeout(value);
-  }
-
-  /**
-   * @see RequestOptions#encodeQualityOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions encodeQualityOf(@IntRange(from = 0, to = 100) int value) {
-    return new GlideOptions().encodeQuality(value);
-  }
-
-  /**
-   * @see RequestOptions#encodeFormatOf(CompressFormat)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions encodeFormatOf(@NonNull Bitmap.CompressFormat format) {
-    return new GlideOptions().encodeFormat(format);
-  }
-
-  /**
-   * @see RequestOptions#noAnimation()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions noAnimation() {
-    if (GlideOptions.noAnimation5 == null) {
-      GlideOptions.noAnimation5 =
-          new GlideOptions().dontAnimate().autoClone();
-    }
-    return GlideOptions.noAnimation5;
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    return (GlideOptions) super.sizeMultiplier(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
-    return (GlideOptions) super.useUnlimitedSourceGeneratorsPool(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions useAnimationPool(boolean flag) {
-    return (GlideOptions) super.useAnimationPool(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions onlyRetrieveFromCache(boolean flag) {
-    return (GlideOptions) super.onlyRetrieveFromCache(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    return (GlideOptions) super.diskCacheStrategy(strategy);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions priority(@NonNull Priority priority) {
-    return (GlideOptions) super.priority(priority);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions placeholder(@Nullable Drawable drawable) {
-    return (GlideOptions) super.placeholder(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions placeholder(@DrawableRes int id) {
-    return (GlideOptions) super.placeholder(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fallback(@Nullable Drawable drawable) {
-    return (GlideOptions) super.fallback(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fallback(@DrawableRes int id) {
-    return (GlideOptions) super.fallback(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions error(@Nullable Drawable drawable) {
-    return (GlideOptions) super.error(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions error(@DrawableRes int id) {
-    return (GlideOptions) super.error(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions theme(@Nullable Resources.Theme theme) {
-    return (GlideOptions) super.theme(theme);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions skipMemoryCache(boolean skip) {
-    return (GlideOptions) super.skipMemoryCache(skip);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions override(int width, int height) {
-    return (GlideOptions) super.override(width, height);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions override(int size) {
-    return (GlideOptions) super.override(size);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions signature(@NonNull Key key) {
-    return (GlideOptions) super.signature(key);
-  }
-
-  @Override
-  @CheckResult
-  public final GlideOptions clone() {
-    return (GlideOptions) super.clone();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions set(@NonNull Option<T> option, @NonNull T t) {
-    return (GlideOptions) super.set(option, t);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions decode(@NonNull Class<?> clazz) {
-    return (GlideOptions) super.decode(clazz);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    return (GlideOptions) super.encodeFormat(format);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    return (GlideOptions) super.encodeQuality(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions frame(@IntRange(from = 0) long value) {
-    return (GlideOptions) super.frame(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions format(@NonNull DecodeFormat format) {
-    return (GlideOptions) super.format(format);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions disallowHardwareConfig() {
-    return (GlideOptions) super.disallowHardwareConfig();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
-    return (GlideOptions) super.downsample(strategy);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions timeout(@IntRange(from = 0) int value) {
-    return (GlideOptions) super.timeout(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCenterCrop() {
-    return (GlideOptions) super.optionalCenterCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions centerCrop() {
-    return (GlideOptions) super.centerCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalFitCenter() {
-    return (GlideOptions) super.optionalFitCenter();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fitCenter() {
-    return (GlideOptions) super.fitCenter();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCenterInside() {
-    return (GlideOptions) super.optionalCenterInside();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions centerInside() {
-    return (GlideOptions) super.centerInside();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCircleCrop() {
-    return (GlideOptions) super.optionalCircleCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions circleCrop() {
-    return (GlideOptions) super.circleCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
-    return (GlideOptions) super.transform(transformation);
-  }
-
-  @Override
-  @SafeVarargs
-  @SuppressWarnings("varargs")
-  @NonNull
-  @CheckResult
-  public final GlideOptions transforms(@NonNull Transformation<Bitmap>... transformations) {
-    return (GlideOptions) super.transforms(transformations);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    return (GlideOptions) super.optionalTransform(transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    return (GlideOptions) super.optionalTransform(clazz, transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    return (GlideOptions) super.transform(clazz, transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions dontTransform() {
-    return (GlideOptions) super.dontTransform();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions dontAnimate() {
-    return (GlideOptions) super.dontAnimate();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions apply(@NonNull RequestOptions options) {
-    return (GlideOptions) super.apply(options);
-  }
-
-  @Override
-  @NonNull
-  public final GlideOptions lock() {
-    return (GlideOptions) super.lock();
-  }
-
-  @Override
-  @NonNull
-  public final GlideOptions autoClone() {
-    return (GlideOptions) super.autoClone();
-  }
-
-  /**
-   * @see Extension#test(RequestOptions)
-   */
-  @CheckResult
-  @NonNull
-  public GlideOptions test() {
-    if (isAutoCloneEnabled()) {
-      return clone().test();
-    }
-    Extension.test(this);
-    return this;
-  }
-
-  /**
-   * @see Extension#test(RequestOptions)
-   */
-  @CheckResult
-  public static GlideOptions testSomething() {
-    return new GlideOptions().test();
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/StaticMethodName/GlideRequest.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/StaticMethodName/GlideRequest.java
deleted file mode 100644
index c9124e93b..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionOptionsTest/StaticMethodName/GlideRequest.java
+++ /dev/null
@@ -1,784 +0,0 @@
-package com.bumptech.glide.test;
-
-import android.content.Context;
-import android.content.res.Resources;
-import android.graphics.Bitmap;
-import android.graphics.drawable.Drawable;
-import android.net.Uri;
-import android.support.annotation.CheckResult;
-import android.support.annotation.DrawableRes;
-import android.support.annotation.FloatRange;
-import android.support.annotation.IntRange;
-import android.support.annotation.NonNull;
-import android.support.annotation.Nullable;
-import android.support.annotation.RawRes;
-import com.bumptech.glide.Glide;
-import com.bumptech.glide.Priority;
-import com.bumptech.glide.RequestBuilder;
-import com.bumptech.glide.RequestManager;
-import com.bumptech.glide.TransitionOptions;
-import com.bumptech.glide.load.DecodeFormat;
-import com.bumptech.glide.load.Key;
-import com.bumptech.glide.load.Option;
-import com.bumptech.glide.load.Transformation;
-import com.bumptech.glide.load.engine.DiskCacheStrategy;
-import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
-import com.bumptech.glide.request.RequestListener;
-import com.bumptech.glide.request.RequestOptions;
-import java.io.File;
-import java.lang.Class;
-import java.lang.Cloneable;
-import java.lang.Deprecated;
-import java.lang.Integer;
-import java.lang.Object;
-import java.lang.Override;
-import java.lang.SafeVarargs;
-import java.lang.String;
-import java.lang.SuppressWarnings;
-import java.net.URL;
-
-/**
- * Contains all public methods from {@link RequestBuilder<TranscodeType>}, all options from
- * {@link RequestOptions} and all generated options from
- * {@link com.bumptech.glide.annotation.GlideOption} in annotated methods in
- * {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
- *
- * <p>Generated code, do not modify.
- *
- * @see RequestBuilder<TranscodeType>
- * @see RequestOptions
- */
-@SuppressWarnings({
-    "unused",
-    "deprecation"
-})
-public class GlideRequest<TranscodeType> extends RequestBuilder<TranscodeType> implements Cloneable {
-  GlideRequest(@NonNull Class<TranscodeType> transcodeClass, @NonNull RequestBuilder<?> other) {
-    super(transcodeClass, other);
-  }
-
-  GlideRequest(@NonNull Glide glide, @NonNull RequestManager requestManager,
-      @NonNull Class<TranscodeType> transcodeClass, @NonNull Context context) {
-    super(glide, requestManager ,transcodeClass, context);
-  }
-
-  @Override
-  @CheckResult
-  @NonNull
-  protected GlideRequest<File> getDownloadOnlyRequest() {
-    return new GlideRequest<>(File.class, this).apply(DOWNLOAD_ONLY_OPTIONS);
-  }
-
-  /**
-   * @see GlideOptions#sizeMultiplier(float)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).sizeMultiplier(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).sizeMultiplier(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#useUnlimitedSourceGeneratorsPool(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> useUnlimitedSourceGeneratorsPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useUnlimitedSourceGeneratorsPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useUnlimitedSourceGeneratorsPool(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#useAnimationPool(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> useAnimationPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useAnimationPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useAnimationPool(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#onlyRetrieveFromCache(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> onlyRetrieveFromCache(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).onlyRetrieveFromCache(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).onlyRetrieveFromCache(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#diskCacheStrategy(DiskCacheStrategy)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).diskCacheStrategy(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).diskCacheStrategy(strategy);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#priority(Priority)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> priority(@NonNull Priority priority) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).priority(priority);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).priority(priority);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#placeholder(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> placeholder(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#placeholder(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> placeholder(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fallback(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fallback(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fallback(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fallback(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#error(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> error(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#error(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> error(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#theme(Resources.Theme)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> theme(@Nullable Resources.Theme theme) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).theme(theme);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).theme(theme);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#skipMemoryCache(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> skipMemoryCache(boolean skip) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).skipMemoryCache(skip);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).skipMemoryCache(skip);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#override(int, int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> override(int width, int height) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(width, height);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(width, height);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#override(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> override(int size) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(size);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(size);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#signature(Key)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> signature(@NonNull Key key) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).signature(key);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).signature(key);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#set(Option<T>, T)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> set(@NonNull Option<T> option, @NonNull T t) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).set(option, t);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).set(option, t);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#decode(Class<?>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> decode(@NonNull Class<?> clazz) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).decode(clazz);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).decode(clazz);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#encodeFormat(Bitmap.CompressFormat)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeFormat(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeFormat(format);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#encodeQuality(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeQuality(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeQuality(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#frame(long)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> frame(@IntRange(from = 0) long value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).frame(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).frame(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#format(DecodeFormat)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> format(@NonNull DecodeFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).format(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).format(format);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#disallowHardwareConfig()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> disallowHardwareConfig() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).disallowHardwareConfig();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).disallowHardwareConfig();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#downsample(DownsampleStrategy)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> downsample(@NonNull DownsampleStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).downsample(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).downsample(strategy);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#timeout(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> timeout(@IntRange(from = 0) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).timeout(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).timeout(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCenterCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCenterCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#centerCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> centerCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalFitCenter()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalFitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalFitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalFitCenter();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fitCenter()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fitCenter();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCenterInside()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCenterInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterInside();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#centerInside()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> centerInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerInside();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCircleCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCircleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCircleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCircleCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#circleCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> circleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).circleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).circleCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transform(Transformation<Bitmap>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> transform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transforms(Transformation<Bitmap>[])
-   */
-  @NonNull
-  @CheckResult
-  @SuppressWarnings({
-      "unchecked",
-      "varargs"
-  })
-  public GlideRequest<TranscodeType> transforms(@NonNull Transformation<Bitmap>... transformations) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transforms(transformations);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transforms(transformations);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalTransform(Transformation<Bitmap>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalTransform(Class<T>, Transformation<T>)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(clazz, transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transform(Class<T>, Transformation<T>)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(clazz, transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#dontTransform()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> dontTransform() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontTransform();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontTransform();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#dontAnimate()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> dontAnimate() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontAnimate();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontAnimate();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#test()
-   */
-  @CheckResult
-  @NonNull
-  public GlideRequest<TranscodeType> test() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).test();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).test();
-    }
-    return this;
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> apply(@NonNull RequestOptions options) {
-    return (GlideRequest<TranscodeType>) super.apply(options);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> transition(@NonNull TransitionOptions<?, ? super TranscodeType> options) {
-    return (GlideRequest<TranscodeType>) super.transition(options);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> listener(@Nullable RequestListener<TranscodeType> listener) {
-    return (GlideRequest<TranscodeType>) super.listener(listener);
-  }
-
-  @Override
-  @NonNull
-  public GlideRequest<TranscodeType> error(@Nullable RequestBuilder<TranscodeType> builder) {
-    return (GlideRequest<TranscodeType>) super.error(builder);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> thumbnail(@Nullable RequestBuilder<TranscodeType> builder) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(builder);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  @SafeVarargs
-  @SuppressWarnings("varargs")
-  public final GlideRequest<TranscodeType> thumbnail(@Nullable RequestBuilder<TranscodeType>... builders) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(builders);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> thumbnail(float sizeMultiplier) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(sizeMultiplier);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Object o) {
-    return (GlideRequest<TranscodeType>) super.load(o);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Bitmap bitmap) {
-    return (GlideRequest<TranscodeType>) super.load(bitmap);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Drawable drawable) {
-    return (GlideRequest<TranscodeType>) super.load(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable String string) {
-    return (GlideRequest<TranscodeType>) super.load(string);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Uri uri) {
-    return (GlideRequest<TranscodeType>) super.load(uri);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable File file) {
-    return (GlideRequest<TranscodeType>) super.load(file);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@RawRes @DrawableRes @Nullable Integer id) {
-    return (GlideRequest<TranscodeType>) super.load(id);
-  }
-
-  @Override
-  @Deprecated
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable URL url) {
-    return (GlideRequest<TranscodeType>) super.load(url);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable byte[] bytes) {
-    return (GlideRequest<TranscodeType>) super.load(bytes);
-  }
-
-  @Override
-  @CheckResult
-  public GlideRequest<TranscodeType> clone() {
-    return (GlideRequest<TranscodeType>) super.clone();
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithOptionTest/ExtensionWithOption.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithOptionTest/ExtensionWithOption.java
deleted file mode 100644
index b67065d43..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithOptionTest/ExtensionWithOption.java
+++ /dev/null
@@ -1,18 +0,0 @@
-package com.bumptech.glide.test;
-
-import com.bumptech.glide.annotation.GlideExtension;
-import com.bumptech.glide.annotation.GlideOption;
-import com.bumptech.glide.request.RequestOptions;
-
-@GlideExtension
-public final class ExtensionWithOption {
-
-  private ExtensionWithOption() {
-    // Utility class.
-  }
-
-  @GlideOption
-  public static void squareThumb(RequestOptions requestOptions) {
-    requestOptions.centerCrop();
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithOptionTest/GlideOptions.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithOptionTest/GlideOptions.java
deleted file mode 100644
index c4cef3aa9..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithOptionTest/GlideOptions.java
+++ /dev/null
@@ -1,641 +0,0 @@
-package com.bumptech.glide.test;
-
-import android.content.res.Resources;
-import android.graphics.Bitmap;
-import android.graphics.drawable.Drawable;
-import android.support.annotation.CheckResult;
-import android.support.annotation.DrawableRes;
-import android.support.annotation.FloatRange;
-import android.support.annotation.IntRange;
-import android.support.annotation.NonNull;
-import android.support.annotation.Nullable;
-import com.bumptech.glide.Priority;
-import com.bumptech.glide.load.DecodeFormat;
-import com.bumptech.glide.load.Key;
-import com.bumptech.glide.load.Option;
-import com.bumptech.glide.load.Transformation;
-import com.bumptech.glide.load.engine.DiskCacheStrategy;
-import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
-import com.bumptech.glide.request.RequestOptions;
-import java.lang.Class;
-import java.lang.Cloneable;
-import java.lang.Override;
-import java.lang.SafeVarargs;
-import java.lang.SuppressWarnings;
-
-/**
- * Automatically generated from {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
- *
- * @see RequestOptions
- * @see ExtensionWithOption
- */
-@SuppressWarnings("deprecation")
-public final class GlideOptions extends RequestOptions implements Cloneable {
-  private static GlideOptions fitCenterTransform0;
-
-  private static GlideOptions centerInsideTransform1;
-
-  private static GlideOptions centerCropTransform2;
-
-  private static GlideOptions circleCropTransform3;
-
-  private static GlideOptions noTransformation4;
-
-  private static GlideOptions noAnimation5;
-
-  /**
-   * @see RequestOptions#sizeMultiplierOf(float)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions sizeMultiplierOf(@FloatRange(from = 0.0, to = 1.0) float value) {
-    return new GlideOptions().sizeMultiplier(value);
-  }
-
-  /**
-   * @see RequestOptions#diskCacheStrategyOf(DiskCacheStrategy)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions diskCacheStrategyOf(@NonNull DiskCacheStrategy strategy) {
-    return new GlideOptions().diskCacheStrategy(strategy);
-  }
-
-  /**
-   * @see RequestOptions#priorityOf(Priority)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions priorityOf(@NonNull Priority priority) {
-    return new GlideOptions().priority(priority);
-  }
-
-  /**
-   * @see RequestOptions#placeholderOf(Drawable)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions placeholderOf(@Nullable Drawable drawable) {
-    return new GlideOptions().placeholder(drawable);
-  }
-
-  /**
-   * @see RequestOptions#placeholderOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions placeholderOf(@DrawableRes int id) {
-    return new GlideOptions().placeholder(id);
-  }
-
-  /**
-   * @see RequestOptions#errorOf(Drawable)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions errorOf(@Nullable Drawable drawable) {
-    return new GlideOptions().error(drawable);
-  }
-
-  /**
-   * @see RequestOptions#errorOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions errorOf(@DrawableRes int id) {
-    return new GlideOptions().error(id);
-  }
-
-  /**
-   * @see RequestOptions#skipMemoryCacheOf(boolean)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions skipMemoryCacheOf(boolean skipMemoryCache) {
-    return new GlideOptions().skipMemoryCache(skipMemoryCache);
-  }
-
-  /**
-   * @see RequestOptions#overrideOf(int, int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions overrideOf(@IntRange(from = 0) int value0,
-      @IntRange(from = 0) int value1) {
-    return new GlideOptions().override(value0, value1);
-  }
-
-  /**
-   * @see RequestOptions#overrideOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions overrideOf(@IntRange(from = 0) int value) {
-    return new GlideOptions().override(value);
-  }
-
-  /**
-   * @see RequestOptions#signatureOf(Key)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions signatureOf(@NonNull Key key) {
-    return new GlideOptions().signature(key);
-  }
-
-  /**
-   * @see RequestOptions#fitCenterTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions fitCenterTransform() {
-    if (GlideOptions.fitCenterTransform0 == null) {
-      GlideOptions.fitCenterTransform0 =
-          new GlideOptions().fitCenter().autoClone();
-    }
-    return GlideOptions.fitCenterTransform0;
-  }
-
-  /**
-   * @see RequestOptions#centerInsideTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions centerInsideTransform() {
-    if (GlideOptions.centerInsideTransform1 == null) {
-      GlideOptions.centerInsideTransform1 =
-          new GlideOptions().centerInside().autoClone();
-    }
-    return GlideOptions.centerInsideTransform1;
-  }
-
-  /**
-   * @see RequestOptions#centerCropTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions centerCropTransform() {
-    if (GlideOptions.centerCropTransform2 == null) {
-      GlideOptions.centerCropTransform2 =
-          new GlideOptions().centerCrop().autoClone();
-    }
-    return GlideOptions.centerCropTransform2;
-  }
-
-  /**
-   * @see RequestOptions#circleCropTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions circleCropTransform() {
-    if (GlideOptions.circleCropTransform3 == null) {
-      GlideOptions.circleCropTransform3 =
-          new GlideOptions().circleCrop().autoClone();
-    }
-    return GlideOptions.circleCropTransform3;
-  }
-
-  /**
-   * @see RequestOptions#bitmapTransform(Transformation)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions bitmapTransform(@NonNull Transformation<Bitmap> transformation) {
-    return new GlideOptions().transform(transformation);
-  }
-
-  /**
-   * @see RequestOptions#noTransformation()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions noTransformation() {
-    if (GlideOptions.noTransformation4 == null) {
-      GlideOptions.noTransformation4 =
-          new GlideOptions().dontTransform().autoClone();
-    }
-    return GlideOptions.noTransformation4;
-  }
-
-  /**
-   * @see RequestOptions#option(Option, T)
-   */
-  @CheckResult
-  @NonNull
-  public static <T> GlideOptions option(@NonNull Option<T> option, @NonNull T t) {
-    return new GlideOptions().set(option, t);
-  }
-
-  /**
-   * @see RequestOptions#decodeTypeOf(Class)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions decodeTypeOf(@NonNull Class<?> clazz) {
-    return new GlideOptions().decode(clazz);
-  }
-
-  /**
-   * @see RequestOptions#formatOf(DecodeFormat)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions formatOf(@NonNull DecodeFormat format) {
-    return new GlideOptions().format(format);
-  }
-
-  /**
-   * @see RequestOptions#frameOf(long)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions frameOf(@IntRange(from = 0) long value) {
-    return new GlideOptions().frame(value);
-  }
-
-  /**
-   * @see RequestOptions#downsampleOf(DownsampleStrategy)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions downsampleOf(@NonNull DownsampleStrategy strategy) {
-    return new GlideOptions().downsample(strategy);
-  }
-
-  /**
-   * @see RequestOptions#timeoutOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions timeoutOf(@IntRange(from = 0) int value) {
-    return new GlideOptions().timeout(value);
-  }
-
-  /**
-   * @see RequestOptions#encodeQualityOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions encodeQualityOf(@IntRange(from = 0, to = 100) int value) {
-    return new GlideOptions().encodeQuality(value);
-  }
-
-  /**
-   * @see RequestOptions#encodeFormatOf(CompressFormat)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions encodeFormatOf(@NonNull Bitmap.CompressFormat format) {
-    return new GlideOptions().encodeFormat(format);
-  }
-
-  /**
-   * @see RequestOptions#noAnimation()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions noAnimation() {
-    if (GlideOptions.noAnimation5 == null) {
-      GlideOptions.noAnimation5 =
-          new GlideOptions().dontAnimate().autoClone();
-    }
-    return GlideOptions.noAnimation5;
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    return (GlideOptions) super.sizeMultiplier(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
-    return (GlideOptions) super.useUnlimitedSourceGeneratorsPool(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions useAnimationPool(boolean flag) {
-    return (GlideOptions) super.useAnimationPool(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions onlyRetrieveFromCache(boolean flag) {
-    return (GlideOptions) super.onlyRetrieveFromCache(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    return (GlideOptions) super.diskCacheStrategy(strategy);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions priority(@NonNull Priority priority) {
-    return (GlideOptions) super.priority(priority);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions placeholder(@Nullable Drawable drawable) {
-    return (GlideOptions) super.placeholder(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions placeholder(@DrawableRes int id) {
-    return (GlideOptions) super.placeholder(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fallback(@Nullable Drawable drawable) {
-    return (GlideOptions) super.fallback(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fallback(@DrawableRes int id) {
-    return (GlideOptions) super.fallback(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions error(@Nullable Drawable drawable) {
-    return (GlideOptions) super.error(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions error(@DrawableRes int id) {
-    return (GlideOptions) super.error(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions theme(@Nullable Resources.Theme theme) {
-    return (GlideOptions) super.theme(theme);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions skipMemoryCache(boolean skip) {
-    return (GlideOptions) super.skipMemoryCache(skip);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions override(int width, int height) {
-    return (GlideOptions) super.override(width, height);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions override(int size) {
-    return (GlideOptions) super.override(size);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions signature(@NonNull Key key) {
-    return (GlideOptions) super.signature(key);
-  }
-
-  @Override
-  @CheckResult
-  public final GlideOptions clone() {
-    return (GlideOptions) super.clone();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions set(@NonNull Option<T> option, @NonNull T t) {
-    return (GlideOptions) super.set(option, t);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions decode(@NonNull Class<?> clazz) {
-    return (GlideOptions) super.decode(clazz);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    return (GlideOptions) super.encodeFormat(format);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    return (GlideOptions) super.encodeQuality(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions frame(@IntRange(from = 0) long value) {
-    return (GlideOptions) super.frame(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions format(@NonNull DecodeFormat format) {
-    return (GlideOptions) super.format(format);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions disallowHardwareConfig() {
-    return (GlideOptions) super.disallowHardwareConfig();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
-    return (GlideOptions) super.downsample(strategy);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions timeout(@IntRange(from = 0) int value) {
-    return (GlideOptions) super.timeout(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCenterCrop() {
-    return (GlideOptions) super.optionalCenterCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions centerCrop() {
-    return (GlideOptions) super.centerCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalFitCenter() {
-    return (GlideOptions) super.optionalFitCenter();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fitCenter() {
-    return (GlideOptions) super.fitCenter();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCenterInside() {
-    return (GlideOptions) super.optionalCenterInside();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions centerInside() {
-    return (GlideOptions) super.centerInside();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCircleCrop() {
-    return (GlideOptions) super.optionalCircleCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions circleCrop() {
-    return (GlideOptions) super.circleCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
-    return (GlideOptions) super.transform(transformation);
-  }
-
-  @Override
-  @SafeVarargs
-  @SuppressWarnings("varargs")
-  @NonNull
-  @CheckResult
-  public final GlideOptions transforms(@NonNull Transformation<Bitmap>... transformations) {
-    return (GlideOptions) super.transforms(transformations);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    return (GlideOptions) super.optionalTransform(transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    return (GlideOptions) super.optionalTransform(clazz, transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    return (GlideOptions) super.transform(clazz, transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions dontTransform() {
-    return (GlideOptions) super.dontTransform();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions dontAnimate() {
-    return (GlideOptions) super.dontAnimate();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions apply(@NonNull RequestOptions options) {
-    return (GlideOptions) super.apply(options);
-  }
-
-  @Override
-  @NonNull
-  public final GlideOptions lock() {
-    return (GlideOptions) super.lock();
-  }
-
-  @Override
-  @NonNull
-  public final GlideOptions autoClone() {
-    return (GlideOptions) super.autoClone();
-  }
-
-  /**
-   * @see ExtensionWithOption#squareThumb(RequestOptions)
-   */
-  @CheckResult
-  @NonNull
-  public GlideOptions squareThumb() {
-    if (isAutoCloneEnabled()) {
-      return clone().squareThumb();
-    }
-    ExtensionWithOption.squareThumb(this);
-    return this;
-  }
-
-  /**
-   * @see ExtensionWithOption#squareThumb(RequestOptions)
-   */
-  @CheckResult
-  public static GlideOptions squareThumbOf() {
-    return new GlideOptions().squareThumb();
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithOptionTest/GlideRequest.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithOptionTest/GlideRequest.java
deleted file mode 100644
index b453136b6..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithOptionTest/GlideRequest.java
+++ /dev/null
@@ -1,784 +0,0 @@
-package com.bumptech.glide.test;
-
-import android.content.Context;
-import android.content.res.Resources;
-import android.graphics.Bitmap;
-import android.graphics.drawable.Drawable;
-import android.net.Uri;
-import android.support.annotation.CheckResult;
-import android.support.annotation.DrawableRes;
-import android.support.annotation.FloatRange;
-import android.support.annotation.IntRange;
-import android.support.annotation.NonNull;
-import android.support.annotation.Nullable;
-import android.support.annotation.RawRes;
-import com.bumptech.glide.Glide;
-import com.bumptech.glide.Priority;
-import com.bumptech.glide.RequestBuilder;
-import com.bumptech.glide.RequestManager;
-import com.bumptech.glide.TransitionOptions;
-import com.bumptech.glide.load.DecodeFormat;
-import com.bumptech.glide.load.Key;
-import com.bumptech.glide.load.Option;
-import com.bumptech.glide.load.Transformation;
-import com.bumptech.glide.load.engine.DiskCacheStrategy;
-import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
-import com.bumptech.glide.request.RequestListener;
-import com.bumptech.glide.request.RequestOptions;
-import java.io.File;
-import java.lang.Class;
-import java.lang.Cloneable;
-import java.lang.Deprecated;
-import java.lang.Integer;
-import java.lang.Object;
-import java.lang.Override;
-import java.lang.SafeVarargs;
-import java.lang.String;
-import java.lang.SuppressWarnings;
-import java.net.URL;
-
-/**
- * Contains all public methods from {@link RequestBuilder<TranscodeType>}, all options from
- * {@link RequestOptions} and all generated options from
- * {@link com.bumptech.glide.annotation.GlideOption} in annotated methods in
- * {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
- *
- * <p>Generated code, do not modify.
- *
- * @see RequestBuilder<TranscodeType>
- * @see RequestOptions
- */
-@SuppressWarnings({
-    "unused",
-    "deprecation"
-})
-public class GlideRequest<TranscodeType> extends RequestBuilder<TranscodeType> implements Cloneable {
-  GlideRequest(@NonNull Class<TranscodeType> transcodeClass, @NonNull RequestBuilder<?> other) {
-    super(transcodeClass, other);
-  }
-
-  GlideRequest(@NonNull Glide glide, @NonNull RequestManager requestManager,
-      @NonNull Class<TranscodeType> transcodeClass, @NonNull Context context) {
-    super(glide, requestManager ,transcodeClass, context);
-  }
-
-  @Override
-  @CheckResult
-  @NonNull
-  protected GlideRequest<File> getDownloadOnlyRequest() {
-    return new GlideRequest<>(File.class, this).apply(DOWNLOAD_ONLY_OPTIONS);
-  }
-
-  /**
-   * @see GlideOptions#sizeMultiplier(float)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).sizeMultiplier(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).sizeMultiplier(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#useUnlimitedSourceGeneratorsPool(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> useUnlimitedSourceGeneratorsPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useUnlimitedSourceGeneratorsPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useUnlimitedSourceGeneratorsPool(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#useAnimationPool(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> useAnimationPool(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).useAnimationPool(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).useAnimationPool(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#onlyRetrieveFromCache(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> onlyRetrieveFromCache(boolean flag) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).onlyRetrieveFromCache(flag);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).onlyRetrieveFromCache(flag);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#diskCacheStrategy(DiskCacheStrategy)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).diskCacheStrategy(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).diskCacheStrategy(strategy);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#priority(Priority)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> priority(@NonNull Priority priority) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).priority(priority);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).priority(priority);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#placeholder(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> placeholder(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#placeholder(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> placeholder(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).placeholder(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).placeholder(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fallback(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fallback(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fallback(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fallback(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fallback(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fallback(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#error(Drawable)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> error(@Nullable Drawable drawable) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(drawable);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(drawable);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#error(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> error(@DrawableRes int id) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).error(id);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).error(id);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#theme(Resources.Theme)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> theme(@Nullable Resources.Theme theme) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).theme(theme);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).theme(theme);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#skipMemoryCache(boolean)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> skipMemoryCache(boolean skip) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).skipMemoryCache(skip);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).skipMemoryCache(skip);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#override(int, int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> override(int width, int height) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(width, height);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(width, height);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#override(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> override(int size) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).override(size);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).override(size);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#signature(Key)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> signature(@NonNull Key key) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).signature(key);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).signature(key);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#set(Option<T>, T)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> set(@NonNull Option<T> option, @NonNull T t) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).set(option, t);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).set(option, t);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#decode(Class<?>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> decode(@NonNull Class<?> clazz) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).decode(clazz);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).decode(clazz);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#encodeFormat(Bitmap.CompressFormat)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeFormat(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeFormat(format);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#encodeQuality(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).encodeQuality(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).encodeQuality(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#frame(long)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> frame(@IntRange(from = 0) long value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).frame(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).frame(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#format(DecodeFormat)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> format(@NonNull DecodeFormat format) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).format(format);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).format(format);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#disallowHardwareConfig()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> disallowHardwareConfig() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).disallowHardwareConfig();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).disallowHardwareConfig();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#downsample(DownsampleStrategy)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> downsample(@NonNull DownsampleStrategy strategy) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).downsample(strategy);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).downsample(strategy);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#timeout(int)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> timeout(@IntRange(from = 0) int value) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).timeout(value);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).timeout(value);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCenterCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCenterCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#centerCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> centerCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalFitCenter()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalFitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalFitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalFitCenter();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#fitCenter()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> fitCenter() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).fitCenter();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).fitCenter();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCenterInside()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCenterInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCenterInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCenterInside();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#centerInside()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> centerInside() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).centerInside();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).centerInside();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalCircleCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalCircleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalCircleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalCircleCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#circleCrop()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> circleCrop() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).circleCrop();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).circleCrop();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transform(Transformation<Bitmap>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> transform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transforms(Transformation<Bitmap>[])
-   */
-  @NonNull
-  @CheckResult
-  @SuppressWarnings({
-      "unchecked",
-      "varargs"
-  })
-  public GlideRequest<TranscodeType> transforms(@NonNull Transformation<Bitmap>... transformations) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transforms(transformations);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transforms(transformations);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalTransform(Transformation<Bitmap>)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#optionalTransform(Class<T>, Transformation<T>)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).optionalTransform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).optionalTransform(clazz, transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#transform(Class<T>, Transformation<T>)
-   */
-  @NonNull
-  @CheckResult
-  public <T> GlideRequest<TranscodeType> transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).transform(clazz, transformation);
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).transform(clazz, transformation);
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#dontTransform()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> dontTransform() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontTransform();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontTransform();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#dontAnimate()
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> dontAnimate() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).dontAnimate();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).dontAnimate();
-    }
-    return this;
-  }
-
-  /**
-   * @see GlideOptions#squareThumb()
-   */
-  @CheckResult
-  @NonNull
-  public GlideRequest<TranscodeType> squareThumb() {
-    if (getMutableOptions() instanceof GlideOptions) {
-      this.requestOptions = ((GlideOptions) getMutableOptions()).squareThumb();
-    } else {
-      this.requestOptions = new GlideOptions().apply(this.requestOptions).squareThumb();
-    }
-    return this;
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> apply(@NonNull RequestOptions options) {
-    return (GlideRequest<TranscodeType>) super.apply(options);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> transition(@NonNull TransitionOptions<?, ? super TranscodeType> options) {
-    return (GlideRequest<TranscodeType>) super.transition(options);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> listener(@Nullable RequestListener<TranscodeType> listener) {
-    return (GlideRequest<TranscodeType>) super.listener(listener);
-  }
-
-  @Override
-  @NonNull
-  public GlideRequest<TranscodeType> error(@Nullable RequestBuilder<TranscodeType> builder) {
-    return (GlideRequest<TranscodeType>) super.error(builder);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> thumbnail(@Nullable RequestBuilder<TranscodeType> builder) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(builder);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  @SafeVarargs
-  @SuppressWarnings("varargs")
-  public final GlideRequest<TranscodeType> thumbnail(@Nullable RequestBuilder<TranscodeType>... builders) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(builders);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> thumbnail(float sizeMultiplier) {
-    return (GlideRequest<TranscodeType>) super.thumbnail(sizeMultiplier);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Object o) {
-    return (GlideRequest<TranscodeType>) super.load(o);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Bitmap bitmap) {
-    return (GlideRequest<TranscodeType>) super.load(bitmap);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Drawable drawable) {
-    return (GlideRequest<TranscodeType>) super.load(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable String string) {
-    return (GlideRequest<TranscodeType>) super.load(string);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable Uri uri) {
-    return (GlideRequest<TranscodeType>) super.load(uri);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable File file) {
-    return (GlideRequest<TranscodeType>) super.load(file);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@RawRes @DrawableRes @Nullable Integer id) {
-    return (GlideRequest<TranscodeType>) super.load(id);
-  }
-
-  @Override
-  @Deprecated
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable URL url) {
-    return (GlideRequest<TranscodeType>) super.load(url);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<TranscodeType> load(@Nullable byte[] bytes) {
-    return (GlideRequest<TranscodeType>) super.load(bytes);
-  }
-
-  @Override
-  @CheckResult
-  public GlideRequest<TranscodeType> clone() {
-    return (GlideRequest<TranscodeType>) super.clone();
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithTypeTest/ExtensionWithType.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithTypeTest/ExtensionWithType.java
deleted file mode 100644
index 47c22dd4d..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithTypeTest/ExtensionWithType.java
+++ /dev/null
@@ -1,16 +0,0 @@
-package com.bumptech.glide.test;
-
-import com.bumptech.glide.RequestBuilder;
-import com.bumptech.glide.annotation.GlideExtension;
-import com.bumptech.glide.annotation.GlideType;
-
-@GlideExtension
-public final class ExtensionWithType {
-
-  private ExtensionWithType() {
-    // Utility class.
-  }
-
-  @GlideType(Number.class)
-  public static void asInteger(RequestBuilder<Number> builder) {}
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithTypeTest/GlideOptions.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithTypeTest/GlideOptions.java
deleted file mode 100644
index 558dc9f8c..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithTypeTest/GlideOptions.java
+++ /dev/null
@@ -1,620 +0,0 @@
-package com.bumptech.glide.test;
-
-import android.content.res.Resources;
-import android.graphics.Bitmap;
-import android.graphics.drawable.Drawable;
-import android.support.annotation.CheckResult;
-import android.support.annotation.DrawableRes;
-import android.support.annotation.FloatRange;
-import android.support.annotation.IntRange;
-import android.support.annotation.NonNull;
-import android.support.annotation.Nullable;
-import com.bumptech.glide.Priority;
-import com.bumptech.glide.load.DecodeFormat;
-import com.bumptech.glide.load.Key;
-import com.bumptech.glide.load.Option;
-import com.bumptech.glide.load.Transformation;
-import com.bumptech.glide.load.engine.DiskCacheStrategy;
-import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
-import com.bumptech.glide.request.RequestOptions;
-import java.lang.Class;
-import java.lang.Cloneable;
-import java.lang.Override;
-import java.lang.SafeVarargs;
-import java.lang.SuppressWarnings;
-
-/**
- * Automatically generated from {@link com.bumptech.glide.annotation.GlideExtension} annotated classes.
- *
- * @see RequestOptions
- * @see ExtensionWithType
- */
-@SuppressWarnings("deprecation")
-public final class GlideOptions extends RequestOptions implements Cloneable {
-  private static GlideOptions fitCenterTransform0;
-
-  private static GlideOptions centerInsideTransform1;
-
-  private static GlideOptions centerCropTransform2;
-
-  private static GlideOptions circleCropTransform3;
-
-  private static GlideOptions noTransformation4;
-
-  private static GlideOptions noAnimation5;
-
-  /**
-   * @see RequestOptions#sizeMultiplierOf(float)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions sizeMultiplierOf(@FloatRange(from = 0.0, to = 1.0) float value) {
-    return new GlideOptions().sizeMultiplier(value);
-  }
-
-  /**
-   * @see RequestOptions#diskCacheStrategyOf(DiskCacheStrategy)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions diskCacheStrategyOf(@NonNull DiskCacheStrategy strategy) {
-    return new GlideOptions().diskCacheStrategy(strategy);
-  }
-
-  /**
-   * @see RequestOptions#priorityOf(Priority)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions priorityOf(@NonNull Priority priority) {
-    return new GlideOptions().priority(priority);
-  }
-
-  /**
-   * @see RequestOptions#placeholderOf(Drawable)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions placeholderOf(@Nullable Drawable drawable) {
-    return new GlideOptions().placeholder(drawable);
-  }
-
-  /**
-   * @see RequestOptions#placeholderOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions placeholderOf(@DrawableRes int id) {
-    return new GlideOptions().placeholder(id);
-  }
-
-  /**
-   * @see RequestOptions#errorOf(Drawable)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions errorOf(@Nullable Drawable drawable) {
-    return new GlideOptions().error(drawable);
-  }
-
-  /**
-   * @see RequestOptions#errorOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions errorOf(@DrawableRes int id) {
-    return new GlideOptions().error(id);
-  }
-
-  /**
-   * @see RequestOptions#skipMemoryCacheOf(boolean)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions skipMemoryCacheOf(boolean skipMemoryCache) {
-    return new GlideOptions().skipMemoryCache(skipMemoryCache);
-  }
-
-  /**
-   * @see RequestOptions#overrideOf(int, int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions overrideOf(@IntRange(from = 0) int value0,
-      @IntRange(from = 0) int value1) {
-    return new GlideOptions().override(value0, value1);
-  }
-
-  /**
-   * @see RequestOptions#overrideOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions overrideOf(@IntRange(from = 0) int value) {
-    return new GlideOptions().override(value);
-  }
-
-  /**
-   * @see RequestOptions#signatureOf(Key)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions signatureOf(@NonNull Key key) {
-    return new GlideOptions().signature(key);
-  }
-
-  /**
-   * @see RequestOptions#fitCenterTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions fitCenterTransform() {
-    if (GlideOptions.fitCenterTransform0 == null) {
-      GlideOptions.fitCenterTransform0 =
-          new GlideOptions().fitCenter().autoClone();
-    }
-    return GlideOptions.fitCenterTransform0;
-  }
-
-  /**
-   * @see RequestOptions#centerInsideTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions centerInsideTransform() {
-    if (GlideOptions.centerInsideTransform1 == null) {
-      GlideOptions.centerInsideTransform1 =
-          new GlideOptions().centerInside().autoClone();
-    }
-    return GlideOptions.centerInsideTransform1;
-  }
-
-  /**
-   * @see RequestOptions#centerCropTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions centerCropTransform() {
-    if (GlideOptions.centerCropTransform2 == null) {
-      GlideOptions.centerCropTransform2 =
-          new GlideOptions().centerCrop().autoClone();
-    }
-    return GlideOptions.centerCropTransform2;
-  }
-
-  /**
-   * @see RequestOptions#circleCropTransform()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions circleCropTransform() {
-    if (GlideOptions.circleCropTransform3 == null) {
-      GlideOptions.circleCropTransform3 =
-          new GlideOptions().circleCrop().autoClone();
-    }
-    return GlideOptions.circleCropTransform3;
-  }
-
-  /**
-   * @see RequestOptions#bitmapTransform(Transformation)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions bitmapTransform(@NonNull Transformation<Bitmap> transformation) {
-    return new GlideOptions().transform(transformation);
-  }
-
-  /**
-   * @see RequestOptions#noTransformation()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions noTransformation() {
-    if (GlideOptions.noTransformation4 == null) {
-      GlideOptions.noTransformation4 =
-          new GlideOptions().dontTransform().autoClone();
-    }
-    return GlideOptions.noTransformation4;
-  }
-
-  /**
-   * @see RequestOptions#option(Option, T)
-   */
-  @CheckResult
-  @NonNull
-  public static <T> GlideOptions option(@NonNull Option<T> option, @NonNull T t) {
-    return new GlideOptions().set(option, t);
-  }
-
-  /**
-   * @see RequestOptions#decodeTypeOf(Class)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions decodeTypeOf(@NonNull Class<?> clazz) {
-    return new GlideOptions().decode(clazz);
-  }
-
-  /**
-   * @see RequestOptions#formatOf(DecodeFormat)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions formatOf(@NonNull DecodeFormat format) {
-    return new GlideOptions().format(format);
-  }
-
-  /**
-   * @see RequestOptions#frameOf(long)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions frameOf(@IntRange(from = 0) long value) {
-    return new GlideOptions().frame(value);
-  }
-
-  /**
-   * @see RequestOptions#downsampleOf(DownsampleStrategy)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions downsampleOf(@NonNull DownsampleStrategy strategy) {
-    return new GlideOptions().downsample(strategy);
-  }
-
-  /**
-   * @see RequestOptions#timeoutOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions timeoutOf(@IntRange(from = 0) int value) {
-    return new GlideOptions().timeout(value);
-  }
-
-  /**
-   * @see RequestOptions#encodeQualityOf(int)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions encodeQualityOf(@IntRange(from = 0, to = 100) int value) {
-    return new GlideOptions().encodeQuality(value);
-  }
-
-  /**
-   * @see RequestOptions#encodeFormatOf(CompressFormat)
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions encodeFormatOf(@NonNull Bitmap.CompressFormat format) {
-    return new GlideOptions().encodeFormat(format);
-  }
-
-  /**
-   * @see RequestOptions#noAnimation()
-   */
-  @CheckResult
-  @NonNull
-  public static GlideOptions noAnimation() {
-    if (GlideOptions.noAnimation5 == null) {
-      GlideOptions.noAnimation5 =
-          new GlideOptions().dontAnimate().autoClone();
-    }
-    return GlideOptions.noAnimation5;
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions sizeMultiplier(@FloatRange(from = 0.0, to = 1.0) float value) {
-    return (GlideOptions) super.sizeMultiplier(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
-    return (GlideOptions) super.useUnlimitedSourceGeneratorsPool(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions useAnimationPool(boolean flag) {
-    return (GlideOptions) super.useAnimationPool(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions onlyRetrieveFromCache(boolean flag) {
-    return (GlideOptions) super.onlyRetrieveFromCache(flag);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    return (GlideOptions) super.diskCacheStrategy(strategy);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions priority(@NonNull Priority priority) {
-    return (GlideOptions) super.priority(priority);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions placeholder(@Nullable Drawable drawable) {
-    return (GlideOptions) super.placeholder(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions placeholder(@DrawableRes int id) {
-    return (GlideOptions) super.placeholder(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fallback(@Nullable Drawable drawable) {
-    return (GlideOptions) super.fallback(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fallback(@DrawableRes int id) {
-    return (GlideOptions) super.fallback(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions error(@Nullable Drawable drawable) {
-    return (GlideOptions) super.error(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions error(@DrawableRes int id) {
-    return (GlideOptions) super.error(id);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions theme(@Nullable Resources.Theme theme) {
-    return (GlideOptions) super.theme(theme);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions skipMemoryCache(boolean skip) {
-    return (GlideOptions) super.skipMemoryCache(skip);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions override(int width, int height) {
-    return (GlideOptions) super.override(width, height);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions override(int size) {
-    return (GlideOptions) super.override(size);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions signature(@NonNull Key key) {
-    return (GlideOptions) super.signature(key);
-  }
-
-  @Override
-  @CheckResult
-  public final GlideOptions clone() {
-    return (GlideOptions) super.clone();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions set(@NonNull Option<T> option, @NonNull T t) {
-    return (GlideOptions) super.set(option, t);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions decode(@NonNull Class<?> clazz) {
-    return (GlideOptions) super.decode(clazz);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    return (GlideOptions) super.encodeFormat(format);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions encodeQuality(@IntRange(from = 0, to = 100) int value) {
-    return (GlideOptions) super.encodeQuality(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions frame(@IntRange(from = 0) long value) {
-    return (GlideOptions) super.frame(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions format(@NonNull DecodeFormat format) {
-    return (GlideOptions) super.format(format);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions disallowHardwareConfig() {
-    return (GlideOptions) super.disallowHardwareConfig();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions downsample(@NonNull DownsampleStrategy strategy) {
-    return (GlideOptions) super.downsample(strategy);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions timeout(@IntRange(from = 0) int value) {
-    return (GlideOptions) super.timeout(value);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCenterCrop() {
-    return (GlideOptions) super.optionalCenterCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions centerCrop() {
-    return (GlideOptions) super.centerCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalFitCenter() {
-    return (GlideOptions) super.optionalFitCenter();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions fitCenter() {
-    return (GlideOptions) super.fitCenter();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCenterInside() {
-    return (GlideOptions) super.optionalCenterInside();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions centerInside() {
-    return (GlideOptions) super.centerInside();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalCircleCrop() {
-    return (GlideOptions) super.optionalCircleCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions circleCrop() {
-    return (GlideOptions) super.circleCrop();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions transform(@NonNull Transformation<Bitmap> transformation) {
-    return (GlideOptions) super.transform(transformation);
-  }
-
-  @Override
-  @SafeVarargs
-  @SuppressWarnings("varargs")
-  @NonNull
-  @CheckResult
-  public final GlideOptions transforms(@NonNull Transformation<Bitmap>... transformations) {
-    return (GlideOptions) super.transforms(transformations);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    return (GlideOptions) super.optionalTransform(transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions optionalTransform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    return (GlideOptions) super.optionalTransform(clazz, transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final <T> GlideOptions transform(@NonNull Class<T> clazz,
-      @NonNull Transformation<T> transformation) {
-    return (GlideOptions) super.transform(clazz, transformation);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions dontTransform() {
-    return (GlideOptions) super.dontTransform();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions dontAnimate() {
-    return (GlideOptions) super.dontAnimate();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public final GlideOptions apply(@NonNull RequestOptions options) {
-    return (GlideOptions) super.apply(options);
-  }
-
-  @Override
-  @NonNull
-  public final GlideOptions lock() {
-    return (GlideOptions) super.lock();
-  }
-
-  @Override
-  @NonNull
-  public final GlideOptions autoClone() {
-    return (GlideOptions) super.autoClone();
-  }
-}
diff --git a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithTypeTest/GlideRequests.java b/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithTypeTest/GlideRequests.java
deleted file mode 100644
index 69707f838..000000000
--- a/annotation/compiler/test/src/test/resources/LegacyGlideExtensionWithTypeTest/GlideRequests.java
+++ /dev/null
@@ -1,185 +0,0 @@
-package com.bumptech.glide.test;
-
-import android.content.Context;
-import android.graphics.Bitmap;
-import android.graphics.drawable.Drawable;
-import android.net.Uri;
-import android.support.annotation.CheckResult;
-import android.support.annotation.DrawableRes;
-import android.support.annotation.NonNull;
-import android.support.annotation.Nullable;
-import android.support.annotation.RawRes;
-import com.bumptech.glide.Glide;
-import com.bumptech.glide.RequestManager;
-import com.bumptech.glide.load.resource.gif.GifDrawable;
-import com.bumptech.glide.manager.Lifecycle;
-import com.bumptech.glide.manager.RequestManagerTreeNode;
-import com.bumptech.glide.request.RequestOptions;
-import java.io.File;
-import java.lang.Class;
-import java.lang.Deprecated;
-import java.lang.Integer;
-import java.lang.Number;
-import java.lang.Object;
-import java.lang.Override;
-import java.lang.String;
-import java.lang.SuppressWarnings;
-import java.net.URL;
-
-/**
- * Includes all additions from methods in {@link com.bumptech.glide.annotation.GlideExtension}s
- * annotated with {@link com.bumptech.glide.annotation.GlideType}
- *
- * <p>Generated code, do not modify
- */
-@SuppressWarnings("deprecation")
-public class GlideRequests extends RequestManager {
-  public GlideRequests(@NonNull Glide glide, @NonNull Lifecycle lifecycle,
-      @NonNull RequestManagerTreeNode treeNode, @NonNull Context context) {
-    super(glide, lifecycle, treeNode, context);
-  }
-
-  @Override
-  @CheckResult
-  @NonNull
-  public <ResourceType> GlideRequest<ResourceType> as(@NonNull Class<ResourceType> resourceClass) {
-    return new GlideRequest<>(glide, this, resourceClass, context);
-  }
-
-  /**
-   * @see ExtensionWithType#asInteger(RequestBuilder)
-   */
-  @NonNull
-  @CheckResult
-  public GlideRequest<Number> asInteger() {
-    GlideRequest<Number> requestBuilder = this.as(Number.class);
-    ExtensionWithType.asInteger(requestBuilder);
-    return requestBuilder;
-  }
-
-  @Override
-  @NonNull
-  public GlideRequests applyDefaultRequestOptions(@NonNull RequestOptions options) {
-    return (GlideRequests) super.applyDefaultRequestOptions(options);
-  }
-
-  @Override
-  @NonNull
-  public GlideRequests setDefaultRequestOptions(@NonNull RequestOptions options) {
-    return (GlideRequests) super.setDefaultRequestOptions(options);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<Bitmap> asBitmap() {
-    return (GlideRequest<Bitmap>) super.asBitmap();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<GifDrawable> asGif() {
-    return (GlideRequest<GifDrawable>) super.asGif();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<Drawable> asDrawable() {
-    return (GlideRequest<Drawable>) super.asDrawable();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<Drawable> load(@Nullable Bitmap bitmap) {
-    return (GlideRequest<Drawable>) super.load(bitmap);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<Drawable> load(@Nullable Drawable drawable) {
-    return (GlideRequest<Drawable>) super.load(drawable);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<Drawable> load(@Nullable String string) {
-    return (GlideRequest<Drawable>) super.load(string);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<Drawable> load(@Nullable Uri uri) {
-    return (GlideRequest<Drawable>) super.load(uri);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<Drawable> load(@Nullable File file) {
-    return (GlideRequest<Drawable>) super.load(file);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<Drawable> load(@RawRes @DrawableRes @Nullable Integer id) {
-    return (GlideRequest<Drawable>) super.load(id);
-  }
-
-  @Override
-  @Deprecated
-  @CheckResult
-  public GlideRequest<Drawable> load(@Nullable URL url) {
-    return (GlideRequest<Drawable>) super.load(url);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<Drawable> load(@Nullable byte[] bytes) {
-    return (GlideRequest<Drawable>) super.load(bytes);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<Drawable> load(@Nullable Object o) {
-    return (GlideRequest<Drawable>) super.load(o);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<File> downloadOnly() {
-    return (GlideRequest<File>) super.downloadOnly();
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<File> download(@Nullable Object o) {
-    return (GlideRequest<File>) super.download(o);
-  }
-
-  @Override
-  @NonNull
-  @CheckResult
-  public GlideRequest<File> asFile() {
-    return (GlideRequest<File>) super.asFile();
-  }
-
-  @Override
-  protected void setRequestOptions(@NonNull RequestOptions toSet) {
-    if (toSet instanceof com.bumptech.glide.test.GlideOptions) {
-      super.setRequestOptions(toSet);
-    } else {
-      super.setRequestOptions(new com.bumptech.glide.test.GlideOptions().apply(toSet));
-    }
-  }
-}
diff --git a/build.gradle b/build.gradle
index d9423ea2d..c689d6105 100644
--- a/build.gradle
+++ b/build.gradle
@@ -67,7 +67,16 @@ subprojects { project ->
                  * See https://github.com/google/dagger/issues/945
                  * and https://bugs.openjdk.java.net/browse/JDK-8190452
                  */ \
-                << "-Xlint:-classfile"
+                << "-Xlint:-classfile" \
+                /*
+                 * Disable deprecation warnings for ViewTarget/BaseTarget for now.
+                 */ \
+                << "-Xlint:-deprecation"
+
+            if (project.plugins.hasPlugin('net.ltgt.errorprone')) {
+                // It's often useful to track individual objects when debugging object pooling.
+                options.compilerArgs << "-Xep:ObjectToString:OFF"
+            }
         }
     }
 
diff --git a/gradle.properties b/gradle.properties
index 7b9e0f9a6..0af4d3a62 100644
--- a/gradle.properties
+++ b/gradle.properties
@@ -1,10 +1,10 @@
 org.gradle.daemon=true
-org.gradle.configureondemand=true
+org.gradle.configureondemand=false
 
-VERSION_NAME=4.6.1
+VERSION_NAME=4.9.0-SNAPSHOT
 VERSION_MAJOR=4
-VERSION_MINOR=6
-VERSION_PATCH=1
+VERSION_MINOR=9
+VERSION_PATCH=0
 GROUP=com.github.bumptech.glide
 
 POM_DESCRIPTION=A fast and efficient image loading library for Android focused on smooth scrolling.
@@ -15,16 +15,17 @@ POM_SCM_DEV_CONNECTION=scm:git@github.com:bumptech/glide.git
 POM_DEVELOPER_ID=sjudd
 POM_DEVELOPER_NAME=Sam Judd
 POM_DEVELOPER_EMAIL=judds@google.com
-ANDROID_SUPPORT_VERSION=27.1.0
+ANDROID_SUPPORT_VERSION=27.1.1
+ANDROIDX_TEST_VERSION=1.1.0-alpha4
 VOLLEY_VERSION=1.0.0
 OK_HTTP_VERSION=3.9.1
-ANDROID_GRADLE_VERSION=3.0.1
+ANDROID_GRADLE_VERSION=3.1.3
 DAGGER_VERSION=2.11
 
 JUNIT_VERSION=4.13-SNAPSHOT
 # Matches the version in Google.
 MOCKITO_VERSION=1.9.5
-MOCKITO_ANDROID_VERSION=2.11.0
+MOCKITO_ANDROID_VERSION=2.21.0
 ROBOLECTRIC_VERSION=3.6.1
 MOCKWEBSERVER_VERSION=3.0.0-RC1
 TRUTH_VERSION=0.36
@@ -34,7 +35,7 @@ JAVAPOET_VERSION=1.9.0
 
 PMD_VERSION=6.0.0
 FINDBUGS_VERSION=3.0.0
-ERROR_PRONE_VERSION=2.1.4-SNAPSHOT
+ERROR_PRONE_VERSION=2.3.1
 ERROR_PRONE_PLUGIN_VERSION=0.0.13
 VIOLATIONS_PLUGIN_VERSION=1.8
 
diff --git a/instrumentation/build.gradle b/instrumentation/build.gradle
index c9ab489a7..84c4dc6f2 100644
--- a/instrumentation/build.gradle
+++ b/instrumentation/build.gradle
@@ -19,14 +19,13 @@ dependencies {
     androidTestImplementation "org.mockito:mockito-android:${MOCKITO_ANDROID_VERSION}"
     androidTestImplementation "com.android.support:support-fragment:${ANDROID_SUPPORT_VERSION}"
     androidTestImplementation "com.android.support:support-annotations:${ANDROID_SUPPORT_VERSION}"
-    androidTestImplementation 'com.android.support.test:runner:1.0.1'
-    androidTestImplementation 'com.android.support.test:rules:1.0.1'
+    androidTestImplementation "androidx.test:runner:${ANDROIDX_TEST_VERSION}"
+    androidTestImplementation "androidx.test:rules:${ANDROIDX_TEST_VERSION}"
     androidTestImplementation "com.google.truth:truth:${TRUTH_VERSION}"
     androidTestImplementation "junit:junit:${JUNIT_VERSION}"
     // Not totally clear why this is required, but it seems to be missing when tests are run on
     // 4.1.2 and 4.2.0 emulators.
     androidTestImplementation 'com.google.code.findbugs:jsr305:3.0.2'
-
 }
 
 android {
@@ -38,7 +37,7 @@ android {
         targetSdkVersion TARGET_SDK_VERSION as int
         versionCode 1
         versionName '1.0'
-        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
+        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
     }
 
     compileOptions {
diff --git a/instrumentation/src/androidTest/java/android/support/test/InstrumentationRegistry.java b/instrumentation/src/androidTest/java/android/support/test/InstrumentationRegistry.java
new file mode 100644
index 000000000..0b988917e
--- /dev/null
+++ b/instrumentation/src/androidTest/java/android/support/test/InstrumentationRegistry.java
@@ -0,0 +1,10 @@
+package android.support.test;
+
+import android.content.Context;
+
+// Workaround for https://github.com/mockito/mockito/issues/1472.
+public final class InstrumentationRegistry {
+  public static Context getTargetContext() {
+    return androidx.test.InstrumentationRegistry.getTargetContext();
+  }
+}
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/AsBytesTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/AsBytesTest.java
index 920e9635b..fdc9d34cd 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/AsBytesTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/AsBytesTest.java
@@ -8,8 +8,8 @@
 import android.graphics.BitmapFactory;
 import android.graphics.drawable.BitmapDrawable;
 import android.net.Uri;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.test.ConcurrencyHelper;
 import com.bumptech.glide.test.GlideApp;
 import com.bumptech.glide.test.ResourceIds;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/AsFileTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/AsFileTest.java
index 057c95c5a..364ef5150 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/AsFileTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/AsFileTest.java
@@ -5,8 +5,8 @@
 import static org.junit.Assert.fail;
 
 import android.content.Context;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.test.ConcurrencyHelper;
 import com.bumptech.glide.test.GlideApp;
@@ -18,59 +18,54 @@
 import java.io.File;
 import java.io.IOException;
 import java.io.InputStream;
+import org.junit.Before;
 import org.junit.Rule;
 import org.junit.Test;
 import org.junit.runner.RunWith;
 
 @RunWith(AndroidJUnit4.class)
 public class AsFileTest {
+  private static final String URL = "https://imgs.xkcd.com/comics/mc_hammer_age.png";
   @Rule public final TearDownGlide tearDownGlide = new TearDownGlide();
   private final ConcurrencyHelper concurrency = new ConcurrencyHelper();
   private final Context context = InstrumentationRegistry.getTargetContext();
 
+  @Before
+  public void setUp() {
+    MockModelLoader.mock(URL, getData());
+  }
+
   @Test
   public void asFile_withUrl_succeeds() {
-    String url = "https://www.w3schools.com/howto/img_fjords.jpg";
-
-    MockModelLoader.mock(url, getData());
-
     File file =
         concurrency.get(
             GlideApp.with(context)
                 .asFile()
-                .load("https://www.w3schools.com/howto/img_fjords.jpg")
+                .load(URL)
                 .submit());
     assertThat(file).isNotNull();
   }
 
   @Test
   public void asFile_withUrlAndDiskCacheStrategyData_succeeds() {
-    String url = "https://www.w3schools.com/howto/img_fjords.jpg";
-
-    MockModelLoader.mock(url, getData());
-
     File file =
         concurrency.get(
             GlideApp.with(context)
                 .asFile()
                 .diskCacheStrategy(DiskCacheStrategy.DATA)
-                .load("https://www.w3schools.com/howto/img_fjords.jpg")
+                .load(URL)
                 .submit());
     assertThat(file).isNotNull();
   }
 
   @Test
   public void asFile_withUrlAndDiskCacheStrategyResource_fails() {
-    String url = "https://www.w3schools.com/howto/img_fjords.jpg";
-
-    MockModelLoader.mock(url, getData());
-
     try {
       concurrency.get(
           GlideApp.with(context)
               .asFile()
               .diskCacheStrategy(DiskCacheStrategy.RESOURCE)
-              .load("https://www.w3schools.com/howto/img_fjords.jpg")
+              .load(URL)
               .submit());
       fail();
     } catch (RuntimeException e) {
@@ -80,16 +75,12 @@ public void asFile_withUrlAndDiskCacheStrategyResource_fails() {
 
   @Test
   public void asFile_withUrlAndDiskCacheStrategyAll_fails() {
-    String url = "https://www.w3schools.com/howto/img_fjords.jpg";
-
-    MockModelLoader.mock(url, getData());
-
     try {
       concurrency.get(
           GlideApp.with(context)
               .asFile()
               .diskCacheStrategy(DiskCacheStrategy.ALL)
-              .load("https://www.w3schools.com/howto/img_fjords.jpg")
+              .load(URL)
               .submit());
       fail();
     } catch (RuntimeException e) {
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/CachingTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/CachingTest.java
index 194d5afbf..cd2ef820f 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/CachingTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/CachingTest.java
@@ -17,10 +17,10 @@
 import android.graphics.drawable.Drawable;
 import android.os.Handler;
 import android.os.Looper;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
 import android.view.ViewGroup.LayoutParams;
 import android.widget.ImageView;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.load.DataSource;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.engine.cache.LruResourceCache;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/CenterCropRegressionTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/CenterCropRegressionTest.java
index 17e397879..b98962c90 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/CenterCropRegressionTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/CenterCropRegressionTest.java
@@ -4,8 +4,8 @@
 
 import android.content.Context;
 import android.graphics.Bitmap;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.test.BitmapRegressionTester;
 import com.bumptech.glide.test.CanonicalBitmap;
 import com.bumptech.glide.test.GlideApp;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/CenterInsideRegressionTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/CenterInsideRegressionTest.java
index 5643c3b73..0f9d5727f 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/CenterInsideRegressionTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/CenterInsideRegressionTest.java
@@ -4,8 +4,8 @@
 
 import android.content.Context;
 import android.graphics.Bitmap;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.test.BitmapRegressionTester;
 import com.bumptech.glide.test.CanonicalBitmap;
 import com.bumptech.glide.test.GlideApp;
@@ -17,7 +17,6 @@
 import org.junit.Before;
 import org.junit.Rule;
 import org.junit.Test;
-import org.junit.rules.ExpectedException;
 import org.junit.rules.TestName;
 import org.junit.runner.RunWith;
 
@@ -27,7 +26,6 @@
 @RegressionTest
 public class CenterInsideRegressionTest {
   @Rule public final TestName testName = new TestName();
-  @Rule public final ExpectedException expectedException = ExpectedException.none();
   @Rule public final TearDownGlide tearDownGlide = new TearDownGlide();
   private BitmapRegressionTester bitmapRegressionTester;
   private Context context;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/CircleCropRegressionTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/CircleCropRegressionTest.java
index d64c521e9..a2df666d1 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/CircleCropRegressionTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/CircleCropRegressionTest.java
@@ -4,8 +4,8 @@
 
 import android.content.Context;
 import android.graphics.Bitmap;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.test.BitmapRegressionTester;
 import com.bumptech.glide.test.CanonicalBitmap;
 import com.bumptech.glide.test.GlideApp;
@@ -17,7 +17,6 @@
 import org.junit.Before;
 import org.junit.Rule;
 import org.junit.Test;
-import org.junit.rules.ExpectedException;
 import org.junit.rules.TestName;
 import org.junit.runner.RunWith;
 
@@ -27,7 +26,6 @@
 @RegressionTest
 public class CircleCropRegressionTest {
   @Rule public final TestName testName = new TestName();
-  @Rule public final ExpectedException expectedException = ExpectedException.none();
   @Rule public final TearDownGlide tearDownGlide = new TearDownGlide();
   private BitmapRegressionTester bitmapRegressionTester;
   private Context context;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/DataUriTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/DataUriTest.java
index 87ae694a7..014d0942b 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/DataUriTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/DataUriTest.java
@@ -8,10 +8,10 @@
 import android.graphics.drawable.BitmapDrawable;
 import android.graphics.drawable.Drawable;
 import android.net.Uri;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
 import android.support.v4.content.ContextCompat;
 import android.util.Base64;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.test.ConcurrencyHelper;
 import com.bumptech.glide.test.ResourceIds;
 import com.bumptech.glide.test.TearDownGlide;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/DownsampleVideoTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/DownsampleVideoTest.java
index 0035a04a6..d84b55ac8 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/DownsampleVideoTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/DownsampleVideoTest.java
@@ -6,8 +6,8 @@
 import android.content.Context;
 import android.graphics.Bitmap;
 import android.os.Build;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
 import com.bumptech.glide.request.target.Target;
 import com.bumptech.glide.test.ConcurrencyHelper;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/DrawableTransformationTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/DrawableTransformationTest.java
index 370805966..033aecfec 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/DrawableTransformationTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/DrawableTransformationTest.java
@@ -1,6 +1,7 @@
 package com.bumptech.glide;
 
 import static com.google.common.truth.Truth.assertThat;
+import static org.junit.Assert.assertThrows;
 import static org.mockito.Mockito.mock;
 import static org.mockito.Mockito.when;
 
@@ -12,8 +13,8 @@
 import android.graphics.drawable.BitmapDrawable;
 import android.graphics.drawable.ColorDrawable;
 import android.graphics.drawable.Drawable;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.load.engine.bitmap_recycle.BitmapPool;
 import com.bumptech.glide.load.resource.bitmap.TransformationUtils;
 import com.bumptech.glide.request.RequestOptions;
@@ -22,15 +23,12 @@
 import java.util.concurrent.ExecutionException;
 import org.junit.After;
 import org.junit.Before;
-import org.junit.Rule;
 import org.junit.Test;
-import org.junit.rules.ExpectedException;
+import org.junit.function.ThrowingRunnable;
 import org.junit.runner.RunWith;
 
 @RunWith(AndroidJUnit4.class)
 public class DrawableTransformationTest {
-  @Rule public final ExpectedException expectedException = ExpectedException.none();
-
   private Context context;
 
   @Before
@@ -117,15 +115,21 @@ public void load_withColorDrawable_fixedSize_nonUnitRequiredTransform_returnsBit
   @Test
   public void load_withColorDrawable_sizeOriginal_requiredTransform_fails()
       throws ExecutionException, InterruptedException {
-    Drawable colorDrawable = new ColorDrawable(Color.RED);
-
-    expectedException.expect(ExecutionException.class);
-    Glide.with(context)
-        .load(colorDrawable)
-        .apply(new RequestOptions()
-            .centerCrop())
-        .submit()
-        .get();
+    final Drawable colorDrawable = new ColorDrawable(Color.RED);
+
+    assertThrows(
+        ExecutionException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() throws Throwable {
+            Glide.with(context)
+                .load(colorDrawable)
+                .apply(new RequestOptions()
+                    .centerCrop())
+                .submit()
+                .get();
+          }
+        });
   }
 
   @Test
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/ErrorHandlingTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/ErrorHandlingTest.java
index 2e4898227..2e6dcbb74 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/ErrorHandlingTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/ErrorHandlingTest.java
@@ -13,8 +13,8 @@
 import android.graphics.drawable.Drawable;
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.load.DataSource;
 import com.bumptech.glide.load.EncodeStrategy;
 import com.bumptech.glide.load.Options;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/ExternallyClearedDiskCacheTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/ExternallyClearedDiskCacheTest.java
index bdda5fed0..5945ef428 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/ExternallyClearedDiskCacheTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/ExternallyClearedDiskCacheTest.java
@@ -5,8 +5,8 @@
 
 import android.content.Context;
 import android.graphics.drawable.Drawable;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.load.Key;
 import com.bumptech.glide.load.engine.cache.DiskCache;
 import com.bumptech.glide.load.engine.cache.DiskCache.Factory;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/FitCenterRegressionTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/FitCenterRegressionTest.java
index b78a20779..b2f7a4aa4 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/FitCenterRegressionTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/FitCenterRegressionTest.java
@@ -1,11 +1,12 @@
 package com.bumptech.glide;
 
 import static com.google.common.truth.Truth.assertThat;
+import static org.junit.Assert.assertThrows;
 
 import android.content.Context;
 import android.graphics.Bitmap;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.test.BitmapRegressionTester;
 import com.bumptech.glide.test.CanonicalBitmap;
 import com.bumptech.glide.test.GlideApp;
@@ -17,7 +18,7 @@
 import org.junit.Before;
 import org.junit.Rule;
 import org.junit.Test;
-import org.junit.rules.ExpectedException;
+import org.junit.function.ThrowingRunnable;
 import org.junit.rules.TestName;
 import org.junit.runner.RunWith;
 
@@ -27,7 +28,6 @@
 @RegressionTest
 public class FitCenterRegressionTest {
   @Rule public final TestName testName = new TestName();
-  @Rule public final ExpectedException expectedException = ExpectedException.none();
   @Rule public final TearDownGlide tearDownGlide = new TearDownGlide();
   private BitmapRegressionTester bitmapRegressionTester;
   private Context context;
@@ -108,16 +108,23 @@ public void fitCenter_withShortRectangle_fitsWithinMaintainingAspectRatio()
   public void fitCenter_withHugeRectangle_throwsOOM()
       throws ExecutionException, InterruptedException {
     float multiplier = Integer.MAX_VALUE / (canonical.getWidth() * canonical.getHeight() * 2);
-    int overrideWidth = (int) multiplier * canonical.getWidth();
-    int overrideHeight = (int) multiplier * canonical.getHeight();
-    expectedException.expect(ExecutionException.class);
-    GlideApp
-        .with(context)
-        .asBitmap()
-        .load(canonical.getBitmap())
-        .fitCenter()
-        .override(overrideWidth, overrideHeight)
-        .submit()
-        .get();
+    final int overrideWidth = (int) multiplier * canonical.getWidth();
+    final int overrideHeight = (int) multiplier * canonical.getHeight();
+
+    assertThrows(
+        ExecutionException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() throws Throwable {
+            GlideApp
+                .with(context)
+                .asBitmap()
+                .load(canonical.getBitmap())
+                .fitCenter()
+                .override(overrideWidth, overrideHeight)
+                .submit()
+                .get();
+          }
+        });
   }
 }
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/LoadBitmapTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/LoadBitmapTest.java
index 4e9ff73da..7365aa0c5 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/LoadBitmapTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/LoadBitmapTest.java
@@ -15,8 +15,8 @@
 import android.graphics.Bitmap;
 import android.graphics.BitmapFactory;
 import android.graphics.drawable.Drawable;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.load.DataSource;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.engine.bitmap_recycle.BitmapPoolAdapter;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/LoadBytesTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/LoadBytesTest.java
index b6abc374d..db3802c31 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/LoadBytesTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/LoadBytesTest.java
@@ -17,10 +17,10 @@
 import android.graphics.BitmapFactory;
 import android.graphics.drawable.BitmapDrawable;
 import android.graphics.drawable.Drawable;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
 import android.widget.AbsListView.LayoutParams;
 import android.widget.ImageView;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.load.DataSource;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.engine.executor.GlideExecutor;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/LoadDrawableTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/LoadDrawableTest.java
index de411130c..f1290ef9e 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/LoadDrawableTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/LoadDrawableTest.java
@@ -13,8 +13,8 @@
 import android.graphics.BitmapFactory;
 import android.graphics.drawable.BitmapDrawable;
 import android.graphics.drawable.Drawable;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.load.DataSource;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
 import com.bumptech.glide.load.engine.bitmap_recycle.BitmapPoolAdapter;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/LoadResourcesWithDownsamplerTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/LoadResourcesWithDownsamplerTest.java
index b2299e54a..38ef87b5c 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/LoadResourcesWithDownsamplerTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/LoadResourcesWithDownsamplerTest.java
@@ -13,8 +13,8 @@
 import android.os.Build;
 import android.support.annotation.DrawableRes;
 import android.support.annotation.NonNull;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.load.DataSource;
 import com.bumptech.glide.load.DecodeFormat;
 import com.bumptech.glide.load.Options;
@@ -22,6 +22,7 @@
 import com.bumptech.glide.load.model.ModelLoader;
 import com.bumptech.glide.load.model.ModelLoaderFactory;
 import com.bumptech.glide.load.model.MultiModelLoaderFactory;
+import com.bumptech.glide.load.resource.bitmap.Downsampler;
 import com.bumptech.glide.signature.ObjectKey;
 import com.bumptech.glide.test.ConcurrencyHelper;
 import com.bumptech.glide.test.GlideApp;
@@ -158,7 +159,7 @@ public void loadTransparentGifResource_asHardware_withNoOtherLoaders_decodesReso
         concurrency.get(
             GlideApp.with(context)
                 .asBitmap()
-                // Allow HARDWARE Bitmaps.
+                .set(Downsampler.ALLOW_HARDWARE_CONFIG, true)
                 .format(DecodeFormat.PREFER_ARGB_8888)
                 .load(new Object())
                 .submit());
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/LoadVideoResourceTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/LoadVideoResourceTest.java
index d99570490..6a559af37 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/LoadVideoResourceTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/LoadVideoResourceTest.java
@@ -8,8 +8,8 @@
 import android.graphics.Bitmap;
 import android.graphics.drawable.Drawable;
 import android.net.Uri;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.test.ConcurrencyHelper;
 import com.bumptech.glide.test.GlideApp;
 import com.bumptech.glide.test.ResourceIds;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/NonBitmapDrawableResourcesTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/NonBitmapDrawableResourcesTest.java
index e41db5705..3a57f5293 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/NonBitmapDrawableResourcesTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/NonBitmapDrawableResourcesTest.java
@@ -3,6 +3,7 @@
 import static com.bumptech.glide.request.RequestOptions.bitmapTransform;
 import static com.bumptech.glide.request.RequestOptions.centerCropTransform;
 import static com.google.common.truth.Truth.assertThat;
+import static org.junit.Assert.assertThrows;
 
 import android.content.ContentResolver;
 import android.content.Context;
@@ -15,8 +16,8 @@
 import android.graphics.Bitmap;
 import android.graphics.drawable.Drawable;
 import android.net.Uri;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.load.resource.bitmap.RoundedCorners;
 import com.bumptech.glide.test.ResourceIds;
 import com.bumptech.glide.test.TearDownGlide;
@@ -27,7 +28,7 @@
 import org.junit.Before;
 import org.junit.Rule;
 import org.junit.Test;
-import org.junit.rules.ExpectedException;
+import org.junit.function.ThrowingRunnable;
 import org.junit.rules.TestName;
 import org.junit.runner.RunWith;
 import org.mockito.MockitoAnnotations;
@@ -36,7 +37,6 @@
 public class NonBitmapDrawableResourcesTest {
   @Rule public final TestName testName = new TestName();
   @Rule public final TearDownGlide tearDownGlide = new TearDownGlide();
-  @Rule public final ExpectedException expectedException = ExpectedException.none();
 
   private Context context;
 
@@ -123,12 +123,19 @@ public void load_withShapeDrawableResourceId_asDrawable_producesNonNullDrawable(
   @Test
   public void load_withShapeDrawableResourceId_asDrawable_withTransformation_sizeOriginal_fails()
       throws ExecutionException, InterruptedException {
-    expectedException.expect(ExecutionException.class);
-    Glide.with(context)
-        .load(ResourceIds.drawable.shape_drawable)
-        .apply(centerCropTransform())
-        .submit()
-        .get();
+    assertThrows(
+        ExecutionException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() throws Throwable {
+            Glide.with(context)
+                .load(ResourceIds.drawable.shape_drawable)
+                .apply(centerCropTransform())
+                .submit()
+                .get();
+
+          }
+        });
   }
 
   @Test
@@ -147,12 +154,18 @@ public void load_withShapeDrawableResourceId_asDrawable_withTransformation_valid
   @Test
   public void load_withShapeDrawableResourceId_asBitmap_withSizeOriginal_fails()
       throws ExecutionException, InterruptedException {
-    expectedException.expect(ExecutionException.class);
-    Glide.with(context)
-        .asBitmap()
-        .load(ResourceIds.drawable.shape_drawable)
-        .submit()
-        .get();
+    assertThrows(
+        ExecutionException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() throws Throwable {
+            Glide.with(context)
+                .asBitmap()
+                .load(ResourceIds.drawable.shape_drawable)
+                .submit()
+                .get();
+          }
+        });
   }
 
   @Test
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/PausedRequestsTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/PausedRequestsTest.java
new file mode 100644
index 000000000..a87d44a81
--- /dev/null
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/PausedRequestsTest.java
@@ -0,0 +1,54 @@
+package com.bumptech.glide;
+
+import static com.google.common.truth.Truth.assertThat;
+
+import android.content.Context;
+import android.graphics.Color;
+import android.graphics.drawable.ColorDrawable;
+import android.widget.ImageView;
+import androidx.test.InstrumentationRegistry;
+import com.bumptech.glide.test.ConcurrencyHelper;
+import com.bumptech.glide.test.GlideApp;
+import com.bumptech.glide.test.GlideRequests;
+import com.bumptech.glide.test.ResourceIds;
+import com.bumptech.glide.test.TearDownGlide;
+import org.junit.Rule;
+import org.junit.Test;
+
+/**
+ * Tests how {@link com.bumptech.glide.request.Request}s behave when the corresponding
+ * {@link RequestManager} is paused.
+ */
+public final class PausedRequestsTest {
+  @Rule public final TearDownGlide tearDownGlide = new TearDownGlide();
+  private final ConcurrencyHelper concurrency = new ConcurrencyHelper();
+  private final Context context = InstrumentationRegistry.getTargetContext();
+
+  @SuppressWarnings("unchecked")
+  @Test
+  public void load_withPlaceHolderSet_requestsPaused_displaysPlaceholder() {
+    final ImageView imageView = new ImageView(context);
+
+    final GlideRequests requests = GlideApp.with(context);
+    concurrency.runOnMainThread(new Runnable() {
+      @Override
+      public void run() {
+        requests.pauseAllRequests();
+      }
+    });
+
+    final ColorDrawable expected = new ColorDrawable(Color.RED);
+    concurrency.runOnMainThread(
+        new Runnable() {
+          @Override
+          public void run() {
+            requests
+                .load(ResourceIds.drawable.bitmap_alias)
+                .placeholder(expected)
+                .into(imageView);
+          }
+        });
+
+    assertThat(imageView.getDrawable()).isEqualTo(expected);
+  }
+}
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/RequestManagerTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/RequestManagerTest.java
index 2019c1758..5a9167a85 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/RequestManagerTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/RequestManagerTest.java
@@ -3,9 +3,9 @@
 import android.content.Context;
 import android.graphics.drawable.Drawable;
 import android.support.annotation.NonNull;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
 import android.widget.ImageView;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.manager.Lifecycle;
 import com.bumptech.glide.manager.LifecycleListener;
 import com.bumptech.glide.manager.RequestManagerTreeNode;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/RequestTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/RequestTest.java
index c89ea575c..91e1c14b2 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/RequestTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/RequestTest.java
@@ -11,9 +11,9 @@
 
 import android.content.Context;
 import android.graphics.drawable.Drawable;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
 import android.widget.ImageView;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.load.DataSource;
 import com.bumptech.glide.load.engine.executor.GlideExecutor;
 import com.bumptech.glide.request.RequestListener;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/RoundedCornersRegressionTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/RoundedCornersRegressionTest.java
index 0b9404aed..3e59c4b22 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/RoundedCornersRegressionTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/RoundedCornersRegressionTest.java
@@ -6,8 +6,8 @@
 import android.graphics.Bitmap;
 import android.graphics.Canvas;
 import android.graphics.Color;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.load.resource.bitmap.RoundedCorners;
 import com.bumptech.glide.test.BitmapRegressionTester;
 import com.bumptech.glide.test.CanonicalBitmap;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/WideGamutTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/WideGamutTest.java
index 17db2efb4..c1b532f3a 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/WideGamutTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/WideGamutTest.java
@@ -10,11 +10,11 @@
 import android.graphics.ColorSpace;
 import android.graphics.ColorSpace.Named;
 import android.os.Build;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
-import com.bumptech.glide.load.DecodeFormat;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.load.engine.bitmap_recycle.BitmapPool;
 import com.bumptech.glide.load.engine.bitmap_recycle.LruBitmapPool;
+import com.bumptech.glide.load.resource.bitmap.Downsampler;
 import com.bumptech.glide.load.resource.bitmap.RoundedCorners;
 import com.bumptech.glide.test.ConcurrencyHelper;
 import com.bumptech.glide.test.GlideApp;
@@ -71,16 +71,19 @@ public void load_withWideGamutImage_bitmapInPoolWithSizeAndConfig_usesBitmapFrom
     assertThat(bitmap).isSameAs(expected);
   }
 
+  // TODO: Even with hardware allowed, we get a wide F16. Attempting to decode the resource with
+  // preferred config set to hardware fails with:
+  // "D/skia    (10312): --- Failed to allocate a hardware bitmap"
   @Test
-  public void load_withWideGamutImage_hardwareAllowed_returnsHardwareBitmap() {
+  public void load_withWideGamutImage_hardwareAllowed_returnsDecodedBitmap() {
     Bitmap bitmap =
         concurrency.get(
             GlideApp.with(context)
                 .asBitmap()
-                .format(DecodeFormat.PREFER_ARGB_8888)
                 .load(ResourceIds.raw.webkit_logo_p3)
+                .set(Downsampler.ALLOW_HARDWARE_CONFIG, true)
                 .submit());
-    assertThat(bitmap.getConfig()).isEqualTo(Bitmap.Config.HARDWARE);
+    assertThat(bitmap).isNotNull();
   }
 
   @Test
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/load/resource/bitmap/DownsamplerEmulatorTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/load/resource/bitmap/DownsamplerEmulatorTest.java
index 764032c3f..bdc7fa0fd 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/load/resource/bitmap/DownsamplerEmulatorTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/load/resource/bitmap/DownsamplerEmulatorTest.java
@@ -18,8 +18,8 @@
 import android.os.Build;
 import android.os.Build.VERSION_CODES;
 import android.support.annotation.Nullable;
-import android.support.test.runner.AndroidJUnit4;
 import android.util.DisplayMetrics;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.load.ImageHeaderParser;
 import com.bumptech.glide.load.Options;
 import com.bumptech.glide.load.engine.bitmap_recycle.ArrayPool;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/load/resource/gif/GifDrawableTest.java b/instrumentation/src/androidTest/java/com/bumptech/glide/load/resource/gif/GifDrawableTest.java
index 57c48916e..9d5bddd32 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/load/resource/gif/GifDrawableTest.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/load/resource/gif/GifDrawableTest.java
@@ -5,13 +5,13 @@
 import android.Manifest.permission;
 import android.content.Context;
 import android.os.Build;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.rule.GrantPermissionRule;
-import android.support.test.runner.AndroidJUnit4;
 import android.view.View;
 import android.view.WindowManager;
 import android.view.WindowManager.LayoutParams;
 import android.widget.ImageView;
+import androidx.test.InstrumentationRegistry;
+import androidx.test.rule.GrantPermissionRule;
+import androidx.test.runner.AndroidJUnit4;
 import com.bumptech.glide.load.resource.gif.GifDrawable.GifState;
 import com.bumptech.glide.load.resource.gif.GifFrameLoader.OnEveryFrameListener;
 import com.bumptech.glide.request.target.Target;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/test/BitmapRegressionTester.java b/instrumentation/src/androidTest/java/com/bumptech/glide/test/BitmapRegressionTester.java
index f0510cca1..fa8a62338 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/test/BitmapRegressionTester.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/test/BitmapRegressionTester.java
@@ -7,7 +7,7 @@
 import android.os.Build;
 import android.os.Environment;
 import android.support.annotation.Nullable;
-import android.support.test.InstrumentationRegistry;
+import androidx.test.InstrumentationRegistry;
 import com.bumptech.glide.RequestBuilder;
 import java.io.BufferedOutputStream;
 import java.io.File;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/test/BitmapSubject.java b/instrumentation/src/androidTest/java/com/bumptech/glide/test/BitmapSubject.java
index 050dee021..cdacb09bd 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/test/BitmapSubject.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/test/BitmapSubject.java
@@ -6,8 +6,8 @@
 import android.graphics.drawable.Drawable;
 import android.support.annotation.DrawableRes;
 import android.support.annotation.NonNull;
-import android.support.test.InstrumentationRegistry;
 import android.support.v4.content.res.ResourcesCompat;
+import androidx.test.InstrumentationRegistry;
 import com.google.common.truth.FailureMetadata;
 import com.google.common.truth.Subject;
 import com.google.common.truth.Truth;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/test/CanonicalBitmap.java b/instrumentation/src/androidTest/java/com/bumptech/glide/test/CanonicalBitmap.java
index e71aadaf0..d990cf4f8 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/test/CanonicalBitmap.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/test/CanonicalBitmap.java
@@ -5,7 +5,7 @@
 import android.graphics.BitmapFactory;
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
-import android.support.test.InstrumentationRegistry;
+import androidx.test.InstrumentationRegistry;
 import com.bumptech.glide.util.Preconditions;
 
 public final class CanonicalBitmap {
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/test/ConcurrencyHelper.java b/instrumentation/src/androidTest/java/com/bumptech/glide/test/ConcurrencyHelper.java
index edca18631..20888d70a 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/test/ConcurrencyHelper.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/test/ConcurrencyHelper.java
@@ -6,8 +6,8 @@
 import android.os.Looper;
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
-import android.support.test.InstrumentationRegistry;
 import android.widget.ImageView;
+import androidx.test.InstrumentationRegistry;
 import com.bumptech.glide.Glide;
 import com.bumptech.glide.RequestBuilder;
 import com.bumptech.glide.request.FutureTarget;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/test/MockModelLoader.java b/instrumentation/src/androidTest/java/com/bumptech/glide/test/MockModelLoader.java
index c1f14110d..2726152f6 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/test/MockModelLoader.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/test/MockModelLoader.java
@@ -2,7 +2,7 @@
 
 import android.content.Context;
 import android.support.annotation.NonNull;
-import android.support.test.InstrumentationRegistry;
+import androidx.test.InstrumentationRegistry;
 import com.bumptech.glide.Glide;
 import com.bumptech.glide.Priority;
 import com.bumptech.glide.load.DataSource;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/test/ResourceIds.java b/instrumentation/src/androidTest/java/com/bumptech/glide/test/ResourceIds.java
index d751f0f07..8a6b15ce4 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/test/ResourceIds.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/test/ResourceIds.java
@@ -2,7 +2,7 @@
 
 import android.content.Context;
 import android.content.res.Resources;
-import android.support.test.InstrumentationRegistry;
+import androidx.test.InstrumentationRegistry;
 
 /**
  * Internally in google we don't appear to be able to reference resource ids directly, this class is
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/test/TearDownGlide.java b/instrumentation/src/androidTest/java/com/bumptech/glide/test/TearDownGlide.java
index a99644ddb..61263c353 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/test/TearDownGlide.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/test/TearDownGlide.java
@@ -1,6 +1,6 @@
 package com.bumptech.glide.test;
 
-import android.support.test.InstrumentationRegistry;
+import androidx.test.InstrumentationRegistry;
 import com.bumptech.glide.Glide;
 import com.bumptech.glide.RequestManager;
 import org.junit.rules.TestRule;
diff --git a/instrumentation/src/androidTest/java/com/bumptech/glide/test/WaitModelLoader.java b/instrumentation/src/androidTest/java/com/bumptech/glide/test/WaitModelLoader.java
index 2c89c9227..e702b7fc5 100644
--- a/instrumentation/src/androidTest/java/com/bumptech/glide/test/WaitModelLoader.java
+++ b/instrumentation/src/androidTest/java/com/bumptech/glide/test/WaitModelLoader.java
@@ -2,7 +2,7 @@
 
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
-import android.support.test.InstrumentationRegistry;
+import androidx.test.InstrumentationRegistry;
 import com.bumptech.glide.Glide;
 import com.bumptech.glide.Priority;
 import com.bumptech.glide.load.DataSource;
diff --git a/integration/recyclerview/lint.xml b/integration/recyclerview/lint.xml
index ff7e5955c..5e2b51e98 100644
--- a/integration/recyclerview/lint.xml
+++ b/integration/recyclerview/lint.xml
@@ -1,4 +1,5 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <lint>
     <issue id="AllowBackup" severity="ignore"/>
+    <issue id="GradleDependency" severity="ignore" />
 </lint>
diff --git a/library/build.gradle b/library/build.gradle
index a47b7173b..6f01832e2 100644
--- a/library/build.gradle
+++ b/library/build.gradle
@@ -18,6 +18,16 @@ dependencies {
     if (project.plugins.hasPlugin('net.ltgt.errorprone')) {
         errorprone "com.google.errorprone:error_prone_core:${ERROR_PRONE_VERSION}"
     }
+
+    testImplementation "com.android.support:appcompat-v7:${ANDROID_SUPPORT_VERSION}"
+    testImplementation project(':testutil')
+    testImplementation 'com.google.guava:guava-testlib:18.0'
+    testImplementation "com.google.truth:truth:${TRUTH_VERSION}"
+    testImplementation "junit:junit:${JUNIT_VERSION}"
+    testImplementation "org.mockito:mockito-core:${MOCKITO_VERSION}"
+    testImplementation "org.robolectric:robolectric:${ROBOLECTRIC_VERSION}"
+    testImplementation "com.squareup.okhttp3:mockwebserver:${MOCKWEBSERVER_VERSION}"
+    testImplementation "com.android.support:support-v4:${ANDROID_SUPPORT_VERSION}"
 }
 
 android {
diff --git a/library/lint.xml b/library/lint.xml
index c6cf01b20..d904731d9 100644
--- a/library/lint.xml
+++ b/library/lint.xml
@@ -2,4 +2,5 @@
 <lint>
     <issue id="AllowBackup" severity="ignore"/>
     <issue id="ExifInterface" severity="ignore"/>
+    <issue id="GradleDependency" severity="ignore"/>
 </lint>
diff --git a/library/src/main/AndroidManifest.xml b/library/src/main/AndroidManifest.xml
index 2e0f06b5f..705db20aa 100644
--- a/library/src/main/AndroidManifest.xml
+++ b/library/src/main/AndroidManifest.xml
@@ -1,5 +1,4 @@
 <?xml version="1.0" encoding="utf-8"?>
 <manifest package="com.bumptech.glide">
-
-    <application/>
+  <application/>
 </manifest>
diff --git a/library/src/main/java/com/bumptech/glide/Glide.java b/library/src/main/java/com/bumptech/glide/Glide.java
index ea9fcea8f..89b950cd8 100644
--- a/library/src/main/java/com/bumptech/glide/Glide.java
+++ b/library/src/main/java/com/bumptech/glide/Glide.java
@@ -11,6 +11,7 @@
 import android.graphics.drawable.BitmapDrawable;
 import android.graphics.drawable.Drawable;
 import android.net.Uri;
+import android.os.Build;
 import android.os.ParcelFileDescriptor;
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
@@ -21,6 +22,7 @@
 import android.view.View;
 import com.bumptech.glide.gifdecoder.GifDecoder;
 import com.bumptech.glide.load.DecodeFormat;
+import com.bumptech.glide.load.ImageHeaderParser;
 import com.bumptech.glide.load.ResourceDecoder;
 import com.bumptech.glide.load.data.InputStreamRewinder;
 import com.bumptech.glide.load.engine.Engine;
@@ -54,6 +56,7 @@
 import com.bumptech.glide.load.resource.bitmap.ByteBufferBitmapDecoder;
 import com.bumptech.glide.load.resource.bitmap.DefaultImageHeaderParser;
 import com.bumptech.glide.load.resource.bitmap.Downsampler;
+import com.bumptech.glide.load.resource.bitmap.ExifInterfaceImageHeaderParser;
 import com.bumptech.glide.load.resource.bitmap.ResourceBitmapDecoder;
 import com.bumptech.glide.load.resource.bitmap.StreamBitmapDecoder;
 import com.bumptech.glide.load.resource.bitmap.UnitBitmapDecoder;
@@ -74,6 +77,7 @@
 import com.bumptech.glide.manager.ConnectivityMonitorFactory;
 import com.bumptech.glide.manager.RequestManagerRetriever;
 import com.bumptech.glide.module.ManifestParser;
+import com.bumptech.glide.request.RequestListener;
 import com.bumptech.glide.request.RequestOptions;
 import com.bumptech.glide.request.target.ImageViewTargetFactory;
 import com.bumptech.glide.request.target.Target;
@@ -317,7 +321,8 @@ private static void throwIncorrectGlideModule(Exception e) {
       @NonNull ConnectivityMonitorFactory connectivityMonitorFactory,
       int logLevel,
       @NonNull RequestOptions defaultRequestOptions,
-      @NonNull Map<Class<?>, TransitionOptions<?, ?>> defaultTransitionOptions) {
+      @NonNull Map<Class<?>, TransitionOptions<?, ?>> defaultTransitionOptions,
+      @NonNull List<RequestListener<Object>> defaultRequestListeners) {
     this.engine = engine;
     this.bitmapPool = bitmapPool;
     this.arrayPool = arrayPool;
@@ -331,12 +336,24 @@ private static void throwIncorrectGlideModule(Exception e) {
     final Resources resources = context.getResources();
 
     registry = new Registry();
+    // Right now we're only using this parser for HEIF images, which are only supported on OMR1+.
+    // If we need this for other file types, we should consider removing this restriction.
+    // Note that order here matters. We want to check the ExifInterface parser first for orientation
+    // and then fall back to DefaultImageHeaderParser for other fields.
+    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O_MR1) {
+      registry.register(new ExifInterfaceImageHeaderParser());
+    }
     registry.register(new DefaultImageHeaderParser());
 
-    Downsampler downsampler = new Downsampler(registry.getImageHeaderParsers(),
-        resources.getDisplayMetrics(), bitmapPool, arrayPool);
+    List<ImageHeaderParser> imageHeaderParsers = registry.getImageHeaderParsers();
+    Downsampler downsampler =
+        new Downsampler(
+            imageHeaderParsers,
+            resources.getDisplayMetrics(),
+            bitmapPool,
+            arrayPool);
     ByteBufferGifDecoder byteBufferGifDecoder =
-        new ByteBufferGifDecoder(context, registry.getImageHeaderParsers(), bitmapPool, arrayPool);
+        new ByteBufferGifDecoder(context, imageHeaderParsers, bitmapPool, arrayPool);
     ResourceDecoder<ParcelFileDescriptor, Bitmap> parcelFileDescriptorVideoDecoder =
         VideoDecoder.parcel(bitmapPool);
     ByteBufferBitmapDecoder byteBufferBitmapDecoder = new ByteBufferBitmapDecoder(downsampler);
@@ -400,7 +417,7 @@ private static void throwIncorrectGlideModule(Exception e) {
             Registry.BUCKET_GIF,
             InputStream.class,
             GifDrawable.class,
-            new StreamGifDecoder(registry.getImageHeaderParsers(), byteBufferGifDecoder, arrayPool))
+            new StreamGifDecoder(imageHeaderParsers, byteBufferGifDecoder, arrayPool))
         .append(Registry.BUCKET_GIF, ByteBuffer.class, GifDrawable.class, byteBufferGifDecoder)
         .append(GifDrawable.class, new GifDrawableEncoder())
         /* GIF Frames */
@@ -503,6 +520,7 @@ private static void throwIncorrectGlideModule(Exception e) {
             imageViewTargetFactory,
             defaultRequestOptions,
             defaultTransitionOptions,
+            defaultRequestListeners,
             engine,
             logLevel);
   }
diff --git a/library/src/main/java/com/bumptech/glide/GlideBuilder.java b/library/src/main/java/com/bumptech/glide/GlideBuilder.java
index 311258207..bdfae965b 100644
--- a/library/src/main/java/com/bumptech/glide/GlideBuilder.java
+++ b/library/src/main/java/com/bumptech/glide/GlideBuilder.java
@@ -6,7 +6,9 @@
 import android.support.annotation.Nullable;
 import android.support.v4.util.ArrayMap;
 import android.util.Log;
+import com.bumptech.glide.load.DataSource;
 import com.bumptech.glide.load.engine.Engine;
+import com.bumptech.glide.load.engine.GlideException;
 import com.bumptech.glide.load.engine.bitmap_recycle.ArrayPool;
 import com.bumptech.glide.load.engine.bitmap_recycle.BitmapPool;
 import com.bumptech.glide.load.engine.bitmap_recycle.BitmapPoolAdapter;
@@ -22,8 +24,12 @@
 import com.bumptech.glide.manager.DefaultConnectivityMonitorFactory;
 import com.bumptech.glide.manager.RequestManagerRetriever;
 import com.bumptech.glide.manager.RequestManagerRetriever.RequestManagerFactory;
+import com.bumptech.glide.request.RequestListener;
 import com.bumptech.glide.request.RequestOptions;
 import com.bumptech.glide.request.target.Target;
+import java.util.ArrayList;
+import java.util.Collections;
+import java.util.List;
 import java.util.Map;
 
 /**
@@ -46,6 +52,8 @@
   private RequestManagerFactory requestManagerFactory;
   private GlideExecutor animationExecutor;
   private boolean isActiveResourceRetentionAllowed;
+  @Nullable
+  private List<RequestListener<Object>> defaultRequestListeners;
 
   /**
    * Sets the {@link com.bumptech.glide.load.engine.bitmap_recycle.BitmapPool} implementation to use
@@ -372,6 +380,32 @@ public GlideBuilder setIsActiveResourceRetentionAllowed(
     return this;
   }
 
+  /**
+   * Adds a global {@link RequestListener} that will be added to every request started with Glide.
+   *
+   * <p>Multiple {@link RequestListener}s can be added here, in {@link RequestManager} scopes or
+   * to individual {@link RequestBuilder}s. {@link RequestListener}s are called in the order they're
+   * added. Even if an earlier {@link RequestListener} returns {@code true} from
+   * {@link RequestListener#onLoadFailed(GlideException, Object, Target, boolean)} or
+   * {@link RequestListener#onResourceReady(Object, Object, Target, DataSource, boolean)}, it will
+   * not prevent subsequent {@link RequestListener}s from being called.
+   *
+   * <p>Because Glide requests can be started for any number of individual resource types, any
+   * listener added here has to accept any generic resource type in
+   * {@link RequestListener#onResourceReady(Object, Object, Target, DataSource, boolean)}. If you
+   * must base the behavior of the listener on the resource type, you will need to use
+   * {@code instanceof} to do so. It's not safe to cast resource types without first checking
+   * with {@code instanceof}.
+   */
+  @NonNull
+  public GlideBuilder addGlobalRequestListener(@NonNull RequestListener<Object> listener) {
+    if (defaultRequestListeners == null) {
+      defaultRequestListeners = new ArrayList<>();
+    }
+    defaultRequestListeners.add(listener);
+    return this;
+  }
+
   void setRequestManagerFactory(@Nullable RequestManagerFactory factory) {
     this.requestManagerFactory = factory;
   }
@@ -437,6 +471,12 @@ Glide build(@NonNull Context context) {
               isActiveResourceRetentionAllowed);
     }
 
+    if (defaultRequestListeners == null) {
+      defaultRequestListeners = Collections.emptyList();
+    } else {
+      defaultRequestListeners = Collections.unmodifiableList(defaultRequestListeners);
+    }
+
     RequestManagerRetriever requestManagerRetriever =
         new RequestManagerRetriever(requestManagerFactory);
 
@@ -450,6 +490,7 @@ Glide build(@NonNull Context context) {
         connectivityMonitorFactory,
         logLevel,
         defaultRequestOptions.lock(),
-        defaultTransitionOptions);
+        defaultTransitionOptions,
+        defaultRequestListeners);
   }
 }
diff --git a/library/src/main/java/com/bumptech/glide/GlideContext.java b/library/src/main/java/com/bumptech/glide/GlideContext.java
index eeb98cc5f..a587b19bd 100644
--- a/library/src/main/java/com/bumptech/glide/GlideContext.java
+++ b/library/src/main/java/com/bumptech/glide/GlideContext.java
@@ -9,9 +9,11 @@
 import android.widget.ImageView;
 import com.bumptech.glide.load.engine.Engine;
 import com.bumptech.glide.load.engine.bitmap_recycle.ArrayPool;
+import com.bumptech.glide.request.RequestListener;
 import com.bumptech.glide.request.RequestOptions;
 import com.bumptech.glide.request.target.ImageViewTargetFactory;
 import com.bumptech.glide.request.target.ViewTarget;
+import java.util.List;
 import java.util.Map;
 import java.util.Map.Entry;
 
@@ -28,6 +30,7 @@
   private final Registry registry;
   private final ImageViewTargetFactory imageViewTargetFactory;
   private final RequestOptions defaultRequestOptions;
+  private final List<RequestListener<Object>> defaultRequestListeners;
   private final Map<Class<?>, TransitionOptions<?, ?>> defaultTransitionOptions;
   private final Engine engine;
   private final int logLevel;
@@ -39,6 +42,7 @@ public GlideContext(
       @NonNull ImageViewTargetFactory imageViewTargetFactory,
       @NonNull RequestOptions defaultRequestOptions,
       @NonNull Map<Class<?>, TransitionOptions<?, ?>> defaultTransitionOptions,
+      @NonNull List<RequestListener<Object>> defaultRequestListeners,
       @NonNull Engine engine,
       int logLevel) {
     super(context.getApplicationContext());
@@ -46,6 +50,7 @@ public GlideContext(
     this.registry = registry;
     this.imageViewTargetFactory = imageViewTargetFactory;
     this.defaultRequestOptions = defaultRequestOptions;
+    this.defaultRequestListeners = defaultRequestListeners;
     this.defaultTransitionOptions = defaultTransitionOptions;
     this.engine = engine;
     this.logLevel = logLevel;
@@ -53,6 +58,10 @@ public GlideContext(
     mainHandler = new Handler(Looper.getMainLooper());
   }
 
+  public List<RequestListener<Object>> getDefaultRequestListeners() {
+    return defaultRequestListeners;
+  }
+
   public RequestOptions getDefaultRequestOptions() {
     return defaultRequestOptions;
   }
diff --git a/library/src/main/java/com/bumptech/glide/Registry.java b/library/src/main/java/com/bumptech/glide/Registry.java
index 62f135d7d..c5903fcf2 100644
--- a/library/src/main/java/com/bumptech/glide/Registry.java
+++ b/library/src/main/java/com/bumptech/glide/Registry.java
@@ -265,7 +265,9 @@ public Registry() {
   // Final to avoid a PMD error.
   @NonNull
   public final Registry setResourceDecoderBucketPriorityList(@NonNull List<String> buckets) {
-    List<String> modifiedBuckets = new ArrayList<>(buckets);
+    // See #3296 and https://bugs.openjdk.java.net/browse/JDK-6260652.
+    List<String> modifiedBuckets = new ArrayList<>(buckets.size());
+    modifiedBuckets.addAll(buckets);
     modifiedBuckets.add(0, BUCKET_PREPEND_ALL);
     modifiedBuckets.add(BUCKET_APPEND_ALL);
     decoderRegistry.setBucketPriorityList(modifiedBuckets);
@@ -523,9 +525,11 @@ public Registry register(@NonNull ImageHeaderParser parser) {
 
   @NonNull
   public <Model, TResource, Transcode> List<Class<?>> getRegisteredResourceClasses(
-      @NonNull Class<Model> modelClass, @NonNull Class<TResource> resourceClass,
+      @NonNull Class<Model> modelClass,
+      @NonNull Class<TResource> resourceClass,
       @NonNull Class<Transcode> transcodeClass) {
-    List<Class<?>> result = modelToResourceClassCache.get(modelClass, resourceClass);
+    List<Class<?>> result =
+        modelToResourceClassCache.get(modelClass, resourceClass, transcodeClass);
 
     if (result == null) {
       result = new ArrayList<>();
@@ -541,8 +545,8 @@ public Registry register(@NonNull ImageHeaderParser parser) {
           }
         }
       }
-      modelToResourceClassCache.put(modelClass, resourceClass,
-          Collections.unmodifiableList(result));
+      modelToResourceClassCache.put(
+          modelClass, resourceClass, transcodeClass, Collections.unmodifiableList(result));
     }
 
     return result;
diff --git a/library/src/main/java/com/bumptech/glide/RequestBuilder.java b/library/src/main/java/com/bumptech/glide/RequestBuilder.java
index 5e523276f..a01d45500 100644
--- a/library/src/main/java/com/bumptech/glide/RequestBuilder.java
+++ b/library/src/main/java/com/bumptech/glide/RequestBuilder.java
@@ -4,6 +4,7 @@
 import static com.bumptech.glide.request.RequestOptions.signatureOf;
 import static com.bumptech.glide.request.RequestOptions.skipMemoryCacheOf;
 
+import android.annotation.SuppressLint;
 import android.content.Context;
 import android.graphics.Bitmap;
 import android.graphics.drawable.Drawable;
@@ -16,6 +17,7 @@
 import android.widget.ImageView;
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.request.ErrorRequestCoordinator;
 import com.bumptech.glide.request.FutureTarget;
 import com.bumptech.glide.request.Request;
@@ -34,6 +36,8 @@
 import com.bumptech.glide.util.Util;
 import java.io.File;
 import java.net.URL;
+import java.util.ArrayList;
+import java.util.List;
 
 /**
  * A generic class that can handle setting options and staring loads for generic resource types.
@@ -43,7 +47,8 @@
  */
 // Public API.
 @SuppressWarnings({"unused", "WeakerAccess"})
-public class RequestBuilder<TranscodeType> implements Cloneable,
+public class RequestBuilder<TranscodeType> extends BaseRequestOptions<RequestBuilder<TranscodeType>>
+    implements Cloneable,
     ModelTypes<RequestBuilder<TranscodeType>> {
   // Used in generated subclasses
   protected static final RequestOptions DOWNLOAD_ONLY_OPTIONS =
@@ -53,12 +58,9 @@
   private final Context context;
   private final RequestManager requestManager;
   private final Class<TranscodeType> transcodeClass;
-  private final RequestOptions defaultRequestOptions;
   private final Glide glide;
   private final GlideContext glideContext;
 
-  @NonNull protected RequestOptions requestOptions;
-
   @NonNull
   @SuppressWarnings("unchecked")
   private TransitionOptions<?, ? super TranscodeType> transitionOptions;
@@ -66,7 +68,7 @@
   @Nullable private Object model;
   // model may occasionally be null, so to enforce that load() was called, put a boolean rather
   // than relying on model not to be null.
-  @Nullable private RequestListener<TranscodeType> requestListener;
+  @Nullable private List<RequestListener<TranscodeType>> requestListeners;
   @Nullable private RequestBuilder<TranscodeType> thumbnailBuilder;
   @Nullable private RequestBuilder<TranscodeType> errorBuilder;
   @Nullable private Float thumbSizeMultiplier;
@@ -74,51 +76,61 @@
   private boolean isModelSet;
   private boolean isThumbnailBuilt;
 
-  protected RequestBuilder(Glide glide, RequestManager requestManager,
-      Class<TranscodeType> transcodeClass, Context context) {
+  // We only override the method to change the return type, not the functionality.
+  @SuppressLint("CheckResult")
+  @SuppressWarnings("PMD.ConstructorCallsOverridableMethod")
+  protected RequestBuilder(
+      @NonNull Glide glide,
+      RequestManager requestManager,
+      Class<TranscodeType> transcodeClass,
+      Context context) {
     this.glide = glide;
     this.requestManager = requestManager;
     this.transcodeClass = transcodeClass;
-    this.defaultRequestOptions = requestManager.getDefaultRequestOptions();
     this.context = context;
     this.transitionOptions = requestManager.getDefaultTransitionOptions(transcodeClass);
-    this.requestOptions = defaultRequestOptions;
     this.glideContext = glide.getGlideContext();
+
+    initRequestListeners(requestManager.getDefaultRequestListeners());
+    apply(requestManager.getDefaultRequestOptions());
   }
 
+  @SuppressWarnings("PMD.ConstructorCallsOverridableMethod")
   protected RequestBuilder(Class<TranscodeType> transcodeClass, RequestBuilder<?> other) {
     this(other.glide, other.requestManager, transcodeClass, other.context);
     model = other.model;
     isModelSet = other.isModelSet;
-    requestOptions = other.requestOptions;
+
+    apply(other);
+  }
+
+  // Casting from Object to a specific type is always safe.
+  @SuppressWarnings("unchecked")
+  // addListener always returns the same instance.
+  @SuppressLint("CheckResult")
+  private void initRequestListeners(List<RequestListener<Object>> requestListeners) {
+    for (RequestListener<Object> listener : requestListeners) {
+      addListener((RequestListener<TranscodeType>) listener);
+    }
   }
 
   /**
    * Applies the given options to the request.
    *
-   * <p>As with {@link RequestOptions#apply(RequestOptions)}, {@code #apply} only replaces those
+   * <p>As with {@link RequestOptions#apply(BaseRequestOptions)}, {@code #apply} only replaces those
    * values that are explicitly set in the given {@link RequestOptions} object. If you need to
    * completely reset all previously set options, create a new {@code RequestBuilder} instead of
    * using this method.
    *
-   * @see RequestOptions#apply(RequestOptions)
+   * @see RequestOptions#apply(BaseRequestOptions)
    * @return This request builder.
    */
   @NonNull
   @CheckResult
-  public RequestBuilder<TranscodeType> apply(@NonNull RequestOptions requestOptions) {
+  @Override
+  public RequestBuilder<TranscodeType> apply(@NonNull BaseRequestOptions<?> requestOptions) {
     Preconditions.checkNotNull(requestOptions);
-    this.requestOptions = getMutableOptions().apply(requestOptions);
-    return this;
-  }
-
-  // We're checking to see if we need to clone our options object because we want to make sure the
-  // original is never modified, so we need reference equality.
-  @SuppressWarnings("ReferenceEquality")
-  @NonNull
-  protected RequestOptions getMutableOptions() {
-    return defaultRequestOptions == this.requestOptions
-        ? this.requestOptions.clone() : this.requestOptions;
+    return super.apply(requestOptions);
   }
 
   /**
@@ -144,6 +156,9 @@ protected RequestOptions getMutableOptions() {
    * instance of an exception handler per type of request (usually activity/fragment) rather than
    * pass one in per request to avoid some redundant object allocation.
    *
+   * <p>Subsequent calls to this method will replace previously set listeners. To set multiple
+   * listeners, use {@link #addListener} instead.
+   *
    * @param requestListener The request listener to use.
    * @return This request builder.
    */
@@ -152,13 +167,32 @@ protected RequestOptions getMutableOptions() {
   @SuppressWarnings("unchecked")
   public RequestBuilder<TranscodeType> listener(
       @Nullable RequestListener<TranscodeType> requestListener) {
-    this.requestListener = requestListener;
+    this.requestListeners = null;
+    return addListener(requestListener);
+  }
 
+  /**
+   * Adds a {@link RequestListener}. If called multiple times, all passed
+   * {@link RequestListener listeners} will be called in order.
+   *
+   * @param requestListener The request listener to use. If {@code null}, this method is a noop.
+   * @return This request builder.
+   */
+  @NonNull
+  @CheckResult
+  public RequestBuilder<TranscodeType> addListener(
+      @Nullable RequestListener<TranscodeType> requestListener) {
+    if (requestListener != null) {
+      if (this.requestListeners == null) {
+        this.requestListeners = new ArrayList<>();
+      }
+      this.requestListeners.add(requestListener);
+    }
     return this;
   }
 
   /**
-   * Sets a {@link RequestBuilder} that is built and run iff the load started by this
+   * Sets a {@link RequestBuilder} that is built and run if the load started by this
    * {@link RequestBuilder} fails.
    *
    * <p>If this {@link RequestBuilder} uses a thumbnail that succeeds the given error
@@ -346,7 +380,7 @@ protected RequestOptions getMutableOptions() {
    * {@link com.bumptech.glide.load.ResourceDecoder} instead of using this method.
    *
    * <p>The {@link DiskCacheStrategy} is set to {@link DiskCacheStrategy#NONE}. Previous calls to
-   * {@link #apply(RequestOptions)} or previously applied {@link DiskCacheStrategy}s will be
+   * {@link #apply(BaseRequestOptions)} or previously applied {@link DiskCacheStrategy}s will be
    * overridden by this method. Applying an {@link DiskCacheStrategy} other than
    * {@link DiskCacheStrategy#NONE} after calling this method may result in undefined behavior.
    *
@@ -373,7 +407,7 @@ protected RequestOptions getMutableOptions() {
    * {@link com.bumptech.glide.load.ResourceDecoder} instead of using this method.
    *
    * <p>The {@link DiskCacheStrategy} is set to {@link DiskCacheStrategy#NONE}. Previous calls to
-   * {@link #apply(RequestOptions)} or previously applied {@link DiskCacheStrategy}s will be
+   * {@link #apply(BaseRequestOptions)} or previously applied {@link DiskCacheStrategy}s will be
    * overridden by this method. Applying an {@link DiskCacheStrategy} other than
    * {@link DiskCacheStrategy#NONE} after calling this method may result in undefined behavior.
    *
@@ -533,10 +567,10 @@ protected RequestOptions getMutableOptions() {
   @Override
   public RequestBuilder<TranscodeType> load(@Nullable byte[] model) {
     RequestBuilder<TranscodeType> result = loadGeneric(model);
-    if (!result.requestOptions.isDiskCacheStrategySet()) {
+    if (!result.isDiskCacheStrategySet()) {
         result = result.apply(diskCacheStrategyOf(DiskCacheStrategy.NONE));
     }
-    if (!result.requestOptions.isSkipMemoryCacheSet()) {
+    if (!result.isSkipMemoryCacheSet()) {
       result = result.apply(skipMemoryCacheOf(true /*skipMemoryCache*/));
     }
     return result;
@@ -558,14 +592,9 @@ protected RequestOptions getMutableOptions() {
   @CheckResult
   @Override
   public RequestBuilder<TranscodeType> clone() {
-    try {
-      RequestBuilder<TranscodeType> result = (RequestBuilder<TranscodeType>) super.clone();
-      result.requestOptions = result.requestOptions.clone();
-      result.transitionOptions = result.transitionOptions.clone();
-      return result;
-    } catch (CloneNotSupportedException e) {
-      throw new RuntimeException(e);
-    }
+    RequestBuilder<TranscodeType> result = super.clone();
+    result.transitionOptions = result.transitionOptions.clone();
+    return result;
   }
 
   /**
@@ -584,20 +613,19 @@ protected RequestOptions getMutableOptions() {
   @Synthetic <Y extends Target<TranscodeType>> Y into(
       @NonNull Y target,
       @Nullable RequestListener<TranscodeType> targetListener) {
-    return into(target, targetListener, getMutableOptions());
+    return into(target, targetListener, /*options=*/ this);
   }
 
   private <Y extends Target<TranscodeType>> Y into(
       @NonNull Y target,
       @Nullable RequestListener<TranscodeType> targetListener,
-      @NonNull RequestOptions options) {
+      BaseRequestOptions<?> options) {
     Util.assertMainThread();
     Preconditions.checkNotNull(target);
     if (!isModelSet) {
       throw new IllegalArgumentException("You must call #load() before calling #into()");
     }
 
-    options = options.autoClone();
     Request request = buildRequest(target, targetListener, options);
 
     Request previous = target.getRequest();
@@ -630,7 +658,7 @@ protected RequestOptions getMutableOptions() {
   // because the previous request must also be using skipMemoryCache for the requests to be
   // equivalent. See #2663 for additional context.
   private boolean isSkipMemoryCacheWithCompletePreviousRequest(
-      RequestOptions options, Request previous) {
+      BaseRequestOptions<?> options, Request previous) {
     return !options.isMemoryCacheable() && previous.isComplete();
   }
 
@@ -650,7 +678,7 @@ private boolean isSkipMemoryCacheWithCompletePreviousRequest(
     Util.assertMainThread();
     Preconditions.checkNotNull(view);
 
-    RequestOptions requestOptions = this.requestOptions;
+    BaseRequestOptions<?> requestOptions = this;
     if (!requestOptions.isTransformationSet()
         && requestOptions.isTransformationAllowed()
         && view.getScaleType() != null) {
@@ -844,14 +872,14 @@ private Priority getThumbnailPriority(@NonNull Priority current) {
       case IMMEDIATE:
         return Priority.IMMEDIATE;
       default:
-        throw new IllegalArgumentException("unknown priority: " + requestOptions.getPriority());
+        throw new IllegalArgumentException("unknown priority: " + getPriority());
     }
   }
 
   private Request buildRequest(
       Target<TranscodeType> target,
       @Nullable RequestListener<TranscodeType> targetListener,
-      RequestOptions requestOptions) {
+      BaseRequestOptions<?> requestOptions) {
     return buildRequestRecursive(
         target,
         targetListener,
@@ -871,7 +899,7 @@ private Request buildRequestRecursive(
       Priority priority,
       int overrideWidth,
       int overrideHeight,
-      RequestOptions requestOptions) {
+      BaseRequestOptions<?> requestOptions) {
 
     // Build the ErrorRequestCoordinator first if necessary so we can update parentCoordinator.
     ErrorRequestCoordinator errorRequestCoordinator = null;
@@ -895,10 +923,10 @@ private Request buildRequestRecursive(
       return mainRequest;
     }
 
-    int errorOverrideWidth = errorBuilder.requestOptions.getOverrideWidth();
-    int errorOverrideHeight = errorBuilder.requestOptions.getOverrideHeight();
+    int errorOverrideWidth = errorBuilder.getOverrideWidth();
+    int errorOverrideHeight = errorBuilder.getOverrideHeight();
     if (Util.isValidDimensions(overrideWidth, overrideHeight)
-        && !errorBuilder.requestOptions.isValidOverride()) {
+        && !errorBuilder.isValidOverride()) {
       errorOverrideWidth = requestOptions.getOverrideWidth();
       errorOverrideHeight = requestOptions.getOverrideHeight();
     }
@@ -908,10 +936,10 @@ private Request buildRequestRecursive(
         targetListener,
         errorRequestCoordinator,
         errorBuilder.transitionOptions,
-        errorBuilder.requestOptions.getPriority(),
+        errorBuilder.getPriority(),
         errorOverrideWidth,
         errorOverrideHeight,
-        errorBuilder.requestOptions);
+        errorBuilder);
     errorRequestCoordinator.setRequests(mainRequest, errorRequest);
     return errorRequestCoordinator;
   }
@@ -924,7 +952,7 @@ private Request buildThumbnailRequestRecursive(
       Priority priority,
       int overrideWidth,
       int overrideHeight,
-      RequestOptions requestOptions) {
+      BaseRequestOptions<?> requestOptions) {
     if (thumbnailBuilder != null) {
       // Recursive case: contains a potentially recursive thumbnail request builder.
       if (isThumbnailBuilt) {
@@ -941,13 +969,13 @@ private Request buildThumbnailRequestRecursive(
         thumbTransitionOptions = transitionOptions;
       }
 
-      Priority thumbPriority = thumbnailBuilder.requestOptions.isPrioritySet()
-          ? thumbnailBuilder.requestOptions.getPriority() : getThumbnailPriority(priority);
+      Priority thumbPriority = thumbnailBuilder.isPrioritySet()
+          ? thumbnailBuilder.getPriority() : getThumbnailPriority(priority);
 
-      int thumbOverrideWidth = thumbnailBuilder.requestOptions.getOverrideWidth();
-      int thumbOverrideHeight = thumbnailBuilder.requestOptions.getOverrideHeight();
+      int thumbOverrideWidth = thumbnailBuilder.getOverrideWidth();
+      int thumbOverrideHeight = thumbnailBuilder.getOverrideHeight();
       if (Util.isValidDimensions(overrideWidth, overrideHeight)
-          && !thumbnailBuilder.requestOptions.isValidOverride()) {
+          && !thumbnailBuilder.isValidOverride()) {
         thumbOverrideWidth = requestOptions.getOverrideWidth();
         thumbOverrideHeight = requestOptions.getOverrideHeight();
       }
@@ -974,7 +1002,7 @@ private Request buildThumbnailRequestRecursive(
               thumbPriority,
               thumbOverrideWidth,
               thumbOverrideHeight,
-              thumbnailBuilder.requestOptions);
+              thumbnailBuilder);
       isThumbnailBuilt = false;
       coordinator.setRequests(fullRequest, thumbRequest);
       return coordinator;
@@ -991,8 +1019,8 @@ private Request buildThumbnailRequestRecursive(
               priority,
               overrideWidth,
               overrideHeight);
-      RequestOptions thumbnailOptions = requestOptions.clone()
-          .sizeMultiplier(thumbSizeMultiplier);
+      BaseRequestOptions<?> thumbnailOptions =
+          requestOptions.clone().sizeMultiplier(thumbSizeMultiplier);
 
       Request thumbnailRequest =
           obtainRequest(
@@ -1024,7 +1052,7 @@ private Request buildThumbnailRequestRecursive(
   private Request obtainRequest(
       Target<TranscodeType> target,
       RequestListener<TranscodeType> targetListener,
-      RequestOptions requestOptions,
+      BaseRequestOptions<?> requestOptions,
       RequestCoordinator requestCoordinator,
       TransitionOptions<?, ? super TranscodeType> transitionOptions,
       Priority priority,
@@ -1041,7 +1069,7 @@ private Request obtainRequest(
         priority,
         target,
         targetListener,
-        requestListener,
+        requestListeners,
         requestCoordinator,
         glideContext.getEngine(),
         transitionOptions.getTransitionFactory());
diff --git a/library/src/main/java/com/bumptech/glide/RequestManager.java b/library/src/main/java/com/bumptech/glide/RequestManager.java
index 139df6f43..9e0cdb6c3 100644
--- a/library/src/main/java/com/bumptech/glide/RequestManager.java
+++ b/library/src/main/java/com/bumptech/glide/RequestManager.java
@@ -16,7 +16,9 @@
 import android.support.annotation.Nullable;
 import android.support.annotation.RawRes;
 import android.view.View;
+import com.bumptech.glide.load.DataSource;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
+import com.bumptech.glide.load.engine.GlideException;
 import com.bumptech.glide.load.resource.gif.GifDrawable;
 import com.bumptech.glide.manager.ConnectivityMonitor;
 import com.bumptech.glide.manager.ConnectivityMonitorFactory;
@@ -26,6 +28,7 @@
 import com.bumptech.glide.manager.RequestTracker;
 import com.bumptech.glide.manager.TargetTracker;
 import com.bumptech.glide.request.Request;
+import com.bumptech.glide.request.RequestListener;
 import com.bumptech.glide.request.RequestOptions;
 import com.bumptech.glide.request.target.Target;
 import com.bumptech.glide.request.target.ViewTarget;
@@ -34,6 +37,8 @@
 import com.bumptech.glide.util.Util;
 import java.io.File;
 import java.net.URL;
+import java.util.List;
+import java.util.concurrent.CopyOnWriteArrayList;
 
 /**
  * A class for managing and starting requests for Glide. Can use activity, fragment and connectivity
@@ -69,6 +74,10 @@ public void run() {
   };
   private final Handler mainHandler = new Handler(Looper.getMainLooper());
   private final ConnectivityMonitor connectivityMonitor;
+  // Adding default listeners should be much less common than starting new requests. We want
+  // some way of making sure that requests don't mutate our listeners without creating a new copy of
+  // the list each time a request is started.
+  private final CopyOnWriteArrayList<RequestListener<Object>> defaultRequestListeners;
 
   private RequestOptions requestOptions;
 
@@ -115,6 +124,8 @@ public RequestManager(
     }
     lifecycle.addListener(connectivityMonitor);
 
+    defaultRequestListeners =
+        new CopyOnWriteArrayList<>(glide.getGlideContext().getDefaultRequestListeners());
     setRequestOptions(glide.getGlideContext().getDefaultRequestOptions());
 
     glide.registerRequestManager(this);
@@ -174,6 +185,29 @@ public RequestManager setDefaultRequestOptions(@NonNull RequestOptions requestOp
     return this;
   }
 
+  /**
+   * Adds a default {@link RequestListener} that will be added to every request started with this
+   * {@link RequestManager}.
+   *
+   * <p>Multiple {@link RequestListener}s can be added here, in {@link RequestManager} scopes or
+   * to individual {@link RequestBuilder}s. {@link RequestListener}s are called in the order they're
+   * added. Even if an earlier {@link RequestListener} returns {@code true} from
+   * {@link RequestListener#onLoadFailed(GlideException, Object, Target, boolean)} or
+   * {@link RequestListener#onResourceReady(Object, Object, Target, DataSource, boolean)}, it will
+   * not prevent subsequent {@link RequestListener}s from being called.
+   *
+   * <p>Because Glide requests can be started for any number of individual resource types, any
+   * listener added here has to accept any generic resource type in
+   * {@link RequestListener#onResourceReady(Object, Object, Target, DataSource, boolean)}. If you
+   * must base the behavior of the listener on the resource type, you will need to use
+   * {@code instanceof} to do so. It's not safe to cast resource types without first checking
+   * with {@code instanceof}.
+   */
+  public RequestManager addDefaultRequestListener(RequestListener<Object> requestListener) {
+    defaultRequestListeners.add(requestListener);
+    return this;
+  }
+
   /**
    * Returns true if loads for this {@link RequestManager} are currently paused.
    *
@@ -614,6 +648,10 @@ void track(@NonNull Target<?> target, @NonNull Request request) {
     requestTracker.runRequest(request);
   }
 
+  List<RequestListener<Object>> getDefaultRequestListeners() {
+    return defaultRequestListeners;
+  }
+
   RequestOptions getDefaultRequestOptions() {
     return requestOptions;
   }
diff --git a/library/src/main/java/com/bumptech/glide/load/DecodeFormat.java b/library/src/main/java/com/bumptech/glide/load/DecodeFormat.java
index 8cf2058f5..3fac0791c 100644
--- a/library/src/main/java/com/bumptech/glide/load/DecodeFormat.java
+++ b/library/src/main/java/com/bumptech/glide/load/DecodeFormat.java
@@ -27,17 +27,6 @@
    */
   PREFER_ARGB_8888,
 
-  /**
-   * Identical to {@link #PREFER_ARGB_8888} but prevents Glide from using {@link
-   * android.graphics.Bitmap.Config#HARDWARE} on Android O+.
-   *
-   * @deprecated If you must disable hardware bitmaps, set
-   * {@link com.bumptech.glide.load.resource.bitmap.Downsampler#ALLOW_HARDWARE_CONFIG} to false
-   * instead.
-   */
-  @Deprecated
-  PREFER_ARGB_8888_DISALLOW_HARDWARE,
-
   /**
    * Bitmaps decoded from image formats that support and/or use alpha (some types of PNGs, GIFs etc)
    * should return {@link android.graphics.Bitmap.Config#ARGB_8888} for
@@ -53,5 +42,5 @@
   /**
    * The default value for DecodeFormat.
    */
-  public static final DecodeFormat DEFAULT = PREFER_ARGB_8888_DISALLOW_HARDWARE;
+  public static final DecodeFormat DEFAULT = PREFER_ARGB_8888;
 }
diff --git a/library/src/main/java/com/bumptech/glide/load/data/ExifOrientationStream.java b/library/src/main/java/com/bumptech/glide/load/data/ExifOrientationStream.java
index 9f5d79e62..85df91b5f 100644
--- a/library/src/main/java/com/bumptech/glide/load/data/ExifOrientationStream.java
+++ b/library/src/main/java/com/bumptech/glide/load/data/ExifOrientationStream.java
@@ -123,7 +123,7 @@ public int read(@NonNull byte[] buffer, int byteOffset, int byteCount) throws IO
   public long skip(long byteCount) throws IOException {
     long skipped = super.skip(byteCount);
     if (skipped > 0) {
-      // See http://errorprone.info/bugpattern/NarrowingCompoundAssignment.
+      // See https://errorprone.info/bugpattern/NarrowingCompoundAssignment.
       position = (int) (position + skipped);
     }
     return skipped;
diff --git a/library/src/main/java/com/bumptech/glide/load/engine/DecodeJob.java b/library/src/main/java/com/bumptech/glide/load/engine/DecodeJob.java
index 12641a9dc..903d0c9b6 100644
--- a/library/src/main/java/com/bumptech/glide/load/engine/DecodeJob.java
+++ b/library/src/main/java/com/bumptech/glide/load/engine/DecodeJob.java
@@ -479,16 +479,22 @@ private Options getOptionsWithHardwareConfig(DataSource dataSource) {
       return options;
     }
 
-    if (options.get(Downsampler.ALLOW_HARDWARE_CONFIG) != null) {
+    boolean isHardwareConfigSafe =
+        dataSource == DataSource.RESOURCE_DISK_CACHE || decodeHelper.isScaleOnlyOrNoTransform();
+    Boolean isHardwareConfigAllowed = options.get(Downsampler.ALLOW_HARDWARE_CONFIG);
+
+    // If allow hardware config is defined, we can use it if it's set to false or if it's safe to
+    // use the hardware config for the request.
+    if (isHardwareConfigAllowed != null && (!isHardwareConfigAllowed || isHardwareConfigSafe)) {
       return options;
     }
 
-    if (dataSource == DataSource.RESOURCE_DISK_CACHE
-        || decodeHelper.isScaleOnlyOrNoTransform()) {
-      options = new Options();
-      options.putAll(this.options);
-      options.set(Downsampler.ALLOW_HARDWARE_CONFIG, true);
-    }
+    // If allow hardware config is undefined or is set to true but it's unsafe for us to use the
+    // hardware config for this request, we need to override the config.
+    options = new Options();
+    options.putAll(this.options);
+    options.set(Downsampler.ALLOW_HARDWARE_CONFIG, isHardwareConfigSafe);
+
     return options;
   }
 
diff --git a/library/src/main/java/com/bumptech/glide/load/engine/ResourceCacheGenerator.java b/library/src/main/java/com/bumptech/glide/load/engine/ResourceCacheGenerator.java
index 86cdfb506..aee163a33 100644
--- a/library/src/main/java/com/bumptech/glide/load/engine/ResourceCacheGenerator.java
+++ b/library/src/main/java/com/bumptech/glide/load/engine/ResourceCacheGenerator.java
@@ -50,12 +50,9 @@ public boolean startNext() {
       if (File.class.equals(helper.getTranscodeClass())) {
         return false;
       }
-      // TODO(b/73882030): This case gets triggered when it shouldn't. With this assertion it causes
-      // all loads to fail. Without this assertion it causes loads to miss the disk cache
-      // unnecessarily
-      // throw new IllegalStateException(
-      //    "Failed to find any load path from " + helper.getModelClass() + " to "
-      //        + helper.getTranscodeClass());
+      throw new IllegalStateException(
+         "Failed to find any load path from " + helper.getModelClass() + " to "
+             + helper.getTranscodeClass());
     }
     while (modelLoaders == null || !hasNextModelLoader()) {
       resourceClassIndex++;
diff --git a/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/BitmapPool.java b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/BitmapPool.java
index 7b234184a..b57a9f3d4 100644
--- a/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/BitmapPool.java
+++ b/library/src/main/java/com/bumptech/glide/load/engine/bitmap_recycle/BitmapPool.java
@@ -85,8 +85,7 @@
    * @param config The {@link android.graphics.Bitmap.Config} of the desired {@link
    *               android.graphics.Bitmap}.
    * @return A {@link android.graphics.Bitmap} with exactly the given width, height, and config
-   * potentially containing random image data or null if no such {@link android.graphics.Bitmap}
-   * could be obtained from the pool.
+   * potentially containing random image data.
    * @see #get(int, int, android.graphics.Bitmap.Config)
    */
   @NonNull
diff --git a/library/src/main/java/com/bumptech/glide/load/engine/prefill/BitmapPreFiller.java b/library/src/main/java/com/bumptech/glide/load/engine/prefill/BitmapPreFiller.java
index 9ddc221ed..09d00876d 100644
--- a/library/src/main/java/com/bumptech/glide/load/engine/prefill/BitmapPreFiller.java
+++ b/library/src/main/java/com/bumptech/glide/load/engine/prefill/BitmapPreFiller.java
@@ -43,7 +43,6 @@ public void preFill(PreFillType.Builder... bitmapAttributeBuilders) {
       if (builder.getConfig() == null) {
         builder.setConfig(
             defaultFormat == DecodeFormat.PREFER_ARGB_8888
-                || defaultFormat == DecodeFormat.PREFER_ARGB_8888_DISALLOW_HARDWARE
             ? Bitmap.Config.ARGB_8888 : Bitmap.Config.RGB_565);
       }
       bitmapAttributes[i] = builder.build();
diff --git a/library/src/main/java/com/bumptech/glide/load/model/ModelLoaderFactory.java b/library/src/main/java/com/bumptech/glide/load/model/ModelLoaderFactory.java
index 321077144..921d4c488 100644
--- a/library/src/main/java/com/bumptech/glide/load/model/ModelLoaderFactory.java
+++ b/library/src/main/java/com/bumptech/glide/load/model/ModelLoaderFactory.java
@@ -2,12 +2,18 @@
 
 import android.content.Context;
 import android.support.annotation.NonNull;
+import com.bumptech.glide.Glide;
+import com.bumptech.glide.Registry;
 
 /**
- * An interface for creating a {@link ModelLoader} for a given model type. Will be retained
- * statically so should not retain {@link Context} or any other objects that cannot be retained for
- * the life of the application. ModelLoaders will not be retained statically so it is safe for any
- * ModelLoader built by this factory to retain a reference to a {@link Context}.
+ * An interface for creating a {@link ModelLoader} for a given model type.
+ *
+ * <p>The application {@link android.content.Context} can be passed in to the constructor of the
+ * factory when necessary. It's unsafe to retain {@link android.app.Activity}
+ * {@link android.content.Context}s in factories. The {@link android.content.Context} can be
+ * obtained from
+ * {@link com.bumptech.glide.module.LibraryGlideModule#registerComponents(Context, Glide, Registry)}
+ * in most cases.
  *
  * @param <T> The type of the model the {@link com.bumptech.glide.load.model.ModelLoader}s built by
  *            this factory can handle
diff --git a/library/src/main/java/com/bumptech/glide/load/model/ModelLoaderRegistry.java b/library/src/main/java/com/bumptech/glide/load/model/ModelLoaderRegistry.java
index ef11d7a21..1efe114f8 100644
--- a/library/src/main/java/com/bumptech/glide/load/model/ModelLoaderRegistry.java
+++ b/library/src/main/java/com/bumptech/glide/load/model/ModelLoaderRegistry.java
@@ -66,15 +66,23 @@ private ModelLoaderRegistry(@NonNull MultiModelLoaderFactory multiModelLoaderFac
     }
   }
 
+  // We're allocating in a loop to avoid allocating empty lists that will never have anything added
+  // to them.
+  @SuppressWarnings("PMD.AvoidInstantiatingObjectsInLoops")
   @NonNull
-  public synchronized <A> List<ModelLoader<A, ?>> getModelLoaders(@NonNull A model) {
+  public <A> List<ModelLoader<A, ?>> getModelLoaders(@NonNull A model) {
     List<ModelLoader<A, ?>> modelLoaders = getModelLoadersForClass(getClass(model));
     int size = modelLoaders.size();
-    List<ModelLoader<A, ?>> filteredLoaders = new ArrayList<>(size);
+    boolean isEmpty = true;
+    List<ModelLoader<A, ?>> filteredLoaders = Collections.emptyList();
     //noinspection ForLoopReplaceableByForEach to improve perf
     for (int i = 0; i < size; i++) {
       ModelLoader<A, ?> loader = modelLoaders.get(i);
       if (loader.handles(model)) {
+        if (isEmpty) {
+          filteredLoaders = new ArrayList<>(size - i);
+          isEmpty = false;
+        }
         filteredLoaders.add(loader);
       }
     }
@@ -92,7 +100,8 @@ private ModelLoaderRegistry(@NonNull MultiModelLoaderFactory multiModelLoaderFac
   }
 
   @NonNull
-  private <A> List<ModelLoader<A, ?>> getModelLoadersForClass(@NonNull Class<A> modelClass) {
+  private synchronized <A> List<ModelLoader<A, ?>> getModelLoadersForClass(
+      @NonNull Class<A> modelClass) {
     List<ModelLoader<A, ?>> loaders = cache.get(modelClass);
     if (loaders == null) {
       loaders = Collections.unmodifiableList(multiModelLoaderFactory.build(modelClass));
diff --git a/library/src/main/java/com/bumptech/glide/load/model/StringLoader.java b/library/src/main/java/com/bumptech/glide/load/model/StringLoader.java
index 16bb6cfde..c00fac18e 100644
--- a/library/src/main/java/com/bumptech/glide/load/model/StringLoader.java
+++ b/library/src/main/java/com/bumptech/glide/load/model/StringLoader.java
@@ -29,11 +29,16 @@ public StringLoader(ModelLoader<Uri, Data> uriLoader) {
   public LoadData<Data> buildLoadData(@NonNull String model, int width, int height,
       @NonNull Options options) {
     Uri uri = parseUri(model);
-    return uri == null ? null : uriLoader.buildLoadData(uri, width, height, options);
+    if (uri == null || !uriLoader.handles(uri)) {
+      return null;
+    }
+    return uriLoader.buildLoadData(uri, width, height, options);
   }
 
   @Override
   public boolean handles(@NonNull String model) {
+    // Avoid parsing the Uri twice and simply return null from buildLoadData if we don't handle this
+    // particular Uri type.
     return true;
   }
 
@@ -66,7 +71,8 @@ private static Uri toFileUri(String path) {
 
     @NonNull
     @Override
-    public ModelLoader<String, InputStream> build(MultiModelLoaderFactory multiFactory) {
+    public ModelLoader<String, InputStream> build(
+        @NonNull MultiModelLoaderFactory multiFactory) {
       return new StringLoader<>(multiFactory.build(Uri.class, InputStream.class));
     }
 
@@ -84,7 +90,8 @@ public void teardown() {
 
     @NonNull
     @Override
-    public ModelLoader<String, ParcelFileDescriptor> build(MultiModelLoaderFactory multiFactory) {
+    public ModelLoader<String, ParcelFileDescriptor> build(
+        @NonNull MultiModelLoaderFactory multiFactory) {
       return new StringLoader<>(multiFactory.build(Uri.class, ParcelFileDescriptor.class));
     }
 
@@ -101,7 +108,8 @@ public void teardown() {
       implements ModelLoaderFactory<String, AssetFileDescriptor> {
 
     @Override
-    public ModelLoader<String, AssetFileDescriptor> build(MultiModelLoaderFactory multiFactory) {
+    public ModelLoader<String, AssetFileDescriptor> build(
+        @NonNull MultiModelLoaderFactory multiFactory) {
       return new StringLoader<>(multiFactory.build(Uri.class, AssetFileDescriptor.class));
     }
 
diff --git a/library/src/main/java/com/bumptech/glide/load/resource/bitmap/Downsampler.java b/library/src/main/java/com/bumptech/glide/load/resource/bitmap/Downsampler.java
index 9abf4f177..53e7d25f4 100644
--- a/library/src/main/java/com/bumptech/glide/load/resource/bitmap/Downsampler.java
+++ b/library/src/main/java/com/bumptech/glide/load/resource/bitmap/Downsampler.java
@@ -88,7 +88,8 @@
    * <p>This option is ignored unless we're on Android O+.
    */
   public static final Option<Boolean> ALLOW_HARDWARE_CONFIG =
-      Option.memory("com.bumtpech.glide.load.resource.bitmap.Downsampler.AllowHardwareDecode");
+      Option.memory(
+          "com.bumptech.glide.load.resource.bitmap.Downsampler.AllowHardwareDecode", false);
 
   private static final String WBMP_MIME_TYPE = "image/vnd.wap.wbmp";
   private static final String ICO_MIME_TYPE = "image/x-ico";
@@ -200,9 +201,6 @@ public boolean handles(@SuppressWarnings("unused") ByteBuffer byteBuffer) {
     boolean fixBitmapToRequestedDimensions = options.get(FIX_BITMAP_SIZE_TO_REQUESTED_DIMENSIONS);
     boolean isHardwareConfigAllowed =
       options.get(ALLOW_HARDWARE_CONFIG) != null && options.get(ALLOW_HARDWARE_CONFIG);
-    if (decodeFormat == DecodeFormat.PREFER_ARGB_8888_DISALLOW_HARDWARE) {
-      isHardwareConfigAllowed = false;
-    }
 
     try {
       Bitmap result = decodeFromWrappedStreams(is, bitmapFactoryOptions,
@@ -524,7 +522,6 @@ private void calculateConfig(
 
     // Changing configs can cause skewing on 4.1, see issue #128.
     if (format == DecodeFormat.PREFER_ARGB_8888
-        || format == DecodeFormat.PREFER_ARGB_8888_DISALLOW_HARDWARE
         || Build.VERSION.SDK_INT == Build.VERSION_CODES.JELLY_BEAN) {
       optionsWithScaling.inPreferredConfig = Bitmap.Config.ARGB_8888;
       return;
diff --git a/library/src/main/java/com/bumptech/glide/load/resource/bitmap/ExifInterfaceImageHeaderParser.java b/library/src/main/java/com/bumptech/glide/load/resource/bitmap/ExifInterfaceImageHeaderParser.java
new file mode 100644
index 000000000..92152d778
--- /dev/null
+++ b/library/src/main/java/com/bumptech/glide/load/resource/bitmap/ExifInterfaceImageHeaderParser.java
@@ -0,0 +1,54 @@
+package com.bumptech.glide.load.resource.bitmap;
+
+import android.media.ExifInterface;
+import android.os.Build;
+import android.support.annotation.NonNull;
+import android.support.annotation.RequiresApi;
+import com.bumptech.glide.load.ImageHeaderParser;
+import com.bumptech.glide.load.engine.bitmap_recycle.ArrayPool;
+import com.bumptech.glide.util.ByteBufferUtil;
+import java.io.IOException;
+import java.io.InputStream;
+import java.nio.ByteBuffer;
+
+/**
+ * Uses {@link ExifInterface} to parse orientation data.
+ *
+ * <p>ExifInterface supports the HEIF format on OMR1+. Glide's {@link DefaultImageHeaderParser}
+ * doesn't currently support HEIF. In the future we should reconcile these two classes, but for
+ * now this is a simple way to ensure that HEIF files are oriented correctly on platforms where
+ * they're supported.
+ */
+@RequiresApi(Build.VERSION_CODES.O_MR1)
+public final class ExifInterfaceImageHeaderParser implements ImageHeaderParser {
+
+  @NonNull
+  @Override
+  public ImageType getType(@NonNull InputStream is) throws IOException {
+    return ImageType.UNKNOWN;
+  }
+
+  @NonNull
+  @Override
+  public ImageType getType(@NonNull ByteBuffer byteBuffer) throws IOException {
+    return ImageType.UNKNOWN;
+  }
+
+  @Override
+  public int getOrientation(@NonNull InputStream is, @NonNull ArrayPool byteArrayPool)
+      throws IOException {
+    ExifInterface exifInterface = new ExifInterface(is);
+    int result = exifInterface.getAttributeInt(
+            ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_NORMAL);
+    if (result == ExifInterface.ORIENTATION_UNDEFINED) {
+      return ImageHeaderParser.UNKNOWN_ORIENTATION;
+    }
+    return result;
+  }
+
+  @Override
+  public int getOrientation(@NonNull ByteBuffer byteBuffer, @NonNull ArrayPool byteArrayPool)
+      throws IOException {
+    return getOrientation(ByteBufferUtil.toStream(byteBuffer), byteArrayPool);
+  }
+}
diff --git a/library/src/main/java/com/bumptech/glide/load/resource/bitmap/HardwareConfigState.java b/library/src/main/java/com/bumptech/glide/load/resource/bitmap/HardwareConfigState.java
index fe7c0357d..1991d205f 100644
--- a/library/src/main/java/com/bumptech/glide/load/resource/bitmap/HardwareConfigState.java
+++ b/library/src/main/java/com/bumptech/glide/load/resource/bitmap/HardwareConfigState.java
@@ -82,7 +82,6 @@ boolean setHardwareConfigIfAllowed(
       boolean isExifOrientationRequired) {
     if (!isHardwareConfigAllowed
         || Build.VERSION.SDK_INT < Build.VERSION_CODES.O
-        || decodeFormat == DecodeFormat.PREFER_ARGB_8888_DISALLOW_HARDWARE
         || isExifOrientationRequired) {
       return false;
     }
diff --git a/library/src/main/java/com/bumptech/glide/load/resource/bitmap/RecyclableBufferedInputStream.java b/library/src/main/java/com/bumptech/glide/load/resource/bitmap/RecyclableBufferedInputStream.java
index c8139383f..88ecc15a3 100644
--- a/library/src/main/java/com/bumptech/glide/load/resource/bitmap/RecyclableBufferedInputStream.java
+++ b/library/src/main/java/com/bumptech/glide/load/resource/bitmap/RecyclableBufferedInputStream.java
@@ -385,7 +385,7 @@ public synchronized long skip(long byteCount) throws IOException {
       pos = (int) (pos + byteCount);
       return byteCount;
     }
-    // See http://errorprone.info/bugpattern/IntLongMath.
+    // See https://errorprone.info/bugpattern/IntLongMath.
     long read = (long) count - pos;
     pos = count;
 
@@ -394,7 +394,7 @@ public synchronized long skip(long byteCount) throws IOException {
         return read;
       }
       if (count - pos >= byteCount - read) {
-        // See http://errorprone.info/bugpattern/NarrowingCompoundAssignment.
+        // See https://errorprone.info/bugpattern/NarrowingCompoundAssignment.
         pos = (int) (pos + byteCount - read);
         return byteCount;
       }
diff --git a/library/src/main/java/com/bumptech/glide/load/resource/drawable/ResourceDrawableDecoder.java b/library/src/main/java/com/bumptech/glide/load/resource/drawable/ResourceDrawableDecoder.java
index f37045c7f..9b8f5a285 100644
--- a/library/src/main/java/com/bumptech/glide/load/resource/drawable/ResourceDrawableDecoder.java
+++ b/library/src/main/java/com/bumptech/glide/load/resource/drawable/ResourceDrawableDecoder.java
@@ -47,18 +47,27 @@ public boolean handles(@NonNull Uri source, @NonNull Options options) {
       @NonNull Options options) {
     @DrawableRes int resId = loadResourceIdFromUri(source);
     String packageName = source.getAuthority();
-    Context targetContext = packageName.equals(context.getPackageName())
-        ? context : getContextForPackage(source, packageName);
+    Context targetContext = findContextForPackage(source, packageName);
     // We can't get a theme from another application.
     Drawable drawable = DrawableDecoderCompat.getDrawable(context, targetContext, resId);
     return NonOwnedDrawableResource.newInstance(drawable);
   }
 
   @NonNull
-  private Context getContextForPackage(Uri source, String packageName) {
+  private Context findContextForPackage(Uri source, String packageName) {
+    // Fast path
+    if (packageName.equals(context.getPackageName())) {
+      return context;
+    }
+
     try {
       return context.createPackageContext(packageName, /*flags=*/ 0);
     } catch (NameNotFoundException e) {
+      // The parent APK holds the correct context if the resource is located in a split
+      if (packageName.contains(context.getPackageName())) {
+        return context;
+      }
+
       throw new IllegalArgumentException(
           "Failed to obtain context or unrecognized Uri format for: " + source, e);
     }
diff --git a/library/src/main/java/com/bumptech/glide/manager/RequestTracker.java b/library/src/main/java/com/bumptech/glide/manager/RequestTracker.java
index d654f2a1c..97567671b 100644
--- a/library/src/main/java/com/bumptech/glide/manager/RequestTracker.java
+++ b/library/src/main/java/com/bumptech/glide/manager/RequestTracker.java
@@ -43,6 +43,7 @@ public void runRequest(@NonNull Request request) {
     if (!isPaused) {
       request.begin();
     } else {
+      request.clear();
       if (Log.isLoggable(TAG, Log.VERBOSE)) {
         Log.v(TAG, "Paused, delaying request");
       }
@@ -97,7 +98,7 @@ public void pauseRequests() {
     isPaused = true;
     for (Request request : Util.getSnapshot(requests)) {
       if (request.isRunning()) {
-        request.pause();
+        request.clear();
         pendingRequests.add(request);
       }
     }
@@ -108,7 +109,7 @@ public void pauseAllRequests() {
     isPaused = true;
     for (Request request : Util.getSnapshot(requests)) {
       if (request.isRunning() || request.isComplete()) {
-        request.pause();
+        request.clear();
         pendingRequests.add(request);
       }
     }
@@ -120,7 +121,10 @@ public void pauseAllRequests() {
   public void resumeRequests() {
     isPaused = false;
     for (Request request : Util.getSnapshot(requests)) {
-      if (!request.isComplete() && !request.isCancelled() && !request.isRunning()) {
+      // We don't need to check for cleared here. Any explicit clear by a user will remove the
+      // Request from the tracker, so the only way we'd find a cleared request here is if we cleared
+      // it. As a result it should be safe for us to resume cleared requests.
+      if (!request.isComplete() && !request.isRunning()) {
         request.begin();
       }
     }
@@ -146,12 +150,12 @@ public void clearRequests() {
    */
   public void restartRequests() {
     for (Request request : Util.getSnapshot(requests)) {
-      if (!request.isComplete() && !request.isCancelled()) {
-        // Ensure the request will be restarted in onResume.
-        request.pause();
+      if (!request.isComplete() && !request.isCleared()) {
+        request.clear();
         if (!isPaused) {
           request.begin();
         } else {
+          // Ensure the request will be restarted in onResume.
           pendingRequests.add(request);
         }
       }
diff --git a/library/src/main/java/com/bumptech/glide/provider/ModelToResourceClassCache.java b/library/src/main/java/com/bumptech/glide/provider/ModelToResourceClassCache.java
index ac417c13f..4740f4b5a 100644
--- a/library/src/main/java/com/bumptech/glide/provider/ModelToResourceClassCache.java
+++ b/library/src/main/java/com/bumptech/glide/provider/ModelToResourceClassCache.java
@@ -17,12 +17,15 @@
       new ArrayMap<>();
 
   @Nullable
-  public List<Class<?>> get(@NonNull Class<?> modelClass, @NonNull Class<?> resourceClass) {
+  public List<Class<?>> get(
+      @NonNull Class<?> modelClass,
+      @NonNull Class<?> resourceClass,
+      @NonNull Class<?> transcodeClass) {
     MultiClassKey key = resourceClassKeyRef.getAndSet(null);
     if (key == null) {
-      key = new MultiClassKey(modelClass, resourceClass);
+      key = new MultiClassKey(modelClass, resourceClass, transcodeClass);
     } else {
-      key.set(modelClass, resourceClass);
+      key.set(modelClass, resourceClass, transcodeClass);
     }
     final List<Class<?>> result;
     synchronized (registeredResourceClassCache) {
@@ -32,11 +35,14 @@
     return result;
   }
 
-  public void put(@NonNull Class<?> modelClass, @NonNull Class<?> resourceClass,
+  public void put(
+      @NonNull Class<?> modelClass,
+      @NonNull Class<?> resourceClass,
+      @NonNull Class<?> transcodeClass,
       @NonNull List<Class<?>> resourceClasses) {
     synchronized (registeredResourceClassCache) {
       registeredResourceClassCache
-          .put(new MultiClassKey(modelClass, resourceClass), resourceClasses);
+          .put(new MultiClassKey(modelClass, resourceClass, transcodeClass), resourceClasses);
     }
   }
 
diff --git a/library/src/main/java/com/bumptech/glide/request/BaseRequestOptions.java b/library/src/main/java/com/bumptech/glide/request/BaseRequestOptions.java
new file mode 100644
index 000000000..08136a327
--- /dev/null
+++ b/library/src/main/java/com/bumptech/glide/request/BaseRequestOptions.java
@@ -0,0 +1,1430 @@
+package com.bumptech.glide.request;
+
+import android.content.res.Resources;
+import android.graphics.Bitmap;
+import android.graphics.drawable.BitmapDrawable;
+import android.graphics.drawable.Drawable;
+import android.support.annotation.CheckResult;
+import android.support.annotation.DrawableRes;
+import android.support.annotation.FloatRange;
+import android.support.annotation.IntRange;
+import android.support.annotation.NonNull;
+import android.support.annotation.Nullable;
+import com.bumptech.glide.Priority;
+import com.bumptech.glide.load.DecodeFormat;
+import com.bumptech.glide.load.Key;
+import com.bumptech.glide.load.MultiTransformation;
+import com.bumptech.glide.load.Option;
+import com.bumptech.glide.load.Options;
+import com.bumptech.glide.load.Transformation;
+import com.bumptech.glide.load.engine.DiskCacheStrategy;
+import com.bumptech.glide.load.model.stream.HttpGlideUrlLoader;
+import com.bumptech.glide.load.resource.bitmap.BitmapEncoder;
+import com.bumptech.glide.load.resource.bitmap.CenterCrop;
+import com.bumptech.glide.load.resource.bitmap.CenterInside;
+import com.bumptech.glide.load.resource.bitmap.CircleCrop;
+import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
+import com.bumptech.glide.load.resource.bitmap.Downsampler;
+import com.bumptech.glide.load.resource.bitmap.DrawableTransformation;
+import com.bumptech.glide.load.resource.bitmap.FitCenter;
+import com.bumptech.glide.load.resource.bitmap.VideoDecoder;
+import com.bumptech.glide.load.resource.gif.GifDrawable;
+import com.bumptech.glide.load.resource.gif.GifDrawableTransformation;
+import com.bumptech.glide.load.resource.gif.GifOptions;
+import com.bumptech.glide.signature.EmptySignature;
+import com.bumptech.glide.util.CachedHashCodeArrayMap;
+import com.bumptech.glide.util.Preconditions;
+import com.bumptech.glide.util.Util;
+import java.util.Map;
+
+/**
+ * A base object to allow method sharing between {@link RequestOptions} and
+ * {@link com.bumptech.glide.RequestBuilder}.
+ *
+ * <p>This class is not meant for general use and may change at any time.
+ *
+ * @param <T> The particular child implementation
+ */
+@SuppressWarnings({"PMD.UseUtilityClass", "unused"})
+public abstract class BaseRequestOptions<T extends BaseRequestOptions<T>> implements Cloneable {
+  private static final int UNSET = -1;
+  private static final int SIZE_MULTIPLIER = 1 << 1;
+  private static final int DISK_CACHE_STRATEGY = 1 << 2;
+  private static final int PRIORITY = 1 << 3;
+  private static final int ERROR_PLACEHOLDER = 1 << 4;
+  private static final int ERROR_ID = 1 << 5;
+  private static final int PLACEHOLDER = 1 << 6;
+  private static final int PLACEHOLDER_ID = 1 << 7;
+  private static final int IS_CACHEABLE = 1 << 8;
+  private static final int OVERRIDE = 1 << 9;
+  private static final int SIGNATURE = 1 << 10;
+  private static final int TRANSFORMATION = 1 << 11;
+  private static final int RESOURCE_CLASS = 1 << 12;
+  private static final int FALLBACK = 1 << 13;
+  private static final int FALLBACK_ID = 1 << 14;
+  private static final int THEME = 1 << 15;
+  private static final int TRANSFORMATION_ALLOWED = 1 << 16;
+  private static final int TRANSFORMATION_REQUIRED = 1 << 17;
+  private static final int USE_UNLIMITED_SOURCE_GENERATORS_POOL = 1 << 18;
+  private static final int ONLY_RETRIEVE_FROM_CACHE = 1 << 19;
+  private static final int USE_ANIMATION_POOL = 1 << 20;
+
+  private int fields;
+  private float sizeMultiplier = 1f;
+  @NonNull
+  private DiskCacheStrategy diskCacheStrategy = DiskCacheStrategy.AUTOMATIC;
+  @NonNull
+  private Priority priority = Priority.NORMAL;
+  @Nullable
+  private Drawable errorPlaceholder;
+  private int errorId;
+  @Nullable
+  private Drawable placeholderDrawable;
+  private int placeholderId;
+  private boolean isCacheable = true;
+  private int overrideHeight = UNSET;
+  private int overrideWidth = UNSET;
+  @NonNull
+  private Key signature = EmptySignature.obtain();
+  private boolean isTransformationRequired;
+  private boolean isTransformationAllowed = true;
+  @Nullable
+  private Drawable fallbackDrawable;
+  private int fallbackId;
+  @NonNull
+  private Options options = new Options();
+  @NonNull
+  private Map<Class<?>, Transformation<?>> transformations = new CachedHashCodeArrayMap<>();
+  @NonNull
+  private Class<?> resourceClass = Object.class;
+  private boolean isLocked;
+  @Nullable
+  private Resources.Theme theme;
+  private boolean isAutoCloneEnabled;
+  private boolean useUnlimitedSourceGeneratorsPool;
+  private boolean onlyRetrieveFromCache;
+  private boolean isScaleOnlyOrNoTransform = true;
+  private boolean useAnimationPool;
+
+
+  private static boolean isSet(int fields, int flag) {
+    return (fields & flag) != 0;
+  }
+
+  /**
+   * Applies a multiplier to the {@link com.bumptech.glide.request.target.Target}'s size before
+   * loading the resource. Useful for loading thumbnails or trying to avoid loading huge resources
+   * (particularly {@link Bitmap}s on devices with overly dense screens.
+   *
+   * @param sizeMultiplier The multiplier to apply to the
+   *                       {@link com.bumptech.glide.request.target.Target}'s dimensions when
+   *                       loading the resource.
+   * @return This request builder.
+   */
+  @NonNull
+  @CheckResult
+  public T sizeMultiplier(@FloatRange(from = 0, to = 1) float sizeMultiplier) {
+    if (isAutoCloneEnabled) {
+      return clone().sizeMultiplier(sizeMultiplier);
+    }
+
+    if (sizeMultiplier < 0f || sizeMultiplier > 1f) {
+      throw new IllegalArgumentException("sizeMultiplier must be between 0 and 1");
+    }
+    this.sizeMultiplier = sizeMultiplier;
+    fields |= SIZE_MULTIPLIER;
+
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * If set to {@code true}, uses a cached unlimited {@link java.util.concurrent.Executor} to run
+   * the request.
+   *
+   * <p>This method should <em>ONLY</em> be used when a Glide load is started recursively on one
+   * of Glide's threads as part of another request. Using this method in other scenarios can lead
+   * to excessive memory usage and OOMs and/or a significant decrease in performance across an
+   * application.
+   *
+   * <p>If both this method and {@link #useAnimationPool(boolean)} are set, this method will be
+   * preferred and {@link #useAnimationPool(boolean)} will be ignored.
+   */
+  @NonNull
+  @CheckResult
+  public T useUnlimitedSourceGeneratorsPool(boolean flag) {
+    if (isAutoCloneEnabled) {
+      return clone().useUnlimitedSourceGeneratorsPool(flag);
+    }
+
+    this.useUnlimitedSourceGeneratorsPool = flag;
+    fields |= USE_UNLIMITED_SOURCE_GENERATORS_POOL;
+
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * If set to {@code true}, uses a special {@link java.util.concurrent.Executor} that is used
+   * exclusively for decoding frames of animated resources, like GIFs.
+   *
+   * <p>The animation executor disallows network operations and must not be used for loads that
+   * may load remote data. The animation executor has fewer threads available to it than Glide's
+   * normal executors and is only useful as a way of avoiding blocking on longer and more expensive
+   * reads for critical requests like those in an animating GIF.
+   *
+   * <p>If both {@link #useUnlimitedSourceGeneratorsPool(boolean)} and this method are set,
+   * {@link #useUnlimitedSourceGeneratorsPool(boolean)} will be preferred and this method will be
+   * ignored.
+   */
+  @NonNull
+  @CheckResult
+  public T useAnimationPool(boolean flag) {
+    if (isAutoCloneEnabled) {
+      return clone().useAnimationPool(flag);
+    }
+
+    useAnimationPool = flag;
+    fields |= USE_ANIMATION_POOL;
+
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   *
+   * If set to true, will only load an item if found in the cache, and will not fetch from source.
+   */
+  @NonNull
+  @CheckResult
+  public T onlyRetrieveFromCache(boolean flag) {
+    if (isAutoCloneEnabled) {
+      return clone().onlyRetrieveFromCache(flag);
+    }
+
+    this.onlyRetrieveFromCache = flag;
+    fields |= ONLY_RETRIEVE_FROM_CACHE;
+
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * Sets the {@link DiskCacheStrategy} to use for this load.
+   *
+   * <p> Defaults to {@link DiskCacheStrategy#AUTOMATIC}. </p>
+   *
+   * <p> For most applications {@link DiskCacheStrategy#RESOURCE} is
+   * ideal. Applications that use the same resource multiple times in multiple sizes and are willing
+   * to trade off some speed and disk space in return for lower bandwidth usage may want to consider
+   * using {@link DiskCacheStrategy#DATA} or
+   * {@link DiskCacheStrategy#ALL}. </p>
+   *
+   * @param strategy The strategy to use.
+   * @return This request builder.
+   */
+  @NonNull
+  @CheckResult
+  public T diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
+    if (isAutoCloneEnabled) {
+      return clone().diskCacheStrategy(strategy);
+    }
+    this.diskCacheStrategy = Preconditions.checkNotNull(strategy);
+    fields |= DISK_CACHE_STRATEGY;
+
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * Sets the priority for this load.
+   *
+   * @param priority A priority.
+   * @return This request builder.
+   */
+  @NonNull
+  @CheckResult
+  public T priority(@NonNull Priority priority) {
+    if (isAutoCloneEnabled) {
+      return clone().priority(priority);
+    }
+
+    this.priority = Preconditions.checkNotNull(priority);
+    fields |= PRIORITY;
+
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * Sets an {@link Drawable} to display while a resource is loading.
+   *
+   * <p>Replaces any previous calls to this method or {@link #placeholder(int)}.
+   *
+   * @param drawable The drawable to display as a placeholder.
+   * @return This request builder.
+   */
+  @NonNull
+  @CheckResult
+  public T placeholder(@Nullable Drawable drawable) {
+    if (isAutoCloneEnabled) {
+      return clone().placeholder(drawable);
+    }
+
+    this.placeholderDrawable = drawable;
+    fields |= PLACEHOLDER;
+
+    placeholderId = 0;
+    fields &= ~PLACEHOLDER_ID;
+
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * Sets an Android resource id for a {@link Drawable} resource to
+   * display while a resource is loading.
+   *
+   * <p>Replaces any previous calls to this method or {@link #placeholder(Drawable)}
+   *
+   * @param resourceId The id of the resource to use as a placeholder
+   * @return This request builder.
+   */
+  @NonNull
+  @CheckResult
+  public T placeholder(@DrawableRes int resourceId) {
+    if (isAutoCloneEnabled) {
+      return clone().placeholder(resourceId);
+    }
+
+    this.placeholderId = resourceId;
+    fields |= PLACEHOLDER_ID;
+
+    placeholderDrawable = null;
+    fields &= ~PLACEHOLDER;
+
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * Sets an {@link Drawable} to display if the model provided to
+   * {@link com.bumptech.glide.RequestBuilder#load(Object)} is {@code null}.
+   *
+   * <p> If a fallback is not set, null models will cause the error drawable to be displayed. If the
+   * error drawable is not set, the placeholder will be displayed.
+   *
+   * <p>Replaces any previous calls to this method or {@link #fallback(int)}.
+   *
+   * @see #placeholder(Drawable)
+   * @see #placeholder(int)
+   *
+   * @param drawable The drawable to display as a placeholder.
+   * @return This request builder.
+   */
+  @NonNull
+  @CheckResult
+  public T fallback(@Nullable Drawable drawable) {
+    if (isAutoCloneEnabled) {
+      return clone().fallback(drawable);
+    }
+
+    this.fallbackDrawable = drawable;
+    fields |= FALLBACK;
+
+    fallbackId = 0;
+    fields &= ~FALLBACK_ID;
+
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * Sets a resource to display if the model provided to
+   * {@link com.bumptech.glide.RequestBuilder#load(Object)} is {@code null}.
+   *
+   * <p> If a fallback is not set, null models will cause the error drawable to be displayed. If
+   * the error drawable is not set, the placeholder will be displayed.
+   *
+   * <p>Replaces any previous calls to this method or {@link #fallback(Drawable)}.
+   *
+   * @see #placeholder(Drawable)
+   * @see #placeholder(int)
+   *
+   * @param resourceId The id of the resource to use as a fallback.
+   * @return This request builder.
+   */
+  @NonNull
+  @CheckResult
+  public T fallback(@DrawableRes int resourceId) {
+    if (isAutoCloneEnabled) {
+      return clone().fallback(resourceId);
+    }
+
+    this.fallbackId = resourceId;
+    fields |= FALLBACK_ID;
+
+    fallbackDrawable = null;
+    fields &= ~FALLBACK;
+
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * Sets a {@link Drawable} to display if a load fails.
+   *
+   * <p>Replaces any previous calls to this method or {@link #error(int)}
+   *
+   * @param drawable The drawable to display.
+   * @return This request builder.
+   */
+  @NonNull
+  @CheckResult
+  public T error(@Nullable Drawable drawable) {
+    if (isAutoCloneEnabled) {
+      return clone().error(drawable);
+    }
+
+    this.errorPlaceholder = drawable;
+    fields |= ERROR_PLACEHOLDER;
+
+    this.errorId = 0;
+    fields &= ~ERROR_ID;
+
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * Sets a resource to display if a load fails.
+   *
+   * <p>Replaces any previous calls to this method or {@link #error(Drawable)}
+   *
+   * @param resourceId The id of the resource to use as a placeholder.
+   * @return This request builder.
+   */
+  @NonNull
+  @CheckResult
+  public T error(@DrawableRes int resourceId) {
+    if (isAutoCloneEnabled) {
+      return clone().error(resourceId);
+    }
+    this.errorId = resourceId;
+    fields |= ERROR_ID;
+
+    this.errorPlaceholder = null;
+    fields &= ~ERROR_PLACEHOLDER;
+
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * Sets the {@link android.content.res.Resources.Theme} to apply when loading {@link Drawable}s
+   * for resource ids provided via {@link #error(int)}, {@link #placeholder(int)}, and
+   * {@link #fallback(Drawable)}.
+   *
+   * <p>The theme is <em>NOT</em> applied in the decoder that will attempt to decode a given
+   * resource id model on Glide's background threads. The theme is used exclusively on the main
+   * thread to obtain placeholder/error/fallback drawables to avoid leaking Activities.
+   *
+   * <p>If the {@link android.content.Context} of the {@link android.app.Fragment} or
+   * {@link android.app.Activity} used to start this load has a different
+   * {@link android.content.res.Resources.Theme}, the {@link android.content.res.Resources.Theme}
+   * provided here will override the {@link android.content.res.Resources.Theme} of the
+   * {@link android.content.Context}.
+   *
+   * @param theme The theme to use when loading Drawables.
+   * @return this request builder.
+   */
+  @NonNull
+  @CheckResult
+  public T theme(@Nullable Resources.Theme theme) {
+    if (isAutoCloneEnabled) {
+      return clone().theme(theme);
+    }
+
+    this.theme = theme;
+    fields |= THEME;
+
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * Allows the loaded resource to skip the memory cache.
+   *
+   * <p> Note - this is not a guarantee. If a request is already pending for this resource and that
+   * request is not also skipping the memory cache, the resource will be cached in memory.</p>
+   *
+   * @param skip True to allow the resource to skip the memory cache.
+   * @return This request builder.
+   */
+  @NonNull
+  @CheckResult
+  public T skipMemoryCache(boolean skip) {
+    if (isAutoCloneEnabled) {
+      return clone().skipMemoryCache(true);
+    }
+
+    this.isCacheable = !skip;
+    fields |= IS_CACHEABLE;
+
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * Overrides the {@link com.bumptech.glide.request.target.Target}'s width and height with the
+   * given values. This is useful for thumbnails, and should only be used for other cases when you
+   * need a very specific image size.
+   *
+   * @param width  The width in pixels to use to load the resource.
+   * @param height The height in pixels to use to load the resource.
+   * @return This request builder.
+   */
+  @NonNull
+  @CheckResult
+  public T override(int width, int height) {
+    if (isAutoCloneEnabled) {
+      return clone().override(width, height);
+    }
+
+    this.overrideWidth = width;
+    this.overrideHeight = height;
+    fields |= OVERRIDE;
+
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * Overrides the {@link com.bumptech.glide.request.target.Target}'s width and height with the
+   * given size.
+   *
+   * @see #override(int, int)
+   * @param size The width and height to use.
+   * @return This request builder.
+   */
+  @NonNull
+  @CheckResult
+  public T override(int size) {
+    return override(size, size);
+  }
+
+  /**
+   * Sets some additional data to be mixed in to the memory and disk cache keys allowing the caller
+   * more control over when cached data is invalidated.
+   *
+   * <p> Note - The signature does not replace the cache key, it is purely additive. </p>
+   *
+   * @param signature A unique non-null {@link Key} representing the current
+   *                  state of the model that will be mixed in to the cache key.
+   * @return This request builder.
+   * @see com.bumptech.glide.signature.ObjectKey
+   */
+  @NonNull
+  @CheckResult
+  public T signature(@NonNull Key signature) {
+    if (isAutoCloneEnabled) {
+      return clone().signature(signature);
+    }
+
+    this.signature = Preconditions.checkNotNull(signature);
+    fields |= SIGNATURE;
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * Returns a copy of this request builder with all of the options put so far on this builder.
+   *
+   * <p> This method returns a "deep" copy in that all non-immutable arguments are copied such that
+   * changes to one builder will not affect the other builder. However, in addition to immutable
+   * arguments, the current model is not copied copied so changes to the model will affect both
+   * builders. </p>
+   *
+   * <p> Even if this object was locked, the cloned object returned from this method will not be
+   * locked. </p>
+   */
+  @SuppressWarnings({
+      "unchecked",
+      // we don't want to throw to be user friendly
+      "PMD.CloneThrowsCloneNotSupportedException",
+      // The types we're using here do this automatically.
+      "PMD.CloneMethodReturnTypeMustMatchClassName"
+  })
+  @CheckResult
+  @Override
+  public T clone() {
+    try {
+      BaseRequestOptions<?> result = (BaseRequestOptions<?>) super.clone();
+      result.options = new Options();
+      result.options.putAll(options);
+      result.transformations = new CachedHashCodeArrayMap<>();
+      result.transformations.putAll(transformations);
+      result.isLocked = false;
+      result.isAutoCloneEnabled = false;
+      return (T) result;
+    } catch (CloneNotSupportedException e) {
+      throw new RuntimeException(e);
+    }
+  }
+
+  @NonNull
+  @CheckResult
+  public <Y> T set(@NonNull Option<Y> option, @NonNull Y value) {
+    if (isAutoCloneEnabled) {
+      return clone().set(option, value);
+    }
+
+    Preconditions.checkNotNull(option);
+    Preconditions.checkNotNull(value);
+    options.set(option, value);
+    return selfOrThrowIfLocked();
+  }
+
+  @NonNull
+  @CheckResult
+  public T decode(@NonNull Class<?> resourceClass) {
+    if (isAutoCloneEnabled) {
+      return clone().decode(resourceClass);
+    }
+
+    this.resourceClass = Preconditions.checkNotNull(resourceClass);
+    fields |= RESOURCE_CLASS;
+    return selfOrThrowIfLocked();
+  }
+
+  public final boolean isTransformationAllowed() {
+    return isTransformationAllowed;
+  }
+
+  public final boolean isTransformationSet() {
+    return isSet(TRANSFORMATION);
+  }
+
+  public final boolean isLocked() {
+    return isLocked;
+  }
+
+  /**
+   * Sets the value for key
+   * {@link com.bumptech.glide.load.resource.bitmap.BitmapEncoder#COMPRESSION_FORMAT}.
+   */
+  @NonNull
+  @CheckResult
+  public T encodeFormat(@NonNull Bitmap.CompressFormat format) {
+    return set(BitmapEncoder.COMPRESSION_FORMAT, Preconditions.checkNotNull(format));
+  }
+
+  /**
+   * Sets the value for key
+   * {@link BitmapEncoder#COMPRESSION_QUALITY}.
+   */
+  @NonNull
+  @CheckResult
+  public T encodeQuality(@IntRange(from = 0, to = 100) int quality) {
+    return set(BitmapEncoder.COMPRESSION_QUALITY, quality);
+  }
+
+  /**
+   * Sets the time position of the frame to extract from a video.
+   *
+   * <p>This is a component option specific to {@link VideoDecoder}. If the default video
+   * decoder is replaced or skipped because of your configuration, this option may be ignored.
+   *
+   * @see VideoDecoder#TARGET_FRAME
+   * @param frameTimeMicros The time position in microseconds of the desired frame. If negative, the
+   *                        Android framework implementation return a representative frame.
+   */
+  @NonNull
+  @CheckResult
+  public T frame(@IntRange(from = 0) long frameTimeMicros) {
+    return set(VideoDecoder.TARGET_FRAME, frameTimeMicros);
+  }
+
+  /**
+   * Sets the {@link DecodeFormat} to use when decoding {@link Bitmap} objects using
+   * {@link Downsampler} and Glide's default GIF decoders.
+   *
+   * <p>{@link DecodeFormat} is a request, not a requirement. It's possible the resource will be
+   * decoded using a decoder that cannot control the format
+   * ({@link android.media.MediaMetadataRetriever} for example), or that the decoder may choose to
+   * ignore the requested format if it can't display the image (i.e. RGB_565 is requested, but the
+   * image has alpha).
+   *
+   * <p>This is a component option specific to {@link Downsampler} and Glide's GIF decoders. If the
+   * default Bitmap decoders are replaced or skipped because of your configuration, this option may
+   * be ignored.
+   *
+   * <p>To set only the format used when decoding {@link Bitmap}s, use
+   * {@link #set(Option, Object)}} and {@link Downsampler#DECODE_FORMAT}. To set only the format
+   * used when decoding GIF frames, use {@link #set(Option, Object)} and
+   * {@link GifOptions#DECODE_FORMAT}.
+   *
+   * @see Downsampler#DECODE_FORMAT
+   * @see GifOptions#DECODE_FORMAT
+   */
+  @NonNull
+  @CheckResult
+  public T format(@NonNull DecodeFormat format) {
+    Preconditions.checkNotNull(format);
+    return set(Downsampler.DECODE_FORMAT, format)
+        .set(GifOptions.DECODE_FORMAT, format);
+  }
+
+  /**
+   * Disables the use of {@link android.graphics.Bitmap.Config#HARDWARE} in {@link Downsampler} to
+   * avoid errors caused by inspecting Bitmap pixels, drawing with hardware support disabled,
+   * drawing to {@link android.graphics.Canvas}s backed by {@link Bitmap}s etc.
+   *
+   * <p>It's almost never safe to set {@link Downsampler#ALLOW_HARDWARE_CONFIG} to {@code true} so
+   * we only provide a way to disable hardware configs entirely. If no option is set for
+   * {@link Downsampler#ALLOW_HARDWARE_CONFIG}, Glide will set the value per request based on
+   * whether or not a {@link Transformation} is applied and if one is, the type of
+   * {@link Transformation} applied. Built in transformations like {@link FitCenter} and
+   * {@link com.bumptech.glide.load.resource.bitmap.DownsampleStrategy.CenterOutside} can safely use
+   * {@link android.graphics.Bitmap.Config#HARDWARE} because they can be entirely replaced by
+   * scaling within {@link Downsampler}. {@link Transformation}s like {@link #circleCrop()} that
+   * can't be replicated by {@link Downsampler} cannot use {@link Bitmap.Config#HARDWARE} because
+   * {@link android.graphics.Bitmap.Config#HARDWARE} cannot be drawn to
+   * {@link android.graphics.Canvas}s, which is required by most {@link Transformation}s.
+   */
+  @NonNull
+  @CheckResult
+  public T disallowHardwareConfig() {
+    return set(Downsampler.ALLOW_HARDWARE_CONFIG, false);
+  }
+
+  /**
+   * Sets the {@link DownsampleStrategy} to use when decoding {@link Bitmap Bitmaps} using
+   * {@link Downsampler}.
+   *
+   * <p>This is a component option specific to {@link Downsampler}. If the defautlt Bitmap decoder
+   * is replaced or skipped because of your configuration, this option may be ignored.
+   */
+  @NonNull
+  @CheckResult
+  public T downsample(@NonNull DownsampleStrategy strategy) {
+    return set(DownsampleStrategy.OPTION, Preconditions.checkNotNull(strategy));
+  }
+
+  /**
+   * Sets the read and write timeout for the http requests used to load the image.
+   *
+   * <p>This is a component option specific to Glide's default networking library and
+   * {@link com.bumptech.glide.load.model.stream.HttpGlideUrlLoader}. If you use any other
+   * networking library including Glide's Volley or OkHttp integration libraries, this option will
+   * be ignored.
+   *
+   * @see com.bumptech.glide.load.model.stream.HttpGlideUrlLoader#TIMEOUT
+   * @param timeoutMs The read and write timeout in milliseconds.
+   */
+  @NonNull
+  @CheckResult
+  public T timeout(@IntRange(from = 0) int timeoutMs) {
+    return set(HttpGlideUrlLoader.TIMEOUT, timeoutMs);
+  }
+
+  /**
+   * Applies {@link com.bumptech.glide.load.resource.bitmap.CenterCrop} to all default types, and
+   * ignores unknown types.
+   *
+   * <p>This will override previous calls to {@link #dontTransform()}.
+   *
+   * @see #optionalTransform(Class, Transformation)
+   * @see #centerCrop()
+   */
+  @NonNull
+  @CheckResult
+  public T optionalCenterCrop() {
+    return optionalTransform(DownsampleStrategy.CENTER_OUTSIDE, new CenterCrop());
+  }
+
+  /**
+   * Applies {@link CenterCrop} to all default types and
+   * throws an exception if asked to transform an unknown type.
+   *
+   * <p>this will override previous calls to {@link #dontTransform()} ()}.
+   *
+   * @see #transform(Class, Transformation)
+   * @see #optionalCenterCrop()
+   */
+  @NonNull
+  @CheckResult
+  public T centerCrop() {
+    return transform(DownsampleStrategy.CENTER_OUTSIDE, new CenterCrop());
+  }
+
+  /**
+   *
+   * Applies {@link FitCenter} and to all default types, {@link DownsampleStrategy#FIT_CENTER} to
+   * image types, and ignores unknown types.
+   *
+   * <p>This will override previous calls to {@link #dontTransform()} and previous calls to
+   * {@link #downsample(DownsampleStrategy)}.
+   *
+   * @see #optionalTransform(Class, Transformation)
+   * @see #fitCenter()
+   */
+  @NonNull
+  @CheckResult
+  public T optionalFitCenter() {
+    return optionalScaleOnlyTransform(DownsampleStrategy.FIT_CENTER, new FitCenter());
+  }
+
+  /**
+   * Applies {@link FitCenter} and to all default types, {@link DownsampleStrategy#FIT_CENTER} to
+   * image types, and throws an exception if asked to transform an unknown
+   * type.
+   *
+   * <p>This will override previous calls to {@link #dontTransform()} and previous calls to
+   * {@link #downsample(DownsampleStrategy)}.
+   *
+   * @see #transform(Class, Transformation)
+   * @see #optionalFitCenter()
+   */
+  @NonNull
+  @CheckResult
+  public T fitCenter() {
+    return scaleOnlyTransform(DownsampleStrategy.FIT_CENTER, new FitCenter());
+  }
+
+  /**
+   * Applies {@link com.bumptech.glide.load.resource.bitmap.CenterInside} to all default types,
+   * {@link DownsampleStrategy#CENTER_INSIDE} to image types, and ignores unknown types.
+   *
+   * <p>This will override previous calls to {@link #dontTransform()} and previous calls to
+   * {@link #downsample(DownsampleStrategy)}.
+   *
+   * @see #optionalTransform(Class, Transformation)
+   * @see #centerInside()
+   */
+  @NonNull
+  @CheckResult
+  public T optionalCenterInside() {
+    return optionalScaleOnlyTransform(DownsampleStrategy.CENTER_INSIDE, new CenterInside());
+  }
+
+  /**
+   * Applies {@link CenterInside} to all default types, {@link DownsampleStrategy#CENTER_INSIDE} to
+   * image types and throws an exception if asked to transform an unknown type.
+   *
+   * <p>This will override previous calls to {@link #dontTransform()} and previous calls to
+   * {@link #downsample(DownsampleStrategy)}.
+   *
+   * @see #transform(Class, Transformation)
+   * @see #optionalCenterInside()
+   */
+  @NonNull
+  @CheckResult
+  public T centerInside() {
+    return scaleOnlyTransform(DownsampleStrategy.CENTER_INSIDE, new CenterInside());
+  }
+
+  /**
+   * Applies {@link CircleCrop} to all default types, and ignores unknown types.
+   *
+   * <p>This will override previous calls to {@link #dontTransform()}.
+   *
+   * @see #optionalTransform(Transformation)
+   * @see #circleCrop()
+   */
+  @NonNull
+  @CheckResult
+  public T optionalCircleCrop() {
+    return optionalTransform(DownsampleStrategy.CENTER_OUTSIDE, new CircleCrop());
+  }
+
+  /**
+   * Applies {@link CircleCrop} to all default types and throws an exception if asked to transform
+   * an unknown type.
+   *
+   * <p>This will override previous calls to {@link #dontTransform()}.
+   *
+   * @see #transform(Class, Transformation)
+   * @see #optionalCenterCrop()
+   */
+  @NonNull
+  @CheckResult
+  public T circleCrop() {
+    return transform(DownsampleStrategy.CENTER_INSIDE, new CircleCrop());
+  }
+
+  // calling optionalTransform() on the result of clone() requires greater access.
+  // calling downsample is guaranteed to modify the current object by the isAutoCloneEnabledCheck.
+  @SuppressWarnings({"WeakerAccess", "CheckResult"})
+  @NonNull
+  final T optionalTransform(@NonNull DownsampleStrategy downsampleStrategy,
+      @NonNull Transformation<Bitmap> transformation) {
+    if (isAutoCloneEnabled) {
+      return clone().optionalTransform(downsampleStrategy, transformation);
+    }
+
+    downsample(downsampleStrategy);
+    return transform(transformation, /*isRequired=*/ false);
+  }
+
+  // calling transform() on the result of clone() requires greater access.
+  // calling downsample is guaranteed to modify the current object by the isAutoCloneEnabledCheck.
+  @SuppressWarnings({"WeakerAccess", "CheckResult"})
+  @NonNull
+  @CheckResult
+  final T transform(@NonNull DownsampleStrategy downsampleStrategy,
+      @NonNull Transformation<Bitmap> transformation) {
+    if (isAutoCloneEnabled) {
+      return clone().transform(downsampleStrategy, transformation);
+    }
+
+    downsample(downsampleStrategy);
+    return transform(transformation);
+  }
+
+  @NonNull
+  private T scaleOnlyTransform(
+      @NonNull DownsampleStrategy strategy, @NonNull Transformation<Bitmap> transformation) {
+    return scaleOnlyTransform(strategy, transformation, true /*isTransformationRequired*/);
+  }
+
+  @NonNull
+  private T optionalScaleOnlyTransform(
+      @NonNull DownsampleStrategy strategy, @NonNull Transformation<Bitmap> transformation) {
+    return scaleOnlyTransform(strategy, transformation, false /*isTransformationRequired*/);
+  }
+
+  // We know that result will always be T since we created result.
+  @SuppressWarnings("unchecked")
+  @NonNull
+  private T scaleOnlyTransform(
+      @NonNull DownsampleStrategy strategy,
+      @NonNull Transformation<Bitmap> transformation,
+      boolean isTransformationRequired) {
+    BaseRequestOptions<T> result = isTransformationRequired
+          ? transform(strategy, transformation) : optionalTransform(strategy, transformation);
+    result.isScaleOnlyOrNoTransform = true;
+    return (T) result;
+  }
+
+  /**
+   * Applies the given {@link Transformation} for
+   * {@link Bitmap Bitmaps} to the default types ({@link Bitmap},
+   * {@link android.graphics.drawable.BitmapDrawable}, and
+   * {@link com.bumptech.glide.load.resource.gif.GifDrawable})
+   * and throws an exception if asked to transform an unknown type.
+   *
+   * <p>This will override previous calls to {@link #dontTransform()}.
+   *
+   * @param transformation Any {@link Transformation} for {@link Bitmap}s.
+   * @see #optionalTransform(Transformation)
+   * @see #optionalTransform(Class, Transformation)
+   */
+  // Guaranteed to modify the current object by the isAutoCloneEnabledCheck.
+  @SuppressWarnings("CheckResult")
+  @NonNull
+  @CheckResult
+  public T transform(@NonNull Transformation<Bitmap> transformation) {
+    return transform(transformation, /*isRequired=*/ true);
+  }
+
+  /**
+   * Applies the given {@link Transformation}s in the given order for
+   * {@link Bitmap Bitmaps} to the default types ({@link Bitmap},
+   * {@link android.graphics.drawable.BitmapDrawable}, and
+   * {@link com.bumptech.glide.load.resource.gif.GifDrawable})
+   * and throws an exception if asked to transform an unknown type.
+   *
+   * <p>This will override previous calls to {@link #dontTransform()}.
+   *
+   * @param transformations One or more {@link Transformation}s for {@link Bitmap}s.
+   * @see #optionalTransform(Transformation)
+   * @see #optionalTransform(Class, Transformation)
+   */
+  // Guaranteed to modify the current object by the isAutoCloneEnabledCheck.
+  @SuppressWarnings({"unchecked", "varargs", "CheckResult"})
+  @NonNull
+  @CheckResult
+  public T transforms(@NonNull Transformation<Bitmap>... transformations) {
+    return transform(new MultiTransformation<>(transformations), /*isRequired=*/ true);
+  }
+
+  /**
+   * Applies the given {@link Transformation} for
+   * {@link Bitmap Bitmaps} to the default types ({@link Bitmap},
+   * {@link android.graphics.drawable.BitmapDrawable}, and
+   * {@link com.bumptech.glide.load.resource.gif.GifDrawable}) and ignores unknown types.
+   *
+   * <p>This will override previous calls to {@link #dontTransform()}.
+   *
+   * @param transformation Any {@link Transformation} for {@link Bitmap}s.
+   * @see #transform(Transformation)
+   * @see #transform(Class, Transformation)
+   */
+  // Guaranteed to modify the current object by the isAutoCloneEnabledCheck.
+  @SuppressWarnings("CheckResult")
+  @NonNull
+  @CheckResult
+  public T optionalTransform(@NonNull Transformation<Bitmap> transformation) {
+    return transform(transformation, /*isRequired=*/ false);
+  }
+
+  @NonNull
+  T transform(
+      @NonNull Transformation<Bitmap> transformation, boolean isRequired) {
+    if (isAutoCloneEnabled) {
+      return clone().transform(transformation, isRequired);
+    }
+
+    DrawableTransformation drawableTransformation =
+        new DrawableTransformation(transformation, isRequired);
+    transform(Bitmap.class, transformation, isRequired);
+    transform(Drawable.class, drawableTransformation, isRequired);
+    // TODO: remove BitmapDrawable decoder and this transformation.
+    // Registering as BitmapDrawable is simply an optimization to avoid some iteration and
+    // isAssignableFrom checks when obtaining the transformation later on. It can be removed without
+    // affecting the functionality.
+    transform(BitmapDrawable.class, drawableTransformation.asBitmapDrawable(), isRequired);
+    transform(GifDrawable.class, new GifDrawableTransformation(transformation), isRequired);
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * Applies the given {@link Transformation} for any decoded resource of
+   * the given type and allows unknown resource types to be ignored.
+   *
+   * <p> Users can apply different transformations for each resource class. Applying a
+   * {@link Transformation} for a resource type that already has a
+   * {@link Transformation} will override the previous call. </p>
+   *
+   * <p> If any calls are made to the non-optional transform methods, then attempting to transform
+   * an unknown resource class will throw an exception. To allow unknown types, users must always
+   * call the optional version of each method. </p>
+   *
+   * <p>This will override previous calls to {@link #dontTransform()}.
+   *
+   * @param resourceClass  The type of resource to transform.
+   * @param transformation The {@link Transformation} to apply.
+   */
+  @NonNull
+  @CheckResult
+  public <Y> T optionalTransform(
+      @NonNull Class<Y> resourceClass, @NonNull Transformation<Y> transformation) {
+    return transform(resourceClass, transformation, /*isRequired=*/ false);
+  }
+
+  @NonNull
+  <Y> T transform(
+      @NonNull Class<Y> resourceClass,
+      @NonNull Transformation<Y> transformation,
+      boolean isRequired) {
+    if (isAutoCloneEnabled) {
+      return clone().transform(resourceClass, transformation, isRequired);
+    }
+
+    Preconditions.checkNotNull(resourceClass);
+    Preconditions.checkNotNull(transformation);
+    transformations.put(resourceClass, transformation);
+    fields |= TRANSFORMATION;
+    isTransformationAllowed = true;
+    fields |= TRANSFORMATION_ALLOWED;
+    // Always set to false here. Known scale only transformations will call this method and then
+    // set isScaleOnlyOrNoTransform to true immediately after.
+    isScaleOnlyOrNoTransform = false;
+    if (isRequired) {
+      fields |= TRANSFORMATION_REQUIRED;
+      isTransformationRequired = true;
+    }
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * Applies the given {@link Transformation} for any decoded resource of
+   * the given type and throws if asked to transform an unknown resource type.
+   *
+   * <p>This will override previous calls to {@link #dontTransform()}.
+   *
+   * @param resourceClass  The type of resource to transform.
+   * @param transformation The {@link Transformation} to apply.
+   * @see #optionalTransform(Class, Transformation)
+   */
+  // Guaranteed to modify the current object by the isAutoCloneEnabledCheck.
+  @SuppressWarnings("CheckResult")
+  @NonNull
+  @CheckResult
+  public <Y> T transform(
+      @NonNull Class<Y> resourceClass, @NonNull Transformation<Y> transformation) {
+    return transform(resourceClass, transformation, /*isRequired=*/ true);
+  }
+
+  /**
+   * Removes all applied {@link Transformation Transformations} for all
+   * resource classes and allows unknown resource types to be transformed without throwing an
+   * exception.
+   */
+  @NonNull
+  @CheckResult
+  public T dontTransform() {
+    if (isAutoCloneEnabled) {
+      return clone().dontTransform();
+    }
+
+    transformations.clear();
+    fields &= ~TRANSFORMATION;
+    isTransformationRequired = false;
+    fields &= ~TRANSFORMATION_REQUIRED;
+    isTransformationAllowed = false;
+    fields |= TRANSFORMATION_ALLOWED;
+    isScaleOnlyOrNoTransform = true;
+    return selfOrThrowIfLocked();
+  }
+
+  /**
+   * Disables resource decoders that return animated resources so any resource returned will be
+   * static.
+   *
+   * <p> To disable transitions (fades etc) use
+   * {@link com.bumptech.glide.TransitionOptions#dontTransition()}</p>
+   */
+  // Guaranteed to modify the current object by the isAutoCloneEnabledCheck.
+  @SuppressWarnings("CheckResult")
+  @NonNull
+  @CheckResult
+  public T dontAnimate() {
+    return set(GifOptions.DISABLE_ANIMATION, true);
+  }
+
+  /**
+   * Updates this options set with any options that are explicitly set in the given
+   * {@code T} object and returns this object if {@link #autoClone()} is disabled or
+   * a new {@code T} object if {@link #autoClone()} is enabled.
+   *
+   * <p>{@code #apply} only replaces those values that are explicitly set in the given
+   * {@code T}. If you need to completely reset all previously set options, create a
+   * new {@code T} object instead of using this method.
+   *
+   * <p>The options that will be set to values in the returned {@code T} object is the
+   * intersection of the set of options in this {@code T} object and the given
+   * {@code T} object that were explicitly set. If the values of any of the options
+   * conflict, the values in the returned {@code T} object will be set to those in the
+   * given {@code T} object.
+   */
+  @NonNull
+  @CheckResult
+  public T apply(@NonNull BaseRequestOptions<?> o) {
+    if (isAutoCloneEnabled) {
+      return clone().apply(o);
+    }
+    BaseRequestOptions<?> other = o;
+
+    if (isSet(other.fields, SIZE_MULTIPLIER)) {
+      sizeMultiplier = other.sizeMultiplier;
+    }
+    if (isSet(other.fields, USE_UNLIMITED_SOURCE_GENERATORS_POOL)) {
+      useUnlimitedSourceGeneratorsPool = other.useUnlimitedSourceGeneratorsPool;
+    }
+    if (isSet(other.fields, USE_ANIMATION_POOL)) {
+      useAnimationPool = other.useAnimationPool;
+    }
+    if (isSet(other.fields, DISK_CACHE_STRATEGY)) {
+      diskCacheStrategy = other.diskCacheStrategy;
+    }
+    if (isSet(other.fields, PRIORITY)) {
+      priority = other.priority;
+    }
+    if (isSet(other.fields, ERROR_PLACEHOLDER)) {
+      errorPlaceholder = other.errorPlaceholder;
+      errorId = 0;
+      fields &= ~ERROR_ID;
+    }
+    if (isSet(other.fields, ERROR_ID)) {
+      errorId = other.errorId;
+      errorPlaceholder = null;
+      fields &= ~ERROR_PLACEHOLDER;
+    }
+    if (isSet(other.fields, PLACEHOLDER)) {
+      placeholderDrawable = other.placeholderDrawable;
+      placeholderId = 0;
+      fields &= ~PLACEHOLDER_ID;
+    }
+    if (isSet(other.fields, PLACEHOLDER_ID)) {
+      placeholderId = other.placeholderId;
+      placeholderDrawable = null;
+      fields &= ~PLACEHOLDER;
+    }
+    if (isSet(other.fields, IS_CACHEABLE)) {
+      isCacheable = other.isCacheable;
+    }
+    if (isSet(other.fields, OVERRIDE)) {
+      overrideWidth = other.overrideWidth;
+      overrideHeight = other.overrideHeight;
+    }
+    if (isSet(other.fields, SIGNATURE)) {
+      signature = other.signature;
+    }
+    if (isSet(other.fields, RESOURCE_CLASS)) {
+      resourceClass = other.resourceClass;
+    }
+    if (isSet(other.fields, FALLBACK)) {
+      fallbackDrawable = other.fallbackDrawable;
+      fallbackId = 0;
+      fields &= ~FALLBACK_ID;
+    }
+    if (isSet(other.fields, FALLBACK_ID)) {
+      fallbackId = other.fallbackId;
+      fallbackDrawable = null;
+      fields &= ~FALLBACK;
+    }
+    if (isSet(other.fields, THEME)) {
+      theme = other.theme;
+    }
+    if (isSet(other.fields, TRANSFORMATION_ALLOWED)) {
+      isTransformationAllowed = other.isTransformationAllowed;
+    }
+    if (isSet(other.fields, TRANSFORMATION_REQUIRED)) {
+      isTransformationRequired = other.isTransformationRequired;
+    }
+    if (isSet(other.fields, TRANSFORMATION)) {
+      transformations.putAll(other.transformations);
+      isScaleOnlyOrNoTransform = other.isScaleOnlyOrNoTransform;
+    }
+    if (isSet(other.fields, ONLY_RETRIEVE_FROM_CACHE)) {
+      onlyRetrieveFromCache = other.onlyRetrieveFromCache;
+    }
+
+    // Applying options with dontTransform() is expected to clear our transformations.
+    if (!isTransformationAllowed) {
+      transformations.clear();
+      fields &= ~TRANSFORMATION;
+      isTransformationRequired = false;
+      fields &= ~TRANSFORMATION_REQUIRED;
+      isScaleOnlyOrNoTransform = true;
+    }
+
+    fields |= other.fields;
+    options.putAll(other.options);
+
+    return selfOrThrowIfLocked();
+  }
+
+
+  @Override
+  public boolean equals(Object o) {
+    if (o instanceof BaseRequestOptions<?>) {
+      BaseRequestOptions<?> other = (BaseRequestOptions<?>) o;
+      return Float.compare(other.sizeMultiplier, sizeMultiplier) == 0
+          && errorId == other.errorId
+          && Util.bothNullOrEqual(errorPlaceholder, other.errorPlaceholder)
+          && placeholderId == other.placeholderId
+          && Util.bothNullOrEqual(placeholderDrawable, other.placeholderDrawable)
+          && fallbackId == other.fallbackId
+          && Util.bothNullOrEqual(fallbackDrawable, other.fallbackDrawable)
+          && isCacheable == other.isCacheable
+          && overrideHeight == other.overrideHeight
+          && overrideWidth == other.overrideWidth
+          && isTransformationRequired == other.isTransformationRequired
+          && isTransformationAllowed == other.isTransformationAllowed
+          && useUnlimitedSourceGeneratorsPool == other.useUnlimitedSourceGeneratorsPool
+          && onlyRetrieveFromCache == other.onlyRetrieveFromCache
+          && diskCacheStrategy.equals(other.diskCacheStrategy)
+          && priority == other.priority
+          && options.equals(other.options)
+          && transformations.equals(other.transformations)
+          && resourceClass.equals(other.resourceClass)
+          && Util.bothNullOrEqual(signature, other.signature)
+          && Util.bothNullOrEqual(theme, other.theme);
+    }
+    return false;
+  }
+
+  @Override
+  public int hashCode() {
+    int hashCode = Util.hashCode(sizeMultiplier);
+    hashCode = Util.hashCode(errorId, hashCode);
+    hashCode = Util.hashCode(errorPlaceholder, hashCode);
+    hashCode = Util.hashCode(placeholderId, hashCode);
+    hashCode = Util.hashCode(placeholderDrawable, hashCode);
+    hashCode = Util.hashCode(fallbackId, hashCode);
+    hashCode = Util.hashCode(fallbackDrawable, hashCode);
+    hashCode = Util.hashCode(isCacheable, hashCode);
+    hashCode = Util.hashCode(overrideHeight, hashCode);
+    hashCode = Util.hashCode(overrideWidth, hashCode);
+    hashCode = Util.hashCode(isTransformationRequired, hashCode);
+    hashCode = Util.hashCode(isTransformationAllowed, hashCode);
+    hashCode = Util.hashCode(useUnlimitedSourceGeneratorsPool, hashCode);
+    hashCode = Util.hashCode(onlyRetrieveFromCache, hashCode);
+    hashCode = Util.hashCode(diskCacheStrategy, hashCode);
+    hashCode = Util.hashCode(priority, hashCode);
+    hashCode = Util.hashCode(options, hashCode);
+    hashCode = Util.hashCode(transformations, hashCode);
+    hashCode = Util.hashCode(resourceClass, hashCode);
+    hashCode = Util.hashCode(signature, hashCode);
+    hashCode = Util.hashCode(theme, hashCode);
+    return hashCode;
+  }
+
+  /**
+   * Throws if any further mutations are attempted.
+   *
+   * <p> Once locked, the only way to unlock is to use {@link #clone()} </p>
+   */
+  @NonNull
+  @SuppressWarnings("unchecked")
+  public T lock() {
+    isLocked = true;
+    // This is the only place we should not check locked.
+    return self();
+  }
+
+  /**
+   * Similar to {@link #lock()} except that mutations cause a {@link #clone()} operation to happen
+   * before the mutation resulting in all methods returning a new Object and leaving the original
+   * locked object unmodified.
+   *
+   * <p>Auto clone is not retained by cloned objects returned from mutations. The cloned objects
+   * are mutable and are not locked.
+   */
+  @NonNull
+  public T autoClone() {
+    if (isLocked && !isAutoCloneEnabled) {
+      throw new IllegalStateException("You cannot auto lock an already locked options object"
+          + ", try clone() first");
+    }
+    isAutoCloneEnabled = true;
+    return lock();
+  }
+
+  @NonNull
+  @SuppressWarnings("unchecked")
+  private T selfOrThrowIfLocked() {
+    if (isLocked) {
+      throw new IllegalStateException("You cannot modify locked T, consider clone()");
+    }
+    return self();
+  }
+
+  protected boolean isAutoCloneEnabled() {
+    return isAutoCloneEnabled;
+  }
+
+  public final boolean isDiskCacheStrategySet() {
+    return isSet(DISK_CACHE_STRATEGY);
+  }
+
+  public final boolean isSkipMemoryCacheSet() {
+    return isSet(IS_CACHEABLE);
+  }
+
+  @NonNull
+  public final Map<Class<?>, Transformation<?>> getTransformations() {
+    return transformations;
+  }
+
+  @SuppressWarnings("WeakerAccess")
+  public final boolean isTransformationRequired() {
+    return isTransformationRequired;
+  }
+
+  @NonNull
+  public final Options getOptions() {
+    return options;
+  }
+
+  @NonNull
+  public final Class<?> getResourceClass() {
+    return resourceClass;
+  }
+
+  @NonNull
+  public final DiskCacheStrategy getDiskCacheStrategy() {
+    return diskCacheStrategy;
+  }
+
+  @SuppressWarnings("WeakerAccess")
+  @Nullable
+  public final Drawable getErrorPlaceholder() {
+    return errorPlaceholder;
+  }
+
+  @SuppressWarnings("WeakerAccess")
+  public final int getErrorId() {
+    return errorId;
+  }
+
+  @SuppressWarnings("WeakerAccess")
+  public final int getPlaceholderId() {
+    return placeholderId;
+  }
+
+  @SuppressWarnings("WeakerAccess")
+  @Nullable
+  public final Drawable getPlaceholderDrawable() {
+    return placeholderDrawable;
+  }
+
+  @SuppressWarnings("WeakerAccess")
+  public final int getFallbackId() {
+    return fallbackId;
+  }
+
+  @SuppressWarnings("WeakerAccess")
+  @Nullable
+  public final Drawable getFallbackDrawable() {
+    return fallbackDrawable;
+  }
+
+  @Nullable
+  public final Resources.Theme getTheme() {
+    return theme;
+  }
+
+  @SuppressWarnings("WeakerAccess")
+  public final boolean isMemoryCacheable() {
+    return isCacheable;
+  }
+
+  @NonNull
+  public final Key getSignature() {
+    return signature;
+  }
+
+  public final boolean isPrioritySet() {
+    return isSet(PRIORITY);
+  }
+
+  @NonNull
+  public final Priority getPriority() {
+    return priority;
+  }
+
+  public final int getOverrideWidth() {
+    return overrideWidth;
+  }
+
+  public final boolean isValidOverride() {
+    return Util.isValidDimensions(overrideWidth, overrideHeight);
+  }
+
+  public final int getOverrideHeight() {
+    return overrideHeight;
+  }
+
+  public final float getSizeMultiplier() {
+    return sizeMultiplier;
+  }
+
+  boolean isScaleOnlyOrNoTransform() {
+    return isScaleOnlyOrNoTransform;
+  }
+
+  private boolean isSet(int flag) {
+    return isSet(fields, flag);
+  }
+
+  // get is just as clear.
+  @SuppressWarnings("PMD.BooleanGetMethodName")
+  public final boolean getUseUnlimitedSourceGeneratorsPool() {
+    return useUnlimitedSourceGeneratorsPool;
+  }
+
+  // get is just as clear.
+  @SuppressWarnings("PMD.BooleanGetMethodName")
+  public final boolean getUseAnimationPool() {
+    return useAnimationPool;
+  }
+
+  // get is just as clear.
+  @SuppressWarnings("PMD.BooleanGetMethodName")
+  public final boolean getOnlyRetrieveFromCache() {
+    return onlyRetrieveFromCache;
+  }
+
+  @SuppressWarnings("unchecked")
+  private T self() {
+    return (T) this;
+  }
+}
diff --git a/library/src/main/java/com/bumptech/glide/request/ErrorRequestCoordinator.java b/library/src/main/java/com/bumptech/glide/request/ErrorRequestCoordinator.java
index cd6a43151..93b662d8f 100644
--- a/library/src/main/java/com/bumptech/glide/request/ErrorRequestCoordinator.java
+++ b/library/src/main/java/com/bumptech/glide/request/ErrorRequestCoordinator.java
@@ -30,16 +30,6 @@ public void begin() {
     }
   }
 
-  @Override
-  public void pause() {
-    if (!primary.isFailed()) {
-      primary.pause();
-    }
-    if (error.isRunning()) {
-      error.pause();
-    }
-  }
-
   @Override
   public void clear() {
     primary.clear();
@@ -50,11 +40,6 @@ public void clear() {
     }
   }
 
-  @Override
-  public boolean isPaused() {
-    return primary.isFailed() ? error.isPaused() : primary.isPaused();
-  }
-
   @Override
   public boolean isRunning() {
     return primary.isFailed() ? error.isRunning() : primary.isRunning();
@@ -71,8 +56,8 @@ public boolean isResourceSet() {
   }
 
   @Override
-  public boolean isCancelled() {
-    return primary.isFailed() ? error.isCancelled() : primary.isCancelled();
+  public boolean isCleared() {
+    return primary.isFailed() ? error.isCleared() : primary.isCleared();
   }
 
   @Override
diff --git a/library/src/main/java/com/bumptech/glide/request/Request.java b/library/src/main/java/com/bumptech/glide/request/Request.java
index ad89792fb..f60198184 100644
--- a/library/src/main/java/com/bumptech/glide/request/Request.java
+++ b/library/src/main/java/com/bumptech/glide/request/Request.java
@@ -10,11 +10,6 @@
    */
   void begin();
 
-  /**
-   * Identical to {@link #clear()} except that the request may later be restarted.
-   */
-  void pause();
-
   /**
    * Prevents any bitmaps being loaded from previous requests, releases any resources held by this
    * request, displays the current placeholder if one was provided, and marks the request as having
@@ -22,11 +17,6 @@
    */
   void clear();
 
-  /**
-   * Returns true if this request is paused and may be restarted.
-   */
-  boolean isPaused();
-
   /**
    * Returns true if this request is running and has not completed or failed.
    */
@@ -44,9 +34,9 @@
   boolean isResourceSet();
 
   /**
-   * Returns true if the request has been cancelled.
+   * Returns true if the request has been cleared.
    */
-  boolean isCancelled();
+  boolean isCleared();
 
   /**
    * Returns true if the request has failed.
diff --git a/library/src/main/java/com/bumptech/glide/request/RequestOptions.java b/library/src/main/java/com/bumptech/glide/request/RequestOptions.java
index e46188c9e..f712ce726 100644
--- a/library/src/main/java/com/bumptech/glide/request/RequestOptions.java
+++ b/library/src/main/java/com/bumptech/glide/request/RequestOptions.java
@@ -1,8 +1,6 @@
 package com.bumptech.glide.request;
 
-import android.content.res.Resources;
 import android.graphics.Bitmap;
-import android.graphics.drawable.BitmapDrawable;
 import android.graphics.drawable.Drawable;
 import android.support.annotation.CheckResult;
 import android.support.annotation.DrawableRes;
@@ -13,56 +11,19 @@
 import com.bumptech.glide.Priority;
 import com.bumptech.glide.load.DecodeFormat;
 import com.bumptech.glide.load.Key;
-import com.bumptech.glide.load.MultiTransformation;
 import com.bumptech.glide.load.Option;
-import com.bumptech.glide.load.Options;
 import com.bumptech.glide.load.Transformation;
 import com.bumptech.glide.load.engine.DiskCacheStrategy;
-import com.bumptech.glide.load.model.stream.HttpGlideUrlLoader;
-import com.bumptech.glide.load.resource.bitmap.BitmapEncoder;
-import com.bumptech.glide.load.resource.bitmap.CenterCrop;
-import com.bumptech.glide.load.resource.bitmap.CenterInside;
-import com.bumptech.glide.load.resource.bitmap.CircleCrop;
 import com.bumptech.glide.load.resource.bitmap.DownsampleStrategy;
-import com.bumptech.glide.load.resource.bitmap.Downsampler;
-import com.bumptech.glide.load.resource.bitmap.DrawableTransformation;
-import com.bumptech.glide.load.resource.bitmap.FitCenter;
-import com.bumptech.glide.load.resource.bitmap.VideoDecoder;
-import com.bumptech.glide.load.resource.gif.GifDrawable;
-import com.bumptech.glide.load.resource.gif.GifDrawableTransformation;
-import com.bumptech.glide.load.resource.gif.GifOptions;
-import com.bumptech.glide.signature.EmptySignature;
-import com.bumptech.glide.util.CachedHashCodeArrayMap;
-import com.bumptech.glide.util.Preconditions;
-import com.bumptech.glide.util.Util;
-import java.util.Map;
 
 /**
  * Provides type independent options to customize loads with Glide.
+ *
+ * <p>Non-final to allow Glide's generated classes to be assignable to their non-generated
+ * equivalents.
  */
-@SuppressWarnings({"PMD.UseUtilityClass", "unused"})
-public class RequestOptions implements Cloneable {
-  private static final int UNSET = -1;
-  private static final int SIZE_MULTIPLIER = 1 << 1;
-  private static final int DISK_CACHE_STRATEGY = 1 << 2;
-  private static final int PRIORITY = 1 << 3;
-  private static final int ERROR_PLACEHOLDER = 1 << 4;
-  private static final int ERROR_ID = 1 << 5;
-  private static final int PLACEHOLDER = 1 << 6;
-  private static final int PLACEHOLDER_ID = 1 << 7;
-  private static final int IS_CACHEABLE = 1 << 8;
-  private static final int OVERRIDE = 1 << 9;
-  private static final int SIGNATURE = 1 << 10;
-  private static final int TRANSFORMATION = 1 << 11;
-  private static final int RESOURCE_CLASS = 1 << 12;
-  private static final int FALLBACK = 1 << 13;
-  private static final int FALLBACK_ID = 1 << 14;
-  private static final int THEME = 1 << 15;
-  private static final int TRANSFORMATION_ALLOWED = 1 << 16;
-  private static final int TRANSFORMATION_REQUIRED = 1 << 17;
-  private static final int USE_UNLIMITED_SOURCE_GENERATORS_POOL = 1 << 18;
-  private static final int ONLY_RETRIEVE_FROM_CACHE = 1 << 19;
-  private static final int USE_ANIMATION_POOL = 1 << 20;
+@SuppressWarnings("PMD.UseUtilityClass")
+public class RequestOptions extends BaseRequestOptions<RequestOptions> {
 
   @Nullable
   private static RequestOptions skipMemoryCacheTrueOptions;
@@ -81,42 +42,6 @@
   @Nullable
   private static RequestOptions noAnimationOptions;
 
-  private int fields;
-  private float sizeMultiplier = 1f;
-  @NonNull
-  private DiskCacheStrategy diskCacheStrategy = DiskCacheStrategy.AUTOMATIC;
-  @NonNull
-  private Priority priority = Priority.NORMAL;
-  @Nullable
-  private Drawable errorPlaceholder;
-  private int errorId;
-  @Nullable
-  private Drawable placeholderDrawable;
-  private int placeholderId;
-  private boolean isCacheable = true;
-  private int overrideHeight = RequestOptions.UNSET;
-  private int overrideWidth = RequestOptions.UNSET;
-  @NonNull
-  private Key signature = EmptySignature.obtain();
-  private boolean isTransformationRequired;
-  private boolean isTransformationAllowed = true;
-  @Nullable
-  private Drawable fallbackDrawable;
-  private int fallbackId;
-  @NonNull
-  private Options options = new Options();
-  @NonNull
-  private Map<Class<?>, Transformation<?>> transformations = new CachedHashCodeArrayMap<>();
-  @NonNull
-  private Class<?> resourceClass = Object.class;
-  private boolean isLocked;
-  @Nullable
-  private Resources.Theme theme;
-  private boolean isAutoCloneEnabled;
-  private boolean useUnlimitedSourceGeneratorsPool;
-  private boolean onlyRetrieveFromCache;
-  private boolean isScaleOnlyOrNoTransform = true;
-  private boolean useAnimationPool;
 
   /**
    * Returns a {@link RequestOptions} object with {@link #sizeMultiplier(float)} set.
@@ -139,7 +64,8 @@ public static RequestOptions diskCacheStrategyOf(@NonNull DiskCacheStrategy disk
   }
 
   /**
-   * Returns a {@link RequestOptions} object with {@link #priority(Priority)}} set.
+   * Returns a {@link RequestOptions} object with {@link BaseRequestOptions#priority(Priority)}}
+   * set.
    */
   @SuppressWarnings("WeakerAccess") // Public API
   @NonNull
@@ -415,1272 +341,4 @@ public static RequestOptions noAnimation() {
     return noAnimationOptions;
   }
 
-  private static boolean isSet(int fields, int flag) {
-    return (fields & flag) != 0;
-  }
-
-  /**
-   * Applies a multiplier to the {@link com.bumptech.glide.request.target.Target}'s size before
-   * loading the resource. Useful for loading thumbnails or trying to avoid loading huge resources
-   * (particularly {@link Bitmap}s on devices with overly dense screens.
-   *
-   * @param sizeMultiplier The multiplier to apply to the
-   *                       {@link com.bumptech.glide.request.target.Target}'s dimensions when
-   *                       loading the resource.
-   * @return This request builder.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions sizeMultiplier(@FloatRange(from = 0, to = 1) float sizeMultiplier) {
-    if (isAutoCloneEnabled) {
-      return clone().sizeMultiplier(sizeMultiplier);
-    }
-
-    if (sizeMultiplier < 0f || sizeMultiplier > 1f) {
-      throw new IllegalArgumentException("sizeMultiplier must be between 0 and 1");
-    }
-    this.sizeMultiplier = sizeMultiplier;
-    fields |= SIZE_MULTIPLIER;
-
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * If set to {@code true}, uses a cached unlimited {@link java.util.concurrent.Executor} to run
-   * the request.
-   *
-   * <p>This method should <em>ONLY</em> be used when a Glide load is started recursively on one
-   * of Glide's threads as part of another request. Using this method in other scenarios can lead
-   * to excessive memory usage and OOMs and/or a significant decrease in performance across an
-   * application.
-   *
-   * <p>If both this method and {@link #useAnimationPool(boolean)} are set, this method will be
-   * preferred and {@link #useAnimationPool(boolean)} will be ignored.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions useUnlimitedSourceGeneratorsPool(boolean flag) {
-    if (isAutoCloneEnabled) {
-      return clone().useUnlimitedSourceGeneratorsPool(flag);
-    }
-
-    this.useUnlimitedSourceGeneratorsPool = flag;
-    fields |= USE_UNLIMITED_SOURCE_GENERATORS_POOL;
-
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * If set to {@code true}, uses a special {@link java.util.concurrent.Executor} that is used
-   * exclusively for decoding frames of animated resources, like GIFs.
-   *
-   * <p>The animation executor disallows network operations and must not be used for loads that
-   * may load remote data. The animation executor has fewer threads available to it than Glide's
-   * normal executors and is only useful as a way of avoiding blocking on longer and more expensive
-   * reads for critical requests like those in an animating GIF.
-   *
-   * <p>If both {@link #useUnlimitedSourceGeneratorsPool(boolean)} and this method are set,
-   * {@link #useUnlimitedSourceGeneratorsPool(boolean)} will be preferred and this method will be
-   * ignored.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions useAnimationPool(boolean flag) {
-    if (isAutoCloneEnabled) {
-      return clone().useAnimationPool(flag);
-    }
-
-    useAnimationPool = flag;
-    fields |= USE_ANIMATION_POOL;
-
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   *
-   * If set to true, will only load an item if found in the cache, and will not fetch from source.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions onlyRetrieveFromCache(boolean flag) {
-    if (isAutoCloneEnabled) {
-      return clone().onlyRetrieveFromCache(flag);
-    }
-
-    this.onlyRetrieveFromCache = flag;
-    fields |= ONLY_RETRIEVE_FROM_CACHE;
-
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * Sets the {@link DiskCacheStrategy} to use for this load.
-   *
-   * <p> Defaults to {@link DiskCacheStrategy#AUTOMATIC}. </p>
-   *
-   * <p> For most applications {@link DiskCacheStrategy#RESOURCE} is
-   * ideal. Applications that use the same resource multiple times in multiple sizes and are willing
-   * to trade off some speed and disk space in return for lower bandwidth usage may want to consider
-   * using {@link DiskCacheStrategy#DATA} or
-   * {@link DiskCacheStrategy#ALL}. </p>
-   *
-   * @param strategy The strategy to use.
-   * @return This request builder.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions diskCacheStrategy(@NonNull DiskCacheStrategy strategy) {
-    if (isAutoCloneEnabled) {
-      return clone().diskCacheStrategy(strategy);
-    }
-    this.diskCacheStrategy = Preconditions.checkNotNull(strategy);
-    fields |= DISK_CACHE_STRATEGY;
-
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * Sets the priority for this load.
-   *
-   * @param priority A priority.
-   * @return This request builder.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions priority(@NonNull Priority priority) {
-    if (isAutoCloneEnabled) {
-      return clone().priority(priority);
-    }
-
-    this.priority = Preconditions.checkNotNull(priority);
-    fields |= PRIORITY;
-
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * Sets an {@link Drawable} to display while a resource is loading.
-   *
-   * @param drawable The drawable to display as a placeholder.
-   * @return This request builder.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions placeholder(@Nullable Drawable drawable) {
-    if (isAutoCloneEnabled) {
-      return clone().placeholder(drawable);
-    }
-
-    this.placeholderDrawable = drawable;
-    fields |= PLACEHOLDER;
-
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * Sets an Android resource id for a {@link Drawable} resource to
-   * display while a resource is loading.
-   *
-   * @param resourceId The id of the resource to use as a placeholder
-   * @return This request builder.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions placeholder(@DrawableRes int resourceId) {
-    if (isAutoCloneEnabled) {
-      return clone().placeholder(resourceId);
-    }
-
-    this.placeholderId = resourceId;
-    fields |= PLACEHOLDER_ID;
-
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * Sets an {@link Drawable} to display if the model provided to
-   * {@link com.bumptech.glide.RequestBuilder#load(Object)} is {@code null}.
-   *
-   * <p> If a fallback is not set, null models will cause the error drawable to be displayed. If the
-   * error drawable is not set, the placeholder will be displayed.
-   *
-   * @see #placeholder(Drawable)
-   * @see #placeholder(int)
-   *
-   * @param drawable The drawable to display as a placeholder.
-   * @return This request builder.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions fallback(@Nullable Drawable drawable) {
-    if (isAutoCloneEnabled) {
-      return clone().fallback(drawable);
-    }
-
-    this.fallbackDrawable = drawable;
-    fields |= FALLBACK;
-
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * Sets a resource to display if the model provided to
-   * {@link com.bumptech.glide.RequestBuilder#load(Object)} is {@code null}.
-   *
-   * <p> If a fallback is not set, null models will cause the error drawable to be displayed. If
-   * the error drawable is not set, the placeholder will be displayed.
-   *
-   * @see #placeholder(Drawable)
-   * @see #placeholder(int)
-   *
-   * @param resourceId The id of the resource to use as a fallback.
-   * @return This request builder.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions fallback(@DrawableRes int resourceId) {
-    if (isAutoCloneEnabled) {
-      return clone().fallback(resourceId);
-    }
-
-    this.fallbackId = resourceId;
-    fields |= FALLBACK_ID;
-
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * Sets a {@link Drawable} to display if a load fails.
-   *
-   * @param drawable The drawable to display.
-   * @return This request builder.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions error(@Nullable Drawable drawable) {
-    if (isAutoCloneEnabled) {
-      return clone().error(drawable);
-    }
-
-    this.errorPlaceholder = drawable;
-    fields |= ERROR_PLACEHOLDER;
-
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * Sets a resource to display if a load fails.
-   *
-   * @param resourceId The id of the resource to use as a placeholder.
-   * @return This request builder.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions error(@DrawableRes int resourceId) {
-    if (isAutoCloneEnabled) {
-      return clone().error(resourceId);
-    }
-    this.errorId = resourceId;
-    fields |= ERROR_ID;
-
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * Sets the {@link android.content.res.Resources.Theme} to apply when loading {@link Drawable}s
-   * for resource ids provided via {@link #error(int)}, {@link #placeholder(int)}, and
-   * {@link #fallback(Drawable)}.
-   *
-   * <p>The theme is <em>NOT</em> applied in the decoder that will attempt to decode a given
-   * resource id model on Glide's background threads. The theme is used exclusively on the main
-   * thread to obtain placeholder/error/fallback drawables to avoid leaking Activities.
-   *
-   * <p>If the {@link android.content.Context} of the {@link android.app.Fragment} or
-   * {@link android.app.Activity} used to start this load has a different
-   * {@link android.content.res.Resources.Theme}, the {@link android.content.res.Resources.Theme}
-   * provided here will override the {@link android.content.res.Resources.Theme} of the
-   * {@link android.content.Context}.
-   *
-   * @param theme The theme to use when loading Drawables.
-   * @return this request builder.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions theme(@Nullable Resources.Theme theme) {
-    if (isAutoCloneEnabled) {
-      return clone().theme(theme);
-    }
-
-    this.theme = theme;
-    fields |= THEME;
-
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * Allows the loaded resource to skip the memory cache.
-   *
-   * <p> Note - this is not a guarantee. If a request is already pending for this resource and that
-   * request is not also skipping the memory cache, the resource will be cached in memory.</p>
-   *
-   * @param skip True to allow the resource to skip the memory cache.
-   * @return This request builder.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions skipMemoryCache(boolean skip) {
-    if (isAutoCloneEnabled) {
-      return clone().skipMemoryCache(true);
-    }
-
-    this.isCacheable = !skip;
-    fields |= IS_CACHEABLE;
-
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * Overrides the {@link com.bumptech.glide.request.target.Target}'s width and height with the
-   * given values. This is useful for thumbnails, and should only be used for other cases when you
-   * need a very specific image size.
-   *
-   * @param width  The width in pixels to use to load the resource.
-   * @param height The height in pixels to use to load the resource.
-   * @return This request builder.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions override(int width, int height) {
-    if (isAutoCloneEnabled) {
-      return clone().override(width, height);
-    }
-
-    this.overrideWidth = width;
-    this.overrideHeight = height;
-    fields |= OVERRIDE;
-
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * Overrides the {@link com.bumptech.glide.request.target.Target}'s width and height with the
-   * given size.
-   *
-   * @see #override(int, int)
-   * @param size The width and height to use.
-   * @return This request builder.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions override(int size) {
-    return override(size, size);
-  }
-
-  /**
-   * Sets some additional data to be mixed in to the memory and disk cache keys allowing the caller
-   * more control over when cached data is invalidated.
-   *
-   * <p> Note - The signature does not replace the cache key, it is purely additive. </p>
-   *
-   * @param signature A unique non-null {@link Key} representing the current
-   *                  state of the model that will be mixed in to the cache key.
-   * @return This request builder.
-   * @see com.bumptech.glide.signature.ObjectKey
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions signature(@NonNull Key signature) {
-    if (isAutoCloneEnabled) {
-      return clone().signature(signature);
-    }
-
-    this.signature = Preconditions.checkNotNull(signature);
-    fields |= SIGNATURE;
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * Returns a copy of this request builder with all of the options put so far on this builder.
-   *
-   * <p> This method returns a "deep" copy in that all non-immutable arguments are copied such that
-   * changes to one builder will not affect the other builder. However, in addition to immutable
-   * arguments, the current model is not copied copied so changes to the model will affect both
-   * builders. </p>
-   *
-   * <p> Even if this object was locked, the cloned object returned from this method will not be
-   * locked. </p>
-   */
-  @SuppressWarnings({
-      "unchecked",
-      // we don't want to throw to be user friendly
-      "PMD.CloneThrowsCloneNotSupportedException"
-  })
-  @CheckResult
-  @Override
-  public RequestOptions clone() {
-    try {
-      RequestOptions result = (RequestOptions) super.clone();
-      result.options = new Options();
-      result.options.putAll(options);
-      result.transformations = new CachedHashCodeArrayMap<>();
-      result.transformations.putAll(transformations);
-      result.isLocked = false;
-      result.isAutoCloneEnabled = false;
-      return result;
-    } catch (CloneNotSupportedException e) {
-      throw new RuntimeException(e);
-    }
-  }
-
-  @NonNull
-  @CheckResult
-  public <T> RequestOptions set(@NonNull Option<T> option, @NonNull T value) {
-    if (isAutoCloneEnabled) {
-      return clone().set(option, value);
-    }
-
-    Preconditions.checkNotNull(option);
-    Preconditions.checkNotNull(value);
-    options.set(option, value);
-    return selfOrThrowIfLocked();
-  }
-
-  @NonNull
-  @CheckResult
-  public RequestOptions decode(@NonNull Class<?> resourceClass) {
-    if (isAutoCloneEnabled) {
-      return clone().decode(resourceClass);
-    }
-
-    this.resourceClass = Preconditions.checkNotNull(resourceClass);
-    fields |= RESOURCE_CLASS;
-    return selfOrThrowIfLocked();
-  }
-
-  public final boolean isTransformationAllowed() {
-    return isTransformationAllowed;
-  }
-
-  public final boolean isTransformationSet() {
-    return isSet(TRANSFORMATION);
-  }
-
-  public final boolean isLocked() {
-    return isLocked;
-  }
-
-  /**
-   * Sets the value for key
-   * {@link com.bumptech.glide.load.resource.bitmap.BitmapEncoder#COMPRESSION_FORMAT}.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions encodeFormat(@NonNull Bitmap.CompressFormat format) {
-    return set(BitmapEncoder.COMPRESSION_FORMAT, Preconditions.checkNotNull(format));
-  }
-
-  /**
-   * Sets the value for key
-   * {@link BitmapEncoder#COMPRESSION_QUALITY}.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions encodeQuality(@IntRange(from = 0, to = 100) int quality) {
-    return set(BitmapEncoder.COMPRESSION_QUALITY, quality);
-  }
-
-  /**
-   * Sets the time position of the frame to extract from a video.
-   *
-   * <p>This is a component option specific to {@link VideoDecoder}. If the default video
-   * decoder is replaced or skipped because of your configuration, this option may be ignored.
-   *
-   * @see VideoDecoder#TARGET_FRAME
-   * @param frameTimeMicros The time position in microseconds of the desired frame. If negative, the
-   *                        Android framework implementation return a representative frame.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions frame(@IntRange(from = 0) long frameTimeMicros) {
-    return set(VideoDecoder.TARGET_FRAME, frameTimeMicros);
-  }
-
-  /**
-   * Sets the {@link DecodeFormat} to use when decoding {@link Bitmap} objects using
-   * {@link Downsampler} and Glide's default GIF decoders.
-   *
-   * <p>{@link DecodeFormat} is a request, not a requirement. It's possible the resource will be
-   * decoded using a decoder that cannot control the format
-   * ({@link android.media.MediaMetadataRetriever} for example), or that the decoder may choose to
-   * ignore the requested format if it can't display the image (i.e. RGB_565 is requested, but the
-   * image has alpha).
-   *
-   * <p>This is a component option specific to {@link Downsampler} and Glide's GIF decoders. If the
-   * default Bitmap decoders are replaced or skipped because of your configuration, this option may
-   * be ignored.
-   *
-   * <p>To set only the format used when decoding {@link Bitmap}s, use
-   * {@link #option(Option, Object)} and {@link Downsampler#DECODE_FORMAT}. To set only the format
-   * used when decoding GIF frames, use {@link #option(Option, Object)} and
-   * {@link GifOptions#DECODE_FORMAT}.
-   *
-   * @see Downsampler#DECODE_FORMAT
-   * @see GifOptions#DECODE_FORMAT
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions format(@NonNull DecodeFormat format) {
-    Preconditions.checkNotNull(format);
-    return set(Downsampler.DECODE_FORMAT, format)
-        .set(GifOptions.DECODE_FORMAT, format);
-  }
-
-  /**
-   * Disables the use of {@link android.graphics.Bitmap.Config#HARDWARE} in {@link Downsampler} to
-   * avoid errors caused by inspecting Bitmap pixels, drawing with hardware support disabled,
-   * drawing to {@link android.graphics.Canvas}s backed by {@link Bitmap}s etc.
-   *
-   * <p>It's almost never safe to set {@link Downsampler#ALLOW_HARDWARE_CONFIG} to {@code true} so
-   * we only provide a way to disable hardware configs entirely. If no option is set for
-   * {@link Downsampler#ALLOW_HARDWARE_CONFIG}, Glide will set the value per request based on
-   * whether or not a {@link Transformation} is applied and if one is, the type of
-   * {@link Transformation} applied. Built in transformations like {@link FitCenter} and
-   * {@link com.bumptech.glide.load.resource.bitmap.DownsampleStrategy.CenterOutside} can safely use
-   * {@link android.graphics.Bitmap.Config#HARDWARE} because they can be entirely replaced by
-   * scaling within {@link Downsampler}. {@link Transformation}s like {@link #circleCrop()} that
-   * can't be replicated by {@link Downsampler} cannot use {@link Bitmap.Config#HARDWARE} because
-   * {@link android.graphics.Bitmap.Config#HARDWARE} cannot be drawn to
-   * {@link android.graphics.Canvas}s, which is required by most {@link Transformation}s.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions disallowHardwareConfig() {
-    return set(Downsampler.ALLOW_HARDWARE_CONFIG, false);
-  }
-
-  /**
-   * Sets the {@link DownsampleStrategy} to use when decoding {@link Bitmap Bitmaps} using
-   * {@link Downsampler}.
-   *
-   * <p>This is a component option specific to {@link Downsampler}. If the defautlt Bitmap decoder
-   * is replaced or skipped because of your configuration, this option may be ignored.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions downsample(@NonNull DownsampleStrategy strategy) {
-    return set(DownsampleStrategy.OPTION, Preconditions.checkNotNull(strategy));
-  }
-
-  /**
-   * Sets the read and write timeout for the http requests used to load the image.
-   *
-   * <p>This is a component option specific to Glide's default networking library and
-   * {@link com.bumptech.glide.load.model.stream.HttpGlideUrlLoader}. If you use any other
-   * networking library including Glide's Volley or OkHttp integration libraries, this option will
-   * be ignored.
-   *
-   * @see com.bumptech.glide.load.model.stream.HttpGlideUrlLoader#TIMEOUT
-   * @param timeoutMs The read and write timeout in milliseconds.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions timeout(@IntRange(from = 0) int timeoutMs) {
-    return set(HttpGlideUrlLoader.TIMEOUT, timeoutMs);
-  }
-
-  /**
-   * Applies {@link com.bumptech.glide.load.resource.bitmap.CenterCrop} to all default types, and
-   * ignores unknown types.
-   *
-   * <p>This will override previous calls to {@link #dontTransform()}.
-   *
-   * @see #optionalTransform(Class, Transformation)
-   * @see #centerCrop()
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions optionalCenterCrop() {
-    return optionalTransform(DownsampleStrategy.CENTER_OUTSIDE, new CenterCrop());
-  }
-
-  /**
-   * Applies {@link CenterCrop} to all default types and
-   * throws an exception if asked to transform an unknown type.
-   *
-   * <p>this will override previous calls to {@link #dontTransform()} ()}.
-   *
-   * @see #transform(Class, Transformation)
-   * @see #optionalCenterCrop()
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions centerCrop() {
-    return transform(DownsampleStrategy.CENTER_OUTSIDE, new CenterCrop());
-  }
-
-  /**
-   *
-   * Applies {@link FitCenter} and to all default types, {@link DownsampleStrategy#FIT_CENTER} to
-   * image types, and ignores unknown types.
-   *
-   * <p>This will override previous calls to {@link #dontTransform()} and previous calls to
-   * {@link #downsample(DownsampleStrategy)}.
-   *
-   * @see #optionalTransform(Class, Transformation)
-   * @see #fitCenter()
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions optionalFitCenter() {
-    return optionalScaleOnlyTransform(DownsampleStrategy.FIT_CENTER, new FitCenter());
-  }
-
-  /**
-   * Applies {@link FitCenter} and to all default types, {@link DownsampleStrategy#FIT_CENTER} to
-   * image types, and throws an exception if asked to transform an unknown
-   * type.
-   *
-   * <p>This will override previous calls to {@link #dontTransform()} and previous calls to
-   * {@link #downsample(DownsampleStrategy)}.
-   *
-   * @see #transform(Class, Transformation)
-   * @see #optionalFitCenter()
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions fitCenter() {
-    return scaleOnlyTransform(DownsampleStrategy.FIT_CENTER, new FitCenter());
-  }
-
-  /**
-   * Applies {@link com.bumptech.glide.load.resource.bitmap.CenterInside} to all default types,
-   * {@link DownsampleStrategy#CENTER_INSIDE} to image types, and ignores unknown types.
-   *
-   * <p>This will override previous calls to {@link #dontTransform()} and previous calls to
-   * {@link #downsample(DownsampleStrategy)}.
-   *
-   * @see #optionalTransform(Class, Transformation)
-   * @see #centerInside()
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions optionalCenterInside() {
-    return optionalScaleOnlyTransform(DownsampleStrategy.CENTER_INSIDE, new CenterInside());
-  }
-
-  /**
-   * Applies {@link CenterInside} to all default types, {@link DownsampleStrategy#CENTER_INSIDE} to
-   * image types and throws an exception if asked to transform an unknown type.
-   *
-   * <p>This will override previous calls to {@link #dontTransform()} and previous calls to
-   * {@link #downsample(DownsampleStrategy)}.
-   *
-   * @see #transform(Class, Transformation)
-   * @see #optionalCenterInside()
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions centerInside() {
-    return scaleOnlyTransform(DownsampleStrategy.CENTER_INSIDE, new CenterInside());
-  }
-
-  /**
-   * Applies {@link CircleCrop} to all default types, and ignores unknown types.
-   *
-   * <p>This will override previous calls to {@link #dontTransform()}.
-   *
-   * @see #optionalTransform(Transformation)
-   * @see #circleCrop()
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions optionalCircleCrop() {
-    return optionalTransform(DownsampleStrategy.CENTER_OUTSIDE, new CircleCrop());
-  }
-
-  /**
-   * Applies {@link CircleCrop} to all default types and throws an exception if asked to transform
-   * an unknown type.
-   *
-   * <p>This will override previous calls to {@link #dontTransform()}.
-   *
-   * @see #transform(Class, Transformation)
-   * @see #optionalCenterCrop()
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions circleCrop() {
-    return transform(DownsampleStrategy.CENTER_INSIDE, new CircleCrop());
-  }
-
-  // calling optionalTransform() on the result of clone() requires greater access.
-  // calling downsample is guaranteed to modify the current object by the isAutoCloneEnabledCheck.
-  @SuppressWarnings({"WeakerAccess", "CheckResult"})
-  @NonNull
-  final RequestOptions optionalTransform(@NonNull DownsampleStrategy downsampleStrategy,
-      @NonNull Transformation<Bitmap> transformation) {
-    if (isAutoCloneEnabled) {
-      return clone().optionalTransform(downsampleStrategy, transformation);
-    }
-
-    downsample(downsampleStrategy);
-    return transform(transformation, /*isRequired=*/ false);
-  }
-
-  // calling transform() on the result of clone() requires greater access.
-  // calling downsample is guaranteed to modify the current object by the isAutoCloneEnabledCheck.
-  @SuppressWarnings({"WeakerAccess", "CheckResult"})
-  @NonNull
-  @CheckResult
-  final RequestOptions transform(@NonNull DownsampleStrategy downsampleStrategy,
-      @NonNull Transformation<Bitmap> transformation) {
-    if (isAutoCloneEnabled) {
-      return clone().transform(downsampleStrategy, transformation);
-    }
-
-    downsample(downsampleStrategy);
-    return transform(transformation);
-  }
-
-  @NonNull
-  private RequestOptions scaleOnlyTransform(
-      @NonNull DownsampleStrategy strategy, @NonNull Transformation<Bitmap> transformation) {
-    return scaleOnlyTransform(strategy, transformation, true /*isTransformationRequired*/);
-  }
-
-  @NonNull
-  private RequestOptions optionalScaleOnlyTransform(
-      @NonNull DownsampleStrategy strategy, @NonNull Transformation<Bitmap> transformation) {
-    return scaleOnlyTransform(strategy, transformation, false /*isTransformationRequired*/);
-  }
-
-  @NonNull
-  private RequestOptions scaleOnlyTransform(
-      @NonNull DownsampleStrategy strategy,
-      @NonNull Transformation<Bitmap> transformation,
-      boolean isTransformationRequired) {
-    RequestOptions result = isTransformationRequired
-          ? transform(strategy, transformation) : optionalTransform(strategy, transformation);
-    result.isScaleOnlyOrNoTransform = true;
-    return result;
-  }
-
-  /**
-   * Applies the given {@link Transformation} for
-   * {@link Bitmap Bitmaps} to the default types ({@link Bitmap},
-   * {@link android.graphics.drawable.BitmapDrawable}, and
-   * {@link com.bumptech.glide.load.resource.gif.GifDrawable})
-   * and throws an exception if asked to transform an unknown type.
-   *
-   * <p>This will override previous calls to {@link #dontTransform()}.
-   *
-   * @param transformation Any {@link Transformation} for {@link Bitmap}s.
-   * @see #optionalTransform(Transformation)
-   * @see #optionalTransform(Class, Transformation)
-   */
-  // Guaranteed to modify the current object by the isAutoCloneEnabledCheck.
-  @SuppressWarnings("CheckResult")
-  @NonNull
-  @CheckResult
-  public RequestOptions transform(@NonNull Transformation<Bitmap> transformation) {
-    return transform(transformation, /*isRequired=*/ true);
-  }
-
-  /**
-   * Applies the given {@link Transformation}s in the given order for
-   * {@link Bitmap Bitmaps} to the default types ({@link Bitmap},
-   * {@link android.graphics.drawable.BitmapDrawable}, and
-   * {@link com.bumptech.glide.load.resource.gif.GifDrawable})
-   * and throws an exception if asked to transform an unknown type.
-   *
-   * <p>This will override previous calls to {@link #dontTransform()}.
-   *
-   * @param transformations One or more {@link Transformation}s for {@link Bitmap}s.
-   * @see #optionalTransform(Transformation)
-   * @see #optionalTransform(Class, Transformation)
-   */
-  // Guaranteed to modify the current object by the isAutoCloneEnabledCheck.
-  @SuppressWarnings({"unchecked", "varargs", "CheckResult"})
-  @NonNull
-  @CheckResult
-  public RequestOptions transforms(@NonNull Transformation<Bitmap>... transformations) {
-    return transform(new MultiTransformation<>(transformations), /*isRequired=*/ true);
-  }
-
-  /**
-   * Applies the given {@link Transformation} for
-   * {@link Bitmap Bitmaps} to the default types ({@link Bitmap},
-   * {@link android.graphics.drawable.BitmapDrawable}, and
-   * {@link com.bumptech.glide.load.resource.gif.GifDrawable}) and ignores unknown types.
-   *
-   * <p>This will override previous calls to {@link #dontTransform()}.
-   *
-   * @param transformation Any {@link Transformation} for {@link Bitmap}s.
-   * @see #transform(Transformation)
-   * @see #transform(Class, Transformation)
-   */
-  // Guaranteed to modify the current object by the isAutoCloneEnabledCheck.
-  @SuppressWarnings("CheckResult")
-  @NonNull
-  @CheckResult
-  public RequestOptions optionalTransform(@NonNull Transformation<Bitmap> transformation) {
-    return transform(transformation, /*isRequired=*/ false);
-  }
-
-  @NonNull
-  private RequestOptions transform(
-      @NonNull Transformation<Bitmap> transformation, boolean isRequired) {
-    if (isAutoCloneEnabled) {
-      return clone().transform(transformation, isRequired);
-    }
-
-    DrawableTransformation drawableTransformation =
-        new DrawableTransformation(transformation, isRequired);
-    transform(Bitmap.class, transformation, isRequired);
-    transform(Drawable.class, drawableTransformation, isRequired);
-    // TODO: remove BitmapDrawable decoder and this transformation.
-    // Registering as BitmapDrawable is simply an optimization to avoid some iteration and
-    // isAssignableFrom checks when obtaining the transformation later on. It can be removed without
-    // affecting the functionality.
-    transform(BitmapDrawable.class, drawableTransformation.asBitmapDrawable(), isRequired);
-    transform(GifDrawable.class, new GifDrawableTransformation(transformation), isRequired);
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * Applies the given {@link Transformation} for any decoded resource of
-   * the given type and allows unknown resource types to be ignored.
-   *
-   * <p> Users can apply different transformations for each resource class. Applying a
-   * {@link Transformation} for a resource type that already has a
-   * {@link Transformation} will override the previous call. </p>
-   *
-   * <p> If any calls are made to the non-optional transform methods, then attempting to transform
-   * an unknown resource class will throw an exception. To allow unknown types, users must always
-   * call the optional version of each method. </p>
-   *
-   * <p>This will override previous calls to {@link #dontTransform()}.
-   *
-   * @param resourceClass  The type of resource to transform.
-   * @param transformation The {@link Transformation} to apply.
-   */
-  @NonNull
-  @CheckResult
-  public <T> RequestOptions optionalTransform(
-      @NonNull Class<T> resourceClass, @NonNull Transformation<T> transformation) {
-    return transform(resourceClass, transformation, /*isRequired=*/ false);
-  }
-
-  @NonNull
-  private <T> RequestOptions transform(
-      @NonNull Class<T> resourceClass,
-      @NonNull Transformation<T> transformation,
-      boolean isRequired) {
-    if (isAutoCloneEnabled) {
-      return clone().transform(resourceClass, transformation, isRequired);
-    }
-
-    Preconditions.checkNotNull(resourceClass);
-    Preconditions.checkNotNull(transformation);
-    transformations.put(resourceClass, transformation);
-    fields |= TRANSFORMATION;
-    isTransformationAllowed = true;
-    fields |= TRANSFORMATION_ALLOWED;
-    // Always set to false here. Known scale only transformations will call this method and then
-    // set isScaleOnlyOrNoTransform to true immediately after.
-    isScaleOnlyOrNoTransform = false;
-    if (isRequired) {
-      fields |= TRANSFORMATION_REQUIRED;
-      isTransformationRequired = true;
-    }
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * Applies the given {@link Transformation} for any decoded resource of
-   * the given type and throws if asked to transform an unknown resource type.
-   *
-   * <p>This will override previous calls to {@link #dontTransform()}.
-   *
-   * @param resourceClass  The type of resource to transform.
-   * @param transformation The {@link Transformation} to apply.
-   * @see #optionalTransform(Class, Transformation)
-   */
-  // Guaranteed to modify the current object by the isAutoCloneEnabledCheck.
-  @SuppressWarnings("CheckResult")
-  @NonNull
-  @CheckResult
-  public <T> RequestOptions transform(
-      @NonNull Class<T> resourceClass, @NonNull Transformation<T> transformation) {
-    return transform(resourceClass, transformation, /*isRequired=*/ true);
-  }
-
-  /**
-   * Removes all applied {@link Transformation Transformations} for all
-   * resource classes and allows unknown resource types to be transformed without throwing an
-   * exception.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions dontTransform() {
-    if (isAutoCloneEnabled) {
-      return clone().dontTransform();
-    }
-
-    transformations.clear();
-    fields &= ~TRANSFORMATION;
-    isTransformationRequired = false;
-    fields &= ~TRANSFORMATION_REQUIRED;
-    isTransformationAllowed = false;
-    fields |= TRANSFORMATION_ALLOWED;
-    isScaleOnlyOrNoTransform = true;
-    return selfOrThrowIfLocked();
-  }
-
-  /**
-   * Disables resource decoders that return animated resources so any resource returned will be
-   * static.
-   *
-   * <p> To disable transitions (fades etc) use
-   * {@link com.bumptech.glide.TransitionOptions#dontTransition()}</p>
-   */
-  // Guaranteed to modify the current object by the isAutoCloneEnabledCheck.
-  @SuppressWarnings("CheckResult")
-  @NonNull
-  @CheckResult
-  public RequestOptions dontAnimate() {
-    return set(GifOptions.DISABLE_ANIMATION, true);
-  }
-
-  /**
-   * Updates this options set with any options that are explicitly set in the given
-   * {@code RequestOptions} object and returns this object if {@link #autoClone()} is disabled or
-   * a new {@code RequestOptions} object if {@link #autoClone()} is enabled.
-   *
-   * <p>{@code #apply} only replaces those values that are explicitly set in the given
-   * {@code RequestOptions}. If you need to completely reset all previously set options, create a
-   * new {@code RequestOptions} object instead of using this method.
-   *
-   * <p>The options that will be set to values in the returned {@code RequestOptions} object is the
-   * intersection of the set of options in this {@code RequestOptions} object and the given
-   * {@code RequestOptions} object that were explicitly set. If the values of any of the options
-   * conflict, the values in the returned {@code RequestOptions} object will be set to those in the
-   * given {@code RequestOptions} object.
-   */
-  @NonNull
-  @CheckResult
-  public RequestOptions apply(@NonNull RequestOptions other) {
-    if (isAutoCloneEnabled) {
-      return clone().apply(other);
-    }
-
-    if (isSet(other.fields, SIZE_MULTIPLIER)) {
-      sizeMultiplier = other.sizeMultiplier;
-    }
-    if (isSet(other.fields, USE_UNLIMITED_SOURCE_GENERATORS_POOL)) {
-      useUnlimitedSourceGeneratorsPool = other.useUnlimitedSourceGeneratorsPool;
-    }
-    if (isSet(other.fields, USE_ANIMATION_POOL)) {
-      useAnimationPool = other.useAnimationPool;
-    }
-    if (isSet(other.fields, DISK_CACHE_STRATEGY)) {
-      diskCacheStrategy = other.diskCacheStrategy;
-    }
-    if (isSet(other.fields, PRIORITY)) {
-      priority = other.priority;
-    }
-    if (isSet(other.fields, ERROR_PLACEHOLDER)) {
-      errorPlaceholder = other.errorPlaceholder;
-    }
-    if (isSet(other.fields, ERROR_ID)) {
-      errorId = other.errorId;
-    }
-    if (isSet(other.fields, PLACEHOLDER)) {
-      placeholderDrawable = other.placeholderDrawable;
-    }
-    if (isSet(other.fields, PLACEHOLDER_ID)) {
-      placeholderId = other.placeholderId;
-    }
-    if (isSet(other.fields, IS_CACHEABLE)) {
-      isCacheable = other.isCacheable;
-    }
-    if (isSet(other.fields, OVERRIDE)) {
-      overrideWidth = other.overrideWidth;
-      overrideHeight = other.overrideHeight;
-    }
-    if (isSet(other.fields, SIGNATURE)) {
-      signature = other.signature;
-    }
-    if (isSet(other.fields, RESOURCE_CLASS)) {
-      resourceClass = other.resourceClass;
-    }
-    if (isSet(other.fields, FALLBACK)) {
-      fallbackDrawable = other.fallbackDrawable;
-    }
-    if (isSet(other.fields, FALLBACK_ID)) {
-      fallbackId = other.fallbackId;
-    }
-    if (isSet(other.fields, THEME)) {
-      theme = other.theme;
-    }
-    if (isSet(other.fields, TRANSFORMATION_ALLOWED)) {
-      isTransformationAllowed = other.isTransformationAllowed;
-    }
-    if (isSet(other.fields, TRANSFORMATION_REQUIRED)) {
-      isTransformationRequired = other.isTransformationRequired;
-    }
-    if (isSet(other.fields, TRANSFORMATION)) {
-      transformations.putAll(other.transformations);
-      isScaleOnlyOrNoTransform = other.isScaleOnlyOrNoTransform;
-    }
-    if (isSet(other.fields, ONLY_RETRIEVE_FROM_CACHE)) {
-      onlyRetrieveFromCache = other.onlyRetrieveFromCache;
-    }
-
-    // Applying options with dontTransform() is expected to clear our transformations.
-    if (!isTransformationAllowed) {
-      transformations.clear();
-      fields &= ~TRANSFORMATION;
-      isTransformationRequired = false;
-      fields &= ~TRANSFORMATION_REQUIRED;
-      isScaleOnlyOrNoTransform = true;
-    }
-
-    fields |= other.fields;
-    options.putAll(other.options);
-
-    return selfOrThrowIfLocked();
-  }
-
-
-  @Override
-  public boolean equals(Object o) {
-    if (o instanceof RequestOptions) {
-      RequestOptions other = (RequestOptions) o;
-      return Float.compare(other.sizeMultiplier, sizeMultiplier) == 0
-          && errorId == other.errorId
-          && Util.bothNullOrEqual(errorPlaceholder, other.errorPlaceholder)
-          && placeholderId == other.placeholderId
-          && Util.bothNullOrEqual(placeholderDrawable, other.placeholderDrawable)
-          && fallbackId == other.fallbackId
-          && Util.bothNullOrEqual(fallbackDrawable, other.fallbackDrawable)
-          && isCacheable == other.isCacheable
-          && overrideHeight == other.overrideHeight
-          && overrideWidth == other.overrideWidth
-          && isTransformationRequired == other.isTransformationRequired
-          && isTransformationAllowed == other.isTransformationAllowed
-          && useUnlimitedSourceGeneratorsPool == other.useUnlimitedSourceGeneratorsPool
-          && onlyRetrieveFromCache == other.onlyRetrieveFromCache
-          && diskCacheStrategy.equals(other.diskCacheStrategy)
-          && priority == other.priority
-          && options.equals(other.options)
-          && transformations.equals(other.transformations)
-          && resourceClass.equals(other.resourceClass)
-          && Util.bothNullOrEqual(signature, other.signature)
-          && Util.bothNullOrEqual(theme, other.theme);
-    }
-    return false;
-  }
-
-  @Override
-  public int hashCode() {
-    int hashCode = Util.hashCode(sizeMultiplier);
-    hashCode = Util.hashCode(errorId, hashCode);
-    hashCode = Util.hashCode(errorPlaceholder, hashCode);
-    hashCode = Util.hashCode(placeholderId, hashCode);
-    hashCode = Util.hashCode(placeholderDrawable, hashCode);
-    hashCode = Util.hashCode(fallbackId, hashCode);
-    hashCode = Util.hashCode(fallbackDrawable, hashCode);
-    hashCode = Util.hashCode(isCacheable, hashCode);
-    hashCode = Util.hashCode(overrideHeight, hashCode);
-    hashCode = Util.hashCode(overrideWidth, hashCode);
-    hashCode = Util.hashCode(isTransformationRequired, hashCode);
-    hashCode = Util.hashCode(isTransformationAllowed, hashCode);
-    hashCode = Util.hashCode(useUnlimitedSourceGeneratorsPool, hashCode);
-    hashCode = Util.hashCode(onlyRetrieveFromCache, hashCode);
-    hashCode = Util.hashCode(diskCacheStrategy, hashCode);
-    hashCode = Util.hashCode(priority, hashCode);
-    hashCode = Util.hashCode(options, hashCode);
-    hashCode = Util.hashCode(transformations, hashCode);
-    hashCode = Util.hashCode(resourceClass, hashCode);
-    hashCode = Util.hashCode(signature, hashCode);
-    hashCode = Util.hashCode(theme, hashCode);
-    return hashCode;
-  }
-
-  /**
-   * Throws if any further mutations are attempted.
-   *
-   * <p> Once locked, the only way to unlock is to use {@link #clone()} </p>
-   */
-  @NonNull
-  @SuppressWarnings("unchecked")
-  public RequestOptions lock() {
-    isLocked = true;
-    // This is the only place we should not check locked.
-    return this;
-  }
-
-  /**
-   * Similar to {@link #lock()} except that mutations cause a {@link #clone()} operation to happen
-   * before the mutation resulting in all methods returning a new Object and leaving the original
-   * locked object unmodified.
-   *
-   * <p>Auto clone is not retained by cloned objects returned from mutations. The cloned objects
-   * are mutable and are not locked.
-   */
-  @NonNull
-  public RequestOptions autoClone() {
-    if (isLocked && !isAutoCloneEnabled) {
-      throw new IllegalStateException("You cannot auto lock an already locked options object"
-          + ", try clone() first");
-    }
-    isAutoCloneEnabled = true;
-    return lock();
-  }
-
-  @NonNull
-  @SuppressWarnings("unchecked")
-  private RequestOptions selfOrThrowIfLocked() {
-    if (isLocked) {
-      throw new IllegalStateException("You cannot modify locked RequestOptions, consider clone()");
-    }
-    return this;
-  }
-
-  protected boolean isAutoCloneEnabled() {
-    return isAutoCloneEnabled;
-  }
-
-  public final boolean isDiskCacheStrategySet() {
-    return isSet(DISK_CACHE_STRATEGY);
-  }
-
-  public final boolean isSkipMemoryCacheSet() {
-    return isSet(IS_CACHEABLE);
-  }
-
-  @NonNull
-  public final Map<Class<?>, Transformation<?>> getTransformations() {
-    return transformations;
-  }
-
-  @SuppressWarnings("WeakerAccess")
-  public final boolean isTransformationRequired() {
-    return isTransformationRequired;
-  }
-
-  @NonNull
-  public final Options getOptions() {
-    return options;
-  }
-
-  @NonNull
-  public final Class<?> getResourceClass() {
-    return resourceClass;
-  }
-
-  @NonNull
-  public final DiskCacheStrategy getDiskCacheStrategy() {
-    return diskCacheStrategy;
-  }
-
-  @SuppressWarnings("WeakerAccess")
-  @Nullable
-  public final Drawable getErrorPlaceholder() {
-    return errorPlaceholder;
-  }
-
-  @SuppressWarnings("WeakerAccess")
-  public final int getErrorId() {
-    return errorId;
-  }
-
-  @SuppressWarnings("WeakerAccess")
-  public final int getPlaceholderId() {
-    return placeholderId;
-  }
-
-  @SuppressWarnings("WeakerAccess")
-  @Nullable
-  public final Drawable getPlaceholderDrawable() {
-    return placeholderDrawable;
-  }
-
-  @SuppressWarnings("WeakerAccess")
-  public final int getFallbackId() {
-    return fallbackId;
-  }
-
-  @SuppressWarnings("WeakerAccess")
-  @Nullable
-  public final Drawable getFallbackDrawable() {
-    return fallbackDrawable;
-  }
-
-  @Nullable
-  public final Resources.Theme getTheme() {
-    return theme;
-  }
-
-  @SuppressWarnings("WeakerAccess")
-  public final boolean isMemoryCacheable() {
-    return isCacheable;
-  }
-
-  @NonNull
-  public final Key getSignature() {
-    return signature;
-  }
-
-  public final boolean isPrioritySet() {
-    return isSet(PRIORITY);
-  }
-
-  @NonNull
-  public final Priority getPriority() {
-    return priority;
-  }
-
-  public final int getOverrideWidth() {
-    return overrideWidth;
-  }
-
-  public final boolean isValidOverride() {
-    return Util.isValidDimensions(overrideWidth, overrideHeight);
-  }
-
-  public final int getOverrideHeight() {
-    return overrideHeight;
-  }
-
-  public final float getSizeMultiplier() {
-    return sizeMultiplier;
-  }
-
-  boolean isScaleOnlyOrNoTransform() {
-    return isScaleOnlyOrNoTransform;
-  }
-
-  private boolean isSet(int flag) {
-    return isSet(fields, flag);
-  }
-
-  // get is just as clear.
-  @SuppressWarnings("PMD.BooleanGetMethodName")
-  public final boolean getUseUnlimitedSourceGeneratorsPool() {
-    return useUnlimitedSourceGeneratorsPool;
-  }
-
-  // get is just as clear.
-  @SuppressWarnings("PMD.BooleanGetMethodName")
-  public final boolean getUseAnimationPool() {
-    return useAnimationPool;
-  }
-
-  // get is just as clear.
-  @SuppressWarnings("PMD.BooleanGetMethodName")
-  public final boolean getOnlyRetrieveFromCache() {
-    return onlyRetrieveFromCache;
-  }
 }
diff --git a/library/src/main/java/com/bumptech/glide/request/SingleRequest.java b/library/src/main/java/com/bumptech/glide/request/SingleRequest.java
index 1cc122df3..7207bc57e 100644
--- a/library/src/main/java/com/bumptech/glide/request/SingleRequest.java
+++ b/library/src/main/java/com/bumptech/glide/request/SingleRequest.java
@@ -24,6 +24,7 @@
 import com.bumptech.glide.util.Util;
 import com.bumptech.glide.util.pool.FactoryPools;
 import com.bumptech.glide.util.pool.StateVerifier;
+import java.util.List;
 
 /**
  * A {@link Request} that loads a {@link com.bumptech.glide.load.engine.Resource} into a given
@@ -73,17 +74,9 @@
      */
     FAILED,
     /**
-     * Cancelled by the user, may not be restarted.
-     */
-    CANCELLED,
-    /**
-     * Cleared by the user with a placeholder set, may not be restarted.
+     * Cleared by the user with a placeholder set, may be restarted.
      */
     CLEARED,
-    /**
-     * Temporarily paused by the system, may be restarted.
-     */
-    PAUSED,
   }
 
   @Nullable
@@ -98,12 +91,12 @@
   @Nullable
   private Object model;
   private Class<R> transcodeClass;
-  private RequestOptions requestOptions;
+  private BaseRequestOptions<?> requestOptions;
   private int overrideWidth;
   private int overrideHeight;
   private Priority priority;
   private Target<R> target;
-  private RequestListener<R> requestListener;
+  @Nullable private List<RequestListener<R>> requestListeners;
   private Engine engine;
   private TransitionFactory<? super R> animationFactory;
   private Resource<R> resource;
@@ -121,13 +114,13 @@
       GlideContext glideContext,
       Object model,
       Class<R> transcodeClass,
-      RequestOptions requestOptions,
+      BaseRequestOptions<?> requestOptions,
       int overrideWidth,
       int overrideHeight,
       Priority priority,
       Target<R> target,
       RequestListener<R> targetListener,
-      RequestListener<R> requestListener,
+      @Nullable List<RequestListener<R>> requestListeners,
       RequestCoordinator requestCoordinator,
       Engine engine,
       TransitionFactory<? super R> animationFactory) {
@@ -147,7 +140,7 @@
         priority,
         target,
         targetListener,
-        requestListener,
+        requestListeners,
         requestCoordinator,
         engine,
         animationFactory);
@@ -165,13 +158,13 @@ private void init(
       GlideContext glideContext,
       Object model,
       Class<R> transcodeClass,
-      RequestOptions requestOptions,
+      BaseRequestOptions<?> requestOptions,
       int overrideWidth,
       int overrideHeight,
       Priority priority,
       Target<R> target,
       RequestListener<R> targetListener,
-      RequestListener<R> requestListener,
+      @Nullable List<RequestListener<R>> requestListeners,
       RequestCoordinator requestCoordinator,
       Engine engine,
       TransitionFactory<? super R> animationFactory) {
@@ -185,7 +178,7 @@ private void init(
     this.priority = priority;
     this.target = target;
     this.targetListener = targetListener;
-    this.requestListener = requestListener;
+    this.requestListeners = requestListeners;
     this.requestCoordinator = requestCoordinator;
     this.engine = engine;
     this.animationFactory = animationFactory;
@@ -209,7 +202,7 @@ public void recycle() {
     overrideWidth = -1;
     overrideHeight = -1;
     target = null;
-    requestListener = null;
+    requestListeners = null;
     targetListener = null;
     requestCoordinator = null;
     animationFactory = null;
@@ -281,11 +274,10 @@ public void begin() {
    *
    * @see #clear()
    */
-  void cancel() {
+  private void cancel() {
     assertNotCallingCallbacks();
     stateVerifier.throwIfRecycled();
     target.removeCallback(this);
-    status = Status.CANCELLED;
     if (loadStatus != null) {
       loadStatus.cancel();
       loadStatus = null;
@@ -326,19 +318,8 @@ public void clear() {
     if (canNotifyCleared()) {
       target.onLoadCleared(getPlaceholderDrawable());
     }
-    // Must be after cancel().
-    status = Status.CLEARED;
-  }
 
-  @Override
-  public boolean isPaused() {
-    return status == Status.PAUSED;
-  }
-
-  @Override
-  public void pause() {
-    clear();
-    status = Status.PAUSED;
+    status = Status.CLEARED;
   }
 
   private void releaseResource(Resource<?> resource) {
@@ -362,8 +343,8 @@ public boolean isResourceSet() {
   }
 
   @Override
-  public boolean isCancelled() {
-    return status == Status.CANCELLED || status == Status.CLEARED;
+  public boolean isCleared() {
+    return status == Status.CLEARED;
   }
 
   @Override
@@ -570,10 +551,18 @@ private void onResourceReady(Resource<R> resource, R result, DataSource dataSour
 
     isCallingCallbacks = true;
     try {
-      if ((requestListener == null
-          || !requestListener.onResourceReady(result, model, target, dataSource, isFirstResource))
-          && (targetListener == null
-          || !targetListener.onResourceReady(result, model, target, dataSource, isFirstResource))) {
+      boolean anyListenerHandledUpdatingTarget = false;
+      if (requestListeners != null) {
+        for (RequestListener<R> listener : requestListeners) {
+          anyListenerHandledUpdatingTarget |=
+              listener.onResourceReady(result, model, target, dataSource, isFirstResource);
+        }
+      }
+      anyListenerHandledUpdatingTarget |=
+          targetListener != null
+              && targetListener.onResourceReady(result, model, target, dataSource, isFirstResource);
+
+      if (!anyListenerHandledUpdatingTarget) {
         Transition<? super R> animation =
             animationFactory.build(dataSource, isFirstResource);
         target.onResourceReady(result, animation);
@@ -609,10 +598,18 @@ private void onLoadFailed(GlideException e, int maxLogLevel) {
     isCallingCallbacks = true;
     try {
       //TODO: what if this is a thumbnail request?
-      if ((requestListener == null
-          || !requestListener.onLoadFailed(e, model, target, isFirstReadyResource()))
-          && (targetListener == null
-          || !targetListener.onLoadFailed(e, model, target, isFirstReadyResource()))) {
+      boolean anyListenerHandledUpdatingTarget = false;
+      if (requestListeners != null) {
+        for (RequestListener<R> listener : requestListeners) {
+          anyListenerHandledUpdatingTarget |=
+              listener.onLoadFailed(e, model, target, isFirstReadyResource());
+        }
+      }
+      anyListenerHandledUpdatingTarget |=
+          targetListener != null
+              && targetListener.onLoadFailed(e, model, target, isFirstReadyResource());
+
+      if (!anyListenerHandledUpdatingTarget) {
         setErrorPlaceholder();
       }
     } finally {
@@ -633,14 +630,19 @@ public boolean isEquivalentTo(Request o) {
           && requestOptions.equals(that.requestOptions)
           && priority == that.priority
           // We do not want to require that RequestListeners implement equals/hashcode, so we don't
-          // compare them using equals(). We can however, at least assert that the request listener
-          // is either present or not present in both requests.
-          && (requestListener != null
-          ? that.requestListener != null : that.requestListener == null);
+          // compare them using equals(). We can however, at least assert that the same amount of
+          // request listeners are present in both requests
+          && listenerCountEquals(this, that);
     }
     return false;
   }
 
+  private static boolean listenerCountEquals(SingleRequest<?> first, SingleRequest<?> second) {
+    int firstListenerCount = first.requestListeners == null ? 0 : first.requestListeners.size();
+    int secondListenerCount = second.requestListeners == null ? 0 : second.requestListeners.size();
+    return firstListenerCount == secondListenerCount;
+  }
+
   private void logV(String message) {
     Log.v(TAG, message + " this: " + tag);
   }
diff --git a/library/src/main/java/com/bumptech/glide/request/ThumbnailRequestCoordinator.java b/library/src/main/java/com/bumptech/glide/request/ThumbnailRequestCoordinator.java
index ec172f848..eaa4ba5a0 100644
--- a/library/src/main/java/com/bumptech/glide/request/ThumbnailRequestCoordinator.java
+++ b/library/src/main/java/com/bumptech/glide/request/ThumbnailRequestCoordinator.java
@@ -120,13 +120,6 @@ public void begin() {
     }
   }
 
-  @Override
-  public void pause() {
-    isRunning = false;
-    full.pause();
-    thumb.pause();
-  }
-
   @Override
   public void clear() {
     isRunning = false;
@@ -134,11 +127,6 @@ public void clear() {
     full.clear();
   }
 
-  @Override
-  public boolean isPaused() {
-    return full.isPaused();
-  }
-
   /**
    * Returns true if the full request is still running.
    */
@@ -161,8 +149,8 @@ public boolean isResourceSet() {
   }
 
   @Override
-  public boolean isCancelled() {
-    return full.isCancelled();
+  public boolean isCleared() {
+    return full.isCleared();
   }
 
   /**
diff --git a/library/src/main/java/com/bumptech/glide/request/target/BaseTarget.java b/library/src/main/java/com/bumptech/glide/request/target/BaseTarget.java
index 792de64a3..026a3233f 100644
--- a/library/src/main/java/com/bumptech/glide/request/target/BaseTarget.java
+++ b/library/src/main/java/com/bumptech/glide/request/target/BaseTarget.java
@@ -8,16 +8,23 @@
  * A base {@link Target} for loading {@link com.bumptech.glide.load.engine.Resource}s that provides
  * basic or empty implementations for most methods.
  *
- * <p> For maximum efficiency, clear this target when you have finished using or displaying the
- * {@link com.bumptech.glide.load.engine.Resource} loaded into it using
- * {@link com.bumptech.glide.RequestManager#clear(Target)}.</p>
+ * <p>For maximum efficiency, clear this target when you have finished using or displaying the
+ * {@link com.bumptech.glide.load.engine.Resource} loaded into it using {@link
+ * com.bumptech.glide.RequestManager#clear(Target)}.
  *
- * <p> For loading {@link com.bumptech.glide.load.engine.Resource}s into {@link android.view.View}s,
- * {@link com.bumptech.glide.request.target.ViewTarget} or
- * {@link com.bumptech.glide.request.target.ImageViewTarget} are preferable.</p>
+ * <p>For loading {@link com.bumptech.glide.load.engine.Resource}s into {@link android.view.View}s,
+ * {@link com.bumptech.glide.request.target.ViewTarget} or {@link
+ * com.bumptech.glide.request.target.ImageViewTarget} are preferable.
  *
  * @param <Z> The type of resource that will be received by this target.
+ * @deprecated Use {@link CustomViewTarget} if loading the content into a view, the download API if
+ *     in the background
+ *     (http://bumptech.github.io/glide/doc/getting-started.html#background-threads), or a a fully
+ *     implemented {@link Target} for any specialized use-cases. Using BaseView is unsafe if the
+ *     user does not implement {@link #onLoadCleared}, resulting in recycled bitmaps being
+ *     referenced from the UI and hard to root-cause crashes.
  */
+@Deprecated
 public abstract class BaseTarget<Z> implements Target<Z> {
 
   private Request request;
diff --git a/library/src/main/java/com/bumptech/glide/request/target/CustomTarget.java b/library/src/main/java/com/bumptech/glide/request/target/CustomTarget.java
new file mode 100644
index 000000000..ede0b2baf
--- /dev/null
+++ b/library/src/main/java/com/bumptech/glide/request/target/CustomTarget.java
@@ -0,0 +1,123 @@
+package com.bumptech.glide.request.target;
+
+import android.graphics.Bitmap;
+import android.graphics.drawable.Drawable;
+import android.support.annotation.NonNull;
+import android.support.annotation.Nullable;
+import android.view.View;
+import android.widget.ImageView;
+import com.bumptech.glide.request.Request;
+import com.bumptech.glide.request.transition.Transition;
+import com.bumptech.glide.util.Util;
+
+/**
+ * A base {@link Target} for loading resources ({@link android.graphics.Bitmap}, {@link Drawable}
+ * etc) that are used outside of {@link android.view.View}s.
+ *
+ * <p>If you're loading a resource into a {@link View}, use
+ * {@link com.bumptech.glide.RequestBuilder#into(ImageView)}, a subclass of {@link ImageViewTarget},
+ * or {@link CustomViewTarget}. Using this class to load resources into {@link View}s can prevent
+ * Glide from correctly cancelling any previous loads, which may result in incorrect images
+ * appearing in the view, especially in scrolling views like
+ * {@link android.support.v7.widget.RecyclerView}.
+ *
+ * <p>You <em>MUST</em> implement {@link #onLoadCleared(Drawable)} and ensure that all references to
+ * any resource passed into the target in {@link #onResourceReady(Object, Transition)} are removed
+ * before {@link #onLoadCleared(Drawable)} completes. Failing to do so can result in graphical
+ * corruption, crashes caused by recycled {@link Bitmap}s, and other undefined behavior. It is never
+ * safe to leave {@link #onLoadCleared(Drawable)} unimplemented or empty. Even if you do not
+ * manually clear this {@link Target}, Glide may do so automatically after certain lifecycle events
+ * in {@link android.support.v4.app.Fragment}s and {@link android.app.Activity}s.
+ *
+ * <p>This class can only be used with {@link Target#SIZE_ORIGINAL} or when the desired resource
+ * dimensions are known when the {@link Target} is created. If you'd like to run some asynchronous
+ * process and make full use of {@link #getSize(SizeReadyCallback)} and {@link SizeReadyCallback},
+ * extend {@link Target} directly instead of using this class.
+ *
+ * @param <T> The type of resource that will be loaded (e.g. {@link Bitmap}).
+ */
+public abstract class CustomTarget<T> implements Target<T> {
+
+  private final int width;
+  private final int height;
+
+  @Nullable
+  private Request request;
+
+  /**
+   * Creates a new {@link CustomTarget} that will attempt to load the resource in its original size.
+   *
+   * <p>This constructor can cause very memory inefficient loads if the resource is large and can
+   * cause OOMs. It's provided as a convenience for when you'd like to specify dimensions with
+   * {@link com.bumptech.glide.request.RequestOptions#override(int)}. In all other cases, prefer
+   * {@link #CustomTarget(int, int)}.
+   */
+  public CustomTarget() {
+    this(Target.SIZE_ORIGINAL, Target.SIZE_ORIGINAL);
+  }
+
+  /**
+   * Creates a new {@code CustomTarget} that will return the given {@code width} and {@link @code}
+   * as the requested size (unless overridden by
+   * {@link com.bumptech.glide.request.RequestOptions#override(int)} in the request).
+   *
+   * @param width The requested width (>= 0, or == Target.SIZE_ORIGINAL).
+   * @param height The requested height (>= 0, or == Target.SIZE_ORIGINAL).
+   */
+  public CustomTarget(int width, int height) {
+     if (!Util.isValidDimensions(width, height)) {
+      throw new IllegalArgumentException(
+          "Width and height must both be > 0 or Target#SIZE_ORIGINAL, but given" + " width: "
+              + width + " and height: " + height);
+    }
+
+    this.width = width;
+    this.height = height;
+  }
+
+  @Override
+  public void onStart() {
+    // Intentionally empty, this can be optionally implemented by subclasses.
+  }
+
+  @Override
+  public void onStop() {
+    // Intentionally empty, this can be optionally implemented by subclasses.
+  }
+
+  @Override
+  public void onDestroy() {
+    // Intentionally empty, this can be optionally implemented by subclasses.
+  }
+
+  @Override
+  public void onLoadStarted(@Nullable Drawable placeholder) {
+    // Intentionally empty, this can be optionally implemented by subclasses.
+  }
+
+  @Override
+  public void onLoadFailed(@Nullable Drawable errorDrawable) {
+    // Intentionally empty, this can be optionally implemented by subclasses.
+  }
+
+  @Override
+  public final void getSize(@NonNull SizeReadyCallback cb) {
+    cb.onSizeReady(width, height);
+  }
+
+  @Override
+  public final void removeCallback(@NonNull SizeReadyCallback cb) {
+    // Do nothing, this class does not retain SizeReadyCallbacks.
+  }
+
+  @Override
+  public final void setRequest(@Nullable Request request) {
+    this.request = request;
+  }
+
+  @Nullable
+  @Override
+  public final Request getRequest() {
+    return request;
+  }
+}
diff --git a/library/src/main/java/com/bumptech/glide/request/target/CustomViewTarget.java b/library/src/main/java/com/bumptech/glide/request/target/CustomViewTarget.java
new file mode 100644
index 000000000..28aa06465
--- /dev/null
+++ b/library/src/main/java/com/bumptech/glide/request/target/CustomViewTarget.java
@@ -0,0 +1,496 @@
+package com.bumptech.glide.request.target;
+
+import android.content.Context;
+import android.graphics.Point;
+import android.graphics.drawable.Drawable;
+import android.support.annotation.IdRes;
+import android.support.annotation.NonNull;
+import android.support.annotation.Nullable;
+import android.support.annotation.VisibleForTesting;
+import android.util.Log;
+import android.view.Display;
+import android.view.View;
+import android.view.View.OnAttachStateChangeListener;
+import android.view.ViewGroup.LayoutParams;
+import android.view.ViewTreeObserver;
+import android.view.WindowManager;
+import com.bumptech.glide.R;
+import com.bumptech.glide.request.Request;
+import com.bumptech.glide.request.transition.Transition;
+import com.bumptech.glide.util.Preconditions;
+import com.bumptech.glide.util.Synthetic;
+import java.lang.ref.WeakReference;
+import java.util.ArrayList;
+import java.util.List;
+
+/**
+ * A base {@link Target} for loading resources ({@link android.graphics.Bitmap}, {@link Drawable}
+ * etc) into {@link View}s that provides default implementations for most methods and can determine
+ * the size of views using a {@link android.view.ViewTreeObserver.OnDrawListener}.
+ *
+ * @param <T> The specific subclass of view wrapped by this target (e.g.
+ *          {@link android.widget.ImageView})
+ * @param <Z> The resource type this target will receive (e.g. {@link android.graphics.Bitmap}).
+ */
+public abstract class CustomViewTarget<T extends View, Z> implements Target<Z> {
+  private static final String TAG = "CustomViewTarget";
+  @IdRes private static final int VIEW_TAG_ID =
+      R.id.glide_custom_view_target_tag;
+
+  private final SizeDeterminer sizeDeterminer;
+
+  protected final T view;
+  @Nullable private OnAttachStateChangeListener attachStateListener;
+  private boolean isClearedByUs;
+  private boolean isAttachStateListenerAdded;
+  @IdRes private int overrideTag;
+
+  /** Constructor that defaults {@code waitForLayout} to {@code false}. */
+  public CustomViewTarget(@NonNull T view) {
+    this.view = Preconditions.checkNotNull(view);
+    sizeDeterminer = new SizeDeterminer(view);
+  }
+
+  /**
+   * A required callback invoked when the resource is no longer valid and must be freed.
+   *
+   * <p>You must ensure that any current Drawable received in
+   * {@link #onResourceReady(Object, Transition)} is no longer used before redrawing the container
+   * (usually a View) or changing its visibility. <b>Not doing so will result in crashes in your
+   * app.</b>
+   *
+   * @param placeholder The placeholder drawable to optionally show, or null.
+   */
+  protected abstract void onResourceCleared(@Nullable Drawable placeholder);
+
+  /**
+   * An optional callback invoked when a resource load is started.
+   *
+   * @see Target#onLoadStarted(Drawable)
+   * @param placeholder The placeholder drawable to optionally show, or null.
+   */
+  protected void onResourceLoading(@Nullable Drawable placeholder) {
+    // Default empty.
+  }
+
+  @Override
+  public void onStart() {
+    // Default empty.
+  }
+
+  @Override
+  public void onStop() {
+    // Default empty.
+  }
+
+  @Override
+  public void onDestroy() {
+    // Default empty.
+  }
+
+  /**
+   * Indicates that Glide should always wait for any pending layout pass before checking for the
+   * size an {@link View}.
+   *
+   * <p>By default, Glide will only wait for a pending layout pass if it's unable to resolve the
+   * size from the {@link LayoutParams} or valid non-zero values for {@link View#getWidth()} and
+   * {@link View#getHeight()}.
+   *
+   * <p>Because calling this method forces Glide to wait for the layout pass to occur before
+   * starting loads, setting this parameter to {@code true} can cause Glide to asynchronous load an
+   * image even if it's in the memory cache. The load will happen asynchronously because Glide has
+   * to wait for a layout pass to occur, which won't necessarily happen in the same frame as when
+   * the image is requested. As a result, using this method can resulting in flashing in some cases
+   * and should be used sparingly.
+   *
+   * <p>If the {@link LayoutParams} of the wrapped {@link View} are set to fixed sizes, they will
+   * still be used instead of the {@link View}'s dimensions even if this method is called. This
+   * parameter is a fallback only.
+   */
+  @SuppressWarnings("WeakerAccess") // Public API
+  @NonNull
+  public final CustomViewTarget<T, Z> waitForLayout() {
+    sizeDeterminer.waitForLayout = true;
+    return this;
+  }
+
+  /**
+   * Clears the {@link View}'s {@link Request} when the {@link View} is detached from its {@link
+   * android.view.Window} and restarts the {@link Request} when the {@link View} is re-attached from
+   * its {@link android.view.Window}.
+   *
+   * <p>This is an experimental API that may be removed in a future version.
+   *
+   * <p>Using this method can save memory by allowing Glide to more eagerly clear resources when
+   * transitioning screens or swapping adapters in scrolling views. However it also substantially
+   * increases the odds that images will not be in memory if users subsequently return to a screen
+   * where images were previously loaded. Whether or not this happens will depend on the number of
+   * images loaded in the new screen and the size of the memory cache. Increasing the size of the
+   * memory cache can improve this behavior but it largely negates the memory benefits of using this
+   * method.
+   *
+   * <p>Use this method with caution and measure your memory usage to ensure that it's actually
+   * improving your memory usage in the cases you care about.
+   */
+  // Public API.
+  @NonNull
+  @SuppressWarnings({"UnusedReturnValue", "WeakerAccess"})
+  public final CustomViewTarget<T, Z> clearOnDetach() {
+    if (attachStateListener != null) {
+      return this;
+    }
+    attachStateListener = new OnAttachStateChangeListener() {
+      @Override
+      public void onViewAttachedToWindow(View v) {
+        resumeMyRequest();
+      }
+
+      @Override
+      public void onViewDetachedFromWindow(View v) {
+        pauseMyRequest();
+      }
+    };
+    maybeAddAttachStateListener();
+    return this;
+  }
+
+  /**
+   * Override the android resource id to store temporary state allowing loads to be automatically
+   * cancelled and resources re-used in scrolling lists.
+   *
+   * <p>Unlike {@link ViewTarget}, it is <b>not</b> necessary to set a custom tag id if your app
+   * uses {@link View#setTag(Object)}. It is only necessary if loading several Glide resources into
+   * the same view, for example one foreground and one background view.
+   *
+   * @param tagId The android resource id to use.
+   */
+  // Public API.
+  @SuppressWarnings({"UnusedReturnValue", "WeakerAccess"})
+  public final CustomViewTarget<T, Z> useTagId(@IdRes int tagId) {
+    if (this.overrideTag != 0) {
+      throw new IllegalArgumentException("You cannot change the tag id once it has been set.");
+    }
+    this.overrideTag = tagId;
+    return this;
+  }
+
+  /** Returns the wrapped {@link android.view.View}. */
+  @NonNull
+  public final T getView() {
+    return view;
+  }
+
+  /**
+   * Determines the size of the view by first checking {@link android.view.View#getWidth()} and
+   * {@link android.view.View#getHeight()}. If one or both are zero, it then checks the view's
+   * {@link LayoutParams}. If one or both of the params width and height are less than or equal to
+   * zero, it then adds an {@link android.view.ViewTreeObserver.OnPreDrawListener} which waits until
+   * the view has been measured before calling the callback with the view's drawn width and height.
+   *
+   * @param cb {@inheritDoc}
+   */
+  @Override
+  public final void getSize(@NonNull SizeReadyCallback cb) {
+    sizeDeterminer.getSize(cb);
+  }
+
+  @Override
+  public final void removeCallback(@NonNull SizeReadyCallback cb) {
+    sizeDeterminer.removeCallback(cb);
+  }
+
+  @Override
+  public final void onLoadStarted(@Nullable Drawable placeholder) {
+    maybeAddAttachStateListener();
+    onResourceLoading(placeholder);
+  }
+
+  @Override
+  public final void onLoadCleared(@Nullable Drawable placeholder) {
+    sizeDeterminer.clearCallbacksAndListener();
+
+    onResourceCleared(placeholder);
+    if (!isClearedByUs) {
+      maybeRemoveAttachStateListener();
+    }
+  }
+
+  /**
+   * Stores the request using {@link View#setTag(Object)}.
+   *
+   * @param request {@inheritDoc}
+   */
+  @Override
+  public final void setRequest(@Nullable Request request) {
+    setTag(request);
+  }
+
+  /** Returns any stored request using {@link android.view.View#getTag()}. */
+  @Override
+  @Nullable
+  public final Request getRequest() {
+    Object tag = getTag();
+    if (tag != null) {
+      if (tag instanceof Request) {
+        return (Request) tag;
+      } else {
+        throw new IllegalArgumentException("You must not pass non-R.id ids to setTag(id)");
+      }
+    }
+    return null;
+  }
+
+  @Override
+  public String toString() {
+    return "Target for: " + view;
+  }
+
+  @SuppressWarnings("WeakerAccess")
+  @Synthetic
+  final void resumeMyRequest() {
+    Request request = getRequest();
+    if (request != null && request.isCleared()) {
+      request.begin();
+    }
+  }
+
+  @SuppressWarnings("WeakerAccess")
+  @Synthetic
+  final void pauseMyRequest() {
+    Request request = getRequest();
+    if (request != null) {
+      isClearedByUs = true;
+      request.clear();
+      isClearedByUs = false;
+    }
+  }
+
+  private void setTag(@Nullable Object tag) {
+    view.setTag(overrideTag == 0 ? VIEW_TAG_ID : overrideTag, tag);
+  }
+
+  @Nullable
+  private Object getTag() {
+    return view.getTag(overrideTag == 0 ? VIEW_TAG_ID : overrideTag);
+  }
+
+  private void maybeAddAttachStateListener() {
+    if (attachStateListener == null || isAttachStateListenerAdded) {
+      return;
+    }
+
+    view.addOnAttachStateChangeListener(attachStateListener);
+    isAttachStateListenerAdded = true;
+  }
+
+  private void maybeRemoveAttachStateListener() {
+    if (attachStateListener == null || !isAttachStateListenerAdded) {
+      return;
+    }
+
+    view.removeOnAttachStateChangeListener(attachStateListener);
+    isAttachStateListenerAdded = false;
+  }
+
+  @VisibleForTesting
+  static final class SizeDeterminer {
+    // Some negative sizes (Target.SIZE_ORIGINAL) are valid, 0 is never valid.
+    private static final int PENDING_SIZE = 0;
+    @VisibleForTesting
+    @Nullable
+    static Integer maxDisplayLength;
+    private final View view;
+    private final List<SizeReadyCallback> cbs = new ArrayList<>();
+    @Synthetic boolean waitForLayout;
+
+    @Nullable private SizeDeterminerLayoutListener layoutListener;
+
+    SizeDeterminer(@NonNull View view) {
+      this.view = view;
+    }
+
+    // Use the maximum to avoid depending on the device's current orientation.
+    private static int getMaxDisplayLength(@NonNull Context context) {
+      if (maxDisplayLength == null) {
+        WindowManager windowManager =
+            (WindowManager) context.getSystemService(Context.WINDOW_SERVICE);
+        Display display = Preconditions.checkNotNull(windowManager).getDefaultDisplay();
+        Point displayDimensions = new Point();
+        display.getSize(displayDimensions);
+        maxDisplayLength = Math.max(displayDimensions.x, displayDimensions.y);
+      }
+      return maxDisplayLength;
+    }
+
+    private void notifyCbs(int width, int height) {
+      // One or more callbacks may trigger the removal of one or more additional callbacks, so we
+      // need a copy of the list to avoid a concurrent modification exception. One place this
+      // happens is when a full request completes from the in memory cache while its thumbnail is
+      // still being loaded asynchronously. See #2237.
+      for (SizeReadyCallback cb : new ArrayList<>(cbs)) {
+        cb.onSizeReady(width, height);
+      }
+    }
+
+    @Synthetic
+    void checkCurrentDimens() {
+      if (cbs.isEmpty()) {
+        return;
+      }
+
+      int currentWidth = getTargetWidth();
+      int currentHeight = getTargetHeight();
+      if (!isViewStateAndSizeValid(currentWidth, currentHeight)) {
+        return;
+      }
+
+      notifyCbs(currentWidth, currentHeight);
+      clearCallbacksAndListener();
+    }
+
+    void getSize(@NonNull SizeReadyCallback cb) {
+      int currentWidth = getTargetWidth();
+      int currentHeight = getTargetHeight();
+      if (isViewStateAndSizeValid(currentWidth, currentHeight)) {
+        cb.onSizeReady(currentWidth, currentHeight);
+        return;
+      }
+
+      // We want to notify callbacks in the order they were added and we only expect one or two
+      // callbacks to be added a time, so a List is a reasonable choice.
+      if (!cbs.contains(cb)) {
+        cbs.add(cb);
+      }
+      if (layoutListener == null) {
+        ViewTreeObserver observer = view.getViewTreeObserver();
+        layoutListener = new SizeDeterminerLayoutListener(this);
+        observer.addOnPreDrawListener(layoutListener);
+      }
+    }
+
+    /**
+     * The callback may be called anyway if it is removed by another {@link SizeReadyCallback} or
+     * otherwise removed while we're notifying the list of callbacks.
+     *
+     * <p>See #2237.
+     */
+    void removeCallback(@NonNull SizeReadyCallback cb) {
+      cbs.remove(cb);
+    }
+
+    void clearCallbacksAndListener() {
+      // Keep a reference to the layout attachStateListener and remove it here
+      // rather than having the observer remove itself because the observer
+      // we add the attachStateListener to will be almost immediately merged into
+      // another observer and will therefore never be alive. If we instead
+      // keep a reference to the attachStateListener and remove it here, we get the
+      // current view tree observer and should succeed.
+      ViewTreeObserver observer = view.getViewTreeObserver();
+      if (observer.isAlive()) {
+        observer.removeOnPreDrawListener(layoutListener);
+      }
+      layoutListener = null;
+      cbs.clear();
+    }
+
+    private boolean isViewStateAndSizeValid(int width, int height) {
+      return isDimensionValid(width) && isDimensionValid(height);
+    }
+
+    private int getTargetHeight() {
+      int verticalPadding = view.getPaddingTop() + view.getPaddingBottom();
+      LayoutParams layoutParams = view.getLayoutParams();
+      int layoutParamSize = layoutParams != null ? layoutParams.height : PENDING_SIZE;
+      return getTargetDimen(view.getHeight(), layoutParamSize, verticalPadding);
+    }
+
+    private int getTargetWidth() {
+      int horizontalPadding = view.getPaddingLeft() + view.getPaddingRight();
+      LayoutParams layoutParams = view.getLayoutParams();
+      int layoutParamSize = layoutParams != null ? layoutParams.width : PENDING_SIZE;
+      return getTargetDimen(view.getWidth(), layoutParamSize, horizontalPadding);
+    }
+
+    private int getTargetDimen(int viewSize, int paramSize, int paddingSize) {
+      // We consider the View state as valid if the View has non-null layout params and a non-zero
+      // layout params width and height. This is imperfect. We're making an assumption that View
+      // parents will obey their child's layout parameters, which isn't always the case.
+      int adjustedParamSize = paramSize - paddingSize;
+      if (adjustedParamSize > 0) {
+        return adjustedParamSize;
+      }
+
+      // Since we always prefer layout parameters with fixed sizes, even if waitForLayout is true,
+      // we might as well ignore it and just return the layout parameters above if we have them.
+      // Otherwise we should wait for a layout pass before checking the View's dimensions.
+      if (waitForLayout && view.isLayoutRequested()) {
+        return PENDING_SIZE;
+      }
+
+      // We also consider the View state valid if the View has a non-zero width and height. This
+      // means that the View has gone through at least one layout pass. It does not mean the Views
+      // width and height are from the current layout pass. For example, if a View is re-used in
+      // RecyclerView or ListView, this width/height may be from an old position. In some cases
+      // the dimensions of the View at the old position may be different than the dimensions of the
+      // View in the new position because the LayoutManager/ViewParent can arbitrarily decide to
+      // change them. Nevertheless, in most cases this should be a reasonable choice.
+      int adjustedViewSize = viewSize - paddingSize;
+      if (adjustedViewSize > 0) {
+        return adjustedViewSize;
+      }
+
+      // Finally we consider the view valid if the layout parameter size is set to wrap_content.
+      // It's difficult for Glide to figure out what to do here. Although Target.SIZE_ORIGINAL is a
+      // coherent choice, it's extremely dangerous because original images may be much too large to
+      // fit in memory or so large that only a couple can fit in memory, causing OOMs. If users want
+      // the original image, they can always use .override(Target.SIZE_ORIGINAL). Since wrap_content
+      // may never resolve to a real size unless we load something, we aim for a square whose length
+      // is the largest screen size. That way we're loading something and that something has some
+      // hope of being downsampled to a size that the device can support. We also log a warning that
+      // tries to explain what Glide is doing and why some alternatives are preferable.
+      // Since WRAP_CONTENT is sometimes used as a default layout parameter, we always wait for
+      // layout to complete before using this fallback parameter (ConstraintLayout among others).
+      if (!view.isLayoutRequested() && paramSize == LayoutParams.WRAP_CONTENT) {
+        if (Log.isLoggable(TAG, Log.INFO)) {
+          Log.i(TAG, "Glide treats LayoutParams.WRAP_CONTENT as a request for an image the size of"
+              + " this device's screen dimensions. If you want to load the original image and are"
+              + " ok with the corresponding memory cost and OOMs (depending on the input size), use"
+              + " .override(Target.SIZE_ORIGINAL). Otherwise, use LayoutParams.MATCH_PARENT, set"
+              + " layout_width and layout_height to fixed dimension, or use .override() with fixed"
+              + " dimensions.");
+        }
+        return getMaxDisplayLength(view.getContext());
+      }
+
+      // If the layout parameters are < padding, the view size is < padding, or the layout
+      // parameters are set to match_parent or wrap_content and no layout has occurred, we should
+      // wait for layout and repeat.
+      return PENDING_SIZE;
+    }
+
+    private boolean isDimensionValid(int size) {
+      return size > 0 || size == SIZE_ORIGINAL;
+    }
+
+    private static final class SizeDeterminerLayoutListener
+        implements ViewTreeObserver.OnPreDrawListener {
+      private final WeakReference<SizeDeterminer> sizeDeterminerRef;
+
+      SizeDeterminerLayoutListener(@NonNull SizeDeterminer sizeDeterminer) {
+        sizeDeterminerRef = new WeakReference<>(sizeDeterminer);
+      }
+
+      @Override
+      public boolean onPreDraw() {
+        if (Log.isLoggable(TAG, Log.VERBOSE)) {
+          Log.v(TAG, "OnGlobalLayoutListener called attachStateListener=" + this);
+        }
+        SizeDeterminer sizeDeterminer = sizeDeterminerRef.get();
+        if (sizeDeterminer != null) {
+          sizeDeterminer.checkCurrentDimens();
+        }
+        return true;
+      }
+    }
+  }
+}
diff --git a/library/src/main/java/com/bumptech/glide/request/target/SimpleTarget.java b/library/src/main/java/com/bumptech/glide/request/target/SimpleTarget.java
index 4c2143ab1..9d28c0bd0 100644
--- a/library/src/main/java/com/bumptech/glide/request/target/SimpleTarget.java
+++ b/library/src/main/java/com/bumptech/glide/request/target/SimpleTarget.java
@@ -9,6 +9,7 @@
  * A simple {@link com.bumptech.glide.request.target.Target} base class with default (usually no-op)
  * implementations of non essential methods that allows the caller to specify an exact width/height.
  * Typically use cases look something like this:
+ *
  * <pre>
  * <code>
  * Target<Bitmap> target =
@@ -40,27 +41,32 @@
  * load into the same {@link View} or caller repeatedly using this class, always retain a reference
  * to the previous instance and either call {@link com.bumptech.glide.RequestManager#clear(Target)}
  * on the old instance before starting a new load or you must re-use the old instance for the new
- * load. Glide's {@link com.bumptech.glide.RequestBuilder#into(Target)} method returns the
- * {@link Target} instance you provided to make retaining a reference to the {@link Target} as easy
- * as possible. That said, you must wait until you're completely finished with the resource before
+ * load. Glide's {@link com.bumptech.glide.RequestBuilder#into(Target)} method returns the {@link
+ * Target} instance you provided to make retaining a reference to the {@link Target} as easy as
+ * possible. That said, you must wait until you're completely finished with the resource before
  * calling {@link com.bumptech.glide.RequestManager#clear(Target)} and you should always null out
  * references to any loaded resources in {@link Target#onLoadCleared(Drawable)}.
  *
- * <p>Always try to provide a size when using this class. Use
- * {@link SimpleTarget#SimpleTarget(int, int)} whenever possible with values that are <em>not</em>
- * {@link Target#SIZE_ORIGINAL}. Using {@link Target#SIZE_ORIGINAL} is unsafe if you're loading
- * large images or are running your application on older or memory constrained devices because it
- * can cause Glide to load very large images into memory. In some cases those images may throw
- * {@link OutOfMemoryError} and in others they may exceed the texture limit for the device, which
- * will prevent them from being rendered. Providing a valid size allows Glide to downsample large
- * images, which can avoid issues with texture size or memory limitations. You don't have to worry
- * about providing a size in most cases if you use {@link ViewTarget} so prefer {@link ViewTarget}
- * over this class whenver possible.
+ * <p>Always try to provide a size when using this class. Use {@link SimpleTarget#SimpleTarget(int,
+ * int)} whenever possible with values that are <em>not</em> {@link Target#SIZE_ORIGINAL}. Using
+ * {@link Target#SIZE_ORIGINAL} is unsafe if you're loading large images or are running your
+ * application on older or memory constrained devices because it can cause Glide to load very large
+ * images into memory. In some cases those images may throw {@link OutOfMemoryError} and in others
+ * they may exceed the texture limit for the device, which will prevent them from being rendered.
+ * Providing a valid size allows Glide to downsample large images, which can avoid issues with
+ * texture size or memory limitations. You don't have to worry about providing a size in most cases
+ * if you use {@link ViewTarget} so prefer {@link ViewTarget} over this class whenver possible.
  *
  * @see <a href="http://bumptech.github.io/glide/doc/targets.html">Glide's Target docs page</a>
- *
  * @param <Z> The type of resource that this target will receive.
+ * @deprecated Use {@link CustomViewTarget} if loading the content into a view, the download API if
+ *     in the background
+ *     (http://bumptech.github.io/glide/doc/getting-started.html#background-threads), or a
+ *     {@link CustomTarget} for any specialized use-cases. Using BaseView is unsafe if the
+ *     user does not implement {@link #onLoadCleared}, resulting in recycled bitmaps being
+ *     referenced from the UI and hard to root-cause crashes.
  */
+@Deprecated
 public abstract class SimpleTarget<Z> extends BaseTarget<Z> {
   private final int width;
   private final int height;
diff --git a/library/src/main/java/com/bumptech/glide/request/target/Target.java b/library/src/main/java/com/bumptech/glide/request/target/Target.java
index 3aa385ce5..502234774 100644
--- a/library/src/main/java/com/bumptech/glide/request/target/Target.java
+++ b/library/src/main/java/com/bumptech/glide/request/target/Target.java
@@ -37,23 +37,19 @@
    * called. Loads can be paused and restarted due to lifecycle or connectivity events and each
    * restart may cause a call here.
    *
-   * <p>You must ensure that any current Drawable received in {@link #onResourceReady(Object,
-   * Transition)} is no longer displayed before redrawing the container (usually a View) or
-   * changing its visibility.
-   *
    * @param placeholder The placeholder drawable to optionally show, or null.
    */
   void onLoadStarted(@Nullable Drawable placeholder);
 
   /**
-   * A lifecycle callback that is called when a load fails.
+   * A <b>mandatory</b> lifecycle callback that is called when a load fails.
    *
-   * <p> Note - This may be called before {@link #onLoadStarted(android.graphics.drawable.Drawable)
-   * } if the model object is null.
+   * <p>Note - This may be called before {@link #onLoadStarted(android.graphics.drawable.Drawable) }
+   * if the model object is null.
    *
-   * <p>You must ensure that any current Drawable received in {@link #onResourceReady(Object,
-   * Transition)} is no longer displayed before redrawing the container (usually a View) or
-   * changing its visibility.
+   * <p>You <b>must</b> ensure that any current Drawable received in {@link #onResourceReady(Object,
+   * Transition)} is no longer used before redrawing the container (usually a View) or changing its
+   * visibility.
    *
    * @param errorDrawable The error drawable to optionally show, or null.
    */
@@ -67,11 +63,12 @@
   void onResourceReady(@NonNull R resource, @Nullable Transition<? super R> transition);
 
   /**
-   * A lifecycle callback that is called when a load is cancelled and its resources are freed.
+   * A <b>mandatory</b> lifecycle callback that is called when a load is cancelled and its resources
+   * are freed.
    *
-   * <p>You must ensure that any current Drawable received in {@link #onResourceReady(Object,
-   * Transition)} is no longer displayed before redrawing the container (usually a View) or
-   * changing its visibility.
+   * <p>You <b>must</b> ensure that any current Drawable received in {@link #onResourceReady(Object,
+   * Transition)} is no longer used before redrawing the container (usually a View) or changing its
+   * visibility.
    *
    * @param placeholder The placeholder drawable to optionally show, or null.
    */
diff --git a/library/src/main/java/com/bumptech/glide/request/target/ViewTarget.java b/library/src/main/java/com/bumptech/glide/request/target/ViewTarget.java
index 58f001b97..9bc6d8b2e 100644
--- a/library/src/main/java/com/bumptech/glide/request/target/ViewTarget.java
+++ b/library/src/main/java/com/bumptech/glide/request/target/ViewTarget.java
@@ -26,21 +26,25 @@
  * provides default implementations for most most methods and can determine the size of views using
  * a {@link android.view.ViewTreeObserver.OnDrawListener}.
  *
- * <p> To detect {@link View} reuse in {@link android.widget.ListView} or any {@link
+ * <p>To detect {@link View} reuse in {@link android.widget.ListView} or any {@link
  * android.view.ViewGroup} that reuses views, this class uses the {@link View#setTag(Object)} method
  * to store some metadata so that if a view is reused, any previous loads or resources from previous
- * loads can be cancelled or reused. </p>
+ * loads can be cancelled or reused.
  *
- * <p> Any calls to {@link View#setTag(Object)}} on a View given to this class will result in
+ * <p>Any calls to {@link View#setTag(Object)}} on a View given to this class will result in
  * excessive allocations and and/or {@link IllegalArgumentException}s. If you must call {@link
  * View#setTag(Object)} on a view, use {@link #setTagId(int)} to specify a custom tag for Glide to
  * use.
  *
- * <p> Subclasses must call super in {@link #onLoadCleared(Drawable)} </p>
+ * <p>Subclasses must call super in {@link #onLoadCleared(Drawable)}
  *
  * @param <T> The specific subclass of view wrapped by this target.
  * @param <Z> The resource type this target will receive.
+ * @deprecated Use {@link CustomViewTarget}. Using this class is unsafe without implementing {@link
+ *     #onLoadCleared} and results in recycled bitmaps being referenced from the UI and hard to
+ *     root-cause crashes.
  */
+@Deprecated
 public abstract class ViewTarget<T extends View, Z> extends BaseTarget<Z> {
   private static final String TAG = "ViewTarget";
   private static boolean isTagUsedAtLeastOnce;
@@ -126,7 +130,7 @@ public void onViewDetachedFromWindow(View v) {
   @SuppressWarnings("WeakerAccess")
   @Synthetic void resumeMyRequest() {
     Request request = getRequest();
-    if (request != null && request.isPaused()) {
+    if (request != null && request.isCleared()) {
       request.begin();
     }
   }
@@ -134,9 +138,11 @@ public void onViewDetachedFromWindow(View v) {
   @SuppressWarnings("WeakerAccess")
   @Synthetic void pauseMyRequest() {
     Request request = getRequest();
-    if (request != null && !request.isCancelled() && !request.isPaused()) {
+    // If the Request were cleared by the developer, it would be null here. The only way it's
+    // present is if the developer hasn't previously cleared this Target.
+    if (request != null) {
       isClearedByUs = true;
-      request.pause();
+      request.clear();
       isClearedByUs = false;
     }
   }
diff --git a/library/src/main/java/com/bumptech/glide/util/ByteBufferUtil.java b/library/src/main/java/com/bumptech/glide/util/ByteBufferUtil.java
index 8f0bee837..c1e11a194 100644
--- a/library/src/main/java/com/bumptech/glide/util/ByteBufferUtil.java
+++ b/library/src/main/java/com/bumptech/glide/util/ByteBufferUtil.java
@@ -111,6 +111,8 @@ public static void toStream(@NonNull ByteBuffer byteBuffer,
     }
   }
 
+  // We check the appropriate offsets, so this is a spurious warning.
+  @SuppressWarnings("ByteBufferBackingArray")
   @NonNull
   public static byte[] toBytes(@NonNull ByteBuffer byteBuffer) {
     final byte[] result;
diff --git a/library/src/main/java/com/bumptech/glide/util/MarkEnforcingInputStream.java b/library/src/main/java/com/bumptech/glide/util/MarkEnforcingInputStream.java
index bf8cee9a1..d2ce2841d 100644
--- a/library/src/main/java/com/bumptech/glide/util/MarkEnforcingInputStream.java
+++ b/library/src/main/java/com/bumptech/glide/util/MarkEnforcingInputStream.java
@@ -84,7 +84,7 @@ private long getBytesToRead(long targetByteCount) {
 
   private void updateAvailableBytesAfterRead(long bytesRead) {
     if (availableBytes != UNSET && bytesRead != END_OF_STREAM) {
-      // See http://errorprone.info/bugpattern/NarrowingCompoundAssignment.
+      // See https://errorprone.info/bugpattern/NarrowingCompoundAssignment.
       availableBytes = (int) (availableBytes - bytesRead);
     }
   }
diff --git a/library/src/main/res/values/ids.xml b/library/src/main/res/values/ids.xml
new file mode 100644
index 000000000..c8c7c74dd
--- /dev/null
+++ b/library/src/main/res/values/ids.xml
@@ -0,0 +1,4 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+  <item name="glide_custom_view_target_tag" type="id"/>
+</resources>
\ No newline at end of file
diff --git a/library/src/test/java/com/bumptech/glide/request/target/CustomViewTargetTest.java b/library/src/test/java/com/bumptech/glide/request/target/CustomViewTargetTest.java
new file mode 100644
index 000000000..899090631
--- /dev/null
+++ b/library/src/test/java/com/bumptech/glide/request/target/CustomViewTargetTest.java
@@ -0,0 +1,697 @@
+package com.bumptech.glide.request.target;
+
+import static android.view.ViewGroup.LayoutParams;
+import static org.junit.Assert.assertEquals;
+import static org.junit.Assert.assertFalse;
+import static org.junit.Assert.assertNull;
+import static org.mockito.Matchers.anyInt;
+import static org.mockito.Matchers.eq;
+import static org.mockito.Mockito.inOrder;
+import static org.mockito.Mockito.mock;
+import static org.mockito.Mockito.never;
+import static org.mockito.Mockito.times;
+import static org.mockito.Mockito.verify;
+import static org.mockito.Mockito.when;
+
+import android.app.Activity;
+import android.content.Context;
+import android.graphics.drawable.Drawable;
+import android.os.Build;
+import android.support.annotation.NonNull;
+import android.support.annotation.Nullable;
+import android.view.Display;
+import android.view.View;
+import android.view.View.OnAttachStateChangeListener;
+import android.view.ViewGroup;
+import android.view.ViewTreeObserver;
+import android.view.WindowManager;
+import android.widget.FrameLayout;
+import com.bumptech.glide.request.Request;
+import com.bumptech.glide.request.transition.Transition;
+import com.bumptech.glide.util.Preconditions;
+import com.google.common.truth.Truth;
+import java.util.concurrent.atomic.AtomicInteger;
+import org.junit.After;
+import org.junit.Before;
+import org.junit.Test;
+import org.junit.runner.RunWith;
+import org.mockito.InOrder;
+import org.mockito.Mock;
+import org.mockito.MockitoAnnotations;
+import org.robolectric.Robolectric;
+import org.robolectric.RobolectricTestRunner;
+import org.robolectric.RuntimeEnvironment;
+import org.robolectric.Shadows;
+import org.robolectric.android.controller.ActivityController;
+import org.robolectric.annotation.Config;
+import org.robolectric.util.ReflectionHelpers;
+
+/**
+ * Test for {@link CustomViewTarget}.
+ *
+ * TODO: This should really be in the tests subproject, but that causes errors because the R class
+ * referenced in {@link CustomViewTarget} can't be found. This should be fixable with some gradle
+ * changes, but I've so far failed to figure out the right set of commands.
+ */
+@RunWith(RobolectricTestRunner.class)
+@Config(sdk = 19, manifest = "build/intermediates/manifests/full/debug/AndroidManifest.xml")
+public class CustomViewTargetTest {
+  private ActivityController<Activity> activity;
+  private View view;
+  private ViewGroup parent;
+  private CustomViewTarget<View, Object> target;
+  @Mock private SizeReadyCallback cb;
+  @Mock private Request request;
+  private int sdkVersion;
+  private AttachStateTarget attachStateTarget;
+
+  @Before
+  public void setUp() {
+    sdkVersion = Build.VERSION.SDK_INT;
+    MockitoAnnotations.initMocks(this);
+    activity = Robolectric.buildActivity(Activity.class).create().start().postCreate(null).resume();
+    view = new View(activity.get());
+    target = new TestViewTarget(view);
+    attachStateTarget = new AttachStateTarget(view);
+
+    activity.get().setContentView(view);
+    parent = (ViewGroup) view.getParent();
+  }
+
+  @After
+  public void tearDown() {
+    setSdkVersionInt(sdkVersion);
+    CustomViewTarget.SizeDeterminer.maxDisplayLength = null;
+  }
+
+  @Test
+  public void testReturnsWrappedView() {
+    assertEquals(view, target.getView());
+  }
+
+  @Test
+  public void testReturnsNullFromGetRequestIfNoRequestSet() {
+    assertNull(target.getRequest());
+  }
+
+  @Test
+  public void testCanSetAndRetrieveRequest() {
+    target.setRequest(request);
+
+    assertEquals(request, target.getRequest());
+  }
+
+  @Test
+  public void testRetrievesRequestFromPreviousTargetForView() {
+    target.setRequest(request);
+
+    CustomViewTarget<View, Object> second = new TestViewTarget(view);
+
+    assertEquals(request, second.getRequest());
+  }
+
+  @Test
+  public void testSizeCallbackIsCalledSynchronouslyIfViewSizeSet() {
+    int dimens = 333;
+    activity.get().setContentView(view);
+    view.layout(0, 0, dimens, dimens);
+
+    target.getSize(cb);
+
+    verify(cb).onSizeReady(eq(dimens), eq(dimens));
+  }
+
+  @Test
+  public void testSizeCallbackIsCalledSynchronouslyIfLayoutParamsConcreteSizeSet() {
+    int dimens = 444;
+    LayoutParams layoutParams = new FrameLayout.LayoutParams(dimens, dimens);
+    view.setLayoutParams(layoutParams);
+    view.requestLayout();
+
+    target.getSize(cb);
+
+    verify(cb).onSizeReady(eq(dimens), eq(dimens));
+  }
+
+  @Test
+  public void getSize_withBothWrapContent_usesDisplayDimens() {
+    LayoutParams layoutParams =
+        new FrameLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
+    view.setLayoutParams(layoutParams);
+
+    setDisplayDimens(200, 300);
+
+    activity.visible();
+    view.layout(0, 0, 0, 0);
+
+    target.getSize(cb);
+
+    verify(cb).onSizeReady(300, 300);
+  }
+
+  @Test
+  public void getSize_withWrapContentWidthAndValidHeight_usesDisplayDimenAndValidHeight() {
+    int height = 100;
+    LayoutParams params = new FrameLayout.LayoutParams(LayoutParams.WRAP_CONTENT, height);
+    view.setLayoutParams(params);
+
+    setDisplayDimens(100, 200);
+
+    activity.visible();
+    view.setRight(0);
+
+    target.getSize(cb);
+
+    verify(cb).onSizeReady(200, height);
+  }
+
+  @Test
+  public void getSize_withWrapContentHeightAndValidWidth_returnsWidthAndDisplayDimen() {
+    int width = 100;
+    LayoutParams params = new FrameLayout.LayoutParams(width, LayoutParams.WRAP_CONTENT);
+    view.setLayoutParams(params);
+    setDisplayDimens(200, 100);
+    parent.getLayoutParams().height = 200;
+
+    activity.visible();
+
+    target.getSize(cb);
+
+    verify(cb).onSizeReady(width, 200);
+  }
+
+  @Test
+  public void getSize_withWrapContentWidthAndMatchParentHeight_usesDisplayDimenWidthAndHeight() {
+    LayoutParams params =
+        new FrameLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.MATCH_PARENT);
+    view.setLayoutParams(params);
+
+    setDisplayDimens(500, 600);
+
+    target.getSize(cb);
+
+    verify(cb, never()).onSizeReady(anyInt(), anyInt());
+
+    int height = 32;
+    parent.getLayoutParams().height = height;
+    activity.visible();
+
+    view.getViewTreeObserver().dispatchOnPreDraw();
+
+    verify(cb).onSizeReady(600, height);
+  }
+
+  @Test
+  public void getSize_withMatchParentWidthAndWrapContentHeight_usesWidthAndDisplayDimenHeight() {
+    LayoutParams params =
+        new FrameLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT);
+    view.setLayoutParams(params);
+
+    setDisplayDimens(300, 400);
+
+    target.getSize(cb);
+
+    verify(cb, never()).onSizeReady(anyInt(), anyInt());
+
+    int width = 32;
+    parent.getLayoutParams().width = 32;
+    activity.visible();
+    view.getViewTreeObserver().dispatchOnPreDraw();
+
+    verify(cb).onSizeReady(width, 400);
+  }
+
+  @Test
+  public void testMatchParentWidthAndHeight() {
+    LayoutParams params =
+        new FrameLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT);
+    view.setLayoutParams(params);
+
+    target.getSize(cb);
+
+    verify(cb, never()).onSizeReady(anyInt(), anyInt());
+
+    int width = 32;
+    int height = 45;
+    parent.getLayoutParams().width = width;
+    parent.getLayoutParams().height = height;
+    activity.visible();
+    view.getViewTreeObserver().dispatchOnPreDraw();
+
+    verify(cb).onSizeReady(eq(width), eq(height));
+  }
+
+  @Test
+  public void testSizeCallbackIsCalledPreDrawIfNoDimensAndNoLayoutParams() {
+    target.getSize(cb);
+
+    int width = 12;
+    int height = 32;
+    parent.getLayoutParams().width = width;
+    parent.getLayoutParams().height = height;
+    activity.visible();
+    view.getViewTreeObserver().dispatchOnPreDraw();
+
+    verify(cb).onSizeReady(eq(width), eq(height));
+  }
+
+  @Test
+  public void testSizeCallbacksAreCalledInOrderPreDraw() {
+    SizeReadyCallback[] cbs = new SizeReadyCallback[25];
+    for (int i = 0; i < cbs.length; i++) {
+      cbs[i] = mock(SizeReadyCallback.class);
+      target.getSize(cbs[i]);
+    }
+
+    int width = 100, height = 111;
+    parent.getLayoutParams().width = width;
+    parent.getLayoutParams().height = height;
+    activity.visible();
+    view.getViewTreeObserver().dispatchOnPreDraw();
+
+    InOrder order = inOrder((Object[]) cbs);
+    for (SizeReadyCallback cb : cbs) {
+      order.verify(cb).onSizeReady(eq(width), eq(height));
+    }
+  }
+
+  @Test
+  public void testDoesNotNotifyCallbackTwiceIfAddedTwice() {
+    target.getSize(cb);
+    target.getSize(cb);
+
+    view.setLayoutParams(new FrameLayout.LayoutParams(100, 100));
+    activity.visible();
+    view.getViewTreeObserver().dispatchOnPreDraw();
+
+    verify(cb, times(1)).onSizeReady(anyInt(), anyInt());
+  }
+
+  @Test
+  public void testDoesNotAddMultipleListenersIfMultipleCallbacksAreAdded() {
+    SizeReadyCallback cb1 = mock(SizeReadyCallback.class);
+    SizeReadyCallback cb2 = mock(SizeReadyCallback.class);
+    target.getSize(cb1);
+    target.getSize(cb2);
+    view.getViewTreeObserver().dispatchOnPreDraw();
+    // assertThat(shadowObserver.getPreDrawListeners()).hasSize(1);
+  }
+
+  @Test
+  public void testDoesAddSecondListenerIfFirstListenerIsRemovedBeforeSecondRequest() {
+    SizeReadyCallback cb1 = mock(SizeReadyCallback.class);
+    target.getSize(cb1);
+
+    view.setLayoutParams(new FrameLayout.LayoutParams(100, 100));
+    activity.visible();
+    view.getViewTreeObserver().dispatchOnPreDraw();
+
+    SizeReadyCallback cb2 = mock(SizeReadyCallback.class);
+    view.setLayoutParams(
+        new FrameLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));
+    target.getSize(cb2);
+
+    view.setLayoutParams(new FrameLayout.LayoutParams(100, 100));
+    view.getViewTreeObserver().dispatchOnPreDraw();
+
+    verify(cb2).onSizeReady(anyInt(), anyInt());
+  }
+
+  @Test
+  public void testSizeCallbackIsNotCalledPreDrawIfNoDimensSetOnPreDraw() {
+    target.getSize(cb);
+    view.getViewTreeObserver().dispatchOnPreDraw();
+
+    verify(cb, never()).onSizeReady(anyInt(), anyInt());
+
+    activity.visible();
+    verify(cb).onSizeReady(anyInt(), anyInt());
+  }
+
+  @Test
+  public void testSizeCallbackIsCalledPreDrawIfNoDimensAndNoLayoutParamsButLayoutParamsSetLater() {
+    target.getSize(cb);
+
+    int width = 689;
+    int height = 354;
+    LayoutParams layoutParams = new FrameLayout.LayoutParams(width, height);
+    view.setLayoutParams(layoutParams);
+    view.requestLayout();
+    view.getViewTreeObserver().dispatchOnPreDraw();
+
+    verify(cb).onSizeReady(eq(width), eq(height));
+  }
+
+  @Test
+  public void testCallbackIsNotCalledTwiceIfPreDrawFiresTwice() {
+    activity.visible();
+    target.getSize(cb);
+
+    LayoutParams layoutParams = new FrameLayout.LayoutParams(1234, 4123);
+    view.setLayoutParams(layoutParams);
+    view.requestLayout();
+    view.getViewTreeObserver().dispatchOnPreDraw();
+    view.getViewTreeObserver().dispatchOnPreDraw();
+
+    verify(cb, times(1)).onSizeReady(anyInt(), anyInt());
+  }
+
+  @Test
+  public void testCallbacksFromMultipleRequestsAreNotifiedOnPreDraw() {
+    SizeReadyCallback firstCb = mock(SizeReadyCallback.class);
+    SizeReadyCallback secondCb = mock(SizeReadyCallback.class);
+    target.getSize(firstCb);
+    target.getSize(secondCb);
+
+    int width = 68;
+    int height = 875;
+    LayoutParams layoutParams = new FrameLayout.LayoutParams(width, height);
+    view.setLayoutParams(layoutParams);
+    activity.visible();
+    view.getViewTreeObserver().dispatchOnPreDraw();
+    view.getViewTreeObserver().dispatchOnPreDraw();
+
+    verify(firstCb, times(1)).onSizeReady(eq(width), eq(height));
+    verify(secondCb, times(1)).onSizeReady(eq(width), eq(height));
+  }
+
+  @Test
+  public void testDoesNotThrowOnPreDrawIfViewTreeObserverIsDead() {
+    target.getSize(cb);
+
+    int width = 1;
+    int height = 2;
+    LayoutParams layoutParams = new FrameLayout.LayoutParams(width, height);
+    view.setLayoutParams(layoutParams);
+    ViewTreeObserver vto = view.getViewTreeObserver();
+    view.requestLayout();
+    activity.visible();
+    assertFalse(vto.isAlive());
+    vto.dispatchOnPreDraw();
+
+    verify(cb).onSizeReady(eq(width), eq(height));
+  }
+
+  @Test(expected = NullPointerException.class)
+  public void testThrowsIfGivenNullView() {
+    new TestViewTarget(null);
+  }
+
+  @Test
+  public void testDecreasesDimensionsByViewPadding() {
+    activity.visible();
+    view.setLayoutParams(new FrameLayout.LayoutParams(100, 100));
+    view.setPadding(25, 25, 25, 25);
+    view.requestLayout();
+
+    target.getSize(cb);
+
+    verify(cb).onSizeReady(50, 50);
+  }
+
+  @Test
+  public void getSize_withValidWidthAndHeight_notLaidOut_notLayoutRequested_callsSizeReady() {
+    view.setRight(100);
+    view.setBottom(100);
+    target.getSize(cb);
+
+    verify(cb).onSizeReady(100, 100);
+  }
+
+  @Test
+  public void getSize_withLayoutParams_notLaidOut_doesCallSizeReady() {
+    view.setLayoutParams(new FrameLayout.LayoutParams(10, 10));
+    view.setRight(100);
+    view.setBottom(100);
+    target.getSize(cb);
+
+    verify(cb, times(1)).onSizeReady(anyInt(), anyInt());
+  }
+
+  @Test
+  public void getSize_withLayoutParams_emptyParams_notLaidOutOrLayoutRequested_callsSizeReady() {
+    view.setLayoutParams(new FrameLayout.LayoutParams(0, 0));
+    view.setRight(100);
+    view.setBottom(100);
+    target.getSize(cb);
+
+    verify(cb).onSizeReady(100, 100);
+  }
+
+  @Test
+  public void getSize_withValidWidthAndHeight_preV19_layoutRequested_callsSizeReady() {
+    setSdkVersionInt(18);
+    view.setLayoutParams(new FrameLayout.LayoutParams(100, 100));
+    view.requestLayout();
+
+    target.getSize(cb);
+
+    verify(cb).onSizeReady(100, 100);
+  }
+
+  @Test
+  public void getSize_withWidthAndHeightEqualToPadding_doesNotCallSizeReady() {
+    view.setLayoutParams(new FrameLayout.LayoutParams(100, 100));
+    view.requestLayout();
+    view.setPadding(50, 50, 50, 50);
+
+    target.getSize(cb);
+
+    verify(cb, never()).onSizeReady(anyInt(), anyInt());
+  }
+
+  private void setDisplayDimens(Integer width, Integer height) {
+    WindowManager windowManager =
+        (WindowManager) RuntimeEnvironment.application.getSystemService(Context.WINDOW_SERVICE);
+    Display display = Preconditions.checkNotNull(windowManager).getDefaultDisplay();
+    if (width != null) {
+      Shadows.shadowOf(display).setWidth(width);
+    }
+
+    if (height != null) {
+      Shadows.shadowOf(display).setHeight(height);
+    }
+  }
+
+  @Test
+  public void clearOnDetach_onDetach_withNullRequest_doesNothing() {
+    attachStateTarget.clearOnDetach();
+    attachStateTarget.setRequest(null);
+    activity.visible();
+  }
+
+  // This behavior isn't clearly correct, but it doesn't seem like there's any harm to clear an
+  // already cleared request, so we might as well avoid the extra check/complexity in the code.
+  @Test
+  public void clearOnDetach_onDetach_withClearedRequest_clearsRequest() {
+    activity.visible();
+    attachStateTarget.clearOnDetach();
+    attachStateTarget.setRequest(request);
+    when(request.isCleared()).thenReturn(true);
+    parent.removeView(view);
+
+    verify(request).clear();
+  }
+
+  @Test
+  public void clearOnDetach_onDetach_withRunningRequest_pausesRequestOnce() {
+    activity.visible();
+    attachStateTarget.clearOnDetach();
+    attachStateTarget.setRequest(request);
+    parent.removeView(view);
+
+    verify(request).clear();
+  }
+
+  @Test
+  public void clearOnDetach_onDetach_afterOnLoadCleared_removesListener() {
+    activity.visible();
+    attachStateTarget.clearOnDetach();
+    attachStateTarget.onLoadCleared(/*placeholder=*/ null);
+    attachStateTarget.setRequest(request);
+    parent.removeView(view);
+
+    verify(request, never()).clear();
+  }
+
+  @Test
+  public void clearOnDetach_moreThanOnce_registersObserverOnce() {
+    activity.visible();
+    attachStateTarget.setRequest(request);
+    attachStateTarget
+        .clearOnDetach()
+        .clearOnDetach();
+    parent.removeView(view);
+
+    verify(request).clear();
+  }
+
+  @Test
+  public void clearOnDetach_onDetach_afterMultipleClearOnDetaches_removesListener() {
+    activity.visible();
+    attachStateTarget
+        .clearOnDetach()
+        .clearOnDetach()
+        .clearOnDetach();
+    attachStateTarget.onLoadCleared(/*placeholder=*/ null);
+    attachStateTarget.setRequest(request);
+    parent.removeView(view);
+
+    verify(request, never()).clear();
+  }
+
+  @Test
+  public void clearOnDetach_onDetach_afterLoadCleared_clearsRequest() {
+    activity.visible();
+    attachStateTarget.clearOnDetach();
+    attachStateTarget.setRequest(request);
+    when(request.isCleared()).thenReturn(true);
+    parent.removeView(view);
+
+    verify(request).clear();
+  }
+
+  @Test
+  public void clearOnDetach_onAttach_withNullRequest_doesNothing() {
+    attachStateTarget.clearOnDetach();
+    attachStateTarget.setRequest(null);
+    activity.visible();
+  }
+
+  @Test
+  public void clearOnDetach_onAttach_withRunningRequest_doesNotBeginRequest() {
+    attachStateTarget.clearOnDetach();
+    attachStateTarget.setRequest(request);
+    when(request.isCleared()).thenReturn(false);
+    activity.visible();
+
+    verify(request, never()).begin();
+  }
+
+  @Test
+  public void clearOnDetach_onAttach_withClearedRequest_beginsRequest() {
+    attachStateTarget.clearOnDetach();
+    attachStateTarget.setRequest(request);
+    when(request.isCleared()).thenReturn(true);
+    activity.visible();
+
+    verify(request).begin();
+  }
+
+  @Test
+  public void clearOnDetach_afterLoadClearedAndRestarted_onAttach_beingsREquest() {
+    attachStateTarget.clearOnDetach();
+    attachStateTarget.setRequest(request);
+    when(request.isCleared()).thenReturn(true);
+    attachStateTarget.onLoadCleared(/*placeholder=*/ null);
+    attachStateTarget.onLoadStarted(/*placeholder=*/ null);
+    activity.visible();
+
+    verify(request).begin();
+  }
+
+  @Test
+  public void clearOnDetach_onAttach_afterLoadCleared_doesNotBeingRequest() {
+    attachStateTarget.clearOnDetach();
+    attachStateTarget.setRequest(request);
+    when(request.isCleared()).thenReturn(true);
+    attachStateTarget.onLoadCleared(/*placeholder=*/ null);
+    activity.visible();
+
+    verify(request, never()).begin();
+  }
+
+  @Test
+  public void onLoadStarted_withoutClearOnDetach_doesNotAddListener() {
+    activity.visible();
+    target.setRequest(request);
+    attachStateTarget.onLoadStarted(/*placeholder=*/ null);
+    parent.removeView(view);
+
+    verify(request, never()).clear();
+  }
+
+  @Test
+  public void onLoadCleared_withoutClearOnDetach_doesNotRemoveListeners() {
+    final AtomicInteger count = new AtomicInteger();
+    OnAttachStateChangeListener expected =
+        new OnAttachStateChangeListener() {
+          @Override
+          public void onViewAttachedToWindow(View v) {
+            count.incrementAndGet();
+          }
+
+          @Override
+          public void onViewDetachedFromWindow(View v) {
+            // Intentionally Empty.
+          }
+        };
+    view.addOnAttachStateChangeListener(expected);
+
+    attachStateTarget.onLoadCleared(/*placeholder=*/ null);
+
+    activity.visible();
+
+    Truth.assertThat(count.get()).isEqualTo(1);
+  }
+
+  private static final class AttachStateTarget extends CustomViewTarget<View, Object> {
+    AttachStateTarget(View view) {
+      super(view);
+    }
+
+    @Override
+    protected void onResourceCleared(@Nullable Drawable placeholder) {
+      // Intentionally Empty.
+    }
+
+    @Override
+    public void onLoadFailed(@Nullable Drawable errorDrawable) {
+      // Intentionally Empty.
+    }
+
+    @Override
+    public void onResourceReady(
+        @NonNull Object resource, @Nullable Transition<? super Object> transition) {
+      // Intentionally Empty.
+    }
+  }
+
+  private static final class TestViewTarget extends CustomViewTarget<View, Object> {
+
+    TestViewTarget(View view) {
+      super(view);
+    }
+
+    @Override
+    protected void onResourceCleared(@Nullable Drawable placeholder) {
+      // Intentionally Empty.
+    }
+
+    // We're intentionally avoiding the super call.
+    @SuppressWarnings("MissingSuperCall")
+    @Override
+    public void onResourceReady(
+        @NonNull Object resource, @Nullable Transition<? super Object> transition) {
+      // Avoid calling super.
+    }
+
+    // We're intentionally avoiding the super call.
+    @SuppressWarnings("MissingSuperCall")
+    @Override
+    public void onResourceLoading(@Nullable Drawable placeholder) {
+      // Avoid calling super.
+    }
+
+    // We're intentionally avoiding the super call.
+    @SuppressWarnings("MissingSuperCall")
+    @Override
+    public void onLoadFailed(@Nullable Drawable errorDrawable) {
+      // Avoid calling super.
+    }
+  }
+
+  private static void setSdkVersionInt(int version) {
+    ReflectionHelpers.setStaticField(Build.VERSION.class, "SDK_INT", version);
+  }
+}
diff --git a/library/test/src/test/java/com/bumptech/glide/GlideContextTest.java b/library/test/src/test/java/com/bumptech/glide/GlideContextTest.java
index 2281d5706..34dc8de84 100644
--- a/library/test/src/test/java/com/bumptech/glide/GlideContextTest.java
+++ b/library/test/src/test/java/com/bumptech/glide/GlideContextTest.java
@@ -12,8 +12,10 @@
 import com.bumptech.glide.load.engine.bitmap_recycle.LruArrayPool;
 import com.bumptech.glide.load.resource.drawable.DrawableTransitionOptions;
 import com.bumptech.glide.load.resource.gif.GifDrawable;
+import com.bumptech.glide.request.RequestListener;
 import com.bumptech.glide.request.RequestOptions;
 import com.bumptech.glide.request.target.ImageViewTargetFactory;
+import java.util.Collections;
 import java.util.HashMap;
 import java.util.Map;
 import org.junit.Before;
@@ -41,6 +43,7 @@ public void setUp() {
         new ImageViewTargetFactory(),
         new RequestOptions(),
         transitionOptions,
+        /*defaultRequestListeners=*/ Collections.<RequestListener<Object>>emptyList(),
         mock(Engine.class),
         Log.DEBUG);
   }
diff --git a/library/test/src/test/java/com/bumptech/glide/GlideTest.java b/library/test/src/test/java/com/bumptech/glide/GlideTest.java
index 68ee3870f..7efa6b523 100644
--- a/library/test/src/test/java/com/bumptech/glide/GlideTest.java
+++ b/library/test/src/test/java/com/bumptech/glide/GlideTest.java
@@ -646,7 +646,9 @@ public void testLoadDrawable() {
         .load(drawable)
         .into(target);
 
-    verify(target).onResourceReady(eq(drawable), any(Transition.class));
+    ArgumentCaptor<Drawable> drawableCaptor = ArgumentCaptor.forClass(Drawable.class);
+    verify(target).onResourceReady(drawableCaptor.capture(), any(Transition.class));
+    assertThat(((ColorDrawable) drawableCaptor.getValue()).getColor()).isEqualTo(Color.RED);
   }
 
   @Test
@@ -698,7 +700,7 @@ public void onResourceReady(@NonNull Drawable resource,
     requestManager.clear(target);
 
     assertThat(target.getRequest()).isNull();
-    assertThat(request.isCancelled()).isTrue();
+    assertThat(request.isCleared()).isTrue();
   }
 
   @Test
diff --git a/library/test/src/test/java/com/bumptech/glide/RegistryTest.java b/library/test/src/test/java/com/bumptech/glide/RegistryTest.java
new file mode 100644
index 000000000..defe8463b
--- /dev/null
+++ b/library/test/src/test/java/com/bumptech/glide/RegistryTest.java
@@ -0,0 +1,162 @@
+package com.bumptech.glide;
+
+import static com.google.common.truth.Truth.assertThat;
+
+import com.bumptech.glide.load.ResourceDecoder;
+import com.bumptech.glide.load.model.ModelLoaderFactory;
+import com.bumptech.glide.load.resource.transcode.ResourceTranscoder;
+import java.util.List;
+import org.junit.Before;
+import org.junit.Test;
+import org.junit.runner.RunWith;
+import org.mockito.Mock;
+import org.mockito.MockitoAnnotations;
+import org.robolectric.RobolectricTestRunner;
+import org.robolectric.annotation.Config;
+
+@RunWith(RobolectricTestRunner.class)
+@Config(manifest = Config.NONE)
+public class RegistryTest {
+
+  @Mock private ModelLoaderFactory<Model, Data> modelLoaderFactory;
+  @Mock private ResourceDecoder<Data, ResourceOne> resourceOneDecoder;
+  @Mock private ResourceDecoder<Data, ResourceTwo> resourceTwoDecoder;
+  @Mock private ResourceTranscoder<ResourceOne, TranscodeOne> resourceOneTranscodeOneTranscoder;
+  private Registry registry;
+
+  @Before
+  public void setUp() {
+    MockitoAnnotations.initMocks(this);
+    registry = new Registry();
+  }
+
+  @Test
+  public void getRegisteredResourceClasses_withNoResources_isEmpty() {
+    assertThat(getRegisteredResourceClasses()).isEmpty();
+  }
+
+  @Test
+  public void getRegisteredResourceClasses_withOneDataClass_noResourceClasses_isEmpty() {
+    registry.append(Model.class, Data.class, modelLoaderFactory);
+    assertThat(getRegisteredResourceClasses()).isEmpty();
+  }
+
+  @Test
+  public void getRegisteredResourceClasses_withOneDataAndResourceClass_noTranscodeClass_isEmpty() {
+    registry.append(Model.class, Data.class, modelLoaderFactory);
+    registry.append(Data.class, ResourceOne.class, resourceOneDecoder);
+    assertThat(getRegisteredResourceClasses()).isEmpty();
+  }
+
+  @Test
+  public void getRegisteredResourceClasses_withOneDataAndResourceAndTranscodeClass_isNotEmpty() {
+    registry.append(Model.class, Data.class, modelLoaderFactory);
+    registry.append(Data.class, ResourceOne.class, resourceOneDecoder);
+    registry.register(ResourceOne.class, TranscodeOne.class, resourceOneTranscodeOneTranscoder);
+    assertThat(getRegisteredResourceClasses()).containsExactly(ResourceOne.class);
+  }
+
+  @Test
+  public void getRegisteredResourceClasses_withMissingTranscodeForOneOfTwoResources_isNotEmpty() {
+    // The loop allows us to make sure that the order in which we call getRegisteredResourceClasses
+    // doesn't affect the output.
+    for (int i = 0; i < 2; i++) {
+      Registry registry = new Registry();
+      registry.append(Model.class, Data.class, modelLoaderFactory);
+
+      registry.append(Data.class, ResourceOne.class, resourceOneDecoder);
+      registry.append(Data.class, ResourceTwo.class, resourceTwoDecoder);
+
+      registry.register(ResourceOne.class, TranscodeOne.class, resourceOneTranscodeOneTranscoder);
+
+      List<Class<?>> resourceOneClasses;
+      List<Class<?>> resourceTwoClasses;
+      if (i == 0) {
+        resourceOneClasses =
+            registry.getRegisteredResourceClasses(
+                Model.class, ResourceOne.class, TranscodeOne.class);
+        resourceTwoClasses =
+            registry.getRegisteredResourceClasses(
+                Model.class, ResourceTwo.class, TranscodeOne.class);
+      } else {
+        resourceTwoClasses =
+            registry.getRegisteredResourceClasses(
+                Model.class, ResourceTwo.class, TranscodeOne.class);
+        resourceOneClasses =
+            registry.getRegisteredResourceClasses(
+                Model.class, ResourceOne.class, TranscodeOne.class);
+      }
+      // ResourceOne has a corresponding transcode class, so we should return it.
+      assertThat(resourceOneClasses).containsExactly(ResourceOne.class);
+      // ResourceTwo has no matching transcode class, so we shouldn't return it.
+      assertThat(resourceTwoClasses).isEmpty();
+    }
+  }
+
+  @Test
+  public void getRegisteredResourceClasses_withOneOfTwoMissingTranscoders_isNotEmpty() {
+    // The loop allows us to make sure that the order in which we call getRegisteredResourceClasses
+    // doesn't affect the output.
+    for (int i = 0; i < 2; i++) {
+      Registry registry = new Registry();
+      registry.append(Model.class, Data.class, modelLoaderFactory);
+
+      registry.append(Data.class, ResourceOne.class, resourceOneDecoder);
+
+      registry.register(ResourceOne.class, TranscodeOne.class, resourceOneTranscodeOneTranscoder);
+
+      List<Class<?>> transcodeOneClasses;
+      List<Class<?>> transcodeTwoClasses;
+      if (i == 0) {
+        transcodeOneClasses =
+            registry.getRegisteredResourceClasses(
+                Model.class, ResourceOne.class, TranscodeOne.class);
+        transcodeTwoClasses =
+            registry.getRegisteredResourceClasses(
+                Model.class, ResourceOne.class, TranscodeTwo.class);
+      } else {
+        transcodeTwoClasses =
+            registry.getRegisteredResourceClasses(
+                Model.class, ResourceOne.class, TranscodeTwo.class);
+        transcodeOneClasses =
+            registry.getRegisteredResourceClasses(
+                Model.class, ResourceOne.class, TranscodeOne.class);
+      }
+      // TranscodeOne has a corresponding ResourceTranscoder, so we expect to see the resource
+      // class.
+      assertThat(transcodeOneClasses).containsExactly(ResourceOne.class);
+      // TranscodeTwo has no corresponding ResourceTranscoder class, so we shouldn't return the
+      // resource class.
+      assertThat(transcodeTwoClasses).isEmpty();
+    }
+  }
+
+  private List<Class<?>> getRegisteredResourceClasses() {
+    return registry.getRegisteredResourceClasses(
+        Model.class, ResourceOne.class, TranscodeOne.class);
+  }
+
+  private static final class Model {
+    // Empty class to represent model classes for readability.
+  }
+
+  private static final class Data {
+    // Empty class to represent data classes for readability.
+  }
+
+  private static final class ResourceOne {
+    // Empty class to represent resource classes for readability.
+  }
+
+  private static final class ResourceTwo {
+    // Empty class to represent another resource class for readability.
+  }
+
+  private static final class TranscodeOne {
+    // Empty class to represent transcode classes for readability.
+  }
+
+  private static final class TranscodeTwo {
+    // Empty class to represent transcode classes for readability.
+  }
+}
diff --git a/library/test/src/test/java/com/bumptech/glide/RequestBuilderTest.java b/library/test/src/test/java/com/bumptech/glide/RequestBuilderTest.java
index 10a6bc568..140bf5b92 100644
--- a/library/test/src/test/java/com/bumptech/glide/RequestBuilderTest.java
+++ b/library/test/src/test/java/com/bumptech/glide/RequestBuilderTest.java
@@ -2,16 +2,22 @@
 
 import static com.bumptech.glide.tests.BackgroundUtil.testInBackground;
 import static org.mockito.Matchers.any;
+import static org.mockito.Matchers.anyBoolean;
 import static org.mockito.Matchers.eq;
 import static org.mockito.Matchers.isA;
 import static org.mockito.Mockito.mock;
+import static org.mockito.Mockito.never;
 import static org.mockito.Mockito.verify;
 import static org.mockito.Mockito.when;
 
 import android.app.Application;
 import android.widget.ImageView;
+import com.bumptech.glide.load.DataSource;
+import com.bumptech.glide.load.resource.SimpleResource;
 import com.bumptech.glide.request.Request;
+import com.bumptech.glide.request.RequestListener;
 import com.bumptech.glide.request.RequestOptions;
+import com.bumptech.glide.request.SingleRequest;
 import com.bumptech.glide.request.target.Target;
 import com.bumptech.glide.request.target.ViewTarget;
 import com.bumptech.glide.tests.BackgroundUtil.BackgroundTester;
@@ -20,6 +26,8 @@
 import org.junit.Rule;
 import org.junit.Test;
 import org.junit.runner.RunWith;
+import org.mockito.ArgumentCaptor;
+import org.mockito.Captor;
 import org.mockito.Mock;
 import org.mockito.MockitoAnnotations;
 import org.robolectric.RobolectricTestRunner;
@@ -32,8 +40,12 @@
 public class RequestBuilderTest {
   @Rule public TearDownGlide tearDownGlide = new TearDownGlide();
 
+  @Mock private RequestListener<Object> listener1;
+  @Mock private RequestListener<Object> listener2;
+  @Mock private Target<Object> target;
   @Mock private GlideContext glideContext;
   @Mock private RequestManager requestManager;
+  @Captor private ArgumentCaptor<SingleRequest<Object>> requestCaptor;
   private Glide glide;
   private Application context;
 
@@ -57,12 +69,11 @@ public void testThrowsWhenTransitionsOptionsIsNull() {
 
   @Test
   public void testDoesNotThrowWithNullModelWhenRequestIsBuilt() {
-    getNullModelRequest().into(mock(Target.class));
+    getNullModelRequest().into(target);
   }
 
   @Test
   public void testAddsNewRequestToRequestTracker() {
-    Target<Object> target = mock(Target.class);
     getNullModelRequest().into(target);
 
     verify(requestManager).track(eq(target), isA(Request.class));
@@ -71,7 +82,6 @@ public void testAddsNewRequestToRequestTracker() {
   @Test
   public void testRemovesPreviousRequestFromRequestTracker() {
     Request previous = mock(Request.class);
-    Target<Object> target = mock(Target.class);
     when(target.getRequest()).thenReturn(previous);
 
     getNullModelRequest().into(target);
@@ -112,6 +122,35 @@ public void runTest() {
     });
   }
 
+  @Test
+  public void testMultipleRequestListeners() {
+    getNullModelRequest().addListener(listener1).addListener(listener2).into(target);
+    verify(requestManager).track(any(Target.class), requestCaptor.capture());
+    requestCaptor.getValue().onResourceReady(new SimpleResource<>(new Object()), DataSource.LOCAL);
+
+    verify(listener1)
+        .onResourceReady(
+            any(), any(), isA(Target.class), isA(DataSource.class), anyBoolean());
+    verify(listener2)
+        .onResourceReady(
+            any(), any(), isA(Target.class), isA(DataSource.class), anyBoolean());
+  }
+
+  @Test
+  public void testListenerApiOverridesListeners() {
+    getNullModelRequest().addListener(listener1).listener(listener2).into(target);
+    verify(requestManager).track(any(Target.class), requestCaptor.capture());
+    requestCaptor.getValue().onResourceReady(new SimpleResource<>(new Object()), DataSource.LOCAL);
+
+    // The #listener API removes any previous listeners, so the first listener should not be called.
+    verify(listener1, never())
+        .onResourceReady(
+            any(), any(), isA(Target.class), isA(DataSource.class), anyBoolean());
+    verify(listener2)
+        .onResourceReady(
+            any(), any(), isA(Target.class), isA(DataSource.class), anyBoolean());
+  }
+
   private RequestBuilder<Object> getNullModelRequest() {
     when(glideContext.buildImageViewTarget(isA(ImageView.class), isA(Class.class)))
         .thenReturn(mock(ViewTarget.class));
diff --git a/library/test/src/test/java/com/bumptech/glide/load/engine/EngineJobTest.java b/library/test/src/test/java/com/bumptech/glide/load/engine/EngineJobTest.java
index a3156e2d7..7734cd208 100644
--- a/library/test/src/test/java/com/bumptech/glide/load/engine/EngineJobTest.java
+++ b/library/test/src/test/java/com/bumptech/glide/load/engine/EngineJobTest.java
@@ -17,6 +17,7 @@
 import static org.mockito.Mockito.when;
 
 import android.os.Handler;
+import android.os.Looper;
 import android.support.v4.util.Pools;
 import com.bumptech.glide.load.DataSource;
 import com.bumptech.glide.load.Key;
@@ -229,14 +230,14 @@ public void testDoesNotNotifyCancelledIfReceivedException() {
 
   @Test
   public void testReleasesResourceIfCancelledOnReady() {
-    ShadowLooper shadowLooper = Shadows.shadowOf(harness.mainHandler.getLooper());
-    shadowLooper.pause();
+    Looper looper = harness.mainHandler.getLooper();
+    Shadows.shadowOf(looper).pause();
 
     EngineJob<Object> job = harness.getJob();
     job.start(harness.decodeJob);
     job.onResourceReady(harness.resource, harness.dataSource);
     job.cancel();
-    shadowLooper.runOneTask();
+    Shadows.shadowOf(looper).runOneTask();
 
     verify(harness.resource).recycle();
   }
diff --git a/library/test/src/test/java/com/bumptech/glide/load/engine/EngineKeyTest.java b/library/test/src/test/java/com/bumptech/glide/load/engine/EngineKeyTest.java
index f18a30289..b6a469d8b 100644
--- a/library/test/src/test/java/com/bumptech/glide/load/engine/EngineKeyTest.java
+++ b/library/test/src/test/java/com/bumptech/glide/load/engine/EngineKeyTest.java
@@ -1,5 +1,7 @@
 package com.bumptech.glide.load.engine;
 
+import static org.junit.Assert.assertThrows;
+
 import android.support.annotation.NonNull;
 import com.bumptech.glide.load.Key;
 import com.bumptech.glide.load.Option;
@@ -12,9 +14,8 @@
 import java.security.NoSuchAlgorithmException;
 import java.util.Collections;
 import org.junit.Before;
-import org.junit.Rule;
 import org.junit.Test;
-import org.junit.rules.ExpectedException;
+import org.junit.function.ThrowingRunnable;
 import org.junit.runner.RunWith;
 import org.mockito.Mock;
 import org.mockito.MockitoAnnotations;
@@ -24,7 +25,6 @@
 @RunWith(RobolectricTestRunner.class)
 @Config(manifest = Config.NONE, sdk = 18)
 public class EngineKeyTest {
-  @Rule public final ExpectedException expectedException = ExpectedException.none();
   @Mock private Transformation<Object> transformation;
 
   @Before
@@ -35,7 +35,7 @@ public void setUp() {
   @Test
   public void updateDiskCacheKey_throwsException() throws NoSuchAlgorithmException {
     // If this test fails, update testEqualsAndHashcode to use KeyTester including regression tests.
-    EngineKey key = new EngineKey(
+    final EngineKey key = new EngineKey(
         "id",
         new ObjectKey("signature"),
         100,
@@ -44,8 +44,14 @@ public void updateDiskCacheKey_throwsException() throws NoSuchAlgorithmException
         Object.class,
         Object.class,
         new Options());
-    expectedException.expect(UnsupportedOperationException.class);
-    key.updateDiskCacheKey(MessageDigest.getInstance("SHA-1"));
+    assertThrows(
+        UnsupportedOperationException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() throws NoSuchAlgorithmException {
+            key.updateDiskCacheKey(MessageDigest.getInstance("SHA-1"));
+          }
+        });
   }
 
   @Test
diff --git a/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/AttributeStrategyTest.java b/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/AttributeStrategyTest.java
index 234b0f0e3..fe3f959f1 100644
--- a/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/AttributeStrategyTest.java
+++ b/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/AttributeStrategyTest.java
@@ -9,7 +9,6 @@
 import org.junit.runner.RunWith;
 import org.robolectric.RobolectricTestRunner;
 import org.robolectric.annotation.Config;
-import org.robolectric.shadows.ShadowBitmap;
 
 @RunWith(RobolectricTestRunner.class)
 @Config(manifest = Config.NONE, sdk = 18)
@@ -29,7 +28,7 @@ public void testIGetNullIfNoMatchingBitmapExists() {
 
   @Test
   public void testICanAddAndGetABitmapOfTheSameSizeAndDimensions() {
-    Bitmap bitmap = ShadowBitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);
+    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);
     strategy.put(bitmap);
     assertEquals(bitmap,
         strategy.get(bitmap.getWidth(), bitmap.getHeight(), Bitmap.Config.ARGB_8888));
@@ -37,44 +36,44 @@ public void testICanAddAndGetABitmapOfTheSameSizeAndDimensions() {
 
   @Test
   public void testICantGetABitmapOfTheSameDimensionsButDifferentConfigs() {
-    Bitmap bitmap = ShadowBitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);
+    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);
     strategy.put(bitmap);
     assertNull(strategy.get(100, 100, Bitmap.Config.RGB_565));
   }
 
   @Test
   public void testICantGetABitmapOfTheSameDimensionsAndSizeButDifferentConfigs() {
-    Bitmap bitmap = ShadowBitmap.createBitmap(100, 100, Bitmap.Config.ARGB_4444);
+    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_4444);
     strategy.put(bitmap);
     assertNull(strategy.get(100, 100, Bitmap.Config.RGB_565));
   }
 
   @Test
   public void testICantGetABitmapOfDifferentWidths() {
-    Bitmap bitmap = ShadowBitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);
+    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);
     strategy.put(bitmap);
     assertNull(strategy.get(99, 100, Bitmap.Config.ARGB_8888));
   }
 
   @Test
   public void testICantGetABitmapOfDifferentHeights() {
-    Bitmap bitmap = ShadowBitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);
+    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);
     strategy.put(bitmap);
     assertNull(strategy.get(100, 99, Bitmap.Config.ARGB_8888));
   }
 
   @Test
   public void testICantGetABitmapOfDifferentDimensionsButTheSameSize() {
-    Bitmap bitmap = ShadowBitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);
+    Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);
     strategy.put(bitmap);
     assertNull(strategy.get(50, 200, Bitmap.Config.ARGB_8888));
   }
 
   @Test
   public void testMultipleBitmapsOfDifferentAttributesCanBeAddedAtOnce() {
-    Bitmap first = ShadowBitmap.createBitmap(100, 100, Bitmap.Config.RGB_565);
-    Bitmap second = ShadowBitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);
-    Bitmap third = ShadowBitmap.createBitmap(120, 120, Bitmap.Config.RGB_565);
+    Bitmap first = Bitmap.createBitmap(100, 100, Bitmap.Config.RGB_565);
+    Bitmap second = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);
+    Bitmap third = Bitmap.createBitmap(120, 120, Bitmap.Config.RGB_565);
 
     strategy.put(first);
     strategy.put(second);
@@ -87,9 +86,9 @@ public void testMultipleBitmapsOfDifferentAttributesCanBeAddedAtOnce() {
 
   @Test
   public void testLeastRecentlyUsedAttributeSetIsRemovedFirst() {
-    final Bitmap leastRecentlyUsed = ShadowBitmap.createBitmap(100, 100, Bitmap.Config.ALPHA_8);
-    final Bitmap other = ShadowBitmap.createBitmap(1000, 1000, Bitmap.Config.RGB_565);
-    final Bitmap mostRecentlyUsed = ShadowBitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);
+    final Bitmap leastRecentlyUsed = Bitmap.createBitmap(100, 100, Bitmap.Config.ALPHA_8);
+    final Bitmap other = Bitmap.createBitmap(1000, 1000, Bitmap.Config.RGB_565);
+    final Bitmap mostRecentlyUsed = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);
 
     strategy.get(100, 100, Bitmap.Config.ALPHA_8);
     strategy.get(1000, 1000, Bitmap.Config.RGB_565);
diff --git a/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPoolTest.java b/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPoolTest.java
index e199738c9..ab73d11e3 100644
--- a/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPoolTest.java
+++ b/library/test/src/test/java/com/bumptech/glide/load/engine/bitmap_recycle/LruBitmapPoolTest.java
@@ -25,7 +25,6 @@
 import org.robolectric.RobolectricTestRunner;
 import org.robolectric.Shadows;
 import org.robolectric.annotation.Config;
-import org.robolectric.shadows.ShadowBitmap;
 
 @RunWith(RobolectricTestRunner.class)
 @Config(manifest = Config.NONE, sdk = 18)
@@ -192,7 +191,7 @@ public void testCanResetSizeDynamically() {
 
     pool.setSizeMultiplier(1);
 
-    assertEquals(Math.round(MAX_SIZE * sizeMultiplier) - MAX_SIZE, strategy.numRemoves);
+    assertEquals(MAX_SIZE * sizeMultiplier - MAX_SIZE, strategy.numRemoves);
   }
 
   @Test
@@ -239,7 +238,7 @@ private Bitmap createMutableBitmap() {
   }
 
   private Bitmap createMutableBitmap(Bitmap.Config config) {
-    Bitmap bitmap = ShadowBitmap.createBitmap(100, 100, config);
+    Bitmap bitmap = Bitmap.createBitmap(100, 100, config);
     Shadows.shadowOf(bitmap).setMutable(true);
     return bitmap;
 
diff --git a/library/test/src/test/java/com/bumptech/glide/load/engine/prefill/BitmapPreFillerTest.java b/library/test/src/test/java/com/bumptech/glide/load/engine/prefill/BitmapPreFillerTest.java
index 87d0395d3..d5a777f69 100644
--- a/library/test/src/test/java/com/bumptech/glide/load/engine/prefill/BitmapPreFillerTest.java
+++ b/library/test/src/test/java/com/bumptech/glide/load/engine/prefill/BitmapPreFillerTest.java
@@ -94,7 +94,7 @@ public void testAllocationOrderThatDoesNotFitExactlyIntoGivenSizeRoundsDown() {
     for (PreFillType current : sizes) {
       int currentSize =
           Util.getBitmapByteSize(current.getWidth(), current.getHeight(), current.getConfig());
-      // See http://errorprone.info/bugpattern/NarrowingCompoundAssignment.
+      // See https://errorprone.info/bugpattern/NarrowingCompoundAssignment.
       expectedSize = (int) (expectedSize + (currentSize * (maxSize / (3 * currentSize))));
     }
 
@@ -269,8 +269,8 @@ public void testSetsConfigOnBuildersToDefaultIfNotSet() {
     bitmapPreFiller.preFill(builder);
 
     InOrder order = inOrder(builder);
-    order.verify(builder).setConfig(DecodeFormat.DEFAULT == DecodeFormat.PREFER_ARGB_8888
-        || DecodeFormat.DEFAULT == DecodeFormat.PREFER_ARGB_8888_DISALLOW_HARDWARE
+    order.verify(builder).setConfig(
+        DecodeFormat.DEFAULT == DecodeFormat.PREFER_ARGB_8888
         ? Bitmap.Config.ARGB_8888 : Bitmap.Config.RGB_565);
     order.verify(builder).build();
   }
diff --git a/library/test/src/test/java/com/bumptech/glide/load/model/MultiModelLoaderFactoryTest.java b/library/test/src/test/java/com/bumptech/glide/load/model/MultiModelLoaderFactoryTest.java
index f80441cfb..36f3f3480 100644
--- a/library/test/src/test/java/com/bumptech/glide/load/model/MultiModelLoaderFactoryTest.java
+++ b/library/test/src/test/java/com/bumptech/glide/load/model/MultiModelLoaderFactoryTest.java
@@ -1,6 +1,7 @@
 package com.bumptech.glide.load.model;
 
 import static com.google.common.truth.Truth.assertThat;
+import static org.junit.Assert.assertThrows;
 import static org.mockito.Matchers.eq;
 import static org.mockito.Mockito.mock;
 import static org.mockito.Mockito.verify;
@@ -13,9 +14,8 @@
 import java.util.ArrayList;
 import java.util.List;
 import org.junit.Before;
-import org.junit.Rule;
 import org.junit.Test;
-import org.junit.rules.ExpectedException;
+import org.junit.function.ThrowingRunnable;
 import org.junit.runner.RunWith;
 import org.mockito.ArgumentCaptor;
 import org.mockito.Mock;
@@ -28,8 +28,6 @@
 @RunWith(RobolectricTestRunner.class)
 @Config(manifest = Config.NONE, sdk = 18)
 public class MultiModelLoaderFactoryTest {
-  @Rule public final ExpectedException exception = ExpectedException.none();
-
   @Mock private ModelLoaderFactory<String, String> firstFactory;
   @Mock private ModelLoader<String, String> firstModelLoader;
   @Mock private MultiModelLoaderFactory.Factory multiModelLoaderFactory;
@@ -183,16 +181,28 @@ public void testBuild_withModelClass_excludesModelLoadersForOtherModelClasses()
   public void testBuild_withModelAndDataClasses_excludesModelLoadersForOtherDataClasses() {
     multiFactory.append(String.class, String.class, firstFactory);
 
-    exception.expect(NoModelLoaderAvailableException.class);
-    multiFactory.build(String.class, Integer.class);
+    assertThrows(
+        NoModelLoaderAvailableException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() throws Throwable {
+            multiFactory.build(String.class, Integer.class);
+          }
+        });
   }
 
   @Test
   public void testBuild_withModelAndDataClasses_excludesModelLoadersForOtherModelClasses() {
     multiFactory.append(String.class, String.class, firstFactory);
 
-    exception.expect(NoModelLoaderAvailableException.class);
-    multiFactory.build(Integer.class, String.class);
+    assertThrows(
+        NoModelLoaderAvailableException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() throws Throwable {
+            multiFactory.build(Integer.class, String.class);
+          }
+        });
   }
 
   @Test
@@ -212,15 +222,28 @@ public void testBuild_withModelClass_matchesSuperclassesOfModelClass() {
   @Test
   public void testBuild_withModelAndDataClass_doesNotMatchSubclassesOfModelClass() {
     appendFactoryFor(String.class, Object.class);
-    exception.expect(NoModelLoaderAvailableException.class);
-    multiFactory.build(Object.class, Object.class);
+
+    assertThrows(
+        NoModelLoaderAvailableException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() throws Throwable {
+            multiFactory.build(Object.class, Object.class);
+          }
+        });
   }
 
   @Test
   public void testBuild_withModelAndDataClass_doesNotMatchSubclassesOfDataClass() {
     appendFactoryFor(Object.class, String.class);
-    exception.expect(NoModelLoaderAvailableException.class);
-    multiFactory.build(Object.class, Object.class);
+    assertThrows(
+        NoModelLoaderAvailableException.class,
+        new ThrowingRunnable() {
+          @Override
+          public void run() throws Throwable {
+            multiFactory.build(Object.class, Object.class);
+          }
+        });
   }
 
   @Test
diff --git a/library/test/src/test/java/com/bumptech/glide/manager/RequestTrackerTest.java b/library/test/src/test/java/com/bumptech/glide/manager/RequestTrackerTest.java
index 825ac1bce..605683c8a 100644
--- a/library/test/src/test/java/com/bumptech/glide/manager/RequestTrackerTest.java
+++ b/library/test/src/test/java/com/bumptech/glide/manager/RequestTrackerTest.java
@@ -5,9 +5,6 @@
 import static org.junit.Assert.assertTrue;
 import static org.mockito.Mockito.doAnswer;
 import static org.mockito.Mockito.mock;
-import static org.mockito.Mockito.never;
-import static org.mockito.Mockito.times;
-import static org.mockito.Mockito.verify;
 import static org.mockito.Mockito.when;
 
 import com.bumptech.glide.request.Request;
@@ -33,25 +30,25 @@ public void setUp() {
 
   @Test
   public void clearRequests_doesNotRecycleRequests() {
-    Request request = mock(Request.class);
+    FakeRequest request = new FakeRequest();
     tracker.addRequest(request);
 
     tracker.clearRequests();
 
-    verify(request).clear();
-    verify(request, never()).recycle();
+    assertThat(request.isCleared()).isTrue();
+    assertThat(request.isRecycled()).isFalse();
   }
 
   @Test
   public void clearRemoveAndRecycle_withRequestPreviouslyClearedInClearRequests_doesNothing() {
-    Request request = mock(Request.class);
+    FakeRequest request = new FakeRequest();
     tracker.addRequest(request);
 
     tracker.clearRequests();
     tracker.clearRemoveAndRecycle(request);
 
-    verify(request).clear();
-    verify(request, never()).recycle();
+    assertThat(request.isCleared()).isTrue();
+    assertThat(request.isRecycled()).isFalse();
   }
 
   @Test
@@ -61,164 +58,173 @@ public void clearRemoveAndRecycle_withNullRequest_doesNothingAndReturnsTrue() {
 
   @Test
   public void clearRemoveAndRecycle_withUnTrackedRequest_doesNothingAndReturnsFalse() {
-    Request request = mock(Request.class);
+    FakeRequest request = new FakeRequest();
 
     assertThat(tracker.clearRemoveAndRecycle(request)).isFalse();
 
-    verify(request, never()).clear();
-    verify(request, never()).recycle();
+    assertThat(request.isCleared()).isFalse();
+    assertThat(request.isRecycled()).isFalse();
   }
 
   @Test
   public void clearRemoveAndRecycle_withTrackedRequest_clearsRecyclesAndReturnsTrue() {
-    Request request = mock(Request.class);
+    FakeRequest request = new FakeRequest();
     tracker.addRequest(request);
 
     assertThat(tracker.clearRemoveAndRecycle(request)).isTrue();
-    verify(request).clear();
-    verify(request).recycle();
+    assertThat(request.isCleared()).isTrue();
+    assertThat(request.isRecycled()).isTrue();
   }
 
   @Test
   public void clearRemoveAndRecycle_withAlreadyRemovedRequest_doesNothingAndReturnsFalse() {
-    Request request = mock(Request.class);
+    FakeRequest request = new FakeRequest();
     tracker.addRequest(request);
     tracker.clearRemoveAndRecycle(request);
     assertThat(tracker.clearRemoveAndRecycle(request)).isFalse();
 
-    verify(request, times(1)).clear();
-    verify(request, times(1)).recycle();
+    assertThat(request.isCleared()).isTrue();
+    assertThat(request.isRecycled()).isTrue();
   }
 
   @Test
-  public void testCanAddAndRemoveRequest() {
-    Request request = mock(Request.class);
+  public void clearRequests_withPreviouslyClearedRequest_doesNotClearRequestAgain() {
+    FakeRequest request = new FakeRequest();
     tracker.addRequest(request);
     tracker.clearRemoveAndRecycle(request);
 
     tracker.clearRequests();
 
-    verify(request, times(1)).clear();
+    assertThat(request.isCleared()).isTrue();
   }
 
   @Test
-  public void testCanAddMultipleRequests() {
-    Request first = mock(Request.class);
-    Request second = mock(Request.class);
+  public void clearRequests_withMultipleRequests_clearsAllRequests() {
+    FakeRequest first = new FakeRequest();
+    FakeRequest second = new FakeRequest();
     tracker.addRequest(first);
     tracker.addRequest(second);
 
     tracker.clearRequests();
 
-    verify(first).clear();
-    verify(second).clear();
+    assertThat(first.isCleared()).isTrue();
+    assertThat(second.isCleared()).isTrue();
   }
 
   @Test
-  public void testPausesInProgressRequestsWhenPaused() {
-    Request request = mock(Request.class);
-    when(request.isRunning()).thenReturn(true);
+  public void pauseRequest_withRunningRequest_pausesRequest() {
+    FakeRequest request = new FakeRequest();
+    request.setIsRunning();
     tracker.addRequest(request);
 
     tracker.pauseRequests();
 
-    verify(request).pause();
+    assertThat(request.isCleared()).isTrue();
   }
 
   @Test
-  public void testDoesNotClearCompleteRequestsWhenPaused() {
-    Request request = mock(Request.class);
+  public void pauseRequests_withCompletedRequest_doesNotClearRequest() {
+    FakeRequest request = new FakeRequest();
     tracker.addRequest(request);
 
-    when(request.isComplete()).thenReturn(true);
+    request.setIsComplete();
     tracker.pauseRequests();
 
-    verify(request, never()).clear();
+    assertThat(request.isCleared()).isFalse();
   }
 
   @Test
-  public void testStartsRequestOnRun() {
-    Request request = mock(Request.class);
+  public void runRequest_startsRequest() {
+    FakeRequest request = new FakeRequest();
     tracker.runRequest(request);
 
-    verify(request).begin();
+    assertThat(request.isRunning()).isTrue();
   }
 
   @Test
-  public void testDoesNotStartRequestOnRunIfPaused() {
-    Request request = mock(Request.class);
+  public void runRequest_whenPaused_doesNotStartRequest() {
+    FakeRequest request = new FakeRequest();
     tracker.pauseRequests();
     tracker.runRequest(request);
 
-    verify(request, never()).begin();
+    assertThat(request.isRunning()).isFalse();
+  }
+
+  @Test
+  public void runRequest_withAllRequestsPaused_doesNotStartRequest() {
+    FakeRequest request = new FakeRequest();
+    tracker.pauseAllRequests();
+    tracker.runRequest(request);
+
+    assertThat(request.isRunning()).isFalse();
   }
 
   @Test
-  public void testStartsRequestAddedWhenPausedWhenResumed() {
-    Request request = mock(Request.class);
+  public void runRequest_afterPausingAndResuming_startsRequest() {
+    FakeRequest request = new FakeRequest();
     tracker.pauseRequests();
     tracker.runRequest(request);
     tracker.resumeRequests();
 
-    verify(request).begin();
+    assertThat(request.isRunning()).isTrue();
   }
 
   @Test
-  public void testDoesNotClearFailedRequestsWhenPaused() {
-    Request request = mock(Request.class);
-    when(request.isFailed()).thenReturn(true);
+  public void pauseRequests_withFailedRequest_doesNotClearRequest() {
+    FakeRequest request = new FakeRequest();
+    request.setIsFailed();
     tracker.addRequest(request);
 
     tracker.pauseRequests();
 
-    verify(request, never()).clear();
+    assertThat(request.isCleared()).isFalse();
   }
 
   @Test
-  public void testRestartsStoppedRequestWhenResumed() {
-    Request request = mock(Request.class);
+  public void resumeRequests_withRequestAddedWhilePaused_startsRequest() {
+    FakeRequest request = new FakeRequest();
     tracker.addRequest(request);
 
     tracker.resumeRequests();
 
-    verify(request).begin();
+    assertThat(request.isRunning()).isTrue();
   }
 
   @Test
-  public void testDoesNotRestartCompletedRequestsWhenResumed() {
-    Request request = mock(Request.class);
-    when(request.isComplete()).thenReturn(true);
+  public void resumeRequests_withCompletedRequest_doesNotRestartCompletedRequest() {
+    FakeRequest request = new FakeRequest();
+    request.setIsComplete();
     tracker.addRequest(request);
 
     tracker.resumeRequests();
 
-    verify(request, never()).begin();
+    assertThat(request.isRunning()).isFalse();
   }
 
   @Test
-  public void testDoesRestartFailedRequestsWhenResumed() {
-    Request request = mock(Request.class);
-    when(request.isFailed()).thenReturn(true);
+  public void resumeRequests_withFailedRequest_restartsRequest() {
+    FakeRequest request = new FakeRequest();
+    request.setIsFailed();
     tracker.addRequest(request);
 
     tracker.resumeRequests();
 
-    verify(request).begin();
+    assertThat(request.isRunning()).isTrue();
   }
 
   @Test
-  public void testDoesNotStartStartedRequestsWhenResumed() {
-    Request request = mock(Request.class);
-    when(request.isRunning()).thenReturn(true);
+  public void addRequest_withRunningRequest_doesNotRestartRequest() {
+    FakeRequest request = new FakeRequest();
+    request.setIsRunning();
     tracker.addRequest(request);
 
     tracker.resumeRequests();
 
-    verify(request, never()).begin();
+    assertThat(request.isRunning()).isTrue();
   }
 
   @Test
-  public void testAvoidsConcurrentModificationWhenResuming() {
+  public void resumeRequests_withRequestThatClearsAnotherRequest_avoidsConcurrentModifications() {
     Request first = mock(Request.class);
     Request second = mock(Request.class);
 
@@ -232,12 +238,12 @@ public void testAvoidsConcurrentModificationWhenResuming() {
   }
 
   @Test
-  public void testAvoidsConcurrentModificationWhenPausing() {
+  public void pauseRequests_withRequestThatClearsAnother_avoidsConcurrentModifications() {
     Request first = mock(Request.class);
     Request second = mock(Request.class);
 
     when(first.isRunning()).thenReturn(true);
-    doAnswer(new ClearAndRemoveRequest(second)).when(first).pause();
+    doAnswer(new ClearAndRemoveRequest(second)).when(first).clear();
 
     tracker.addRequest(mock(Request.class));
     tracker.addRequest(first);
@@ -247,7 +253,7 @@ public void testAvoidsConcurrentModificationWhenPausing() {
   }
 
   @Test
-  public void testAvoidsConcurrentModificationWhenClearing() {
+  public void clearRequests_withRequestThatClearsAnother_avoidsConcurrentModifications() {
     Request first = mock(Request.class);
     Request second = mock(Request.class);
 
@@ -261,11 +267,11 @@ public void testAvoidsConcurrentModificationWhenClearing() {
   }
 
   @Test
-  public void testAvoidsConcurrentModificationWhenRestarting() {
+  public void restartRequests_withRequestThatClearsAnother_avoidsConcurrentModifications() {
     Request first = mock(Request.class);
     Request second = mock(Request.class);
 
-    doAnswer(new ClearAndRemoveRequest(second)).when(first).pause();
+    doAnswer(new ClearAndRemoveRequest(second)).when(first).clear();
 
     tracker.addRequest(mock(Request.class));
     tracker.addRequest(first);
@@ -275,73 +281,70 @@ public void testAvoidsConcurrentModificationWhenRestarting() {
   }
 
   @Test
-  public void testRestartsFailedRequestRestart() {
-    Request request = mock(Request.class);
-    when(request.isFailed()).thenReturn(true);
+  public void restartRequests_withFailedRequest_restartsRequest() {
+    FakeRequest request = new FakeRequest();
+    request.setIsFailed();
     tracker.addRequest(request);
 
     tracker.restartRequests();
 
-    verify(request).begin();
+    assertThat(request.isRunning()).isTrue();
   }
 
   @Test
-  public void testPausesAndRestartsNotYetFinishedRequestsOnRestart() {
-    Request request = mock(Request.class);
-    when(request.isComplete()).thenReturn(false);
+  public void restartRequests_withIncompleteRequest_restartsRequest() {
+    FakeRequest request = new FakeRequest();
     tracker.addRequest(request);
 
     tracker.restartRequests();
 
-    verify(request).pause();
-    verify(request).begin();
+    assertThat(request.isRunning()).isTrue();
   }
 
   @Test
-  public void testDoesNotBeginFailedRequestOnRestartIfPaused() {
-    Request request = mock(Request.class);
-    when(request.isFailed()).thenReturn(true);
+  public void restartRequests_whenPaused_doesNotRestartRequests() {
+    FakeRequest request = new FakeRequest();
+    request.setIsFailed();
     tracker.pauseRequests();
     tracker.addRequest(request);
 
     tracker.restartRequests();
 
-    verify(request, never()).begin();
+    assertThat(request.isRunning()).isFalse();
   }
 
   @Test
-  public void testPausesFailedRequestOnRestartIfPaused() {
-    Request request = mock(Request.class);
-    when(request.isFailed()).thenReturn(true);
+  public void restartRequests_withFailedRequestAddedWhilePaused_clearsFailedRequest() {
+    FakeRequest request = new FakeRequest();
+    request.setIsFailed();
+
     tracker.pauseRequests();
     tracker.addRequest(request);
 
     tracker.restartRequests();
-    verify(request).pause();
+    assertThat(request.isCleared()).isTrue();
   }
 
   @Test
-  public void testDoesNotBeginIncompleteRequestsOnRestartIfPaused() {
-    Request request = mock(Request.class);
-    when(request.isFailed()).thenReturn(false);
-    when(request.isComplete()).thenReturn(false);
+  public void restartRequests_withIncompleteRequestAddedWhilePaused_doesNotRestartRequest() {
+    FakeRequest request = new FakeRequest();
+
     tracker.pauseRequests();
     tracker.addRequest(request);
     tracker.restartRequests();
 
-    verify(request, never()).begin();
+    assertThat(request.isRunning()).isFalse();
   }
 
   @Test
-  public void testPausesIncompleteRequestsOnRestartIfPaused() {
-    Request request = mock(Request.class);
-    when(request.isFailed()).thenReturn(false);
-    when(request.isComplete()).thenReturn(false);
+  public void restartRequests_withIncompleteRequestAddedWhilePaused_clearsRequestOnRestart() {
+    FakeRequest request = new FakeRequest();
+
     tracker.pauseRequests();
     tracker.addRequest(request);
     tracker.restartRequests();
 
-    verify(request).pause();
+    assertThat(request.isCleared()).isTrue();
   }
 
   @Test
@@ -363,17 +366,104 @@ public void testPauseAllRequests_returnsTrueFromIsPaused() {
   }
 
   @Test
-  public void testPauseAllRequests_whenRequestComplete_pausesRequest() {
-    Request request = mock(Request.class);
-    when(request.isFailed()).thenReturn(false);
-    when(request.isComplete()).thenReturn(true);
+  public void resumeRequests_afterRequestIsPausedViaPauseAllRequests_resumesRequest() {
+    FakeRequest request = new FakeRequest();
+    request.setIsComplete();
+
     tracker.addRequest(request);
     tracker.pauseAllRequests();
-    verify(request).pause();
 
-    when(request.isComplete()).thenReturn(false);
+    assertThat(request.isCleared()).isTrue();
+
+    // reset complete status.
+    request.setIsComplete(false);
     tracker.resumeRequests();
-    verify(request).begin();
+
+    assertThat(request.isRunning()).isTrue();
+  }
+
+  private static final class FakeRequest implements Request {
+    private boolean isRunning;
+    private boolean isFailed;
+    private boolean isCleared;
+    private boolean isComplete;
+    private boolean isRecycled;
+
+    void setIsComplete() {
+      setIsComplete(true);
+    }
+
+    void setIsComplete(boolean isComplete) {
+      this.isComplete = isComplete;
+    }
+
+    void setIsFailed() {
+      isFailed = true;
+    }
+
+    void setIsRunning() {
+      isRunning = true;
+    }
+
+    boolean isRecycled() {
+      return isRecycled;
+    }
+
+    @Override
+    public void begin() {
+      if (isRunning) {
+        throw new IllegalStateException();
+      }
+      isRunning = true;
+    }
+
+    @Override
+    public void clear() {
+      if (isCleared) {
+        throw new IllegalStateException();
+      }
+      isRunning = false;
+      isFailed = false;
+      isCleared = true;
+    }
+
+    @Override
+    public boolean isRunning() {
+      return isRunning;
+    }
+
+    @Override
+    public boolean isComplete() {
+      return isComplete;
+    }
+
+    @Override
+    public boolean isResourceSet() {
+      throw new UnsupportedOperationException();
+    }
+
+    @Override
+    public boolean isCleared() {
+      return isCleared;
+    }
+
+    @Override
+    public boolean isFailed() {
+      return isFailed;
+    }
+
+    @Override
+    public void recycle() {
+      if (isRecycled) {
+        throw new IllegalStateException();
+      }
+      isRecycled = true;
+    }
+
+    @Override
+    public boolean isEquivalentTo(Request other) {
+      throw new UnsupportedOperationException();
+    }
   }
 
   private class ClearAndRemoveRequest implements Answer<Void> {
diff --git a/library/test/src/test/java/com/bumptech/glide/request/ErrorRequestCoordinatorTest.java b/library/test/src/test/java/com/bumptech/glide/request/ErrorRequestCoordinatorTest.java
index 931579037..1c8602fad 100644
--- a/library/test/src/test/java/com/bumptech/glide/request/ErrorRequestCoordinatorTest.java
+++ b/library/test/src/test/java/com/bumptech/glide/request/ErrorRequestCoordinatorTest.java
@@ -41,32 +41,6 @@ public void begin_whenPrimaryIsAlreadyRunning_doesNotStartPrimaryAgain() {
     verify(primary, never()).begin();
   }
 
-  @Test
-  public void pause_whenPrimaryHasNotFailed_pausesPrimary() {
-    coordinator.pause();
-    verify(primary).pause();
-  }
-
-  @Test
-  public void pause_whenPrimaryHasFailed_doesNotPausePrimary() {
-    when(primary.isFailed()).thenReturn(true);
-    coordinator.pause();
-    verify(primary, never()).pause();
-  }
-
-  @Test
-  public void pause_whenErrorIsRunning_pausesError() {
-    when(error.isRunning()).thenReturn(true);
-    coordinator.pause();
-    verify(error).pause();
-  }
-
-  @Test
-  public void pause_whenErrorIsNotRunning_doesNotPauseError() {
-    coordinator.pause();
-    verify(error, never()).pause();
-  }
-
   @Test
   public void clear_whenPrimaryHasNotFailed_clearsPrimary() {
     coordinator.clear();
@@ -102,30 +76,6 @@ public void clear_whenErrorIsRunning_clearsError() {
     verify(error).clear();
   }
 
-  @Test
-  public void isPaused_primaryNotFailed_primaryNotPaused_returnsFalse() {
-    assertThat(coordinator.isPaused()).isFalse();
-  }
-
-  @Test
-  public void isPaused_primaryNotFailed_primaryPaused_returnsTrue() {
-    when(primary.isPaused()).thenReturn(true);
-    assertThat(coordinator.isPaused()).isTrue();
-  }
-
-  @Test
-  public void isPaused_primaryFailed_errorNotPaused_returnsFalse() {
-    when(primary.isFailed()).thenReturn(true);
-    assertThat(coordinator.isPaused()).isFalse();
-  }
-
-  @Test
-  public void isPaused_primaryFailed_errorPaused_returnsTrue() {
-    when(primary.isFailed()).thenReturn(true);
-    when(error.isPaused()).thenReturn(true);
-    assertThat(coordinator.isPaused()).isTrue();
-  }
-
   @Test
   public void isRunning_primaryNotFailed_primaryNotRunning_returnsFalse() {
     assertThat(coordinator.isRunning()).isFalse();
@@ -200,26 +150,26 @@ public void isResourceSet_primaryFailed_errorResourceSet_returnsTrue() {
 
   @Test
   public void isCancelled_primaryNotFailed_primaryNotCancelled_returnsFalse() {
-    assertThat(coordinator.isCancelled()).isFalse();
+    assertThat(coordinator.isCleared()).isFalse();
   }
 
   @Test
   public void isCancelled_primaryNotFailed_primaryCancelled_returnsTrue() {
-    when(primary.isCancelled()).thenReturn(true);
-    assertThat(coordinator.isCancelled()).isTrue();
+    when(primary.isCleared()).thenReturn(true);
+    assertThat(coordinator.isCleared()).isTrue();
   }
 
   @Test
   public void isCancelled_primaryFailed_errorNotCancelled_returnsFalse() {
     when(primary.isFailed()).thenReturn(true);
-    assertThat(coordinator.isCancelled()).isFalse();
+    assertThat(coordinator.isCleared()).isFalse();
   }
 
   @Test
   public void isCancelled_primaryFailed_errorCancelled_returnsTrue() {
     when(primary.isFailed()).thenReturn(true);
-    when(error.isCancelled()).thenReturn(true);
-    assertThat(coordinator.isCancelled()).isTrue();
+    when(error.isCleared()).thenReturn(true);
+    assertThat(coordinator.isCleared()).isTrue();
   }
 
   @Test
diff --git a/library/test/src/test/java/com/bumptech/glide/request/RequestOptionsTest.java b/library/test/src/test/java/com/bumptech/glide/request/RequestOptionsTest.java
index aa61bc883..1f5536b3a 100644
--- a/library/test/src/test/java/com/bumptech/glide/request/RequestOptionsTest.java
+++ b/library/test/src/test/java/com/bumptech/glide/request/RequestOptionsTest.java
@@ -294,6 +294,316 @@ public void isDiskCacheStrategySet_withDiskCacheStrategyNonDefault_isTrue() {
         .isTrue();
   }
 
+  @Test
+  public void getPlaceholder_afterSettingPlaceholderId_returnsNul() {
+    assertThat(
+        options
+            .placeholder(new ColorDrawable(Color.RED))
+            .placeholder(android.R.drawable.star_on)
+            .getPlaceholderDrawable())
+        .isNull();
+  }
+
+  @Test
+  public void getPlaceholder_afterApplyingOptionsWithPlaceholderId_returnsNull() {
+    RequestOptions toApply = new RequestOptions().placeholder(android.R.drawable.star_on);
+
+    assertThat(
+        options
+            .placeholder(new ColorDrawable(Color.RED))
+            .apply(toApply)
+            .getPlaceholderDrawable())
+        .isNull();
+  }
+
+  @Test
+  public void getPlaceholder_afterApplyingOptionsWithPlaceholderDrawable_returnsNewDrawable() {
+    Drawable expected = new ColorDrawable(Color.GREEN);
+    RequestOptions toApply = new RequestOptions().placeholder(expected);
+
+    assertThat(
+        options
+          .placeholder(new ColorDrawable(Color.RED))
+          .apply(toApply)
+          .getPlaceholderDrawable())
+        .isEqualTo(expected);
+  }
+
+  /**
+   * Verifies that we set the flags for placeholder id correctly when applying a placeholder id via
+   * another RequestOptions.
+   */
+  @Test
+  public void placeholderIdFlag_afterApplyingIdViaOtherRequestOptions_isSet() {
+    assertThat(
+        options
+            .placeholder(new ColorDrawable(Color.RED))
+            .apply(
+                new RequestOptions()
+                    .apply(
+                        new RequestOptions()
+                            .placeholder(android.R.drawable.star_on)))
+            .getPlaceholderDrawable())
+        .isNull();
+  }
+
+
+  @Test
+  public void getPlaceholderId_afterSettingPlaceholderDrawable_returnsZero() {
+    assertThat(
+        options
+            .placeholder(android.R.drawable.star_on)
+            .placeholder(new ColorDrawable(Color.RED))
+            .getPlaceholderId())
+        .isEqualTo(0);
+  }
+
+  @Test
+  public void getPlaceholderId_afterApplyingOptionsWithPlaceholderDrawable_returnsZero() {
+    RequestOptions toApply = new RequestOptions().placeholder(new ColorDrawable(Color.RED));
+
+    assertThat(
+        options
+            .placeholder(android.R.drawable.star_on)
+            .apply(toApply)
+            .getPlaceholderId())
+        .isEqualTo(0);
+  }
+
+  @Test
+  public void getPlaceholderId_afterApplyingOptionsWithId_returnsNewId() {
+    int expectedId = android.R.drawable.star_off;
+    RequestOptions toApply = new RequestOptions().placeholder(expectedId);
+
+    assertThat(
+        options
+            .placeholder(android.R.drawable.star_on)
+            .apply(toApply)
+            .getPlaceholderId())
+        .isEqualTo(expectedId);
+  }
+
+  /**
+   * Verifies that we set the flags for placeholder correctly when applying a placeholder via
+   * another RequestOptions.
+   */
+  @Test
+  public void placeholderFlag_afterApplyingViaOtherRequestOptions_isSet() {
+    assertThat(
+        options
+            .placeholder(android.R.drawable.star_on)
+            .apply(
+                new RequestOptions()
+                    .apply(
+                        new RequestOptions()
+                            .placeholder(new ColorDrawable(Color.RED))))
+            .getPlaceholderId())
+        .isEqualTo(0);
+  }
+
+  @Test
+  public void getFallback_afterSettingFallbackId_returnsNull() {
+    assertThat(
+        options
+            .fallback(new ColorDrawable(Color.RED))
+            .fallback(android.R.drawable.star_on)
+            .getFallbackDrawable())
+        .isNull();
+  }
+
+  @Test
+  public void getFallback_afterApplyingOptionsWithFallbackId_returnsNull() {
+    RequestOptions toApply = new RequestOptions().fallback(android.R.drawable.star_on);
+
+    assertThat(
+        options
+            .fallback(new ColorDrawable(Color.RED))
+            .apply(toApply)
+            .getFallbackDrawable())
+        .isNull();
+  }
+
+  @Test
+  public void getFallback_afterApplyingOptionsWithFallbackDrawable_returnsNewDrawable() {
+    RequestOptions toApply = new RequestOptions();
+
+    RequestOptions apply = options.fallback(new ColorDrawable(Color.RED)).apply(toApply);
+    assertThat(((ColorDrawable) apply.getFallbackDrawable()).getColor()).isEqualTo(Color.RED);
+  }
+
+  /**
+   * Verifies that we set the flags for fallback correctly when applying a fallback via
+   * another RequestOptions.
+   */
+  @Test
+  public void fallbackFlag_afterApplyingViaOtherRequestOptions_isSet() {
+    assertThat(
+        options
+            .fallback(android.R.drawable.star_on)
+            .apply(
+                new RequestOptions()
+                    .apply(
+                        new RequestOptions()
+                            .fallback(new ColorDrawable(Color.RED))))
+            .getFallbackId())
+        .isEqualTo(0);
+  }
+
+  @Test
+  public void getFallbackId_afterSettingFallbackDrawable_returnsZero() {
+    assertThat(
+        options
+            .fallback(android.R.drawable.star_on)
+            .fallback(new ColorDrawable(Color.RED))
+            .getFallbackId())
+        .isEqualTo(0);
+  }
+
+  @Test
+  public void getFallbackId_afterApplyingOptionsWithFallbackDrawable_returnsZero() {
+    RequestOptions toApply = new RequestOptions().fallback(new ColorDrawable(Color.RED));
+
+    assertThat(
+        options
+            .fallback(android.R.drawable.star_on)
+            .apply(toApply)
+            .getFallbackId())
+        .isEqualTo(0);
+  }
+
+  @Test
+  public void getFallbackId_afterApplyingOptionsWithFallbackId_returnsNewFallbackId() {
+    RequestOptions toApply = new RequestOptions().fallback(android.R.drawable.star_off);
+
+    assertThat(
+        options
+          .fallback(android.R.drawable.star_on)
+          .apply(toApply)
+          .getFallbackId())
+        .isEqualTo(android.R.drawable.star_off);
+  }
+
+  /**
+   * Verifies that we set the flags for fallback id correctly when applying a fallback id via
+   * another RequestOptions.
+   */
+  @Test
+  public void fallbackIdFlag_afterApplyingViaOtherRequestOptions_isSet() {
+    assertThat(
+        options
+            .fallback(new ColorDrawable(Color.RED))
+            .apply(
+                new RequestOptions()
+                    .apply(
+                        new RequestOptions()
+                            .fallback(android.R.drawable.star_on)))
+            .getFallbackDrawable())
+        .isNull();
+  }
+
+  @Test
+  public void getError_afterSettingErrorId_returnsNull() {
+    assertThat(
+        options
+            .error(new ColorDrawable(Color.RED))
+            .error(android.R.drawable.star_on)
+            .getErrorPlaceholder())
+        .isNull();
+  }
+
+  @Test
+  public void getError_afterApplyingOptionsWithErrorId_returnsNull() {
+    RequestOptions toApply = new RequestOptions().error(android.R.drawable.star_on);
+
+    assertThat(
+        options
+            .error(new ColorDrawable(Color.RED))
+            .apply(toApply)
+            .getErrorPlaceholder())
+        .isNull();
+  }
+
+  @Test
+  public void getError_afterApplyingOptionsWithErrorDrawable_returnsNewErrorDrawable() {
+    Drawable expected = new ColorDrawable(Color.GREEN);
+    RequestOptions toApply = new RequestOptions().error(expected);
+
+    assertThat(
+        options
+          .error(new ColorDrawable(Color.RED))
+          .apply(toApply)
+          .getErrorPlaceholder())
+        .isEqualTo(expected);
+  }
+
+  /**
+   * Verifies that we set the flags for error correctly when applying an error via
+   * another RequestOptions.
+   */
+  @Test
+  public void errorFlag_afterApplyingViaOtherRequestOptions_isSet() {
+    assertThat(
+        options
+            .error(android.R.drawable.star_on)
+            .apply(
+                new RequestOptions()
+                    .apply(
+                        new RequestOptions()
+                            .error(new ColorDrawable(Color.RED))))
+            .getErrorId())
+        .isEqualTo(0);
+  }
+
+  @Test
+  public void getErrorId_afterSettingErrorDrawable_returnsZero() {
+    assertThat(
+        options
+            .error(android.R.drawable.star_on)
+            .error(new ColorDrawable(Color.RED))
+            .getErrorId())
+        .isEqualTo(0);
+  }
+
+  @Test
+  public void getErrorId_afterApplyingOptionsWithErrorDrawable_returnsZero() {
+    RequestOptions toApply = new RequestOptions().error(new ColorDrawable(Color.RED));
+
+    assertThat(
+        options.error(android.R.drawable.star_on)
+            .apply(toApply)
+            .getErrorId())
+        .isEqualTo(0);
+  }
+
+  @Test
+  public void getErrorId_afterApplyingOptionsWithErrorId_returnsNewErrorId() {
+    RequestOptions toApply = new RequestOptions().error(android.R.drawable.star_off);
+
+    assertThat(
+        options.error(android.R.drawable.star_on)
+            .apply(toApply)
+            .getErrorId())
+        .isEqualTo(android.R.drawable.star_off);
+  }
+
+  /**
+   * Verifies that we set the flags for error id correctly when applying a fallback id via
+   * another RequestOptions.
+   */
+  @Test
+  public void errorIdFlag_afterApplyingViaOtherRequestOptions_isSet() {
+    assertThat(
+        options
+            .error(new ColorDrawable(Color.RED))
+            .apply(
+                new RequestOptions()
+                    .apply(
+                        new RequestOptions()
+                            .error(android.R.drawable.star_on)))
+            .getErrorPlaceholder())
+        .isNull();
+  }
+
   @Test
   public void testEqualsHashCode() {
     Drawable first = new ColorDrawable(Color.RED);
diff --git a/library/test/src/test/java/com/bumptech/glide/request/SingleRequestTest.java b/library/test/src/test/java/com/bumptech/glide/request/SingleRequestTest.java
index b41596250..8341cd3c7 100644
--- a/library/test/src/test/java/com/bumptech/glide/request/SingleRequestTest.java
+++ b/library/test/src/test/java/com/bumptech/glide/request/SingleRequestTest.java
@@ -46,6 +46,8 @@
 import org.junit.Before;
 import org.junit.Test;
 import org.junit.runner.RunWith;
+import org.mockito.Mock;
+import org.mockito.MockitoAnnotations;
 import org.mockito.invocation.InvocationOnMock;
 import org.mockito.stubbing.Answer;
 import org.robolectric.RobolectricTestRunner;
@@ -57,9 +59,12 @@
 public class SingleRequestTest {
 
   private SingleRequestBuilder builder;
+  @Mock private RequestListener<List> listener1;
+  @Mock private RequestListener<List> listener2;
 
   @Before
   public void setUp() {
+    MockitoAnnotations.initMocks(this);
     builder = new SingleRequestBuilder();
   }
 
@@ -72,31 +77,31 @@ public void testIsNotCompleteBeforeReceivingResource() {
 
   @Test
   public void testCanHandleNullResources() {
-    SingleRequest<List> request = builder.build();
+    SingleRequest<List> request = builder.addRequestListener(listener1).build();
 
     request.onResourceReady(null, DataSource.LOCAL);
 
     assertTrue(request.isFailed());
-    verify(builder.requestListener).onLoadFailed(isAGlideException(), isA(Number.class),
+    verify(listener1).onLoadFailed(isAGlideException(), isA(Number.class),
         eq(builder.target), anyBoolean());
   }
 
   @Test
   public void testCanHandleEmptyResources() {
-    SingleRequest<List> request = builder.build();
+    SingleRequest<List> request = builder.addRequestListener(listener1).build();
     when(builder.resource.get()).thenReturn(null);
 
     request.onResourceReady(builder.resource, DataSource.REMOTE);
 
     assertTrue(request.isFailed());
     verify(builder.engine).release(eq(builder.resource));
-    verify(builder.requestListener).onLoadFailed(isAGlideException(), any(Number.class),
+    verify(listener1).onLoadFailed(isAGlideException(), any(Number.class),
         eq(builder.target), anyBoolean());
   }
 
   @Test
   public void testCanHandleNonConformingResources() {
-    SingleRequest<List> request = builder.build();
+    SingleRequest<List> request = builder.addRequestListener(listener1).build();
     when(((Resource) (builder.resource)).get())
         .thenReturn("Invalid mocked String, this should be a List");
 
@@ -104,7 +109,7 @@ public void testCanHandleNonConformingResources() {
 
     assertTrue(request.isFailed());
     verify(builder.engine).release(eq(builder.resource));
-    verify(builder.requestListener).onLoadFailed(isAGlideException(), any(Number.class),
+    verify(listener1).onLoadFailed(isAGlideException(), any(Number.class),
         eq(builder.target), anyBoolean());
   }
 
@@ -118,32 +123,6 @@ public void testIsNotFailedAfterClear() {
     assertFalse(request.isFailed());
   }
 
-  @Test
-  public void testIsPausedAfterPause() {
-    SingleRequest<List> request = builder.build();
-    request.pause();
-
-    assertTrue(request.isPaused());
-  }
-
-  @Test
-  public void testIsNotCancelledAfterPause() {
-    SingleRequest<List> request = builder.build();
-    request.pause();
-
-    assertFalse(request.isCancelled());
-  }
-
-  @Test
-  public void testIsNotPausedAfterBeginningWhilePaused() {
-    SingleRequest<List> request = builder.build();
-    request.pause();
-    request.begin();
-
-    assertFalse(request.isPaused());
-    assertTrue(request.isRunning());
-  }
-
   @Test
   public void testIsNotFailedAfterBegin() {
     SingleRequest<List> request = builder.build();
@@ -177,7 +156,7 @@ public void testIsCancelledAfterClear() {
     SingleRequest<List> request = builder.build();
     request.clear();
 
-    assertTrue(request.isCancelled());
+    assertTrue(request.isCleared());
   }
 
   @Test
@@ -309,7 +288,7 @@ public void testEngineLoadCancelledOnCancel() {
     request.begin();
 
     request.onSizeReady(100, 100);
-    request.cancel();
+    request.clear();
 
     verify(loadStatus).cancel();
   }
@@ -453,18 +432,21 @@ public void testIsNotRunningAfterClear() {
 
   @Test
   public void testCallsTargetOnResourceReadyIfNoRequestListener() {
-    SingleRequest<List> request = builder
-        .setRequestListener(null)
-        .build();
+    SingleRequest<List> request = builder.build();
     request.onResourceReady(builder.resource, DataSource.LOCAL);
 
     verify(builder.target).onResourceReady(eq(builder.result), anyTransition());
   }
 
   @Test
-  public void testCallsTargetOnResourceReadyIfRequestListenerReturnsFalse() {
-    SingleRequest<List> request = builder.build();
-    when(builder.requestListener
+  public void testCallsTargetOnResourceReadyIfAllRequestListenersReturnFalse() {
+    SingleRequest<List> request =
+        builder.addRequestListener(listener1).addRequestListener(listener2).build();
+
+    when(listener1
+        .onResourceReady(any(List.class), any(Number.class), eq(builder.target), isADataSource(),
+            anyBoolean())).thenReturn(false);
+    when(listener2
         .onResourceReady(any(List.class), any(Number.class), eq(builder.target), isADataSource(),
             anyBoolean())).thenReturn(false);
     request.onResourceReady(builder.resource, DataSource.LOCAL);
@@ -473,9 +455,14 @@ public void testCallsTargetOnResourceReadyIfRequestListenerReturnsFalse() {
   }
 
   @Test
-  public void testDoesNotCallTargetOnResourceReadyIfRequestListenerReturnsTrue() {
-    SingleRequest<List> request = builder.build();
-    when(builder.requestListener
+  public void testDoesNotCallTargetOnResourceReadyIfAnyRequestListenerReturnsTrue() {
+    SingleRequest<List> request =
+        builder.addRequestListener(listener1).addRequestListener(listener2).build();
+
+    when(listener1
+        .onResourceReady(any(List.class), any(Number.class), eq(builder.target), isADataSource(),
+            anyBoolean())).thenReturn(false);
+    when(listener1
         .onResourceReady(any(List.class), any(Number.class), eq(builder.target), isADataSource(),
             anyBoolean())).thenReturn(true);
     request.onResourceReady(builder.resource, DataSource.REMOTE);
@@ -485,18 +472,21 @@ public void testDoesNotCallTargetOnResourceReadyIfRequestListenerReturnsTrue() {
 
   @Test
   public void testCallsTargetOnExceptionIfNoRequestListener() {
-    SingleRequest<List> request = builder
-        .setRequestListener(null)
-        .build();
+    SingleRequest<List> request = builder.build();
     request.onLoadFailed(new GlideException("test"));
 
     verify(builder.target).onLoadFailed(eq(builder.errorDrawable));
   }
 
   @Test
-  public void testCallsTargetOnExceptionIfRequestListenerReturnsFalse() {
-    SingleRequest<List> request = builder.build();
-    when(builder.requestListener.onLoadFailed(isAGlideException(), any(Number.class),
+  public void testCallsTargetOnExceptionIfAllRequestListenersReturnFalse() {
+    SingleRequest<List> request =
+        builder.addRequestListener(listener1).addRequestListener(listener2).build();
+
+    when(listener1.onLoadFailed(isAGlideException(), any(Number.class),
+        eq(builder.target), anyBoolean()))
+        .thenReturn(false);
+    when(listener2.onLoadFailed(isAGlideException(), any(Number.class),
         eq(builder.target), anyBoolean()))
         .thenReturn(false);
     request.onLoadFailed(new GlideException("test"));
@@ -505,9 +495,14 @@ public void testCallsTargetOnExceptionIfRequestListenerReturnsFalse() {
   }
 
   @Test
-  public void testDoesNotCallTargetOnExceptionIfRequestListenerReturnsTrue() {
-    SingleRequest<List> request = builder.build();
-    when(builder.requestListener.onLoadFailed(isAGlideException(), any(Number.class),
+  public void testDoesNotCallTargetOnExceptionIfAnyRequestListenerReturnsTrue() {
+    SingleRequest<List> request =
+        builder.addRequestListener(listener1).addRequestListener(listener2).build();
+
+    when(listener1.onLoadFailed(isAGlideException(), any(Number.class),
+        eq(builder.target), anyBoolean()))
+        .thenReturn(false);
+    when(listener2.onLoadFailed(isAGlideException(), any(Number.class),
         eq(builder.target), anyBoolean()))
         .thenReturn(true);
 
@@ -518,37 +513,37 @@ public void testDoesNotCallTargetOnExceptionIfRequestListenerReturnsTrue() {
 
   @Test
   public void testRequestListenerIsCalledWithResourceResult() {
-    SingleRequest<List> request = builder.build();
+    SingleRequest<List> request = builder.addRequestListener(listener1).build();
     request.onResourceReady(builder.resource, DataSource.DATA_DISK_CACHE);
 
-    verify(builder.requestListener)
+    verify(listener1)
         .onResourceReady(eq(builder.result), any(Number.class), isAListTarget(), isADataSource(),
             anyBoolean());
   }
 
   @Test
   public void testRequestListenerIsCalledWithModel() {
-    SingleRequest<List> request = builder.build();
+    SingleRequest<List> request = builder.addRequestListener(listener1).build();
     request.onResourceReady(builder.resource, DataSource.DATA_DISK_CACHE);
 
-    verify(builder.requestListener)
+    verify(listener1)
         .onResourceReady(any(List.class), eq(builder.model), isAListTarget(), isADataSource(),
             anyBoolean());
   }
 
   @Test
   public void testRequestListenerIsCalledWithTarget() {
-    SingleRequest<List> request = builder.build();
+    SingleRequest<List> request = builder.addRequestListener(listener1).build();
     request.onResourceReady(builder.resource, DataSource.DATA_DISK_CACHE);
 
-    verify(builder.requestListener)
+    verify(listener1)
         .onResourceReady(any(List.class), any(Number.class), eq(builder.target), isADataSource(),
             anyBoolean());
   }
 
   @Test
   public void testRequestListenerIsCalledWithLoadedFromMemoryIfLoadCompletesSynchronously() {
-    final SingleRequest<List> request = builder.build();
+    final SingleRequest<List> request = builder.addRequestListener(listener1).build();
 
     when(builder.engine
         .load(
@@ -580,7 +575,7 @@ public Object answer(InvocationOnMock invocation) {
 
     request.begin();
     request.onSizeReady(100, 100);
-    verify(builder.requestListener)
+    verify(listener1)
         .onResourceReady(eq(builder.result), any(Number.class), isAListTarget(),
             eq(DataSource.MEMORY_CACHE), anyBoolean());
   }
@@ -588,11 +583,11 @@ public Object answer(InvocationOnMock invocation) {
   @Test
   public void
   testRequestListenerIsCalledWithNotLoadedFromMemoryCacheIfLoadCompletesAsynchronously() {
-    SingleRequest<List> request = builder.build();
+    SingleRequest<List> request = builder.addRequestListener(listener1).build();
     request.onSizeReady(100, 100);
     request.onResourceReady(builder.resource, DataSource.LOCAL);
 
-    verify(builder.requestListener)
+    verify(listener1)
         .onResourceReady(eq(builder.result), any(Number.class), isAListTarget(),
             eq(DataSource.LOCAL), anyBoolean());
   }
@@ -601,21 +596,22 @@ public Object answer(InvocationOnMock invocation) {
   public void testRequestListenerIsCalledWithIsFirstResourceIfNoRequestCoordinator() {
     SingleRequest<List> request = builder
         .setRequestCoordinator(null)
+        .addRequestListener(listener1)
         .build();
     request.onResourceReady(builder.resource, DataSource.DATA_DISK_CACHE);
 
-    verify(builder.requestListener)
+    verify(listener1)
         .onResourceReady(eq(builder.result), any(Number.class), isAListTarget(), isADataSource(),
             eq(true));
   }
 
   @Test
   public void testRequestListenerIsCalledWithFirstImageIfRequestCoordinatorReturnsNoResourceSet() {
-    SingleRequest<List> request = builder.build();
+    SingleRequest<List> request = builder.addRequestListener(listener1).build();
     when(builder.requestCoordinator.isAnyResourceSet()).thenReturn(false);
     request.onResourceReady(builder.resource, DataSource.DATA_DISK_CACHE);
 
-    verify(builder.requestListener)
+    verify(listener1)
         .onResourceReady(eq(builder.result), any(Number.class), isAListTarget(), isADataSource(),
             eq(true));
   }
@@ -623,11 +619,11 @@ public void testRequestListenerIsCalledWithFirstImageIfRequestCoordinatorReturns
   @Test
   public void
   testRequestListenerIsCalledWithNotIsFirstRequestIfRequestCoordinatorReturnsResourceSet() {
-    SingleRequest<List> request = builder.build();
+    SingleRequest<List> request = builder.addRequestListener(listener1).build();
     when(builder.requestCoordinator.isAnyResourceSet()).thenReturn(true);
     request.onResourceReady(builder.resource, DataSource.DATA_DISK_CACHE);
 
-    verify(builder.requestListener)
+    verify(listener1)
         .onResourceReady(eq(builder.result), any(Number.class), isAListTarget(),
             isADataSource(), eq(false));
   }
@@ -718,7 +714,7 @@ public void testDoesNotSetErrorDrawableIfRequestCoordinatorDoesntAllowIt() {
   }
 
   @Test
-  public void testCanReRunCancelledRequests() {
+  public void testCanReRunClearedRequests() {
     doAnswer(new CallSizeReady(100, 100)).when(builder.target)
         .getSize(any(SizeReadyCallback.class));
 
@@ -746,7 +742,7 @@ public void testCanReRunCancelledRequests() {
     SingleRequest<List> request = builder.build();
 
     request.begin();
-    request.cancel();
+    request.clear();
     request.begin();
 
     verify(builder.target, times(2)).onResourceReady(eq(builder.result), anyTransition());
@@ -761,9 +757,9 @@ public void testResourceOnlyReceivesOneGetOnResourceReady() {
   }
 
   @Test
-  public void testDoesNotStartALoadIfOnSizeReadyIsCalledAfterCancel() {
+  public void testDoesNotStartALoadIfOnSizeReadyIsCalledAfterClear() {
     SingleRequest<List> request = builder.build();
-    request.cancel();
+    request.clear();
     request.onSizeReady(100, 100);
 
     verify(builder.engine, never())
@@ -872,13 +868,9 @@ protected int doHash(@NonNull SingleRequestBuilder listSingleRequest) {
         });
     tester
         .addEquivalenceGroup(
-            new SingleRequestBuilder(),
-            new SingleRequestBuilder(),
             // Non-null request listeners are treated as equivalent, even if they're not equal.
-            new SingleRequestBuilder().setRequestListener(mock(RequestListener.class)))
-        .addEquivalenceGroup(
-            new SingleRequestBuilder().setRequestListener(null),
-            new SingleRequestBuilder().setRequestListener(null))
+            new SingleRequestBuilder().addRequestListener(listener1),
+            new SingleRequestBuilder().addRequestListener(listener2))
         .addEquivalenceGroup(
             new SingleRequestBuilder().setOverrideHeight(500),
             new SingleRequestBuilder().setOverrideHeight(500))
@@ -891,9 +883,6 @@ protected int doHash(@NonNull SingleRequestBuilder listSingleRequest) {
         .addEquivalenceGroup(
             new SingleRequestBuilder().setModel(null),
             new SingleRequestBuilder().setModel(null))
-        .addEquivalenceGroup(
-            new SingleRequestBuilder().setErrorDrawable(new ColorDrawable(Color.GRAY)),
-            new SingleRequestBuilder().setErrorDrawable(new ColorDrawable(Color.GRAY)))
         .addEquivalenceGroup(
             new SingleRequestBuilder().setPriority(Priority.LOW),
             new SingleRequestBuilder().setPriority(Priority.LOW))
@@ -911,7 +900,7 @@ protected int doHash(@NonNull SingleRequestBuilder listSingleRequest) {
     private Drawable errorDrawable = null;
     private Drawable fallbackDrawable = null;
     @SuppressWarnings("unchecked")
-    private RequestListener<List> requestListener = mock(RequestListener.class);
+    private List<RequestListener<List>> requestListeners = new ArrayList<>();
     @SuppressWarnings("unchecked")
     private final TransitionFactory<List> transitionFactory = mock(TransitionFactory.class);
     private int overrideWidth = -1;
@@ -971,8 +960,8 @@ SingleRequestBuilder setFallbackDrawable(Drawable fallbackDrawable) {
       return this;
     }
 
-    SingleRequestBuilder setRequestListener(RequestListener<List> requestListener) {
-      this.requestListener = requestListener;
+    SingleRequestBuilder addRequestListener(RequestListener<List> requestListener) {
+      this.requestListeners.add(requestListener);
       return this;
     }
 
@@ -1022,7 +1011,7 @@ SingleRequestBuilder setUseUnlimitedSourceGeneratorsPool(
           priority,
           target,
           /*targetListener=*/ null,
-          requestListener,
+          requestListeners,
           requestCoordinator,
           engine,
           transitionFactory);
diff --git a/library/test/src/test/java/com/bumptech/glide/request/ThumbnailRequestCoordinatorTest.java b/library/test/src/test/java/com/bumptech/glide/request/ThumbnailRequestCoordinatorTest.java
index 4850a2d01..5bab9738a 100644
--- a/library/test/src/test/java/com/bumptech/glide/request/ThumbnailRequestCoordinatorTest.java
+++ b/library/test/src/test/java/com/bumptech/glide/request/ThumbnailRequestCoordinatorTest.java
@@ -143,19 +143,6 @@ public void testRecyclesRequestsWhenRecycled() {
     verify(full).recycle();
   }
 
-  @Test
-  public void testIsPausedWhenFullIsPaused() {
-    when(full.isPaused()).thenReturn(true);
-    assertTrue(coordinator.isPaused());
-  }
-
-  @Test
-  public void testPausesBothRequestsWhenPaused() {
-    coordinator.pause();
-    verify(full).pause();
-    verify(thumb).pause();
-  }
-
   @Test
   public void testCanSetImageReturnsTrueForFullRequestIfCoordinatorIsNull() {
     coordinator = new ThumbnailRequestCoordinator();
diff --git a/library/test/src/test/java/com/bumptech/glide/request/target/ImageViewTargetTest.java b/library/test/src/test/java/com/bumptech/glide/request/target/ImageViewTargetTest.java
index 336a0ee29..9fd3f101d 100644
--- a/library/test/src/test/java/com/bumptech/glide/request/target/ImageViewTargetTest.java
+++ b/library/test/src/test/java/com/bumptech/glide/request/target/ImageViewTargetTest.java
@@ -1,5 +1,6 @@
 package com.bumptech.glide.request.target;
 
+import static com.google.common.truth.Truth.assertThat;
 import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertNull;
 import static org.mockito.Matchers.any;
@@ -19,6 +20,7 @@
 import org.junit.Before;
 import org.junit.Test;
 import org.junit.runner.RunWith;
+import org.mockito.ArgumentCaptor;
 import org.mockito.InOrder;
 import org.mockito.Mock;
 import org.mockito.MockitoAnnotations;
@@ -108,7 +110,9 @@ public void testProvidesCurrentPlaceholderToAnimationIfPresent() {
 
     target.onResourceReady(new ColorDrawable(Color.GREEN), animation);
 
-    verify(animation).transition(eq(placeholder), eq(target));
+    ArgumentCaptor<Drawable> drawableCaptor = ArgumentCaptor.forClass(Drawable.class);
+    verify(animation).transition(drawableCaptor.capture(), eq(target));
+    assertThat(((ColorDrawable) drawableCaptor.getValue()).getColor()).isEqualTo(Color.GREEN);
   }
 
   @Test
diff --git a/library/test/src/test/java/com/bumptech/glide/request/target/ViewTargetTest.java b/library/test/src/test/java/com/bumptech/glide/request/target/ViewTargetTest.java
index 69b694138..f6ae534f4 100644
--- a/library/test/src/test/java/com/bumptech/glide/request/target/ViewTargetTest.java
+++ b/library/test/src/test/java/com/bumptech/glide/request/target/ViewTargetTest.java
@@ -19,6 +19,7 @@
 import android.os.Build;
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
+import android.view.Display;
 import android.view.View;
 import android.view.View.OnAttachStateChangeListener;
 import android.view.ViewTreeObserver;
@@ -46,7 +47,6 @@
 import org.robolectric.annotation.Implements;
 import org.robolectric.annotation.RealObject;
 import org.robolectric.shadow.api.Shadow;
-import org.robolectric.shadows.ShadowDisplay;
 import org.robolectric.shadows.ShadowView;
 
 @RunWith(RobolectricTestRunner.class)
@@ -470,14 +470,13 @@ public void getSize_withWidthAndHeightEqualToPadding_doesNotCallSizeReady() {
   private void setDisplayDimens(Integer width, Integer height) {
     WindowManager windowManager =
         (WindowManager) RuntimeEnvironment.application.getSystemService(Context.WINDOW_SERVICE);
-    ShadowDisplay shadowDisplay =
-        Shadows.shadowOf(Preconditions.checkNotNull(windowManager).getDefaultDisplay());
+    Display display = Preconditions.checkNotNull(windowManager).getDefaultDisplay();
     if (width != null) {
-      shadowDisplay.setWidth(width);
+      Shadows.shadowOf(display).setWidth(width);
     }
 
     if (height != null) {
-      shadowDisplay.setHeight(height);
+      Shadows.shadowOf(display).setHeight(height);
     }
   }
 
@@ -488,26 +487,16 @@ public void clearOnDetach_onDetach_withNullRequest_doesNothing() {
     shadowView.callOnAttachedToWindow();
   }
 
+  // This behavior isn't clearly correct, but it doesn't seem like there's any harm to clear an
+  // already cleared request, so we might as well avoid the extra check/complexity in the code.
   @Test
-  public void clearOnDetach_onDetach_withCancelledRequest_doesNotPauseRequest() {
+  public void clearOnDetach_onDetach_withClearedRequest_clearsRequest() {
     attachStateTarget.clearOnDetach();
     attachStateTarget.setRequest(request);
-    when(request.isCancelled()).thenReturn(true);
+    when(request.isCleared()).thenReturn(true);
     shadowView.callOnDetachedFromWindow();
 
-    verify(request, never()).pause();
-    verify(request, never()).clear();
-  }
-
-  @Test
-  public void clearOnDetach_onDetach_withPausedRequest_doesNotPauseRequest() {
-    attachStateTarget.clearOnDetach();
-    attachStateTarget.setRequest(request);
-    when(request.isPaused()).thenReturn(true);
-    shadowView.callOnDetachedFromWindow();
-
-    verify(request, never()).pause();
-    verify(request, never()).clear();
+    verify(request).clear();
   }
 
   @Test
@@ -516,7 +505,7 @@ public void clearOnDetach_onDetach_withRunningRequest_pausesRequestOnce() {
     attachStateTarget.setRequest(request);
     shadowView.callOnDetachedFromWindow();
 
-    verify(request).pause();
+    verify(request).clear();
   }
 
   @Test
@@ -526,7 +515,6 @@ public void clearOnDetach_onDetach_afterOnLoadCleared_removesListener() {
     attachStateTarget.setRequest(request);
     shadowView.callOnDetachedFromWindow();
 
-    verify(request, never()).pause();
     verify(request, never()).clear();
   }
 
@@ -549,18 +537,19 @@ public void clearOnDetach_onDetach_afterMultipleClearOnDetaches_removesListener(
     attachStateTarget.setRequest(request);
     shadowView.callOnDetachedFromWindow();
 
-    verify(request, never()).pause();
     verify(request, never()).clear();
   }
 
+  // This behavior isn't clearly correct, but it doesn't seem like there's any harm to clear an
+  // already cleared request, so we might as well avoid the extra check/complexity in the code.
   @Test
-  public void clearOnDetach_onDetach_afterLoadCleared_doesNotPauseRequest() {
+  public void clearOnDetach_onDetach_afterLoadCleared_clearsRequest() {
     attachStateTarget.clearOnDetach();
     attachStateTarget.setRequest(request);
-    attachStateTarget.onLoadCleared(/*placeholder=*/ null);
+    when(request.isCleared()).thenReturn(true);
     shadowView.callOnDetachedFromWindow();
 
-    verify(request, never()).pause();
+    verify(request).clear();
   }
 
   @Test
@@ -574,27 +563,27 @@ public void clearOnDetach_onAttach_withNullRequest_doesNothing() {
   public void clearOnDetach_onAttach_withRunningRequest_doesNotBeginRequest() {
     attachStateTarget.clearOnDetach();
     attachStateTarget.setRequest(request);
-    when(request.isPaused()).thenReturn(false);
+    when(request.isCleared()).thenReturn(false);
     shadowView.callOnAttachedToWindow();
 
     verify(request, never()).begin();
   }
 
   @Test
-  public void clearOnDetach_onAttach_withPausedRequest_beginsRequest() {
+  public void clearOnDetach_onAttach_withClearedRequest_beginsRequest() {
     attachStateTarget.clearOnDetach();
     attachStateTarget.setRequest(request);
-    when(request.isPaused()).thenReturn(true);
+    when(request.isCleared()).thenReturn(true);
     shadowView.callOnAttachedToWindow();
 
     verify(request).begin();
   }
 
   @Test
-  public void clearOnDetach_afterLoadClearedAndRestarted_onAttach_beingsREquest() {
+  public void clearOnDetach_afterLoadClearedAndRestarted_onAttach_beingsRequest() {
     attachStateTarget.clearOnDetach();
     attachStateTarget.setRequest(request);
-    when(request.isPaused()).thenReturn(true);
+    when(request.isCleared()).thenReturn(true);
     attachStateTarget.onLoadCleared(/*placeholder=*/ null);
     attachStateTarget.onLoadStarted(/*placeholder=*/ null);
     shadowView.callOnAttachedToWindow();
@@ -606,7 +595,7 @@ public void clearOnDetach_afterLoadClearedAndRestarted_onAttach_beingsREquest()
   public void clearOnDetach_onAttach_afterLoadCleared_doesNotBeingRequest() {
     attachStateTarget.clearOnDetach();
     attachStateTarget.setRequest(request);
-    when(request.isPaused()).thenReturn(true);
+    when(request.isCleared()).thenReturn(true);
     attachStateTarget.onLoadCleared(/*placeholder=*/ null);
     shadowView.callOnAttachedToWindow();
 
@@ -697,7 +686,7 @@ void fireOnPreDrawListeners() {
     private LayoutParams layoutParams;
     private boolean isLaidOut;
     private boolean isLayoutRequested;
-    private final Set<OnAttachStateChangeListener> attachStateListeners = new HashSet<>();
+    final Set<OnAttachStateChangeListener> attachStateListeners = new HashSet<>();
 
     public SizedShadowView setWidth(int width) {
       this.width = width;
diff --git a/samples/contacturi/lint.xml b/samples/contacturi/lint.xml
index ab5a637a0..bd2bae772 100644
--- a/samples/contacturi/lint.xml
+++ b/samples/contacturi/lint.xml
@@ -1,4 +1,5 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <lint>
     <issue id="GoogleAppIndexingWarning" severity="ignore"/>
+    <issue id="GradleDependency" severity="ignore"/>
 </lint>
diff --git a/samples/flickr/lint.xml b/samples/flickr/lint.xml
index ac292ab1a..0808ec2c6 100644
--- a/samples/flickr/lint.xml
+++ b/samples/flickr/lint.xml
@@ -4,4 +4,5 @@
     <issue id="GradleOverrides" severity="ignore" />
     <issue id="IconMissingDensityFolder" severity="ignore"/>
     <issue id="GoogleAppIndexingWarning" severity="ignore"/>
+    <issue id="GradleDependency" severity="ignore" />
 </lint>
diff --git a/samples/flickr/src/main/java/com/bumptech/glide/samples/flickr/FlickrGlideExtension.java b/samples/flickr/src/main/java/com/bumptech/glide/samples/flickr/FlickrGlideExtension.java
index 1a5346d09..57c9ee173 100644
--- a/samples/flickr/src/main/java/com/bumptech/glide/samples/flickr/FlickrGlideExtension.java
+++ b/samples/flickr/src/main/java/com/bumptech/glide/samples/flickr/FlickrGlideExtension.java
@@ -3,7 +3,7 @@
 import android.support.annotation.NonNull;
 import com.bumptech.glide.annotation.GlideExtension;
 import com.bumptech.glide.annotation.GlideOption;
-import com.bumptech.glide.request.RequestOptions;
+import com.bumptech.glide.request.BaseRequestOptions;
 import com.bumptech.glide.samples.flickr.api.Api;
 
 /**
@@ -20,13 +20,13 @@ private FlickrGlideExtension() {
 
   @NonNull
   @GlideOption
-  public static RequestOptions squareThumb(RequestOptions requestOptions) {
+  public static BaseRequestOptions<?> squareThumb(BaseRequestOptions<?> requestOptions) {
     return requestOptions.centerCrop();
   }
 
   @NonNull
   @GlideOption
-  public static RequestOptions squareMiniThumb(RequestOptions requestOptions) {
+  public static BaseRequestOptions<?> squareMiniThumb(BaseRequestOptions<?> requestOptions) {
     return requestOptions.centerCrop().override(Api.SQUARE_THUMB_SIZE);
   }
 }
diff --git a/samples/gallery/lint.xml b/samples/gallery/lint.xml
index ac292ab1a..0808ec2c6 100644
--- a/samples/gallery/lint.xml
+++ b/samples/gallery/lint.xml
@@ -4,4 +4,5 @@
     <issue id="GradleOverrides" severity="ignore" />
     <issue id="IconMissingDensityFolder" severity="ignore"/>
     <issue id="GoogleAppIndexingWarning" severity="ignore"/>
+    <issue id="GradleDependency" severity="ignore" />
 </lint>
diff --git a/samples/giphy/lint.xml b/samples/giphy/lint.xml
index 94bb2b69c..c02d95c38 100644
--- a/samples/giphy/lint.xml
+++ b/samples/giphy/lint.xml
@@ -3,4 +3,5 @@
     <!-- Not supported by all build systems -->
     <issue id="GradleOverrides" severity="ignore" />
     <issue id="GoogleAppIndexingWarning" severity="ignore"/>
+    <issue id="GradleDependency" severity="ignore" />
 </lint>
diff --git a/samples/giphy/src/main/java/com/bumptech/glide/samples/giphy/Api.java b/samples/giphy/src/main/java/com/bumptech/glide/samples/giphy/Api.java
index e58c5bd0d..4f78d2d69 100644
--- a/samples/giphy/src/main/java/com/bumptech/glide/samples/giphy/Api.java
+++ b/samples/giphy/src/main/java/com/bumptech/glide/samples/giphy/Api.java
@@ -3,6 +3,7 @@
 import android.os.Handler;
 import android.os.HandlerThread;
 import android.os.Looper;
+import com.bumptech.glide.util.Util;
 import com.google.gson.Gson;
 import java.io.IOException;
 import java.io.InputStream;
@@ -140,11 +141,31 @@ public String toString() {
 
   /**
    * A POJO mirroring an individual GIF image returned from Giphy's api.
+   *
+   * <p>Implements equals and hashcode so that in memory caching will work when this object is used
+   * as a model for loading Glide's images.
    */
   public static final class GifResult {
     public String id;
     GifUrlSet images;
 
+    @Override
+    public int hashCode() {
+      int result = id != null ? id.hashCode() : 17;
+      result = 31 * result + (images != null ? images.hashCode() : 17);
+      return result;
+    }
+
+    @Override
+    public boolean equals(Object obj) {
+      if (obj instanceof GifResult) {
+        GifResult other = (GifResult) obj;
+        return Util.bothNullOrEqual(id, other.id)
+            && Util.bothNullOrEqual(images, other.images);
+      }
+      return false;
+    }
+
     @Override
     public String toString() {
       return "GifResult{" + "id='" + id + '\'' + ", images=" + images
@@ -161,6 +182,25 @@ public String toString() {
     GifImage fixed_width;
     GifImage fixed_height;
 
+    @Override
+    public int hashCode() {
+      int result = original != null ? original.hashCode() : 17;
+      result = 31 * result + (fixed_width != null ? fixed_width.hashCode() : 17);
+      result = 31 * result + (fixed_height != null ? fixed_height.hashCode() : 17);
+      return result;
+    }
+
+    @Override
+    public boolean equals(Object obj) {
+      if (obj instanceof GifUrlSet) {
+        GifUrlSet other = (GifUrlSet) obj;
+        return Util.bothNullOrEqual(original, other.original)
+            && Util.bothNullOrEqual(fixed_width, other.fixed_width)
+            && Util.bothNullOrEqual(fixed_height, other.fixed_height);
+      }
+      return false;
+    }
+
     @Override
     public String toString() {
       return "GifUrlSet{" + "original=" + original + ", fixed_width="
@@ -179,6 +219,24 @@ public String toString() {
     int height;
 
     @Override
+    public int hashCode() {
+      int result = url != null ? url.hashCode() : 17;
+      result = 31 * result + width;
+      result = 31 * result + height;
+      return result;
+    }
+
+    @Override
+    public boolean equals(Object obj) {
+      if (obj instanceof GifImage) {
+        GifImage other = (GifImage) obj;
+        return other.width == width
+            && other.height == height
+            && Util.bothNullOrEqual(url, other.url);
+      }
+      return false;
+    }
+
     public String toString() {
       return "GifImage{" + "url='" + url + '\'' + ", width=" + width + ", height=" + height + '}';
     }
diff --git a/samples/imgur/build.gradle b/samples/imgur/build.gradle
index 215392a94..825ea2f16 100644
--- a/samples/imgur/build.gradle
+++ b/samples/imgur/build.gradle
@@ -50,7 +50,7 @@ dependencies {
 
     // Fixes a compilation warning related to dagger, see
     // https://github.com/google/guava/issues/2721.
-    compileOnly "com.google.errorprone:error_prone_annotations:2.1.3"
+    compileOnly "com.google.errorprone:error_prone_annotations:${ERROR_PRONE_VERSION}"
 }
 
 task run(type: Exec, dependsOn: 'installDebug') {
diff --git a/samples/imgur/lint.xml b/samples/imgur/lint.xml
index ac292ab1a..0808ec2c6 100644
--- a/samples/imgur/lint.xml
+++ b/samples/imgur/lint.xml
@@ -4,4 +4,5 @@
     <issue id="GradleOverrides" severity="ignore" />
     <issue id="IconMissingDensityFolder" severity="ignore"/>
     <issue id="GoogleAppIndexingWarning" severity="ignore"/>
+    <issue id="GradleDependency" severity="ignore" />
 </lint>
diff --git a/samples/svg/lint.xml b/samples/svg/lint.xml
index 94bb2b69c..11fca2666 100644
--- a/samples/svg/lint.xml
+++ b/samples/svg/lint.xml
@@ -3,4 +3,5 @@
     <!-- Not supported by all build systems -->
     <issue id="GradleOverrides" severity="ignore" />
     <issue id="GoogleAppIndexingWarning" severity="ignore"/>
+    <issue id="GradleDependency" severity="ignore"/>
 </lint>
diff --git a/third_party/gif_decoder/src/main/java/com/bumptech/glide/gifdecoder/StandardGifDecoder.java b/third_party/gif_decoder/src/main/java/com/bumptech/glide/gifdecoder/StandardGifDecoder.java
index 4ce8a73c3..9256943d9 100644
--- a/third_party/gif_decoder/src/main/java/com/bumptech/glide/gifdecoder/StandardGifDecoder.java
+++ b/third_party/gif_decoder/src/main/java/com/bumptech/glide/gifdecoder/StandardGifDecoder.java
@@ -766,8 +766,9 @@ private void decodeBitmapData(GifFrame frame) {
         } else if (code == endOfInformation) {
           break;
         } else if (oldCode == NULL_CODE) {
-          pixelStack[top] = suffix[code];
-          ++top;
+          mainPixels[pi] = suffix[code];
+          ++pi;
+          ++i;
           oldCode = code;
           first = code;
           continue;
diff --git a/third_party/gif_decoder/src/test/java/com/bumptech/glide/gifdecoder/GifDecoderTest.java b/third_party/gif_decoder/src/test/java/com/bumptech/glide/gifdecoder/GifDecoderTest.java
index cc25027e0..9e19f98ab 100644
--- a/third_party/gif_decoder/src/test/java/com/bumptech/glide/gifdecoder/GifDecoderTest.java
+++ b/third_party/gif_decoder/src/test/java/com/bumptech/glide/gifdecoder/GifDecoderTest.java
@@ -34,6 +34,21 @@ public void setUp() {
     provider = new MockProvider();
   }
 
+  @Test
+  public void testCorrectPixelsDecoded() throws IOException {
+    byte[] data = TestUtil.resourceToBytes(getClass(), "white_black_row.gif");
+    GifHeaderParser headerParser = new GifHeaderParser();
+    headerParser.setData(data);
+    GifHeader header = headerParser.parseHeader();
+    GifDecoder decoder = new StandardGifDecoder(provider);
+    decoder.setData(header, data);
+    decoder.advance();
+    Bitmap bitmap = decoder.getNextFrame();
+    assertNotNull(bitmap);
+    assertEquals(bitmap.getPixel(2, 0), bitmap.getPixel(0, 0));
+    assertEquals(bitmap.getPixel(3, 0), bitmap.getPixel(1, 0));
+  }
+
   @Test
   public void testCanDecodeFramesFromTestGif() throws IOException {
     byte[] data = TestUtil.resourceToBytes(getClass(), "partial_gif_decode.gif");
diff --git a/third_party/gif_decoder/src/test/resources/white_black_row.gif b/third_party/gif_decoder/src/test/resources/white_black_row.gif
new file mode 100644
index 000000000..ca7f1cb96
Binary files /dev/null and b/third_party/gif_decoder/src/test/resources/white_black_row.gif differ
