diff --git a/.github/stale.yml b/.github/stale.yml
index 935131154..d20444829 100644
--- a/.github/stale.yml
+++ b/.github/stale.yml
@@ -8,6 +8,7 @@ exemptLabels:
   - enhancement
   - feature
   - documentation
+  - build stability
 # Label to use when marking an issue as stale
 staleLabel: stale
 # Comment to post when marking an issue as stale. Set to `false` to disable
diff --git a/.gitignore b/.gitignore
index e4715bcbf..37ac0c17d 100644
--- a/.gitignore
+++ b/.gitignore
@@ -2,13 +2,11 @@
 local.properties
 *.keystore
 *.DS_Store
-proguard-project.txt
 
 # Gradle
-**/.gradle
-**/.settings
-**/build
-**/jacoco.exec
+.gradle
+build
+jacoco.exec
 
 # gh-pages
 doc/**
@@ -23,24 +21,7 @@ docs/**/*
 # sed
 *.bak
 
-# Intellij 
-*.ipr
+# Intellij
 *.iml
-*.iws
-**/.idea/.name
-**/.idea/compiler.xml
-**/.idea/copyright/profiles_settings.xml
-**/.idea/encodings.xml
-**/.idea/misc.xml
-**/.idea/modules.xml
-**/.idea/scopes/scope_settings.xml
-**/.idea/vcs.xml
-**/.idea/libraries
-**/.idea/workspace.xml
-**/.idea/tasks.xml
-**/.idea/gradle.xml
-**/.idea/dictionaries
-**/.idea/dataSources.ids
-**/.idea/datasources.xml
-**/.idea/uiDesigner.xml
-**/.idea/runConfigurations.xml
+.idea/**
+!.idea/codeStyleSettings.xml
diff --git a/.travis.yml b/.travis.yml
index 1c57d4fc8..8940a3620 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -2,16 +2,16 @@ language: android
 sudo: required
 dist: trusty
 
+before_install:
+  - mkdir "$ANDROID_HOME/licenses" || true
+  - echo -e "\n8933bad161af4178b1185d1a37fbf41ea5269c55\nd56f5187479451eabf01fb78af6dfcb131a6481e" > "$ANDROID_HOME/licenses/android-sdk-license"
+  - echo -e "\n84831b9409646a918e30573bab4c9c91346d8abd\n504667f4c0de7af1a06de9f4b1727b84351f2910" > "$ANDROID_HOME/licenses/android-sdk-preview-license"
+
 android:
   components:
-  - tools
-  - platform-tools
-  - tools
-  - build-tools-26.0.2
-  - android-26
-
-licenses:
-  - 'android-sdk-license.*'
+    # https://github.com/travis-ci/travis-ci/issues/6040#issuecomment-219367943
+    - tools
+    - tools
 
 jdk:
   - oraclejdk8
diff --git a/README.md b/README.md
index 0d6f7b47e..24aca5afa 100644
--- a/README.md
+++ b/README.md
@@ -121,13 +121,13 @@ Comments/bugs/questions/pull requests are always welcome! Please read [CONTRIBUT
 Compatibility
 -------------
 
- * **Minimum Android SDK**: Glide requires a minimum API level of 14.
- * **Compile Android SDK**: Glide requires you to compile against API 26.
+ * **Minimum Android SDK**: Glide v4 requires a minimum API level of 14.
+ * **Compile Android SDK**: Glide v4 requires you to compile against API 26 or later.
 
- If you need to support older versions, consider staying on [Glide v3][14], which works on API 10, but not actively maintained.
- * **OkHttp 2.x**: there are optional dependencies available called `okhttp-integration`, see [Integration Libraries][12] wiki page.
- * **OkHttp 3.x**: there are optional dependencies available called `okhttp3-integration`, see [Integration Libraries][12] wiki page.
- * **Volley**: there are optional dependencies available called `volley-integration`, see [Integration Libraries][12] wiki page.
+ If you need to support older versions of Android, consider staying on [Glide v3][14], which works on API 10, but is not actively maintained.
+
+ * **OkHttp 3.x**: There is an optional dependency available called `okhttp3-integration`, see the [docs page][23].
+ * **Volley**: There is an optional dependency available called `volley-integration`, see the [docs page][24].
  * **Round Pictures**: `CircleImageView`/`CircularImageView`/`RoundedImageView` are known to have [issues][18] with `TransitionDrawable` (`.crossFade()` with `.thumbnail()` or `.placeholder()`) and animated GIFs, use a [`BitmapTransformation`][19] (`.circleCrop()` will be available in v4) or `.dontAnimate()` to fix the issue.
  * **Huge Images** (maps, comic strips): Glide can load huge images by downsampling them, but does not support zooming and panning `ImageView`s as they require special resource optimizations (such as tiling) to work without `OutOfMemoryError`s.
 
@@ -220,3 +220,5 @@ This is not an official Google product.
 [20]: https://bumptech.github.io/glide/
 [21]: https://bumptech.github.io/glide/doc/generatedapi.html
 [22]: https://muyangmin.github.io/glide-docs-cn/
+[23]: http://bumptech.github.io/glide/int/okhttp3.html
+[24]: http://bumptech.github.io/glide/int/volley.html
diff --git a/build.gradle b/build.gradle
index e905716c5..300d43fa2 100644
--- a/build.gradle
+++ b/build.gradle
@@ -1,7 +1,7 @@
 buildscript {
     repositories {
-        jcenter()
         google()
+        jcenter()
         maven {
             url "https://oss.sonatype.org/content/repositories/snapshots"
         }
@@ -65,19 +65,17 @@ subprojects { project ->
 
 subprojects { project ->
     repositories {
+        google()
         jcenter()
         maven {
             url "https://oss.sonatype.org/content/repositories/snapshots"
         }
-        maven {
-            url "https://maven.google.com"
-        }
     }
 
     apply plugin: 'checkstyle'
 
     checkstyle {
-        toolVersion = '8.4'
+        toolVersion = '8.5'
     }
 
     checkstyle {
@@ -101,9 +99,3 @@ subprojects { project ->
     }
 }
 
-task wrapper(type: Wrapper) {
-    gradleVersion = '4.1'
-    //noinspection UnnecessaryQualifiedReference
-    distributionType = Wrapper.DistributionType.ALL
-}
-
diff --git a/gradle.properties b/gradle.properties
index 7000caab0..5b648a8af 100644
--- a/gradle.properties
+++ b/gradle.properties
@@ -38,7 +38,6 @@ FINDBUGS_VERSION=3.0.0
 JACOCO_VERSION=0.7.1.201405082137
 
 COMPILE_SDK_VERSION=26
-BUILD_TOOLS_VERSION=26.0.2
 TARGET_SDK_VERSION=26
 MIN_SDK_VERSION=14
 
diff --git a/gradle/wrapper/gradle-wrapper.jar b/gradle/wrapper/gradle-wrapper.jar
index ed88a042a..6b6ea3ab4 100644
Binary files a/gradle/wrapper/gradle-wrapper.jar and b/gradle/wrapper/gradle-wrapper.jar differ
diff --git a/gradle/wrapper/gradle-wrapper.properties b/gradle/wrapper/gradle-wrapper.properties
index c583957d2..702c4b68b 100644
--- a/gradle/wrapper/gradle-wrapper.properties
+++ b/gradle/wrapper/gradle-wrapper.properties
@@ -2,4 +2,4 @@ distributionBase=GRADLE_USER_HOME
 distributionPath=wrapper/dists
 zipStoreBase=GRADLE_USER_HOME
 zipStorePath=wrapper/dists
-distributionUrl=https\://services.gradle.org/distributions/gradle-4.2.1-all.zip
+distributionUrl=https\://services.gradle.org/distributions/gradle-4.3.1-all.zip
diff --git a/instrumentation/build.gradle b/instrumentation/build.gradle
index 35a3c813c..c9ab489a7 100644
--- a/instrumentation/build.gradle
+++ b/instrumentation/build.gradle
@@ -31,7 +31,6 @@ dependencies {
 
 android {
     compileSdkVersion COMPILE_SDK_VERSION as int
-    buildToolsVersion BUILD_TOOLS_VERSION as String
 
     defaultConfig {
         applicationId 'com.bumptech.glide.instrumentation'
diff --git a/integration/gifencoder/build.gradle b/integration/gifencoder/build.gradle
index 966d40965..a2ebd546b 100644
--- a/integration/gifencoder/build.gradle
+++ b/integration/gifencoder/build.gradle
@@ -13,7 +13,6 @@ dependencies {
 
 android {
     compileSdkVersion COMPILE_SDK_VERSION as int
-    buildToolsVersion BUILD_TOOLS_VERSION as String
 
     sourceSets {
         main {
diff --git a/integration/okhttp/build.gradle b/integration/okhttp/build.gradle
index 5482f12c9..f86e60534 100644
--- a/integration/okhttp/build.gradle
+++ b/integration/okhttp/build.gradle
@@ -10,7 +10,6 @@ dependencies {
 
 android {
     compileSdkVersion COMPILE_SDK_VERSION as int
-    buildToolsVersion BUILD_TOOLS_VERSION as String
 
     defaultConfig {
         minSdkVersion MIN_SDK_VERSION as int
diff --git a/integration/okhttp3/build.gradle b/integration/okhttp3/build.gradle
index 5cf1c2e81..8e8590841 100644
--- a/integration/okhttp3/build.gradle
+++ b/integration/okhttp3/build.gradle
@@ -10,7 +10,6 @@ dependencies {
 
 android {
     compileSdkVersion COMPILE_SDK_VERSION as int
-    buildToolsVersion BUILD_TOOLS_VERSION as String
 
     defaultConfig {
         minSdkVersion MIN_SDK_VERSION as int
diff --git a/integration/recyclerview/build.gradle b/integration/recyclerview/build.gradle
index 8031d9730..2a6154e9f 100644
--- a/integration/recyclerview/build.gradle
+++ b/integration/recyclerview/build.gradle
@@ -8,7 +8,6 @@ dependencies {
 
 android {
     compileSdkVersion COMPILE_SDK_VERSION as int
-    buildToolsVersion BUILD_TOOLS_VERSION as String
 
     defaultConfig {
         minSdkVersion MIN_SDK_VERSION as int
diff --git a/integration/volley/build.gradle b/integration/volley/build.gradle
index b396ef394..a6776127a 100644
--- a/integration/volley/build.gradle
+++ b/integration/volley/build.gradle
@@ -16,7 +16,6 @@ dependencies {
 
 android {
     compileSdkVersion COMPILE_SDK_VERSION as int
-    buildToolsVersion BUILD_TOOLS_VERSION as String
 
     defaultConfig {
         minSdkVersion MIN_SDK_VERSION as int
diff --git a/library/build.gradle b/library/build.gradle
index e9ff851da..7a9f95eb1 100644
--- a/library/build.gradle
+++ b/library/build.gradle
@@ -32,7 +32,6 @@ android.testOptions.unitTests.all { Test testTask ->
 
 android {
     compileSdkVersion COMPILE_SDK_VERSION as int
-    buildToolsVersion BUILD_TOOLS_VERSION as String
 
     defaultConfig {
         minSdkVersion MIN_SDK_VERSION as int
diff --git a/samples/contacturi/build.gradle b/samples/contacturi/build.gradle
index 6ee0639ea..d1f2480ea 100644
--- a/samples/contacturi/build.gradle
+++ b/samples/contacturi/build.gradle
@@ -8,7 +8,6 @@ dependencies {
 
 android {
     compileSdkVersion COMPILE_SDK_VERSION as int
-    buildToolsVersion BUILD_TOOLS_VERSION as String
 
     defaultConfig {
         applicationId 'com.bumptech.glide.samples.contacturi'
diff --git a/samples/flickr/build.gradle b/samples/flickr/build.gradle
index 425d0fdcb..37ec1e3b8 100644
--- a/samples/flickr/build.gradle
+++ b/samples/flickr/build.gradle
@@ -14,7 +14,6 @@ dependencies {
 
 android {
     compileSdkVersion COMPILE_SDK_VERSION as int
-    buildToolsVersion BUILD_TOOLS_VERSION as String
 
     defaultConfig {
         applicationId 'com.bumptech.glide.samples.flickr'
diff --git a/samples/gallery/build.gradle b/samples/gallery/build.gradle
index d368136a9..7b40050cb 100644
--- a/samples/gallery/build.gradle
+++ b/samples/gallery/build.gradle
@@ -12,7 +12,6 @@ dependencies {
 
 android {
     compileSdkVersion COMPILE_SDK_VERSION as int
-    buildToolsVersion BUILD_TOOLS_VERSION as String
 
     defaultConfig {
         applicationId 'com.bumptech.glide.samples.gallery'
diff --git a/samples/giphy/build.gradle b/samples/giphy/build.gradle
index fc6b8b094..485c8191d 100644
--- a/samples/giphy/build.gradle
+++ b/samples/giphy/build.gradle
@@ -13,7 +13,6 @@ dependencies {
 
 android {
     compileSdkVersion COMPILE_SDK_VERSION as int
-    buildToolsVersion BUILD_TOOLS_VERSION as String
 
     defaultConfig {
         applicationId 'com.bumptech.glide.samples.giphy'
diff --git a/samples/imgur/build.gradle b/samples/imgur/build.gradle
index 1c0dd1fcf..16e7cfde5 100644
--- a/samples/imgur/build.gradle
+++ b/samples/imgur/build.gradle
@@ -2,7 +2,6 @@ apply plugin: 'com.android.application'
 
 android {
     compileSdkVersion COMPILE_SDK_VERSION as int
-    buildToolsVersion BUILD_TOOLS_VERSION
 
     defaultConfig {
         applicationId "com.bumptech.glide.samples.imgur"
diff --git a/samples/svg/build.gradle b/samples/svg/build.gradle
index 516e0b0a5..e6a204650 100644
--- a/samples/svg/build.gradle
+++ b/samples/svg/build.gradle
@@ -9,7 +9,6 @@ dependencies {
 
 android {
     compileSdkVersion COMPILE_SDK_VERSION as int
-    buildToolsVersion BUILD_TOOLS_VERSION as String
 
     defaultConfig {
         applicationId 'com.bumptech.glide.samples.svg'
diff --git a/scripts/travis_before_script.sh b/scripts/travis_before_script.sh
index 4c1b2c303..e45e901af 100755
--- a/scripts/travis_before_script.sh
+++ b/scripts/travis_before_script.sh
@@ -1,5 +1,5 @@
 #!/usr/bin/env bash
-# Copies our debug.keystore file to its expected location to avoid a bug 
+# Copies our debug.keystore file to its expected location to avoid a bug
 # where the Android build system seems to occasionally fail to generate it.
 
 set -e
diff --git a/scripts/travis_firebase.sh b/scripts/travis_firebase.sh
index f52efafff..10ee4e834 100755
--- a/scripts/travis_firebase.sh
+++ b/scripts/travis_firebase.sh
@@ -2,7 +2,7 @@
 
 set -e
 
-if [ "$TRAVIS_PULL_REQUEST" != "false" ]; then
+if [ ! "$firebase_enabled" == "true" ]; then
   echo "Unable to run Firebase tests for pull requests, exiting"
   exit 0
 fi
diff --git a/scripts/travis_samples.sh b/scripts/travis_samples.sh
index 52ef25e88..0bdce3f16 100755
--- a/scripts/travis_samples.sh
+++ b/scripts/travis_samples.sh
@@ -11,7 +11,7 @@ set -e
   --parallel &
 pid=$!
 
-if [ "$TRAVIS_PULL_REQUEST" != "false" ]; then
+if [ ! "$firebase_enabled" == "true" ]; then
   wait $pid
   echo "Unable to run Firebase tests for pull requests, exiting"
   exit 0
diff --git a/scripts/travis_script.sh b/scripts/travis_script.sh
index 7c810b219..ab103e875 100755
--- a/scripts/travis_script.sh
+++ b/scripts/travis_script.sh
@@ -2,6 +2,13 @@
 
 set -e
 
+if [ -z ${encrypted_ad2664a1c4dd_key+x} ] || [ -z ${encrypted_ad2664a1c4dd_iv+x} ] || [ -z ${GCLOUD_FILE} ]; then
+  export firebase_enabled="false"
+else
+  export firebase_enabled="true"
+fi
+
+
 if [ "$COMPONENT" == "unit" ]; then
   ./scripts/travis_unit.sh
 elif [ "$COMPONENT" == "instrumentation" ]; then
diff --git a/scripts/update_javadocs.sh b/scripts/update_javadocs.sh
index 9383a4c8c..4a1617195 100755
--- a/scripts/update_javadocs.sh
+++ b/scripts/update_javadocs.sh
@@ -1,45 +1,48 @@
 #!/bin/bash
+#
+# Usage: ./scripts/update_javadocs.sh
+#
+# The version name is pulled automatically from gradle.properties.
 set -e
 set -o pipefail
 
 TEMP_DIR="/tmp/tmp_glide_javadoc"
 JAVADOC_GH_PAGES_DIR="javadocs"
 
-if [[ -z "$1" ]]; 
-then
-  echo "You must supply a target version"
-  echo "Usage ./scripts/update_javadocs.sh <400>"
-  exit 1
-fi
+major_version=$(fgrep VERSION_MAJOR gradle.properties | cut -d '=' -f 2)
+minor_version=$(fgrep VERSION_MINOR gradle.properties | cut -d '=' -f 2)
+version="${major_version}${minor_version}0"
+
+echo "Updating javadocs for ${version}"
 
 if [[ $(git status -uno --porcelain) ]];
-then 
+then
   echo "One or more changes, commit or revert first."
   git status -uno --porcelain
   exit 1
 fi
 
 if [ -e "$JAVADOC_GH_PAGES_DIR" ];
-then 
+then
   echo "javadocs directory exists locally, remove first."
   exit 1
 fi
 
-if [[ $(git rev-list master...origin/master --count) -ne 0 ]]; 
-then 
+if [[ $(git rev-list master...origin/master --count) -ne 0 ]];
+then
   echo "Origin and master are not up to date"
   git rev-list master...origin/master --pretty
   exit 1
 fi
-if [[ $(git rev-list gh-pages...origin/gh-pages --count) -ne 0 ]]; 
-then 
+if [[ $(git rev-list gh-pages...origin/gh-pages --count) -ne 0 ]];
+then
   echo "Origin and gh-pages are not up to date"
   git rev-list gh-pages...origin/gh-pages --pretty
   exit 1
 fi
 
 git checkout master
-GIT_COMMIT_SHA="$(git rev-parse HEAD)"   
+GIT_COMMIT_SHA="$(git rev-parse HEAD)"
 ./gradlew clean releaseJavadocJar javadoc
 rm -rf $TEMP_DIR
 cp -r glide/build/docs/javadoc $TEMP_DIR
@@ -48,11 +51,11 @@ cp -r glide/build/docs/javadoc $TEMP_DIR
 find $TEMP_DIR -name '*.html' -exec sed -i '' -e 's#<head>#<head><link rel="apple-touch-icon" sizes="180x180" href="/glide/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/glide/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/glide/favicon-16x16.png"><link rel="manifest" href="/glide/manifest.json">#' {} \;
 
 git checkout gh-pages
-rm -rf "${JAVADOC_GH_PAGES_DIR}/${1}"
-cp -r $TEMP_DIR $JAVADOC_GH_PAGES_DIR/$1
+rm -rf "${JAVADOC_GH_PAGES_DIR}/${version}"
+cp -r $TEMP_DIR $JAVADOC_GH_PAGES_DIR/$version
 rm -rf $TEMP_DIR
-git add "${JAVADOC_GH_PAGES_DIR}/$1" 
-git commit -m "Update javadocs for version $1" -m "Generated from commit on master branch: ${GIT_COMMIT_SHA}"
-echo "Copied javadoc into ${JAVADOC_GH_PAGES_DIR}/${1} and committed"
+git add "${JAVADOC_GH_PAGES_DIR}/$version"
+git commit -m "Update javadocs for version $version" -m "Generated from commit on master branch: ${GIT_COMMIT_SHA}"
+echo "Copied javadoc into ${JAVADOC_GH_PAGES_DIR}/${version} and committed"
 git log -1 --pretty=%B
 echo "Ready to push"
diff --git a/third_party/gif_decoder/build.gradle b/third_party/gif_decoder/build.gradle
index 4ff3c6670..301fd7c7e 100644
--- a/third_party/gif_decoder/build.gradle
+++ b/third_party/gif_decoder/build.gradle
@@ -13,7 +13,6 @@ dependencies {
 
 android {
     compileSdkVersion COMPILE_SDK_VERSION as int
-    buildToolsVersion BUILD_TOOLS_VERSION as String
 
     defaultConfig {
         minSdkVersion MIN_SDK_VERSION as int
