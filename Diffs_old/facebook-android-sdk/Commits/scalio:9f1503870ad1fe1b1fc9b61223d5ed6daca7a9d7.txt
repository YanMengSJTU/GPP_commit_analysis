diff --git a/facebook/build.gradle b/facebook/build.gradle
index 48dff8865..83eef2237 100644
--- a/facebook/build.gradle
+++ b/facebook/build.gradle
@@ -2,7 +2,7 @@ apply plugin: 'android-library'
 
 android {
     compileSdkVersion 21
-    buildToolsVersion "21.0.0"
+    buildToolsVersion "22.0.1"
 
     defaultConfig {
         minSdkVersion 8
@@ -23,7 +23,7 @@ android {
 }
 
 dependencies {
-    compile project(':external:NetCipher:libnetcipher')
+    compile 'info.guardianproject.netcipher:netcipher:1.2'
     compile 'com.android.support:support-v4:21.0.3'
     compile files('libs/bolts.jar')
-}
\ No newline at end of file
+}
diff --git a/facebook/src/com/facebook/Request.java b/facebook/src/com/facebook/Request.java
index d08b3e5c5..f6f49a7f2 100644
--- a/facebook/src/com/facebook/Request.java
+++ b/facebook/src/com/facebook/Request.java
@@ -30,8 +30,6 @@
 import org.json.JSONException;
 import org.json.JSONObject;
 
-import info.guardianproject.onionkit.ui.OrbotHelper;
-
 import java.io.*;
 import java.net.HttpURLConnection;
 import java.net.InetSocketAddress;
diff --git a/facebook/src/com/facebook/widget/WebDialog.java b/facebook/src/com/facebook/widget/WebDialog.java
index eebe9bb22..555032b93 100644
--- a/facebook/src/com/facebook/widget/WebDialog.java
+++ b/facebook/src/com/facebook/widget/WebDialog.java
@@ -44,8 +44,9 @@
 import com.facebook.internal.Utility;
 import com.facebook.internal.Validate;
 
-import info.guardianproject.onionkit.ui.OrbotHelper;
-import info.guardianproject.onionkit.web.*;
+import info.guardianproject.netcipher.proxy.OrbotHelper;
+import info.guardianproject.netcipher.web.WebkitProxy;
+
 
 /**
  * This class provides a mechanism for displaying Facebook Web dialogs inside a Dialog. Helper
@@ -349,12 +350,10 @@ public void onClick(View v) {
     @SuppressLint("SetJavaScriptEnabled")
     private void setUpWebView(int margin) {
         LinearLayout webViewContainer = new LinearLayout(getContext());
-        webView = new WebView(getContext());  
-        OrbotHelper orbotHelper = new OrbotHelper(getContext());
-        
-        if(orbotHelper.isOrbotRunning()) {    
+        webView = new WebView(getContext());
+        if(OrbotHelper.isOrbotRunning(mContext)) {
             try {
-    			WebkitProxy.setProxy("android.app.Application", mContext.getApplicationContext() , ORBOT_HOST, ORBOT_HTTP_PORT);
+    			WebkitProxy.setProxy("android.app.Application", mContext.getApplicationContext(),webView, ORBOT_HOST, ORBOT_HTTP_PORT);
     		} catch (Exception e) {
     			Utility.logd(LOG_TAG, "WebKitProxy: Error setting Proxy");
     			e.printStackTrace();
