diff --git a/.travis.yml b/.travis.yml
index 987612c81..85b05d3be 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -10,20 +10,34 @@ licenses:
 - android-sdk-preview-license-.+
 - android-sdk-license-.+
 - google-gdk-license-.+
+
+
 before_install:
-- openssl aes-256-cbc -K $encrypted_e83d0815cd6c_key -iv $encrypted_e83d0815cd6c_iv
-  -in secring.gpg.enc -out secring.gpg -d
 - yes | sdkmanager "platforms;android-27"
 - chmod +x gradlew
-branches:
-  only:
-  - master
+- chmod +x .travis/release.sh
 install:
 - "./gradlew assemble"
 script:
 - "./gradlew :facebook:test -i"
-- .travis/deploy.sh
 
+
+
+deploy:
+  - provider: releases
+    skip_cleanup: true
+    file_glob: true
+    api_key: $api_key
+    file_glob: true
+    name: Facebook SDK $TRAVIS_TAG
+    on:
+      all_branches: true
+      tags: true
+  - provider: script
+    script: bash .travis/release.sh deploy-to-maven
+    on:
+      all_branches: true
+      tags: true
 env:
   global:
   - # GPG_KEY_ID
@@ -34,3 +48,4 @@ env:
   - secure: B7LncUtbP4gpLDa2aMFLnVKcAWzp76ZRAH5EHPFVP70UCEMJjPnTxP/OPV8QOFdNW98duuro8XQrr7CEjVaYWcLddyp8WZpulnj8OtqzlaQ2HSWQYdZPPBdWeTj20B994nPGaqg1N0t0ojdH6zj7cOIE2kqro7RrRYovpYq6bVk=
   - # NEXUS_PASSWORD
   - secure: OhGzIa1cnT7n6f8MatrhyeJ0KldqB+KsrE47L35+yq9KiuVCZ/4CEawwrtxNVJn02lrue/0ZM9Ya9UwfMy6kCv3rx7rkNyj6ySylUqRjkfOZheN8QkS4ujsDZTYZyROxtc3ISO1hunIzxXsOeGCopPC3FaVbLQeupa3v/5HJrQ0=
+  - secure: oHZV4nhHYVfgxtQbJKqJ+tNkQ21e1cM0V9Q/NrAWt4dMWUgegkWNd7uI8tWaN2WSdD5eDVq2qdSg46wAnyEQDtQDiWjcvnxcuqF8lHsouBaOZs3TuLx/mRF4HzW18GfJeTRS67Upy4WqVjecdyn42azdXmNz4s8MH3gpD/Ci7pg=
diff --git a/.travis/deploy.sh b/.travis/deploy.sh
deleted file mode 100755
index 36e1562b2..000000000
--- a/.travis/deploy.sh
+++ /dev/null
@@ -1,34 +0,0 @@
-# Copyright 2015-present Facebook. All Rights Reserved.
-
-# shellcheck disable=SC2086
-# shellcheck disable=SC2006
-
-VERSION_CLASS=facebook-core/src/main/java/com/facebook/FacebookSdkVersion.java
-id1=`git log -n 1 --pretty=format:%H -- $VERSION_CLASS`
-id2=`git log -n 1 --pretty=format:%H`
-
-if [ "$id1" == "$id2" ]; then
-  FB_SRC_FOLDERS=(
-    'facebook-core'
-    'facebook-common'
-    'facebook-login'
-    'facebook-share'
-    'facebook-places'
-    'facebook-messenger'
-    'facebook-applinks'
-    'facebook-marketing'
-    'facebook'
-  )
-
-  for (( i = 0; i < ${#FB_SRC_FOLDERS[@]}; i++ ))
-  do
-    FOLDER=${FB_SRC_FOLDERS[$i]}
-    echo "Publishing $FOLDER SDK to maven central";
-    cp secring.gpg $FOLDER/
-    ./gradlew uploadArchives -p $FOLDER -PossrhUsername=${NEXUS_USERNAME} -PossrhPassword=${NEXUS_PASSWORD} -Psigning.keyId=${GPG_KEY_ID} -Psigning.password=${GPG_KEY_PASSPHRASE} -Psigning.secretKeyRingFile=secring.gpg || die "Failed to publish $FOLDER SDK to maven central"
-    rm $FOLDER/secring.gpg
-  done
-
-else
-  echo 'No version update for this commit.';
-fi
diff --git a/.travis/release.sh b/.travis/release.sh
new file mode 100755
index 000000000..ae26f15e6
--- /dev/null
+++ b/.travis/release.sh
@@ -0,0 +1,108 @@
+# Copyright (c) 2014-present, Facebook, Inc. All rights reserved.
+#
+# You are hereby granted a non-exclusive, worldwide, royalty-free license to use,
+# copy, modify, and distribute this software in source code or binary form for use
+# in connection with the web services and APIs provided by Facebook.
+#
+# As with any software that integrates with the Facebook platform, your use of
+# this software is subject to the Facebook Developer Principles and Policies
+# [http://developers.facebook.com/policy/]. This copyright notice shall be
+# included in all copies or substantial portions of the software.
+#
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
+# FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
+# COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
+# IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
+# CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
+
+# shellcheck disable=SC2148
+# shellcheck disable=SC2086
+# shellcheck disable=SC2154
+# shellcheck disable=SC2006
+# shellcheck disable=SC2034
+
+main() {
+  VERSION_CLASS=facebook-core/src/main/java/com/facebook/FacebookSdkVersion.java
+
+  local command_type="$1"
+  shift
+
+  case "$command_type" in
+    "tag-current-version") tag_current_version "$@" ;;
+    "deploy-to-maven") deploy_to_maven "$@" ;;
+  esac
+}
+
+tag_current_version() {
+  VERSION=$(sed -n 's/.*BUILD = "\(.*\)\";/\1/p' $VERSION_CLASS)
+  GIT_RAW_TAG=$(git describe --abbrev=0 --tags)
+
+  if [[ $GIT_RAW_TAG == sdk-version* ]]; then
+    # like `sdk-version-4.40.0`
+    GIT_TAG=$(echo $GIT_RAW_TAG | cut -d'-' -f3-)
+  else
+    # like `v4.40.0`
+    GIT_TAG=${GIT_RAW_TAG:1}
+  fi
+
+  if [ "$VERSION" == "$GIT_TAG" ]; then
+    echo 'versions are updated, no need to add new tag.'
+  else
+    echo 'versions are not updated, start to add new tag.'
+    if ! is_valid_semver "$VERSION"; then
+      echo "This version isn't a valid semantic versioning"
+       exit 1
+    fi
+
+    UPDATE_TAG="sdk-version-$VERSION"
+
+    git tag $UPDATE_TAG -a -m "test version" || die "get error when add new tag"
+    if [ "$1" == "--push" ]; then
+      echo 'push tag...'
+      git push origin $UPDATE_TAG
+    fi
+  fi
+}
+
+# deploy new release
+deploy_to_maven() {
+  openssl aes-256-cbc -K $encrypted_e83d0815cd6c_key -iv $encrypted_e83d0815cd6c_iv -in secring.gpg.enc -out secring.gpg -d
+
+  FB_SRC_FOLDERS=(
+    'facebook-core'
+    'facebook-common'
+    'facebook-login'
+    'facebook-share'
+    'facebook-places'
+    'facebook-messenger'
+    'facebook-applinks'
+     # 'facebook-marketing'
+    'facebook'
+  )
+  for (( i = 0; i < ${#FB_SRC_FOLDERS[@]}; i++ ))
+  do
+    FOLDER=${FB_SRC_FOLDERS[$i]}
+    echo "Publishing $FOLDER SDK to maven central";
+    cp secring.gpg $FOLDER/
+    ./gradlew uploadArchives -p $FOLDER -PossrhUsername=${NEXUS_USERNAME} -PossrhPassword=${NEXUS_PASSWORD} -Psigning.keyId=${GPG_KEY_ID} -Psigning.password=${GPG_KEY_PASSPHRASE} -Psigning.secretKeyRingFile=secring.gpg || die "Failed to publish $FOLDER SDK to maven central"
+    rm $FOLDER/secring.gpg
+  done
+  rm secring.gpg
+}
+
+# Proper Semantic Version
+is_valid_semver() {
+  if ! [[ "$1" =~ ^([0-9]{1}|[1-9][0-9]+)\.([0-9]{1}|[1-9][0-9]+)\.([0-9]{1}|[1-9][0-9]+)($|[-+][0-9A-Za-z+.-]+$) ]]; then
+    false
+    return
+  fi
+}
+
+die() {
+  echo ""
+  echo "FATAL: $*" >&2
+  exit 1
+}
+
+main "$@"
