diff --git a/build.gradle b/build.gradle
index 3cc25de13..aa1413807 100644
--- a/build.gradle
+++ b/build.gradle
@@ -1,15 +1,15 @@
 // Top-level build file where you can add configuration options common to all sub-projects/modules.
 buildscript {
     repositories {
-        mavenCentral()
+        jcenter()
     }
     dependencies {
-        classpath 'com.android.tools.build:gradle:2.1.0'
+        classpath 'com.android.tools.build:gradle:2.1.2'
     }
 }
 
 allprojects {
     repositories {
-        mavenCentral()
+        jcenter()
     }
 }
diff --git a/facebook/build.gradle b/facebook/build.gradle
index 404eeb42a..6d48a6fad 100644
--- a/facebook/build.gradle
+++ b/facebook/build.gradle
@@ -1,7 +1,7 @@
 apply plugin: 'com.android.library'
 
 repositories {
-    mavenCentral()
+    jcenter()
 }
 
 project.group = 'com.facebook.android'
@@ -9,6 +9,7 @@ project.group = 'com.facebook.android'
 dependencies {
     // Facbook Dependencies
     compile 'com.android.support:support-v4:23.4.0'
+    compile 'com.android.support:appcompat-v7:23.4.0'
     compile 'com.android.support:cardview-v7:23.4.0'
     compile 'com.android.support:customtabs:23.4.0'
     compile 'com.parse.bolts:bolts-android:1.4.0'
diff --git a/facebook/src/androidTest/java/com/facebook/AsyncRequestTests.java b/facebook/src/androidTest/java/com/facebook/AsyncRequestTests.java
index da6bc7eaa..c7a025aad 100644
--- a/facebook/src/androidTest/java/com/facebook/AsyncRequestTests.java
+++ b/facebook/src/androidTest/java/com/facebook/AsyncRequestTests.java
@@ -26,7 +26,6 @@
 import android.test.suitebuilder.annotation.MediumTest;
 import android.test.suitebuilder.annotation.SmallTest;
 
-import com.facebook.internal.BundleJSONConverter;
 import com.facebook.share.internal.ShareInternalUtility;
 
 import org.json.JSONArray;
diff --git a/facebook/src/androidTest/java/com/facebook/BatchRequestTests.java b/facebook/src/androidTest/java/com/facebook/BatchRequestTests.java
index 135225b40..7808da0fa 100644
--- a/facebook/src/androidTest/java/com/facebook/BatchRequestTests.java
+++ b/facebook/src/androidTest/java/com/facebook/BatchRequestTests.java
@@ -45,7 +45,7 @@ protected void setUp() throws Exception {
     protected String[] getDefaultPermissions()
     {
         return new String[] { "email", "publish_actions", "user_posts" };
-    };
+    }
 
     @LargeTest
     public void testCreateNonemptyRequestBatch() {
@@ -356,8 +356,8 @@ public void testBatchUploadPhoto() {
     public void testCallbacksAreCalled() {
         setBatchApplicationIdForTestApp();
 
-        ArrayList<GraphRequest> requests = new ArrayList<GraphRequest>();
-        final ArrayList<Boolean> calledBack = new ArrayList<Boolean>();
+        ArrayList<GraphRequest> requests = new ArrayList<>();
+        final ArrayList<Boolean> calledBack = new ArrayList<>();
 
         final int NUM_REQUESTS = 4;
         for (int i = 0; i < NUM_REQUESTS; ++i) {
diff --git a/facebook/src/androidTest/java/com/facebook/FacebookActivityTestCase.java b/facebook/src/androidTest/java/com/facebook/FacebookActivityTestCase.java
index bd0d83e61..0811bea44 100644
--- a/facebook/src/androidTest/java/com/facebook/FacebookActivityTestCase.java
+++ b/facebook/src/androidTest/java/com/facebook/FacebookActivityTestCase.java
@@ -70,7 +70,7 @@ public FacebookActivityTestCase(Class<T> activityClass) {
         super("", activityClass);
     }
 
-    protected String[] getDefaultPermissions() { return null; };
+    protected String[] getDefaultPermissions() { return null; }
 
     protected AccessToken getAccessTokenForSharedUser() {
         return getAccessTokenForSharedUser(null);
@@ -609,7 +609,7 @@ public MockGraphRequestBatch(GraphRequestBatch requests) {
         List<GraphResponse> executeAndWaitImpl() {
             List<GraphRequest> requests = getRequests();
 
-            List<GraphResponse> responses = new ArrayList<GraphResponse>();
+            List<GraphResponse> responses = new ArrayList<>();
             for (GraphRequest request : requests) {
                 MockGraphRequest mockRequest = (MockGraphRequest) request;
                 responses.add(mockRequest.createResponse());
diff --git a/facebook/src/androidTest/java/com/facebook/FacebookActivityTests.java b/facebook/src/androidTest/java/com/facebook/FacebookActivityTests.java
index 1090c968a..dfc3a51f4 100644
--- a/facebook/src/androidTest/java/com/facebook/FacebookActivityTests.java
+++ b/facebook/src/androidTest/java/com/facebook/FacebookActivityTests.java
@@ -22,19 +22,10 @@
 
 import android.app.Activity;
 import android.content.Intent;
-import android.net.Uri;
 import android.os.Handler;
 import android.test.suitebuilder.annotation.MediumTest;
 import android.test.suitebuilder.annotation.SmallTest;
 
-import com.facebook.applinks.FacebookAppLinkResolver;
-
-import java.util.concurrent.CountDownLatch;
-import java.util.concurrent.TimeUnit;
-
-import bolts.Continuation;
-import bolts.Task;
-
 public class FacebookActivityTests
         extends FacebookActivityTestCase<FacebookActivityTests.FacebookTestActivity> {
     public FacebookActivityTests() {
diff --git a/facebook/src/androidTest/java/com/facebook/FacebookAppLinkResolverTests.java b/facebook/src/androidTest/java/com/facebook/FacebookAppLinkResolverTests.java
index 3042f889d..6bd1aebd3 100644
--- a/facebook/src/androidTest/java/com/facebook/FacebookAppLinkResolverTests.java
+++ b/facebook/src/androidTest/java/com/facebook/FacebookAppLinkResolverTests.java
@@ -39,7 +39,7 @@ public void testSingleUrl() {
         String testUrlString = "https://fb.me/732873156764191";
         Uri testUrl = Uri.parse(testUrlString);
         Uri testWebUri = Uri.parse("http://www.facebook.com/");
-        ArrayList<AppLink.Target> testTargets = new ArrayList<AppLink.Target>();
+        ArrayList<AppLink.Target> testTargets = new ArrayList<>();
         testTargets.add(new AppLink.Target(
                 "com.myapp",
                 null,
@@ -102,7 +102,7 @@ public void testCachedAppLinkData() {
         String testUrlString = "https://fb.me/732873156764191";
         Uri testUrl = Uri.parse(testUrlString);
         Uri testWebUri = Uri.parse("http://www.facebook.com/");
-        ArrayList<AppLink.Target> testTargets = new ArrayList<AppLink.Target>();
+        ArrayList<AppLink.Target> testTargets = new ArrayList<>();
         testTargets.add(new AppLink.Target(
                 "com.myapp",
                 null,
@@ -172,7 +172,7 @@ private static boolean targetListsAreEqual(List<AppLink.Target> list1, List<AppL
             return false;
         }
 
-        ArrayList<AppLink.Target> list2Copy = new ArrayList<AppLink.Target>(list2);
+        ArrayList<AppLink.Target> list2Copy = new ArrayList<>(list2);
 
         for(int i = 0; i < list1.size(); i++) {
             int j;
diff --git a/facebook/src/androidTest/java/com/facebook/FragmentTestCase.java b/facebook/src/androidTest/java/com/facebook/FragmentTestCase.java
index b421196ee..48971a969 100644
--- a/facebook/src/androidTest/java/com/facebook/FragmentTestCase.java
+++ b/facebook/src/androidTest/java/com/facebook/FragmentTestCase.java
@@ -69,8 +69,8 @@ void setContentToFragment(T fragment) {
 
             LinearLayout layout = new LinearLayout(this);
             layout.setOrientation(LinearLayout.VERTICAL);
-            layout.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.FILL_PARENT,
-                    LinearLayout.LayoutParams.FILL_PARENT));
+            layout.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT,
+                    LinearLayout.LayoutParams.MATCH_PARENT));
             layout.setId(FRAGMENT_ID);
 
             getSupportFragmentManager().beginTransaction()
diff --git a/facebook/src/androidTest/java/com/facebook/GraphRequestTests.java b/facebook/src/androidTest/java/com/facebook/GraphRequestTests.java
index 6745a0fab..1079393ab 100644
--- a/facebook/src/androidTest/java/com/facebook/GraphRequestTests.java
+++ b/facebook/src/androidTest/java/com/facebook/GraphRequestTests.java
@@ -24,8 +24,6 @@
 import org.json.JSONException;
 import org.json.JSONObject;
 
-import java.util.Date;
-
 // These tests relate to serialization/de-serialization of graph objects in a variety of scenarios, rather than
 // to the underlying request/batch plumbing.
 public class GraphRequestTests extends FacebookTestCase {
@@ -33,7 +31,7 @@
     protected String[] getDefaultPermissions()
     {
         return new String[] { "email", "publish_actions", "user_posts" };
-    };
+    }
 
     @LargeTest
     public void testCommentRoundTrip() throws JSONException {
diff --git a/facebook/src/androidTest/java/com/facebook/RequestTests.java b/facebook/src/androidTest/java/com/facebook/RequestTests.java
index 61f0c5547..f4b00599d 100644
--- a/facebook/src/androidTest/java/com/facebook/RequestTests.java
+++ b/facebook/src/androidTest/java/com/facebook/RequestTests.java
@@ -66,7 +66,7 @@
                 "user_posts",
                 "user_photos",
                 "user_videos" };
-    };
+    }
 
     @Override
     public void setUp() throws Exception {
@@ -854,7 +854,7 @@ public void testPostStatusUpdate() {
     public void testCallbackIsCalled() {
         GraphRequest request = new GraphRequest(null, "4");
 
-        final ArrayList<Boolean> calledBack = new ArrayList<Boolean>();
+        final ArrayList<Boolean> calledBack = new ArrayList<>();
         request.setCallback(new GraphRequest.Callback() {
             @Override
             public void onCompleted(GraphResponse response) {
@@ -880,7 +880,7 @@ public void testOnProgressCallbackIsCalled() {
                 null);
         assertTrue(request != null);
 
-        final ArrayList<Boolean> calledBack = new ArrayList<Boolean>();
+        final ArrayList<Boolean> calledBack = new ArrayList<>();
         request.setCallback(new GraphRequest.OnProgressCallback() {
             @Override
             public void onCompleted(GraphResponse response) {
@@ -910,7 +910,7 @@ public void testLastOnProgressCallbackIsCalledOnce() {
                 null);
         assertTrue(request != null);
 
-        final ArrayList<Boolean> calledBack = new ArrayList<Boolean>();
+        final ArrayList<Boolean> calledBack = new ArrayList<>();
         request.setCallback(new GraphRequest.OnProgressCallback() {
             @Override
             public void onCompleted(GraphResponse response) {
@@ -983,7 +983,7 @@ public void testCantUseComplexParameterInGetRequest() {
 
     @LargeTest
     public void testPaging() {
-        final List<JSONObject> returnedPlaces = new ArrayList<JSONObject>();
+        final List<JSONObject> returnedPlaces = new ArrayList<>();
         GraphRequest request = GraphRequest
                 .newPlacesSearchRequest(
                         AccessToken.getCurrentAccessToken(),
diff --git a/facebook/src/androidTest/java/com/facebook/TestUserManagerTests.java b/facebook/src/androidTest/java/com/facebook/TestUserManagerTests.java
index de86d03ad..d5ce857c8 100644
--- a/facebook/src/androidTest/java/com/facebook/TestUserManagerTests.java
+++ b/facebook/src/androidTest/java/com/facebook/TestUserManagerTests.java
@@ -22,8 +22,6 @@
 
 import android.os.Bundle;
 import android.test.suitebuilder.annotation.LargeTest;
-import android.test.suitebuilder.annotation.MediumTest;
-import android.test.suitebuilder.annotation.SmallTest;
 
 import org.json.JSONArray;
 
diff --git a/facebook/src/androidTest/java/com/facebook/TestUtils.java b/facebook/src/androidTest/java/com/facebook/TestUtils.java
index c0d89c49b..55d174324 100644
--- a/facebook/src/androidTest/java/com/facebook/TestUtils.java
+++ b/facebook/src/androidTest/java/com/facebook/TestUtils.java
@@ -150,7 +150,7 @@ private static boolean areEqual(final JSONObject expected, final JSONObject actu
         }
 
         final Iterator<String> expectedKeysIterator = expected.keys();
-        final HashSet<String> expectedKeys = new HashSet<String>();
+        final HashSet<String> expectedKeys = new HashSet<>();
         while (expectedKeysIterator.hasNext()) {
             expectedKeys.add(expectedKeysIterator.next());
         }
diff --git a/facebook/src/androidTest/java/com/facebook/WaitForBroadcastReceiver.java b/facebook/src/androidTest/java/com/facebook/WaitForBroadcastReceiver.java
index b2f0da775..d58b2993a 100644
--- a/facebook/src/androidTest/java/com/facebook/WaitForBroadcastReceiver.java
+++ b/facebook/src/androidTest/java/com/facebook/WaitForBroadcastReceiver.java
@@ -40,9 +40,9 @@
     ConditionVariable condition = new ConditionVariable(true);
     int expectCount;
     int actualCount;
-    List<Intent> receivedIntents = new ArrayList<Intent>();
-    List<String> expectedActions = new ArrayList<String>();
-    List<Intent> unexpectedIntents = new ArrayList<Intent>();
+    List<Intent> receivedIntents = new ArrayList<>();
+    List<String> expectedActions = new ArrayList<>();
+    List<Intent> unexpectedIntents = new ArrayList<>();
 
     public WaitForBroadcastReceiver() {
     }
diff --git a/facebook/src/androidTest/java/com/facebook/appevents/AppEventsLoggerTests.java b/facebook/src/androidTest/java/com/facebook/appevents/AppEventsLoggerTests.java
index e3bf4d6c7..af6b2a928 100644
--- a/facebook/src/androidTest/java/com/facebook/appevents/AppEventsLoggerTests.java
+++ b/facebook/src/androidTest/java/com/facebook/appevents/AppEventsLoggerTests.java
@@ -20,7 +20,6 @@
 
 package com.facebook.appevents;
 
-import android.content.Intent;
 import android.content.IntentFilter;
 import android.os.Bundle;
 import android.support.v4.content.LocalBroadcastManager;
@@ -30,12 +29,6 @@
 import com.facebook.WaitForBroadcastReceiver;
 import com.facebook.appevents.AppEventsLogger;
 
-import java.io.FileInputStream;
-import java.io.IOException;
-import java.io.ObjectInputStream;
-import java.util.HashMap;
-import java.util.List;
-
 public class AppEventsLoggerTests extends FacebookTestCase {
     public void testSimpleCall() throws InterruptedException {
         AppEventsLogger.setFlushBehavior(AppEventsLogger.FlushBehavior.EXPLICIT_ONLY);
diff --git a/facebook/src/androidTest/java/com/facebook/internal/ImageResponseCacheTest.java b/facebook/src/androidTest/java/com/facebook/internal/ImageResponseCacheTest.java
index ae67aead5..bef836a98 100644
--- a/facebook/src/androidTest/java/com/facebook/internal/ImageResponseCacheTest.java
+++ b/facebook/src/androidTest/java/com/facebook/internal/ImageResponseCacheTest.java
@@ -31,7 +31,6 @@
 import java.io.IOException;
 import java.io.InputStream;
 import java.net.HttpURLConnection;
-import java.net.URI;
 import java.net.URL;
 import java.nio.ByteBuffer;
 import java.util.Arrays;
diff --git a/facebook/src/androidTest/java/com/facebook/login/LoginClientTests.java b/facebook/src/androidTest/java/com/facebook/login/LoginClientTests.java
index e780e860c..94e50f914 100644
--- a/facebook/src/androidTest/java/com/facebook/login/LoginClientTests.java
+++ b/facebook/src/androidTest/java/com/facebook/login/LoginClientTests.java
@@ -31,7 +31,7 @@
 import java.util.*;
 
 public class LoginClientTests extends FacebookTestCase {
-    private static final Set<String> PERMISSIONS = new HashSet<String>(
+    private static final Set<String> PERMISSIONS = new HashSet<>(
             Arrays.asList("go outside", "come back in"));
 
     @SuppressLint("ParcelCreator")
@@ -74,8 +74,8 @@ void tryNextHandler() {
 
     @SuppressLint("ParcelCreator")
     class MockValidatingLoginClient extends MockLoginClient {
-        private final HashMap<String, String> mapAccessTokenToFbid = new HashMap<String, String>();
-        private Set<String> permissionsToReport = new HashSet<String>();
+        private final HashMap<String, String> mapAccessTokenToFbid = new HashMap<>();
+        private Set<String> permissionsToReport = new HashSet<>();
         private TestBlocker blocker;
 
         public MockValidatingLoginClient(Fragment fragment, TestBlocker blocker) {
@@ -150,7 +150,7 @@ public void testReauthorizationWithSameFbidSucceeds() throws Exception {
         assertEquals(USER_1_ACCESS_TOKEN, resultToken.getToken());
 
         // We don't care about ordering.
-        assertEquals(new HashSet<String>(PERMISSIONS), new HashSet<String>(resultToken.getPermissions()));
+        assertEquals(new HashSet<>(PERMISSIONS), new HashSet<>(resultToken.getPermissions()));
     }
 
     @LargeTest
diff --git a/facebook/src/androidTest/java/com/facebook/widget/FacebookDialogTests.java b/facebook/src/androidTest/java/com/facebook/widget/FacebookDialogTests.java
index 7b972739a..a7c3d8f1a 100644
--- a/facebook/src/androidTest/java/com/facebook/widget/FacebookDialogTests.java
+++ b/facebook/src/androidTest/java/com/facebook/widget/FacebookDialogTests.java
@@ -21,9 +21,6 @@
 package com.facebook.widget;
 
 import com.facebook.FacebookTestCase;
-import com.facebook.share.model.ShareOpenGraphContent;
-import com.facebook.share.model.ShareOpenGraphAction;
-import com.facebook.share.widget.ShareDialog;
 
 public class FacebookDialogTests extends FacebookTestCase {
 
diff --git a/facebook/src/main/AndroidManifest.xml b/facebook/src/main/AndroidManifest.xml
index 4cfb77932..9e0e0f2d2 100644
--- a/facebook/src/main/AndroidManifest.xml
+++ b/facebook/src/main/AndroidManifest.xml
@@ -25,7 +25,7 @@
         <activity
             android:name="com.facebook.FacebookActivity"
             android:configChanges="keyboard|keyboardHidden|screenLayout|screenSize|orientation"
-            android:theme="@android:style/Theme.Translucent.NoTitleBar" />
+            android:theme="@style/FacebookTheme" />
         <activity
             android:name="com.facebook.CustomTabActivity"
             android:exported="true">
diff --git a/facebook/src/main/java/com/facebook/AccessToken.java b/facebook/src/main/java/com/facebook/AccessToken.java
index 523b34c6f..6667c7b7e 100644
--- a/facebook/src/main/java/com/facebook/AccessToken.java
+++ b/facebook/src/main/java/com/facebook/AccessToken.java
@@ -23,8 +23,6 @@
 import android.annotation.SuppressLint;
 import android.content.Intent;
 import android.os.Bundle;
-import android.os.Handler;
-import android.os.Looper;
 import android.os.Parcel;
 import android.os.Parcelable;
 import android.support.annotation.Nullable;
@@ -123,10 +121,10 @@ public AccessToken(
 
         this.expires = expirationTime != null ? expirationTime : DEFAULT_EXPIRATION_TIME;
         this.permissions = Collections.unmodifiableSet(
-                permissions != null ? new HashSet<String>(permissions) : new HashSet<String>());
+                permissions != null ? new HashSet<>(permissions) : new HashSet<String>());
         this.declinedPermissions = Collections.unmodifiableSet(
                 declinedPermissions != null
-                        ? new HashSet<String>(declinedPermissions)
+                        ? new HashSet<>(declinedPermissions)
                         : new HashSet<String>());
         this.token = accessToken;
         this.source = accessTokenSource != null ? accessTokenSource : DEFAULT_ACCESS_TOKEN_SOURCE;
@@ -266,9 +264,9 @@ public String getUserId() {
          *
          * @param token the access token created from the native link intent.
          */
-        public void onSuccess(AccessToken token);
+        void onSuccess(AccessToken token);
 
-        public void onError(FacebookException error);
+        void onError(FacebookException error);
     }
 
     /**
@@ -462,7 +460,7 @@ static AccessToken createFromLegacyCache(Bundle bundle) {
         if (originalPermissions == null) {
             permissions = Collections.emptyList();
         } else {
-            permissions = Collections.unmodifiableList(new ArrayList<String>(originalPermissions));
+            permissions = Collections.unmodifiableList(new ArrayList<>(originalPermissions));
         }
         return permissions;
     }
@@ -570,11 +568,11 @@ private void appendPermissions(StringBuilder builder) {
         this.expires = new Date(parcel.readLong());
         ArrayList<String> permissionsList = new ArrayList<>();
         parcel.readStringList(permissionsList);
-        this.permissions = Collections.unmodifiableSet(new HashSet<String>(permissionsList));
+        this.permissions = Collections.unmodifiableSet(new HashSet<>(permissionsList));
         permissionsList.clear();
         parcel.readStringList(permissionsList);
         this.declinedPermissions = Collections.unmodifiableSet(
-                new HashSet<String>(permissionsList));
+                new HashSet<>(permissionsList));
         this.token = parcel.readString();
         this.source = AccessTokenSource.valueOf(parcel.readString());
         this.lastRefresh = new Date(parcel.readLong());
@@ -590,8 +588,8 @@ public int describeContents() {
     @Override
     public void writeToParcel(Parcel dest, int flags) {
         dest.writeLong(expires.getTime());
-        dest.writeStringList(new ArrayList<String>(permissions));
-        dest.writeStringList(new ArrayList<String>(declinedPermissions));
+        dest.writeStringList(new ArrayList<>(permissions));
+        dest.writeStringList(new ArrayList<>(declinedPermissions));
         dest.writeString(token);
         dest.writeString(source.name());
         dest.writeLong(lastRefresh.getTime());
diff --git a/facebook/src/main/java/com/facebook/AccessTokenManager.java b/facebook/src/main/java/com/facebook/AccessTokenManager.java
index 6171527d7..3f77bb389 100644
--- a/facebook/src/main/java/com/facebook/AccessTokenManager.java
+++ b/facebook/src/main/java/com/facebook/AccessTokenManager.java
@@ -314,7 +314,7 @@ public void onBatchCompleted(GraphRequestBatch batch) {
                                     ? declinedPermissions : accessToken.getDeclinedPermissions(),
                             accessToken.getSource(),
                             refreshResult.expiresAt != 0
-                                    ? new Date(refreshResult.expiresAt * 1000l)
+                                    ? new Date(refreshResult.expiresAt * 1000L)
                                     : accessToken.getExpires(),
                             new Date()
                     );
diff --git a/facebook/src/main/java/com/facebook/CallbackManager.java b/facebook/src/main/java/com/facebook/CallbackManager.java
index 12c02c8f4..a3cbbade3 100644
--- a/facebook/src/main/java/com/facebook/CallbackManager.java
+++ b/facebook/src/main/java/com/facebook/CallbackManager.java
@@ -37,12 +37,12 @@
      * @param data        The result data that's received by the Activity or Fragment.
      * @return true If the result could be handled.
      */
-    public boolean onActivityResult(int requestCode, int resultCode, Intent data);
+    boolean onActivityResult(int requestCode, int resultCode, Intent data);
 
     /**
      * The factory class for the {@link com.facebook.CallbackManager}.
      */
-    public static class Factory {
+    class Factory {
         /**
          * Creates an instance of {@link com.facebook.CallbackManager}.
          * @return an instance of {@link com.facebook.CallbackManager}.
diff --git a/facebook/src/main/java/com/facebook/FacebookActivity.java b/facebook/src/main/java/com/facebook/FacebookActivity.java
index 5440724e1..533ce7caf 100644
--- a/facebook/src/main/java/com/facebook/FacebookActivity.java
+++ b/facebook/src/main/java/com/facebook/FacebookActivity.java
@@ -25,8 +25,8 @@
 import android.net.Uri;
 import android.os.Bundle;
 import android.support.v4.app.Fragment;
-import android.support.v4.app.FragmentActivity;
 import android.support.v4.app.FragmentManager;
+import android.support.v7.app.AppCompatActivity;
 import android.util.Log;
 
 import com.facebook.internal.FacebookDialogFragment;
@@ -34,7 +34,6 @@
 import com.facebook.internal.Utility;
 import com.facebook.login.LoginFragment;
 import com.facebook.login.LoginManager;
-import com.facebook.share.DeviceShareDialog;
 import com.facebook.share.internal.DeviceShareDialogFragment;
 import com.facebook.share.model.ShareContent;
 
@@ -52,7 +51,7 @@
  * </pre>
  * Do not start this activity directly.
  */
-public class FacebookActivity extends FragmentActivity {
+public class FacebookActivity extends AppCompatActivity {
 
     public static String PASS_THROUGH_CANCEL_ACTION = "PassThrough";
     private static String FRAGMENT_TAG = "SingleFragment";
diff --git a/facebook/src/main/java/com/facebook/FacebookButtonBase.java b/facebook/src/main/java/com/facebook/FacebookButtonBase.java
index fedb3a94f..d0ea04146 100644
--- a/facebook/src/main/java/com/facebook/FacebookButtonBase.java
+++ b/facebook/src/main/java/com/facebook/FacebookButtonBase.java
@@ -26,8 +26,6 @@
 import android.content.ContextWrapper;
 import android.content.res.TypedArray;
 import android.graphics.Canvas;
-import android.graphics.Color;
-import android.graphics.Paint;
 import android.graphics.Typeface;
 import android.support.v4.app.Fragment;
 import android.support.v4.content.ContextCompat;
@@ -36,9 +34,8 @@
 import android.view.Gravity;
 import android.view.View;
 import android.widget.Button;
-import android.util.Log;
+
 import com.facebook.FacebookException;
-import com.facebook.FacebookSdk;
 import com.facebook.R;
 import com.facebook.appevents.AppEventsLogger;
 import com.facebook.internal.FragmentWrapper;
diff --git a/facebook/src/main/java/com/facebook/FacebookCallback.java b/facebook/src/main/java/com/facebook/FacebookCallback.java
index b25092c1d..7b4a60b79 100644
--- a/facebook/src/main/java/com/facebook/FacebookCallback.java
+++ b/facebook/src/main/java/com/facebook/FacebookCallback.java
@@ -40,7 +40,7 @@
      *
      * @param result Result from the dialog
      */
-    public void onSuccess(RESULT result);
+    void onSuccess(RESULT result);
 
     /**
      * Called when the dialog is canceled.
@@ -56,12 +56,12 @@
      * </li>
      * </ul>
      */
-    public void onCancel();
+    void onCancel();
 
     /**
      * Called when the dialog finishes with an error.
      *
      * @param error The error that occurred
      */
-    public void onError(FacebookException error);
+    void onError(FacebookException error);
 }
diff --git a/facebook/src/main/java/com/facebook/FacebookContentProvider.java b/facebook/src/main/java/com/facebook/FacebookContentProvider.java
index 9b061d3e2..ac740507d 100644
--- a/facebook/src/main/java/com/facebook/FacebookContentProvider.java
+++ b/facebook/src/main/java/com/facebook/FacebookContentProvider.java
@@ -140,7 +140,7 @@ public int update(Uri uri, ContentValues contentValues, String s, String[] strin
             String attachmentName = parts[1];
             UUID callId = UUID.fromString(callIdString);
 
-            return new Pair<UUID, String>(callId, attachmentName);
+            return new Pair<>(callId, attachmentName);
         } catch (Exception exception) {
             return null;
         }
diff --git a/facebook/src/main/java/com/facebook/FacebookDialog.java b/facebook/src/main/java/com/facebook/FacebookDialog.java
index 5af094bc6..060679145 100644
--- a/facebook/src/main/java/com/facebook/FacebookDialog.java
+++ b/facebook/src/main/java/com/facebook/FacebookDialog.java
@@ -31,13 +31,13 @@
      *
      * @return true if the dialog can be shown
      */
-    public boolean canShow(CONTENT content);
+    boolean canShow(CONTENT content);
 
     /**
      * Shows the dialog for the content passed in.
      * @param content the content to show
      */
-    public void show(CONTENT content);
+    void show(CONTENT content);
 
     /**
      * Allows the registration of a callback that will be executed once the dialog is closed, with
@@ -48,7 +48,7 @@
      * @param callbackManager CallbackManager instance that will handle the onActivityResult
      * @param callback Callback to be called upon dialog completion
      */
-    public void registerCallback(
+    void registerCallback(
             final CallbackManager callbackManager,
             final FacebookCallback<RESULT> callback);
 
@@ -64,7 +64,7 @@ public void registerCallback(
      *                     reserved for the Facebook SDK
      *                     {@link com.facebook.FacebookSdk#isFacebookRequestCode(int)}.
      */
-    public void registerCallback(
+    void registerCallback(
             final CallbackManager callbackManager,
             final FacebookCallback<RESULT> callback,
             final int requestCode);
diff --git a/facebook/src/main/java/com/facebook/FacebookRequestError.java b/facebook/src/main/java/com/facebook/FacebookRequestError.java
index 562ac169b..58aaa914f 100644
--- a/facebook/src/main/java/com/facebook/FacebookRequestError.java
+++ b/facebook/src/main/java/com/facebook/FacebookRequestError.java
@@ -498,5 +498,5 @@ public int describeContents() {
          * Indicates that the error is transient, the request can be attempted again.
          */
         TRANSIENT,
-    };
+    }
 }
diff --git a/facebook/src/main/java/com/facebook/FacebookSdk.java b/facebook/src/main/java/com/facebook/FacebookSdk.java
index 7ac235abd..025dd166d 100644
--- a/facebook/src/main/java/com/facebook/FacebookSdk.java
+++ b/facebook/src/main/java/com/facebook/FacebookSdk.java
@@ -27,6 +27,7 @@
 import android.content.pm.PackageManager;
 import android.content.pm.Signature;
 import android.os.AsyncTask;
+import android.support.v4.BuildConfig;
 import android.util.Base64;
 import android.util.Log;
 
@@ -61,7 +62,7 @@
 public final class FacebookSdk {
     private static final String TAG = FacebookSdk.class.getCanonicalName();
     private static final HashSet<LoggingBehavior> loggingBehaviors =
-            new HashSet<LoggingBehavior>(Arrays.asList(LoggingBehavior.DEVELOPER_ERRORS));
+            new HashSet<>(Arrays.asList(LoggingBehavior.DEVELOPER_ERRORS));
     private static volatile Executor executor;
     private static volatile String applicationId;
     private static volatile String applicationName;
@@ -86,7 +87,7 @@
     private static final String PUBLISH_ACTIVITY_PATH = "%s/activities";
 
     private static final BlockingQueue<Runnable> DEFAULT_WORK_QUEUE =
-            new LinkedBlockingQueue<Runnable>(10);
+            new LinkedBlockingQueue<>(10);
 
     private static final ThreadFactory DEFAULT_THREAD_FACTORY = new ThreadFactory() {
         private final AtomicInteger counter = new AtomicInteger(0);
@@ -214,7 +215,7 @@ public static synchronized void sdkInitialize(
 
         BoltsMeasurementEventListener.getInstance(FacebookSdk.applicationContext);
 
-        cacheDir = new LockOnGetVariable<File>(
+        cacheDir = new LockOnGetVariable<>(
                 new Callable<File>() {
                     @Override
                     public File call() throws Exception {
@@ -267,7 +268,7 @@ public static synchronized boolean isInitialized() {
      */
     public static Set<LoggingBehavior> getLoggingBehaviors() {
         synchronized (loggingBehaviors) {
-            return Collections.unmodifiableSet(new HashSet<LoggingBehavior>(loggingBehaviors));
+            return Collections.unmodifiableSet(new HashSet<>(loggingBehaviors));
         }
     }
 
@@ -756,7 +757,7 @@ public static File getCacheDir() {
      * @param cacheDir the cache directory
      */
     public static void setCacheDir(File cacheDir) {
-        FacebookSdk.cacheDir = new LockOnGetVariable<File>(cacheDir);
+        FacebookSdk.cacheDir = new LockOnGetVariable<>(cacheDir);
     }
 
     /**
diff --git a/facebook/src/main/java/com/facebook/GraphRequest.java b/facebook/src/main/java/com/facebook/GraphRequest.java
index d0f0e64e1..f4c32a2e9 100644
--- a/facebook/src/main/java/com/facebook/GraphRequest.java
+++ b/facebook/src/main/java/com/facebook/GraphRequest.java
@@ -1363,12 +1363,12 @@ static void runCallbacks(final GraphRequestBatch requests, List<GraphResponse> r
 
         // Compile the list of callbacks to call and then run them either on this thread or via the
         // Handler we received
-        final ArrayList<Pair<Callback, GraphResponse>> callbacks = new ArrayList<Pair<Callback, GraphResponse>>();
+        final ArrayList<Pair<Callback, GraphResponse>> callbacks = new ArrayList<>();
         for (int i = 0; i < numRequests; ++i) {
             GraphRequest request = requests.get(i);
             if (request.callback != null) {
                 callbacks.add(
-                        new Pair<Callback, GraphResponse>(request.callback, responses.get(i)));
+                        new Pair<>(request.callback, responses.get(i)));
             }
         }
 
@@ -1551,7 +1551,7 @@ private void serializeToBatch(
         }
 
         // Find all of our attachments. Remember their names and put them in the attachment map.
-        ArrayList<String> attachmentNames = new ArrayList<String>();
+        ArrayList<String> attachmentNames = new ArrayList<>();
         Set<String> keys = this.parameters.keySet();
         for (String key : keys) {
             Object value = this.parameters.get(key);
@@ -1574,7 +1574,7 @@ private void serializeToBatch(
 
         if (this.graphObject != null) {
             // Serialize the graph object into the "body" parameter.
-            final ArrayList<String> keysAndValues = new ArrayList<String>();
+            final ArrayList<String> keysAndValues = new ArrayList<>();
             processGraphObject(this.graphObject, relativeURL, new KeyValueSerializer() {
                 @Override
                 public void writeString(String key, String value) throws IOException {
@@ -1740,7 +1740,7 @@ private static void processRequest(GraphRequestBatch requests, Logger logger, in
         if (numRequests == 1) {
             GraphRequest request = requests.get(0);
 
-            Map<String, Attachment> attachments = new HashMap<String, Attachment>();
+            Map<String, Attachment> attachments = new HashMap<>();
             for (String key : request.parameters.keySet()) {
                 Object value = request.parameters.get(key);
                 if (isSupportedAttachmentType(value)) {
@@ -1772,7 +1772,7 @@ private static void processRequest(GraphRequestBatch requests, Logger logger, in
 
             // We write out all the requests as JSON, remembering which file attachments they have,
             // then write out the attachments.
-            Map<String, Attachment> attachments = new HashMap<String, Attachment>();
+            Map<String, Attachment> attachments = new HashMap<>();
             serializeRequestsAsJSON(serializer, requests, attachments);
 
             if (logger != null) {
diff --git a/facebook/src/main/java/com/facebook/GraphRequestBatch.java b/facebook/src/main/java/com/facebook/GraphRequestBatch.java
index ff4d7a05e..1ac0b57e0 100644
--- a/facebook/src/main/java/com/facebook/GraphRequestBatch.java
+++ b/facebook/src/main/java/com/facebook/GraphRequestBatch.java
@@ -33,17 +33,17 @@
     private static AtomicInteger idGenerator = new AtomicInteger();
 
     private Handler callbackHandler;
-    private List<GraphRequest> requests = new ArrayList<GraphRequest>();
+    private List<GraphRequest> requests = new ArrayList<>();
     private int timeoutInMilliseconds = 0;
     private final String id = Integer.valueOf(idGenerator.incrementAndGet()).toString();
-    private List<Callback> callbacks = new ArrayList<Callback>();
+    private List<Callback> callbacks = new ArrayList<>();
     private String batchApplicationId;
 
     /**
      * Constructor. Creates an empty batch.
      */
     public GraphRequestBatch() {
-        this.requests = new ArrayList<GraphRequest>();
+        this.requests = new ArrayList<>();
     }
 
     /**
@@ -51,7 +51,7 @@ public GraphRequestBatch() {
      * @param requests the requests to add to the batch
      */
     public GraphRequestBatch(Collection<GraphRequest> requests) {
-        this.requests = new ArrayList<GraphRequest>(requests);
+        this.requests = new ArrayList<>(requests);
     }
 
     /**
@@ -67,10 +67,10 @@ public GraphRequestBatch(GraphRequest... requests) {
      * @param requests the requests to add to the batch
      */
     public GraphRequestBatch(GraphRequestBatch requests) {
-        this.requests = new ArrayList<GraphRequest>(requests);
+        this.requests = new ArrayList<>(requests);
         this.callbackHandler = requests.callbackHandler;
         this.timeoutInMilliseconds = requests.timeoutInMilliseconds;
-        this.callbacks = new ArrayList<Callback>(requests.callbacks);
+        this.callbacks = new ArrayList<>(requests.callbacks);
     }
 
     /**
diff --git a/facebook/src/main/java/com/facebook/GraphResponse.java b/facebook/src/main/java/com/facebook/GraphResponse.java
index 34868efb4..d0d84aa51 100644
--- a/facebook/src/main/java/com/facebook/GraphResponse.java
+++ b/facebook/src/main/java/com/facebook/GraphResponse.java
@@ -323,7 +323,7 @@ public String toString() {
             Object object
     ) throws FacebookException, JSONException {
         int numRequests = requests.size();
-        List<GraphResponse> responses = new ArrayList<GraphResponse>(numRequests);
+        List<GraphResponse> responses = new ArrayList<>(numRequests);
         Object originalResult = object;
 
         if (numRequests == 1) {
@@ -442,7 +442,7 @@ private static GraphResponse createResponseFromObject(
             HttpURLConnection connection,
             FacebookException error) {
         int count = requests.size();
-        List<GraphResponse> responses = new ArrayList<GraphResponse>(count);
+        List<GraphResponse> responses = new ArrayList<>(count);
         for (int i = 0; i < count; ++i) {
             GraphResponse response = new GraphResponse(
                     requests.get(i),
diff --git a/facebook/src/main/java/com/facebook/LegacyTokenHelper.java b/facebook/src/main/java/com/facebook/LegacyTokenHelper.java
index 723955891..b99568418 100644
--- a/facebook/src/main/java/com/facebook/LegacyTokenHelper.java
+++ b/facebook/src/main/java/com/facebook/LegacyTokenHelper.java
@@ -242,21 +242,21 @@ public static void putExpirationMilliseconds(Bundle bundle, long value) {
         if (arrayList == null) {
             return null;
         }
-        return new HashSet<String>(arrayList);
+        return new HashSet<>(arrayList);
     }
 
     public static void putPermissions(Bundle bundle, Collection<String> value) {
         Validate.notNull(bundle, "bundle");
         Validate.notNull(value, "value");
 
-        bundle.putStringArrayList(PERMISSIONS_KEY, new ArrayList<String>(value));
+        bundle.putStringArrayList(PERMISSIONS_KEY, new ArrayList<>(value));
     }
 
     public static void putDeclinedPermissions(Bundle bundle, Collection<String> value) {
         Validate.notNull(bundle, "bundle");
         Validate.notNull(value, "value");
 
-        bundle.putStringArrayList(DECLINED_PERMISSIONS_KEY, new ArrayList<String>(value));
+        bundle.putStringArrayList(DECLINED_PERMISSIONS_KEY, new ArrayList<>(value));
     }
 
     public static AccessTokenSource getSource(Bundle bundle) {
@@ -526,7 +526,7 @@ private void deserializeKey(String key, Bundle bundle)
         } else if (valueType.equals(TYPE_STRING_LIST)) {
             JSONArray jsonArray = json.getJSONArray(JSON_VALUE);
             int numStrings = jsonArray.length();
-            ArrayList<String> stringList = new ArrayList<String>(numStrings);
+            ArrayList<String> stringList = new ArrayList<>(numStrings);
             for (int i = 0; i < numStrings; i++) {
                 Object jsonStringValue = jsonArray.get(i);
                 stringList.add(
diff --git a/facebook/src/main/java/com/facebook/LoggingBehavior.java b/facebook/src/main/java/com/facebook/LoggingBehavior.java
index 768a8b944..8df19fc26 100644
--- a/facebook/src/main/java/com/facebook/LoggingBehavior.java
+++ b/facebook/src/main/java/com/facebook/LoggingBehavior.java
@@ -65,5 +65,4 @@
      * GRAPH_API_DEBUG levels.
      */
     GRAPH_API_DEBUG_INFO
-    ;
 }
diff --git a/facebook/src/main/java/com/facebook/Profile.java b/facebook/src/main/java/com/facebook/Profile.java
index 919ba1686..22488c669 100644
--- a/facebook/src/main/java/com/facebook/Profile.java
+++ b/facebook/src/main/java/com/facebook/Profile.java
@@ -21,7 +21,6 @@
 package com.facebook;
 
 import android.net.Uri;
-import android.os.Bundle;
 import android.os.Parcel;
 import android.os.Parcelable;
 import android.support.annotation.Nullable;
diff --git a/facebook/src/main/java/com/facebook/ProgressNoopOutputStream.java b/facebook/src/main/java/com/facebook/ProgressNoopOutputStream.java
index 71f7bb45d..025381602 100644
--- a/facebook/src/main/java/com/facebook/ProgressNoopOutputStream.java
+++ b/facebook/src/main/java/com/facebook/ProgressNoopOutputStream.java
@@ -27,7 +27,7 @@
 import java.util.Map;
 
 class ProgressNoopOutputStream extends OutputStream implements RequestOutputStream {
-    private final Map<GraphRequest, RequestProgress> progressMap = new HashMap<GraphRequest, RequestProgress>();
+    private final Map<GraphRequest, RequestProgress> progressMap = new HashMap<>();
     private final Handler callbackHandler;
 
     private GraphRequest currentRequest;
diff --git a/facebook/src/main/java/com/facebook/TestUserManager.java b/facebook/src/main/java/com/facebook/TestUserManager.java
index 4f3cdf729..5ddff828b 100644
--- a/facebook/src/main/java/com/facebook/TestUserManager.java
+++ b/facebook/src/main/java/com/facebook/TestUserManager.java
@@ -155,7 +155,7 @@ private synchronized void retrieveTestAccountsForAppIfNeeded() {
             return;
         }
 
-        appTestAccounts = new HashMap<String, JSONObject>();
+        appTestAccounts = new HashMap<>();
 
         // The data we need is split across two different graph API queries. We construct two
         // queries, submit them together (the second one depends on the first one), then
diff --git a/facebook/src/main/java/com/facebook/appevents/AppEvent.java b/facebook/src/main/java/com/facebook/appevents/AppEvent.java
index a2d9d4c0d..e27f748d3 100644
--- a/facebook/src/main/java/com/facebook/appevents/AppEvent.java
+++ b/facebook/src/main/java/com/facebook/appevents/AppEvent.java
@@ -41,7 +41,7 @@
 
     private JSONObject jsonObject;
     private boolean isImplicit;
-    private static final HashSet<String> validatedIdentifiers = new HashSet<String>();
+    private static final HashSet<String> validatedIdentifiers = new HashSet<>();
     private String name;
 
     public AppEvent(
diff --git a/facebook/src/main/java/com/facebook/appevents/AppEventQueue.java b/facebook/src/main/java/com/facebook/appevents/AppEventQueue.java
index 63bbe490a..9b1a66e4e 100644
--- a/facebook/src/main/java/com/facebook/appevents/AppEventQueue.java
+++ b/facebook/src/main/java/com/facebook/appevents/AppEventQueue.java
@@ -38,7 +38,6 @@
 import org.json.JSONException;
 
 import java.util.ArrayList;
-import java.util.HashSet;
 import java.util.List;
 import java.util.Set;
 import java.util.concurrent.Executors;
diff --git a/facebook/src/main/java/com/facebook/appevents/AppEventsLogger.java b/facebook/src/main/java/com/facebook/appevents/AppEventsLogger.java
index 61883a439..9959bd07a 100644
--- a/facebook/src/main/java/com/facebook/appevents/AppEventsLogger.java
+++ b/facebook/src/main/java/com/facebook/appevents/AppEventsLogger.java
@@ -28,51 +28,33 @@
 import android.content.SharedPreferences;
 import android.os.Bundle;
 import android.support.annotation.Nullable;
-import android.support.v4.content.LocalBroadcastManager;
 import android.util.Log;
 import bolts.AppLinks;
 
 import com.facebook.AccessToken;
 import com.facebook.FacebookException;
-import com.facebook.FacebookRequestError;
 import com.facebook.FacebookSdk;
-import com.facebook.GraphRequest;
-import com.facebook.GraphResponse;
 import com.facebook.LoggingBehavior;
 import com.facebook.appevents.internal.ActivityLifecycleTracker;
 import com.facebook.appevents.AppEventsConstants;
-import com.facebook.appevents.internal.Constants;
-import com.facebook.internal.AppEventsLoggerUtility;
-import com.facebook.internal.AttributionIdentifiers;
 import com.facebook.internal.Logger;
 import com.facebook.internal.Utility;
 import com.facebook.internal.Validate;
 
-import org.json.JSONArray;
 import org.json.JSONException;
 import org.json.JSONObject;
 
-import java.io.BufferedInputStream;
 import java.io.BufferedOutputStream;
 import java.io.FileNotFoundException;
-import java.io.IOException;
-import java.io.InputStream;
 import java.io.ObjectInputStream;
 import java.io.ObjectOutputStream;
-import java.io.ObjectStreamClass;
-import java.io.Serializable;
-import java.io.UnsupportedEncodingException;
 import java.math.BigDecimal;
-import java.util.ArrayList;
 import java.util.Currency;
 import java.util.HashMap;
 import java.util.HashSet;
-import java.util.List;
-import java.util.Locale;
 import java.util.Map;
 import java.util.Set;
 import java.util.UUID;
-import java.util.concurrent.ConcurrentHashMap;
 import java.util.concurrent.ScheduledThreadPoolExecutor;
 import java.util.concurrent.TimeUnit;
 
@@ -994,7 +976,7 @@ private static void restoreAppSessionInformation(Context context) {
                         context.deleteFile(PERSISTED_SESSION_INFO_FILENAME);
                         if (appSessionInfoMap == null) {
                             appSessionInfoMap =
-                                    new HashMap<AccessTokenAppIdPair, FacebookTimeSpentData>();
+                                    new HashMap<>();
                         }
                         // Regardless of the outcome of the load, the session information cache
                         // is always deleted. Therefore, always treat the session information cache
diff --git a/facebook/src/main/java/com/facebook/appevents/SessionEventsState.java b/facebook/src/main/java/com/facebook/appevents/SessionEventsState.java
index cf1890073..a5d56578a 100644
--- a/facebook/src/main/java/com/facebook/appevents/SessionEventsState.java
+++ b/facebook/src/main/java/com/facebook/appevents/SessionEventsState.java
@@ -37,8 +37,8 @@
 import java.util.List;
 
 class SessionEventsState {
-    private List<AppEvent> accumulatedEvents = new ArrayList<AppEvent>();
-    private List<AppEvent> inFlightEvents = new ArrayList<AppEvent>();
+    private List<AppEvent> accumulatedEvents = new ArrayList<>();
+    private List<AppEvent> inFlightEvents = new ArrayList<>();
     private int numSkippedEventsDueToFullBuffer;
     private AttributionIdentifiers attributionIdentifiers;
     private String anonymousAppDeviceGUID;
@@ -115,7 +115,7 @@ public int populateRequest(
         // an in-flight request fails, those requests will not be persisted and thus might be
         // lost if the process terminates while the flush is in progress.
         List<AppEvent> result = accumulatedEvents;
-        accumulatedEvents = new ArrayList<AppEvent>();
+        accumulatedEvents = new ArrayList<>();
         return result;
     }
 
diff --git a/facebook/src/main/java/com/facebook/appevents/internal/SessionLogger.java b/facebook/src/main/java/com/facebook/appevents/internal/SessionLogger.java
index b0404c081..3a3689597 100644
--- a/facebook/src/main/java/com/facebook/appevents/internal/SessionLogger.java
+++ b/facebook/src/main/java/com/facebook/appevents/internal/SessionLogger.java
@@ -24,7 +24,6 @@
 import android.os.Bundle;
 import android.text.format.DateUtils;
 
-import com.facebook.FacebookSdk;
 import com.facebook.LoggingBehavior;
 import com.facebook.appevents.AppEventsConstants;
 import com.facebook.appevents.AppEventsLogger;
@@ -85,14 +84,14 @@ public static void logDeactivateApp(
         Long interruptionDurationMillis =
                 sessionInfo.getDiskRestoreTime() - sessionInfo.getSessionLastEventTime();
         if (interruptionDurationMillis < 0) {
-            interruptionDurationMillis = 0l;
+            interruptionDurationMillis = 0L;
             logClockSkewEvent();
         }
 
         Long sessionLength = sessionInfo.getSessionLength();
         if (sessionLength < 0) {
             logClockSkewEvent();
-            sessionLength = 0l;
+            sessionLength = 0L;
         }
 
         Bundle eventParams = new Bundle();
diff --git a/facebook/src/main/java/com/facebook/applinks/FacebookAppLinkResolver.java b/facebook/src/main/java/com/facebook/applinks/FacebookAppLinkResolver.java
index 807d92f1f..e2558a3ea 100644
--- a/facebook/src/main/java/com/facebook/applinks/FacebookAppLinkResolver.java
+++ b/facebook/src/main/java/com/facebook/applinks/FacebookAppLinkResolver.java
@@ -54,7 +54,7 @@
     private static final String APP_LINK_TARGET_URL_KEY = "url";
     private static final String APP_LINK_TARGET_SHOULD_FALLBACK_KEY = "should_fallback";
 
-    private final HashMap<Uri, AppLink> cachedAppLinks = new HashMap<Uri, AppLink>();
+    private final HashMap<Uri, AppLink> cachedAppLinks = new HashMap<>();
 
     /**
      * Asynchronously resolves App Link data for the passed in Uri
@@ -65,7 +65,7 @@
      * task will be completed with the corresponding error.
      */
     public Task<AppLink> getAppLinkFromUrlInBackground(final Uri uri) {
-        ArrayList<Uri> uris = new ArrayList<Uri>();
+        ArrayList<Uri> uris = new ArrayList<>();
         uris.add(uri);
 
         Task<Map<Uri, AppLink>> resolveTask = getAppLinkFromUrlsInBackground(uris);
@@ -88,8 +88,8 @@ public AppLink then(Task<Map<Uri, AppLink>> resolveUrisTask) throws Exception {
      * with the corresponding error.
      */
     public Task<Map<Uri, AppLink>> getAppLinkFromUrlsInBackground(List<Uri> uris) {
-        final Map<Uri, AppLink> appLinkResults = new HashMap<Uri, AppLink>();
-        final HashSet<Uri> urisToRequest = new HashSet<Uri>();
+        final Map<Uri, AppLink> appLinkResults = new HashMap<>();
+        final HashSet<Uri> urisToRequest = new HashSet<>();
         StringBuilder graphRequestFields = new StringBuilder();
 
         for (Uri uri : uris) {
@@ -162,7 +162,7 @@ public void onCompleted(GraphResponse response) {
                                         appLinkData.getJSONArray(APP_LINK_ANDROID_TARGET_KEY);
 
                                 int targetsCount = rawTargets.length();
-                                List<AppLink.Target> targets = new ArrayList<AppLink.Target>(targetsCount);
+                                List<AppLink.Target> targets = new ArrayList<>(targetsCount);
 
                                 for (int i = 0; i < targetsCount; i++) {
                                     AppLink.Target target =
diff --git a/facebook/src/main/java/com/facebook/internal/BundleJSONConverter.java b/facebook/src/main/java/com/facebook/internal/BundleJSONConverter.java
index 18a2bf5f1..71e285022 100644
--- a/facebook/src/main/java/com/facebook/internal/BundleJSONConverter.java
+++ b/facebook/src/main/java/com/facebook/internal/BundleJSONConverter.java
@@ -37,7 +37,7 @@
  * If other types are found, an IllegalArgumentException is thrown.
  */
 public class BundleJSONConverter {
-    private static final Map<Class<?>, Setter> SETTERS = new HashMap<Class<?>, Setter>();
+    private static final Map<Class<?>, Setter> SETTERS = new HashMap<>();
 
     static {
         SETTERS.put(Boolean.class, new Setter() {
@@ -102,7 +102,7 @@ public void setOnJSON(JSONObject json, String key, Object value)  throws JSONExc
         SETTERS.put(JSONArray.class, new Setter() {
             public void setOnBundle(Bundle bundle, String key, Object value) throws JSONException {
                 JSONArray jsonArray = (JSONArray)value;
-                ArrayList<String> stringArrayList = new ArrayList<String>();
+                ArrayList<String> stringArrayList = new ArrayList<>();
                 // Empty list, can't even figure out the type, assume an ArrayList<String>
                 if (jsonArray.length() == 0) {
                     bundle.putStringArrayList(key, stringArrayList);
@@ -129,8 +129,8 @@ public void setOnJSON(JSONObject json, String key, Object value) throws JSONExce
     }
 
     public interface Setter {
-        public void setOnBundle(Bundle bundle, String key, Object value) throws JSONException;
-        public void setOnJSON(JSONObject json, String key, Object value) throws JSONException;
+        void setOnBundle(Bundle bundle, String key, Object value) throws JSONException;
+        void setOnJSON(JSONObject json, String key, Object value) throws JSONException;
     }
 
     public static JSONObject convertToJSON(Bundle bundle) throws JSONException {
diff --git a/facebook/src/main/java/com/facebook/internal/CallbackManagerImpl.java b/facebook/src/main/java/com/facebook/internal/CallbackManagerImpl.java
index d7fdbd5e6..f751b8476 100644
--- a/facebook/src/main/java/com/facebook/internal/CallbackManagerImpl.java
+++ b/facebook/src/main/java/com/facebook/internal/CallbackManagerImpl.java
@@ -62,10 +62,7 @@ private static boolean runStaticCallback(
             int resultCode,
             Intent data) {
         Callback callback = getStaticCallback(requestCode);
-        if (callback != null) {
-            return callback.onActivityResult(resultCode, data);
-        }
-        return false;
+        return callback != null && callback.onActivityResult(resultCode, data);
     }
 
     private Map<Integer, Callback> callbacks = new HashMap<>();
@@ -85,7 +82,7 @@ public boolean onActivityResult(int requestCode, int resultCode, Intent data) {
     }
 
     public interface Callback {
-        public boolean onActivityResult(int resultCode, Intent data);
+        boolean onActivityResult(int resultCode, Intent data);
     }
 
     public enum RequestCodeOffset {
diff --git a/facebook/src/main/java/com/facebook/internal/CollectionMapper.java b/facebook/src/main/java/com/facebook/internal/CollectionMapper.java
index 6ab0f110a..cfc61a15c 100644
--- a/facebook/src/main/java/com/facebook/internal/CollectionMapper.java
+++ b/facebook/src/main/java/com/facebook/internal/CollectionMapper.java
@@ -22,7 +22,6 @@
 
 import com.facebook.FacebookException;
 
-import java.util.HashSet;
 import java.util.Iterator;
 import java.util.LinkedList;
 import java.util.List;
@@ -36,8 +35,8 @@
     public static <T> void iterate(final Collection<T> collection,
                                    final ValueMapper valueMapper,
                                    final OnMapperCompleteListener onMapperCompleteListener) {
-        final Mutable<Boolean> didReturnError = new Mutable<Boolean>(false);
-        final Mutable<Integer> pendingJobCount = new Mutable<Integer>(1);
+        final Mutable<Boolean> didReturnError = new Mutable<>(false);
+        final Mutable<Integer> pendingJobCount = new Mutable<>(1);
         final OnMapperCompleteListener jobCompleteListener = new OnMapperCompleteListener() {
             @Override
             public void onComplete() {
@@ -86,26 +85,26 @@ public void onError(FacebookException exception) {
         jobCompleteListener.onComplete();
     }
 
-    public static interface OnErrorListener {
-        public void onError(FacebookException exception);
+    public interface OnErrorListener {
+        void onError(FacebookException exception);
     }
 
-    public static interface OnMapperCompleteListener extends OnErrorListener {
-        public void onComplete();
+    public interface OnMapperCompleteListener extends OnErrorListener {
+        void onComplete();
     }
 
-    public static interface OnMapValueCompleteListener extends OnErrorListener {
-        public void onComplete(Object mappedValue);
+    public interface OnMapValueCompleteListener extends OnErrorListener {
+        void onComplete(Object mappedValue);
     }
 
-    public static interface ValueMapper {
-        public void mapValue(Object value, OnMapValueCompleteListener onMapValueCompleteListener);
+    public interface ValueMapper {
+        void mapValue(Object value, OnMapValueCompleteListener onMapValueCompleteListener);
     }
 
-    public static interface Collection<T> {
-        public Iterator<T> keyIterator();
-        public Object get(T key);
-        public void set(T key, Object value, OnErrorListener onErrorListener);
+    public interface Collection<T> {
+        Iterator<T> keyIterator();
+        Object get(T key);
+        void set(T key, Object value, OnErrorListener onErrorListener);
     }
 
     private CollectionMapper() {}
diff --git a/facebook/src/main/java/com/facebook/internal/CustomTab.java b/facebook/src/main/java/com/facebook/internal/CustomTab.java
index 863f36f37..eb3cb4635 100644
--- a/facebook/src/main/java/com/facebook/internal/CustomTab.java
+++ b/facebook/src/main/java/com/facebook/internal/CustomTab.java
@@ -22,7 +22,6 @@
 package com.facebook.internal;
 
 import android.app.Activity;
-import android.content.Intent;
 import android.net.Uri;
 import android.os.Bundle;
 import android.support.customtabs.CustomTabsIntent;
diff --git a/facebook/src/main/java/com/facebook/internal/DialogPresenter.java b/facebook/src/main/java/com/facebook/internal/DialogPresenter.java
index d2f934bd3..97144f0cb 100644
--- a/facebook/src/main/java/com/facebook/internal/DialogPresenter.java
+++ b/facebook/src/main/java/com/facebook/internal/DialogPresenter.java
@@ -25,7 +25,6 @@
 import android.content.Intent;
 import android.net.Uri;
 import android.os.Bundle;
-import android.support.v4.app.Fragment;
 
 import com.facebook.FacebookActivity;
 import com.facebook.FacebookException;
diff --git a/facebook/src/main/java/com/facebook/internal/FileLruCache.java b/facebook/src/main/java/com/facebook/internal/FileLruCache.java
index 72e73d467..52f558e50 100644
--- a/facebook/src/main/java/com/facebook/internal/FileLruCache.java
+++ b/facebook/src/main/java/com/facebook/internal/FileLruCache.java
@@ -160,7 +160,7 @@ public InputStream get(String key, String contentTag) throws IOException {
             Logger.log(
                     LoggingBehavior.CACHE,
                     TAG,
-                    "Setting lastModified to " + Long.valueOf(accessTime) + " for " +
+                    "Setting lastModified to " + accessTime + " for " +
                             file.getName());
             file.setLastModified(accessTime);
 
@@ -316,7 +316,7 @@ private void trim() {
         }
         try {
             Logger.log(LoggingBehavior.CACHE, TAG, "trim started");
-            PriorityQueue<ModifiedFile> heap = new PriorityQueue<ModifiedFile>();
+            PriorityQueue<ModifiedFile> heap = new PriorityQueue<>();
             long size = 0;
             long count = 0;
             File[] filesToTrim =this.directory.listFiles(BufferFile.excludeBufferFiles());
@@ -327,7 +327,7 @@ private void trim() {
                     Logger.log(
                             LoggingBehavior.CACHE,
                             TAG,
-                            "  trim considering time=" + Long.valueOf(modified.getModified()) +
+                            "  trim considering time=" + modified.getModified() +
                                     " name=" + modified.getFile().getName());
 
                     size += file.length();
@@ -440,7 +440,7 @@ static JSONObject readHeader(InputStream stream) throws IOException {
                     Logger.log(
                             LoggingBehavior.CACHE,
                             TAG,
-                            "readHeader: stream.read stopped at " + Integer.valueOf(count) +
+                            "readHeader: stream.read stopped at " + count +
                                     " when expected " + headerBytes.length);
                     return null;
                 }
diff --git a/facebook/src/main/java/com/facebook/internal/GraphUtil.java b/facebook/src/main/java/com/facebook/internal/GraphUtil.java
index 93b4566ed..ea60a38d1 100644
--- a/facebook/src/main/java/com/facebook/internal/GraphUtil.java
+++ b/facebook/src/main/java/com/facebook/internal/GraphUtil.java
@@ -22,17 +22,11 @@
 
 import com.facebook.FacebookException;
 import com.facebook.internal.NativeProtocol;
-import com.facebook.internal.Validate;
+
 import org.json.JSONArray;
 import org.json.JSONException;
 import org.json.JSONObject;
 
-import java.text.ParseException;
-import java.text.SimpleDateFormat;
-import java.util.Date;
-import java.util.List;
-import java.util.Locale;
-
 /**
  * com.facebook.internal is solely for the use of other packages within the Facebook SDK for
  * Android. Use of any of the classes in this package is unsupported, and they may be modified or
diff --git a/facebook/src/main/java/com/facebook/internal/ImageDownloader.java b/facebook/src/main/java/com/facebook/internal/ImageDownloader.java
index 9309f2beb..1e744e011 100644
--- a/facebook/src/main/java/com/facebook/internal/ImageDownloader.java
+++ b/facebook/src/main/java/com/facebook/internal/ImageDownloader.java
@@ -33,8 +33,6 @@
 import java.io.InputStream;
 import java.io.InputStreamReader;
 import java.net.HttpURLConnection;
-import java.net.URI;
-import java.net.URISyntaxException;
 import java.net.URL;
 import java.util.HashMap;
 import java.util.Map;
@@ -51,7 +49,7 @@
     private static WorkQueue downloadQueue = new WorkQueue(DOWNLOAD_QUEUE_MAX_CONCURRENT);
     private static WorkQueue cacheReadQueue = new WorkQueue(CACHE_READ_QUEUE_MAX_CONCURRENT);
 
-    private static final Map<RequestKey, DownloaderContext> pendingRequests = new HashMap<RequestKey, DownloaderContext>();
+    private static final Map<RequestKey, DownloaderContext> pendingRequests = new HashMap<>();
 
     /**
      * Downloads the image specified in the passed in request.
diff --git a/facebook/src/main/java/com/facebook/internal/ImageRequest.java b/facebook/src/main/java/com/facebook/internal/ImageRequest.java
index f0dbfbf3e..acbe35ebb 100644
--- a/facebook/src/main/java/com/facebook/internal/ImageRequest.java
+++ b/facebook/src/main/java/com/facebook/internal/ImageRequest.java
@@ -23,8 +23,6 @@
 import android.content.Context;
 import android.net.Uri;
 
-import java.net.URI;
-import java.net.URISyntaxException;
 import java.util.Locale;
 
 /**
diff --git a/facebook/src/main/java/com/facebook/internal/ImageResponseCache.java b/facebook/src/main/java/com/facebook/internal/ImageResponseCache.java
index 847c441d4..0a4b47583 100644
--- a/facebook/src/main/java/com/facebook/internal/ImageResponseCache.java
+++ b/facebook/src/main/java/com/facebook/internal/ImageResponseCache.java
@@ -29,9 +29,6 @@
 import java.io.IOException;
 import java.io.InputStream;
 import java.net.HttpURLConnection;
-import java.net.URI;
-import java.net.URISyntaxException;
-import java.net.URL;
 
 /**
  * com.facebook.internal is solely for the use of other packages within the
diff --git a/facebook/src/main/java/com/facebook/internal/JsonUtil.java b/facebook/src/main/java/com/facebook/internal/JsonUtil.java
index 021f9a7ef..4f2444363 100644
--- a/facebook/src/main/java/com/facebook/internal/JsonUtil.java
+++ b/facebook/src/main/java/com/facebook/internal/JsonUtil.java
@@ -81,7 +81,7 @@ public Object setValue(Object object) {
     }
 
     static Set<Map.Entry<String, Object>> jsonObjectEntrySet(JSONObject jsonObject) {
-        HashSet<Map.Entry<String, Object>> result = new HashSet<Map.Entry<String, Object>>();
+        HashSet<Map.Entry<String, Object>> result = new HashSet<>();
 
         @SuppressWarnings("unchecked")
         Iterator<String> keys = (Iterator<String>) jsonObject.keys();
@@ -95,7 +95,7 @@ public Object setValue(Object object) {
     }
 
     static Set<String> jsonObjectKeySet(JSONObject jsonObject) {
-        HashSet<String> result = new HashSet<String>();
+        HashSet<String> result = new HashSet<>();
 
         @SuppressWarnings("unchecked")
         Iterator<String> keys = (Iterator<String>) jsonObject.keys();
@@ -118,7 +118,7 @@ static void jsonObjectPutAll(JSONObject jsonObject, Map<String, Object> map) {
     }
 
     static Collection<Object> jsonObjectValues(JSONObject jsonObject) {
-        ArrayList<Object> result = new ArrayList<Object>();
+        ArrayList<Object> result = new ArrayList<>();
 
         @SuppressWarnings("unchecked")
         Iterator<String> keys = (Iterator<String>) jsonObject.keys();
diff --git a/facebook/src/main/java/com/facebook/internal/Logger.java b/facebook/src/main/java/com/facebook/internal/Logger.java
index 4a66819a3..b4caa91b5 100644
--- a/facebook/src/main/java/com/facebook/internal/Logger.java
+++ b/facebook/src/main/java/com/facebook/internal/Logger.java
@@ -35,7 +35,7 @@
  */
 public class Logger {
     public static final String LOG_TAG_BASE = "FacebookSDK.";
-    private static final HashMap<String, String> stringsToReplace = new HashMap<String, String>();
+    private static final HashMap<String, String> stringsToReplace = new HashMap<>();
 
     private final LoggingBehavior behavior;
     private final String tag;
diff --git a/facebook/src/main/java/com/facebook/internal/NativeProtocol.java b/facebook/src/main/java/com/facebook/internal/NativeProtocol.java
index 4800cf950..d1ee03a06 100644
--- a/facebook/src/main/java/com/facebook/internal/NativeProtocol.java
+++ b/facebook/src/main/java/com/facebook/internal/NativeProtocol.java
@@ -37,11 +37,7 @@
 import com.facebook.login.DefaultAudience;
 
 import java.util.*;
-import java.util.concurrent.Callable;
-import java.util.concurrent.Executors;
-import java.util.concurrent.FutureTask;
 import java.util.concurrent.atomic.AtomicBoolean;
-import java.util.concurrent.atomic.AtomicInteger;
 
 /**
  * com.facebook.internal is solely for the use of other packages within the Facebook SDK for
@@ -240,7 +236,7 @@
         private TreeSet<Integer> availableVersions;
 
         private static HashSet<String> buildAppSignatureHashes() {
-            HashSet<String> set = new HashSet<String>();
+            HashSet<String> set = new HashSet<>();
             set.add(FBR_HASH);
             set.add(FBI_HASH);
             set.add(FBL_HASH);
@@ -320,7 +316,7 @@ protected String getPackage() {
     private static AtomicBoolean protocolVersionsAsyncUpdating = new AtomicBoolean(false);
 
     private static List<NativeAppInfo> buildFacebookAppList() {
-        List<NativeAppInfo> list = new ArrayList<NativeAppInfo>();
+        List<NativeAppInfo> list = new ArrayList<>();
 
         // Katana needs to be the first thing in the list since it will get selected as the default
         // FACEBOOK_APP_INFO
@@ -331,9 +327,9 @@ protected String getPackage() {
     }
 
     private static Map<String, List<NativeAppInfo>> buildActionToAppInfoMap() {
-        Map<String, List<NativeAppInfo>> map = new HashMap<String, List<NativeAppInfo>>();
+        Map<String, List<NativeAppInfo>> map = new HashMap<>();
 
-        ArrayList<NativeAppInfo> messengerAppInfoList = new ArrayList<NativeAppInfo>();
+        ArrayList<NativeAppInfo> messengerAppInfoList = new ArrayList<>();
         messengerAppInfoList.add(new MessengerAppInfo());
 
         // Add individual actions and the list they should try
diff --git a/facebook/src/main/java/com/facebook/internal/Utility.java b/facebook/src/main/java/com/facebook/internal/Utility.java
index 074ca876e..835e86433 100644
--- a/facebook/src/main/java/com/facebook/internal/Utility.java
+++ b/facebook/src/main/java/com/facebook/internal/Utility.java
@@ -47,7 +47,6 @@
 import com.facebook.GraphRequest;
 import com.facebook.GraphResponse;
 import com.facebook.HttpMethod;
-import com.facebook.appevents.AppEventsConstants;
 import com.facebook.appevents.internal.Constants;
 
 import org.json.JSONArray;
@@ -126,7 +125,7 @@
     private static final int GINGERBREAD_MR1 = 10;
 
     private static Map<String, FetchedAppSettings> fetchedAppSettings =
-            new ConcurrentHashMap<String, FetchedAppSettings>();
+            new ConcurrentHashMap<>();
 
     private static AtomicBoolean loadingSettings = new AtomicBoolean(false);
 
@@ -383,7 +382,7 @@ public Uri getFallbackUrl() {
             return ((subset == null) || (subset.size() == 0));
         }
 
-        HashSet<T> hash = new HashSet<T>(superset);
+        HashSet<T> hash = new HashSet<>(superset);
         for (T t : subset) {
             if (!hash.contains(t)) {
                 return false;
@@ -422,7 +421,7 @@ public static String coerceValueIfNullOrEmpty(String s, String valueIfNullOrEmpt
     }
 
     public static <T> ArrayList<T> arrayList(T... ts) {
-        ArrayList<T> arrayList = new ArrayList<T>(ts.length);
+        ArrayList<T> arrayList = new ArrayList<>(ts.length);
         for (T t : ts) {
             arrayList.add(t);
         }
@@ -430,7 +429,7 @@ public static String coerceValueIfNullOrEmpty(String s, String valueIfNullOrEmpt
     }
 
     public static <T> HashSet<T> hashSet(T... ts) {
-        HashSet<T> hashSet = new HashSet<T>(ts.length);
+        HashSet<T> hashSet = new HashSet<>(ts.length);
         for (T t : ts) {
             hashSet.add(t);
         }
@@ -599,7 +598,7 @@ public static String getMetadataApplicationId(Context context) {
     }
 
     static Map<String, Object> convertJSONObjectToHashMap(JSONObject jsonObject) {
-        HashMap<String, Object> map = new HashMap<String, Object>();
+        HashMap<String, Object> map = new HashMap<>();
         JSONArray keys = jsonObject.names();
         for (int i = 0; i < keys.length(); ++i) {
             String key;
@@ -779,10 +778,7 @@ public static boolean hasSameId(JSONObject a, JSONObject b) {
         }
         String idA = a.optString("id");
         String idB = b.optString("id");
-        if (idA == null || idB == null) {
-            return false;
-        }
-        return idA.equals(idB);
+        return !(idA == null || idB == null) && idA.equals(idB);
     }
 
     public static void loadAppSettingsAsync(
@@ -917,7 +913,7 @@ public static DialogFeatureConfig getDialogFeatureConfig(
 
     private static Map<String, Map<String, DialogFeatureConfig>> parseDialogConfigurations(
             JSONObject dialogConfigResponse) {
-        HashMap<String, Map<String, DialogFeatureConfig>> dialogConfigMap = new HashMap<String, Map<String, DialogFeatureConfig>>();
+        HashMap<String, Map<String, DialogFeatureConfig>> dialogConfigMap = new HashMap<>();
 
         if (dialogConfigResponse != null) {
             JSONArray dialogConfigData = dialogConfigResponse.optJSONArray("data");
@@ -932,7 +928,7 @@ public static DialogFeatureConfig getDialogFeatureConfig(
                     String dialogName = dialogConfig.getDialogName();
                     Map<String, DialogFeatureConfig> featureMap = dialogConfigMap.get(dialogName);
                     if (featureMap == null) {
-                        featureMap = new HashMap<String, DialogFeatureConfig>();
+                        featureMap = new HashMap<>();
                         dialogConfigMap.put(dialogName, featureMap);
                     }
                     featureMap.put(dialogConfig.getFeatureName(), dialogConfig);
@@ -976,7 +972,7 @@ public static void deleteDirectory(File directoryOrFile) {
     }
 
     public static <T> List<T> asListNoNulls(T... array) {
-        ArrayList<T> result = new ArrayList<T>();
+        ArrayList<T> result = new ArrayList<>();
         for (T t : array) {
             if (t != null) {
                 result.add(t);
@@ -1155,14 +1151,14 @@ public static String getActivityName(Context context) {
     }
 
     public interface Predicate<T> {
-        public boolean apply(T item);
+        boolean apply(T item);
     }
 
     public static <T> List<T> filter(final List<T> target, final Predicate<T> predicate) {
         if (target == null) {
             return null;
         }
-        final List<T> list = new ArrayList<T>();
+        final List<T> list = new ArrayList<>();
         for (T item : target) {
             if (predicate.apply(item)) {
                 list.add(item);
@@ -1172,14 +1168,14 @@ public static String getActivityName(Context context) {
     }
 
     public interface Mapper<T, K> {
-        public K apply(T item);
+        K apply(T item);
     }
 
     public static <T, K> List<K> map(final List<T> target, final Mapper<T, K> mapper) {
         if (target == null) {
             return null;
         }
-        final List<K> list = new ArrayList<K>();
+        final List<K> list = new ArrayList<>();
         for (T item : target) {
             final K mappedItem = mapper.apply(item);
             if (mappedItem != null) {
diff --git a/facebook/src/main/java/com/facebook/internal/WebDialog.java b/facebook/src/main/java/com/facebook/internal/WebDialog.java
index f92dd8230..681fea654 100644
--- a/facebook/src/main/java/com/facebook/internal/WebDialog.java
+++ b/facebook/src/main/java/com/facebook/internal/WebDialog.java
@@ -33,6 +33,8 @@
 import android.net.Uri;
 import android.net.http.SslError;
 import android.os.Bundle;
+import android.support.v4.content.ContextCompat;
+import android.support.v7.app.AppCompatDialog;
 import android.util.DisplayMetrics;
 import android.view.*;
 import android.webkit.SslErrorHandler;
@@ -42,7 +44,6 @@
 import android.widget.ImageView;
 import android.widget.LinearLayout;
 import com.facebook.*;
-import com.facebook.R;
 
 import java.util.Locale;
 
@@ -55,7 +56,7 @@
  * methods are provided to construct commonly-used dialogs, or a caller can specify arbitrary
  * parameters to call other dialogs.
  */
-public class WebDialog extends Dialog {
+public class WebDialog extends AppCompatDialog {
     private static final String LOG_TAG = Logger.LOG_TAG_BASE + "WebDialog";
     private static final String DISPLAY_TOUCH = "touch";
     private static final int API_EC_DIALOG_CANCEL = 4201;
@@ -376,7 +377,7 @@ public void onClick(View v) {
                 cancel();
             }
         });
-        Drawable crossDrawable = getContext().getResources().getDrawable(R.drawable.com_facebook_close);
+        Drawable crossDrawable = ContextCompat.getDrawable(getContext(),R.mipmap.com_facebook_close);
         crossImageView.setImageDrawable(crossDrawable);
         /* 'x' should not be visible while webview is loading
          * make it visible only after webview has fully loaded
diff --git a/facebook/src/main/java/com/facebook/login/CustomTabLoginMethodHandler.java b/facebook/src/main/java/com/facebook/login/CustomTabLoginMethodHandler.java
index 9cba702c8..6f6ca3d46 100644
--- a/facebook/src/main/java/com/facebook/login/CustomTabLoginMethodHandler.java
+++ b/facebook/src/main/java/com/facebook/login/CustomTabLoginMethodHandler.java
@@ -27,7 +27,6 @@
 import android.os.Bundle;
 import android.os.Parcel;
 import android.os.Parcelable;
-import android.util.Log;
 
 import com.facebook.AccessTokenSource;
 import com.facebook.FacebookSdk;
diff --git a/facebook/src/main/java/com/facebook/login/DefaultAudience.java b/facebook/src/main/java/com/facebook/login/DefaultAudience.java
index e54fe3499..a4329102b 100644
--- a/facebook/src/main/java/com/facebook/login/DefaultAudience.java
+++ b/facebook/src/main/java/com/facebook/login/DefaultAudience.java
@@ -51,7 +51,7 @@
 
     private final String nativeProtocolAudience;
 
-    private DefaultAudience(String protocol) {
+    DefaultAudience(String protocol) {
         nativeProtocolAudience = protocol;
     }
 
diff --git a/facebook/src/main/java/com/facebook/login/DeviceAuthMethodHandler.java b/facebook/src/main/java/com/facebook/login/DeviceAuthMethodHandler.java
index 9539525f3..e034b18e8 100644
--- a/facebook/src/main/java/com/facebook/login/DeviceAuthMethodHandler.java
+++ b/facebook/src/main/java/com/facebook/login/DeviceAuthMethodHandler.java
@@ -20,7 +20,6 @@
 
 package com.facebook.login;
 
-import android.app.Dialog;
 import android.os.Parcel;
 import android.os.Parcelable;
 
diff --git a/facebook/src/main/java/com/facebook/login/GetTokenLoginMethodHandler.java b/facebook/src/main/java/com/facebook/login/GetTokenLoginMethodHandler.java
index a6136718e..dc605cd1b 100644
--- a/facebook/src/main/java/com/facebook/login/GetTokenLoginMethodHandler.java
+++ b/facebook/src/main/java/com/facebook/login/GetTokenLoginMethodHandler.java
@@ -100,7 +100,7 @@ void getTokenCompleted(LoginClient.Request request, Bundle result) {
 
             // We didn't get all the permissions we wanted, so update the request with just the
             // permissions we still need.
-            Set<String> newPermissions = new HashSet<String>();
+            Set<String> newPermissions = new HashSet<>();
             for (String permission : permissions) {
                 if (!currentPermissions.contains(permission)) {
                     newPermissions.add(permission);
diff --git a/facebook/src/main/java/com/facebook/login/KatanaProxyLoginMethodHandler.java b/facebook/src/main/java/com/facebook/login/KatanaProxyLoginMethodHandler.java
index 9fb8c5b7d..6104ff16b 100644
--- a/facebook/src/main/java/com/facebook/login/KatanaProxyLoginMethodHandler.java
+++ b/facebook/src/main/java/com/facebook/login/KatanaProxyLoginMethodHandler.java
@@ -30,7 +30,6 @@
 import com.facebook.AccessToken;
 import com.facebook.AccessTokenSource;
 import com.facebook.FacebookException;
-import com.facebook.internal.CallbackManagerImpl;
 import com.facebook.internal.NativeProtocol;
 import com.facebook.internal.ServerProtocol;
 import com.facebook.internal.Utility;
diff --git a/facebook/src/main/java/com/facebook/login/LoginBehavior.java b/facebook/src/main/java/com/facebook/login/LoginBehavior.java
index 78194d4f6..d691a1afa 100644
--- a/facebook/src/main/java/com/facebook/login/LoginBehavior.java
+++ b/facebook/src/main/java/com/facebook/login/LoginBehavior.java
@@ -52,7 +52,7 @@
     private final boolean allowsWebViewAuth;
     private final boolean allowsDeviceAuth;
 
-    private LoginBehavior(
+    LoginBehavior(
             boolean allowsKatanaAuth,
             boolean allowsWebViewAuth,
             boolean allowsDeviceAuth) {
diff --git a/facebook/src/main/java/com/facebook/login/LoginClient.java b/facebook/src/main/java/com/facebook/login/LoginClient.java
index 347ebf086..7e8ed38d0 100644
--- a/facebook/src/main/java/com/facebook/login/LoginClient.java
+++ b/facebook/src/main/java/com/facebook/login/LoginClient.java
@@ -24,8 +24,6 @@
 import android.app.Activity;
 import android.content.Intent;
 import android.content.pm.PackageManager;
-import android.net.Uri;
-import android.os.Bundle;
 import android.os.Parcel;
 import android.os.Parcelable;
 import android.support.v4.app.Fragment;
@@ -33,17 +31,13 @@
 import android.text.TextUtils;
 
 import com.facebook.AccessToken;
-import com.facebook.GraphRequest;
-import com.facebook.GraphResponse;
 import com.facebook.appevents.AppEventsConstants;
 import com.facebook.FacebookException;
-import com.facebook.HttpMethod;
 import com.facebook.R;
 import com.facebook.internal.CallbackManagerImpl;
 import com.facebook.internal.Utility;
 import com.facebook.internal.Validate;
 
-import org.json.JSONArray;
 import org.json.JSONException;
 import org.json.JSONObject;
 
@@ -51,7 +45,6 @@
 import java.util.Collection;
 import java.util.HashMap;
 import java.util.HashSet;
-import java.util.List;
 import java.util.Map;
 import java.util.Set;
 
@@ -147,15 +140,11 @@ LoginMethodHandler getCurrentHandler() {
     }
 
     public boolean onActivityResult(int requestCode, int resultCode, Intent data) {
-        if (pendingRequest != null) {
-            return getCurrentHandler()
-                    .onActivityResult(requestCode, resultCode, data);
-        }
-        return false;
+        return pendingRequest != null && getCurrentHandler().onActivityResult(requestCode, resultCode, data);
     }
 
     private LoginMethodHandler [] getHandlersToTry(Request request) {
-        ArrayList<LoginMethodHandler> handlers = new ArrayList<LoginMethodHandler>();
+        ArrayList<LoginMethodHandler> handlers = new ArrayList<>();
 
         final LoginBehavior behavior = request.getLoginBehavior();
 
@@ -229,7 +218,7 @@ private void completeWithFailure() {
 
     private void addLoggingExtra(String key, String value, boolean accumulate) {
         if (loggingExtras == null) {
-            loggingExtras = new HashMap<String, String>();
+            loggingExtras = new HashMap<>();
         }
         if (loggingExtras.containsKey(key) && accumulate) {
             value = loggingExtras.get(key) + "," + value;
@@ -507,7 +496,7 @@ private Request(Parcel parcel) {
             this.loginBehavior = enumValue != null ? LoginBehavior.valueOf(enumValue) : null;
             ArrayList<String> permissionsList = new ArrayList<>();
             parcel.readStringList(permissionsList);
-            this.permissions = new HashSet<String>(permissionsList);
+            this.permissions = new HashSet<>(permissionsList);
             enumValue = parcel.readString();
             this.defaultAudience = enumValue != null ? DefaultAudience.valueOf(enumValue) : null;
             this.applicationId = parcel.readString();
@@ -524,7 +513,7 @@ public int describeContents() {
         @Override
         public void writeToParcel(Parcel dest, int flags) {
             dest.writeString(loginBehavior != null ? loginBehavior.name() : null);
-            dest.writeStringList(new ArrayList<String>(permissions));
+            dest.writeStringList(new ArrayList<>(permissions));
             dest.writeString(defaultAudience != null ? defaultAudience.name() : null);
             dest.writeString(applicationId);
             dest.writeString(authId);
diff --git a/facebook/src/main/java/com/facebook/login/LoginManager.java b/facebook/src/main/java/com/facebook/login/LoginManager.java
index 688549dff..5f6690357 100644
--- a/facebook/src/main/java/com/facebook/login/LoginManager.java
+++ b/facebook/src/main/java/com/facebook/login/LoginManager.java
@@ -543,7 +543,7 @@ static LoginResult computeLoginResult(
             final AccessToken newToken
     ) {
         Set<String> requestedPermissions = request.getPermissions();
-        Set<String> grantedPermissions = new HashSet<String>(newToken.getPermissions());
+        Set<String> grantedPermissions = new HashSet<>(newToken.getPermissions());
 
         // If it's a reauth, subset the granted permissions to just the requested permissions
         // so we don't report implicit permissions like user_profile as recently granted.
@@ -551,7 +551,7 @@ static LoginResult computeLoginResult(
             grantedPermissions.retainAll(requestedPermissions);
         }
 
-        Set<String> deniedPermissions = new HashSet<String>(requestedPermissions);
+        Set<String> deniedPermissions = new HashSet<>(requestedPermissions);
         deniedPermissions.removeAll(grantedPermissions);
         return new LoginResult(newToken, grantedPermissions, deniedPermissions);
     }
diff --git a/facebook/src/main/java/com/facebook/login/LoginMethodHandler.java b/facebook/src/main/java/com/facebook/login/LoginMethodHandler.java
index fc3e01879..ccdfbf9b8 100644
--- a/facebook/src/main/java/com/facebook/login/LoginMethodHandler.java
+++ b/facebook/src/main/java/com/facebook/login/LoginMethodHandler.java
@@ -29,13 +29,11 @@
 
 import com.facebook.AccessToken;
 import com.facebook.AccessTokenSource;
-import com.facebook.FacebookAuthorizationException;
 import com.facebook.FacebookException;
 import com.facebook.appevents.AppEventsLogger;
 import com.facebook.internal.AnalyticsEvents;
 import com.facebook.internal.NativeProtocol;
 import com.facebook.internal.Utility;
-import com.facebook.internal.Validate;
 
 import org.json.JSONException;
 import org.json.JSONObject;
@@ -101,7 +99,7 @@ protected String getClientState(String authId) {
 
     protected void addLoggingExtra(String key, Object value) {
         if (methodLoggingExtras == null) {
-            methodLoggingExtras = new HashMap<String, String>();
+            methodLoggingExtras = new HashMap<>();
         }
         methodLoggingExtras.put(key, value == null ? null : value.toString());
     }
@@ -158,13 +156,13 @@ public static AccessToken createAccessTokenFromWebBundle(
         // to be the real thing
         String grantedPermissions = bundle.getString("granted_scopes");
         if (!Utility.isNullOrEmpty(grantedPermissions)) {
-            requestedPermissions = new ArrayList<String>(
+            requestedPermissions = new ArrayList<>(
                     Arrays.asList(grantedPermissions.split(",")));
         }
         String deniedPermissions = bundle.getString("denied_scopes");
         List<String> declinedPermissions = null;
         if (!Utility.isNullOrEmpty(deniedPermissions)) {
-            declinedPermissions = new ArrayList<String>(
+            declinedPermissions = new ArrayList<>(
                     Arrays.asList(deniedPermissions.split(",")));
         }
 
diff --git a/facebook/src/main/java/com/facebook/login/StartActivityDelegate.java b/facebook/src/main/java/com/facebook/login/StartActivityDelegate.java
index d30461be3..a39d0fe0d 100644
--- a/facebook/src/main/java/com/facebook/login/StartActivityDelegate.java
+++ b/facebook/src/main/java/com/facebook/login/StartActivityDelegate.java
@@ -24,7 +24,7 @@
 import android.content.Intent;
 
 interface StartActivityDelegate {
-    public void startActivityForResult(Intent intent, int requestCode);
+    void startActivityForResult(Intent intent, int requestCode);
 
-    public Activity getActivityContext();
+    Activity getActivityContext();
 }
diff --git a/facebook/src/main/java/com/facebook/login/widget/LoginButton.java b/facebook/src/main/java/com/facebook/login/widget/LoginButton.java
index 0ae9eb9a2..cb89db38f 100644
--- a/facebook/src/main/java/com/facebook/login/widget/LoginButton.java
+++ b/facebook/src/main/java/com/facebook/login/widget/LoginButton.java
@@ -27,8 +27,8 @@
 import android.content.res.TypedArray;
 import android.graphics.Canvas;
 import android.graphics.Paint;
-import android.net.Uri;
 import android.os.Bundle;
+import android.support.v4.content.ContextCompat;
 import android.util.AttributeSet;
 import android.view.View;
 import com.facebook.*;
@@ -555,7 +555,7 @@ protected void configureButton(
         if (isInEditMode()) {
             // cannot use a drawable in edit mode, so setting the background color instead
             // of a background resource.
-            setBackgroundColor(getResources().getColor(R.color.com_facebook_blue));
+            setBackgroundColor(ContextCompat.getColor(context,R.color.com_facebook_blue));
             // hardcoding in edit mode as getResources().getString() doesn't seem to work in
             // IntelliJ
             loginText = "Log in with Facebook";
diff --git a/facebook/src/main/java/com/facebook/login/widget/ProfilePictureView.java b/facebook/src/main/java/com/facebook/login/widget/ProfilePictureView.java
index b92c39107..dc9ab40a4 100644
--- a/facebook/src/main/java/com/facebook/login/widget/ProfilePictureView.java
+++ b/facebook/src/main/java/com/facebook/login/widget/ProfilePictureView.java
@@ -413,8 +413,8 @@ private void setBlankProfilePicture() {
 
         if (customizedDefaultProfilePicture == null) {
             int blankImageResource = isCropped() ?
-                    R.drawable.com_facebook_profile_picture_blank_square :
-                    R.drawable.com_facebook_profile_picture_blank_portrait;
+                    R.mipmap.com_facebook_profile_picture_blank_square :
+                    R.mipmap.com_facebook_profile_picture_blank_portrait;
             setImageBitmap(BitmapFactory.decodeResource(getResources(), blankImageResource));
         } else {
             // Update profile image dimensions.
diff --git a/facebook/src/main/java/com/facebook/login/widget/ToolTipPopup.java b/facebook/src/main/java/com/facebook/login/widget/ToolTipPopup.java
index 017960820..6bd5d4eb8 100644
--- a/facebook/src/main/java/com/facebook/login/widget/ToolTipPopup.java
+++ b/facebook/src/main/java/com/facebook/login/widget/ToolTipPopup.java
@@ -42,7 +42,7 @@
     /**
      * The values here describe the styles available for the tool tip class.
      */
-    public static enum Style {
+    public enum Style {
         /**
          * The tool tip will be shown with a blue style; including a blue background and blue
          * arrows.
@@ -92,7 +92,7 @@ public void onScrollChanged() {
      */
     public ToolTipPopup(String text, View anchor) {
         mText = text;
-        mAnchorViewRef = new WeakReference<View>(anchor);
+        mAnchorViewRef = new WeakReference<>(anchor);
         mContext = anchor.getContext();
     }
     
@@ -117,18 +117,18 @@ public void show() {
                 mPopupContent.bodyFrame.setBackgroundResource(
                         R.drawable.com_facebook_tooltip_blue_background);
                 mPopupContent.bottomArrow.setImageResource(
-                        R.drawable.com_facebook_tooltip_blue_bottomnub);
+                        R.mipmap.com_facebook_tooltip_blue_bottomnub);
                 mPopupContent.topArrow.setImageResource(
-                        R.drawable.com_facebook_tooltip_blue_topnub);
-                mPopupContent.xOut.setImageResource(R.drawable.com_facebook_tooltip_blue_xout);
+                        R.mipmap.com_facebook_tooltip_blue_topnub);
+                mPopupContent.xOut.setImageResource(R.mipmap.com_facebook_tooltip_blue_xout);
             } else {
                 mPopupContent.bodyFrame.setBackgroundResource(
                         R.drawable.com_facebook_tooltip_black_background);
                 mPopupContent.bottomArrow.setImageResource(
-                        R.drawable.com_facebook_tooltip_black_bottomnub);
+                        R.mipmap.com_facebook_tooltip_black_bottomnub);
                 mPopupContent.topArrow.setImageResource(
-                        R.drawable.com_facebook_tooltip_black_topnub);
-                mPopupContent.xOut.setImageResource(R.drawable.com_facebook_tooltip_black_xout);
+                        R.mipmap.com_facebook_tooltip_black_topnub);
+                mPopupContent.xOut.setImageResource(R.mipmap.com_facebook_tooltip_black_xout);
             }
             
             final Window window = ((Activity) mContext).getWindow();
diff --git a/facebook/src/main/java/com/facebook/messenger/MessengerUtils.java b/facebook/src/main/java/com/facebook/messenger/MessengerUtils.java
index af847c14d..61ddd717d 100644
--- a/facebook/src/main/java/com/facebook/messenger/MessengerUtils.java
+++ b/facebook/src/main/java/com/facebook/messenger/MessengerUtils.java
@@ -260,7 +260,7 @@ public static void openMessengerInPlayStore(Context context) {
 
   private static Set<Integer> getAllAvailableProtocolVersions(Context context) {
     ContentResolver contentResolver = context.getContentResolver();
-    Set<Integer> allAvailableVersions = new HashSet<Integer>();
+    Set<Integer> allAvailableVersions = new HashSet<>();
     Uri uri = Uri.parse("content://com.facebook.orca.provider.MessengerPlatformProvider/versions");
     String [] projection = new String[]{ "version" };
     Cursor c = contentResolver.query(uri, projection, null, null, null);
@@ -287,7 +287,7 @@ private static void startViewUri(Context context, String uri) {
       return Collections.emptyList();
     }
     String[] parts = s.split(",");
-    List<String> ret = new ArrayList<String>();
+    List<String> ret = new ArrayList<>();
     for (String part : parts) {
       ret.add(part.trim());
     }
diff --git a/facebook/src/main/java/com/facebook/messenger/ShareToMessengerParams.java b/facebook/src/main/java/com/facebook/messenger/ShareToMessengerParams.java
index 9bb413384..6581dbce1 100644
--- a/facebook/src/main/java/com/facebook/messenger/ShareToMessengerParams.java
+++ b/facebook/src/main/java/com/facebook/messenger/ShareToMessengerParams.java
@@ -38,7 +38,7 @@
   public static final Set<String> VALID_EXTERNAL_URI_SCHEMES;
 
   static {
-    Set<String> validMimeTypes = new HashSet<String>();
+    Set<String> validMimeTypes = new HashSet<>();
     validMimeTypes.add("image/*");
     validMimeTypes.add("image/jpeg");
     validMimeTypes.add("image/png");
@@ -50,13 +50,13 @@
     validMimeTypes.add("audio/mpeg");
     VALID_MIME_TYPES = Collections.unmodifiableSet(validMimeTypes);
 
-    Set<String> validUriSchemes = new HashSet<String>();
+    Set<String> validUriSchemes = new HashSet<>();
     validUriSchemes.add("content");
     validUriSchemes.add("android.resource");
     validUriSchemes.add("file");
     VALID_URI_SCHEMES = Collections.unmodifiableSet(validUriSchemes);
 
-    Set<String> validExternalUriSchemes = new HashSet<String>();
+    Set<String> validExternalUriSchemes = new HashSet<>();
     validExternalUriSchemes.add("http");
     validExternalUriSchemes.add("https");
     VALID_EXTERNAL_URI_SCHEMES = Collections.unmodifiableSet(validExternalUriSchemes);
diff --git a/facebook/src/main/java/com/facebook/share/ShareApi.java b/facebook/src/main/java/com/facebook/share/ShareApi.java
index 2917e345e..a5a33d4c7 100644
--- a/facebook/src/main/java/com/facebook/share/ShareApi.java
+++ b/facebook/src/main/java/com/facebook/share/ShareApi.java
@@ -316,11 +316,11 @@ private static void putImageInBundleWithArrayFormat(
 
     private void sharePhotoContent(final SharePhotoContent photoContent,
                                    final FacebookCallback<Sharer.Result> callback) {
-        final Mutable<Integer> requestCount = new Mutable<Integer>(0);
+        final Mutable<Integer> requestCount = new Mutable<>(0);
         final AccessToken accessToken = AccessToken.getCurrentAccessToken();
-        final ArrayList<GraphRequest> requests = new ArrayList<GraphRequest>();
-        final ArrayList<JSONObject> results = new ArrayList<JSONObject>();
-        final ArrayList<GraphResponse> errorResponses = new ArrayList<GraphResponse>();
+        final ArrayList<GraphRequest> requests = new ArrayList<>();
+        final ArrayList<JSONObject> results = new ArrayList<>();
+        final ArrayList<GraphResponse> errorResponses = new ArrayList<>();
         final GraphRequest.Callback requestCallback = new GraphRequest.Callback() {
             @Override
             public void onCompleted(GraphResponse response) {
@@ -461,7 +461,7 @@ private void stageArrayList(final ArrayList arrayList,
             @Override
             public Iterator<Integer> keyIterator() {
                 final int size = arrayList.size();
-                final Mutable<Integer> current = new Mutable<Integer>(0);
+                final Mutable<Integer> current = new Mutable<>(0);
                 return new Iterator<Integer>() {
                     @Override
                     public boolean hasNext() {
diff --git a/facebook/src/main/java/com/facebook/share/ShareBuilder.java b/facebook/src/main/java/com/facebook/share/ShareBuilder.java
index 53df49f3a..39b44ed1f 100644
--- a/facebook/src/main/java/com/facebook/share/ShareBuilder.java
+++ b/facebook/src/main/java/com/facebook/share/ShareBuilder.java
@@ -30,5 +30,5 @@
      * Builds the object.
      * @return The built object.
      */
-    public P build();
+    P build();
 }
diff --git a/facebook/src/main/java/com/facebook/share/Sharer.java b/facebook/src/main/java/com/facebook/share/Sharer.java
index 1f22d52a4..389790ace 100644
--- a/facebook/src/main/java/com/facebook/share/Sharer.java
+++ b/facebook/src/main/java/com/facebook/share/Sharer.java
@@ -32,7 +32,7 @@
      * For example, an invalid placeID specified on the shareContent would produce a data error.
      * @return A Boolean value.
      */
-    public boolean getShouldFailOnDataError();
+    boolean getShouldFailOnDataError();
 
     /**
      * Specifies whether the sharer should fail if it finds an error with the share content.
@@ -41,12 +41,12 @@
      *
      * @param shouldFailOnDataError whether the dialog should fail if it finds an error.
      */
-    public void setShouldFailOnDataError(boolean shouldFailOnDataError);
+    void setShouldFailOnDataError(boolean shouldFailOnDataError);
 
     /**
      * Helper object for handling the result from a share dialog or share operation
      */
-    public static class Result {
+    class Result {
         final String postId;
 
         /**
diff --git a/facebook/src/main/java/com/facebook/share/internal/LegacyNativeDialogParameters.java b/facebook/src/main/java/com/facebook/share/internal/LegacyNativeDialogParameters.java
index a00f9e5fc..7b187ac5b 100644
--- a/facebook/src/main/java/com/facebook/share/internal/LegacyNativeDialogParameters.java
+++ b/facebook/src/main/java/com/facebook/share/internal/LegacyNativeDialogParameters.java
@@ -20,7 +20,6 @@
 
 package com.facebook.share.internal;
 
-import android.content.Context;
 import android.os.Bundle;
 
 import com.facebook.FacebookException;
@@ -28,7 +27,6 @@
 import com.facebook.internal.Validate;
 import com.facebook.share.model.ShareContent;
 import com.facebook.share.model.ShareLinkContent;
-import com.facebook.share.model.ShareOpenGraphAction;
 import com.facebook.share.model.ShareOpenGraphContent;
 import com.facebook.share.model.SharePhotoContent;
 import com.facebook.share.model.ShareVideoContent;
diff --git a/facebook/src/main/java/com/facebook/share/internal/LikeActionController.java b/facebook/src/main/java/com/facebook/share/internal/LikeActionController.java
index 04caec8ef..f7421898f 100644
--- a/facebook/src/main/java/com/facebook/share/internal/LikeActionController.java
+++ b/facebook/src/main/java/com/facebook/share/internal/LikeActionController.java
@@ -1274,7 +1274,7 @@ private void logAppEventForError(String action, FacebookRequestError error) {
      * Used by the call to getControllerForObjectId()
      */
     public interface CreationCallback {
-        public void onComplete(
+        void onComplete(
                 LikeActionController likeActionController,
                 FacebookException error);
     }
@@ -1708,7 +1708,7 @@ protected void processError(FacebookRequestError error) {
     // by setting the concurrency of the WorkQueue to 1. Changing the concurrency will most likely
     // lead to errors.
     private static class MRUCacheWorkItem implements Runnable {
-        private static ArrayList<String> mruCachedItems = new ArrayList<String>();
+        private static ArrayList<String> mruCachedItems = new ArrayList<>();
         private String cacheItem;
         private boolean shouldTrim;
 
diff --git a/facebook/src/main/java/com/facebook/share/internal/LikeBoxCountView.java b/facebook/src/main/java/com/facebook/share/internal/LikeBoxCountView.java
index 23cf68ffe..564a6d1d6 100644
--- a/facebook/src/main/java/com/facebook/share/internal/LikeBoxCountView.java
+++ b/facebook/src/main/java/com/facebook/share/internal/LikeBoxCountView.java
@@ -22,6 +22,7 @@
 
 import android.content.Context;
 import android.graphics.*;
+import android.support.v4.content.ContextCompat;
 import android.util.TypedValue;
 import android.view.Gravity;
 import android.view.ViewGroup;
@@ -130,7 +131,7 @@ private void initialize(Context context) {
 
         borderPaint = new Paint();
         borderPaint.setColor(
-                getResources().getColor(R.color.com_facebook_likeboxcountview_border_color));
+               ContextCompat.getColor(context,R.color.com_facebook_likeboxcountview_border_color));
         borderPaint.setStrokeWidth(getResources().getDimension(R.dimen.com_facebook_likeboxcountview_border_width));
         borderPaint.setStyle(Paint.Style.STROKE);
 
@@ -152,7 +153,7 @@ private void initializeLikeCountLabel(Context context) {
                 TypedValue.COMPLEX_UNIT_PX,
                 getResources().getDimension(R.dimen.com_facebook_likeboxcountview_text_size));
         likeCountLabel.setTextColor(
-                getResources().getColor(R.color.com_facebook_likeboxcountview_text_color));
+               ContextCompat.getColor(context,R.color.com_facebook_likeboxcountview_text_color));
         textPadding = getResources().getDimensionPixelSize(R.dimen.com_facebook_likeboxcountview_text_padding);
 
         // Calculate the additional text padding that will be applied in the direction of the caret.
diff --git a/facebook/src/main/java/com/facebook/share/internal/LikeButton.java b/facebook/src/main/java/com/facebook/share/internal/LikeButton.java
index 3a4a0c5ca..97ad7ba4f 100644
--- a/facebook/src/main/java/com/facebook/share/internal/LikeButton.java
+++ b/facebook/src/main/java/com/facebook/share/internal/LikeButton.java
@@ -68,7 +68,7 @@ private void updateForLikeStatus() {
         // the compound drawables don't support selectors, so we need to update for the status
         if (isSelected()) {
             this.setCompoundDrawablesWithIntrinsicBounds(
-                    R.drawable.com_facebook_button_like_icon_selected, 0, 0, 0);
+                    R.mipmap.com_facebook_button_like_icon_selected, 0, 0, 0);
             this.setText(getResources().getString(R.string.com_facebook_like_button_liked));
         } else {
             this.setCompoundDrawablesWithIntrinsicBounds(
diff --git a/facebook/src/main/java/com/facebook/share/internal/OpenGraphJSONUtility.java b/facebook/src/main/java/com/facebook/share/internal/OpenGraphJSONUtility.java
index dfa01941d..d615334c3 100644
--- a/facebook/src/main/java/com/facebook/share/internal/OpenGraphJSONUtility.java
+++ b/facebook/src/main/java/com/facebook/share/internal/OpenGraphJSONUtility.java
@@ -20,9 +20,8 @@
 
 package com.facebook.share.internal;
 
-import android.os.Bundle;
 import android.support.annotation.Nullable;
-import com.facebook.internal.Validate;
+
 import com.facebook.share.model.ShareOpenGraphAction;
 import com.facebook.share.model.ShareOpenGraphObject;
 import com.facebook.share.model.SharePhoto;
@@ -116,6 +115,6 @@ public static Object toJSONValue(
     private OpenGraphJSONUtility() {}
 
     public interface PhotoJSONProcessor {
-        public JSONObject toJSONObject(SharePhoto photo);
+        JSONObject toJSONObject(SharePhoto photo);
     }
 }
diff --git a/facebook/src/main/java/com/facebook/share/internal/ShareFeedContent.java b/facebook/src/main/java/com/facebook/share/internal/ShareFeedContent.java
index 295ca4047..e3f3cdfdd 100644
--- a/facebook/src/main/java/com/facebook/share/internal/ShareFeedContent.java
+++ b/facebook/src/main/java/com/facebook/share/internal/ShareFeedContent.java
@@ -25,9 +25,6 @@
 
 import com.facebook.share.model.ShareContent;
 
-import java.util.HashMap;
-import java.util.Map;
-
 // This class is used specifically for backwards support in unity for various feed parameters
 // Currently this content is only supported if you set the mode to Feed when sharing.
 public class ShareFeedContent
diff --git a/facebook/src/main/java/com/facebook/share/internal/WebDialogParameters.java b/facebook/src/main/java/com/facebook/share/internal/WebDialogParameters.java
index 68d7774b6..35735ebaf 100644
--- a/facebook/src/main/java/com/facebook/share/internal/WebDialogParameters.java
+++ b/facebook/src/main/java/com/facebook/share/internal/WebDialogParameters.java
@@ -21,11 +21,9 @@
 package com.facebook.share.internal;
 
 import android.os.Bundle;
-import android.support.annotation.NonNull;
 
 import com.facebook.FacebookException;
 import com.facebook.internal.Utility;
-import com.facebook.internal.WebDialog;
 import com.facebook.share.model.AppGroupCreationContent;
 import com.facebook.share.model.GameRequestContent;
 import com.facebook.share.model.ShareContent;
@@ -33,15 +31,10 @@
 import com.facebook.share.model.ShareLinkContent;
 import com.facebook.share.model.ShareOpenGraphContent;
 
-import org.json.JSONArray;
 import org.json.JSONException;
 import org.json.JSONObject;
 
-import java.util.Collection;
-import java.util.HashMap;
 import java.util.Locale;
-import java.util.Map;
-import java.util.Set;
 
 /**
  * com.facebook.share.internal is solely for the use of other packages within the
diff --git a/facebook/src/main/java/com/facebook/share/model/GameRequestContent.java b/facebook/src/main/java/com/facebook/share/model/GameRequestContent.java
index d9d185471..cc4fa0c2b 100644
--- a/facebook/src/main/java/com/facebook/share/model/GameRequestContent.java
+++ b/facebook/src/main/java/com/facebook/share/model/GameRequestContent.java
@@ -23,7 +23,6 @@
 import android.os.Parcel;
 import android.text.TextUtils;
 
-import java.util.ArrayList;
 import java.util.Arrays;
 import java.util.List;
 
diff --git a/facebook/src/main/java/com/facebook/share/model/ShareContent.java b/facebook/src/main/java/com/facebook/share/model/ShareContent.java
index acc3c5b0b..ac90ef755 100644
--- a/facebook/src/main/java/com/facebook/share/model/ShareContent.java
+++ b/facebook/src/main/java/com/facebook/share/model/ShareContent.java
@@ -128,7 +128,7 @@ public void writeToParcel(final Parcel out, final int flags) {
     }
 
     private List<String> readUnmodifiableStringList(final Parcel in) {
-        final List<String> list = new ArrayList<String>();
+        final List<String> list = new ArrayList<>();
         in.readStringList(list);
         return (list.size() == 0 ? null : Collections.unmodifiableList(list));
     }
diff --git a/facebook/src/main/java/com/facebook/share/model/ShareMedia.java b/facebook/src/main/java/com/facebook/share/model/ShareMedia.java
index f1be45be7..96efc6b29 100644
--- a/facebook/src/main/java/com/facebook/share/model/ShareMedia.java
+++ b/facebook/src/main/java/com/facebook/share/model/ShareMedia.java
@@ -22,11 +22,9 @@
 
 import android.os.Bundle;
 import android.os.Parcel;
-import android.os.ParcelFormatException;
 import android.os.Parcelable;
 
 import java.util.ArrayList;
-import java.util.Arrays;
 import java.util.List;
 
 /**
diff --git a/facebook/src/main/java/com/facebook/share/model/ShareModelBuilder.java b/facebook/src/main/java/com/facebook/share/model/ShareModelBuilder.java
index 4e8fe2968..17675de5e 100644
--- a/facebook/src/main/java/com/facebook/share/model/ShareModelBuilder.java
+++ b/facebook/src/main/java/com/facebook/share/model/ShareModelBuilder.java
@@ -20,8 +20,6 @@
 
 package com.facebook.share.model;
 
-import android.os.Parcel;
-
 import com.facebook.share.ShareBuilder;
 
 /**
@@ -36,5 +34,5 @@
      * @param model The source ShareModel
      * @return The builder.
      */
-    public E readFrom(P model);
+    E readFrom(P model);
 }
diff --git a/facebook/src/main/java/com/facebook/share/model/ShareOpenGraphValueContainer.java b/facebook/src/main/java/com/facebook/share/model/ShareOpenGraphValueContainer.java
index 789a47b78..73a43eba3 100644
--- a/facebook/src/main/java/com/facebook/share/model/ShareOpenGraphValueContainer.java
+++ b/facebook/src/main/java/com/facebook/share/model/ShareOpenGraphValueContainer.java
@@ -159,7 +159,7 @@ public ShareOpenGraphObject getObject(final String key) {
         if (items == null) {
             return null;
         }
-        final ArrayList<ShareOpenGraphObject> list = new ArrayList<ShareOpenGraphObject>();
+        final ArrayList<ShareOpenGraphObject> list = new ArrayList<>();
         for (Parcelable item : items) {
             if (item instanceof ShareOpenGraphObject) {
                 list.add((ShareOpenGraphObject)item);
@@ -190,7 +190,7 @@ public SharePhoto getPhoto(final String key) {
         if (items == null) {
             return null;
         }
-        final ArrayList<SharePhoto> list = new ArrayList<SharePhoto>();
+        final ArrayList<SharePhoto> list = new ArrayList<>();
         for (Parcelable item : items) {
             if (item instanceof SharePhoto) {
                 list.add((SharePhoto)item);
diff --git a/facebook/src/main/java/com/facebook/share/model/SharePhotoContent.java b/facebook/src/main/java/com/facebook/share/model/SharePhotoContent.java
index fccbc67de..cb0dd8c30 100644
--- a/facebook/src/main/java/com/facebook/share/model/SharePhotoContent.java
+++ b/facebook/src/main/java/com/facebook/share/model/SharePhotoContent.java
@@ -23,8 +23,6 @@
 import android.os.Parcel;
 import android.support.annotation.Nullable;
 
-import com.facebook.share.internal.ShareConstants;
-
 import java.util.ArrayList;
 import java.util.Collections;
 import java.util.List;
@@ -82,7 +80,7 @@ public SharePhotoContent createFromParcel(final Parcel in) {
      * Builder for the {@link SharePhotoContent} interface.
      */
     public static class Builder extends ShareContent.Builder<SharePhotoContent, Builder> {
-        private final List<SharePhoto> photos = new ArrayList<SharePhoto>();
+        private final List<SharePhoto> photos = new ArrayList<>();
 
         /**
          * Adds a photo to the content.
diff --git a/facebook/src/main/java/com/facebook/share/widget/AppInviteDialog.java b/facebook/src/main/java/com/facebook/share/widget/AppInviteDialog.java
index f8065c351..89d4a4729 100644
--- a/facebook/src/main/java/com/facebook/share/widget/AppInviteDialog.java
+++ b/facebook/src/main/java/com/facebook/share/widget/AppInviteDialog.java
@@ -32,7 +32,6 @@
 import com.facebook.share.internal.*;
 import com.facebook.share.model.AppInviteContent;
 
-import org.json.JSONArray;
 import org.json.JSONException;
 import org.json.JSONObject;
 
diff --git a/facebook/src/main/java/com/facebook/share/widget/GameRequestDialog.java b/facebook/src/main/java/com/facebook/share/widget/GameRequestDialog.java
index 94c06c3c1..8051d31a8 100644
--- a/facebook/src/main/java/com/facebook/share/widget/GameRequestDialog.java
+++ b/facebook/src/main/java/com/facebook/share/widget/GameRequestDialog.java
@@ -57,7 +57,7 @@
 
         private Result(Bundle results) {
             this.requestId = results.getString(ShareConstants.WEB_DIALOG_RESULT_PARAM_REQUEST_ID);
-            this.to = new ArrayList<String>();
+            this.to = new ArrayList<>();
             while (results.containsKey(String.format(
                     ShareConstants.WEB_DIALOG_RESULT_PARAM_TO_ARRAY_MEMBER, this.to.size()))) {
                 this.to.add(results.getString(String.format(
diff --git a/facebook/src/main/java/com/facebook/share/widget/LikeView.java b/facebook/src/main/java/com/facebook/share/widget/LikeView.java
index b23d39ebb..933b64c1a 100644
--- a/facebook/src/main/java/com/facebook/share/widget/LikeView.java
+++ b/facebook/src/main/java/com/facebook/share/widget/LikeView.java
@@ -30,6 +30,7 @@
 import android.graphics.Color;
 import android.os.Bundle;
 import android.support.v4.app.Fragment;
+import android.support.v4.content.ContextCompat;
 import android.support.v4.content.LocalBroadcastManager;
 import android.util.AttributeSet;
 import android.util.TypedValue;
@@ -88,7 +89,7 @@ public static ObjectType fromInt(int enumValue) {
 
         private String stringValue;
         private int intValue;
-        private ObjectType(String stringValue, int value) {
+        ObjectType(String stringValue, int value) {
             this.stringValue = stringValue;
             this.intValue = value;
         }
@@ -141,7 +142,7 @@ static Style fromInt(int enumValue) {
 
         private String stringValue;
         private int intValue;
-        private Style(String stringValue, int value) {
+        Style(String stringValue, int value) {
             this.stringValue = stringValue;
             this.intValue = value;
         }
@@ -195,7 +196,7 @@ static HorizontalAlignment fromInt(int enumValue) {
 
         private String stringValue;
         private int intValue;
-        private HorizontalAlignment(String stringValue, int value) {
+        HorizontalAlignment(String stringValue, int value) {
             this.stringValue = stringValue;
             this.intValue = value;
         }
@@ -251,7 +252,7 @@ static AuxiliaryViewPosition fromInt(int enumValue) {
 
         private String stringValue;
         private int intValue;
-        private AuxiliaryViewPosition(String stringValue, int value) {
+        AuxiliaryViewPosition(String stringValue, int value) {
             this.stringValue = stringValue;
             this.intValue = value;
         }
@@ -495,7 +496,7 @@ private void initialize(Context context) {
         edgePadding = getResources().getDimensionPixelSize(R.dimen.com_facebook_likeview_edge_padding);
         internalPadding = getResources().getDimensionPixelSize(R.dimen.com_facebook_likeview_internal_padding);
         if (foregroundColor == NO_FOREGROUND_COLOR) {
-            foregroundColor = getResources().getColor(R.color.com_facebook_likeview_text_color);
+            foregroundColor = ContextCompat.getColor(context,R.color.com_facebook_likeview_text_color);
         }
 
         setBackgroundColor(Color.TRANSPARENT);
@@ -784,7 +785,7 @@ private void updateBoxCountCaretPosition() {
          * Called when the share action encounters an error.
          * @param error The error that occurred
          */
-        public void onError(FacebookException error);
+        void onError(FacebookException error);
     }
 
     private class LikeControllerBroadcastReceiver extends BroadcastReceiver {
diff --git a/facebook/src/main/java/com/facebook/share/widget/SendButton.java b/facebook/src/main/java/com/facebook/share/widget/SendButton.java
index 068d9ebc6..a85330561 100644
--- a/facebook/src/main/java/com/facebook/share/widget/SendButton.java
+++ b/facebook/src/main/java/com/facebook/share/widget/SendButton.java
@@ -22,7 +22,6 @@
 
 import android.content.Context;
 import android.util.AttributeSet;
-import android.view.View;
 
 import com.facebook.R;
 import com.facebook.internal.AnalyticsEvents;
diff --git a/facebook/src/main/java/com/facebook/share/widget/ShareButton.java b/facebook/src/main/java/com/facebook/share/widget/ShareButton.java
index 2c5835150..810218227 100644
--- a/facebook/src/main/java/com/facebook/share/widget/ShareButton.java
+++ b/facebook/src/main/java/com/facebook/share/widget/ShareButton.java
@@ -22,7 +22,6 @@
 
 import android.content.Context;
 import android.util.AttributeSet;
-import android.view.View;
 
 import com.facebook.R;
 import com.facebook.internal.AnalyticsEvents;
diff --git a/facebook/src/main/java/com/facebook/share/widget/ShareDialog.java b/facebook/src/main/java/com/facebook/share/widget/ShareDialog.java
index a5ef533ab..1336497c2 100644
--- a/facebook/src/main/java/com/facebook/share/widget/ShareDialog.java
+++ b/facebook/src/main/java/com/facebook/share/widget/ShareDialog.java
@@ -21,7 +21,6 @@
 package com.facebook.share.widget;
 
 import android.app.Activity;
-import android.app.Dialog;
 import android.content.Context;
 import android.os.Bundle;
 import android.support.v4.app.Fragment;
diff --git a/facebook/src/main/res/drawable/com_facebook_button_icon.xml b/facebook/src/main/res/drawable/com_facebook_button_icon.xml
index 8012a8cf0..3e4b25aee 100644
--- a/facebook/src/main/res/drawable/com_facebook_button_icon.xml
+++ b/facebook/src/main/res/drawable/com_facebook_button_icon.xml
@@ -20,6 +20,6 @@
 -->
 
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
-    <item android:state_focused="true" android:state_enabled="true" android:drawable="@drawable/com_facebook_button_icon_blue"/>
-    <item android:drawable="@drawable/com_facebook_button_icon_white"/>
+    <item android:state_focused="true" android:state_enabled="true" android:drawable="@mipmap/com_facebook_button_icon_blue"/>
+    <item android:drawable="@mipmap/com_facebook_button_icon_white"/>
 </selector>
diff --git a/facebook/src/main/res/drawable/com_facebook_send_button_icon.xml b/facebook/src/main/res/drawable/com_facebook_send_button_icon.xml
index 576272d8e..df4aace1b 100644
--- a/facebook/src/main/res/drawable/com_facebook_send_button_icon.xml
+++ b/facebook/src/main/res/drawable/com_facebook_send_button_icon.xml
@@ -20,6 +20,6 @@
 -->
 
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
-    <item android:state_focused="true" android:state_enabled="true" android:drawable="@drawable/com_facebook_button_send_icon_blue"/>
-    <item android:drawable="@drawable/com_facebook_button_send_icon_white"/>
+    <item android:state_focused="true" android:state_enabled="true" android:drawable="@mipmap/com_facebook_button_send_icon_blue"/>
+    <item android:drawable="@mipmap/com_facebook_button_send_icon_white"/>
 </selector>
diff --git a/facebook/src/main/res/drawable/messenger_button_blue_bg_round.xml b/facebook/src/main/res/drawable/messenger_button_blue_bg_round.xml
index 971aba7e7..badaba042 100644
--- a/facebook/src/main/res/drawable/messenger_button_blue_bg_round.xml
+++ b/facebook/src/main/res/drawable/messenger_button_blue_bg_round.xml
@@ -20,7 +20,7 @@
 -->
 
 <layer-list xmlns:android="http://schemas.android.com/apk/res/android" >
-  <item android:drawable="@drawable/messenger_button_send_round_shadow" />
+  <item android:drawable="@mipmap/messenger_button_send_round_shadow" />
   <item
     android:top="1dp"
     android:bottom="2dp"
@@ -49,7 +49,7 @@
     android:right="1dp"
     >
     <bitmap
-      android:src="@drawable/messenger_bubble_large_white"
+      android:src="@mipmap/messenger_bubble_large_white"
       android:gravity="center"
       />
   </item>
diff --git a/facebook/src/main/res/drawable/messenger_button_white_bg_round.xml b/facebook/src/main/res/drawable/messenger_button_white_bg_round.xml
index c6bccabc4..afb009a25 100644
--- a/facebook/src/main/res/drawable/messenger_button_white_bg_round.xml
+++ b/facebook/src/main/res/drawable/messenger_button_white_bg_round.xml
@@ -20,7 +20,7 @@
 -->
 
 <layer-list xmlns:android="http://schemas.android.com/apk/res/android" >
-  <item android:drawable="@drawable/messenger_button_send_round_shadow" />
+  <item android:drawable="@mipmap/messenger_button_send_round_shadow" />
   <item
     android:top="1dp"
     android:bottom="2dp"
@@ -49,7 +49,7 @@
     android:right="1dp"
     >
     <bitmap
-      android:src="@drawable/messenger_bubble_large_blue"
+      android:src="@mipmap/messenger_bubble_large_blue"
       android:gravity="center"
       />
   </item>
diff --git a/facebook/src/main/res/layout/com_facebook_device_auth_dialog_fragment.xml b/facebook/src/main/res/layout/com_facebook_device_auth_dialog_fragment.xml
index a90aab7b3..ff97f6e00 100644
--- a/facebook/src/main/res/layout/com_facebook_device_auth_dialog_fragment.xml
+++ b/facebook/src/main/res/layout/com_facebook_device_auth_dialog_fragment.xml
@@ -50,7 +50,7 @@
                     android:layout_marginTop="11dp"
                     android:adjustViewBounds="false"
                     android:scaleType="fitXY"
-                    android:src="@drawable/com_facebook_favicon_white" />
+                    android:src="@mipmap/com_facebook_favicon_white" />
             </FrameLayout>
 
             <TextView
diff --git a/facebook/src/main/res/layout/com_facebook_tooltip_bubble.xml b/facebook/src/main/res/layout/com_facebook_tooltip_bubble.xml
index d1aff5920..bcfbd93f5 100644
--- a/facebook/src/main/res/layout/com_facebook_tooltip_bubble.xml
+++ b/facebook/src/main/res/layout/com_facebook_tooltip_bubble.xml
@@ -39,7 +39,7 @@
         android:layout_alignParentTop="true"
         android:layout_alignParentRight="true"
         android:padding="10dp"
-        android:src="@drawable/com_facebook_tooltip_blue_xout"
+        android:src="@mipmap/com_facebook_tooltip_blue_xout"
         />
       <TextView
           android:id="@+id/com_facebook_tooltip_bubble_view_text_body"
@@ -59,7 +59,7 @@
       android:layout_alignParentTop="true"
       android:layout_centerHorizontal="true"
       android:layout_marginBottom="-10dp"
-      android:src="@drawable/com_facebook_tooltip_blue_topnub"
+      android:src="@mipmap/com_facebook_tooltip_blue_topnub"
       />
   <ImageView
       android:id="@+id/com_facebook_tooltip_bubble_view_bottom_pointer"
@@ -69,6 +69,6 @@
       android:layout_centerHorizontal="true"
       android:layout_below="@id/com_facebook_body_frame"
       android:layout_marginTop="-13dp"
-      android:src="@drawable/com_facebook_tooltip_blue_bottomnub"
+      android:src="@mipmap/com_facebook_tooltip_blue_bottomnub"
       />
 </RelativeLayout>
diff --git a/facebook/src/main/res/drawable-hdpi/com_facebook_button_icon_blue.png b/facebook/src/main/res/mipmap-hdpi/com_facebook_button_icon_blue.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/com_facebook_button_icon_blue.png
rename to facebook/src/main/res/mipmap-hdpi/com_facebook_button_icon_blue.png
diff --git a/facebook/src/main/res/drawable-hdpi/com_facebook_button_icon_white.png b/facebook/src/main/res/mipmap-hdpi/com_facebook_button_icon_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/com_facebook_button_icon_white.png
rename to facebook/src/main/res/mipmap-hdpi/com_facebook_button_icon_white.png
diff --git a/facebook/src/main/res/drawable-hdpi/com_facebook_button_like_icon_selected.png b/facebook/src/main/res/mipmap-hdpi/com_facebook_button_like_icon_selected.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/com_facebook_button_like_icon_selected.png
rename to facebook/src/main/res/mipmap-hdpi/com_facebook_button_like_icon_selected.png
diff --git a/facebook/src/main/res/drawable-hdpi/com_facebook_button_send_icon_blue.png b/facebook/src/main/res/mipmap-hdpi/com_facebook_button_send_icon_blue.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/com_facebook_button_send_icon_blue.png
rename to facebook/src/main/res/mipmap-hdpi/com_facebook_button_send_icon_blue.png
diff --git a/facebook/src/main/res/drawable-hdpi/com_facebook_button_send_icon_white.png b/facebook/src/main/res/mipmap-hdpi/com_facebook_button_send_icon_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/com_facebook_button_send_icon_white.png
rename to facebook/src/main/res/mipmap-hdpi/com_facebook_button_send_icon_white.png
diff --git a/facebook/src/main/res/drawable-hdpi/com_facebook_close.png b/facebook/src/main/res/mipmap-hdpi/com_facebook_close.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/com_facebook_close.png
rename to facebook/src/main/res/mipmap-hdpi/com_facebook_close.png
diff --git a/facebook/src/main/res/drawable-hdpi/com_facebook_favicon_white.png b/facebook/src/main/res/mipmap-hdpi/com_facebook_favicon_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/com_facebook_favicon_white.png
rename to facebook/src/main/res/mipmap-hdpi/com_facebook_favicon_white.png
diff --git a/facebook/src/main/res/drawable-hdpi/com_facebook_tooltip_black_bottomnub.png b/facebook/src/main/res/mipmap-hdpi/com_facebook_tooltip_black_bottomnub.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/com_facebook_tooltip_black_bottomnub.png
rename to facebook/src/main/res/mipmap-hdpi/com_facebook_tooltip_black_bottomnub.png
diff --git a/facebook/src/main/res/drawable-hdpi/com_facebook_tooltip_black_topnub.png b/facebook/src/main/res/mipmap-hdpi/com_facebook_tooltip_black_topnub.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/com_facebook_tooltip_black_topnub.png
rename to facebook/src/main/res/mipmap-hdpi/com_facebook_tooltip_black_topnub.png
diff --git a/facebook/src/main/res/drawable-hdpi/com_facebook_tooltip_black_xout.png b/facebook/src/main/res/mipmap-hdpi/com_facebook_tooltip_black_xout.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/com_facebook_tooltip_black_xout.png
rename to facebook/src/main/res/mipmap-hdpi/com_facebook_tooltip_black_xout.png
diff --git a/facebook/src/main/res/drawable-hdpi/com_facebook_tooltip_blue_bottomnub.png b/facebook/src/main/res/mipmap-hdpi/com_facebook_tooltip_blue_bottomnub.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/com_facebook_tooltip_blue_bottomnub.png
rename to facebook/src/main/res/mipmap-hdpi/com_facebook_tooltip_blue_bottomnub.png
diff --git a/facebook/src/main/res/drawable-hdpi/com_facebook_tooltip_blue_topnub.png b/facebook/src/main/res/mipmap-hdpi/com_facebook_tooltip_blue_topnub.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/com_facebook_tooltip_blue_topnub.png
rename to facebook/src/main/res/mipmap-hdpi/com_facebook_tooltip_blue_topnub.png
diff --git a/facebook/src/main/res/drawable-hdpi/com_facebook_tooltip_blue_xout.png b/facebook/src/main/res/mipmap-hdpi/com_facebook_tooltip_blue_xout.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/com_facebook_tooltip_blue_xout.png
rename to facebook/src/main/res/mipmap-hdpi/com_facebook_tooltip_blue_xout.png
diff --git a/facebook/src/main/res/drawable-hdpi/messenger_bubble_large_blue.png b/facebook/src/main/res/mipmap-hdpi/messenger_bubble_large_blue.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/messenger_bubble_large_blue.png
rename to facebook/src/main/res/mipmap-hdpi/messenger_bubble_large_blue.png
diff --git a/facebook/src/main/res/drawable-hdpi/messenger_bubble_large_white.png b/facebook/src/main/res/mipmap-hdpi/messenger_bubble_large_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/messenger_bubble_large_white.png
rename to facebook/src/main/res/mipmap-hdpi/messenger_bubble_large_white.png
diff --git a/facebook/src/main/res/drawable-hdpi/messenger_bubble_small_blue.png b/facebook/src/main/res/mipmap-hdpi/messenger_bubble_small_blue.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/messenger_bubble_small_blue.png
rename to facebook/src/main/res/mipmap-hdpi/messenger_bubble_small_blue.png
diff --git a/facebook/src/main/res/drawable-hdpi/messenger_bubble_small_white.png b/facebook/src/main/res/mipmap-hdpi/messenger_bubble_small_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/messenger_bubble_small_white.png
rename to facebook/src/main/res/mipmap-hdpi/messenger_bubble_small_white.png
diff --git a/facebook/src/main/res/drawable-hdpi/messenger_button_send_round_shadow.png b/facebook/src/main/res/mipmap-hdpi/messenger_button_send_round_shadow.png
similarity index 100%
rename from facebook/src/main/res/drawable-hdpi/messenger_button_send_round_shadow.png
rename to facebook/src/main/res/mipmap-hdpi/messenger_button_send_round_shadow.png
diff --git a/facebook/src/main/res/drawable-mdpi/com_facebook_button_icon_blue.png b/facebook/src/main/res/mipmap-mdpi/com_facebook_button_icon_blue.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/com_facebook_button_icon_blue.png
rename to facebook/src/main/res/mipmap-mdpi/com_facebook_button_icon_blue.png
diff --git a/facebook/src/main/res/drawable-mdpi/com_facebook_button_icon_white.png b/facebook/src/main/res/mipmap-mdpi/com_facebook_button_icon_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/com_facebook_button_icon_white.png
rename to facebook/src/main/res/mipmap-mdpi/com_facebook_button_icon_white.png
diff --git a/facebook/src/main/res/drawable-mdpi/com_facebook_button_like_icon_selected.png b/facebook/src/main/res/mipmap-mdpi/com_facebook_button_like_icon_selected.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/com_facebook_button_like_icon_selected.png
rename to facebook/src/main/res/mipmap-mdpi/com_facebook_button_like_icon_selected.png
diff --git a/facebook/src/main/res/drawable-mdpi/com_facebook_button_send_icon_blue.png b/facebook/src/main/res/mipmap-mdpi/com_facebook_button_send_icon_blue.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/com_facebook_button_send_icon_blue.png
rename to facebook/src/main/res/mipmap-mdpi/com_facebook_button_send_icon_blue.png
diff --git a/facebook/src/main/res/drawable-mdpi/com_facebook_button_send_icon_white.png b/facebook/src/main/res/mipmap-mdpi/com_facebook_button_send_icon_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/com_facebook_button_send_icon_white.png
rename to facebook/src/main/res/mipmap-mdpi/com_facebook_button_send_icon_white.png
diff --git a/facebook/src/main/res/drawable-mdpi/com_facebook_close.png b/facebook/src/main/res/mipmap-mdpi/com_facebook_close.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/com_facebook_close.png
rename to facebook/src/main/res/mipmap-mdpi/com_facebook_close.png
diff --git a/facebook/src/main/res/drawable-mdpi/com_facebook_favicon_white.png b/facebook/src/main/res/mipmap-mdpi/com_facebook_favicon_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/com_facebook_favicon_white.png
rename to facebook/src/main/res/mipmap-mdpi/com_facebook_favicon_white.png
diff --git a/facebook/src/main/res/drawable-mdpi/com_facebook_profile_picture_blank_portrait.png b/facebook/src/main/res/mipmap-mdpi/com_facebook_profile_picture_blank_portrait.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/com_facebook_profile_picture_blank_portrait.png
rename to facebook/src/main/res/mipmap-mdpi/com_facebook_profile_picture_blank_portrait.png
diff --git a/facebook/src/main/res/drawable-mdpi/com_facebook_profile_picture_blank_square.png b/facebook/src/main/res/mipmap-mdpi/com_facebook_profile_picture_blank_square.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/com_facebook_profile_picture_blank_square.png
rename to facebook/src/main/res/mipmap-mdpi/com_facebook_profile_picture_blank_square.png
diff --git a/facebook/src/main/res/drawable-mdpi/com_facebook_tooltip_black_bottomnub.png b/facebook/src/main/res/mipmap-mdpi/com_facebook_tooltip_black_bottomnub.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/com_facebook_tooltip_black_bottomnub.png
rename to facebook/src/main/res/mipmap-mdpi/com_facebook_tooltip_black_bottomnub.png
diff --git a/facebook/src/main/res/drawable-mdpi/com_facebook_tooltip_black_topnub.png b/facebook/src/main/res/mipmap-mdpi/com_facebook_tooltip_black_topnub.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/com_facebook_tooltip_black_topnub.png
rename to facebook/src/main/res/mipmap-mdpi/com_facebook_tooltip_black_topnub.png
diff --git a/facebook/src/main/res/drawable-mdpi/com_facebook_tooltip_black_xout.png b/facebook/src/main/res/mipmap-mdpi/com_facebook_tooltip_black_xout.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/com_facebook_tooltip_black_xout.png
rename to facebook/src/main/res/mipmap-mdpi/com_facebook_tooltip_black_xout.png
diff --git a/facebook/src/main/res/drawable-mdpi/com_facebook_tooltip_blue_bottomnub.png b/facebook/src/main/res/mipmap-mdpi/com_facebook_tooltip_blue_bottomnub.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/com_facebook_tooltip_blue_bottomnub.png
rename to facebook/src/main/res/mipmap-mdpi/com_facebook_tooltip_blue_bottomnub.png
diff --git a/facebook/src/main/res/drawable-mdpi/com_facebook_tooltip_blue_topnub.png b/facebook/src/main/res/mipmap-mdpi/com_facebook_tooltip_blue_topnub.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/com_facebook_tooltip_blue_topnub.png
rename to facebook/src/main/res/mipmap-mdpi/com_facebook_tooltip_blue_topnub.png
diff --git a/facebook/src/main/res/drawable-mdpi/com_facebook_tooltip_blue_xout.png b/facebook/src/main/res/mipmap-mdpi/com_facebook_tooltip_blue_xout.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/com_facebook_tooltip_blue_xout.png
rename to facebook/src/main/res/mipmap-mdpi/com_facebook_tooltip_blue_xout.png
diff --git a/facebook/src/main/res/drawable-mdpi/messenger_bubble_large_blue.png b/facebook/src/main/res/mipmap-mdpi/messenger_bubble_large_blue.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/messenger_bubble_large_blue.png
rename to facebook/src/main/res/mipmap-mdpi/messenger_bubble_large_blue.png
diff --git a/facebook/src/main/res/drawable-mdpi/messenger_bubble_large_white.png b/facebook/src/main/res/mipmap-mdpi/messenger_bubble_large_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/messenger_bubble_large_white.png
rename to facebook/src/main/res/mipmap-mdpi/messenger_bubble_large_white.png
diff --git a/facebook/src/main/res/drawable-mdpi/messenger_bubble_small_blue.png b/facebook/src/main/res/mipmap-mdpi/messenger_bubble_small_blue.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/messenger_bubble_small_blue.png
rename to facebook/src/main/res/mipmap-mdpi/messenger_bubble_small_blue.png
diff --git a/facebook/src/main/res/drawable-mdpi/messenger_bubble_small_white.png b/facebook/src/main/res/mipmap-mdpi/messenger_bubble_small_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/messenger_bubble_small_white.png
rename to facebook/src/main/res/mipmap-mdpi/messenger_bubble_small_white.png
diff --git a/facebook/src/main/res/drawable-mdpi/messenger_button_send_round_shadow.png b/facebook/src/main/res/mipmap-mdpi/messenger_button_send_round_shadow.png
similarity index 100%
rename from facebook/src/main/res/drawable-mdpi/messenger_button_send_round_shadow.png
rename to facebook/src/main/res/mipmap-mdpi/messenger_button_send_round_shadow.png
diff --git a/facebook/src/main/res/drawable-xhdpi/com_facebook_button_icon_blue.png b/facebook/src/main/res/mipmap-xhdpi/com_facebook_button_icon_blue.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/com_facebook_button_icon_blue.png
rename to facebook/src/main/res/mipmap-xhdpi/com_facebook_button_icon_blue.png
diff --git a/facebook/src/main/res/drawable-xhdpi/com_facebook_button_icon_white.png b/facebook/src/main/res/mipmap-xhdpi/com_facebook_button_icon_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/com_facebook_button_icon_white.png
rename to facebook/src/main/res/mipmap-xhdpi/com_facebook_button_icon_white.png
diff --git a/facebook/src/main/res/drawable-xhdpi/com_facebook_button_like_icon_selected.png b/facebook/src/main/res/mipmap-xhdpi/com_facebook_button_like_icon_selected.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/com_facebook_button_like_icon_selected.png
rename to facebook/src/main/res/mipmap-xhdpi/com_facebook_button_like_icon_selected.png
diff --git a/facebook/src/main/res/drawable-xhdpi/com_facebook_button_send_icon_blue.png b/facebook/src/main/res/mipmap-xhdpi/com_facebook_button_send_icon_blue.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/com_facebook_button_send_icon_blue.png
rename to facebook/src/main/res/mipmap-xhdpi/com_facebook_button_send_icon_blue.png
diff --git a/facebook/src/main/res/drawable-xhdpi/com_facebook_button_send_icon_white.png b/facebook/src/main/res/mipmap-xhdpi/com_facebook_button_send_icon_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/com_facebook_button_send_icon_white.png
rename to facebook/src/main/res/mipmap-xhdpi/com_facebook_button_send_icon_white.png
diff --git a/facebook/src/main/res/drawable-xhdpi/com_facebook_close.png b/facebook/src/main/res/mipmap-xhdpi/com_facebook_close.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/com_facebook_close.png
rename to facebook/src/main/res/mipmap-xhdpi/com_facebook_close.png
diff --git a/facebook/src/main/res/drawable-xhdpi/com_facebook_favicon_white.png b/facebook/src/main/res/mipmap-xhdpi/com_facebook_favicon_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/com_facebook_favicon_white.png
rename to facebook/src/main/res/mipmap-xhdpi/com_facebook_favicon_white.png
diff --git a/facebook/src/main/res/drawable-xhdpi/com_facebook_tooltip_black_bottomnub.png b/facebook/src/main/res/mipmap-xhdpi/com_facebook_tooltip_black_bottomnub.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/com_facebook_tooltip_black_bottomnub.png
rename to facebook/src/main/res/mipmap-xhdpi/com_facebook_tooltip_black_bottomnub.png
diff --git a/facebook/src/main/res/drawable-xhdpi/com_facebook_tooltip_black_topnub.png b/facebook/src/main/res/mipmap-xhdpi/com_facebook_tooltip_black_topnub.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/com_facebook_tooltip_black_topnub.png
rename to facebook/src/main/res/mipmap-xhdpi/com_facebook_tooltip_black_topnub.png
diff --git a/facebook/src/main/res/drawable-xhdpi/com_facebook_tooltip_black_xout.png b/facebook/src/main/res/mipmap-xhdpi/com_facebook_tooltip_black_xout.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/com_facebook_tooltip_black_xout.png
rename to facebook/src/main/res/mipmap-xhdpi/com_facebook_tooltip_black_xout.png
diff --git a/facebook/src/main/res/drawable-xhdpi/com_facebook_tooltip_blue_bottomnub.png b/facebook/src/main/res/mipmap-xhdpi/com_facebook_tooltip_blue_bottomnub.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/com_facebook_tooltip_blue_bottomnub.png
rename to facebook/src/main/res/mipmap-xhdpi/com_facebook_tooltip_blue_bottomnub.png
diff --git a/facebook/src/main/res/drawable-xhdpi/com_facebook_tooltip_blue_topnub.png b/facebook/src/main/res/mipmap-xhdpi/com_facebook_tooltip_blue_topnub.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/com_facebook_tooltip_blue_topnub.png
rename to facebook/src/main/res/mipmap-xhdpi/com_facebook_tooltip_blue_topnub.png
diff --git a/facebook/src/main/res/drawable-xhdpi/com_facebook_tooltip_blue_xout.png b/facebook/src/main/res/mipmap-xhdpi/com_facebook_tooltip_blue_xout.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/com_facebook_tooltip_blue_xout.png
rename to facebook/src/main/res/mipmap-xhdpi/com_facebook_tooltip_blue_xout.png
diff --git a/facebook/src/main/res/drawable-xhdpi/messenger_bubble_large_blue.png b/facebook/src/main/res/mipmap-xhdpi/messenger_bubble_large_blue.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/messenger_bubble_large_blue.png
rename to facebook/src/main/res/mipmap-xhdpi/messenger_bubble_large_blue.png
diff --git a/facebook/src/main/res/drawable-xhdpi/messenger_bubble_large_white.png b/facebook/src/main/res/mipmap-xhdpi/messenger_bubble_large_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/messenger_bubble_large_white.png
rename to facebook/src/main/res/mipmap-xhdpi/messenger_bubble_large_white.png
diff --git a/facebook/src/main/res/drawable-xhdpi/messenger_bubble_small_blue.png b/facebook/src/main/res/mipmap-xhdpi/messenger_bubble_small_blue.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/messenger_bubble_small_blue.png
rename to facebook/src/main/res/mipmap-xhdpi/messenger_bubble_small_blue.png
diff --git a/facebook/src/main/res/drawable-xhdpi/messenger_bubble_small_white.png b/facebook/src/main/res/mipmap-xhdpi/messenger_bubble_small_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/messenger_bubble_small_white.png
rename to facebook/src/main/res/mipmap-xhdpi/messenger_bubble_small_white.png
diff --git a/facebook/src/main/res/drawable-xhdpi/messenger_button_send_round_shadow.png b/facebook/src/main/res/mipmap-xhdpi/messenger_button_send_round_shadow.png
similarity index 100%
rename from facebook/src/main/res/drawable-xhdpi/messenger_button_send_round_shadow.png
rename to facebook/src/main/res/mipmap-xhdpi/messenger_button_send_round_shadow.png
diff --git a/facebook/src/main/res/drawable-xxhdpi/com_facebook_button_icon_blue.png b/facebook/src/main/res/mipmap-xxhdpi/com_facebook_button_icon_blue.png
similarity index 100%
rename from facebook/src/main/res/drawable-xxhdpi/com_facebook_button_icon_blue.png
rename to facebook/src/main/res/mipmap-xxhdpi/com_facebook_button_icon_blue.png
diff --git a/facebook/src/main/res/drawable-xxhdpi/com_facebook_button_icon_white.png b/facebook/src/main/res/mipmap-xxhdpi/com_facebook_button_icon_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-xxhdpi/com_facebook_button_icon_white.png
rename to facebook/src/main/res/mipmap-xxhdpi/com_facebook_button_icon_white.png
diff --git a/facebook/src/main/res/drawable-xxhdpi/com_facebook_button_like_icon_selected.png b/facebook/src/main/res/mipmap-xxhdpi/com_facebook_button_like_icon_selected.png
similarity index 100%
rename from facebook/src/main/res/drawable-xxhdpi/com_facebook_button_like_icon_selected.png
rename to facebook/src/main/res/mipmap-xxhdpi/com_facebook_button_like_icon_selected.png
diff --git a/facebook/src/main/res/drawable-xxhdpi/com_facebook_button_send_icon_white.png b/facebook/src/main/res/mipmap-xxhdpi/com_facebook_button_send_icon_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-xxhdpi/com_facebook_button_send_icon_white.png
rename to facebook/src/main/res/mipmap-xxhdpi/com_facebook_button_send_icon_white.png
diff --git a/facebook/src/main/res/drawable-xxhdpi/com_facebook_favicon_white.png b/facebook/src/main/res/mipmap-xxhdpi/com_facebook_favicon_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-xxhdpi/com_facebook_favicon_white.png
rename to facebook/src/main/res/mipmap-xxhdpi/com_facebook_favicon_white.png
diff --git a/facebook/src/main/res/drawable-xxhdpi/messenger_bubble_large_blue.png b/facebook/src/main/res/mipmap-xxhdpi/messenger_bubble_large_blue.png
similarity index 100%
rename from facebook/src/main/res/drawable-xxhdpi/messenger_bubble_large_blue.png
rename to facebook/src/main/res/mipmap-xxhdpi/messenger_bubble_large_blue.png
diff --git a/facebook/src/main/res/drawable-xxhdpi/messenger_bubble_large_white.png b/facebook/src/main/res/mipmap-xxhdpi/messenger_bubble_large_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-xxhdpi/messenger_bubble_large_white.png
rename to facebook/src/main/res/mipmap-xxhdpi/messenger_bubble_large_white.png
diff --git a/facebook/src/main/res/drawable-xxhdpi/messenger_bubble_small_blue.png b/facebook/src/main/res/mipmap-xxhdpi/messenger_bubble_small_blue.png
similarity index 100%
rename from facebook/src/main/res/drawable-xxhdpi/messenger_bubble_small_blue.png
rename to facebook/src/main/res/mipmap-xxhdpi/messenger_bubble_small_blue.png
diff --git a/facebook/src/main/res/drawable-xxhdpi/messenger_bubble_small_white.png b/facebook/src/main/res/mipmap-xxhdpi/messenger_bubble_small_white.png
similarity index 100%
rename from facebook/src/main/res/drawable-xxhdpi/messenger_bubble_small_white.png
rename to facebook/src/main/res/mipmap-xxhdpi/messenger_bubble_small_white.png
diff --git a/facebook/src/main/res/drawable-xxhdpi/messenger_button_send_round_shadow.png b/facebook/src/main/res/mipmap-xxhdpi/messenger_button_send_round_shadow.png
similarity index 100%
rename from facebook/src/main/res/drawable-xxhdpi/messenger_button_send_round_shadow.png
rename to facebook/src/main/res/mipmap-xxhdpi/messenger_button_send_round_shadow.png
diff --git a/facebook/src/main/res/values/colors.xml b/facebook/src/main/res/values/colors.xml
new file mode 100644
index 000000000..e29aac8c6
--- /dev/null
+++ b/facebook/src/main/res/values/colors.xml
@@ -0,0 +1,28 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <color name="com_facebook_blue">#3B5998</color>
+    <color name="com_facebook_messenger_blue">#0084ff</color>
+
+    <color name="com_facebook_likeview_text_color">#6a7180</color>
+
+    <color name="com_facebook_likeboxcountview_border_color">#6a7180</color>
+    <color name="com_facebook_likeboxcountview_text_color">#6a7180</color>
+
+    <color name="com_facebook_share_button_text_color">#FFFFFF</color>
+
+    <color name="com_facebook_device_auth_text">#797E87</color>
+
+    <color name="com_facebook_button_background_color">#415dae</color>
+    <color name="com_facebook_button_background_color_focused">#FFFFFe</color>
+    <color name="com_facebook_button_background_color_focused_disabled">#84878c</color>
+    <color name="com_facebook_button_background_color_selected">#7c8fc8</color>
+    <color name="com_facebook_button_background_color_disabled">#bdc1c9</color>
+    <color name="com_facebook_button_background_color_pressed">#2f477a</color>
+    <color name="com_facebook_button_login_silver_background_color">#f4f6f8</color>
+    <color name="com_facebook_button_login_silver_background_color_pressed">#e9eaf0</color>
+    <color name="com_facebook_button_send_background_color">@color/com_facebook_messenger_blue</color>
+    <color name="com_facebook_button_send_background_color_pressed">#006fff</color>
+
+    <color name="com_facebook_button_border_color_focused">#dedee6</color>
+
+</resources>
\ No newline at end of file
diff --git a/facebook/src/main/res/values/dimens.xml b/facebook/src/main/res/values/dimens.xml
index 5ae0ed683..625c4c12f 100644
--- a/facebook/src/main/res/values/dimens.xml
+++ b/facebook/src/main/res/values/dimens.xml
@@ -25,4 +25,29 @@
     one does not stick out-->
     <dimen name="com_facebook_auth_dialog_corner_radius_oversized">4dp</dimen>
     <dimen name="com_facebook_button_corner_radius">2dp</dimen>
+
+    <dimen name="com_facebook_likeview_text_size">11.0sp</dimen>
+    <dimen name="com_facebook_likeview_edge_padding">2dp</dimen>
+    <dimen name="com_facebook_likeview_internal_padding">6dp</dimen>
+
+    <dimen name="com_facebook_likeboxcountview_caret_width">6dp</dimen>
+    <dimen name="com_facebook_likeboxcountview_caret_height">3dp</dimen>
+    <dimen name="com_facebook_likeboxcountview_border_radius">3dp</dimen>
+    <dimen name="com_facebook_likeboxcountview_border_width">1dp</dimen>
+
+    <dimen name="com_facebook_likeboxcountview_text_size">11.0sp</dimen>
+    <dimen name="com_facebook_likeboxcountview_text_padding">6dp</dimen>
+
+    <dimen name="com_facebook_profilepictureview_preset_size_small">50dp</dimen>
+    <dimen name="com_facebook_profilepictureview_preset_size_normal">100dp</dimen>
+    <dimen name="com_facebook_profilepictureview_preset_size_large">180dp</dimen>
+
+    <dimen name="com_facebook_share_button_compound_drawable_padding">12dp</dimen>
+    <dimen name="com_facebook_share_button_padding_bottom">12dp</dimen>
+    <dimen name="com_facebook_share_button_padding_left">12dp</dimen>
+    <dimen name="com_facebook_share_button_padding_right">16dp</dimen>
+    <dimen name="com_facebook_share_button_padding_top">12dp</dimen>
+    <dimen name="com_facebook_share_button_text_size">16.0sp</dimen>
+
+    <dimen name="com_facebook_tooltip_horizontal_padding">10dp</dimen>
 </resources>
diff --git a/facebook/src/main/res/values/messenger_button_styles.xml b/facebook/src/main/res/values/messenger_button_styles.xml
index 998e4bd4b..9dec6fb74 100644
--- a/facebook/src/main/res/values/messenger_button_styles.xml
+++ b/facebook/src/main/res/values/messenger_button_styles.xml
@@ -73,11 +73,11 @@
   </style>
 
   <style name="MessengerButtonText.Blue.Large">
-    <item name="android:drawableLeft">@drawable/messenger_bubble_large_white</item>
+    <item name="android:drawableLeft">@mipmap/messenger_bubble_large_white</item>
   </style>
 
   <style name="MessengerButtonText.Blue.Small">
-    <item name="android:drawableLeft">@drawable/messenger_bubble_small_white</item>
+    <item name="android:drawableLeft">@mipmap/messenger_bubble_small_white</item>
   </style>
 
   <style name="MessengerButtonText.White">
@@ -85,10 +85,10 @@
   </style>
 
   <style name="MessengerButtonText.White.Large">
-    <item name="android:drawableLeft">@drawable/messenger_bubble_large_blue</item>
+    <item name="android:drawableLeft">@mipmap/messenger_bubble_large_blue</item>
   </style>
 
   <style name="MessengerButtonText.White.Small">
-    <item name="android:drawableLeft">@drawable/messenger_bubble_small_blue</item>
+    <item name="android:drawableLeft">@mipmap/messenger_bubble_small_blue</item>
   </style>
 </resources>
diff --git a/facebook/src/main/res/values/styles.xml b/facebook/src/main/res/values/styles.xml
index b7824d208..c9a94076a 100644
--- a/facebook/src/main/res/values/styles.xml
+++ b/facebook/src/main/res/values/styles.xml
@@ -20,38 +20,12 @@
 -->
 
 <resources xmlns:android="http://schemas.android.com/apk/res/android">
-    <color name="com_facebook_blue">#3B5998</color>
-    <color name="com_facebook_messenger_blue">#0084ff</color>
-
-    <dimen name="com_facebook_likeview_text_size">11.0sp</dimen>
-    <color name="com_facebook_likeview_text_color">#6a7180</color>
-    <dimen name="com_facebook_likeview_edge_padding">2dp</dimen>
-    <dimen name="com_facebook_likeview_internal_padding">6dp</dimen>
-
-    <dimen name="com_facebook_likeboxcountview_caret_width">6dp</dimen>
-    <dimen name="com_facebook_likeboxcountview_caret_height">3dp</dimen>
-    <dimen name="com_facebook_likeboxcountview_border_radius">3dp</dimen>
-    <dimen name="com_facebook_likeboxcountview_border_width">1dp</dimen>
-    <color name="com_facebook_likeboxcountview_border_color">#6a7180</color>
-    <color name="com_facebook_likeboxcountview_text_color">#6a7180</color>
-    <dimen name="com_facebook_likeboxcountview_text_size">11.0sp</dimen>
-    <dimen name="com_facebook_likeboxcountview_text_padding">6dp</dimen>
-
-    <dimen name="com_facebook_profilepictureview_preset_size_small">50dp</dimen>
-    <dimen name="com_facebook_profilepictureview_preset_size_normal">100dp</dimen>
-    <dimen name="com_facebook_profilepictureview_preset_size_large">180dp</dimen>
-
-    <dimen name="com_facebook_share_button_compound_drawable_padding">12dp</dimen>
-    <dimen name="com_facebook_share_button_padding_bottom">12dp</dimen>
-    <dimen name="com_facebook_share_button_padding_left">12dp</dimen>
-    <dimen name="com_facebook_share_button_padding_right">16dp</dimen>
-    <dimen name="com_facebook_share_button_padding_top">12dp</dimen>
-    <color name="com_facebook_share_button_text_color">#FFFFFF</color>
-    <dimen name="com_facebook_share_button_text_size">16.0sp</dimen>
-
-    <dimen name="com_facebook_tooltip_horizontal_padding">10dp</dimen>
-
-    <color name="com_facebook_device_auth_text">#797E87</color>
+    <style name="FacebookTheme" parent="Theme.AppCompat.Light.DarkActionBar">
+        <!-- Customize your theme here. -->
+        <item name="colorPrimary">@color/com_facebook_blue</item>
+        <item name="colorPrimaryDark">@color/com_facebook_button_background_color_pressed</item>
+        <item name="colorAccent">@color/com_facebook_messenger_blue</item>
+    </style>
 
     <style name="tooltip_bubble_text">
         <item name="android:textColor">@android:color/white</item>
@@ -62,19 +36,6 @@
         <item name="android:shadowColor">#40000000</item>
     </style>
 
-    <color name="com_facebook_button_background_color">#415dae</color>
-    <color name="com_facebook_button_background_color_focused">#FFFFFe</color>
-    <color name="com_facebook_button_background_color_focused_disabled">#84878c</color>
-    <color name="com_facebook_button_background_color_selected">#7c8fc8</color>
-    <color name="com_facebook_button_background_color_disabled">#bdc1c9</color>
-    <color name="com_facebook_button_background_color_pressed">#2f477a</color>
-    <color name="com_facebook_button_login_silver_background_color">#f4f6f8</color>
-    <color name="com_facebook_button_login_silver_background_color_pressed">#e9eaf0</color>
-    <color name="com_facebook_button_send_background_color">@color/com_facebook_messenger_blue</color>
-    <color name="com_facebook_button_send_background_color_pressed">#006fff</color>
-
-    <color name="com_facebook_button_border_color_focused">#dedee6</color>
-
     <style name="com_facebook_button" parent="@android:style/Widget.Button">
         <item name="android:background">@drawable/com_facebook_button_background</item>
         <item name="android:drawablePadding">6dp</item>
diff --git a/facebook/src/test/java/com/facebook/AccessTokenCacheTest.java b/facebook/src/test/java/com/facebook/AccessTokenCacheTest.java
index caf1f87c0..16f2b8200 100644
--- a/facebook/src/test/java/com/facebook/AccessTokenCacheTest.java
+++ b/facebook/src/test/java/com/facebook/AccessTokenCacheTest.java
@@ -33,7 +33,6 @@
 import org.mockito.Mock;
 import org.powermock.api.mockito.PowerMockito;
 import org.powermock.core.classloader.annotations.PrepareForTest;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import java.util.Arrays;
diff --git a/facebook/src/test/java/com/facebook/AccessTokenManagerTest.java b/facebook/src/test/java/com/facebook/AccessTokenManagerTest.java
index 3ae3d47a6..28b62db36 100644
--- a/facebook/src/test/java/com/facebook/AccessTokenManagerTest.java
+++ b/facebook/src/test/java/com/facebook/AccessTokenManagerTest.java
@@ -31,10 +31,7 @@
 import org.json.JSONException;
 import org.junit.Before;
 import org.junit.Test;
-import org.mockito.Mock;
-import org.powermock.api.mockito.PowerMockito;
 import org.powermock.core.classloader.annotations.PrepareForTest;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import java.util.Arrays;
diff --git a/facebook/src/test/java/com/facebook/AccessTokenTest.java b/facebook/src/test/java/com/facebook/AccessTokenTest.java
index 8ec902bbe..568a2455e 100644
--- a/facebook/src/test/java/com/facebook/AccessTokenTest.java
+++ b/facebook/src/test/java/com/facebook/AccessTokenTest.java
@@ -30,7 +30,6 @@
 import org.junit.Test;
 import org.powermock.api.mockito.PowerMockito;
 import org.powermock.core.classloader.annotations.PrepareForTest;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import java.io.IOException;
@@ -232,8 +231,8 @@ public void testCachePutGet() {
 
         List<String> normalList = Arrays.asList("", "Another completely random token value");
         List<String> emptyList = Arrays.asList();
-        HashSet<String> normalArrayList = new HashSet<String>(normalList);
-        HashSet<String> emptyArrayList = new HashSet<String>();
+        HashSet<String> normalArrayList = new HashSet<>(normalList);
+        HashSet<String> emptyArrayList = new HashSet<>();
         @SuppressWarnings("unchecked")
         List<Collection<String>> permissionLists = Arrays
                 .asList(normalList, emptyList, normalArrayList, emptyArrayList);
@@ -270,9 +269,9 @@ public void testParceling() throws IOException {
         String token = "a token";
         String appId = "1234";
         String userId = "1000";
-        Set<String> permissions = new HashSet<String>(
+        Set<String> permissions = new HashSet<>(
                 Arrays.asList("permission_1", "permission_2"));
-        Set<String> declinedPermissions = new HashSet<String>(
+        Set<String> declinedPermissions = new HashSet<>(
                 Arrays.asList("permission_3"));
         AccessTokenSource source = AccessTokenSource.WEB_VIEW;
         AccessToken accessToken1 = new AccessToken(
diff --git a/facebook/src/test/java/com/facebook/AccessTokenTrackerTest.java b/facebook/src/test/java/com/facebook/AccessTokenTrackerTest.java
index 670ecfaac..1efa194b2 100644
--- a/facebook/src/test/java/com/facebook/AccessTokenTrackerTest.java
+++ b/facebook/src/test/java/com/facebook/AccessTokenTrackerTest.java
@@ -27,7 +27,6 @@
 import org.junit.Before;
 import org.junit.Test;
 import org.powermock.core.classloader.annotations.PrepareForTest;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import java.util.Arrays;
diff --git a/facebook/src/test/java/com/facebook/FacebookContentProviderTest.java b/facebook/src/test/java/com/facebook/FacebookContentProviderTest.java
index 24f1c28be..038fa4266 100644
--- a/facebook/src/test/java/com/facebook/FacebookContentProviderTest.java
+++ b/facebook/src/test/java/com/facebook/FacebookContentProviderTest.java
@@ -29,7 +29,6 @@
 import org.junit.Before;
 import org.junit.Test;
 import org.powermock.core.classloader.annotations.PrepareForTest;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import java.io.File;
diff --git a/facebook/src/test/java/com/facebook/FacebookGraphRequestErrorTest.java b/facebook/src/test/java/com/facebook/FacebookGraphRequestErrorTest.java
index 7877efacd..5d2d0e9ba 100644
--- a/facebook/src/test/java/com/facebook/FacebookGraphRequestErrorTest.java
+++ b/facebook/src/test/java/com/facebook/FacebookGraphRequestErrorTest.java
@@ -20,14 +20,11 @@
 
 package com.facebook;
 
-import com.facebook.R;
-
 import org.json.JSONArray;
 import org.json.JSONException;
 import org.json.JSONObject;
 import org.junit.Before;
 import org.junit.Test;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import static org.junit.Assert.*;
diff --git a/facebook/src/test/java/com/facebook/FacebookSdkPowerMockTest.java b/facebook/src/test/java/com/facebook/FacebookSdkPowerMockTest.java
index 3893e5c16..c4fb40e2a 100644
--- a/facebook/src/test/java/com/facebook/FacebookSdkPowerMockTest.java
+++ b/facebook/src/test/java/com/facebook/FacebookSdkPowerMockTest.java
@@ -26,7 +26,6 @@
 import android.os.Bundle;
 import android.os.ConditionVariable;
 
-import com.facebook.internal.CallbackManagerImpl;
 import com.facebook.internal.ServerProtocol;
 import com.facebook.internal.Utility;
 
@@ -34,7 +33,6 @@
 import org.junit.Test;
 import org.powermock.core.classloader.annotations.PrepareForTest;
 import org.powermock.reflect.Whitebox;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import java.util.concurrent.Executor;
diff --git a/facebook/src/test/java/com/facebook/GraphErrorTest.java b/facebook/src/test/java/com/facebook/GraphErrorTest.java
index 23fcc6000..96d68b4d8 100644
--- a/facebook/src/test/java/com/facebook/GraphErrorTest.java
+++ b/facebook/src/test/java/com/facebook/GraphErrorTest.java
@@ -27,16 +27,13 @@
 import org.json.JSONObject;
 import org.junit.Before;
 import org.junit.Test;
-import org.powermock.api.mockito.PowerMockito;
 import org.powermock.core.classloader.annotations.PrepareForTest;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import java.io.IOException;
 import java.net.HttpURLConnection;
 
 import static org.junit.Assert.*;
-import static org.powermock.api.mockito.PowerMockito.doNothing;
 import static org.powermock.api.mockito.PowerMockito.mock;
 import static org.powermock.api.mockito.PowerMockito.mockStatic;
 import static org.powermock.api.mockito.PowerMockito.when;
diff --git a/facebook/src/test/java/com/facebook/GraphRequestTest.java b/facebook/src/test/java/com/facebook/GraphRequestTest.java
index 3aca6e1c5..2fd34b636 100644
--- a/facebook/src/test/java/com/facebook/GraphRequestTest.java
+++ b/facebook/src/test/java/com/facebook/GraphRequestTest.java
@@ -25,11 +25,9 @@
 import android.net.Uri;
 import android.os.Bundle;
 
-import com.facebook.internal.GraphUtil;
 import com.facebook.internal.ServerProtocol;
 import com.facebook.share.internal.ShareInternalUtility;
 
-import org.json.JSONException;
 import org.json.JSONObject;
 import org.junit.Before;
 import org.junit.Test;
diff --git a/facebook/src/test/java/com/facebook/LegacyTokenCacheTest.java b/facebook/src/test/java/com/facebook/LegacyTokenCacheTest.java
index c7a80713b..ac7ff2c19 100644
--- a/facebook/src/test/java/com/facebook/LegacyTokenCacheTest.java
+++ b/facebook/src/test/java/com/facebook/LegacyTokenCacheTest.java
@@ -29,7 +29,6 @@
 import org.junit.Test;
 import org.powermock.api.mockito.PowerMockito;
 import org.powermock.core.classloader.annotations.PrepareForTest;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import java.lang.reflect.Array;
@@ -338,7 +337,7 @@ private static void putString(String key, Bundle bundle) {
 
     private static void putStringList(String key, Bundle bundle) {
         int length = random.nextInt(50);
-        ArrayList<String> stringList = new ArrayList<String>(length);
+        ArrayList<String> stringList = new ArrayList<>(length);
         while (0 < length--) {
             if (length == 0) {
                 stringList.add(null);
diff --git a/facebook/src/test/java/com/facebook/ProfileCacheTest.java b/facebook/src/test/java/com/facebook/ProfileCacheTest.java
index e77179d7e..ccfa40f9a 100644
--- a/facebook/src/test/java/com/facebook/ProfileCacheTest.java
+++ b/facebook/src/test/java/com/facebook/ProfileCacheTest.java
@@ -24,7 +24,6 @@
 
 import org.junit.Before;
 import org.junit.Test;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import static org.junit.Assert.*;
diff --git a/facebook/src/test/java/com/facebook/ProfileManagerTest.java b/facebook/src/test/java/com/facebook/ProfileManagerTest.java
index 1747f5af4..37f99ce5b 100644
--- a/facebook/src/test/java/com/facebook/ProfileManagerTest.java
+++ b/facebook/src/test/java/com/facebook/ProfileManagerTest.java
@@ -23,15 +23,11 @@
 import android.content.Intent;
 import android.support.v4.content.LocalBroadcastManager;
 
-import org.junit.Assert;
 import org.junit.Before;
 import org.junit.Test;
 import org.powermock.core.classloader.annotations.PrepareForTest;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
-import java.util.InputMismatchException;
-
 import static org.junit.Assert.*;
 import static org.mockito.Matchers.any;
 import static org.mockito.Mockito.never;
diff --git a/facebook/src/test/java/com/facebook/ProfileTest.java b/facebook/src/test/java/com/facebook/ProfileTest.java
index 980986d80..7c1eccae0 100644
--- a/facebook/src/test/java/com/facebook/ProfileTest.java
+++ b/facebook/src/test/java/com/facebook/ProfileTest.java
@@ -21,11 +21,9 @@
 package com.facebook;
 
 import android.net.Uri;
-import android.os.Parcel;
 
 import org.json.JSONObject;
 import org.junit.Test;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import static org.junit.Assert.*;
diff --git a/facebook/src/test/java/com/facebook/ProfileTrackerTest.java b/facebook/src/test/java/com/facebook/ProfileTrackerTest.java
index 0c8a60890..6b0c1d98d 100644
--- a/facebook/src/test/java/com/facebook/ProfileTrackerTest.java
+++ b/facebook/src/test/java/com/facebook/ProfileTrackerTest.java
@@ -24,7 +24,6 @@
 import android.support.v4.content.LocalBroadcastManager;
 
 import org.junit.Test;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import static org.junit.Assert.*;
diff --git a/facebook/src/test/java/com/facebook/ProgressNoopOutputStreamTest.java b/facebook/src/test/java/com/facebook/ProgressNoopOutputStreamTest.java
index 7296683fe..68f7cb9a5 100644
--- a/facebook/src/test/java/com/facebook/ProgressNoopOutputStreamTest.java
+++ b/facebook/src/test/java/com/facebook/ProgressNoopOutputStreamTest.java
@@ -23,7 +23,6 @@
 import org.junit.After;
 import org.junit.Before;
 import org.junit.Test;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import static org.junit.Assert.*;
diff --git a/facebook/src/test/java/com/facebook/ProgressOutputStreamTest.java b/facebook/src/test/java/com/facebook/ProgressOutputStreamTest.java
index dfc408638..5adc5b900 100644
--- a/facebook/src/test/java/com/facebook/ProgressOutputStreamTest.java
+++ b/facebook/src/test/java/com/facebook/ProgressOutputStreamTest.java
@@ -23,7 +23,6 @@
 import org.junit.After;
 import org.junit.Before;
 import org.junit.Test;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import java.io.ByteArrayOutputStream;
@@ -46,7 +45,7 @@ public void before() throws Exception {
         r1 = new GraphRequest(null, "4");
         r2 = new GraphRequest(null, "4");
 
-        progressMap = new HashMap<GraphRequest, RequestProgress>();
+        progressMap = new HashMap<>();
         progressMap.put(r1, new RequestProgress(null, r1));
         progressMap.get(r1).addToMax(5);
         progressMap.put(r2, new RequestProgress(null, r2));
diff --git a/facebook/src/test/java/com/facebook/TestUtils.java b/facebook/src/test/java/com/facebook/TestUtils.java
index def8ca2e5..7dfb37dfe 100644
--- a/facebook/src/test/java/com/facebook/TestUtils.java
+++ b/facebook/src/test/java/com/facebook/TestUtils.java
@@ -200,7 +200,7 @@ private static boolean areEqual(final JSONObject expected, final JSONObject actu
         }
 
         final Iterator<String> expectedKeysIterator = expected.keys();
-        final HashSet<String> expectedKeys = new HashSet<String>();
+        final HashSet<String> expectedKeys = new HashSet<>();
         while (expectedKeysIterator.hasNext()) {
             expectedKeys.add(expectedKeysIterator.next());
         }
diff --git a/facebook/src/test/java/com/facebook/internal/BundleJSONConverterTest.java b/facebook/src/test/java/com/facebook/internal/BundleJSONConverterTest.java
index 986acd464..6568956bf 100644
--- a/facebook/src/test/java/com/facebook/internal/BundleJSONConverterTest.java
+++ b/facebook/src/test/java/com/facebook/internal/BundleJSONConverterTest.java
@@ -40,7 +40,7 @@
 
     @Test
     public void testSimpleValues() throws JSONException {
-        ArrayList<String> arrayList = new ArrayList<String>();
+        ArrayList<String> arrayList = new ArrayList<>();
         arrayList.add("1st");
         arrayList.add("2nd");
         arrayList.add("third");
@@ -58,7 +58,7 @@ public void testSimpleValues() throws JSONException {
         Bundle b = new Bundle();
         b.putBoolean("boolValue", true);
         b.putInt("intValue", 7);
-        b.putLong("longValue", 5000000000l);
+        b.putLong("longValue", 5000000000L);
         b.putDouble("doubleValue", 3.14);
         b.putString("stringValue", "hello world");
         b.putStringArray("stringArrayValue", new String[] {"first", "second"});
@@ -101,7 +101,7 @@ public void testSimpleValues() throws JSONException {
 
         assertEquals(true, finalBundle.getBoolean("boolValue"));
         assertEquals(7, finalBundle.getInt("intValue"));
-        assertEquals(5000000000l, finalBundle.getLong("longValue"));
+        assertEquals(5000000000L, finalBundle.getLong("longValue"));
         assertEquals(3.14, finalBundle.getDouble("doubleValue"), TestUtils.DOUBLE_EQUALS_DELTA);
         assertEquals("hello world", finalBundle.getString("stringValue"));
 
diff --git a/facebook/src/test/java/com/facebook/internal/CallbackManagerImplPowerMockTest.java b/facebook/src/test/java/com/facebook/internal/CallbackManagerImplPowerMockTest.java
index 27dcb3125..34c45b7f3 100644
--- a/facebook/src/test/java/com/facebook/internal/CallbackManagerImplPowerMockTest.java
+++ b/facebook/src/test/java/com/facebook/internal/CallbackManagerImplPowerMockTest.java
@@ -29,7 +29,6 @@
 import org.junit.Test;
 import org.powermock.core.classloader.annotations.PrepareForTest;
 import org.powermock.reflect.Whitebox;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import java.util.HashMap;
diff --git a/facebook/src/test/java/com/facebook/internal/FileLruCacheTest.java b/facebook/src/test/java/com/facebook/internal/FileLruCacheTest.java
index e4a6e00e2..cf2288b6c 100644
--- a/facebook/src/test/java/com/facebook/internal/FileLruCacheTest.java
+++ b/facebook/src/test/java/com/facebook/internal/FileLruCacheTest.java
@@ -27,7 +27,6 @@
 
 import org.junit.Before;
 import org.junit.Test;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import java.io.ByteArrayInputStream;
@@ -414,9 +413,9 @@ boolean hasValue(FileLruCache cache, String key) {
 
     void checkInputStream(byte[] expected, InputStream actual) {
         try {
-            for (int i = 0; i < expected.length; i++) {
+            for (byte anExpected : expected) {
                 int b = actual.read();
-                assertEquals(((int)expected[i]) & 0xff, b);
+                assertEquals(((int) anExpected) & 0xff, b);
             }
 
             int eof = actual.read();
diff --git a/facebook/src/test/java/com/facebook/internal/JsonUtilTest.java b/facebook/src/test/java/com/facebook/internal/JsonUtilTest.java
index c3cf07344..d74480809 100644
--- a/facebook/src/test/java/com/facebook/internal/JsonUtilTest.java
+++ b/facebook/src/test/java/com/facebook/internal/JsonUtilTest.java
@@ -84,7 +84,7 @@ public void testJsonObjectKeySet() throws JSONException {
 
     @Test
     public void testJsonObjectPutAll() throws JSONException {
-        HashMap<String, Object> map = new HashMap<String, Object>();
+        HashMap<String, Object> map = new HashMap<>();
         map.put("hello", "world");
         map.put("hocus", "pocus");
 
diff --git a/facebook/src/test/java/com/facebook/internal/NativeAppCallAttachmentStoreTest.java b/facebook/src/test/java/com/facebook/internal/NativeAppCallAttachmentStoreTest.java
index e4aff2a8d..b93329b96 100644
--- a/facebook/src/test/java/com/facebook/internal/NativeAppCallAttachmentStoreTest.java
+++ b/facebook/src/test/java/com/facebook/internal/NativeAppCallAttachmentStoreTest.java
@@ -25,7 +25,6 @@
 import com.facebook.FacebookTestCase;
 
 import org.junit.Test;
-import org.robolectric.Robolectric;
 
 import java.io.File;
 import java.util.ArrayList;
diff --git a/facebook/src/test/java/com/facebook/internal/NativeProtocolVersionTest.java b/facebook/src/test/java/com/facebook/internal/NativeProtocolVersionTest.java
index 58f330a41..9579872b6 100644
--- a/facebook/src/test/java/com/facebook/internal/NativeProtocolVersionTest.java
+++ b/facebook/src/test/java/com/facebook/internal/NativeProtocolVersionTest.java
@@ -20,8 +20,6 @@
 
 package com.facebook.internal;
 
-import android.test.suitebuilder.annotation.SmallTest;
-
 import com.facebook.FacebookTestCase;
 
 import org.junit.Test;
@@ -157,7 +155,7 @@ public void testSdkNewerThanApp_versionSpecNewerAndDisabled() {
     }
 
     private TreeSet<Integer> getTreeSetFromIntArray(int[] array) {
-        TreeSet<Integer> treeSet = new TreeSet<Integer>();
+        TreeSet<Integer> treeSet = new TreeSet<>();
         for (int a : array) {
             treeSet.add(a);
         }
diff --git a/facebook/src/test/java/com/facebook/internal/ShareInternalUtilityTest.java b/facebook/src/test/java/com/facebook/internal/ShareInternalUtilityTest.java
index 78249805b..9ee5225f2 100644
--- a/facebook/src/test/java/com/facebook/internal/ShareInternalUtilityTest.java
+++ b/facebook/src/test/java/com/facebook/internal/ShareInternalUtilityTest.java
@@ -35,7 +35,6 @@
 import java.util.Iterator;
 import java.util.List;
 import java.util.Locale;
-import java.util.UUID;
 
 import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertNotNull;
diff --git a/facebook/src/test/java/com/facebook/internal/WorkQueueTest.java b/facebook/src/test/java/com/facebook/internal/WorkQueueTest.java
index 983410c58..0fcafee30 100644
--- a/facebook/src/test/java/com/facebook/internal/WorkQueueTest.java
+++ b/facebook/src/test/java/com/facebook/internal/WorkQueueTest.java
@@ -121,7 +121,7 @@ public void testMoveToFront() {
         final int firstCount = 8;
         final int highCount = 17;
 
-        ArrayList<WorkQueue.WorkItem> highWorkItems = new ArrayList<WorkQueue.WorkItem>();
+        ArrayList<WorkQueue.WorkItem> highWorkItems = new ArrayList<>();
         CountingRunnable highRun = new CountingRunnable();
         CountingRunnable firstRun = new CountingRunnable();
         CountingRunnable lowRun = new CountingRunnable();
@@ -170,7 +170,7 @@ public void testMoveToFront() {
     @Test
     public void testThreadStress() {
         WorkQueue manager = new WorkQueue();
-        ArrayList<StressRunnable> runnables = new ArrayList<StressRunnable>();
+        ArrayList<StressRunnable> runnables = new ArrayList<>();
         final int threadCount = 20;
 
         for (int i = 0; i < threadCount; i++) {
@@ -212,7 +212,7 @@ private void prioritizeWork(WorkQueue manager, WorkQueue.WorkItem workItem) {
     }
 
     static class StressRunnable implements Runnable {
-        static ArrayList<WorkQueue.WorkItem> tracked = new ArrayList<WorkQueue.WorkItem>();
+        static ArrayList<WorkQueue.WorkItem> tracked = new ArrayList<>();
 
         final WorkQueue manager;
         final SecureRandom random = new SecureRandom();
@@ -250,7 +250,7 @@ public void run() {
                     }
                 } else if (n < (weight += prioritizeTrackedWeight)) {
                     // Background all pending items, prioritize tracked items, and clear tracked list
-                    ArrayList<WorkQueue.WorkItem> items = new ArrayList<WorkQueue.WorkItem>();
+                    ArrayList<WorkQueue.WorkItem> items = new ArrayList<>();
 
                     synchronized (tracked) {
                         items.addAll(tracked);
@@ -287,7 +287,7 @@ void waitForDone() {
     }
 
     static class ScriptableExecutor implements Executor {
-        private final ArrayList<Runnable> runnables = new ArrayList<Runnable>();
+        private final ArrayList<Runnable> runnables = new ArrayList<>();
 
         int getPendingCount() {
             return runnables.size();
diff --git a/facebook/src/test/java/com/facebook/login/GetTokenLoginMethodHandlerTest.java b/facebook/src/test/java/com/facebook/login/GetTokenLoginMethodHandlerTest.java
index 4f5e86e10..76c4a24fc 100644
--- a/facebook/src/test/java/com/facebook/login/GetTokenLoginMethodHandlerTest.java
+++ b/facebook/src/test/java/com/facebook/login/GetTokenLoginMethodHandlerTest.java
@@ -38,7 +38,6 @@
 import java.util.Date;
 
 import static org.junit.Assert.assertEquals;
-import static org.junit.Assert.assertFalse;
 import static org.junit.Assert.assertNotNull;
 import static org.junit.Assert.assertTrue;
 import static org.mockito.Matchers.any;
@@ -53,7 +52,7 @@
     public void testGetTokenHandlesSuccessWithAllPermissions() {
         Bundle bundle = new Bundle();
         bundle.putStringArrayList(NativeProtocol.EXTRA_PERMISSIONS,
-            new ArrayList<String>(PERMISSIONS));
+                new ArrayList<>(PERMISSIONS));
         bundle.putLong(NativeProtocol.EXTRA_EXPIRES_SECONDS_SINCE_EPOCH,
             new Date().getTime() / 1000 + EXPIRES_IN_DELTA);
         bundle.putString(NativeProtocol.EXTRA_ACCESS_TOKEN, ACCESS_TOKEN);
@@ -84,7 +83,7 @@ public void testGetTokenHandlesSuccessWithAllPermissions() {
     public void testGetTokenHandlesSuccessWithOnlySomePermissions() {
         Bundle bundle = new Bundle();
         bundle.putStringArrayList(NativeProtocol.EXTRA_PERMISSIONS,
-            new ArrayList<String>(Arrays.asList("go outside")));
+                new ArrayList<>(Arrays.asList("go outside")));
         bundle.putLong(NativeProtocol.EXTRA_EXPIRES_SECONDS_SINCE_EPOCH,
             new Date().getTime() / 1000 + EXPIRES_IN_DELTA);
         bundle.putString(NativeProtocol.EXTRA_ACCESS_TOKEN, ACCESS_TOKEN);
diff --git a/facebook/src/test/java/com/facebook/login/KatanaProxyLoginMethodHandlerTest.java b/facebook/src/test/java/com/facebook/login/KatanaProxyLoginMethodHandlerTest.java
index c57831876..5f8249d15 100644
--- a/facebook/src/test/java/com/facebook/login/KatanaProxyLoginMethodHandlerTest.java
+++ b/facebook/src/test/java/com/facebook/login/KatanaProxyLoginMethodHandlerTest.java
@@ -32,7 +32,6 @@
 import org.junit.Test;
 import org.mockito.ArgumentCaptor;
 import org.powermock.core.classloader.annotations.PrepareForTest;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import java.util.Date;
diff --git a/facebook/src/test/java/com/facebook/login/LoginClientTest.java b/facebook/src/test/java/com/facebook/login/LoginClientTest.java
index 61076cbb8..750fea6df 100644
--- a/facebook/src/test/java/com/facebook/login/LoginClientTest.java
+++ b/facebook/src/test/java/com/facebook/login/LoginClientTest.java
@@ -53,8 +53,8 @@
 
 
     private static final long EXPIRES_IN_DELTA = 3600 * 24 * 60;
-    private static final HashSet<String> PERMISSIONS = new HashSet<String>(
-        Arrays.asList("go outside", "come back in"));
+    private static final HashSet<String> PERMISSIONS = new HashSet<>(
+            Arrays.asList("go outside", "come back in"));
     private static final String ERROR_MESSAGE = "This is bad!";
 
     @Mock private Fragment mockFragment;
@@ -114,7 +114,7 @@ public void testRequestParceling() {
         LoginClient.Request unparceledRequest = TestUtils.parcelAndUnparcel(request);
 
         assertEquals(LoginBehavior.NATIVE_WITH_FALLBACK, unparceledRequest.getLoginBehavior());
-        assertEquals(new HashSet<String>(PERMISSIONS), unparceledRequest.getPermissions());
+        assertEquals(new HashSet<>(PERMISSIONS), unparceledRequest.getPermissions());
         assertEquals(DefaultAudience.FRIENDS, unparceledRequest.getDefaultAudience());
         assertEquals("1234", unparceledRequest.getApplicationId());
         assertEquals("5678", unparceledRequest.getAuthId());
@@ -167,7 +167,7 @@ public void testResultParceling() {
     protected LoginClient.Request createRequest(String previousAccessTokenString) {
         return new LoginClient.Request(
                 LoginBehavior.NATIVE_WITH_FALLBACK,
-                new HashSet<String>(PERMISSIONS),
+                new HashSet<>(PERMISSIONS),
                 DefaultAudience.FRIENDS,
                 "1234",
                 "5678");
diff --git a/facebook/src/test/java/com/facebook/login/LoginHandlerTestCase.java b/facebook/src/test/java/com/facebook/login/LoginHandlerTestCase.java
index 30fe97fa2..8b4f6174e 100644
--- a/facebook/src/test/java/com/facebook/login/LoginHandlerTestCase.java
+++ b/facebook/src/test/java/com/facebook/login/LoginHandlerTestCase.java
@@ -39,7 +39,7 @@
     protected static final String ACCESS_TOKEN = "An access token";
     protected static final String USER_ID = "1000";
     protected static final long EXPIRES_IN_DELTA = 3600 * 24 * 60;
-    protected static final HashSet<String> PERMISSIONS = new HashSet<String>(
+    protected static final HashSet<String> PERMISSIONS = new HashSet<>(
             Arrays.asList("go outside", "come back in"));
     protected static final String ERROR_MESSAGE = "This is bad!";
 
@@ -61,7 +61,7 @@ public void before() throws Exception {
 
         return new LoginClient.Request(
                 LoginBehavior.NATIVE_WITH_FALLBACK,
-                new HashSet<String>(PERMISSIONS),
+                new HashSet<>(PERMISSIONS),
                 DefaultAudience.FRIENDS,
                 "1234",
                 "5678");
diff --git a/facebook/src/test/java/com/facebook/login/LoginManagerTest.java b/facebook/src/test/java/com/facebook/login/LoginManagerTest.java
index 59f0a7d54..9eebeeab6 100644
--- a/facebook/src/test/java/com/facebook/login/LoginManagerTest.java
+++ b/facebook/src/test/java/com/facebook/login/LoginManagerTest.java
@@ -52,7 +52,6 @@
 import java.util.Arrays;
 import java.util.Collection;
 import java.util.Date;
-import java.util.HashSet;
 import java.util.List;
 import java.util.Set;
 import java.util.concurrent.ThreadPoolExecutor;
diff --git a/facebook/src/test/java/com/facebook/login/LoginResultTest.java b/facebook/src/test/java/com/facebook/login/LoginResultTest.java
index 38d6bf73a..6966107e5 100644
--- a/facebook/src/test/java/com/facebook/login/LoginResultTest.java
+++ b/facebook/src/test/java/com/facebook/login/LoginResultTest.java
@@ -26,7 +26,6 @@
 
 import org.junit.Before;
 import org.junit.Test;
-import org.robolectric.Robolectric;
 import org.robolectric.RuntimeEnvironment;
 
 import java.util.HashSet;
diff --git a/facebook/src/test/java/com/facebook/messenger/MessengerUtilsTest.java b/facebook/src/test/java/com/facebook/messenger/MessengerUtilsTest.java
index f102ec1a5..eab03fc4e 100644
--- a/facebook/src/test/java/com/facebook/messenger/MessengerUtilsTest.java
+++ b/facebook/src/test/java/com/facebook/messenger/MessengerUtilsTest.java
@@ -35,7 +35,6 @@
 import org.junit.Test;
 import org.junit.runner.RunWith;
 import org.mockito.ArgumentCaptor;
-import org.robolectric.Robolectric;
 import org.robolectric.RobolectricTestRunner;
 import org.robolectric.RuntimeEnvironment;
 import org.robolectric.annotation.Config;
@@ -43,7 +42,6 @@
 import java.util.Arrays;
 
 import static org.junit.Assert.*;
-import static org.junit.Assert.assertEquals;
 import static org.mockito.Mockito.*;
 
 /**
diff --git a/facebook/src/test/java/com/facebook/share/internal/ShareContentValidationTest.java b/facebook/src/test/java/com/facebook/share/internal/ShareContentValidationTest.java
index 775fd8051..27e9899cc 100644
--- a/facebook/src/test/java/com/facebook/share/internal/ShareContentValidationTest.java
+++ b/facebook/src/test/java/com/facebook/share/internal/ShareContentValidationTest.java
@@ -19,29 +19,21 @@
  */
 package com.facebook.share.internal;
 
-import android.content.Context;
 import android.graphics.Bitmap;
 import android.net.Uri;
 
 import com.facebook.FacebookException;
 import com.facebook.FacebookPowerMockTestCase;
-import com.facebook.FacebookSdk;
 import com.facebook.internal.Validate;
 import com.facebook.share.model.ShareLinkContent;
 import com.facebook.share.model.ShareOpenGraphAction;
 import com.facebook.share.model.ShareOpenGraphContent;
 import com.facebook.share.model.SharePhoto;
 import com.facebook.share.model.SharePhotoContent;
-import com.facebook.share.model.ShareVideo;
 import com.facebook.share.model.ShareVideoContent;
 
 import org.junit.Test;
-import org.mockito.Mockito;
-import org.powermock.api.mockito.PowerMockito;
 import org.powermock.core.classloader.annotations.PrepareForTest;
-import org.robolectric.RuntimeEnvironment;
-
-import static org.powermock.api.mockito.PowerMockito.doNothing;
 
 
 /**
diff --git a/facebook/src/test/java/com/facebook/share/internal/ShareOpenGraphUtilityTest.java b/facebook/src/test/java/com/facebook/share/internal/ShareOpenGraphUtilityTest.java
index 7c2a7a05c..deb92f573 100644
--- a/facebook/src/test/java/com/facebook/share/internal/ShareOpenGraphUtilityTest.java
+++ b/facebook/src/test/java/com/facebook/share/internal/ShareOpenGraphUtilityTest.java
@@ -44,7 +44,7 @@ public void testToJSONObject() throws IOException, JSONException {
     }
 
     private static <E> ArrayList<E> createArrayList(E... params) {
-        final ArrayList<E> list = new ArrayList<E>();
+        final ArrayList<E> list = new ArrayList<>();
         for (E item : params) {
             list.add(item);
         }
diff --git a/facebook/src/test/java/com/facebook/share/model/ShareModelTestUtility.java b/facebook/src/test/java/com/facebook/share/model/ShareModelTestUtility.java
index 4fd059002..9491b4c5f 100644
--- a/facebook/src/test/java/com/facebook/share/model/ShareModelTestUtility.java
+++ b/facebook/src/test/java/com/facebook/share/model/ShareModelTestUtility.java
@@ -287,7 +287,7 @@ private static void assertOpenGraphValueContainerEquals(
             final ShareOpenGraphValueContainer a,
             final ShareOpenGraphValueContainer b
     ) {
-        final HashSet<String> keySet = new HashSet<String>();
+        final HashSet<String> keySet = new HashSet<>();
         keySet.addAll(a.keySet());
         keySet.addAll(b.keySet());
         for (String key : keySet) {
diff --git a/gradle.properties b/gradle.properties
index 475b38ce6..2e1f49d82 100644
--- a/gradle.properties
+++ b/gradle.properties
@@ -1,4 +1,4 @@
 ANDROID_BUILD_MIN_SDK_VERSION=15
 ANDROID_BUILD_TARGET_SDK_VERSION=23
-ANDROID_BUILD_TOOLS_VERSION=23.0.1
+ANDROID_BUILD_TOOLS_VERSION=23.0.3
 ANDROID_BUILD_SDK_VERSION=23
diff --git a/gradle/wrapper/gradle-wrapper.properties b/gradle/wrapper/gradle-wrapper.properties
index b5273f08d..823181fa0 100644
--- a/gradle/wrapper/gradle-wrapper.properties
+++ b/gradle/wrapper/gradle-wrapper.properties
@@ -3,4 +3,4 @@ distributionBase=GRADLE_USER_HOME
 distributionPath=wrapper/dists
 zipStoreBase=GRADLE_USER_HOME
 zipStorePath=wrapper/dists
-distributionUrl=https\://services.gradle.org/distributions/gradle-2.10-bin.zip
+distributionUrl=https\://services.gradle.org/distributions/gradle-2.13-bin.zip
diff --git a/samples/HelloFacebookSample/res/drawable-hdpi/icon.png b/samples/HelloFacebookSample/res/mipmap-hdpi/icon.png
similarity index 100%
rename from samples/HelloFacebookSample/res/drawable-hdpi/icon.png
rename to samples/HelloFacebookSample/res/mipmap-hdpi/icon.png
diff --git a/samples/HelloFacebookSample/res/drawable-mdpi/icon.png b/samples/HelloFacebookSample/res/mipmap-mdpi/icon.png
similarity index 100%
rename from samples/HelloFacebookSample/res/drawable-mdpi/icon.png
rename to samples/HelloFacebookSample/res/mipmap-mdpi/icon.png
diff --git a/samples/HelloFacebookSample/res/drawable-xhdpi/icon.png b/samples/HelloFacebookSample/res/mipmap-xhdpi/icon.png
similarity index 100%
rename from samples/HelloFacebookSample/res/drawable-xhdpi/icon.png
rename to samples/HelloFacebookSample/res/mipmap-xhdpi/icon.png
diff --git a/samples/HelloFacebookSample/src/com/example/hellofacebook/HelloFacebookSampleActivity.java b/samples/HelloFacebookSample/src/com/example/hellofacebook/HelloFacebookSampleActivity.java
index 328e6e9d1..ba0f16bf4 100644
--- a/samples/HelloFacebookSample/src/com/example/hellofacebook/HelloFacebookSampleActivity.java
+++ b/samples/HelloFacebookSample/src/com/example/hellofacebook/HelloFacebookSampleActivity.java
@@ -27,14 +27,13 @@
 import android.location.Location;
 import android.net.Uri;
 import android.os.Bundle;
-import android.support.v4.app.FragmentActivity;
+import android.support.v7.app.AppCompatActivity;
 import android.util.Log;
 import android.view.View;
 import android.widget.Button;
 import android.widget.TextView;
 
 import com.facebook.*;
-import com.facebook.appevents.AppEventsLogger;
 import com.facebook.login.LoginManager;
 import com.facebook.login.LoginResult;
 import com.facebook.login.widget.ProfilePictureView;
@@ -48,7 +47,7 @@
 import java.util.ArrayList;
 import java.util.Arrays;
 
-public class HelloFacebookSampleActivity extends FragmentActivity {
+public class HelloFacebookSampleActivity extends AppCompatActivity {
 
     private static final String PERMISSION = "publish_actions";
     private static final Location SEATTLE_LOCATION = new Location("") {
diff --git a/samples/Iconicus/AndroidManifest.xml b/samples/Iconicus/AndroidManifest.xml
index 4823cc0d7..222259145 100644
--- a/samples/Iconicus/AndroidManifest.xml
+++ b/samples/Iconicus/AndroidManifest.xml
@@ -25,7 +25,7 @@
     <application
         android:name=".IconicusApplication"
         android:allowBackup="true"
-        android:icon="@drawable/ic_launcher"
+        android:icon="@mipmap/ic_launcher"
         android:label="@string/app_name"
         android:theme="@style/AppBaseTheme">
         <activity
diff --git a/samples/Iconicus/build.gradle b/samples/Iconicus/build.gradle
index 2c95ebc24..ab2155cad 100644
--- a/samples/Iconicus/build.gradle
+++ b/samples/Iconicus/build.gradle
@@ -1,7 +1,7 @@
 apply plugin: 'com.android.application'
 
 repositories {
-    mavenCentral()
+    jcenter()
 }
 
 dependencies {
diff --git a/samples/Iconicus/res/drawable-hdpi/ic_launcher.png b/samples/Iconicus/res/mipmap-hdpi/ic_launcher.png
similarity index 100%
rename from samples/Iconicus/res/drawable-hdpi/ic_launcher.png
rename to samples/Iconicus/res/mipmap-hdpi/ic_launcher.png
diff --git a/samples/Iconicus/res/drawable-hdpi/tile1.png b/samples/Iconicus/res/mipmap-hdpi/tile1.png
similarity index 100%
rename from samples/Iconicus/res/drawable-hdpi/tile1.png
rename to samples/Iconicus/res/mipmap-hdpi/tile1.png
diff --git a/samples/Iconicus/res/drawable-hdpi/tile2.png b/samples/Iconicus/res/mipmap-hdpi/tile2.png
similarity index 100%
rename from samples/Iconicus/res/drawable-hdpi/tile2.png
rename to samples/Iconicus/res/mipmap-hdpi/tile2.png
diff --git a/samples/Iconicus/res/drawable-hdpi/tile3.png b/samples/Iconicus/res/mipmap-hdpi/tile3.png
similarity index 100%
rename from samples/Iconicus/res/drawable-hdpi/tile3.png
rename to samples/Iconicus/res/mipmap-hdpi/tile3.png
diff --git a/samples/Iconicus/res/drawable-hdpi/tile4.png b/samples/Iconicus/res/mipmap-hdpi/tile4.png
similarity index 100%
rename from samples/Iconicus/res/drawable-hdpi/tile4.png
rename to samples/Iconicus/res/mipmap-hdpi/tile4.png
diff --git a/samples/Iconicus/res/drawable-hdpi/tile5.png b/samples/Iconicus/res/mipmap-hdpi/tile5.png
similarity index 100%
rename from samples/Iconicus/res/drawable-hdpi/tile5.png
rename to samples/Iconicus/res/mipmap-hdpi/tile5.png
diff --git a/samples/Iconicus/res/drawable-hdpi/tile6.png b/samples/Iconicus/res/mipmap-hdpi/tile6.png
similarity index 100%
rename from samples/Iconicus/res/drawable-hdpi/tile6.png
rename to samples/Iconicus/res/mipmap-hdpi/tile6.png
diff --git a/samples/Iconicus/res/drawable-hdpi/tile7.png b/samples/Iconicus/res/mipmap-hdpi/tile7.png
similarity index 100%
rename from samples/Iconicus/res/drawable-hdpi/tile7.png
rename to samples/Iconicus/res/mipmap-hdpi/tile7.png
diff --git a/samples/Iconicus/res/drawable-hdpi/tile8.png b/samples/Iconicus/res/mipmap-hdpi/tile8.png
similarity index 100%
rename from samples/Iconicus/res/drawable-hdpi/tile8.png
rename to samples/Iconicus/res/mipmap-hdpi/tile8.png
diff --git a/samples/Iconicus/res/drawable-hdpi/tile9.png b/samples/Iconicus/res/mipmap-hdpi/tile9.png
similarity index 100%
rename from samples/Iconicus/res/drawable-hdpi/tile9.png
rename to samples/Iconicus/res/mipmap-hdpi/tile9.png
diff --git a/samples/Iconicus/res/drawable-mdpi/ic_launcher.png b/samples/Iconicus/res/mipmap-mdpi/ic_launcher.png
similarity index 100%
rename from samples/Iconicus/res/drawable-mdpi/ic_launcher.png
rename to samples/Iconicus/res/mipmap-mdpi/ic_launcher.png
diff --git a/samples/Iconicus/res/drawable-mdpi/tile1.png b/samples/Iconicus/res/mipmap-mdpi/tile1.png
similarity index 100%
rename from samples/Iconicus/res/drawable-mdpi/tile1.png
rename to samples/Iconicus/res/mipmap-mdpi/tile1.png
diff --git a/samples/Iconicus/res/drawable-mdpi/tile2.png b/samples/Iconicus/res/mipmap-mdpi/tile2.png
similarity index 100%
rename from samples/Iconicus/res/drawable-mdpi/tile2.png
rename to samples/Iconicus/res/mipmap-mdpi/tile2.png
diff --git a/samples/Iconicus/res/drawable-mdpi/tile3.png b/samples/Iconicus/res/mipmap-mdpi/tile3.png
similarity index 100%
rename from samples/Iconicus/res/drawable-mdpi/tile3.png
rename to samples/Iconicus/res/mipmap-mdpi/tile3.png
diff --git a/samples/Iconicus/res/drawable-mdpi/tile4.png b/samples/Iconicus/res/mipmap-mdpi/tile4.png
similarity index 100%
rename from samples/Iconicus/res/drawable-mdpi/tile4.png
rename to samples/Iconicus/res/mipmap-mdpi/tile4.png
diff --git a/samples/Iconicus/res/drawable-mdpi/tile5.png b/samples/Iconicus/res/mipmap-mdpi/tile5.png
similarity index 100%
rename from samples/Iconicus/res/drawable-mdpi/tile5.png
rename to samples/Iconicus/res/mipmap-mdpi/tile5.png
diff --git a/samples/Iconicus/res/drawable-mdpi/tile6.png b/samples/Iconicus/res/mipmap-mdpi/tile6.png
similarity index 100%
rename from samples/Iconicus/res/drawable-mdpi/tile6.png
rename to samples/Iconicus/res/mipmap-mdpi/tile6.png
diff --git a/samples/Iconicus/res/drawable-mdpi/tile7.png b/samples/Iconicus/res/mipmap-mdpi/tile7.png
similarity index 100%
rename from samples/Iconicus/res/drawable-mdpi/tile7.png
rename to samples/Iconicus/res/mipmap-mdpi/tile7.png
diff --git a/samples/Iconicus/res/drawable-mdpi/tile8.png b/samples/Iconicus/res/mipmap-mdpi/tile8.png
similarity index 100%
rename from samples/Iconicus/res/drawable-mdpi/tile8.png
rename to samples/Iconicus/res/mipmap-mdpi/tile8.png
diff --git a/samples/Iconicus/res/drawable-mdpi/tile9.png b/samples/Iconicus/res/mipmap-mdpi/tile9.png
similarity index 100%
rename from samples/Iconicus/res/drawable-mdpi/tile9.png
rename to samples/Iconicus/res/mipmap-mdpi/tile9.png
diff --git a/samples/Iconicus/res/drawable-xhdpi/ic_launcher.png b/samples/Iconicus/res/mipmap-xhdpi/ic_launcher.png
similarity index 100%
rename from samples/Iconicus/res/drawable-xhdpi/ic_launcher.png
rename to samples/Iconicus/res/mipmap-xhdpi/ic_launcher.png
diff --git a/samples/Iconicus/res/drawable-xhdpi/tile1.png b/samples/Iconicus/res/mipmap-xhdpi/tile1.png
similarity index 100%
rename from samples/Iconicus/res/drawable-xhdpi/tile1.png
rename to samples/Iconicus/res/mipmap-xhdpi/tile1.png
diff --git a/samples/Iconicus/res/drawable-xhdpi/tile2.png b/samples/Iconicus/res/mipmap-xhdpi/tile2.png
similarity index 100%
rename from samples/Iconicus/res/drawable-xhdpi/tile2.png
rename to samples/Iconicus/res/mipmap-xhdpi/tile2.png
diff --git a/samples/Iconicus/res/drawable-xhdpi/tile3.png b/samples/Iconicus/res/mipmap-xhdpi/tile3.png
similarity index 100%
rename from samples/Iconicus/res/drawable-xhdpi/tile3.png
rename to samples/Iconicus/res/mipmap-xhdpi/tile3.png
diff --git a/samples/Iconicus/res/drawable-xhdpi/tile4.png b/samples/Iconicus/res/mipmap-xhdpi/tile4.png
similarity index 100%
rename from samples/Iconicus/res/drawable-xhdpi/tile4.png
rename to samples/Iconicus/res/mipmap-xhdpi/tile4.png
diff --git a/samples/Iconicus/res/drawable-xhdpi/tile5.png b/samples/Iconicus/res/mipmap-xhdpi/tile5.png
similarity index 100%
rename from samples/Iconicus/res/drawable-xhdpi/tile5.png
rename to samples/Iconicus/res/mipmap-xhdpi/tile5.png
diff --git a/samples/Iconicus/res/drawable-xhdpi/tile6.png b/samples/Iconicus/res/mipmap-xhdpi/tile6.png
similarity index 100%
rename from samples/Iconicus/res/drawable-xhdpi/tile6.png
rename to samples/Iconicus/res/mipmap-xhdpi/tile6.png
diff --git a/samples/Iconicus/res/drawable-xhdpi/tile7.png b/samples/Iconicus/res/mipmap-xhdpi/tile7.png
similarity index 100%
rename from samples/Iconicus/res/drawable-xhdpi/tile7.png
rename to samples/Iconicus/res/mipmap-xhdpi/tile7.png
diff --git a/samples/Iconicus/res/drawable-xhdpi/tile8.png b/samples/Iconicus/res/mipmap-xhdpi/tile8.png
similarity index 100%
rename from samples/Iconicus/res/drawable-xhdpi/tile8.png
rename to samples/Iconicus/res/mipmap-xhdpi/tile8.png
diff --git a/samples/Iconicus/res/drawable-xhdpi/tile9.png b/samples/Iconicus/res/mipmap-xhdpi/tile9.png
similarity index 100%
rename from samples/Iconicus/res/drawable-xhdpi/tile9.png
rename to samples/Iconicus/res/mipmap-xhdpi/tile9.png
diff --git a/samples/Iconicus/src/com/example/iconicus/GameBoard.java b/samples/Iconicus/src/com/example/iconicus/GameBoard.java
index 6624bf4dd..097ba574b 100644
--- a/samples/Iconicus/src/com/example/iconicus/GameBoard.java
+++ b/samples/Iconicus/src/com/example/iconicus/GameBoard.java
@@ -207,10 +207,7 @@ public boolean isEmpty(final int position) {
      * @return true if the current position is valid (empty pieces are by default valid).
      */
     public boolean isValid(final int position) {
-        if (isEmpty(position)) {
-            return true;
-        }
-        return validateRow(position) && validateColumn(position) && validateGroup(position);
+        return isEmpty(position) || validateRow(position) && validateColumn(position) && validateGroup(position);
     }
 
     /**
@@ -226,8 +223,8 @@ public Uri toUri() {
 
     private String encodeBoard() {
         StringBuilder builder = new StringBuilder();
-        for (int i = 0; i < board.length; i++) {
-            builder.append(board[i]);
+        for (int aBoard : board) {
+            builder.append(aBoard);
         }
         return builder.toString();
     }
@@ -245,8 +242,8 @@ private String encodeBoard() {
 
     private String encodeLockedPositions() {
         StringBuilder builder = new StringBuilder();
-        for (int i = 0; i < lockedPositions.length; i++) {
-            builder.append(lockedPositions[i] ? 1 : 0);;;
+        for (boolean lockedPosition : lockedPositions) {
+            builder.append(lockedPosition ? 1 : 0);
         }
         return builder.toString();
     }
diff --git a/samples/Iconicus/src/com/example/iconicus/GameController.java b/samples/Iconicus/src/com/example/iconicus/GameController.java
index 033d9ad26..ddad1ed30 100644
--- a/samples/Iconicus/src/com/example/iconicus/GameController.java
+++ b/samples/Iconicus/src/com/example/iconicus/GameController.java
@@ -24,6 +24,7 @@
 import android.content.Intent;
 import android.graphics.drawable.Drawable;
 import android.net.Uri;
+import android.support.v4.content.ContextCompat;
 import android.view.View;
 import android.view.ViewGroup;
 import android.widget.AdapterView;
@@ -125,15 +126,15 @@ private synchronized void initializeIcons() {
             return;
         }
         validIcons[0] = null;
-        validIcons[1] = context.getResources().getDrawable(R.drawable.tile1);
-        validIcons[2] = context.getResources().getDrawable(R.drawable.tile2);
-        validIcons[3] = context.getResources().getDrawable(R.drawable.tile3);
-        validIcons[4] = context.getResources().getDrawable(R.drawable.tile4);
-        validIcons[5] = context.getResources().getDrawable(R.drawable.tile5);
-        validIcons[6] = context.getResources().getDrawable(R.drawable.tile6);
-        validIcons[7] = context.getResources().getDrawable(R.drawable.tile7);
-        validIcons[8] = context.getResources().getDrawable(R.drawable.tile8);
-        validIcons[9] = context.getResources().getDrawable(R.drawable.tile9);
+        validIcons[1] = ContextCompat.getDrawable(context,R.mipmap.tile1);
+        validIcons[2] = ContextCompat.getDrawable(context,R.mipmap.tile2);
+        validIcons[3] = ContextCompat.getDrawable(context,R.mipmap.tile3);
+        validIcons[4] = ContextCompat.getDrawable(context,R.mipmap.tile4);
+        validIcons[5] = ContextCompat.getDrawable(context,R.mipmap.tile5);
+        validIcons[6] = ContextCompat.getDrawable(context,R.mipmap.tile6);
+        validIcons[7] = ContextCompat.getDrawable(context,R.mipmap.tile7);
+        validIcons[8] = ContextCompat.getDrawable(context,R.mipmap.tile8);
+        validIcons[9] = ContextCompat.getDrawable(context,R.mipmap.tile9);
         iconsInitialized = true;
     }
 
diff --git a/samples/Iconicus/src/com/example/iconicus/MainActivity.java b/samples/Iconicus/src/com/example/iconicus/MainActivity.java
index b071453c9..ba6fe0386 100644
--- a/samples/Iconicus/src/com/example/iconicus/MainActivity.java
+++ b/samples/Iconicus/src/com/example/iconicus/MainActivity.java
@@ -29,7 +29,6 @@
 import android.widget.GridView;
 import android.widget.Toast;
 
-import com.facebook.FacebookSdk;
 import com.facebook.share.model.ShareLinkContent;
 import com.facebook.share.widget.SendButton;
 import com.facebook.share.widget.ShareButton;
diff --git a/samples/MessengerSendSample/build.gradle b/samples/MessengerSendSample/build.gradle
index b1a0545e9..6d8e2e056 100644
--- a/samples/MessengerSendSample/build.gradle
+++ b/samples/MessengerSendSample/build.gradle
@@ -49,5 +49,5 @@ android {
 
 dependencies {
     compile project(':facebook')
-    compile('com.android.support:appcompat-v7:21.0.3')
+    compile('com.android.support:appcompat-v7:23.4.0')
 }
diff --git a/samples/MessengerSendSample/src/main/java/com/facebook/samples/messenger/send/MainActivity.java b/samples/MessengerSendSample/src/main/java/com/facebook/samples/messenger/send/MainActivity.java
index 40192b5e5..0fcb3eb7f 100644
--- a/samples/MessengerSendSample/src/main/java/com/facebook/samples/messenger/send/MainActivity.java
+++ b/samples/MessengerSendSample/src/main/java/com/facebook/samples/messenger/send/MainActivity.java
@@ -79,7 +79,7 @@ private void onMessengerButtonClicked() {
     // The URI can reference a file://, content://, or android.resource. Here we use
     // android.resource for sample purposes.
     Uri uri =
-        Uri.parse("android.resource://com.facebook.samples.messenger.send/" + R.drawable.tree);
+        Uri.parse("android.resource://com.facebook.samples.messenger.send/" + R.mipmap.tree);
 
     // Create the parameters for what we want to send to Messenger.
     ShareToMessengerParams shareToMessengerParams =
diff --git a/samples/MessengerSendSample/src/main/res/layout/main_activity.xml b/samples/MessengerSendSample/src/main/res/layout/main_activity.xml
index 6ce6ea440..a00997769 100644
--- a/samples/MessengerSendSample/src/main/res/layout/main_activity.xml
+++ b/samples/MessengerSendSample/src/main/res/layout/main_activity.xml
@@ -40,7 +40,7 @@
       android:layout_width="match_parent"
       android:layout_height="0dp"
       android:layout_weight="1"
-      android:src="@drawable/tree"
+      android:src="@mipmap/tree"
       android:scaleType="fitCenter"
       />
 
diff --git a/samples/MessengerSendSample/src/main/res/drawable-xhdpi/tree.jpg b/samples/MessengerSendSample/src/main/res/mipmap-xhdpi/tree.jpg
similarity index 100%
rename from samples/MessengerSendSample/src/main/res/drawable-xhdpi/tree.jpg
rename to samples/MessengerSendSample/src/main/res/mipmap-xhdpi/tree.jpg
diff --git a/samples/RPSSample/res/drawable-hdpi/icon.png b/samples/RPSSample/res/mipmap-hdpi/icon.png
similarity index 100%
rename from samples/RPSSample/res/drawable-hdpi/icon.png
rename to samples/RPSSample/res/mipmap-hdpi/icon.png
diff --git a/samples/RPSSample/res/drawable-mdpi/icon.png b/samples/RPSSample/res/mipmap-mdpi/icon.png
similarity index 100%
rename from samples/RPSSample/res/drawable-mdpi/icon.png
rename to samples/RPSSample/res/mipmap-mdpi/icon.png
diff --git a/samples/RPSSample/res/drawable-xhdpi/icon.png b/samples/RPSSample/res/mipmap-xhdpi/icon.png
similarity index 100%
rename from samples/RPSSample/res/drawable-xhdpi/icon.png
rename to samples/RPSSample/res/mipmap-xhdpi/icon.png
diff --git a/samples/RPSSample/src/com/example/rps/MainActivity.java b/samples/RPSSample/src/com/example/rps/MainActivity.java
index d87c786e5..fb14b7cc1 100644
--- a/samples/RPSSample/src/com/example/rps/MainActivity.java
+++ b/samples/RPSSample/src/com/example/rps/MainActivity.java
@@ -24,22 +24,21 @@
 import android.net.Uri;
 import android.os.Bundle;
 import android.support.v4.app.Fragment;
-import android.support.v4.app.FragmentActivity;
 import android.support.v4.app.FragmentManager;
 import android.support.v4.app.FragmentTransaction;
+import android.support.v7.app.AppCompatActivity;
 import android.util.Log;
 import android.view.Menu;
 import android.view.MenuItem;
 
 import bolts.AppLinks;
 import com.facebook.*;
-import com.facebook.appevents.AppEventsLogger;
 import com.facebook.share.model.GameRequestContent;
 import com.facebook.share.widget.GameRequestDialog;
 
 import static com.example.rps.RpsGameUtils.INVALID_CHOICE;
 
-public class MainActivity extends FragmentActivity {
+public class MainActivity extends AppCompatActivity {
     private static final String TAG = "MainActivity";
 
     static final int RPS = 0;
@@ -83,8 +82,8 @@ protected void onCurrentAccessTokenChanged(AccessToken oldAccessToken,
         fragments[CONTENT] = fm.findFragmentById(R.id.content_fragment);
 
         FragmentTransaction transaction = fm.beginTransaction();
-        for(int i = 0; i < fragments.length; i++) {
-            transaction.hide(fragments[i]);
+        for (Fragment fragment : fragments) {
+            transaction.hide(fragment);
         }
         transaction.commit();
 
diff --git a/samples/RPSSample/src/com/example/rps/RpsGameUtils.java b/samples/RPSSample/src/com/example/rps/RpsGameUtils.java
index db87462a1..1a3bc5a0b 100644
--- a/samples/RPSSample/src/com/example/rps/RpsGameUtils.java
+++ b/samples/RPSSample/src/com/example/rps/RpsGameUtils.java
@@ -25,7 +25,7 @@
         INIT,
         PLAYING,
         RESULT
-    };
+    }
 
     public enum RpsResult {
         WIN(R.string.win, R.string.result_won),
@@ -36,7 +36,7 @@
         private int id;
         private int resultId;
 
-        private RpsResult(int stringId, int resultStringId) {
+        RpsResult(int stringId, int resultStringId) {
             id = stringId;
             resultId = resultStringId;
         }
@@ -48,7 +48,7 @@ public int getStringId() {
         public int getResultStringId() {
             return resultId;
         }
-    };
+    }
 
     public static final int ROCK = 0;
     public static final int PAPER = 1;
diff --git a/samples/RPSSample/src/com/example/rps/usersettings/UserSettingsFragment.java b/samples/RPSSample/src/com/example/rps/usersettings/UserSettingsFragment.java
index 4b1bab031..3e5bbd485 100644
--- a/samples/RPSSample/src/com/example/rps/usersettings/UserSettingsFragment.java
+++ b/samples/RPSSample/src/com/example/rps/usersettings/UserSettingsFragment.java
@@ -27,6 +27,7 @@
 import android.net.Uri;
 import android.os.Bundle;
 import android.support.v4.app.Fragment;
+import android.support.v4.content.ContextCompat;
 import android.text.TextUtils;
 import android.view.LayoutInflater;
 import android.view.View;
@@ -107,7 +108,7 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,
 
         // if no background is set for some reason, then default to Facebook blue
         if (view.getBackground() == null) {
-            view.setBackgroundColor(getResources().getColor(R.color.com_facebook_blue));
+            view.setBackgroundColor(ContextCompat.getColor(getActivity(),R.color.com_facebook_blue));
         } else {
             view.getBackground().setDither(true);
         }
@@ -155,10 +156,10 @@ private void updateUI() {
             return;
         }
         if (AccessToken.getCurrentAccessToken() != null) {
-            connectedStateLabel.setTextColor(getResources().getColor(
+            connectedStateLabel.setTextColor(ContextCompat.getColor(getActivity(),
                     R.color.usersettings_fragment_connected_text_color));
             connectedStateLabel.setShadowLayer(1f, 0f, -1f,
-                    getResources().getColor(
+                    ContextCompat.getColor(getActivity(),
                             R.color.usersettings_fragment_connected_shadow_color));
 
             if (user != null) {
@@ -180,7 +181,7 @@ private void updateUI() {
             } else {
                 connectedStateLabel.setText(getResources().getString(
                         R.string.usersettings_fragment_logged_in));
-                Drawable noProfilePic = getResources().getDrawable(
+                Drawable noProfilePic = ContextCompat.getDrawable(getActivity(),
                         R.drawable.profile_default_icon);
                 noProfilePic.setBounds(0, 0,
                         getResources().getDimensionPixelSize(
@@ -190,7 +191,7 @@ private void updateUI() {
                 connectedStateLabel.setCompoundDrawables(null, noProfilePic, null, null);
             }
         } else {
-            int textColor = getResources().getColor(
+            int textColor = ContextCompat.getColor(getActivity(),
                     R.color.usersettings_fragment_not_connected_text_color);
             connectedStateLabel.setTextColor(textColor);
             connectedStateLabel.setShadowLayer(0f, 0f, 0f, textColor);
diff --git a/samples/Scrumptious/res/layout/picker_list_row.xml b/samples/Scrumptious/res/layout/picker_list_row.xml
index 4e87484b0..8cec0ad6f 100644
--- a/samples/Scrumptious/res/layout/picker_list_row.xml
+++ b/samples/Scrumptious/res/layout/picker_list_row.xml
@@ -32,7 +32,7 @@
             android:layout_height="50dip" />
     <TextView
             android:id="@+id/com_facebook_picker_title"
-            android:layout_width="100dip"
+            android:layout_width="0dp"
             android:layout_height="50dip"
             android:layout_weight="1.0"
             android:paddingLeft="5dip"
@@ -41,7 +41,7 @@
             android:singleLine="true"
             android:ellipsize="end"
             android:textSize="18sp"
-            android:gravity="left|center_vertical"/>
+            android:gravity="start|center_vertical"/>
     <ViewStub
             android:id="@+id/com_facebook_picker_checkbox_stub"
             android:inflatedId="@+id/com_facebook_picker_checkbox"
diff --git a/samples/Scrumptious/res/layout/picker_search_bar_layout.xml b/samples/Scrumptious/res/layout/picker_search_bar_layout.xml
index 9846507de..dc5d4a11f 100644
--- a/samples/Scrumptious/res/layout/picker_search_bar_layout.xml
+++ b/samples/Scrumptious/res/layout/picker_search_bar_layout.xml
@@ -44,7 +44,7 @@
             android:textColor="@android:color/black"
             android:textColorHint="@color/picker_search_bar_text"
             android:background="@color/picker_search_bar_background"
-            android:drawableLeft="@drawable/picker_magnifier"
+            android:drawableLeft="@mipmap/picker_magnifier"
             android:drawablePadding="5dp"
             android:imeOptions="actionDone"
             />
diff --git a/samples/Scrumptious/res/layout/splash.xml b/samples/Scrumptious/res/layout/splash.xml
index 058c7a97e..d16d5ab7b 100644
--- a/samples/Scrumptious/res/layout/splash.xml
+++ b/samples/Scrumptious/res/layout/splash.xml
@@ -37,7 +37,7 @@
     		android:layout_weight="1"
     		android:layout_gravity="center"
     		android:padding="50dp"
-    		android:src="@drawable/logo"/>
+    		android:src="@mipmap/logo"/>
 
         <com.facebook.login.widget.LoginButton
             android:id="@+id/login_button"
diff --git a/samples/Scrumptious/res/drawable-hdpi/icon.png b/samples/Scrumptious/res/mipmap-hdpi/icon.png
similarity index 100%
rename from samples/Scrumptious/res/drawable-hdpi/icon.png
rename to samples/Scrumptious/res/mipmap-hdpi/icon.png
diff --git a/samples/Scrumptious/res/drawable-hdpi/picker_magnifier.png b/samples/Scrumptious/res/mipmap-hdpi/picker_magnifier.png
similarity index 100%
rename from samples/Scrumptious/res/drawable-hdpi/picker_magnifier.png
rename to samples/Scrumptious/res/mipmap-hdpi/picker_magnifier.png
diff --git a/samples/Scrumptious/res/drawable-hdpi/placeholder_image.png b/samples/Scrumptious/res/mipmap-hdpi/placeholder_image.png
similarity index 100%
rename from samples/Scrumptious/res/drawable-hdpi/placeholder_image.png
rename to samples/Scrumptious/res/mipmap-hdpi/placeholder_image.png
diff --git a/samples/Scrumptious/res/drawable-mdpi/icon.png b/samples/Scrumptious/res/mipmap-mdpi/icon.png
similarity index 100%
rename from samples/Scrumptious/res/drawable-mdpi/icon.png
rename to samples/Scrumptious/res/mipmap-mdpi/icon.png
diff --git a/samples/Scrumptious/res/drawable-mdpi/logo.png b/samples/Scrumptious/res/mipmap-mdpi/logo.png
similarity index 100%
rename from samples/Scrumptious/res/drawable-mdpi/logo.png
rename to samples/Scrumptious/res/mipmap-mdpi/logo.png
diff --git a/samples/Scrumptious/res/drawable-mdpi/picker_magnifier.png b/samples/Scrumptious/res/mipmap-mdpi/picker_magnifier.png
similarity index 100%
rename from samples/Scrumptious/res/drawable-mdpi/picker_magnifier.png
rename to samples/Scrumptious/res/mipmap-mdpi/picker_magnifier.png
diff --git a/samples/Scrumptious/res/drawable-mdpi/placeholder_image.png b/samples/Scrumptious/res/mipmap-mdpi/placeholder_image.png
similarity index 100%
rename from samples/Scrumptious/res/drawable-mdpi/placeholder_image.png
rename to samples/Scrumptious/res/mipmap-mdpi/placeholder_image.png
diff --git a/samples/Scrumptious/res/drawable-xhdpi/icon.png b/samples/Scrumptious/res/mipmap-xhdpi/icon.png
similarity index 100%
rename from samples/Scrumptious/res/drawable-xhdpi/icon.png
rename to samples/Scrumptious/res/mipmap-xhdpi/icon.png
diff --git a/samples/Scrumptious/res/drawable-xhdpi/logo.png b/samples/Scrumptious/res/mipmap-xhdpi/logo.png
similarity index 100%
rename from samples/Scrumptious/res/drawable-xhdpi/logo.png
rename to samples/Scrumptious/res/mipmap-xhdpi/logo.png
diff --git a/samples/Scrumptious/res/drawable-xhdpi/picker_magnifier.png b/samples/Scrumptious/res/mipmap-xhdpi/picker_magnifier.png
similarity index 100%
rename from samples/Scrumptious/res/drawable-xhdpi/picker_magnifier.png
rename to samples/Scrumptious/res/mipmap-xhdpi/picker_magnifier.png
diff --git a/samples/Scrumptious/res/drawable-xhdpi/placeholder_image.png b/samples/Scrumptious/res/mipmap-xhdpi/placeholder_image.png
similarity index 100%
rename from samples/Scrumptious/res/drawable-xhdpi/placeholder_image.png
rename to samples/Scrumptious/res/mipmap-xhdpi/placeholder_image.png
diff --git a/samples/Scrumptious/src/com/example/scrumptious/MainActivity.java b/samples/Scrumptious/src/com/example/scrumptious/MainActivity.java
index 92e833d22..db4a01eee 100644
--- a/samples/Scrumptious/src/com/example/scrumptious/MainActivity.java
+++ b/samples/Scrumptious/src/com/example/scrumptious/MainActivity.java
@@ -29,7 +29,6 @@
 
 import com.facebook.AccessToken;
 import com.facebook.AccessTokenTracker;
-import com.facebook.appevents.AppEventsLogger;
 import com.facebook.CallbackManager;
 
 public class MainActivity extends Activity {
@@ -84,8 +83,8 @@ protected void onCurrentAccessTokenChanged(AccessToken oldAccessToken,
         fragments[SETTINGS] = fm.findFragmentById(R.id.userSettingsFragment);
 
         FragmentTransaction transaction = fm.beginTransaction();
-        for(int i = 0; i < fragments.length; i++) {
-            transaction.hide(fragments[i]);
+        for (Fragment fragment : fragments) {
+            transaction.hide(fragment);
         }
         transaction.commit();
 
diff --git a/samples/Scrumptious/src/com/example/scrumptious/PickerActivity.java b/samples/Scrumptious/src/com/example/scrumptious/PickerActivity.java
index 1d8a57bc6..e3917d491 100644
--- a/samples/Scrumptious/src/com/example/scrumptious/PickerActivity.java
+++ b/samples/Scrumptious/src/com/example/scrumptious/PickerActivity.java
@@ -77,7 +77,7 @@ public void onCreate(Bundle savedInstanceState) {
                 friendPickerFragment.setSettingsFromBundle(args);
                 friendPickerFragment.setFriendPickerType(FriendPickerFragment.FriendPickerType.TAGGABLE_FRIENDS);
             } else {
-                friendPickerFragment = (FriendPickerFragment) manager.findFragmentById(R.id.picker_fragment);;
+                friendPickerFragment = (FriendPickerFragment) manager.findFragmentById(R.id.picker_fragment);
             }
 
             friendPickerFragment.setOnErrorListener(new PickerFragment.OnErrorListener() {
diff --git a/samples/Scrumptious/src/com/example/scrumptious/SelectionFragment.java b/samples/Scrumptious/src/com/example/scrumptious/SelectionFragment.java
index bc3f54f0a..33cb524a8 100644
--- a/samples/Scrumptious/src/com/example/scrumptious/SelectionFragment.java
+++ b/samples/Scrumptious/src/com/example/scrumptious/SelectionFragment.java
@@ -36,6 +36,7 @@
 import android.os.Bundle;
 import android.os.Environment;
 import android.provider.MediaStore;
+import android.support.v4.content.ContextCompat;
 import android.util.Log;
 import android.util.Pair;
 import android.view.LayoutInflater;
@@ -314,7 +315,7 @@ private void enableButtons() {
     private void init(Bundle savedInstanceState) {
         disableButtons();
 
-        listElements = new ArrayList<BaseListElement>();
+        listElements = new ArrayList<>();
 
         listElements.add(new EatListElement(0));
         listElements.add(new LocationListElement(1));
@@ -559,7 +560,7 @@ private void startPickerActivity(Uri data, int requestCode) {
         private String foodChoice = null;
 
         public EatListElement(int requestCode) {
-            super(getActivity().getResources().getDrawable(R.drawable.add_food),
+            super(ContextCompat.getDrawable(getActivity(),R.drawable.add_food),
                     getActivity().getResources().getString(R.string.action_eating),
                     null,
                     requestCode);
@@ -680,7 +681,7 @@ private void setFoodText() {
         private List<JSONObject> selectedUsers;
 
         public PeopleListElement(int requestCode) {
-            super(getActivity().getResources().getDrawable(R.drawable.add_friends),
+            super(ContextCompat.getDrawable(getActivity(),R.drawable.add_friends),
                     getActivity().getResources().getString(R.string.action_people),
                     null,
                     requestCode);
@@ -761,7 +762,7 @@ private void setUsersText() {
         private byte[] getByteArray(List<JSONObject> users) {
             // convert the list of GraphUsers to a list of String where each element is
             // the JSON representation of the GraphUser so it can be stored in a Bundle
-            List<String> usersAsString = new ArrayList<String>(users.size());
+            List<String> usersAsString = new ArrayList<>(users.size());
 
             for (JSONObject user : users) {
                 usersAsString.add(user.toString());
@@ -783,7 +784,7 @@ private void setUsersText() {
                         (List<String>) (new ObjectInputStream(
                                 new ByteArrayInputStream(bytes))).readObject();
                 if (usersAsString != null) {
-                    List<JSONObject> users = new ArrayList<JSONObject>(usersAsString.size());
+                    List<JSONObject> users = new ArrayList<>(usersAsString.size());
                     for (String user : usersAsString) {
                         users.add(new JSONObject(user));
                     }
@@ -806,7 +807,7 @@ private void setUsersText() {
         private JSONObject selectedPlace = null;
 
         public LocationListElement(int requestCode) {
-            super(getActivity().getResources().getDrawable(R.drawable.add_location),
+            super(ContextCompat.getDrawable(getActivity(),R.drawable.add_location),
                     getActivity().getResources().getString(R.string.action_location),
                     null,
                     requestCode);
@@ -884,13 +885,13 @@ private void setPlaceText() {
         private Uri tempUri = null;
 
         public PhotoListElement(int requestCode) {
-            super(getActivity().getResources().getDrawable(R.drawable.add_photo),
+            super(ContextCompat.getDrawable(getActivity(),R.drawable.add_photo),
                     getActivity().getResources().getString(R.string.action_photo),
                     null,
                     requestCode);
             photoUri = null;
             photoThumbnail.setImageDrawable(
-                    getActivity().getResources().getDrawable(R.drawable.placeholder_image));
+                    ContextCompat.getDrawable(getActivity(),R.drawable.placeholder_image));
             photoThumbnail.setOnClickListener(new View.OnClickListener() {
                 @Override
                 public void onClick(View v) {
diff --git a/samples/Scrumptious/src/com/example/scrumptious/picker/FriendPickerFragment.java b/samples/Scrumptious/src/com/example/scrumptious/picker/FriendPickerFragment.java
index bc47b6e3a..9b27bbf5e 100644
--- a/samples/Scrumptious/src/com/example/scrumptious/picker/FriendPickerFragment.java
+++ b/samples/Scrumptious/src/com/example/scrumptious/picker/FriendPickerFragment.java
@@ -85,7 +85,7 @@ String getRequestPath() {
     // default to Friends for backwards compatibility
     private FriendPickerType friendPickerType = FriendPickerType.FRIENDS;
 
-    private List<String> preSelectedFriendIds = new ArrayList<String>();
+    private List<String> preSelectedFriendIds = new ArrayList<>();
 
     /**
      * Default constructor. Creates a Fragment with all default properties.
@@ -168,7 +168,7 @@ public void setSelection(JSONObject... graphUsers) {
      * @param graphUsers list of friends as GraphUsers
      */
     public void setSelection(List<JSONObject> graphUsers) {
-        List<String> userIds = new ArrayList<String>();
+        List<String> userIds = new ArrayList<>();
         for(JSONObject graphUser: graphUsers) {
             String id = graphUser.optString("id");
             Validate.notNullOrEmpty(id, "id");
@@ -295,7 +295,7 @@ private GraphRequest createRequest(String userID, Set<String> extraFields) {
         GraphRequest request = GraphRequest.newGraphPathRequest(
                 accessToken, userID + friendPickerType.getRequestPath(), null);
 
-        Set<String> fields = new HashSet<String>(extraFields);
+        Set<String> fields = new HashSet<>(extraFields);
         String[] requiredFields = new String[]{
                 ID,
                 NAME
diff --git a/samples/Scrumptious/src/com/example/scrumptious/picker/GraphObjectAdapter.java b/samples/Scrumptious/src/com/example/scrumptious/picker/GraphObjectAdapter.java
index 235b4b6b6..f4d646144 100644
--- a/samples/Scrumptious/src/com/example/scrumptious/picker/GraphObjectAdapter.java
+++ b/samples/Scrumptious/src/com/example/scrumptious/picker/GraphObjectAdapter.java
@@ -51,11 +51,11 @@
     private static final String NAME = "name";
     private static final String PICTURE = "picture";
 
-    private final Map<String, ImageRequest> pendingRequests = new HashMap<String, ImageRequest>();
+    private final Map<String, ImageRequest> pendingRequests = new HashMap<>();
     private final LayoutInflater inflater;
-    private List<String> sectionKeys = new ArrayList<String>();
-    private Map<String, ArrayList<JSONObject>> graphObjectsBySection = new HashMap<String, ArrayList<JSONObject>>();
-    private Map<String, JSONObject> graphObjectsById = new HashMap<String, JSONObject>();
+    private List<String> sectionKeys = new ArrayList<>();
+    private Map<String, ArrayList<JSONObject>> graphObjectsBySection = new HashMap<>();
+    private Map<String, JSONObject> graphObjectsById = new HashMap<>();
     private boolean displaySections;
     private List<String> sortFields;
     private String groupByField;
@@ -65,12 +65,12 @@
     private DataNeededListener dataNeededListener;
     private GraphObjectCursor cursor;
     private Context context;
-    private Map<String, ImageResponse> prefetchedPictureCache = new HashMap<String, ImageResponse>();
-    private ArrayList<String> prefetchedProfilePictureIds = new ArrayList<String>();
+    private Map<String, ImageResponse> prefetchedPictureCache = new HashMap<>();
+    private ArrayList<String> prefetchedProfilePictureIds = new ArrayList<>();
     private OnErrorListener onErrorListener;
 
     public interface DataNeededListener {
-        public void onDataNeeded();
+        void onDataNeeded();
     }
 
     public interface OnErrorListener {
@@ -212,7 +212,7 @@ public void prioritizeViewRange(int firstVisibleItem, int lastVisibleItem, int p
         // fetch those items and store them in a small in-memory cache of bitmaps.
         int start = Math.max(0, firstVisibleItem - prefetchBuffer);
         int end = Math.min(lastVisibleItem + prefetchBuffer, getCount() - 1);
-        ArrayList<JSONObject> graphObjectsToPrefetchPicturesFor = new ArrayList<JSONObject>();
+        ArrayList<JSONObject> graphObjectsToPrefetchPicturesFor = new ArrayList<>();
         // Add the IDs before and after the visible range.
         for (int i = start; i < firstVisibleItem; ++i) {
             SectionAndItem sectionAndItem = getSectionAndItem(i);
@@ -442,9 +442,9 @@ private boolean shouldShowActivityCircleCell() {
     }
 
     private void rebuildSections() {
-        sectionKeys = new ArrayList<String>();
-        graphObjectsBySection = new HashMap<String, ArrayList<JSONObject>>();
-        graphObjectsById = new HashMap<String, JSONObject>();
+        sectionKeys = new ArrayList<>();
+        graphObjectsBySection = new HashMap<>();
+        graphObjectsById = new HashMap<>();
         displaySections = false;
 
         if (cursor == null || cursor.getCount() == 0) {
@@ -711,10 +711,10 @@ public int getSectionForPosition(int position) {
     }
 
     public List<JSONObject> getGraphObjectsById(Collection<String> ids) {
-        Set<String> idSet = new HashSet<String>();
+        Set<String> idSet = new HashSet<>();
         idSet.addAll(ids);
 
-        ArrayList<JSONObject> result = new ArrayList<JSONObject>(idSet.size());
+        ArrayList<JSONObject> result = new ArrayList<>(idSet.size());
         for (String id : idSet) {
             JSONObject graphObject = graphObjectsById.get(id);
             if (graphObject != null) {
diff --git a/samples/Scrumptious/src/com/example/scrumptious/picker/GraphObjectCursor.java b/samples/Scrumptious/src/com/example/scrumptious/picker/GraphObjectCursor.java
index 4a8ee404d..5839c6d2d 100644
--- a/samples/Scrumptious/src/com/example/scrumptious/picker/GraphObjectCursor.java
+++ b/samples/Scrumptious/src/com/example/scrumptious/picker/GraphObjectCursor.java
@@ -30,7 +30,7 @@
 class GraphObjectCursor {
     private int pos = -1;
     private boolean closed = false;
-    private List<JSONObject> graphObjects = new ArrayList<JSONObject>();
+    private List<JSONObject> graphObjects = new ArrayList<>();
     private boolean moreObjectsAvailable = false;
 
     GraphObjectCursor() {
@@ -39,7 +39,7 @@
     GraphObjectCursor(GraphObjectCursor other) {
         pos = other.pos;
         closed = other.closed;
-        graphObjects = new ArrayList<JSONObject>();
+        graphObjects = new ArrayList<>();
         graphObjects.addAll(other.graphObjects);
 
         // We do not copy observers.
diff --git a/samples/Scrumptious/src/com/example/scrumptious/picker/GraphObjectPagingLoader.java b/samples/Scrumptious/src/com/example/scrumptious/picker/GraphObjectPagingLoader.java
index 01aa6304a..419b59aeb 100644
--- a/samples/Scrumptious/src/com/example/scrumptious/picker/GraphObjectPagingLoader.java
+++ b/samples/Scrumptious/src/com/example/scrumptious/picker/GraphObjectPagingLoader.java
@@ -36,7 +36,7 @@
     private boolean loading = false;
 
     public interface OnErrorListener {
-        public void onError(FacebookException error, GraphObjectPagingLoader loader);
+        void onError(FacebookException error, GraphObjectPagingLoader loader);
     }
 
     public GraphObjectPagingLoader(Context context) {
diff --git a/samples/Scrumptious/src/com/example/scrumptious/picker/PickerFragment.java b/samples/Scrumptious/src/com/example/scrumptious/picker/PickerFragment.java
index f2353a0d5..7d6ca5e66 100644
--- a/samples/Scrumptious/src/com/example/scrumptious/picker/PickerFragment.java
+++ b/samples/Scrumptious/src/com/example/scrumptious/picker/PickerFragment.java
@@ -97,7 +97,7 @@
     private boolean showPictures = true;
     private boolean showTitleBar = true;
     private ListView listView;
-    HashSet<String> extraFields = new HashSet<String>();
+    HashSet<String> extraFields = new HashSet<>();
     GraphObjectAdapter adapter;
     private LoadingStrategy loadingStrategy;
     private SelectionStrategy selectionStrategy;
@@ -381,7 +381,7 @@ public void setShowPictures(boolean showPictures) {
      * @return the extra fields to request
      */
     public Set<String> getExtraFields() {
-        return new HashSet<String>(extraFields);
+        return new HashSet<>(extraFields);
     }
 
     /**
@@ -390,7 +390,7 @@ public void setShowPictures(boolean showPictures) {
      * @param fields the extra fields to request
      */
     public void setExtraFields(Collection<String> fields) {
-        extraFields = new HashSet<String>();
+        extraFields = new HashSet<>();
         if (fields != null) {
             extraFields.addAll(fields);
         }
@@ -530,10 +530,7 @@ void setupViews(ViewGroup view) {
     }
 
     boolean filterIncludesItem(JSONObject graphObject) {
-        if (filter != null) {
-            return filter.includeItem(graphObject);
-        }
-        return true;
+        return filter == null || filter.includeItem(graphObject);
     }
 
     List<JSONObject> getSelectedGraphObjects() {
@@ -1006,7 +1003,7 @@ boolean shouldShowCheckBoxIfUnselected() {
     }
 
     class MultiSelectionStrategy extends SelectionStrategy {
-        private Set<String> selectedIds = new HashSet<String>();
+        private Set<String> selectedIds = new HashSet<>();
 
         public Collection<String> getSelectedIds() {
             return selectedIds;
diff --git a/samples/Scrumptious/src/com/example/scrumptious/picker/PlacePickerFragment.java b/samples/Scrumptious/src/com/example/scrumptious/picker/PlacePickerFragment.java
index ce9188d49..ddf9dc574 100644
--- a/samples/Scrumptious/src/com/example/scrumptious/picker/PlacePickerFragment.java
+++ b/samples/Scrumptious/src/com/example/scrumptious/picker/PlacePickerFragment.java
@@ -396,7 +396,7 @@ private GraphRequest createRequest(Location location, int radiusInMeters, int re
         GraphRequest request = GraphRequest.newPlacesSearchRequest(accessToken, location, radiusInMeters,
                 resultsLimit, searchText, null);
 
-        Set<String> fields = new HashSet<String>(extraFields);
+        Set<String> fields = new HashSet<>(extraFields);
         String[] requiredFields = new String[]{
                 ID,
                 NAME,
diff --git a/samples/Scrumptious/src/com/example/scrumptious/usersettings/UserSettingsFragment.java b/samples/Scrumptious/src/com/example/scrumptious/usersettings/UserSettingsFragment.java
index ce1db0857..bbe344e74 100644
--- a/samples/Scrumptious/src/com/example/scrumptious/usersettings/UserSettingsFragment.java
+++ b/samples/Scrumptious/src/com/example/scrumptious/usersettings/UserSettingsFragment.java
@@ -27,6 +27,7 @@
 import android.graphics.drawable.Drawable;
 import android.net.Uri;
 import android.os.Bundle;
+import android.support.v4.content.ContextCompat;
 import android.text.TextUtils;
 import android.view.LayoutInflater;
 import android.view.View;
@@ -107,7 +108,7 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,
         
         // if no background is set for some reason, then default to Facebook blue
         if (view.getBackground() == null) {
-            view.setBackgroundColor(getResources().getColor(R.color.com_facebook_blue));
+            view.setBackgroundColor(ContextCompat.getColor(getActivity(),R.color.com_facebook_blue));
         } else {
             view.getBackground().setDither(true);
         }
@@ -155,10 +156,10 @@ private void updateUI() {
             return;
         }
         if (AccessToken.getCurrentAccessToken() != null) {
-            connectedStateLabel.setTextColor(getResources().getColor(
+            connectedStateLabel.setTextColor(ContextCompat.getColor(getActivity(),
                     R.color.usersettings_fragment_connected_text_color));
             connectedStateLabel.setShadowLayer(1f, 0f, -1f,
-                    getResources().getColor(
+                    ContextCompat.getColor(getActivity(),
                             R.color.usersettings_fragment_connected_shadow_color));
             
             if (user != null) {
@@ -180,7 +181,7 @@ private void updateUI() {
             } else {
                 connectedStateLabel.setText(getResources().getString(
                         R.string.usersettings_fragment_logged_in));
-                Drawable noProfilePic = getResources().getDrawable(
+                Drawable noProfilePic = ContextCompat.getDrawable(getActivity(),
                         R.drawable.profile_default_icon);
                 noProfilePic.setBounds(0, 0,
                         getResources().getDimensionPixelSize(
@@ -190,7 +191,7 @@ private void updateUI() {
                 connectedStateLabel.setCompoundDrawables(null, noProfilePic, null, null);
             }
         } else {
-            int textColor = getResources().getColor(
+            int textColor = ContextCompat.getColor(getActivity(),
                     R.color.usersettings_fragment_not_connected_text_color);
             connectedStateLabel.setTextColor(textColor);
             connectedStateLabel.setShadowLayer(0f, 0f, 0f, textColor);
diff --git a/samples/ShareIt/AndroidManifest.xml b/samples/ShareIt/AndroidManifest.xml
index 697a3eaae..efb1edc9d 100644
--- a/samples/ShareIt/AndroidManifest.xml
+++ b/samples/ShareIt/AndroidManifest.xml
@@ -27,7 +27,7 @@
     <application
         android:name="com.example.shareit.ShareItApplication"
         android:allowBackup="true"
-        android:icon="@drawable/icon"
+        android:icon="@mipmap/icon"
         android:label="@string/app_name"
         android:theme="@style/AppTheme">
         <activity
diff --git a/samples/ShareIt/build.gradle b/samples/ShareIt/build.gradle
index 3288f92db..5e28ebcb6 100644
--- a/samples/ShareIt/build.gradle
+++ b/samples/ShareIt/build.gradle
@@ -1,7 +1,7 @@
 apply plugin: 'com.android.application'
 
 repositories {
-    mavenCentral()
+    jcenter()
 }
 
 dependencies {
@@ -9,7 +9,7 @@ dependencies {
     // In order to test a specific version published on maven, comment out the project compile
     // directive and and comment this line and update to the specific version.
     // compile 'com.facebook.android:facebook-android-sdk:4.0.1'
-    compile 'com.android.support:appcompat-v7:23+'
+    compile 'com.android.support:appcompat-v7:23.4.0'
 }
 
 android {
diff --git a/samples/ShareIt/res/drawable-hdpi/goofy.png b/samples/ShareIt/res/mipmap-hdpi/goofy.png
similarity index 100%
rename from samples/ShareIt/res/drawable-hdpi/goofy.png
rename to samples/ShareIt/res/mipmap-hdpi/goofy.png
diff --git a/samples/ShareIt/res/drawable-hdpi/icon.png b/samples/ShareIt/res/mipmap-hdpi/icon.png
similarity index 100%
rename from samples/ShareIt/res/drawable-hdpi/icon.png
rename to samples/ShareIt/res/mipmap-hdpi/icon.png
diff --git a/samples/ShareIt/res/drawable-hdpi/liking.png b/samples/ShareIt/res/mipmap-hdpi/liking.png
similarity index 100%
rename from samples/ShareIt/res/drawable-hdpi/liking.png
rename to samples/ShareIt/res/mipmap-hdpi/liking.png
diff --git a/samples/ShareIt/res/drawable-hdpi/viking.png b/samples/ShareIt/res/mipmap-hdpi/viking.png
similarity index 100%
rename from samples/ShareIt/res/drawable-hdpi/viking.png
rename to samples/ShareIt/res/mipmap-hdpi/viking.png
diff --git a/samples/ShareIt/res/drawable-mdpi/goofy.png b/samples/ShareIt/res/mipmap-mdpi/goofy.png
similarity index 100%
rename from samples/ShareIt/res/drawable-mdpi/goofy.png
rename to samples/ShareIt/res/mipmap-mdpi/goofy.png
diff --git a/samples/ShareIt/res/drawable-mdpi/icon.png b/samples/ShareIt/res/mipmap-mdpi/icon.png
similarity index 100%
rename from samples/ShareIt/res/drawable-mdpi/icon.png
rename to samples/ShareIt/res/mipmap-mdpi/icon.png
diff --git a/samples/ShareIt/res/drawable-mdpi/liking.png b/samples/ShareIt/res/mipmap-mdpi/liking.png
similarity index 100%
rename from samples/ShareIt/res/drawable-mdpi/liking.png
rename to samples/ShareIt/res/mipmap-mdpi/liking.png
diff --git a/samples/ShareIt/res/drawable-mdpi/viking.png b/samples/ShareIt/res/mipmap-mdpi/viking.png
similarity index 100%
rename from samples/ShareIt/res/drawable-mdpi/viking.png
rename to samples/ShareIt/res/mipmap-mdpi/viking.png
diff --git a/samples/ShareIt/res/drawable-xhdpi/goofy.png b/samples/ShareIt/res/mipmap-xhdpi/goofy.png
similarity index 100%
rename from samples/ShareIt/res/drawable-xhdpi/goofy.png
rename to samples/ShareIt/res/mipmap-xhdpi/goofy.png
diff --git a/samples/ShareIt/res/drawable-xhdpi/icon.png b/samples/ShareIt/res/mipmap-xhdpi/icon.png
similarity index 100%
rename from samples/ShareIt/res/drawable-xhdpi/icon.png
rename to samples/ShareIt/res/mipmap-xhdpi/icon.png
diff --git a/samples/ShareIt/res/drawable-xhdpi/liking.png b/samples/ShareIt/res/mipmap-xhdpi/liking.png
similarity index 100%
rename from samples/ShareIt/res/drawable-xhdpi/liking.png
rename to samples/ShareIt/res/mipmap-xhdpi/liking.png
diff --git a/samples/ShareIt/res/drawable-xhdpi/viking.png b/samples/ShareIt/res/mipmap-xhdpi/viking.png
similarity index 100%
rename from samples/ShareIt/res/drawable-xhdpi/viking.png
rename to samples/ShareIt/res/mipmap-xhdpi/viking.png
diff --git a/samples/ShareIt/src/com/example/shareit/MainActivity.java b/samples/ShareIt/src/com/example/shareit/MainActivity.java
index 00aa6ef7a..c03e934a7 100644
--- a/samples/ShareIt/src/com/example/shareit/MainActivity.java
+++ b/samples/ShareIt/src/com/example/shareit/MainActivity.java
@@ -24,12 +24,12 @@
 import android.os.Bundle;
 import android.support.v4.app.FragmentManager;
 import android.support.v4.view.MenuItemCompat;
-import android.support.v7.app.ActionBarActivity;
+import android.support.v7.app.AppCompatActivity;
 import android.view.Menu;
 import android.view.MenuItem;
 import android.support.v7.widget.ShareActionProvider;
 
-public class MainActivity extends ActionBarActivity {
+public class MainActivity extends AppCompatActivity {
     private ShareActionProvider mShareActionProvider;
     private ShareFragment mShareFragment;
 
diff --git a/samples/ShareIt/src/com/example/shareit/ShareFragment.java b/samples/ShareIt/src/com/example/shareit/ShareFragment.java
index c8be2417d..893ae5cf9 100644
--- a/samples/ShareIt/src/com/example/shareit/ShareFragment.java
+++ b/samples/ShareIt/src/com/example/shareit/ShareFragment.java
@@ -20,7 +20,6 @@
 
 package com.example.shareit;
 
-import android.app.Activity;
 import android.content.Intent;
 import android.os.Bundle;
 import android.support.v4.app.Fragment;
@@ -47,9 +46,9 @@
     // The resource to url mapping
     private static final ArrayList<Pair<Integer, String>> IMAGE_IDS =
             new ArrayList<Pair<Integer, String>>() {{
-                add(new Pair<>(R.drawable.goofy, "http://shareitexampleapp.parseapp.com/goofy/"));
-                add(new Pair<>(R.drawable.liking, "http://shareitexampleapp.parseapp.com/liking/"));
-                add(new Pair<>(R.drawable.viking, "http://shareitexampleapp.parseapp.com/viking/"));
+                add(new Pair<>(R.mipmap.goofy, "http://shareitexampleapp.parseapp.com/goofy/"));
+                add(new Pair<>(R.mipmap.liking, "http://shareitexampleapp.parseapp.com/liking/"));
+                add(new Pair<>(R.mipmap.viking, "http://shareitexampleapp.parseapp.com/viking/"));
             }};
 
     @Override
@@ -115,7 +114,7 @@ private void setupViewPage(View view) {
         final LikeView photoLike = (LikeView) view.findViewById(R.id.like_photo);
         photoLike.setFragment(this);
 
-        mViewPage.setOnPageChangeListener(new ViewPager.OnPageChangeListener() {
+        mViewPage.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {
             @Override
             public void onPageScrolled(
                     int position,
diff --git a/samples/ShareIt/src/com/example/shareit/ShareImageFragment.java b/samples/ShareIt/src/com/example/shareit/ShareImageFragment.java
index f7bddff09..5e018616b 100644
--- a/samples/ShareIt/src/com/example/shareit/ShareImageFragment.java
+++ b/samples/ShareIt/src/com/example/shareit/ShareImageFragment.java
@@ -22,6 +22,7 @@
 
 import android.os.Bundle;
 import android.support.v4.app.Fragment;
+import android.support.v4.content.ContextCompat;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
@@ -37,7 +38,7 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,
                 R.layout.image_slide_view, container, false);
         if (mImageId != 0) {
             ImageView image = (ImageView) rootView.findViewById(R.id.share_image);
-            image.setImageDrawable(getResources().getDrawable(mImageId));
+            image.setImageDrawable(ContextCompat.getDrawable(getActivity(),mImageId));
         }
 
         return rootView;
diff --git a/samples/SwitchUserSample/build.gradle b/samples/SwitchUserSample/build.gradle
index a34022f03..0ea04060b 100644
--- a/samples/SwitchUserSample/build.gradle
+++ b/samples/SwitchUserSample/build.gradle
@@ -2,7 +2,7 @@ apply plugin: 'com.android.application'
 
 dependencies {
     compile project(':facebook')
-    compile 'com.android.support:appcompat-v7:21.0.3'
+    compile 'com.android.support:appcompat-v7:23.4.0'
 }
 
 android {
diff --git a/samples/SwitchUserSample/res/menu/context_settings.xml b/samples/SwitchUserSample/res/menu/context_settings.xml
index 6ceb4bdf9..198f99649 100644
--- a/samples/SwitchUserSample/res/menu/context_settings.xml
+++ b/samples/SwitchUserSample/res/menu/context_settings.xml
@@ -23,7 +23,7 @@
     xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto">
     <item android:id="@+id/menu_item_clear_slot"
-          android:icon="@drawable/ic_action_discard"
+          android:icon="@mipmap/ic_action_discard"
           android:title="@string/menu_item_clear_slot"
           app:showAsAction="always" />
 </menu>
diff --git a/samples/SwitchUserSample/res/menu/options_profile.xml b/samples/SwitchUserSample/res/menu/options_profile.xml
index 04d4bca7a..0244bb35a 100644
--- a/samples/SwitchUserSample/res/menu/options_profile.xml
+++ b/samples/SwitchUserSample/res/menu/options_profile.xml
@@ -23,7 +23,7 @@
     xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto">
     <item
-            android:icon="@drawable/ic_action_settings"
+            android:icon="@mipmap/ic_action_settings"
             android:id="@+id/menu_item_switch"
             android:title="@string/menu_item_switch_user"
             app:showAsAction="always"/>
diff --git a/samples/SwitchUserSample/res/drawable-hdpi/ic_action_discard.png b/samples/SwitchUserSample/res/mipmap-hdpi/ic_action_discard.png
similarity index 100%
rename from samples/SwitchUserSample/res/drawable-hdpi/ic_action_discard.png
rename to samples/SwitchUserSample/res/mipmap-hdpi/ic_action_discard.png
diff --git a/samples/SwitchUserSample/res/drawable-hdpi/ic_action_settings.png b/samples/SwitchUserSample/res/mipmap-hdpi/ic_action_settings.png
similarity index 100%
rename from samples/SwitchUserSample/res/drawable-hdpi/ic_action_settings.png
rename to samples/SwitchUserSample/res/mipmap-hdpi/ic_action_settings.png
diff --git a/samples/SwitchUserSample/res/drawable-hdpi/icon.png b/samples/SwitchUserSample/res/mipmap-hdpi/icon.png
similarity index 100%
rename from samples/SwitchUserSample/res/drawable-hdpi/icon.png
rename to samples/SwitchUserSample/res/mipmap-hdpi/icon.png
diff --git a/samples/SwitchUserSample/res/drawable-mdpi/ic_action_discard.png b/samples/SwitchUserSample/res/mipmap-mdpi/ic_action_discard.png
similarity index 100%
rename from samples/SwitchUserSample/res/drawable-mdpi/ic_action_discard.png
rename to samples/SwitchUserSample/res/mipmap-mdpi/ic_action_discard.png
diff --git a/samples/SwitchUserSample/res/drawable-mdpi/ic_action_settings.png b/samples/SwitchUserSample/res/mipmap-mdpi/ic_action_settings.png
similarity index 100%
rename from samples/SwitchUserSample/res/drawable-mdpi/ic_action_settings.png
rename to samples/SwitchUserSample/res/mipmap-mdpi/ic_action_settings.png
diff --git a/samples/SwitchUserSample/res/drawable-mdpi/icon.png b/samples/SwitchUserSample/res/mipmap-mdpi/icon.png
similarity index 100%
rename from samples/SwitchUserSample/res/drawable-mdpi/icon.png
rename to samples/SwitchUserSample/res/mipmap-mdpi/icon.png
diff --git a/samples/SwitchUserSample/res/drawable-xhdpi/ic_action_discard.png b/samples/SwitchUserSample/res/mipmap-xhdpi/ic_action_discard.png
similarity index 100%
rename from samples/SwitchUserSample/res/drawable-xhdpi/ic_action_discard.png
rename to samples/SwitchUserSample/res/mipmap-xhdpi/ic_action_discard.png
diff --git a/samples/SwitchUserSample/res/drawable-xhdpi/ic_action_settings.png b/samples/SwitchUserSample/res/mipmap-xhdpi/ic_action_settings.png
similarity index 100%
rename from samples/SwitchUserSample/res/drawable-xhdpi/ic_action_settings.png
rename to samples/SwitchUserSample/res/mipmap-xhdpi/ic_action_settings.png
diff --git a/samples/SwitchUserSample/res/drawable-xhdpi/icon.png b/samples/SwitchUserSample/res/mipmap-xhdpi/icon.png
similarity index 100%
rename from samples/SwitchUserSample/res/drawable-xhdpi/icon.png
rename to samples/SwitchUserSample/res/mipmap-xhdpi/icon.png
diff --git a/samples/SwitchUserSample/src/com/example/switchuser/MainActivity.java b/samples/SwitchUserSample/src/com/example/switchuser/MainActivity.java
index 2a83f33d6..b2a035214 100644
--- a/samples/SwitchUserSample/src/com/example/switchuser/MainActivity.java
+++ b/samples/SwitchUserSample/src/com/example/switchuser/MainActivity.java
@@ -23,13 +23,10 @@
 import android.os.Bundle;
 import android.support.v4.app.FragmentManager;
 import android.support.v4.app.FragmentTransaction;
-import android.support.v7.app.ActionBarActivity;
+import android.support.v7.app.AppCompatActivity;
 import android.view.MenuItem;
 
-import com.facebook.*;
-import com.facebook.appevents.AppEventsLogger;
-
-public class MainActivity extends ActionBarActivity {
+public class MainActivity extends AppCompatActivity {
 
     private static final String SHOWING_SETTINGS_KEY = "Showing settings";
 
diff --git a/samples/SwitchUserSample/src/com/example/switchuser/SettingsFragment.java b/samples/SwitchUserSample/src/com/example/switchuser/SettingsFragment.java
index 84ebb9292..98c79a6e1 100644
--- a/samples/SwitchUserSample/src/com/example/switchuser/SettingsFragment.java
+++ b/samples/SwitchUserSample/src/com/example/switchuser/SettingsFragment.java
@@ -63,7 +63,7 @@ public void onCreate(Bundle savedInstanceState) {
                 savedInstanceState != null ?
                         savedInstanceState.getInt(CURRENT_SLOT_KEY, SlotManager.NO_SLOT) :
                         SlotManager.NO_SLOT);
-        ArrayList<Slot> slotList = new ArrayList<Slot>(
+        ArrayList<Slot> slotList = new ArrayList<>(
                 Arrays.asList(slotManager.getAllSlots()));
 
         Slot currentSlot = slotManager.getSelectedSlot();
