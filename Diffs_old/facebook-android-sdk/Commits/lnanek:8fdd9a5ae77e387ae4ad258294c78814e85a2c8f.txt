diff --git a/facebook/AndroidManifest.xml b/facebook/AndroidManifest.xml
old mode 100644
new mode 100755
diff --git a/facebook/default.properties b/facebook/default.properties
old mode 100644
new mode 100755
diff --git a/facebook/res/drawable-hdpi/facebook_icon.png b/facebook/res/drawable-hdpi/facebook_icon.png
old mode 100644
new mode 100755
diff --git a/facebook/res/drawable-ldpi/facebook_icon.png b/facebook/res/drawable-ldpi/facebook_icon.png
old mode 100644
new mode 100755
diff --git a/facebook/res/drawable/facebook_icon.png b/facebook/res/drawable/facebook_icon.png
old mode 100644
new mode 100755
diff --git a/facebook/src/com/facebook/android/AsyncFacebookRunner.java b/facebook/src/com/facebook/android/AsyncFacebookRunner.java
old mode 100644
new mode 100755
diff --git a/facebook/src/com/facebook/android/DialogError.java b/facebook/src/com/facebook/android/DialogError.java
old mode 100644
new mode 100755
diff --git a/facebook/src/com/facebook/android/Facebook.java b/facebook/src/com/facebook/android/Facebook.java
old mode 100644
new mode 100755
index e50fc112e..9014122fb
--- a/facebook/src/com/facebook/android/Facebook.java
+++ b/facebook/src/com/facebook/android/Facebook.java
@@ -600,15 +600,19 @@ public void dialog(Context context, String action, Bundle parameters,
             final DialogListener listener) {
 
         String endpoint = DIALOG_BASE_URL + action;
-        parameters.putString("display", "touch");
-        parameters.putString("redirect_uri", REDIRECT_URI);
 
         if (action.equals(LOGIN)) {
             parameters.putString("type", "user_agent");
             parameters.putString("client_id", mAppId);
+            parameters.putString("redirect_uri", REDIRECT_URI);
         } else {
+            // New end point was returning blank for stream.publish page.
+            endpoint = "https://www.facebook.com/connect/uiserver.php";
+            parameters.putString("method", action);
+            parameters.putString("next", REDIRECT_URI);
             parameters.putString("app_id", mAppId);
         }
+        parameters.putString("display", "touch");
 
         if (isSessionValid()) {
             parameters.putString(TOKEN, getAccessToken());
diff --git a/facebook/src/com/facebook/android/FacebookError.java b/facebook/src/com/facebook/android/FacebookError.java
old mode 100644
new mode 100755
diff --git a/facebook/src/com/facebook/android/FbDialog.java b/facebook/src/com/facebook/android/FbDialog.java
old mode 100644
new mode 100755
index 8d13ae462..a07524d7e
--- a/facebook/src/com/facebook/android/FbDialog.java
+++ b/facebook/src/com/facebook/android/FbDialog.java
@@ -121,8 +121,8 @@ private void setUpWebView() {
         //XXX Rotating to landscape on login screen put login button out of sight without ability to scroll to it. 
         // So scrollbars were enabled here. -Lance
         mWebView.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);
-        //mWebView.setVerticalScrollBarEnabled(false);
-        //mWebView.setHorizontalScrollBarEnabled(false);
+        mWebView.setVerticalScrollBarEnabled(true);
+        mWebView.setHorizontalScrollBarEnabled(true);
 
         mWebView.setWebViewClient(new FbDialog.FbWebViewClient());
         mWebView.getSettings().setJavaScriptEnabled(true);
@@ -148,6 +148,17 @@ protected void onStop() {
         @Override
         public boolean shouldOverrideUrlLoading(WebView view, String url) {
             Log.d("Facebook-WebView", "Redirect URL: " + url);
+            
+            // WebView isn't showing anything on the stream.publish page for some reason. So show in real browser.
+            /*
+            if ( url.contains("stream.publish") ) {
+                getContext().startActivity(
+                        new Intent(Intent.ACTION_VIEW, Uri.parse(url)));
+                DialogUtil.safeDismiss(FbDialog.this);
+                return true;
+            }
+             */            
+            
             if (url.startsWith(Facebook.REDIRECT_URI)) {
                 Bundle values = Util.parseUrl(url);
 
@@ -191,6 +202,21 @@ public void onReceivedError(WebView view, int errorCode,
         @Override
         public void onPageStarted(WebView view, String url, Bitmap favicon) {
             Log.d("Facebook-WebView", "Webview loading URL: " + url);
+                            
+            //url = url.replaceAll("display=touch", "display=wap");
+            
+            //Log.d("Facebook-WebView", "Webview loading URL: " + url);
+            
+            /*
+            // WebView isn't showing anything on the stream.publish page for some reason. So show in real browser.
+            if ( url.contains("stream.publish") ) {
+                getContext().startActivity(
+                        new Intent(Intent.ACTION_VIEW, Uri.parse(url)));
+                DialogUtil.safeDismiss(FbDialog.this);
+                return;
+            }
+            */
+            
             super.onPageStarted(view, url, favicon);
             DialogUtil.safeShow(mSpinner);
         }
diff --git a/facebook/src/com/facebook/android/Util.java b/facebook/src/com/facebook/android/Util.java
old mode 100644
new mode 100755
index cf5e97b96..6451d71b1
--- a/facebook/src/com/facebook/android/Util.java
+++ b/facebook/src/com/facebook/android/Util.java
@@ -72,6 +72,7 @@ public static String encodePostBody(Bundle parameters, String boundary) {
         return sb.toString();
     }
 
+    /* Replaced with old one to remove double encoding. -Lance
     public static String encodeUrl(Bundle parameters) {
         if (parameters == null) {
             return "";
@@ -86,7 +87,22 @@ public static String encodeUrl(Bundle parameters) {
         }
         return sb.toString();
     }
-
+    */
+    
+    public static String encodeUrl(Bundle parameters) {
+        if (parameters == null) {
+        	return "";
+        }
+        
+        StringBuilder sb = new StringBuilder();
+        boolean first = true;
+        for (String key : parameters.keySet()) {
+            if (first) first = false; else sb.append("&");
+            sb.append(key + "=" + parameters.getString(key));
+        }
+        return sb.toString();
+    }
+        
     public static Bundle decodeUrl(String s) {
         Bundle params = new Bundle();
         if (s != null) {
