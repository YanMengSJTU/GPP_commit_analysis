diff --git a/facebook/src/com/facebook/android/FbDialog.java b/facebook/src/com/facebook/android/FbDialog.java
index f6f959e16..6e3aaa5ee 100644
--- a/facebook/src/com/facebook/android/FbDialog.java
+++ b/facebook/src/com/facebook/android/FbDialog.java
@@ -19,6 +19,7 @@
 import android.app.Dialog;
 import android.app.ProgressDialog;
 import android.content.Context;
+import android.content.DialogInterface;
 import android.content.Intent;
 import android.content.res.Configuration;
 import android.graphics.Bitmap;
@@ -29,6 +30,7 @@
 import android.os.Bundle;
 import android.util.Log;
 import android.view.Display;
+import android.view.KeyEvent;
 import android.view.ViewGroup;
 import android.view.Window;
 import android.webkit.WebView;
@@ -71,6 +73,15 @@ protected void onCreate(Bundle savedInstanceState) {
         mSpinner = new ProgressDialog(getContext());
         mSpinner.requestWindowFeature(Window.FEATURE_NO_TITLE);
         mSpinner.setMessage("Loading...");
+        mSpinner.setOnCancelListener(new DialogInterface.OnCancelListener() {
+			
+			@Override
+			public void onCancel(DialogInterface dialog) {
+				 mWebView.stopLoading();
+				 mListener.onCancel();
+				 FbDialog.this.dismiss();				
+			}
+		});
 
         mContent = new LinearLayout(getContext());
         mContent.setOrientation(LinearLayout.VERTICAL);
@@ -90,10 +101,10 @@ protected void onCreate(Bundle savedInstanceState) {
     }
 
     private void setUpTitle() {
-        requestWindowFeature(Window.FEATURE_NO_TITLE);
+        requestWindowFeature(Window.FEATURE_NO_TITLE); 
         Drawable icon = getContext().getResources().getDrawable(
                 R.drawable.facebook_icon);
-        mTitle = new TextView(getContext());
+        mTitle = new TextView(getContext()); 
         mTitle.setText("Facebook");
         mTitle.setTextColor(Color.WHITE);
         mTitle.setTypeface(Typeface.DEFAULT_BOLD);
@@ -180,4 +191,15 @@ public void onPageFinished(WebView view, String url) {
         }
 
     }
+    
+    @Override
+    public boolean onKeyUp(int keyCode, KeyEvent event) {
+    	if (keyCode == KeyEvent.KEYCODE_BACK && event.getAction() == KeyEvent.ACTION_UP) {
+    		mWebView.stopLoading();
+    		dismiss();
+    		mListener.onCancel();
+    		return true;
+    	}
+    	return super.onKeyUp(keyCode, event);
+    }
 }
diff --git a/facebook/src/com/facebook/android/Util.java b/facebook/src/com/facebook/android/Util.java
index cf5e97b96..3d16c284f 100644
--- a/facebook/src/com/facebook/android/Util.java
+++ b/facebook/src/com/facebook/android/Util.java
@@ -89,7 +89,7 @@ public static String encodeUrl(Bundle parameters) {
 
     public static Bundle decodeUrl(String s) {
         Bundle params = new Bundle();
-        if (s != null) {
+        if (s != null && !s.equalsIgnoreCase("_")) {
             String array[] = s.split("&");
             for (String parameter : array) {
                 String v[] = parameter.split("=");
