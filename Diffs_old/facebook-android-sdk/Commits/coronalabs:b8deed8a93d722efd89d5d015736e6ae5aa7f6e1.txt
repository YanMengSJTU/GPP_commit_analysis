diff --git a/facebook/build.gradle b/facebook/build.gradle
index 90d99fb91..ff6143840 100644
--- a/facebook/build.gradle
+++ b/facebook/build.gradle
@@ -8,13 +8,14 @@ project.group = 'com.facebook.android'
 
 dependencies {
     // Facebook Dependencies
-    compile 'com.android.support:support-v4:23.4.0'
-    compile 'com.android.support:cardview-v7:23.4.0'
-    compile 'com.android.support:customtabs:23.4.0'
+    // For preparing the plugin, you'll need to add the jar files for these support libraries to the project.
+    compile 'com.android.support:support-v4:24.0.0'
+    compile 'com.android.support:cardview-v7:24.0.0'
+    compile 'com.android.support:customtabs:24.0.0'
     compile 'com.parse.bolts:bolts-android:1.4.0'
 
     // Unit Tests
-    testCompile 'com.android.support:appcompat-v7:23.4.0'
+    testCompile 'com.android.support:appcompat-v7:24.0.0'
 
     testCompile 'junit:junit:4.12'
     testCompile 'org.robolectric:robolectric:3.0'
diff --git a/facebook/src/main/java/com/facebook/FacebookSdkVersion.java b/facebook/src/main/java/com/facebook/FacebookSdkVersion.java
index 23bdfa2b5..bf2a0b0d3 100644
--- a/facebook/src/main/java/com/facebook/FacebookSdkVersion.java
+++ b/facebook/src/main/java/com/facebook/FacebookSdkVersion.java
@@ -21,5 +21,5 @@
 package com.facebook;
 
 final class FacebookSdkVersion {
-    public static final String BUILD = "4.12.0";
+    public static final String BUILD = "4.13.1";
 }
diff --git a/facebook/src/main/java/com/facebook/GraphResponse.java b/facebook/src/main/java/com/facebook/GraphResponse.java
index 9793e03b5..34868efb4 100644
--- a/facebook/src/main/java/com/facebook/GraphResponse.java
+++ b/facebook/src/main/java/com/facebook/GraphResponse.java
@@ -264,21 +264,11 @@ public String toString() {
                     "Response <Error>: %s",
                     facebookException);
             return constructErrorResponses(requests, connection, facebookException);
-        } catch (JSONException exception) {
-            Logger.log(
-                    LoggingBehavior.REQUESTS,
-                    RESPONSE_LOG_TAG,
-                    "Response <Error>: %s",
-                    exception);
-            return constructErrorResponses(requests, connection, new FacebookException(exception));
-        } catch (IOException exception) {
-            Logger.log(
-                    LoggingBehavior.REQUESTS,
-                    RESPONSE_LOG_TAG,
-                    "Response <Error>: %s",
-                    exception);
-            return constructErrorResponses(requests, connection, new FacebookException(exception));
-        } catch (SecurityException exception) {
+        } catch (Exception exception) {
+            // Note due to bugs various android devices some devices can throw a
+            // SecurityException or NoSuchAlgorithmException. Make sure to handle these
+            // exceptions here.
+
             Logger.log(
                     LoggingBehavior.REQUESTS,
                     RESPONSE_LOG_TAG,
diff --git a/facebook/src/main/java/com/facebook/appevents/AppEventCollection.java b/facebook/src/main/java/com/facebook/appevents/AppEventCollection.java
index 0acdf12fb..8e7aa5b46 100644
--- a/facebook/src/main/java/com/facebook/appevents/AppEventCollection.java
+++ b/facebook/src/main/java/com/facebook/appevents/AppEventCollection.java
@@ -22,6 +22,7 @@
 
 import android.content.Context;
 
+import com.facebook.FacebookSdk;
 import com.facebook.internal.AttributionIdentifiers;
 
 import java.util.HashMap;
@@ -76,7 +77,7 @@ private synchronized SessionEventsState getSessionEventsState(
             AccessTokenAppIdPair accessTokenAppId) {
         SessionEventsState eventsState = stateMap.get(accessTokenAppId);
         if (eventsState == null) {
-            Context context = AppEventsLogger.getApplicationContext();
+            Context context = FacebookSdk.getApplicationContext();
 
             // Retrieve attributionId, but we will only send it if attribution is supported for the
             // app.
diff --git a/facebook/src/main/java/com/facebook/appevents/AppEventQueue.java b/facebook/src/main/java/com/facebook/appevents/AppEventQueue.java
index 63bbe490a..690611996 100644
--- a/facebook/src/main/java/com/facebook/appevents/AppEventQueue.java
+++ b/facebook/src/main/java/com/facebook/appevents/AppEventQueue.java
@@ -146,7 +146,7 @@ static void flushAndWait(FlushReason reason) {
             intent.putExtra(
                     AppEventsLogger.APP_EVENTS_EXTRA_FLUSH_RESULT,
                     flushResults.result);
-            Context context = AppEventsLogger.getApplicationContext();
+            Context context = FacebookSdk.getApplicationContext();
             LocalBroadcastManager.getInstance(context).sendBroadcast(intent);
         }
     }
@@ -156,7 +156,7 @@ private static FlushStatistics sendEventsToServer(
             AppEventCollection appEventCollection) {
         FlushStatistics flushResults = new FlushStatistics();
 
-        Context context = AppEventsLogger.getApplicationContext();
+        Context context = FacebookSdk.getApplicationContext();
         boolean limitEventUsage = FacebookSdk.getLimitEventAndDataUsage(context);
 
         List<GraphRequest> requestsToExecute = new ArrayList<>();
@@ -222,7 +222,7 @@ private static GraphRequest buildRequestForSession(
 
         int numEvents = appEvents.populateRequest(
                 postRequest,
-                AppEventsLogger.getApplicationContext(),
+                FacebookSdk.getApplicationContext(),
                 fetchedAppSettings.supportsImplicitLogging(),
                 limitEventUsage);
 
diff --git a/facebook/src/main/java/com/facebook/appevents/AppEventStore.java b/facebook/src/main/java/com/facebook/appevents/AppEventStore.java
index 6d7c8df01..2a2988784 100644
--- a/facebook/src/main/java/com/facebook/appevents/AppEventStore.java
+++ b/facebook/src/main/java/com/facebook/appevents/AppEventStore.java
@@ -25,6 +25,7 @@
 import android.util.Log;
 
 import com.facebook.BuildConfig;
+import com.facebook.FacebookSdk;
 import com.facebook.internal.Utility;
 
 import junit.framework.Assert;
@@ -83,7 +84,7 @@ public static synchronized PersistedEvents readAndClearStore() {
         MovedClassObjectInputStream ois = null;
         HashMap<AccessTokenAppIdPair, List<AppEvent>> obj = null;
         PersistedEvents persistedEvents = null;
-        Context context = AppEventsLogger.getApplicationContext();
+        Context context = FacebookSdk.getApplicationContext();
         try {
             InputStream is = context.openFileInput(PERSISTED_EVENTS_FILENAME);
             ois = new MovedClassObjectInputStream(new BufferedInputStream(is));
@@ -92,7 +93,7 @@ public static synchronized PersistedEvents readAndClearStore() {
         } catch (FileNotFoundException e) {
             // Expected if we never persisted any events.
         } catch (Exception e) {
-            Log.w(TAG, "Got unexpected exception while reading events: " + e.toString());
+            Log.w(TAG, "Got unexpected exception while reading events: ", e);
         } finally {
             Utility.closeQuietly(ois);
 
@@ -108,9 +109,7 @@ public static synchronized PersistedEvents readAndClearStore() {
                     persistedEvents = new PersistedEvents(obj);
                 }
             } catch (Exception ex) {
-                Log.w(
-                        TAG,
-                        "Got unexpected exception when removing events file: " + ex.toString());
+                Log.w(TAG, "Got unexpected exception when removing events file: ", ex);
             }
         }
 
@@ -126,13 +125,13 @@ private static void saveEventsToDisk(
             PersistedEvents eventsToPersist) {
         ObjectOutputStream oos = null;
         try {
-            Context context = AppEventsLogger.getApplicationContext();
+            Context context = FacebookSdk.getApplicationContext();
             oos = new ObjectOutputStream(
                     new BufferedOutputStream(
                             context.openFileOutput(PERSISTED_EVENTS_FILENAME, 0)));
             oos.writeObject(eventsToPersist);
         } catch (Exception e) {
-            Log.w(TAG, "Got unexpected exception while persisting events: " + e.toString());
+            Log.w(TAG, "Got unexpected exception while persisting events: ", e);
         } finally {
             Utility.closeQuietly(oos);
         }
diff --git a/facebook/src/main/java/com/facebook/appevents/AppEventsLogger.java b/facebook/src/main/java/com/facebook/appevents/AppEventsLogger.java
index 61883a439..35e8fc945 100644
--- a/facebook/src/main/java/com/facebook/appevents/AppEventsLogger.java
+++ b/facebook/src/main/java/com/facebook/appevents/AppEventsLogger.java
@@ -195,7 +195,6 @@
 
     private static ScheduledThreadPoolExecutor backgroundExecutor;
     private static FlushBehavior flushBehavior = FlushBehavior.AUTO;
-    private static Context applicationContext;
     private static Object staticLock = new Object();
     private static String anonymousAppDeviceGUID;
     private static String sourceApplication;
@@ -235,6 +234,11 @@ public static void activateApp(Application application, String applicationId) {
             applicationId = FacebookSdk.getApplicationId();
         }
 
+        // activateApp supersedes publishInstall in the public API, so we need to explicitly invoke
+        // it, since the server can't reliably infer install state for all conditions of an app
+        // activate.
+        FacebookSdk.publishInstallAsync(application, applicationId);
+
         ActivityLifecycleTracker.startTracking(application, applicationId);
     }
 
@@ -371,7 +375,7 @@ public void run() {
 
     private void logAppSessionResumeEvent(long eventTime, String sourceApplicationInfo) {
         PersistedAppSessionInfo.onResume(
-                applicationContext,
+                FacebookSdk.getApplicationContext(),
                 accessTokenAppId,
                 this,
                 eventTime,
@@ -379,7 +383,11 @@ private void logAppSessionResumeEvent(long eventTime, String sourceApplicationIn
     }
 
     private void logAppSessionSuspendEvent(long eventTime) {
-        PersistedAppSessionInfo.onSuspend(applicationContext, accessTokenAppId, this, eventTime);
+        PersistedAppSessionInfo.onSuspend(
+                FacebookSdk.getApplicationContext(),
+                accessTokenAppId,
+                this,
+                eventTime);
     }
 
     /**
@@ -724,8 +732,18 @@ public String getApplicationId() {
      * Constructor is private, newLogger() methods should be used to build an instance.
      */
     private AppEventsLogger(Context context, String applicationId, AccessToken accessToken) {
-        Validate.notNull(context, "context");
-        this.contextName = Utility.getActivityName(context);
+        this(
+                Utility.getActivityName(context),
+                applicationId,
+                accessToken);
+    }
+
+    protected AppEventsLogger(
+            String activityName,
+            String applicationId,
+            AccessToken accessToken) {
+        Validate.sdkInitialized();
+        this.contextName = activityName;
 
         if (accessToken == null) {
             accessToken = AccessToken.getCurrentAccessToken();
@@ -739,18 +757,12 @@ private AppEventsLogger(Context context, String applicationId, AccessToken acces
         } else {
             // If no app ID passed, get it from the manifest:
             if (applicationId == null) {
-                applicationId = Utility.getMetadataApplicationId(context);
+                applicationId = Utility.getMetadataApplicationId(
+                        FacebookSdk.getApplicationContext());
             }
             accessTokenAppId = new AccessTokenAppIdPair(null, applicationId);
         }
 
-        synchronized (staticLock) {
-
-            if (applicationContext == null) {
-                applicationContext = context.getApplicationContext();
-            }
-        }
-
         initializeTimersIfNeeded();
     }
 
@@ -766,11 +778,10 @@ private static void initializeTimersIfNeeded() {
             @Override
             public void run() {
                 Set<String> applicationIds = new HashSet<>();
-                synchronized (staticLock) {
-                    for (AccessTokenAppIdPair accessTokenAppId : AppEventQueue.getKeySet()) {
-                        applicationIds.add(accessTokenAppId.getApplicationId());
-                    }
+                for (AccessTokenAppIdPair accessTokenAppId : AppEventQueue.getKeySet()) {
+                    applicationIds.add(accessTokenAppId.getApplicationId());
                 }
+
                 for (String applicationId : applicationIds) {
                     Utility.queryAppSettings(applicationId, true);
                 }
@@ -785,10 +796,6 @@ public void run() {
         );
     }
 
-    static Context getApplicationContext() {
-        return applicationContext;
-    }
-
     private void logEvent(
             String eventName,
             Double valueToSum,
@@ -802,7 +809,7 @@ private void logEvent(
                 parameters,
                 isImplicitlyLogged,
                 currentSessionId);
-        logEvent(applicationContext, event, accessTokenAppId);
+        logEvent(FacebookSdk.getApplicationContext(), event, accessTokenAppId);
     }
 
     private static void logEvent(final Context context,
@@ -964,7 +971,8 @@ public static String getAnonymousAppDeviceGUID(Context context) {
         private static final Runnable appSessionInfoFlushRunnable = new Runnable() {
             @Override
             public void run() {
-                PersistedAppSessionInfo.saveAppSessionInformation(applicationContext);
+                PersistedAppSessionInfo.saveAppSessionInformation(
+                        FacebookSdk.getApplicationContext());
             }
         };
 
diff --git a/facebook/src/main/java/com/facebook/appevents/internal/ActivityLifecycleTracker.java b/facebook/src/main/java/com/facebook/appevents/internal/ActivityLifecycleTracker.java
index 9c027ab13..a7a2e74b5 100644
--- a/facebook/src/main/java/com/facebook/appevents/internal/ActivityLifecycleTracker.java
+++ b/facebook/src/main/java/com/facebook/appevents/internal/ActivityLifecycleTracker.java
@@ -22,6 +22,7 @@
 
 import android.app.Activity;
 import android.app.Application;
+import android.content.Context;
 import android.os.Bundle;
 import android.os.Looper;
 import android.util.Log;
@@ -118,11 +119,15 @@ public static void onActivityCreated(final Activity activity) {
             @Override
             public void run() {
                 if (currentSession == null) {
+                    Context applicationContext = activity.getApplicationContext();
+                    String activityName = Utility.getActivityName(activity);
+
                     SessionInfo lastSession =
                             SessionInfo.getStoredSessionInfo();
                     if (lastSession != null) {
                         SessionLogger.logDeactivateApp(
-                                activity,
+                                applicationContext,
+                                activityName,
                                 lastSession,
                                 appId);
                     }
@@ -132,7 +137,8 @@ public void run() {
                             SourceApplicationInfo.Factory.create(activity);
                     currentSession.setSourceApplicationInfo(sourceApplicationInfo);
                     SessionLogger.logActivateApp(
-                            activity,
+                            applicationContext,
+                            activityName,
                             sourceApplicationInfo,
                             appId);
                 }
@@ -149,11 +155,14 @@ public static void onActivityResumed(final Activity activity) {
         Runnable handleActivityResume = new Runnable() {
             @Override
             public void run() {
-                activity.getCallingActivity();
+                Context applicationContext = activity.getApplicationContext();
+                String activityName = Utility.getActivityName(activity);
+
                 if (currentSession == null) {
                     currentSession = new SessionInfo(currentTime, null);
                     SessionLogger.logActivateApp(
-                            activity,
+                            applicationContext,
+                            activityName,
                             null,
                             appId);
                 } else if (currentSession.getSessionLastEventTime() != null) {
@@ -163,11 +172,13 @@ public void run() {
                         // We were suspended for a significant amount of time.
                         // Count this as a new session and log the old session
                         SessionLogger.logDeactivateApp(
-                                activity,
+                                applicationContext,
+                                activityName,
                                 currentSession,
                                 appId);
                         SessionLogger.logActivateApp(
-                                activity,
+                                applicationContext,
+                                activityName,
                                 null,
                                 appId);
                         currentSession = new SessionInfo(currentTime, null);
@@ -184,7 +195,7 @@ public void run() {
         singleThreadExecutor.execute(handleActivityResume);
     }
 
-    private static void onActivityPaused(final Activity activity) {
+    private static void onActivityPaused(Activity activity) {
         int count = foregroundActivityCount.decrementAndGet();
         if (count < 0) {
             // Our ref count can be off if a developer doesn't call activate
@@ -197,6 +208,10 @@ private static void onActivityPaused(final Activity activity) {
         cancelCurrentTask();
         final long currentTime = System.currentTimeMillis();
 
+        // Pull out this information now to avoid holding a reference to the activity
+        final Context applicationContext = activity.getApplicationContext();
+        final String activityName = Utility.getActivityName(activity);
+
         Runnable handleActivityPaused = new Runnable() {
             @Override
             public void run() {
@@ -216,12 +231,15 @@ public void run() {
                         public void run() {
                             if (foregroundActivityCount.get() <= 0) {
                                 SessionLogger.logDeactivateApp(
-                                        activity,
+                                        applicationContext,
+                                        activityName,
                                         currentSession,
                                         appId);
                                 SessionInfo.clearSavedSessionFromDisk();
                                 currentSession = null;
                             }
+
+                            currentFuture = null;
                         }
                     };
                     currentFuture = singleThreadExecutor.schedule(
diff --git a/facebook/src/main/java/com/facebook/appevents/internal/InternalAppEventsLogger.java b/facebook/src/main/java/com/facebook/appevents/internal/InternalAppEventsLogger.java
new file mode 100644
index 000000000..1ab9d0d67
--- /dev/null
+++ b/facebook/src/main/java/com/facebook/appevents/internal/InternalAppEventsLogger.java
@@ -0,0 +1,35 @@
+/**
+ * Copyright (c) 2014-present, Facebook, Inc. All rights reserved.
+ *
+ * You are hereby granted a non-exclusive, worldwide, royalty-free license to use,
+ * copy, modify, and distribute this software in source code or binary form for use
+ * in connection with the web services and APIs provided by Facebook.
+ *
+ * As with any software that integrates with the Facebook platform, your use of
+ * this software is subject to the Facebook Developer Principles and Policies
+ * [http://developers.facebook.com/policy/]. This copyright notice shall be
+ * included in all copies or substantial portions of the software.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
+ * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
+ * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
+ * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
+ * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
+ */
+
+package com.facebook.appevents.internal;
+
+import com.facebook.AccessToken;
+import com.facebook.appevents.AppEventsLogger;
+
+// This class extends the AppEventsLogger to be able to expose creating an app events logger
+// without passing in a context which is required when using AppEventsLogger.newLogger
+class InternalAppEventsLogger extends AppEventsLogger {
+    InternalAppEventsLogger(
+            String activityName,
+            String applicationId,
+            AccessToken accessToken) {
+        super(activityName, applicationId, accessToken);
+    }
+}
diff --git a/facebook/src/main/java/com/facebook/appevents/internal/SessionLogger.java b/facebook/src/main/java/com/facebook/appevents/internal/SessionLogger.java
index b0404c081..8b88f5527 100644
--- a/facebook/src/main/java/com/facebook/appevents/internal/SessionLogger.java
+++ b/facebook/src/main/java/com/facebook/appevents/internal/SessionLogger.java
@@ -21,6 +21,7 @@
 package com.facebook.appevents.internal;
 
 import android.app.Activity;
+import android.content.Context;
 import android.os.Bundle;
 import android.text.format.DateUtils;
 
@@ -29,6 +30,7 @@
 import com.facebook.appevents.AppEventsConstants;
 import com.facebook.appevents.AppEventsLogger;
 import com.facebook.internal.Logger;
+import com.facebook.internal.Utility;
 
 import java.util.Locale;
 
@@ -59,7 +61,8 @@
         };
 
     public static void logActivateApp(
-            Activity activity,
+            Context applicationContext,
+            String activityName,
             SourceApplicationInfo sourceApplicationInfo,
             String appId
     ) {
@@ -71,14 +74,16 @@ public static void logActivateApp(
         eventParams.putString(
                 AppEventsConstants.EVENT_PARAM_SOURCE_APPLICATION,
                 sourAppInfoStr);
-        AppEventsLogger.newLogger(
-                activity,
-                appId)
+        new InternalAppEventsLogger(
+                activityName,
+                appId,
+                null)
                 .logEvent(AppEventsConstants.EVENT_NAME_ACTIVATED_APP, eventParams);
     }
 
     public static void logDeactivateApp(
-            Activity activity,
+            Context applicationContext,
+            String activityName,
             SessionInfo sessionInfo,
             String appId) {
 
@@ -116,9 +121,10 @@ public static void logDeactivateApp(
         eventParams.putLong(Constants.LOG_TIME_APP_EVENT_KEY,
                 sessionInfo.getSessionLastEventTime() / 1000);
 
-        AppEventsLogger.newLogger(
-                activity,
-                appId)
+        new InternalAppEventsLogger(
+                activityName,
+                appId,
+                null)
                 .logEvent(
                     AppEventsConstants.EVENT_NAME_DEACTIVATED_APP,
                     (sessionLength / DateUtils.SECOND_IN_MILLIS),
diff --git a/facebook/src/main/java/com/facebook/internal/CustomTab.java b/facebook/src/main/java/com/facebook/internal/CustomTab.java
index 863f36f37..fab9b6ef2 100644
--- a/facebook/src/main/java/com/facebook/internal/CustomTab.java
+++ b/facebook/src/main/java/com/facebook/internal/CustomTab.java
@@ -28,7 +28,6 @@
 import android.support.customtabs.CustomTabsIntent;
 
 public class CustomTab {
-    private static final String CHROME_PACKAGE = "com.android.chrome";
 
     private Uri uri;
 
@@ -42,9 +41,9 @@ public CustomTab(String action, Bundle parameters) {
                 parameters);
     }
 
-    public void openCustomTab(Activity activity) {
+    public void openCustomTab(Activity activity, String packageName) {
         CustomTabsIntent customTabsIntent = new CustomTabsIntent.Builder().build();
-        customTabsIntent.intent.setPackage(CHROME_PACKAGE);
+        customTabsIntent.intent.setPackage(packageName);
         customTabsIntent.launchUrl(activity, uri);
     }
 }
diff --git a/facebook/src/main/java/com/facebook/internal/NativeProtocol.java b/facebook/src/main/java/com/facebook/internal/NativeProtocol.java
index 4800cf950..374075a18 100644
--- a/facebook/src/main/java/com/facebook/internal/NativeProtocol.java
+++ b/facebook/src/main/java/com/facebook/internal/NativeProtocol.java
@@ -264,14 +264,19 @@ public boolean validateSignature(Context context, String packageName) {
                 return false;
             }
 
+            // just in case
+            if (packageInfo.signatures == null || packageInfo.signatures.length <= 0) {
+                return false;
+            }
+
             for (Signature signature : packageInfo.signatures) {
                 String hashedSignature = Utility.sha1hash(signature.toByteArray());
-                if (validAppSignatureHashes.contains(hashedSignature)) {
-                    return true;
+                if (!validAppSignatureHashes.contains(hashedSignature)) {
+                    return false;
                 }
             }
 
-            return false;
+            return true;
         }
 
         public TreeSet<Integer> getAvailableVersions() {
diff --git a/facebook/src/main/java/com/facebook/internal/ServerProtocol.java b/facebook/src/main/java/com/facebook/internal/ServerProtocol.java
index 0aaf5f3c5..b7e8747b7 100644
--- a/facebook/src/main/java/com/facebook/internal/ServerProtocol.java
+++ b/facebook/src/main/java/com/facebook/internal/ServerProtocol.java
@@ -54,6 +54,7 @@
     public static final String DIALOG_PARAM_RESPONSE_TYPE = "response_type";
     public static final String DIALOG_PARAM_RETURN_SCOPES = "return_scopes";
     public static final String DIALOG_PARAM_SCOPE = "scope";
+    public static final String DIALOG_PARAM_SSO_DEVICE = "sso";
     public static final String DIALOG_PARAM_DEFAULT_AUDIENCE = "default_audience";
     public static final String DIALOG_PARAM_SDK_VERSION = "sdk";
     public static final String DIALOG_PARAM_STATE = "state";
diff --git a/facebook/src/main/java/com/facebook/login/CustomTabLoginMethodHandler.java b/facebook/src/main/java/com/facebook/login/CustomTabLoginMethodHandler.java
index 9cba702c8..ca1a354b6 100644
--- a/facebook/src/main/java/com/facebook/login/CustomTabLoginMethodHandler.java
+++ b/facebook/src/main/java/com/facebook/login/CustomTabLoginMethodHandler.java
@@ -24,6 +24,7 @@
 import android.content.Context;
 import android.content.Intent;
 import android.content.pm.ResolveInfo;
+import android.content.pm.ServiceInfo;
 import android.os.Bundle;
 import android.os.Parcel;
 import android.os.Parcelable;
@@ -38,15 +39,24 @@
 import org.json.JSONException;
 import org.json.JSONObject;
 
+import java.util.Arrays;
+import java.util.HashSet;
 import java.util.List;
+import java.util.Set;
 
 public class CustomTabLoginMethodHandler extends WebLoginMethodHandler {
     private static final String OAUTH_DIALOG = "oauth";
     private static final String CUSTOM_TABS_SERVICE_ACTION =
             "android.support.customtabs.action.CustomTabsService";
     private static final String CHROME_PACKAGE = "com.android.chrome";
+    private static final String[] CHROME_PACKAGES = {
+            "com.android.chrome",
+            "com.chrome.beta",
+            "com.chrome.dev",
+    };
 
     private CustomTab customTab;
+    private String currentPackage;
 
     CustomTabLoginMethodHandler(LoginClient loginClient) {
         super(loginClient);
@@ -62,6 +72,11 @@ AccessTokenSource getTokenSource() {
         return AccessTokenSource.CHROME_CUSTOM_TAB;
     }
 
+    @Override
+    protected String getSSODevice() {
+        return "chrome_custom_tab";
+    }
+
     @Override
     boolean tryAuthorize(final LoginClient.Request request) {
         if (!isCustomTabsAllowed()) {
@@ -74,7 +89,7 @@ boolean tryAuthorize(final LoginClient.Request request) {
 
         customTab = new CustomTab(OAUTH_DIALOG, parameters);
 
-        customTab.openCustomTab(activity);
+        customTab.openCustomTab(activity, getChromePackage());
 
         return true;
     }
@@ -89,24 +104,38 @@ protected void putChallengeParam(JSONObject param) throws JSONException {
 
     private boolean isCustomTabsAllowed() {
         return isCustomTabsEnabled()
-                && isChromeCustomTabsSupported(loginClient.getActivity())
+                && getChromePackage() != null
                 && Validate.hasCustomTabRedirectActivity(FacebookSdk.getApplicationContext());
     }
 
-    private boolean isChromeCustomTabsSupported(final Context context) {
-        Intent serviceIntent = new Intent(CUSTOM_TABS_SERVICE_ACTION);
-        serviceIntent.setPackage(CHROME_PACKAGE);
-        List<ResolveInfo> resolveInfos =
-                context.getPackageManager().queryIntentServices(serviceIntent, 0);
-        return !(resolveInfos == null || resolveInfos.isEmpty());
-    }
-
     private boolean isCustomTabsEnabled() {
         final String appId = Utility.getMetadataApplicationId(loginClient.getActivity());
         final Utility.FetchedAppSettings settings = Utility.getAppSettingsWithoutQuery(appId);
         return settings != null && settings.getCustomTabsEnabled();
     }
 
+    private String getChromePackage() {
+        if (currentPackage != null) {
+            return currentPackage;
+        }
+        Context context = loginClient.getActivity();
+        Intent serviceIntent = new Intent(CUSTOM_TABS_SERVICE_ACTION);
+        List<ResolveInfo> resolveInfos =
+                context.getPackageManager().queryIntentServices(serviceIntent, 0);
+        if (resolveInfos != null) {
+            Set<String> chromePackages = new HashSet<>(Arrays.asList(CHROME_PACKAGES));
+            for (ResolveInfo resolveInfo : resolveInfos) {
+                ServiceInfo serviceInfo = resolveInfo.serviceInfo;
+                if (serviceInfo != null && chromePackages.contains(serviceInfo.packageName)) {
+                    currentPackage = serviceInfo.packageName;
+                    return currentPackage;
+                }
+            }
+        }
+        return null;
+
+    }
+
     @Override
     public int describeContents() {
         return 0;
diff --git a/facebook/src/main/java/com/facebook/login/LoginBehavior.java b/facebook/src/main/java/com/facebook/login/LoginBehavior.java
index 78194d4f6..79900ee2c 100644
--- a/facebook/src/main/java/com/facebook/login/LoginBehavior.java
+++ b/facebook/src/main/java/com/facebook/login/LoginBehavior.java
@@ -28,37 +28,45 @@
      * Specifies that login should attempt login in using the Facebook App, and if that
      * does not work fall back to web dialog auth. This is the default behavior.
      */
-    NATIVE_WITH_FALLBACK(true, true, false),
+    NATIVE_WITH_FALLBACK(true, true, false, true),
 
     /**
      * Specifies that login should only attempt to login using the Facebook App.
      * If the Facebook App cannot be used then the login fails.
      */
-    NATIVE_ONLY(true, false, false),
+    NATIVE_ONLY(true, false, false, false),
 
     /**
      * Specifies that only the web dialog auth should be used.
      */
-    WEB_ONLY(false, true, false),
+    WEB_ONLY(false, true, false, true),
+
+    /**
+     * Specifies that only the web view dialog auth should be used.
+     */
+    WEB_VIEW_ONLY(false, true, false, false),
 
     /**
      * Specifies that device login authentication flow should be used.
      * Use it via ({@link com.facebook.login.widget.DeviceLoginButton DeviceLoginButton}
      * or ({@link com.facebook.login.DeviceLoginManager DeviceLoginManager} to authenticate.
      */
-    DEVICE_AUTH(false, false, true);
+    DEVICE_AUTH(false, false, true, false);
 
     private final boolean allowsKatanaAuth;
     private final boolean allowsWebViewAuth;
     private final boolean allowsDeviceAuth;
+    private final boolean allowsCustomTabAuth;
 
     private LoginBehavior(
             boolean allowsKatanaAuth,
             boolean allowsWebViewAuth,
-            boolean allowsDeviceAuth) {
+            boolean allowsDeviceAuth,
+            boolean allowsCustomTabAuth) {
         this.allowsKatanaAuth = allowsKatanaAuth;
         this.allowsWebViewAuth = allowsWebViewAuth;
         this.allowsDeviceAuth = allowsDeviceAuth;
+        this.allowsCustomTabAuth = allowsCustomTabAuth;
     }
 
     boolean allowsKatanaAuth() {
@@ -72,4 +80,8 @@ boolean allowsWebViewAuth() {
     boolean allowsDeviceAuth() {
         return allowsDeviceAuth;
     }
+
+    boolean allowsCustomTabAuth() {
+        return allowsCustomTabAuth;
+    }
 }
diff --git a/facebook/src/main/java/com/facebook/login/LoginClient.java b/facebook/src/main/java/com/facebook/login/LoginClient.java
index 347ebf086..d7ecf3a55 100644
--- a/facebook/src/main/java/com/facebook/login/LoginClient.java
+++ b/facebook/src/main/java/com/facebook/login/LoginClient.java
@@ -164,8 +164,11 @@ public boolean onActivityResult(int requestCode, int resultCode, Intent data) {
             handlers.add(new KatanaProxyLoginMethodHandler(this));
         }
 
-        if (behavior.allowsWebViewAuth()) {
+        if (behavior.allowsCustomTabAuth()) {
             handlers.add(new CustomTabLoginMethodHandler(this));
+        }
+
+        if (behavior.allowsWebViewAuth()) {
             handlers.add(new WebViewLoginMethodHandler(this));
         }
 
diff --git a/facebook/src/main/java/com/facebook/login/WebLoginMethodHandler.java b/facebook/src/main/java/com/facebook/login/WebLoginMethodHandler.java
index b820bd9a4..1aa098c76 100644
--- a/facebook/src/main/java/com/facebook/login/WebLoginMethodHandler.java
+++ b/facebook/src/main/java/com/facebook/login/WebLoginMethodHandler.java
@@ -61,6 +61,10 @@ private static final String getRedirectUri() {
 
     abstract AccessTokenSource getTokenSource();
 
+    protected String getSSODevice() {
+        return null;
+    }
+
     protected Bundle getParameters(final LoginClient.Request request) {
         Bundle parameters = new Bundle();
         if (!Utility.isNullOrEmpty(request.getPermissions())) {
@@ -111,6 +115,9 @@ protected Bundle addExtraParameters(Bundle parameters, final LoginClient.Request
         parameters.putString(
                 ServerProtocol.DIALOG_PARAM_AUTH_TYPE,
                 ServerProtocol.DIALOG_REREQUEST_AUTH_TYPE);
+        if (getSSODevice() != null) {
+            parameters.putString(ServerProtocol.DIALOG_PARAM_SSO_DEVICE, getSSODevice());
+        }
 
         return parameters;
     }
diff --git a/facebook/src/main/res/layout/com_facebook_device_auth_dialog_fragment.xml b/facebook/src/main/res/layout/com_facebook_device_auth_dialog_fragment.xml
index a90aab7b3..d90cce2a5 100644
--- a/facebook/src/main/res/layout/com_facebook_device_auth_dialog_fragment.xml
+++ b/facebook/src/main/res/layout/com_facebook_device_auth_dialog_fragment.xml
@@ -71,6 +71,8 @@
             android:id="@+id/com_facebook_device_auth_instructions"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
+            android:layout_marginEnd="16dp"
+            android:layout_marginStart="16dp"
             android:layout_marginTop="28dp"
             android:fontFamily="sans-serif-light"
             android:gravity="center_horizontal"
diff --git a/facebook/src/main/res/values-af/strings.xml b/facebook/src/main/res/values-af/strings.xml
index 0043107da..9994b3430 100644
--- a/facebook/src/main/res/values-af/strings.xml
+++ b/facebook/src/main/res/values-af/strings.xml
@@ -37,5 +37,5 @@
         prent.</string>
     <string name="com_facebook_share_button_text">Deel</string>
     <string name="com_facebook_send_button_text">Stuur</string>
-    <string name="com_facebook_device_auth_instructions">Besoek %@ op jou slimfoon of rekenaar en voer hierdie kode in:</string>
+    <string name="com_facebook_device_auth_instructions">Besoek &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; op jou slimfoon of rekenaar en voer hierdie kode in:</string>
 </resources>
diff --git a/facebook/src/main/res/values-ar/strings.xml b/facebook/src/main/res/values-ar/strings.xml
index d21abed0d..dd52785f1 100644
--- a/facebook/src/main/res/values-ar/strings.xml
+++ b/facebook/src/main/res/values-ar/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">حدث خطأ غير متوقع أثناء تنزيل صورة.</string>
     <string name="com_facebook_share_button_text">مشاركة</string>
     <string name="com_facebook_send_button_text">إرسال</string>
-    <string name="com_facebook_device_auth_instructions">زر %@ على هاتفك الذكي أو الكمبيوتر ثم أدخل هذا الرمز:</string>
+    <string name="com_facebook_device_auth_instructions">زر &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; على هاتفك الذكي أو الكمبيوتر ثم أدخل هذا الرمز:</string>
 </resources>
diff --git a/facebook/src/main/res/values-bn/strings.xml b/facebook/src/main/res/values-bn/strings.xml
index 26a70fc1e..0a546bf9f 100644
--- a/facebook/src/main/res/values-bn/strings.xml
+++ b/facebook/src/main/res/values-bn/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">একটি চিত্র ডাউনলোড করার সময়ে অপ্রত্যাশিত ত্রুটি দেখা দিচ্ছে৷</string>
     <string name="com_facebook_share_button_text">ভাগ করুন</string>
     <string name="com_facebook_send_button_text">পাঠান</string>
-    <string name="com_facebook_device_auth_instructions">আপনার কম্পিউটার বা স্মার্টফোন থেকে %@ এ যান এবং এই কোডটিকে প্রবেশ করান:</string>
+    <string name="com_facebook_device_auth_instructions">আপনার কম্পিউটার বা স্মার্টফোন থেকে &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; এ যান এবং এই কোডটিকে প্রবেশ করান:</string>
 </resources>
diff --git a/facebook/src/main/res/values-cs/strings.xml b/facebook/src/main/res/values-cs/strings.xml
index 45cd6c263..6d42db85d 100644
--- a/facebook/src/main/res/values-cs/strings.xml
+++ b/facebook/src/main/res/values-cs/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Při stahování obrázku došlo k nečekané chybě.</string>
     <string name="com_facebook_share_button_text">Sdílet</string>
     <string name="com_facebook_send_button_text">Odeslat</string>
-    <string name="com_facebook_device_auth_instructions">Přejděte ze smartphonu nebo počítače na %@ a zadejte tento kód:</string>
+    <string name="com_facebook_device_auth_instructions">Přejděte ze smartphonu nebo počítače na &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; a zadejte tento kód:</string>
 </resources>
diff --git a/facebook/src/main/res/values-da/strings.xml b/facebook/src/main/res/values-da/strings.xml
index 6e12894e4..18ce2f66e 100644
--- a/facebook/src/main/res/values-da/strings.xml
+++ b/facebook/src/main/res/values-da/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Der opstod en uventet fejl under download af et billede.</string>
     <string name="com_facebook_share_button_text">Del</string>
     <string name="com_facebook_send_button_text">Send</string>
-    <string name="com_facebook_device_auth_instructions">Gå til %@ på din smartphone eller computer, og indtast denne kode:</string>
+    <string name="com_facebook_device_auth_instructions">Gå til &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; på din smartphone eller computer, og indtast denne kode:</string>
 </resources>
diff --git a/facebook/src/main/res/values-de/strings.xml b/facebook/src/main/res/values-de/strings.xml
index ae0fa73e6..d18a7b36a 100644
--- a/facebook/src/main/res/values-de/strings.xml
+++ b/facebook/src/main/res/values-de/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Unerwarteter Fehler beim Herunterladen eines Bildes.</string>
     <string name="com_facebook_share_button_text">Teilen</string>
     <string name="com_facebook_send_button_text">Senden</string>
-    <string name="com_facebook_device_auth_instructions">Gehe über dein Smartphone oder deinen Computer zu %@ und gib diesen Code ein:</string>
+    <string name="com_facebook_device_auth_instructions">Gehe über dein Smartphone oder deinen Computer zu &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; und gib diesen Code ein:</string>
 </resources>
diff --git a/facebook/src/main/res/values-el/strings.xml b/facebook/src/main/res/values-el/strings.xml
index b771b4232..763ef0351 100644
--- a/facebook/src/main/res/values-el/strings.xml
+++ b/facebook/src/main/res/values-el/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Προέκυψε μη αναμενόμενο σφάλμα κατά τη λήψη μιας εικόνας.</string>
     <string name="com_facebook_share_button_text">Κοινοποίηση</string>
     <string name="com_facebook_send_button_text">Αποστολή</string>
-    <string name="com_facebook_device_auth_instructions">Επισκεφτείτε τον ιστότοπο %@ από το smartphone ή τον υπολογιστή σας και πληκτρολογήστε αυτόν τον κωδικό:</string>
+    <string name="com_facebook_device_auth_instructions">Επισκεφτείτε τον ιστότοπο &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; από το smartphone ή τον υπολογιστή σας και πληκτρολογήστε αυτόν τον κωδικό:</string>
 </resources>
diff --git a/facebook/src/main/res/values-es-rES/strings.xml b/facebook/src/main/res/values-es-rES/strings.xml
index a41aed815..6f16e91cf 100644
--- a/facebook/src/main/res/values-es-rES/strings.xml
+++ b/facebook/src/main/res/values-es-rES/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Error inesperado al descargar una imagen.</string>
     <string name="com_facebook_share_button_text">Compartir</string>
     <string name="com_facebook_send_button_text">Enviar</string>
-    <string name="com_facebook_device_auth_instructions">Visita %@ en tu smartphone o computadora e ingresa este código:</string>
+    <string name="com_facebook_device_auth_instructions">Visita &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; en tu smartphone o computadora e ingresa este código:</string>
 </resources>
diff --git a/facebook/src/main/res/values-es/strings.xml b/facebook/src/main/res/values-es/strings.xml
index 7dfbf4ab0..d542783f4 100644
--- a/facebook/src/main/res/values-es/strings.xml
+++ b/facebook/src/main/res/values-es/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Se produjo un error inesperado al descargar una imagen.</string>
     <string name="com_facebook_share_button_text">Compartir</string>
     <string name="com_facebook_send_button_text">Enviar</string>
-    <string name="com_facebook_device_auth_instructions">Visita %@ en tu smartphone u ordenador e introduce este código:</string>
+    <string name="com_facebook_device_auth_instructions">Visita &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; en tu smartphone u ordenador e introduce este código:</string>
 </resources>
diff --git a/facebook/src/main/res/values-fi/strings.xml b/facebook/src/main/res/values-fi/strings.xml
index 174a7761f..712ea7111 100644
--- a/facebook/src/main/res/values-fi/strings.xml
+++ b/facebook/src/main/res/values-fi/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Odottamaton virhe kuvan palvelimesta lataamisen aikana.</string>
     <string name="com_facebook_share_button_text">Jaa</string>
     <string name="com_facebook_send_button_text">Lähetä</string>
-    <string name="com_facebook_device_auth_instructions">Siirry osoitteeseen %@ älypuhelimella tai tietokoneella ja anna seuraava koodi:</string>
+    <string name="com_facebook_device_auth_instructions">Siirry osoitteeseen &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; älypuhelimella tai tietokoneella ja anna seuraava koodi:</string>
 </resources>
diff --git a/facebook/src/main/res/values-fr/strings.xml b/facebook/src/main/res/values-fr/strings.xml
index 5247f3cdf..6db1554e9 100644
--- a/facebook/src/main/res/values-fr/strings.xml
+++ b/facebook/src/main/res/values-fr/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Une erreur inattendue s’est produite au moment de télécharger une image.</string>
     <string name="com_facebook_share_button_text">Partager</string>
     <string name="com_facebook_send_button_text">Envoyer</string>
-    <string name="com_facebook_device_auth_instructions">Rendez-vous sur %@ sur votre smartphone ou votre ordinateur et entrez ce code :</string>
+    <string name="com_facebook_device_auth_instructions">Rendez-vous sur &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; sur votre smartphone ou votre ordinateur et entrez ce code :</string>
 </resources>
diff --git a/facebook/src/main/res/values-gu/strings.xml b/facebook/src/main/res/values-gu/strings.xml
index 32550142b..12d239c2d 100644
--- a/facebook/src/main/res/values-gu/strings.xml
+++ b/facebook/src/main/res/values-gu/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">છબી ડાઉનલોડ કરતી વખતે અનપેક્ષિત ભૂલ આવી.</string>
     <string name="com_facebook_share_button_text">શેર કરો</string>
     <string name="com_facebook_send_button_text">મોકલો</string>
-    <string name="com_facebook_device_auth_instructions">તમારા સ્માર્ટફોન અથવા કમ્પ્યુટર પર %@ ની મુલાકાત લો અને આ કોડ દાખલ કરો:</string>
+    <string name="com_facebook_device_auth_instructions">તમારા સ્માર્ટફોન અથવા કમ્પ્યુટર પર &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; ની મુલાકાત લો અને આ કોડ દાખલ કરો:</string>
 </resources>
diff --git a/facebook/src/main/res/values-hi/strings.xml b/facebook/src/main/res/values-hi/strings.xml
index 0088a75c6..7bd0b35b8 100644
--- a/facebook/src/main/res/values-hi/strings.xml
+++ b/facebook/src/main/res/values-hi/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">एक चित्र डाउनलोड करते समय अनपेक्षित गलती हुई.</string>
     <string name="com_facebook_share_button_text">साझा करें</string>
     <string name="com_facebook_send_button_text">भेजें</string>
-    <string name="com_facebook_device_auth_instructions">अपने स्मार्टफ़ोन या कंप्यूटर पर %@ पर जाएँ और यह कोड डालें:</string>
+    <string name="com_facebook_device_auth_instructions">अपने स्मार्टफ़ोन या कंप्यूटर पर &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; पर जाएँ और यह कोड डालें:</string>
 </resources>
diff --git a/facebook/src/main/res/values-hr/strings.xml b/facebook/src/main/res/values-hr/strings.xml
index 25d909b28..5f68d1345 100644
--- a/facebook/src/main/res/values-hr/strings.xml
+++ b/facebook/src/main/res/values-hr/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Prilikom preuzimanja slike došlo je do neočekivane pogreške.</string>
     <string name="com_facebook_share_button_text">Dijeli</string>
     <string name="com_facebook_send_button_text">Pošalji</string>
-    <string name="com_facebook_device_auth_instructions">Posjetite %@ na pametnom telefonu ili računalu i unesite ovaj kôd:</string>
+    <string name="com_facebook_device_auth_instructions">Posjetite &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; na pametnom telefonu ili računalu i unesite ovaj kôd:</string>
 </resources>
diff --git a/facebook/src/main/res/values-hu/strings.xml b/facebook/src/main/res/values-hu/strings.xml
index 35b1d0dfc..1aeee7076 100644
--- a/facebook/src/main/res/values-hu/strings.xml
+++ b/facebook/src/main/res/values-hu/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Váratlan hiba történt egy kép betöltése közben.</string>
     <string name="com_facebook_share_button_text">Megosztás</string>
     <string name="com_facebook_send_button_text">Küldés</string>
-    <string name="com_facebook_device_auth_instructions">Keresd fel a(z) %@ oldalt a telefonodról vagy számítógépről, és írd be a következő kódot:</string>
+    <string name="com_facebook_device_auth_instructions">Keresd fel a(z) &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; oldalt a telefonodról vagy számítógépről, és írd be a következő kódot:</string>
 </resources>
diff --git a/facebook/src/main/res/values-id/strings.xml b/facebook/src/main/res/values-id/strings.xml
index ba8d27bcc..115bb6c09 100644
--- a/facebook/src/main/res/values-id/strings.xml
+++ b/facebook/src/main/res/values-id/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Kesalahan yang tidak diharapkan saat mengunduh gambar.</string>
     <string name="com_facebook_share_button_text">Berbagi</string>
     <string name="com_facebook_send_button_text">Kirim</string>
-    <string name="com_facebook_device_auth_instructions">Buka %@ dari smartphone Anda atau komputer dan masukkan kode ini:</string>
+    <string name="com_facebook_device_auth_instructions">Buka &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; dari smartphone Anda atau komputer dan masukkan kode ini:</string>
 </resources>
diff --git a/facebook/src/main/res/values-it/strings.xml b/facebook/src/main/res/values-it/strings.xml
index 170fad349..a28cd2a6e 100644
--- a/facebook/src/main/res/values-it/strings.xml
+++ b/facebook/src/main/res/values-it/strings.xml
@@ -38,5 +38,5 @@
         caricamento di un\'immagine.</string>
     <string name="com_facebook_share_button_text">Condividi</string>
     <string name="com_facebook_send_button_text">Invia</string>
-    <string name="com_facebook_device_auth_instructions">Accedi a %@ nel tuo smartphone o computer e inserisci questo codice:</string>
+    <string name="com_facebook_device_auth_instructions">Accedi a &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; nel tuo smartphone o computer e inserisci questo codice:</string>
 </resources>
diff --git a/facebook/src/main/res/values-ja/strings.xml b/facebook/src/main/res/values-ja/strings.xml
index e9895e50e..1e41192d9 100644
--- a/facebook/src/main/res/values-ja/strings.xml
+++ b/facebook/src/main/res/values-ja/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">画像のダウンロード中に予期しないエラーが発生しました。</string>
     <string name="com_facebook_share_button_text">シェア</string>
     <string name="com_facebook_send_button_text">送信</string>
-    <string name="com_facebook_device_auth_instructions">スマートフォンまたはコンピュータから%@にアクセスし、次のコードを入力してください。</string>
+    <string name="com_facebook_device_auth_instructions">スマートフォンまたはコンピュータから&lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt;にアクセスし、次のコードを入力してください。</string>
 </resources>
diff --git a/facebook/src/main/res/values-kn/strings.xml b/facebook/src/main/res/values-kn/strings.xml
index e95d4b409..3aeaadd06 100644
--- a/facebook/src/main/res/values-kn/strings.xml
+++ b/facebook/src/main/res/values-kn/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">ಚಿತ್ರವನ್ನು ಡೌನ್‌ಲೋಡ್‌ ಮಾಡುವಾಗ ಅನಿರೀಕ್ಷಿತ ದೋಷ ಕಂಡುಬಂದಿದೆ.</string>
     <string name="com_facebook_share_button_text">ಹಂಚಿಕೊಳ್ಳಿ</string>
     <string name="com_facebook_send_button_text">ಕಳುಹಿಸಿ</string>
-    <string name="com_facebook_device_auth_instructions">ನಿಮ್ಮ ಸ್ಮಾರ್ಟ್‌ ಫೋನ್‌ ಅಥವಾ ಕಂಪ್ಯೂಟರ್‌ನಲ್ಲಿ %@ ಗೆ ಭೇಟಿ ನೀಡಿ ಮತ್ತು ಈ ಕೋಡ್‌ ಅನ್ನು ನಮೂದಿಸಿ:</string>
+    <string name="com_facebook_device_auth_instructions">ನಿಮ್ಮ ಸ್ಮಾರ್ಟ್‌ ಫೋನ್‌ ಅಥವಾ ಕಂಪ್ಯೂಟರ್‌ನಲ್ಲಿ &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; ಗೆ ಭೇಟಿ ನೀಡಿ ಮತ್ತು ಈ ಕೋಡ್‌ ಅನ್ನು ನಮೂದಿಸಿ:</string>
 </resources>
diff --git a/facebook/src/main/res/values-ko/strings.xml b/facebook/src/main/res/values-ko/strings.xml
index 293f0239a..4cf56e58f 100644
--- a/facebook/src/main/res/values-ko/strings.xml
+++ b/facebook/src/main/res/values-ko/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">이미지를 다운로드하는 중 예기치 않은 오류가 발생했습니다.</string>
     <string name="com_facebook_share_button_text">공유하기</string>
     <string name="com_facebook_send_button_text">보내기</string>
-    <string name="com_facebook_device_auth_instructions">스마트폰이나 컴퓨터에서 %@ 주소를 방문하여 다음 코드를 입력하세요.</string>
+    <string name="com_facebook_device_auth_instructions">스마트폰이나 컴퓨터에서 &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; 주소를 방문하여 다음 코드를 입력하세요.</string>
 </resources>
diff --git a/facebook/src/main/res/values-ml/strings.xml b/facebook/src/main/res/values-ml/strings.xml
index 5a304a369..ab5788b41 100644
--- a/facebook/src/main/res/values-ml/strings.xml
+++ b/facebook/src/main/res/values-ml/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">ചിത്രം ഡൗൺലോഡുചെയ്യുന്നതിൽ അപ്രതീക്ഷിത പിശക് സംഭവിച്ചു.</string>
     <string name="com_facebook_share_button_text">പങ്കിടുക</string>
     <string name="com_facebook_send_button_text">അയയ്‌ക്കുക</string>
-    <string name="com_facebook_device_auth_instructions">നിങ്ങളുടെ സ്‌മാർട്ട്ഫോണിലെ അല്ലെങ്കിൽ കമ്പ്യൂട്ടറിലെ %@ സന്ദർശിച്ച് ഇനിപ്പറയുന്ന കോഡ് നൽകുക:</string>
+    <string name="com_facebook_device_auth_instructions">നിങ്ങളുടെ സ്‌മാർട്ട്ഫോണിലെ അല്ലെങ്കിൽ കമ്പ്യൂട്ടറിലെ &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; സന്ദർശിച്ച് ഇനിപ്പറയുന്ന കോഡ് നൽകുക:</string>
 </resources>
diff --git a/facebook/src/main/res/values-mr/strings.xml b/facebook/src/main/res/values-mr/strings.xml
index 55383f985..10ecc97e4 100644
--- a/facebook/src/main/res/values-mr/strings.xml
+++ b/facebook/src/main/res/values-mr/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">प्रतिमा डाउनलोड करताना अनपेक्षित त्रुटी.</string>
     <string name="com_facebook_share_button_text">सामायिक करा</string>
     <string name="com_facebook_send_button_text">पाठवा</string>
-    <string name="com_facebook_device_auth_instructions">आपला स्‍मार्ट फोन किंवा संगणकावर %@ ला भेट द्या आणि हा कोड प्रविष्‍ट करा:</string>
+    <string name="com_facebook_device_auth_instructions">आपला स्‍मार्ट फोन किंवा संगणकावर &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; ला भेट द्या आणि हा कोड प्रविष्‍ट करा:</string>
 </resources>
diff --git a/facebook/src/main/res/values-nb/strings.xml b/facebook/src/main/res/values-nb/strings.xml
index e32f25ea7..86ec2c58f 100644
--- a/facebook/src/main/res/values-nb/strings.xml
+++ b/facebook/src/main/res/values-nb/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Det oppstod en uventet feil ved nedlasting av et bilde.</string>
     <string name="com_facebook_share_button_text">Del</string>
     <string name="com_facebook_send_button_text">Send</string>
-    <string name="com_facebook_device_auth_instructions">Gå til %@ på smarttelefonen eller datamaskinen din, og oppgi denne koden:</string>
+    <string name="com_facebook_device_auth_instructions">Gå til &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; på smarttelefonen eller datamaskinen din, og oppgi denne koden:</string>
 </resources>
diff --git a/facebook/src/main/res/values-nl/strings.xml b/facebook/src/main/res/values-nl/strings.xml
index 5bd975f03..4695792a1 100644
--- a/facebook/src/main/res/values-nl/strings.xml
+++ b/facebook/src/main/res/values-nl/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Onverwachte fout tijdens het downloaden van een afbeelding.</string>
     <string name="com_facebook_share_button_text">Delen</string>
     <string name="com_facebook_send_button_text">Verzenden</string>
-    <string name="com_facebook_device_auth_instructions">Ga op je smartphone of computer naar %@ en voer deze code in:</string>
+    <string name="com_facebook_device_auth_instructions">Ga op je smartphone of computer naar &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; en voer deze code in:</string>
 </resources>
diff --git a/facebook/src/main/res/values-pa/strings.xml b/facebook/src/main/res/values-pa/strings.xml
index ed15cdab4..2c8e186ce 100644
--- a/facebook/src/main/res/values-pa/strings.xml
+++ b/facebook/src/main/res/values-pa/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">ਕਿਸੇ ਤਸਵੀਰ ਨੂੰ ਡਾਉਨਲੋਡ ਕਰਨ ਵੇਲੇ ਅਗਿਆਤ ਤਰੁੱਟੀ ਹੋ ਗਈ।</string>
     <string name="com_facebook_share_button_text">ਸਾਂਝਾ ਕਰੋ</string>
     <string name="com_facebook_send_button_text">ਭੇਜੋ</string>
-    <string name="com_facebook_device_auth_instructions">ਆਪਣੇ ਸਮਾਰਟਫ਼ੋਨ ਜਾਂ ਕੰਪਿਊਟਰ \'ਤੇ %@ ਵਿੱਚ ਜਾਓ ਅਤੇ ਇਸ ਕੋਡ ਨੂੰ ਦਾਖ਼ਲ ਕਰੋ:</string>
+    <string name="com_facebook_device_auth_instructions">ਆਪਣੇ ਸਮਾਰਟਫ਼ੋਨ ਜਾਂ ਕੰਪਿਊਟਰ \'ਤੇ &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; ਵਿੱਚ ਜਾਓ ਅਤੇ ਇਸ ਕੋਡ ਨੂੰ ਦਾਖ਼ਲ ਕਰੋ:</string>
 </resources>
diff --git a/facebook/src/main/res/values-pl/strings.xml b/facebook/src/main/res/values-pl/strings.xml
index 5ee1ccbdf..92965e0a1 100644
--- a/facebook/src/main/res/values-pl/strings.xml
+++ b/facebook/src/main/res/values-pl/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Nieoczekiwany błąd podczas pobierania obrazu.</string>
     <string name="com_facebook_share_button_text">Udostępnij</string>
     <string name="com_facebook_send_button_text">Wyślij</string>
-    <string name="com_facebook_device_auth_instructions">Przejdź do %@ na smartfonie lub komputerze i wprowadź ten kod:</string>
+    <string name="com_facebook_device_auth_instructions">Przejdź do &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; na smartfonie lub komputerze i wprowadź ten kod:</string>
 </resources>
diff --git a/facebook/src/main/res/values-pt-rPT/strings.xml b/facebook/src/main/res/values-pt-rPT/strings.xml
index 99a240396..7ecd4538f 100644
--- a/facebook/src/main/res/values-pt-rPT/strings.xml
+++ b/facebook/src/main/res/values-pt-rPT/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Ocorreu um erro inesperado ao descarregar uma imagem.</string>
     <string name="com_facebook_share_button_text">Partilhar</string>
     <string name="com_facebook_send_button_text">Enviar</string>
-    <string name="com_facebook_device_auth_instructions">Visita %@ no teu smartphone ou computador e insere este código:</string>
+    <string name="com_facebook_device_auth_instructions">Visita &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; no teu smartphone ou computador e insere este código:</string>
 </resources>
diff --git a/facebook/src/main/res/values-pt/strings.xml b/facebook/src/main/res/values-pt/strings.xml
index 0c4c4902d..5c5372d2f 100644
--- a/facebook/src/main/res/values-pt/strings.xml
+++ b/facebook/src/main/res/values-pt/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Erro inesperado ao baixar uma imagem.</string>
     <string name="com_facebook_share_button_text">Compartilhar</string>
     <string name="com_facebook_send_button_text">Envio</string>
-    <string name="com_facebook_device_auth_instructions">Acesse %@ no seu smartphone ou computador e insira este código:</string>
+    <string name="com_facebook_device_auth_instructions">Acesse &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; no seu smartphone ou computador e insira este código:</string>
 </resources>
diff --git a/facebook/src/main/res/values-ru/strings.xml b/facebook/src/main/res/values-ru/strings.xml
index 9b979802c..8029cd41f 100644
--- a/facebook/src/main/res/values-ru/strings.xml
+++ b/facebook/src/main/res/values-ru/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">При загрузке изображения возникла неожиданная ошибка.</string>
     <string name="com_facebook_share_button_text">Поделиться</string>
     <string name="com_facebook_send_button_text">Отправить</string>
-    <string name="com_facebook_device_auth_instructions">Откройте «%@» на своем смартфофне или компьютере и введите этот код:</string>
+    <string name="com_facebook_device_auth_instructions">Откройте «&lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt;» на своем смартфофне или компьютере и введите этот код:</string>
 </resources>
diff --git a/facebook/src/main/res/values-sk/strings.xml b/facebook/src/main/res/values-sk/strings.xml
index 1924543a7..714146c1a 100644
--- a/facebook/src/main/res/values-sk/strings.xml
+++ b/facebook/src/main/res/values-sk/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Pri sťahovaní obrázka sa vyskytla neočakávaná chyba.</string>
     <string name="com_facebook_share_button_text">Zdieľať</string>
     <string name="com_facebook_send_button_text">Odoslať</string>
-    <string name="com_facebook_device_auth_instructions">Navštívte %@ v smartfóne alebo počítači a zadajte tento kód:</string>
+    <string name="com_facebook_device_auth_instructions">Navštívte &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; v smartfóne alebo počítači a zadajte tento kód:</string>
 </resources>
diff --git a/facebook/src/main/res/values-sv/strings.xml b/facebook/src/main/res/values-sv/strings.xml
index 2d83109bf..8ddafab1c 100644
--- a/facebook/src/main/res/values-sv/strings.xml
+++ b/facebook/src/main/res/values-sv/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Oväntat fel vid hämtning av en bild.</string>
     <string name="com_facebook_share_button_text">Dela</string>
     <string name="com_facebook_send_button_text">Skicka</string>
-    <string name="com_facebook_device_auth_instructions">Besök %@ på din smartphone eller dator och ange den här koden:</string>
+    <string name="com_facebook_device_auth_instructions">Besök &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; på din smartphone eller dator och ange den här koden:</string>
 </resources>
diff --git a/facebook/src/main/res/values-ta/strings.xml b/facebook/src/main/res/values-ta/strings.xml
index e15ba007d..0c54447d9 100644
--- a/facebook/src/main/res/values-ta/strings.xml
+++ b/facebook/src/main/res/values-ta/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">படத்தைப் பதிவிறக்கும் போது பிழை ஏற்பட்டது.</string>
     <string name="com_facebook_share_button_text">பகிர்</string>
     <string name="com_facebook_send_button_text">அனுப்பு</string>
-    <string name="com_facebook_device_auth_instructions">உங்கள் ஸ்மார்ட்ஃபோன் அல்லது கணினியில் %@ ஐப் பார்வையிட்டு, பின்வரும் குறியீட்டை உள்ளிடவும்:</string>
+    <string name="com_facebook_device_auth_instructions">உங்கள் ஸ்மார்ட்ஃபோன் அல்லது கணினியில் &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; ஐப் பார்வையிட்டு, பின்வரும் குறியீட்டை உள்ளிடவும்:</string>
 </resources>
diff --git a/facebook/src/main/res/values-te/strings.xml b/facebook/src/main/res/values-te/strings.xml
index d31dff43f..4c3266afc 100644
--- a/facebook/src/main/res/values-te/strings.xml
+++ b/facebook/src/main/res/values-te/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">చిత్రాన్ని డౌన్‌లోడ్ చేస్తున్నప్పుడు ఊహించని లోపం ఏర్పడింది.</string>
     <string name="com_facebook_share_button_text">భాగస్వామ్యం చేయండి</string>
     <string name="com_facebook_send_button_text">పంపు</string>
-    <string name="com_facebook_device_auth_instructions">మీ స్మార్ట్‌ఫోన్ లేదా కంప్యూటర్‌లో %@ సందర్శించి, ఈ కోడ్‌ను నమోదు చేయండి:</string>
+    <string name="com_facebook_device_auth_instructions">మీ స్మార్ట్‌ఫోన్ లేదా కంప్యూటర్‌లో &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; సందర్శించి, ఈ కోడ్‌ను నమోదు చేయండి:</string>
 </resources>
diff --git a/facebook/src/main/res/values-th/strings.xml b/facebook/src/main/res/values-th/strings.xml
index 3ae8b30fa..cee546de4 100644
--- a/facebook/src/main/res/values-th/strings.xml
+++ b/facebook/src/main/res/values-th/strings.xml
@@ -36,6 +36,6 @@
     <string name="com_facebook_image_download_unknown_error">เกิดข้อผิดพลาดที่ไม่คาดคิดขณะดาวน์โหลดรูปภาพ</string>
     <string name="com_facebook_share_button_text">แชร์</string>
     <string name="com_facebook_send_button_text">ส่ง</string>
-    <string name="com_facebook_device_auth_instructions">ไปที่ %@ ในสมาร์ทโฟนหรือคอมพิวเตอร์ของคุณ แล้วป้อนรหัสนี้:</string>
+    <string name="com_facebook_device_auth_instructions">ไปที่ &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; ในสมาร์ทโฟนหรือคอมพิวเตอร์ของคุณ แล้วป้อนรหัสนี้:</string>
 
 </resources>
diff --git a/facebook/src/main/res/values-tl/strings.xml b/facebook/src/main/res/values-tl/strings.xml
index 478329b39..729867b5c 100644
--- a/facebook/src/main/res/values-tl/strings.xml
+++ b/facebook/src/main/res/values-tl/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Hindi inaasahang error habang dina-download ang imahe.</string>
     <string name="com_facebook_share_button_text">Ibahagi</string>
     <string name="com_facebook_send_button_text">Ipadala</string>
-    <string name="com_facebook_device_auth_instructions">Puntahan ang %@ sa iyong smartphone o computer at ilagay ang code na ito:</string>
+    <string name="com_facebook_device_auth_instructions">Puntahan ang &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; sa iyong smartphone o computer at ilagay ang code na ito:</string>
 </resources>
diff --git a/facebook/src/main/res/values-tr/strings.xml b/facebook/src/main/res/values-tr/strings.xml
index 2aa1bdce9..47d67494c 100644
--- a/facebook/src/main/res/values-tr/strings.xml
+++ b/facebook/src/main/res/values-tr/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Görsel indirilirken beklenmeyen hata.</string>
     <string name="com_facebook_share_button_text">Paylaş</string>
     <string name="com_facebook_send_button_text">Gönder</string>
-    <string name="com_facebook_device_auth_instructions">Akıllı telefonunda veya bilgisayarında %@ adresine git ve bu kodu gir:</string>
+    <string name="com_facebook_device_auth_instructions">Akıllı telefonunda veya bilgisayarında &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; adresine git ve bu kodu gir:</string>
 </resources>
diff --git a/facebook/src/main/res/values-vi/strings.xml b/facebook/src/main/res/values-vi/strings.xml
index 35cedacae..9fcda0173 100644
--- a/facebook/src/main/res/values-vi/strings.xml
+++ b/facebook/src/main/res/values-vi/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">Lỗi bất ngờ khi tải ảnh xuống.</string>
     <string name="com_facebook_share_button_text">Chia sẻ</string>
     <string name="com_facebook_send_button_text">Gửi</string>
-    <string name="com_facebook_device_auth_instructions">Truy cập %@ trên điện thoại thông minh hoặc máy tính và nhập mã sau:</string>
+    <string name="com_facebook_device_auth_instructions">Truy cập &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; trên điện thoại thông minh hoặc máy tính và nhập mã sau:</string>
 </resources>
diff --git a/facebook/src/main/res/values-zh-rCN/strings.xml b/facebook/src/main/res/values-zh-rCN/strings.xml
index 708e677ab..57b984e4a 100644
--- a/facebook/src/main/res/values-zh-rCN/strings.xml
+++ b/facebook/src/main/res/values-zh-rCN/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">下载图片时出现意外错误。</string>
     <string name="com_facebook_share_button_text">分享</string>
     <string name="com_facebook_send_button_text">发送</string>
-    <string name="com_facebook_device_auth_instructions">请用智能手机或电脑访问 %@，然后输入验证码：</string>
+    <string name="com_facebook_device_auth_instructions">请用智能手机或电脑访问 &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt;，然后输入验证码：</string>
 </resources>
diff --git a/facebook/src/main/res/values-zh-rHK/strings.xml b/facebook/src/main/res/values-zh-rHK/strings.xml
index 857bbdd69..3a12cd231 100644
--- a/facebook/src/main/res/values-zh-rHK/strings.xml
+++ b/facebook/src/main/res/values-zh-rHK/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">下載圖像時發生預期外的錯誤。</string>
     <string name="com_facebook_share_button_text">分享</string>
     <string name="com_facebook_send_button_text">傳送</string>
-    <string name="com_facebook_device_auth_instructions">在智能手機或電腦前往 %@ 並輸入此代碼：</string>
+    <string name="com_facebook_device_auth_instructions">在智能手機或電腦前往 &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt; 並輸入此代碼：</string>
 </resources>
diff --git a/facebook/src/main/res/values-zh-rTW/strings.xml b/facebook/src/main/res/values-zh-rTW/strings.xml
index dc798ed98..cc496cd12 100644
--- a/facebook/src/main/res/values-zh-rTW/strings.xml
+++ b/facebook/src/main/res/values-zh-rTW/strings.xml
@@ -36,5 +36,5 @@
     <string name="com_facebook_image_download_unknown_error">下載圖像時發生非預期的錯誤。</string>
     <string name="com_facebook_share_button_text">分享</string>
     <string name="com_facebook_send_button_text">傳送</string>
-    <string name="com_facebook_device_auth_instructions">使用您的智慧型手機或電腦前往 %@，然後輸入此代碼：</string>
+    <string name="com_facebook_device_auth_instructions">使用您的智慧型手機或電腦前往 &lt;b&gt;facebook.com/device&lt;/b&gt;&lt;br /&gt;，然後輸入此代碼：</string>
 </resources>
diff --git a/facebook/src/test/java/com/facebook/login/CustomTabLoginMethodHandlerTest.java b/facebook/src/test/java/com/facebook/login/CustomTabLoginMethodHandlerTest.java
index 9c0a39969..2d9f23209 100644
--- a/facebook/src/test/java/com/facebook/login/CustomTabLoginMethodHandlerTest.java
+++ b/facebook/src/test/java/com/facebook/login/CustomTabLoginMethodHandlerTest.java
@@ -24,6 +24,7 @@
 import android.content.Intent;
 import android.content.pm.PackageManager;
 import android.content.pm.ResolveInfo;
+import android.content.pm.ServiceInfo;
 import android.os.Bundle;
 import android.support.v4.app.FragmentActivity;
 
@@ -35,6 +36,7 @@
 import com.facebook.internal.Utility;
 import com.facebook.internal.Validate;
 
+import org.junit.Before;
 import org.junit.Test;
 import org.mockito.ArgumentCaptor;
 import org.powermock.core.classloader.annotations.PrepareForTest;
@@ -66,6 +68,18 @@
 public class CustomTabLoginMethodHandlerTest extends LoginHandlerTestCase {
     private final static String SIGNED_REQUEST_STR = "ggarbage.eyJhbGdvcml0aG0iOiJITUFDSEEyNTYiLCJ"
             + "jb2RlIjoid2h5bm90IiwiaXNzdWVkX2F0IjoxNDIyNTAyMDkyLCJ1c2VyX2lkIjoiMTIzIn0";
+    private final static String CHROME_PACKAGE = "com.android.chrome";
+    private final static String DEV_PACKAGE = "com.chrome.dev";
+    private final static String BETA_PACKAGE = "com.chrome.beta";
+
+    private CustomTabLoginMethodHandler handler;
+    private LoginClient.Request request;
+
+    @Before
+    public void setUp() {
+        handler = new CustomTabLoginMethodHandler(mockLoginClient);
+        request = createRequest();
+    }
 
     @Test
     public void testCustomTabHandlesSuccess() {
@@ -74,11 +88,6 @@ public void testCustomTabHandlesSuccess() {
         bundle.putString("expires_in", String.format("%d", EXPIRES_IN_DELTA));
         bundle.putString("code", "Something else");
         bundle.putString("signed_request", SIGNED_REQUEST_STR);
-
-        final CustomTabLoginMethodHandler handler =
-                new CustomTabLoginMethodHandler(mockLoginClient);
-
-        final LoginClient.Request request = createRequest();
         handler.onComplete(request, bundle, null);
 
         final ArgumentCaptor<LoginClient.Result> resultArgumentCaptor =
@@ -98,10 +107,6 @@ public void testCustomTabHandlesSuccess() {
 
     @Test
     public void testCustomTabHandlesCancel() {
-        final CustomTabLoginMethodHandler handler =
-                new CustomTabLoginMethodHandler(mockLoginClient);
-
-        final LoginClient.Request request = createRequest();
         handler.onComplete(request, null, new FacebookOperationCanceledException());
 
         final ArgumentCaptor<LoginClient.Result> resultArgumentCaptor =
@@ -117,10 +122,6 @@ public void testCustomTabHandlesCancel() {
 
     @Test
     public void testCustomTabHandlesError() {
-        final CustomTabLoginMethodHandler handler =
-                new CustomTabLoginMethodHandler(mockLoginClient);
-
-        final LoginClient.Request request = createRequest();
         handler.onComplete(request, null, new FacebookException(ERROR_MESSAGE));
 
         final ArgumentCaptor<LoginClient.Result> resultArgumentCaptor =
@@ -137,13 +138,9 @@ public void testCustomTabHandlesError() {
 
     @Test
     public void testTryAuthorizeNeedsRedirectActivity() {
-        final CustomTabLoginMethodHandler handler =
-                new CustomTabLoginMethodHandler(mockLoginClient);
-        final LoginClient.Request request = createRequest();
-
         mockTryAuthorize();
 
-        mockChromeCustomTabsSupported(true);
+        mockChromeCustomTabsSupported(true, CHROME_PACKAGE);
         mockCustomTabsAllowed(true);
         mockCustomTabRedirectActivity(true);
         assertTrue(handler.tryAuthorize(request));
@@ -152,6 +149,46 @@ public void testTryAuthorizeNeedsRedirectActivity() {
         assertFalse(handler.tryAuthorize(request));
     }
 
+    @Test
+    public void testTryAuthorizeWithChromePackage() {
+        mockTryAuthorize();
+        mockCustomTabsAllowed(true);
+        mockCustomTabRedirectActivity(true);
+
+        mockChromeCustomTabsSupported(true, CHROME_PACKAGE);
+        assertTrue(handler.tryAuthorize(request));
+    }
+
+    @Test
+    public void testTryAuthorizeWithChromeBetaPackage() {
+        mockTryAuthorize();
+        mockCustomTabsAllowed(true);
+        mockCustomTabRedirectActivity(true);
+
+        mockChromeCustomTabsSupported(true, BETA_PACKAGE);
+        assertTrue(handler.tryAuthorize(request));
+    }
+
+    @Test
+    public void testTryAuthorizeWithChromeDevPackage() {
+        mockTryAuthorize();
+        mockCustomTabsAllowed(true);
+        mockCustomTabRedirectActivity(true);
+
+        mockChromeCustomTabsSupported(true, DEV_PACKAGE);
+        assertTrue(handler.tryAuthorize(request));
+    }
+
+    @Test
+    public void testTryAuthorizeWithoutChromePackage() {
+        mockTryAuthorize();
+        mockCustomTabsAllowed(true);
+        mockCustomTabRedirectActivity(true);
+
+        mockChromeCustomTabsSupported(true, "not.chrome.package");
+        assertFalse(handler.tryAuthorize(request));
+    }
+
     private void mockTryAuthorize() {
         mockStatic(FacebookSdk.class);
         when(FacebookSdk.isInitialized()).thenReturn(true);
@@ -159,10 +196,14 @@ private void mockTryAuthorize() {
         when(AccessToken.getCurrentAccessToken()).thenReturn(null);
     }
 
-    private void mockChromeCustomTabsSupported(final boolean supported) {
+    private void mockChromeCustomTabsSupported(final boolean supported, final String packageName) {
         final List<ResolveInfo> resolveInfos = new ArrayList<>();
+        ResolveInfo resolveInfo = new ResolveInfo();
+        ServiceInfo serviceInfo = new ServiceInfo();
+        serviceInfo.packageName = packageName;
+        resolveInfo.serviceInfo = serviceInfo;
         if (supported) {
-            resolveInfos.add(new ResolveInfo());
+            resolveInfos.add(resolveInfo);
         }
         final PackageManager packageManager = mock(PackageManager.class);
         when(packageManager.queryIntentServices(any(Intent.class), anyInt()))
diff --git a/facebook/src/test/java/com/facebook/login/LoginManagerTest.java b/facebook/src/test/java/com/facebook/login/LoginManagerTest.java
index 59f0a7d54..f029fe5b0 100644
--- a/facebook/src/test/java/com/facebook/login/LoginManagerTest.java
+++ b/facebook/src/test/java/com/facebook/login/LoginManagerTest.java
@@ -66,6 +66,7 @@
 import static org.mockito.Mockito.never;
 import static org.mockito.Mockito.times;
 import static org.mockito.Mockito.verify;
+import static org.mockito.Mockito.when;
 import static org.powermock.api.mockito.PowerMockito.*;
 
 @PrepareForTest({ FacebookSdk.class, AccessToken.class, Profile.class})
@@ -98,6 +99,7 @@ public void before() throws Exception {
         when(FacebookSdk.getApplicationContext()).thenReturn(mockApplicationContext);
         when(FacebookSdk.getExecutor()).thenReturn(threadExecutor);
         when(mockFragment.getActivity()).thenReturn(mockFragmentActivity);
+        when(mockActivity.getApplicationContext()).thenReturn(mockApplicationContext);
 
         // We use mocks rather than RobolectricPackageManager because it's simpler to not
         // have to specify Intents. Default to resolving all intents to something.
