diff --git a/.circleci/config.yml b/.circleci/config.yml
new file mode 100644
index 0000000000..0066dc8343
--- /dev/null
+++ b/.circleci/config.yml
@@ -0,0 +1,185 @@
+# iOS CircleCI 2.0 configuration file
+#
+# Check https://circleci.com/docs/2.0/ios-migrating-from-1-2/ for more details
+#
+version: 2
+jobs:
+
+  build:
+    working_directory: ~/code
+    docker:
+      - image: circleci/android:api-27-alpha
+    environment:
+      JVM_OPTS: -Xmx3200m
+    steps:
+      - checkout
+      - restore_cache:
+          key: jars-{{ checksum "build.gradle" }}-{{ checksum  "app/build.gradle" }}
+      - run:
+          name: Download Dependencies
+          command: bash gradlew androidDependencies
+      - run:
+          name: build the whole project
+          command: bash gradlew build -x test
+
+  unittest:
+    working_directory: ~/code
+    docker:
+      - image: circleci/android:api-27-alpha
+    resource_class: large
+    environment:
+      JVM_OPTS: -Xmx3200m
+
+    steps:
+      - checkout
+
+      - run:
+          name: run unit tests
+          command: |
+            python3 CircleciScripts/run_unittest.py test_results
+      - run:
+          name : check unit test result 
+          command : bash CircleciScripts/check_test_result.sh test_results
+          
+      - store_artifacts:
+          path: test_results
+
+
+  release_tag:
+    working_directory: ~/code
+    docker:
+      - image: circleci/android:api-27-alpha
+    environment:
+      JVM_OPTS: -Xmx3200m
+    stpes:
+      - checkout
+      - run:
+          name: install github-release
+          command: brew install github-release
+
+      - run:
+          name: release the tag
+          command: |
+            tagdescription=$(sed -n '/## '${CIRCLE_TAG}'/,/## [0-9]*\.[0-9]*\.[0-9]/p'  CHANGELOG.md | sed '1d' | sed '$d')
+            tagname="AWS SDK for Android "${CIRCLE_TAG}
+            github-release release -s ${GITHUB_TOKEN} -u ${CIRCLE_PROJECT_USERNAME} -r ${CIRCLE_PROJECT_REPONAME}  -t ${CIRCLE_TAG} -d "$tagdescription" -n "$tagname"         
+ 
+  release_javadoc:
+    docker:
+      - image: circleci/android:api-27-alpha
+    environment:
+      JVM_OPTS: -Xmx3200m     
+    steps:
+      - checkout   
+
+      - run:
+          name: generate documents
+          command: bash gradlew generateJavadocs
+
+      - run:
+          name: copy documents
+          command: |
+            git config --local user.name "${GITHUB_USER}"
+            git checkout  gh-pages
+            cp -R build/docs/javadoc/*   docs/reference/
+
+      - run:
+          name: checkin documents
+          command: |
+            git add docs/reference
+            git commit -m "Update document via CircleCI"
+            git push -q https://${GITHUB_TOKEN}@github.com/aws-amplify/aws-sdk-android.git  
+
+  release_maven:
+    working_directory: ~/code
+    docker:
+      - image: circleci/android:api-27-alpha
+    environment:
+      JVM_OPTS: -Xmx3200m
+    resource_class: large
+ 
+    steps:
+      - checkout
+      - restore_cache:
+          key: jars-{{ checksum "build.gradle" }}-{{ checksum  "build.gradle" }}
+
+      - run:
+          name: install aws cli
+          command: |
+            sudo pip install awscli
+      - run:
+          name: install android build tools
+          command: |
+            echo "${HOME}"
+            echo "$JAVA_HOME"
+            echo "$ANDROID_HOME"
+            echo "$PATH"          
+            ls  "$ANDROID_HOME"
+            ls  "$ANDROID_HOME/platforms/android-27"            
+            echo 'export ANDROID_PLATFORM="27"' >> $BASH_ENV
+            echo 'export ANDROID_BUILDTOOL_VERSION="27.0.1"' >> $BASH_ENV
+
+            echo "build-tools;$ANDROID_BUILDTOOL_VERSION" 
+
+            sdkmanager "platforms;android-21" "build-tools;27.0.1"  "extras;google;m2repository" "extras;android;m2repository"          
+                
+      - run:
+          name: download gpghome
+          command: |
+            aws s3 cp s3://gpghome-csun/gpghome.zip gpghome.zip
+            unzip -a gpghome.zip
+            echo "gpghome contents:"
+            ls gpghome
+
+      - run:
+         name: install maven
+         command: |
+          sudo apt-get install maven
+      - run:
+          name: Download Dependencies
+          command: bash gradlew androidDependencies
+
+      - run:
+          name: publish to maven
+          command: |
+            echo "${HOME}"
+            echo "$JAVA_HOME"
+            echo "$ANDROID_HOME"
+            echo "$M2_HOME"
+            bash CircleciScripts/maven-release.sh
+
+
+
+workflows:
+  version: 2
+  build_and_test:
+    jobs: 
+      - build:
+          filters:
+            branches:
+              ignore: /.*/
+      - unittest:
+          requires:
+            - build
+          filters:
+            branches:
+              ignore: /.*/
+
+  release_sdk:
+    jobs: 
+      - build:
+          filters:
+            branches:
+              ignore: /.*/
+            tags:
+              only: /^[0-9]+.[0-9]+.[0-9]+$/
+      - unittest:
+          requires:
+            - build            
+      - release_tag:
+          requires:
+            - unittest
+      - release_maven:    
+          requires:
+            - release_tag  
+        
diff --git a/.gitignore b/.gitignore
index 3bdf0e2c7f..6501f57c1f 100644
--- a/.gitignore
+++ b/.gitignore
@@ -65,3 +65,6 @@ fastlane/Preview.html
 fastlane/screenshots
 fastlane/test_output
 fastlane/readme.md
+
+# maven file
+target/
diff --git a/CircleciScripts/check_test_result.sh b/CircleciScripts/check_test_result.sh
new file mode 100644
index 0000000000..1d595570d4
--- /dev/null
+++ b/CircleciScripts/check_test_result.sh
@@ -0,0 +1,7 @@
+
+target="$1"
+
+if find $target -mindepth 1 -print -quit 2>/dev/null | grep -q .; then
+    echo "$target is not empty. There are test failures"
+    exit 1
+fi
diff --git a/CircleciScripts/functions.py b/CircleciScripts/functions.py
new file mode 100644
index 0000000000..3104f653c7
--- /dev/null
+++ b/CircleciScripts/functions.py
@@ -0,0 +1,62 @@
+import sys
+from subprocess import Popen, PIPE
+import subprocess
+import xml.etree.ElementTree as ET
+import os
+from datetime import datetime
+from enum import Enum
+from collections import namedtuple
+
+TestType  = namedtuple('TestType', ['value', 'testAction', 'displayString'])
+class TestTypes(Enum):
+    UnitTest = TestType(1, 'test', 'unit test')
+    integration = TestType(2, 'connectedAndroidTest', 'integration test')
+    @property
+    def displayString(self):
+        return self.value.displayString
+
+    @property
+    def testAction(self):
+        return self.value.testAction
+        
+
+def runcommand(command, timeout=0,pipein=None, pipeout =  None):
+    print("running command: ", command, "......")
+    process = Popen(command, shell=True, stdin=pipein, stdout = pipeout)
+    wait_times = 0 
+    while True:
+        try:
+            process.communicate(timeout = 10)
+        except subprocess.TimeoutExpired:        
+            #tell circleci I am still alive, don't kill me
+            if wait_times % 30 == 0 :
+                print(str(datetime.now())+ ": I am still alive")
+            # if time costed exceed timeout, quit
+            if timeout >0 and wait_times > timeout * 6 :
+                print(str(datetime.now())+ ": time out")
+                return 1
+            wait_times+=1 
+
+            continue
+        break
+    exit_code = process.wait()    
+    return exit_code
+
+
+def runtest(module, testtype, results):
+
+    
+    testcommand = "bash gradlew {0}:{1}".format(module, testtype.testAction)
+    print("Running {0} for {1} .......".format(testtype.displayString, module))   
+    exit_code = runcommand(testcommand)   
+    if exit_code != 0 :
+        desc = "{0}/{1}".format(results, module)
+        runcommand("mkdir {0} ".format(desc))
+        source = "{0}/build/reports/tests/*".format(module)
+        if runcommand("mv {0} {1}".format(source,desc)) != 0 :
+            return 1
+
+    return 0
+   # xcprettyoutput.close()
+
+
diff --git a/CircleciScripts/maven-release.sh b/CircleciScripts/maven-release.sh
new file mode 100644
index 0000000000..a13cd5516e
--- /dev/null
+++ b/CircleciScripts/maven-release.sh
@@ -0,0 +1,40 @@
+#!/bin/bash
+
+set -e
+export PATH=$JAVA_HOME/bin:$PATH
+export PATH=$ANDROID_HOME/tools:$PATH
+export PATH=$ANDROID_HOME/platform-tools:$PATH
+export PATH=$ANDROID_HOME:$PATH
+
+
+
+pom="pom.xml"
+settings="CircleciScripts/mvhome/settings.xml"
+localrepo="${HOME}/.m2" 
+skipRemoteStaging=${SkipRemoteStaging}
+autoReleaseAfterClose=${AutoReleaseAfterClose}
+gpg_homedir="${HOME}/code/gpghome"
+sonatype_username=${SonatypeUsername}
+sonatype_password=${SonatypePassword}
+gpg_keyname=${GpgKeyname}
+gpg_passphrase="${GpgPassphrase}"
+echo "gpg_passphrase:$gpg_passphrase"
+
+# Perm gen space is increased for maven command
+MAVEN_OPTS="-Xms1024m -Xmx2048m -XX:PermSize=512m -XX:MaxPermSize=1024m"
+
+mvn clean deploy -X -e -Ppublishing \
+    -f "$pom" \
+    --settings="CircleciScripts/mvnhome/settings.xml" \
+    -Dmaven.repo.local="$localrepo" \
+    -DperformRelease \
+    -DskipRemoteStaging=false \
+    -DautoReleaseAfterClose=false \
+    -Dsonatype.username="$sonatype_username" \
+    -Dsonatype.password="$sonatype_password" \
+    -Dgpg.homedir="$gpg_homedir" \
+    -Dgpg.keyname="$gpg_keyname" \
+    -Dgpg.passphrase="$gpg_passphrase" \
+    -DskipTests=true
+    
+
diff --git a/CircleciScripts/mvnhome/settings.xml b/CircleciScripts/mvnhome/settings.xml
new file mode 100644
index 0000000000..70e952b9e7
--- /dev/null
+++ b/CircleciScripts/mvnhome/settings.xml
@@ -0,0 +1,22 @@
+<settings xmlns="http://maven.apache.org/SETTINGS/1.0.0"
+  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+  xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0
+                      http://maven.apache.org/xsd/settings-1.0.0.xsd">
+  <servers>
+    <server>
+      <id>sonatype-nexus-staging</id>
+      <username>${sonatype.username}</username>
+      <password>${sonatype.password}</password>
+    </server>
+  </servers>
+
+  <profiles>
+    <profile>
+      <id>publishing</id>         
+      <properties>
+        <gpg.keyname>${gpg.keyname}</gpg.keyname>
+        <gpg.homedir>${gpg.homedir}</gpg.homedir>
+      </properties>
+    </profile>
+  </profiles>
+</settings>
diff --git a/CircleciScripts/run_unittest.py b/CircleciScripts/run_unittest.py
new file mode 100644
index 0000000000..316334cb11
--- /dev/null
+++ b/CircleciScripts/run_unittest.py
@@ -0,0 +1,21 @@
+from functions import runcommand
+from functions import runtest
+from functions import TestTypes
+import sys
+
+testmodules = [
+    "aws-android-sdk-sdb",
+    "aws-android-sdk-polly",
+    "aws-android-sdk-kinesis",
+    "aws-android-sdk-pinpoint",
+    "aws-android-sdk-ddb-mapper",
+    "aws-android-sdk-mobileanalytics",
+    "aws-android-sdk-core",
+    "aws-android-sdk-lambda",
+    "aws-android-sdk-s3"
+] 
+test_results = sys.argv[1]
+runcommand("mkdir {0}".format(test_results))
+for module in testmodules:
+	if runtest(module, TestTypes.UnitTest, test_results) != 0 :
+		exit(1)
diff --git a/aws-android-sdk-auth-core/pom.xml b/aws-android-sdk-auth-core/pom.xml
index d3f3fa80ee..86f21f39dc 100644
--- a/aws-android-sdk-auth-core/pom.xml
+++ b/aws-android-sdk-auth-core/pom.xml
@@ -49,8 +49,8 @@
         <extensions>true</extensions>
         <configuration>
           <sdk>
-            <platform>11</platform>
-            <buildTools>19.1.0</buildTools>
+            <platform>${env.ANDROID_PLATFORM}</platform>
+            <buildTools>${env.ANDROID_BUILDTOOL_VERSION}</buildTools>
           </sdk>
         </configuration>
       </plugin>
diff --git a/aws-android-sdk-auth-facebook/pom.xml b/aws-android-sdk-auth-facebook/pom.xml
index 800c053529..d7a52af3c5 100644
--- a/aws-android-sdk-auth-facebook/pom.xml
+++ b/aws-android-sdk-auth-facebook/pom.xml
@@ -80,8 +80,8 @@
         <extensions>true</extensions>
         <configuration>
           <sdk>
-            <platform>25</platform>
-            <buildTools>19.1.0</buildTools>
+            <platform>${env.ANDROID_PLATFORM}</platform>
+            <buildTools>${env.ANDROID_BUILDTOOL_VERSION}</buildTools>
           </sdk>
         </configuration>
       </plugin>
diff --git a/aws-android-sdk-auth-google/pom.xml b/aws-android-sdk-auth-google/pom.xml
index 7d9562133e..9a730c429e 100644
--- a/aws-android-sdk-auth-google/pom.xml
+++ b/aws-android-sdk-auth-google/pom.xml
@@ -77,8 +77,8 @@
         <extensions>true</extensions>
         <configuration>
           <sdk>
-            <platform>25</platform>
-            <buildTools>19.1.0</buildTools>
+            <platform>${env.ANDROID_PLATFORM}</platform>
+            <buildTools>${env.ANDROID_BUILDTOOL_VERSION}</buildTools>
           </sdk>
         </configuration>
       </plugin>
diff --git a/aws-android-sdk-auth-ui/pom.xml b/aws-android-sdk-auth-ui/pom.xml
index 3c99ac5c9a..ac3c2b88fa 100644
--- a/aws-android-sdk-auth-ui/pom.xml
+++ b/aws-android-sdk-auth-ui/pom.xml
@@ -84,8 +84,8 @@
         <extensions>true</extensions>
         <configuration>
           <sdk>
-            <platform>25</platform>
-            <buildTools>19.1.0</buildTools>
+            <platform>${env.ANDROID_PLATFORM}</platform>
+            <buildTools>${env.ANDROID_BUILDTOOL_VERSION}</buildTools>
           </sdk>
         </configuration>
       </plugin>
diff --git a/aws-android-sdk-auth-userpools/pom.xml b/aws-android-sdk-auth-userpools/pom.xml
index 7d1c04da63..e56da36a05 100644
--- a/aws-android-sdk-auth-userpools/pom.xml
+++ b/aws-android-sdk-auth-userpools/pom.xml
@@ -72,8 +72,8 @@
         <extensions>true</extensions>
         <configuration>
           <sdk>
-            <platform>25</platform>
-            <buildTools>19.1.0</buildTools>
+            <platform>${env.ANDROID_PLATFORM}</platform>
+            <buildTools>${env.ANDROID_BUILDTOOL_VERSION}</buildTools>
           </sdk>
         </configuration>
       </plugin>
diff --git a/aws-android-sdk-autoscaling/build.gradle b/aws-android-sdk-autoscaling/build.gradle
index 77c265925e..9415c6efd3 100644
--- a/aws-android-sdk-autoscaling/build.gradle
+++ b/aws-android-sdk-autoscaling/build.gradle
@@ -8,3 +8,8 @@ dependencies {
 
 sourceCompatibility = "1.7"
 targetCompatibility = "1.7"
+
+task myJavadocs11(type: Javadoc) {
+    source = sourceSets.main.allJava
+
+}
\ No newline at end of file
diff --git a/aws-android-sdk-cognitoauth/pom.xml b/aws-android-sdk-cognitoauth/pom.xml
index 7e128fb1a6..a6b749a1e5 100644
--- a/aws-android-sdk-cognitoauth/pom.xml
+++ b/aws-android-sdk-cognitoauth/pom.xml
@@ -60,15 +60,16 @@
   <build>
     <plugins>
       <plugin>
-                <groupId>com.simpligility.maven.plugins</groupId>
-                <artifactId>android-maven-plugin</artifactId>
-                <version>4.5.0</version>
-                <extensions>true</extensions>
-                <configuration>
-                    <sdk>
-                        <platform>15</platform>
-                    </sdk>
-                </configuration>
+          <groupId>com.simpligility.maven.plugins</groupId>
+          <artifactId>android-maven-plugin</artifactId>
+          <version>4.5.0</version>
+          <extensions>true</extensions>
+          <configuration>
+            <sdk>
+              <platform>${env.ANDROID_PLATFORM}</platform>
+              <buildTools>${env.ANDROID_BUILDTOOL_VERSION}</buildTools>
+            </sdk>
+          </configuration>
       </plugin>
       <plugin>
         <groupId>org.apache.maven.plugins</groupId>
diff --git a/aws-android-sdk-kinesisvideo/pom.xml b/aws-android-sdk-kinesisvideo/pom.xml
index dbd4db45bc..2a4673bf55 100644
--- a/aws-android-sdk-kinesisvideo/pom.xml
+++ b/aws-android-sdk-kinesisvideo/pom.xml
@@ -57,7 +57,7 @@
        <artifactId>android</artifactId>
        <version>5.0</version>
        <scope>system</scope>
-       <systemPath>${basedir}/../android-21-linux.jar</systemPath>
+       <systemPath>${env.ANDROID_HOME}/platforms/android-${env.ANDROID_PLATFORM}/android.jar</systemPath>
      </dependency>
 
     <dependency>
@@ -76,7 +76,8 @@
          <extensions>true</extensions>
          <configuration>
            <sdk>
-             <platform>21</platform>
+              <platform>${env.ANDROID_PLATFORM}</platform>
+              <buildTools>${env.ANDROID_BUILDTOOL_VERSION}</buildTools>
            </sdk>
            <nativeLibrariesDirectory>${project.basedir}/src/main/jni</nativeLibrariesDirectory>
          </configuration>
diff --git a/aws-android-sdk-lex/pom.xml b/aws-android-sdk-lex/pom.xml
index 76caf613b6..11a2ef9b62 100644
--- a/aws-android-sdk-lex/pom.xml
+++ b/aws-android-sdk-lex/pom.xml
@@ -69,7 +69,8 @@
                 <extensions>true</extensions>
                 <configuration>
                     <sdk>
-                        <platform>11</platform>
+                        <platform>${env.ANDROID_PLATFORM}</platform>
+                        <buildTools>${env.ANDROID_BUILDTOOL_VERSION}</buildTools>
                     </sdk>
                     <nativeLibrariesDirectory>${project.basedir}/src/main/jni</nativeLibrariesDirectory>
                 </configuration>
diff --git a/aws-android-sdk-mobile-client/pom.xml b/aws-android-sdk-mobile-client/pom.xml
index b8e111b6cf..ae8c9d0289 100644
--- a/aws-android-sdk-mobile-client/pom.xml
+++ b/aws-android-sdk-mobile-client/pom.xml
@@ -112,7 +112,8 @@
         <extensions>true</extensions>
         <configuration>
           <sdk>
-            <platform>25</platform>
+            <platform>${env.ANDROID_PLATFORM}</platform>
+            <buildTools>${env.ANDROID_BUILDTOOL_VERSION}</buildTools>
           </sdk>
         </configuration>
       </plugin>
diff --git a/aws-android-sdk-mobileanalytics/build.gradle b/aws-android-sdk-mobileanalytics/build.gradle
index d9f0a313ac..4e6c8dee52 100644
--- a/aws-android-sdk-mobileanalytics/build.gradle
+++ b/aws-android-sdk-mobileanalytics/build.gradle
@@ -14,3 +14,8 @@ dependencies {
 
 sourceCompatibility = "1.7"
 targetCompatibility = "1.7"
+
+task javadocs(type: Javadoc) {
+    exclude "**/amazonmobileanalytics/**"
+    exclude "**/mobileanalytics/**"
+}
\ No newline at end of file
diff --git a/aws-android-sdk-pinpoint/pom.xml b/aws-android-sdk-pinpoint/pom.xml
index bfc74f4c3d..03b4a953c5 100644
--- a/aws-android-sdk-pinpoint/pom.xml
+++ b/aws-android-sdk-pinpoint/pom.xml
@@ -69,7 +69,7 @@
             <artifactId>android</artifactId>
             <version>5.0</version>
             <scope>system</scope>
-            <systemPath>${basedir}/../android-21-linux.jar</systemPath>
+            <systemPath>${env.ANDROID_HOME}/platforms/android-21/android.jar</systemPath>
         </dependency>
     </dependencies>
 
diff --git a/aws-android-sdk-pinpoint/src/main/java/com/amazonaws/mobileconnectors/pinpoint/targeting/notification/NotificationClientBase.java b/aws-android-sdk-pinpoint/src/main/java/com/amazonaws/mobileconnectors/pinpoint/targeting/notification/NotificationClientBase.java
index 150d13eef1..f75c0e2b0a 100644
--- a/aws-android-sdk-pinpoint/src/main/java/com/amazonaws/mobileconnectors/pinpoint/targeting/notification/NotificationClientBase.java
+++ b/aws-android-sdk-pinpoint/src/main/java/com/amazonaws/mobileconnectors/pinpoint/targeting/notification/NotificationClientBase.java
@@ -298,9 +298,9 @@ private int getNotificationIconResourceId(
 
     private Notification createLegacyNotification(final int iconResId, final String title, final String contentText,
                                                   final PendingIntent contentIntent) {
-        final Notification notification = new Notification();
-        notification.icon = iconResId;
-        notification.setLatestEventInfo(this.pinpointContext.getApplicationContext(), title, contentText, contentIntent);
+            final Notification notification = new Notification();
+            notification.icon = iconResId;
+            notification.setLatestEventInfo(this.pinpointContext.getApplicationContext(), title, contentText, contentIntent);
         notification.contentIntent = contentIntent;
         return notification;
     }
diff --git a/build.gradle b/build.gradle
index 8c003e8947..64682b2ee2 100644
--- a/build.gradle
+++ b/build.gradle
@@ -24,6 +24,62 @@ allprojects {
     }
 }
 
+
+task generateJavadocs(type: Javadoc, description: 'Generate javadocs from all child projects as if it was a single project', group: 'Documentation') {
+    destinationDir = file("$buildDir/docs/javadoc")
+    title = "AWS SDK for Android Reference - $VERSION_NAME"
+    options.author true
+    options.links 'http://docs.spring.io/spring/docs/4.3.x/javadoc-api/', 'http://docs.oracle.com/javase/8/docs/api/', 'http://docs.spring.io/spring-ws/docs/2.3.0.RELEASE/api/', 'http://docs.spring.io/spring-security/site/docs/4.0.4.RELEASE/apidocs/'
+    options.addStringOption 'Xdoclint:none', '-quiet'
+
+
+
+
+    subprojects.each { proj ->
+        proj.evaluate()
+        proj.tasks.withType(Javadoc).each { javadocTask ->
+            source += javadocTask.source
+            classpath += javadocTask.classpath
+            excludes += javadocTask.excludes
+            includes += javadocTask.includes
+            println proj.name
+            println javadocTask.source.isEmpty()
+        }
+    }
+    options.group("Amazon S3", ["com.amazonaws.services.s3*", "com.amazonaws.mobileconnectors.s3*"]).
+            group("Amazon DynamoDB", ["com.amazonaws.services.dynamodb*", "com.amazonaws.mobileconnectors.dynamodbv2*"]).
+            group("Amazon Kinesis", ["com.amazonaws.mobileconnectors.kinesis*", "com.amazonaws.services.kinesis*", "com.amazonaws.services.kinesisfirehose*"]).
+            group("Amazon Pinpoint", ["com.amazonaws.mobileconnectors.pinpoint*", "com.amazonaws.services.pinpoint*"]).
+            group("AWS IoT", ["com.amazonaws.services.iot*", "com.amazonaws.mobileconnectors.iot*"]).
+            group("Amazon Cognito Auth", ["com.amazonaws.mobileconnectors.cognitoauth*"]).
+            group("Amazon Cognito Identity Provider", ["com.amazonaws.mobileconnectors.cognitoidentityprovider*"]).
+            group("AWS Lambda", ["com.amazonaws.services.lambda*", "com.amazonaws.mobileconnectors.lambdainvoker*", "com.amazonaws.mobileconnectors.util*"]).
+            group("Amazon API Gateway", ["com.amazonaws.mobileconnectors.apigateway*"]).
+            group("Amazon Kinesis Video", ["com.amazonaws.services.kinesisvideo*", "com.amazonaws.mobileconnectors.kinesisvideo*", "com.amazonaws.kinesisvideo*"]).
+            group("Amazon Kinesis Video Archived Media", ["com.amazonaws.services.kinesisvideoarchivedmedia*"]).
+            group("Amazon Lex", ["com.amazonaws.services.lex*", "com.amazonaws.mobileconnectors.lex*"]).
+            group("Amazon Polly", ["com.amazonaws.services.polly*"]).
+            group("AWS Key Management Service", ["com.amazonaws.services.kms*"]).
+            group("Amazon AutoScaling", ["com.amazonaws.services.autoscaling*"]).
+            group("Amazon CloudWatch", ["com.amazonaws.services.cloudwatch*"]).
+            group("Amazon Comprehend", ["com.amazonaws.services.comprehend*"]).
+            group("Amazon EC2", ["com.amazonaws.services.ec2*"]).
+            group("Amazon Elastic Load Balancing", ["com.amazonaws.services.elasticloadbalancing*"]).
+            group("Amazon Elastic Machine Learning Service", ["com.amazonaws.services.machinelearning*"]).
+            group("Amazon Rekognition", ["com.amazonaws.services.rekognition*"]).
+            group("Amazon SNS", ["com.amazonaws.services.sns*"]).
+            group("Amazon SQS", ["com.amazonaws.services.sqs*"]).
+            group("Amazon Simple Email Service", ["com.amazonaws.services.simpleemail*"]).
+            group("Amazon Cloud Watch Logs", ["com.amazonaws.services.logs*"]).
+            group("Amazon SimpleDB", ["com.amazonaws.services.simpledb*"]).
+            group("Amazon Transcribe", ["com.amazonaws.services.transcribe*"]).
+            group("Amazon Translate", ["com.amazonaws.services.translate*"]).
+            group("Common Runtime", ["com.amazonaws*"])
+
+}
+
+
+
 task clean(type: Delete) {
     delete rootProject.buildDir
 }
diff --git a/gradle/wrapper/gradle-wrapper.jar b/gradle/wrapper/gradle-wrapper.jar
new file mode 100644
index 0000000000..457aad0d98
Binary files /dev/null and b/gradle/wrapper/gradle-wrapper.jar differ
diff --git a/gradle/wrapper/gradle-wrapper.properties b/gradle/wrapper/gradle-wrapper.properties
index 976d355269..75b8c7c8c6 100644
--- a/gradle/wrapper/gradle-wrapper.properties
+++ b/gradle/wrapper/gradle-wrapper.properties
@@ -1,6 +1,5 @@
-#Mon May 07 13:58:09 PDT 2018
 distributionBase=GRADLE_USER_HOME
 distributionPath=wrapper/dists
+distributionUrl=https\://services.gradle.org/distributions/gradle-5.0-bin.zip
 zipStoreBase=GRADLE_USER_HOME
 zipStorePath=wrapper/dists
-distributionUrl=https\://services.gradle.org/distributions/gradle-4.4-all.zip
diff --git a/pom.xml b/pom.xml
index d5294421b5..c1beabbce5 100644
--- a/pom.xml
+++ b/pom.xml
@@ -107,6 +107,13 @@
             <forceJavacCompilerUse>true</forceJavacCompilerUse>
           </configuration>
         </plugin>
+        <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-surefire-plugin</artifactId>
+            <configuration>
+                <useSystemClassLoader>false</useSystemClassLoader>
+            </configuration>
+        </plugin>           
         <plugin>
           <groupId>org.apache.maven.plugins</groupId>
           <artifactId>maven-javadoc-plugin</artifactId>
@@ -151,6 +158,13 @@
                 </goals>
               </execution>
             </executions>
+            <configuration>
+              <!-- This is necessary for gpg to not try to use the pinentry programs -->
+              <gpgArguments>
+                  <arg>--pinentry-mode</arg>
+                  <arg>loopback</arg>
+              </gpgArguments>
+            </configuration>
           </plugin>
           <plugin>
             <groupId>org.sonatype.plugins</groupId>
