diff --git a/compiler/src/main/java/dagger/internal/codegen/ClassName.java b/compiler/src/main/java/dagger/internal/codegen/ClassName.java
index c3a58c110..a6bbde5e4 100644
--- a/compiler/src/main/java/dagger/internal/codegen/ClassName.java
+++ b/compiler/src/main/java/dagger/internal/codegen/ClassName.java
@@ -124,7 +124,7 @@ static ClassName fromTypeElement(TypeElement element) {
     while (current.getKind().isClass() || current.getKind().isInterface()) {
       checkArgument(ACCEPTABLE_NESTING_KINDS.contains(element.getNestingKind()));
       enclosingNames.add(current.getSimpleName().toString());
-      current = element.getEnclosingElement();
+      current = current.getEnclosingElement();
     }
     PackageElement packageElement = Util.getPackage(current);
     Collections.reverse(enclosingNames);
