diff --git a/compiler/src/main/java/dagger/internal/codegen/ComponentGenerator.java b/compiler/src/main/java/dagger/internal/codegen/ComponentGenerator.java
index 2297e9ac6..98a8c8c1e 100644
--- a/compiler/src/main/java/dagger/internal/codegen/ComponentGenerator.java
+++ b/compiler/src/main/java/dagger/internal/codegen/ComponentGenerator.java
@@ -59,7 +59,6 @@
 import javax.lang.model.element.Name;
 import javax.lang.model.element.TypeElement;
 import javax.lang.model.element.VariableElement;
-import javax.lang.model.util.Elements;
 
 import static com.google.common.base.CaseFormat.LOWER_CAMEL;
 import static dagger.internal.codegen.DependencyRequest.Kind.MEMBERS_INJECTOR;
@@ -84,12 +83,10 @@
  * @since 2.0
  */
 final class ComponentGenerator extends SourceFileGenerator<ComponentDescriptor> {
-  private final Elements elements;
   private final Key.Factory keyFactory;
 
-  ComponentGenerator(Filer filer, Elements elements, Key.Factory keyFactory) {
+  ComponentGenerator(Filer filer, Key.Factory keyFactory) {
     super(filer);
-    this.elements = elements;
     this.keyFactory = keyFactory;
   }
 
@@ -118,10 +115,7 @@ JavaWriter write(ClassName componentName, ComponentDescriptor input)  {
 
     JavaWriter writer = JavaWriter.inPackage(componentName.packageName());
     ClassWriter componentWriter = writer.addClass(componentName.simpleName());
-    if (elements.getTypeElement(Generated.class.getCanonicalName()) != null) {
-      componentWriter.annotate(Generated.class)
-          .setValue(ComponentProcessor.class.getCanonicalName());
-    }
+    componentWriter.annotate(Generated.class).setValue(ComponentProcessor.class.getCanonicalName());
     componentWriter.addModifiers(PUBLIC, FINAL);
     componentWriter.addImplementedType(componentDefinitionTypeName);
 
diff --git a/compiler/src/main/java/dagger/internal/codegen/ComponentProcessor.java b/compiler/src/main/java/dagger/internal/codegen/ComponentProcessor.java
index e18e5b121..a13950504 100644
--- a/compiler/src/main/java/dagger/internal/codegen/ComponentProcessor.java
+++ b/compiler/src/main/java/dagger/internal/codegen/ComponentProcessor.java
@@ -89,11 +89,11 @@ public synchronized void init(ProcessingEnvironment processingEnv) {
         new ComponentDescriptor.Factory(elements, types, injectBindingRegistry,
             provisionBindingFactory, dependencyRequestFactory);
 
-    FactoryGenerator factoryGenerator = new FactoryGenerator(filer, elements);
+    FactoryGenerator factoryGenerator = new FactoryGenerator(filer);
     MembersInjectorGenerator membersInjectorGenerator =
         new MembersInjectorGenerator(filer, elements, types);
     ComponentGenerator componentGenerator =
-        new ComponentGenerator(filer, elements, keyFactory);
+        new ComponentGenerator(filer, keyFactory);
 
     this.processingSteps = ImmutableList.<ProcessingStep>of(
         new InjectProcessingStep(
diff --git a/compiler/src/main/java/dagger/internal/codegen/FactoryGenerator.java b/compiler/src/main/java/dagger/internal/codegen/FactoryGenerator.java
index fa7273cd0..5c1f07e6a 100644
--- a/compiler/src/main/java/dagger/internal/codegen/FactoryGenerator.java
+++ b/compiler/src/main/java/dagger/internal/codegen/FactoryGenerator.java
@@ -39,7 +39,6 @@
 import javax.inject.Inject;
 import javax.inject.Provider;
 import javax.lang.model.element.Element;
-import javax.lang.model.util.Elements;
 
 import static dagger.internal.codegen.ProvisionBinding.Kind.PROVISION;
 import static dagger.internal.codegen.SourceFiles.factoryNameForProvisionBinding;
@@ -57,11 +56,8 @@
  * @since 2.0
  */
 final class FactoryGenerator extends SourceFileGenerator<ProvisionBinding> {
-  private final Elements elements;
-
-  FactoryGenerator(Filer filer, Elements elements) {
+  FactoryGenerator(Filer filer) {
     super(filer);
-    this.elements = elements;
   }
 
   @Override
@@ -86,10 +82,7 @@ JavaWriter write(ClassName generatedTypeName, ProvisionBinding binding) {
     JavaWriter writer = JavaWriter.inPackage(generatedTypeName.packageName());
 
     ClassWriter factoryWriter = writer.addClass(generatedTypeName.simpleName());
-    if (elements.getTypeElement(Generated.class.getCanonicalName()) != null) {
-      factoryWriter.annotate(Generated.class)
-          .setValue(ComponentProcessor.class.getCanonicalName());
-    }
+    factoryWriter.annotate(Generated.class).setValue(ComponentProcessor.class.getName());
     factoryWriter.addModifiers(PUBLIC, FINAL);
     factoryWriter.addImplementedType(ParameterizedTypeName.create(
         ClassName.fromClass(Factory.class),
diff --git a/compiler/src/main/java/dagger/internal/codegen/MembersInjectorGenerator.java b/compiler/src/main/java/dagger/internal/codegen/MembersInjectorGenerator.java
index 43c00ed1e..05970210b 100644
--- a/compiler/src/main/java/dagger/internal/codegen/MembersInjectorGenerator.java
+++ b/compiler/src/main/java/dagger/internal/codegen/MembersInjectorGenerator.java
@@ -96,10 +96,8 @@ JavaWriter write(ClassName injectorClassName, MembersInjectionBinding binding) {
     JavaWriter writer = JavaWriter.inPackage(injectedClassName.packageName());
 
     ClassWriter injectorWriter = writer.addClass(injectorClassName.simpleName());
-    if (elements.getTypeElement(Generated.class.getCanonicalName()) != null) {
-      injectorWriter.annotate(Generated.class)
-          .setValue(ComponentProcessor.class.getCanonicalName());
-    }
+    injectorWriter.annotate(Generated.class)
+        .setValue(ComponentProcessor.class.getCanonicalName());
     injectorWriter.addModifiers(PUBLIC, FINAL);
     injectorWriter.addImplementedType(
         ParameterizedTypeName.create(MembersInjector.class, injectedClassName));
