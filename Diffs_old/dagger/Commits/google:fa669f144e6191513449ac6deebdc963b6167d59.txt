diff --git a/compiler/src/test/java/dagger/internal/codegen/DependencyRequestMapperTest.java b/compiler/src/test/java/dagger/internal/codegen/DependencyRequestMapperTest.java
index 0232d1c38..76b28e461 100644
--- a/compiler/src/test/java/dagger/internal/codegen/DependencyRequestMapperTest.java
+++ b/compiler/src/test/java/dagger/internal/codegen/DependencyRequestMapperTest.java
@@ -128,7 +128,7 @@ private DependencyRequest dependencyRequestForProduced() {
         .isEqualTo(Producer.class);
   }
 
-  @Module(library = true)
+  @Module
   static final class ProvidesMethodModule {
     @Provides String provideString(
         Integer a, Lazy<Integer> b, Provider<Integer> c, MembersInjector<Integer> d) {
diff --git a/compiler/src/test/java/dagger/internal/codegen/KeyTest.java b/compiler/src/test/java/dagger/internal/codegen/KeyTest.java
index dde52f754..c1d622dfd 100644
--- a/compiler/src/test/java/dagger/internal/codegen/KeyTest.java
+++ b/compiler/src/test/java/dagger/internal/codegen/KeyTest.java
@@ -94,7 +94,7 @@
             MoreTypes.equivalence().wrap(stringType)));
   }
 
-  @Module(library = true)
+  @Module
   static final class ProvidesMethodModule {
     @Provides String provideString() {
       return null;
@@ -135,7 +135,7 @@
     assertThat(provisionKey).isEqualTo(injectionKey);
   }
 
-  @Module(library = true)
+  @Module
   static final class QualifiedProvidesMethodModule {
     @Provides
     @TestQualifier(@InnerAnnotation)
@@ -171,7 +171,7 @@ String provideQualifiedString() {
     }
   }
 
-  @Module(library = true)
+  @Module
   static final class SetProvidesMethodsModule {
     @Provides(type = SET) String provideString() {
       return null;
@@ -182,14 +182,14 @@ String provideQualifiedString() {
     }
   }
 
-  @Module(library = true)
+  @Module
   static final class PrimitiveTypes {
     @Provides int foo() {
       return 0;
     }
   }
 
-  @Module(library = true)
+  @Module
   static final class BoxedPrimitiveTypes {
     @Provides Integer foo() {
       return 0;
diff --git a/examples/simple/src/main/java/coffee/PumpModule.java b/examples/simple/src/main/java/coffee/PumpModule.java
index b064cea65..338ad33c2 100644
--- a/examples/simple/src/main/java/coffee/PumpModule.java
+++ b/examples/simple/src/main/java/coffee/PumpModule.java
@@ -3,7 +3,7 @@
 import dagger.Module;
 import dagger.Provides;
 
-@Module(complete = false, library = true)
+@Module
 class PumpModule {
   @Provides Pump providePump(Thermosiphon pump) {
     return pump;
