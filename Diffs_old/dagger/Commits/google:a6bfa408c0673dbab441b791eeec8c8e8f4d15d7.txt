diff --git a/compiler/src/main/java/dagger/internal/codegen/InjectAdapterProcessor.java b/compiler/src/main/java/dagger/internal/codegen/InjectAdapterProcessor.java
index f1a45d362..8fbfefc79 100644
--- a/compiler/src/main/java/dagger/internal/codegen/InjectAdapterProcessor.java
+++ b/compiler/src/main/java/dagger/internal/codegen/InjectAdapterProcessor.java
@@ -335,6 +335,9 @@ private TypeMirror getNextMemberInjectedAncestor(TypeElement type) {
     TypeMirror nextAncestor = type.getSuperclass();
     TypeElement nextAncestorElement =
         (TypeElement) processingEnv.getTypeUtils().asElement(nextAncestor);
+    if (nextAncestor == null || nextAncestorElement == null) {
+      return null;
+    }
     if (isPlatformType(nextAncestor.toString())) {
       return null;
     }
