diff --git a/compiler/src/main/java/dagger/internal/codegen/writer/Snippet.java b/compiler/src/main/java/dagger/internal/codegen/writer/Snippet.java
index 50dc91838..5c0c75989 100644
--- a/compiler/src/main/java/dagger/internal/codegen/writer/Snippet.java
+++ b/compiler/src/main/java/dagger/internal/codegen/writer/Snippet.java
@@ -143,15 +143,17 @@ public static Snippet concat(Iterable<Snippet> snippets) {
   public static Snippet join(Joiner joiner, Iterable<Snippet> snippets) {
     FluentIterable<Snippet> fluentSnippets = FluentIterable.from(snippets);
     return new Snippet(
-        fluentSnippets
-            .transform(
-                new Function<Snippet, String>() {
-                  @Override
-                  public String apply(Snippet snippet) {
-                    return snippet.format;
-                  }
-                })
-            .join(joiner),
+        joiner
+            .appendTo(
+                new StringBuilder(),
+                fluentSnippets.transform(
+                    new Function<Snippet, String>() {
+                      @Override
+                      public String apply(Snippet snippet) {
+                        return snippet.format;
+                      }
+                    }))
+            .toString(),
         fluentSnippets
             .transformAndConcat(
                 new Function<Snippet, ImmutableSet<TypeName>>() {
