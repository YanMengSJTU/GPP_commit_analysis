diff --git a/compiler/src/main/java/dagger/internal/codegen/ComponentGenerator.java b/compiler/src/main/java/dagger/internal/codegen/ComponentGenerator.java
index c3e874175..d4c8fd100 100644
--- a/compiler/src/main/java/dagger/internal/codegen/ComponentGenerator.java
+++ b/compiler/src/main/java/dagger/internal/codegen/ComponentGenerator.java
@@ -114,8 +114,9 @@
   ClassName nameGeneratedType(BindingGraph input) {
     ClassName componentDefinitionClassName =
         ClassName.fromTypeElement(input.componentDescriptor().componentDefinitionType());
-    return componentDefinitionClassName.topLevelClassName().peerNamed(
-        "Dagger_" + componentDefinitionClassName.classFileName());
+    String componentName =
+        "Dagger_" + componentDefinitionClassName.classFileName().replace('$', '_');
+    return componentDefinitionClassName.topLevelClassName().peerNamed(componentName);
   }
 
   @Override
diff --git a/compiler/src/test/java/dagger/internal/codegen/ComponentProcessorTest.java b/compiler/src/test/java/dagger/internal/codegen/ComponentProcessorTest.java
index 73854c5fd..4c70d6dbe 100644
--- a/compiler/src/test/java/dagger/internal/codegen/ComponentProcessorTest.java
+++ b/compiler/src/test/java/dagger/internal/codegen/ComponentProcessorTest.java
@@ -317,7 +317,7 @@
         "}");
 
     JavaFileObject generatedComponent = JavaFileObjects.forSourceLines(
-        "test.Dagger_OuterType$SimpleComponent",
+        "test.Dagger_OuterType_SimpleComponent",
         "package test;",
         "",
         "import dagger.MembersInjector;",
@@ -327,10 +327,10 @@
         "import test.OuterType.SimpleComponent;",
         "",
         "@Generated(\"dagger.internal.codegen.ComponentProcessor\")",
-        "public final class Dagger_OuterType$SimpleComponent implements SimpleComponent {",
+        "public final class Dagger_OuterType_SimpleComponent implements SimpleComponent {",
         "  private MembersInjector<B> bMembersInjector;",
         "",
-        "  private Dagger_OuterType$SimpleComponent(Builder builder) {",
+        "  private Dagger_OuterType_SimpleComponent(Builder builder) {",
         "    assert builder != null;",
         "    initialize();",
         "  }",
@@ -363,7 +363,7 @@
         "    }",
         "",
         "    public SimpleComponent build() {",
-        "      return new Dagger_OuterType$SimpleComponent(this);",
+        "      return new Dagger_OuterType_SimpleComponent(this);",
         "    }",
         "  }",
         "}");
diff --git a/examples/android-activity-graphs/src/main/java/com/example/dagger/activitygraphs/ui/HomeActivity.java b/examples/android-activity-graphs/src/main/java/com/example/dagger/activitygraphs/ui/HomeActivity.java
index dd939d311..3b5b9c9ea 100644
--- a/examples/android-activity-graphs/src/main/java/com/example/dagger/activitygraphs/ui/HomeActivity.java
+++ b/examples/android-activity-graphs/src/main/java/com/example/dagger/activitygraphs/ui/HomeActivity.java
@@ -28,7 +28,7 @@
 
   @Override protected void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);
-    Dagger_HomeActivity$HomeComponent.builder()
+    Dagger_HomeActivity_HomeComponent.builder()
         .applicationComponent(((DemoApplication) getApplication()).component())
         .activityModule(new ActivityModule(this))
         .build()
diff --git a/examples/android-simple/src/main/java/com/example/dagger/simple/DemoApplication.java b/examples/android-simple/src/main/java/com/example/dagger/simple/DemoApplication.java
index b2367d05b..0a08d987b 100644
--- a/examples/android-simple/src/main/java/com/example/dagger/simple/DemoApplication.java
+++ b/examples/android-simple/src/main/java/com/example/dagger/simple/DemoApplication.java
@@ -40,7 +40,7 @@
 
   @Override public void onCreate() {
     super.onCreate();
-    component = Dagger_DemoApplication$ApplicationComponent.builder()
+    component = Dagger_DemoApplication_ApplicationComponent.builder()
         .androidModule(new AndroidModule(this))
         .build();
     component().inject(this); // As of now, LocationManager should be injected into this.
diff --git a/examples/simple/src/main/java/coffee/CoffeeApp.java b/examples/simple/src/main/java/coffee/CoffeeApp.java
index ea1ed20e9..0789a86f1 100644
--- a/examples/simple/src/main/java/coffee/CoffeeApp.java
+++ b/examples/simple/src/main/java/coffee/CoffeeApp.java
@@ -11,7 +11,7 @@
   }
 
   public static void main(String[] args) {
-    Coffee coffee = Dagger_CoffeeApp$Coffee.builder().build();
+    Coffee coffee = Dagger_CoffeeApp_Coffee.builder().build();
     coffee.maker().brew();
   }
 }
