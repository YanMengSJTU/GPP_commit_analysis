diff --git a/compiler/src/main/java/dagger/internal/codegen/ComponentProcessor.java b/compiler/src/main/java/dagger/internal/codegen/ComponentProcessor.java
index 80648b717..b150fc551 100644
--- a/compiler/src/main/java/dagger/internal/codegen/ComponentProcessor.java
+++ b/compiler/src/main/java/dagger/internal/codegen/ComponentProcessor.java
@@ -62,9 +62,8 @@ public SourceVersion getSupportedSourceVersion() {
     Messager messager = processingEnv.getMessager();
     Types types = processingEnv.getTypeUtils();
     Elements elements = processingEnv.getElementUtils();
-    Filer filer = new FormattingFiler(processingEnv.getFiler());
-
     CompilerOptions compilerOptions = CompilerOptions.create(processingEnv, elements);
+    Filer filer =  new FormattingFiler(processingEnv.getFiler());
 
     KeyFormatter keyFormatter = new KeyFormatter();
     MethodSignatureFormatter methodSignatureFormatter = new MethodSignatureFormatter(types);
