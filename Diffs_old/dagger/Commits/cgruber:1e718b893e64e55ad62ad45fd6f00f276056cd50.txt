diff --git a/compiler/src/main/java/dagger/internal/codegen/Key.java b/compiler/src/main/java/dagger/internal/codegen/Key.java
index cefb4c9a0..12dc991ed 100644
--- a/compiler/src/main/java/dagger/internal/codegen/Key.java
+++ b/compiler/src/main/java/dagger/internal/codegen/Key.java
@@ -35,6 +35,7 @@
 import com.google.auto.common.MoreElements;
 import com.google.auto.common.MoreTypes;
 import com.google.auto.value.AutoValue;
+import com.google.auto.value.extension.memoized.Memoized;
 import com.google.common.base.Equivalence;
 import com.google.common.base.Joiner;
 import com.google.common.base.Optional;
@@ -119,6 +120,10 @@
 
   abstract Builder toBuilder();
 
+  @Memoized
+  @Override
+  public abstract int hashCode();
+
   static Builder builder(TypeMirror type) {
     return new AutoValue_Key.Builder().type(type);
   }
