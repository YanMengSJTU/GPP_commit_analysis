diff --git a/java/dagger/internal/codegen/BUILD b/java/dagger/internal/codegen/BUILD
index 9d1e3271c..41f89b5ac 100644
--- a/java/dagger/internal/codegen/BUILD
+++ b/java/dagger/internal/codegen/BUILD
@@ -18,7 +18,6 @@
 package(default_visibility = ["//:src"])
 
 load("@google_bazel_common//tools/javadoc:javadoc.bzl", "javadoc_library")
-load("//:build_defs.bzl", "DOCLINT_HTML_AND_SYNTAX", "DOCLINT_REFERENCES")
 load("//tools:maven.bzl", "POM_VERSION", "pom_file")
 
 DAGGER_DEPS = [
@@ -62,9 +61,10 @@ java_library(
 )
 
 java_library(
-    name = "codegen-deps",
-    visibility = ["//visibility:private"],
-    exports = [
+    name = "processor",
+    srcs = [":codegen-srcs"],
+    tags = ["maven_coordinates=com.google.dagger:dagger-compiler:" + POM_VERSION],
+    deps = [
         ":codegen-shared-deps",
         "@google_bazel_common//third_party/java/guava",
     ],
@@ -83,14 +83,6 @@ java_library(
     deps = ["@google_bazel_common//third_party/java/error_prone:annotations"],
 )
 
-# The processor's "main", if you will
-java_library(
-    name = "processor",
-    srcs = [":codegen-srcs"],
-    tags = ["maven_coordinates=com.google.dagger:dagger-compiler:" + POM_VERSION],
-    deps = [":codegen-deps"],
-)
-
 pom_file(
     name = "pom",
     artifact_id = "dagger-compiler",
diff --git a/java/dagger/internal/codegen/binding/ComponentCreatorAnnotation.java b/java/dagger/internal/codegen/binding/ComponentCreatorAnnotation.java
index 545f30557..6297188d0 100644
--- a/java/dagger/internal/codegen/binding/ComponentCreatorAnnotation.java
+++ b/java/dagger/internal/codegen/binding/ComponentCreatorAnnotation.java
@@ -49,6 +49,7 @@
   private final ComponentCreatorKind creatorKind;
   private final Class<? extends Annotation> componentAnnotation;
 
+  @SuppressWarnings("unchecked") // Builder/factory annotations live within their parent annotation.
   ComponentCreatorAnnotation(Class<? extends Annotation> annotation) {
     this.annotation = annotation;
     this.creatorKind = ComponentCreatorKind.valueOf(toUpperCase(annotation.getSimpleName()));
diff --git a/java/dagger/internal/codegen/extension/BUILD b/java/dagger/internal/codegen/extension/BUILD
index c94dcff97..d11a6855a 100644
--- a/java/dagger/internal/codegen/extension/BUILD
+++ b/java/dagger/internal/codegen/extension/BUILD
@@ -21,7 +21,6 @@ package(default_visibility = ["//:src"])
 java_library(
     name = "extension",
     srcs = glob(["*.java"]),
-    plugins = ["//java/dagger/internal/codegen/bootstrap"],
     tags = ["maven:merged"],
     deps = [
         "@google_bazel_common//third_party/java/guava",
