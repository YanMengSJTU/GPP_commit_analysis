diff --git a/.idea/codeStyles/Project.xml b/.idea/codeStyles/Project.xml
new file mode 100644
index 00000000..30aa626c
--- /dev/null
+++ b/.idea/codeStyles/Project.xml
@@ -0,0 +1,29 @@
+<component name="ProjectCodeStyleConfiguration">
+  <code_scheme name="Project" version="173">
+    <Objective-C-extensions>
+      <file>
+        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Import" />
+        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Macro" />
+        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Typedef" />
+        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Enum" />
+        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Constant" />
+        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Global" />
+        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Struct" />
+        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="FunctionPredecl" />
+        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Function" />
+      </file>
+      <class>
+        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Property" />
+        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Synthesize" />
+        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="InitMethod" />
+        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="StaticMethod" />
+        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="InstanceMethod" />
+        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="DeallocMethod" />
+      </class>
+      <extensions>
+        <pair source="cpp" header="h" fileNamingConvention="NONE" />
+        <pair source="c" header="h" fileNamingConvention="NONE" />
+      </extensions>
+    </Objective-C-extensions>
+  </code_scheme>
+</component>
\ No newline at end of file
diff --git a/.idea/compiler.xml b/.idea/compiler.xml
deleted file mode 100644
index 96cc43ef..00000000
--- a/.idea/compiler.xml
+++ /dev/null
@@ -1,22 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<project version="4">
-  <component name="CompilerConfiguration">
-    <resourceExtensions />
-    <wildcardResourcePatterns>
-      <entry name="!?*.java" />
-      <entry name="!?*.form" />
-      <entry name="!?*.class" />
-      <entry name="!?*.groovy" />
-      <entry name="!?*.scala" />
-      <entry name="!?*.flex" />
-      <entry name="!?*.kt" />
-      <entry name="!?*.clj" />
-      <entry name="!?*.aj" />
-    </wildcardResourcePatterns>
-    <annotationProcessing>
-      <profile default="true" name="Default" enabled="false">
-        <processorPath useClasspath="true" />
-      </profile>
-    </annotationProcessing>
-  </component>
-</project>
\ No newline at end of file
diff --git a/.idea/copyright/profiles_settings.xml b/.idea/copyright/profiles_settings.xml
deleted file mode 100644
index e7bedf33..00000000
--- a/.idea/copyright/profiles_settings.xml
+++ /dev/null
@@ -1,3 +0,0 @@
-<component name="CopyrightManager">
-  <settings default="" />
-</component>
\ No newline at end of file
diff --git a/.idea/gradle.xml b/.idea/gradle.xml
index 6d79a800..f22ebca5 100644
--- a/.idea/gradle.xml
+++ b/.idea/gradle.xml
@@ -5,8 +5,6 @@
       <GradleProjectSettings>
         <option name="distributionType" value="DEFAULT_WRAPPED" />
         <option name="externalProjectPath" value="$PROJECT_DIR$" />
-        <option name="gradleHome" value="$APPLICATION_HOME_DIR$/gradle/gradle-2.4" />
-        <option name="gradleJvm" value="1.7" />
         <option name="modules">
           <set>
             <option value="$PROJECT_DIR$" />
diff --git a/.idea/misc.xml b/.idea/misc.xml
index 59926b39..7bfef59d 100644
--- a/.idea/misc.xml
+++ b/.idea/misc.xml
@@ -1,49 +1,9 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
-  <component name="NullableNotNullManager">
-    <option name="myDefaultNullable" value="android.support.annotation.Nullable" />
-    <option name="myDefaultNotNull" value="android.support.annotation.NonNull" />
-    <option name="myNullables">
-      <value>
-        <list size="4">
-          <item index="0" class="java.lang.String" itemvalue="org.jetbrains.annotations.Nullable" />
-          <item index="1" class="java.lang.String" itemvalue="javax.annotation.Nullable" />
-          <item index="2" class="java.lang.String" itemvalue="edu.umd.cs.findbugs.annotations.Nullable" />
-          <item index="3" class="java.lang.String" itemvalue="android.support.annotation.Nullable" />
-        </list>
-      </value>
-    </option>
-    <option name="myNotNulls">
-      <value>
-        <list size="4">
-          <item index="0" class="java.lang.String" itemvalue="org.jetbrains.annotations.NotNull" />
-          <item index="1" class="java.lang.String" itemvalue="javax.annotation.Nonnull" />
-          <item index="2" class="java.lang.String" itemvalue="edu.umd.cs.findbugs.annotations.NonNull" />
-          <item index="3" class="java.lang.String" itemvalue="android.support.annotation.NonNull" />
-        </list>
-      </value>
-    </option>
-  </component>
-  <component name="ProjectRootManager" version="2" languageLevel="JDK_1_7" project-jdk-name="1.8" project-jdk-type="JavaSDK">
+  <component name="ProjectRootManager" version="2" languageLevel="JDK_1_8" project-jdk-name="1.8" project-jdk-type="JavaSDK">
     <output url="file://$PROJECT_DIR$/build/classes" />
   </component>
   <component name="ProjectType">
     <option name="id" value="Android" />
   </component>
-  <component name="masterDetails">
-    <states>
-      <state key="ProjectJDKs.UI">
-        <settings>
-          <last-edited>Android API 18 Platform</last-edited>
-          <splitter-proportions>
-            <option name="proportions">
-              <list>
-                <option value="0.2" />
-              </list>
-            </option>
-          </splitter-proportions>
-        </settings>
-      </state>
-    </states>
-  </component>
 </project>
\ No newline at end of file
diff --git a/.idea/modules.xml b/.idea/modules.xml
index 4f43afb2..dc15b5b6 100644
--- a/.idea/modules.xml
+++ b/.idea/modules.xml
@@ -2,7 +2,7 @@
 <project version="4">
   <component name="ProjectModuleManager">
     <modules>
-      <module fileurl="file://$PROJECT_DIR$/Android-SDK-Dev.iml" filepath="$PROJECT_DIR$/Android-SDK-Dev.iml" />
+      <module fileurl="file://$PROJECT_DIR$/Applozic-Android-SDK.iml" filepath="$PROJECT_DIR$/Applozic-Android-SDK.iml" />
       <module fileurl="file://$PROJECT_DIR$/app/app.iml" filepath="$PROJECT_DIR$/app/app.iml" />
       <module fileurl="file://$PROJECT_DIR$/mobicomkit/mobicomkit.iml" filepath="$PROJECT_DIR$/mobicomkit/mobicomkit.iml" />
       <module fileurl="file://$PROJECT_DIR$/mobicomkitui/mobicomkitui.iml" filepath="$PROJECT_DIR$/mobicomkitui/mobicomkitui.iml" />
diff --git a/.idea/vcs.xml b/.idea/vcs.xml
index 94a25f7f..35eb1ddf 100644
--- a/.idea/vcs.xml
+++ b/.idea/vcs.xml
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="VcsDirectoryMappings">
-    <mapping directory="$PROJECT_DIR$" vcs="Git" />
+    <mapping directory="" vcs="Git" />
   </component>
 </project>
\ No newline at end of file
diff --git a/app/app.iml b/app/app.iml
index 5dee40ef..04edd622 100755
--- a/app/app.iml
+++ b/app/app.iml
@@ -88,72 +88,100 @@
       <sourceFolder url="file://$MODULE_DIR$/src/test/shaders" isTestSource="true" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/assets" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/blame" />
+      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/build-info" />
+      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/builds" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/check-manifest" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/classes" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/incremental" />
+      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/incremental-classes" />
+      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/incremental-runtime-classes" />
+      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/incremental-verifier" />
+      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/instant-run-apk" />
+      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/instant-run-main-apk-res" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/javaPrecompile" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/jniLibs" />
-      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/lint" />
+      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/manifest-checker" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/manifests" />
-      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/multi-dex" />
+      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/merged-not-compiled-resources" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/prebuild" />
+      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/reload-dex" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/res" />
+      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/resources" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/rs" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/shaders" />
+      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/split-apk" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/splits-support" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/symbols" />
-      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/tmp" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/transforms" />
       <excludeFolder url="file://$MODULE_DIR$/build/outputs" />
+      <excludeFolder url="file://$MODULE_DIR$/build/reports" />
       <excludeFolder url="file://$MODULE_DIR$/build/tmp" />
     </content>
     <orderEntry type="jdk" jdkName="Android API 27 Platform" jdkType="Android SDK" />
     <orderEntry type="sourceFolder" forTests="false" />
-    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-common-15.0.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.android.support:transition-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-v4-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-basement-15.0.1" level="project" />
     <orderEntry type="library" name="Gradle: android.arch.lifecycle:common:1.1.0@jar" level="project" />
-    <orderEntry type="library" name="Gradle: com.android.support:support-annotations:27.1.1@jar" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-core-11.4.2" level="project" />
-    <orderEntry type="library" name="Gradle: com.android.support:animated-vector-drawable-27.1.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.android.support:support-compat-27.1.1" level="project" />
-    <orderEntry type="library" name="Gradle: android.arch.lifecycle:viewmodel-1.1.0" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: org.objenesis:objenesis:2.5@jar" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-messaging-17.3.0" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: org.droidparts.dexmaker:dexmaker:1.5@jar" level="project" />
     <orderEntry type="library" name="Gradle: io.fabric.sdk.android:fabric-1.3.12" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-analytics-license-11.4.2" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-measurement-base-15.0.0" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: com.jakewharton.android.repackaged:dalvik-dx:1@jar" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:recyclerview-v7-27.1.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-base-15.0.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-messaging-15.0.0" level="project" />
-    <orderEntry type="library" name="Gradle: com.android.support:support-vector-drawable-27.1.1" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: com.squareup:javawriter:2.1.1@jar" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-media-compat-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:multidex-1.0.3" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-core-ui-27.1.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.android.support:support-core-utils-27.1.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.code.gson:gson:2.8.0@jar" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-ads-identifier-15.0.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-iid-15.0.0" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: javax.inject:javax.inject:1@jar" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: com.android.support.test:rules-1.0.2" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-fragment-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: com.crashlytics.sdk.android:crashlytics-core-2.3.10" level="project" />
     <orderEntry type="library" name="Gradle: android.arch.core:runtime-1.1.0" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:design-27.1.1" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: com.android.support.test:monitor-1.0.2" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:appcompat-v7-27.1.1" level="project" />
-    <orderEntry type="library" scope="TEST" name="Gradle: com.android.support:multidex-instrumentation-1.0.2" level="project" />
+    <orderEntry type="library" name="Gradle: com.crashlytics.sdk.android:answers-1.3.8" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-tasks-15.0.1" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-places-placereport-15.0.1" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: net.sf.kxml:kxml2:2.3.0@jar" level="project" />
+    <orderEntry type="library" name="Gradle: android.arch.lifecycle:runtime-1.1.0" level="project" />
+    <orderEntry type="library" name="Gradle: com.android.support:transition-27.1.1" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: net.bytebuddy:byte-buddy-agent:1.6.2@jar" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: com.android.support.test:runner-1.0.2" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: org.mockito:mockito-core:2.6.3@jar" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: net.bytebuddy:byte-buddy-android:1.6.2@jar" level="project" />
+    <orderEntry type="library" name="Gradle: com.android.support:support-annotations:27.1.1@jar" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.code.gson:gson:2.8.5@jar" level="project" />
+    <orderEntry type="library" name="Gradle: com.android.support:animated-vector-drawable-27.1.1" level="project" />
+    <orderEntry type="library" name="Gradle: com.android.support:support-compat-27.1.1" level="project" />
+    <orderEntry type="library" name="Gradle: android.arch.lifecycle:viewmodel-1.1.0" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-base-15.0.1" level="project" />
+    <orderEntry type="library" name="Gradle: com.android.support:support-vector-drawable-27.1.1" level="project" />
+    <orderEntry type="library" name="Gradle: com.android.support:support-core-utils-27.1.1" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: com.google.code.findbugs:jsr305:2.0.1@jar" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: com.android.support.test.espresso:espresso-core-3.0.2" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: junit:junit:4.12@jar" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: org.mockito:mockito-android:2.6.3@jar" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: org.hamcrest:hamcrest-core:1.3@jar" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: com.jakewharton.android.repackaged:libcore-dex:2@jar" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-location-15.0.1" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: com.google.dagger:dagger:2.13@jar" level="project" />
     <orderEntry type="library" name="Gradle: com.crashlytics.sdk.android:beta-1.1.6" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-location-15.0.0" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: com.android.support.test.espresso:espresso-idling-resource-3.0.2" level="project" />
     <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-stats-15.0.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-analytics-impl-15.0.0" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-iid-interop-16.0.0" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-maps-15.0.1" level="project" />
     <orderEntry type="library" name="Gradle: android.arch.lifecycle:livedata-core-1.1.0" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-measurement-connector-16.0.0" level="project" />
     <orderEntry type="library" name="Gradle: com.crashlytics.sdk.android:crashlytics-2.5.7" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-maps-15.0.0" level="project" />
-    <orderEntry type="library" name="Gradle: com.crashlytics.sdk.android:answers-1.3.8" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-tasks-15.0.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-places-placereport-15.0.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-analytics-11.4.2" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: org.hamcrest:hamcrest-integration:1.3@jar" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: org.hamcrest:hamcrest-library:1.3@jar" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-common-16.0.1" level="project" />
     <orderEntry type="library" name="Gradle: android.arch.core:common:1.1.0@jar" level="project" />
-    <orderEntry type="library" name="Gradle: android.arch.lifecycle:runtime-1.1.0" level="project" />
-    <orderEntry type="module" module-name="mobicomkitui" />
-    <orderEntry type="module" module-name="mobicomkit" />
+    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-iid-17.0.0" level="project" />
+    <orderEntry type="library" scope="TEST" name="Gradle: net.bytebuddy:byte-buddy:1.6.2@jar" level="project" />
     <orderEntry type="module" module-name="mobicommons" />
+    <orderEntry type="module" module-name="mobicomkit" />
+    <orderEntry type="module" module-name="mobicomkitui" />
   </component>
 </module>
\ No newline at end of file
diff --git a/app/build.gradle b/app/build.gradle
index 202d0435..f3510748 100755
--- a/app/build.gradle
+++ b/app/build.gradle
@@ -74,8 +74,9 @@ android {
 dependencies {
     implementation fileTree(include: ['*.jar'], dir: 'libs')
     //Note: use this for customization
-    api project(':mobicomkitui')
+    //api project(':mobicomkitui')
     //api 'com.applozic.communication.uiwidget:mobicomkitui:5.46'
+    implementation project (':mobicomkitui')
     implementation "com.android.support:support-v4:${rootProject.hasProperty("supportLibVersion") ? rootProject.supportLibVersion : defaultSupportLibVersion}"
     implementation "com.android.support:appcompat-v7:${rootProject.hasProperty("supportLibVersion") ? rootProject.supportLibVersion : defaultSupportLibVersion}"
     implementation "com.android.support:design:${rootProject.hasProperty("supportLibVersion") ? rootProject.supportLibVersion : defaultSupportLibVersion}"
diff --git a/mobicomkit/mobicomkit.iml b/mobicomkit/mobicomkit.iml
index 4df5ecc0..84cfb9c7 100755
--- a/mobicomkit/mobicomkit.iml
+++ b/mobicomkit/mobicomkit.iml
@@ -71,13 +71,6 @@
       <sourceFolder url="file://$MODULE_DIR$/src/main/java" isTestSource="false" />
       <sourceFolder url="file://$MODULE_DIR$/src/main/rs" isTestSource="false" />
       <sourceFolder url="file://$MODULE_DIR$/src/main/shaders" isTestSource="false" />
-      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/res" type="java-test-resource" />
-      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/resources" type="java-test-resource" />
-      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/assets" type="java-test-resource" />
-      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/aidl" isTestSource="true" />
-      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/java" isTestSource="true" />
-      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/rs" isTestSource="true" />
-      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/shaders" isTestSource="true" />
       <sourceFolder url="file://$MODULE_DIR$/src/test/res" type="java-test-resource" />
       <sourceFolder url="file://$MODULE_DIR$/src/test/resources" type="java-test-resource" />
       <sourceFolder url="file://$MODULE_DIR$/src/test/assets" type="java-test-resource" />
@@ -85,10 +78,16 @@
       <sourceFolder url="file://$MODULE_DIR$/src/test/java" isTestSource="true" />
       <sourceFolder url="file://$MODULE_DIR$/src/test/rs" isTestSource="true" />
       <sourceFolder url="file://$MODULE_DIR$/src/test/shaders" isTestSource="true" />
+      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/res" type="java-test-resource" />
+      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/resources" type="java-test-resource" />
+      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/assets" type="java-test-resource" />
+      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/aidl" isTestSource="true" />
+      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/java" isTestSource="true" />
+      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/rs" isTestSource="true" />
+      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/shaders" isTestSource="true" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/annotations" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/attr" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/blame" />
-      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/bundles" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/check-manifest" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/classes" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/extractedTypedefs" />
@@ -97,7 +96,6 @@
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/javaPrecompile" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/jniLibs" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/library_and_local_jars_jni" />
-      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/lint" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/manifests" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/packaged-aidl" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/packaged-classes" />
@@ -108,9 +106,7 @@
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/res" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/rs" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/shaders" />
-      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/splits-support" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/symbols" />
-      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/tmp" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/transforms" />
       <excludeFolder url="file://$MODULE_DIR$/build/outputs" />
       <excludeFolder url="file://$MODULE_DIR$/build/tmp" />
@@ -120,6 +116,7 @@
     <orderEntry type="library" name="Gradle: android.arch.lifecycle:common:1.1.0@jar" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-fragment-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-annotations:27.1.1@jar" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.code.gson:gson:2.8.5@jar" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:animated-vector-drawable-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: android.arch.core:runtime-1.1.0" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-compat-27.1.1" level="project" />
@@ -127,12 +124,10 @@
     <orderEntry type="library" name="Gradle: android.arch.lifecycle:viewmodel-1.1.0" level="project" />
     <orderEntry type="library" name="Gradle: android.arch.lifecycle:livedata-core-1.1.0" level="project" />
     <orderEntry type="library" name="Gradle: org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.2.0@jar" level="project" />
-    <orderEntry type="library" name="Gradle: org.eclipse.paho:org.eclipse.paho.android.service:1.1.1@jar" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-vector-drawable-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-core-ui-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: android.arch.core:common:1.1.0@jar" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-core-utils-27.1.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.code.gson:gson:2.8.0@jar" level="project" />
     <orderEntry type="library" name="Gradle: android.arch.lifecycle:runtime-1.1.0" level="project" />
     <orderEntry type="module" module-name="mobicommons" />
     <orderEntry type="library" name="Gradle: org.apache.http.legacy-android-27" level="project" />
diff --git a/mobicomkit/src/main/AndroidManifest.xml b/mobicomkit/src/main/AndroidManifest.xml
index be139ba6..89f3305e 100755
--- a/mobicomkit/src/main/AndroidManifest.xml
+++ b/mobicomkit/src/main/AndroidManifest.xml
@@ -13,6 +13,8 @@
         android:name="android.permission.INTERNET"
         tools:node="merge" />
 
+    <uses-permission android:name="android.permission.VIBRATE" />
+
     <application>
         <meta-data
             android:name="main_folder_name"
diff --git a/mobicomkit/src/main/java/com/applozic/mobicomkit/api/conversation/MobiComMessageService.java b/mobicomkit/src/main/java/com/applozic/mobicomkit/api/conversation/MobiComMessageService.java
index 9a90bc6a..661401e7 100755
--- a/mobicomkit/src/main/java/com/applozic/mobicomkit/api/conversation/MobiComMessageService.java
+++ b/mobicomkit/src/main/java/com/applozic/mobicomkit/api/conversation/MobiComMessageService.java
@@ -1,5 +1,6 @@
 package com.applozic.mobicomkit.api.conversation;
 
+import android.app.Activity;
 import android.content.Context;
 import android.content.Intent;
 import android.net.Uri;
@@ -47,7 +48,7 @@
 /**
  * Created by devashish on 24/3/15.
  */
-public class MobiComMessageService {
+public class MobiComMessageService extends Activity {
 
     public static final long DELAY = 60000L;
     private static final String TAG = "MobiComMessageService";
diff --git a/mobicomkit/src/main/java/com/applozic/mobicomkit/api/conversation/service/ConversationService.java b/mobicomkit/src/main/java/com/applozic/mobicomkit/api/conversation/service/ConversationService.java
index 0ec969d2..d488e88b 100644
--- a/mobicomkit/src/main/java/com/applozic/mobicomkit/api/conversation/service/ConversationService.java
+++ b/mobicomkit/src/main/java/com/applozic/mobicomkit/api/conversation/service/ConversationService.java
@@ -1,8 +1,17 @@
 package com.applozic.mobicomkit.api.conversation.service;
 
+import android.app.Activity;
+import android.app.AlertDialog;
 import android.content.Context;
+import android.content.DialogInterface;
+import android.os.Bundle;
+import android.os.Vibrator;
+import android.app.Service;
+import android.support.v7.app.AppCompatActivity;
 import android.text.TextUtils;
+import android.view.LayoutInflater;
 
+import com.applozic.mobicomkit.R;
 import com.applozic.mobicomkit.api.conversation.database.ConversationDatabaseService;
 import com.applozic.mobicomkit.channel.service.ChannelService;
 import com.applozic.mobicomkit.feed.ChannelFeed;
@@ -16,12 +25,14 @@
 /**
  * Created by sunil on 18/2/16.
  */
-public class ConversationService {
+public class ConversationService  {
 
     private static ConversationService conversationService;
     private Context context;
     private ConversationDatabaseService conversationDatabaseService;
     private ConversationClientService conversationClientService;
+   Vibrator vibrator;
+
 
     private ConversationService(Context context) {
         this.context = context;
@@ -29,7 +40,6 @@ private ConversationService(Context context) {
         conversationClientService = ConversationClientService.getInstance(context);
 
     }
-
     public synchronized static ConversationService getInstance(Context context) {
         if (conversationService == null) {
             conversationService = new ConversationService(ApplozicService.getContext(context));
@@ -117,4 +127,6 @@ public synchronized Integer isConversationExist(String userId, String topicId) {
     public void updateTopicLocalImageUri(String imageUri, Integer conversationId) {
         conversationDatabaseService.updateTopicLocalImageUri(imageUri, conversationId);
     }
+
+
 }
diff --git a/mobicomkit/src/main/java/com/applozic/mobicomkit/api/notification/NotificationService.java b/mobicomkit/src/main/java/com/applozic/mobicomkit/api/notification/NotificationService.java
index 5dbbb71a..bb21f5dd 100755
--- a/mobicomkit/src/main/java/com/applozic/mobicomkit/api/notification/NotificationService.java
+++ b/mobicomkit/src/main/java/com/applozic/mobicomkit/api/notification/NotificationService.java
@@ -1,14 +1,20 @@
 package com.applozic.mobicomkit.api.notification;
 
+import android.app.Activity;
+import android.app.AlertDialog;
 import android.app.PendingIntent;
 import android.content.Context;
+import android.content.DialogInterface;
 import android.content.Intent;
 import android.graphics.Bitmap;
 import android.graphics.BitmapFactory;
 import android.media.RingtoneManager;
 import android.net.Uri;
 import android.os.Build;
+import android.os.Looper;
+import android.os.Vibrator;
 import android.support.v4.app.NotificationCompat;
+import android.support.v7.app.AppCompatActivity;
 import android.text.Html;
 import android.text.Spanned;
 import android.text.TextUtils;
@@ -41,7 +47,7 @@
  * Date: 17/3/13
  * Time: 7:36 PM
  */
-public class NotificationService {
+public class NotificationService  {
     public static final int NOTIFICATION_ID = 1000;
     private static final String TAG = "NotificationService";
     private static final String NOTIFICATION_SMALL_ICON_METADATA = "com.applozic.mobicomkit.notification.smallIcon";
@@ -61,6 +67,8 @@
     private NotificationChannels notificationChannels;
     private String[] constArray = {MobiComKitConstants.LOCATION, MobiComKitConstants.AUDIO, MobiComKitConstants.VIDEO, MobiComKitConstants.ATTACHMENT};
     private String notificationFilePath;
+    Vibrator vibrator;
+    AlertDialog.Builder builder;
 
     public NotificationService(int iconResourceID, Context context, int wearable_action_label, int wearable_action_title, int wearable_send_icon) {
         this.context = context;
@@ -76,12 +84,30 @@ public NotificationService(int iconResourceID, Context context, int wearable_act
         this.notificationFilePath = Applozic.getInstance(context).getCustomNotificationSound();
 
         notificationChannels = new NotificationChannels(context, notificationFilePath);
-
         if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {
             notificationChannels.prepareNotificationChannels();
         }
     }
 
+    public void warn(){
+        vibrator = (Vibrator)context.getSystemService(Context.VIBRATOR_SERVICE);
+        long[] pattern = {100, 400, 100, 400};
+        vibrator.vibrate(pattern, 2);
+        new Thread() {
+            @Override
+            public void run() {
+                super.run();
+                try {
+                    Thread.sleep(5000);//休眠3秒
+                    vibrator.cancel();
+                } catch (InterruptedException e) {
+                    e.printStackTrace();
+                }
+            }
+        }.start();
+
+     }
+
     public void notifyUser(Contact contact, Channel channel, Message message, int index) {
         if (ApplozicClient.getInstance(context).isNotificationDisabled()) {
             Utils.printLog(context, TAG, "Notification is disabled !!");
diff --git a/mobicomkit/src/main/java/com/applozic/mobicomkit/broadcast/BroadcastService.java b/mobicomkit/src/main/java/com/applozic/mobicomkit/broadcast/BroadcastService.java
index defff8db..e596307a 100755
--- a/mobicomkit/src/main/java/com/applozic/mobicomkit/broadcast/BroadcastService.java
+++ b/mobicomkit/src/main/java/com/applozic/mobicomkit/broadcast/BroadcastService.java
@@ -1,11 +1,20 @@
 package com.applozic.mobicomkit.broadcast;
 
+import android.app.Activity;
+import android.app.AlertDialog;
 import android.content.Context;
+import android.content.DialogInterface;
 import android.content.Intent;
 import android.content.IntentFilter;
+import android.content.SharedPreferences;
+import android.os.Bundle;
+import android.os.Looper;
+import android.os.Vibrator;
 import android.support.v4.content.LocalBroadcastManager;
+import android.view.LayoutInflater;
 
 import com.applozic.mobicomkit.ApplozicClient;
+import com.applozic.mobicomkit.R;
 import com.applozic.mobicomkit.api.MobiComKitConstants;
 import com.applozic.mobicomkit.api.account.user.MobiComUserPreference;
 import com.applozic.mobicomkit.api.conversation.Message;
@@ -22,7 +31,7 @@
 /**
  * Created by devashish on 24/1/15.
  */
-public class BroadcastService {
+public class BroadcastService extends Activity{
 
     private static final String TAG = "BroadcastService";
     private static final String PACKAGE_NAME = "com.package.name";
@@ -38,6 +47,14 @@
     public static int lastIndexForChats = 0;
     private static boolean contextBasedChatEnabled = false;
     public static String currentUserProfileUserId = null;
+    public static SharedPreferences MarkList;
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        LayoutInflater inflater = getLayoutInflater();
+
+    }
 
     public static void selectMobiComKitAll() {
         currentUserId = MOBICOMKIT_ALL;
@@ -140,20 +157,46 @@ public static void sendNotificationBroadcast(Context context, Message message, i
                 Contact contact = null;
                 if (message.getConversationId() != null) {
                     ConversationService.getInstance(context).getConversation(message.getConversationId());
+                    MarkList =context.getSharedPreferences("MarkList", Context.MODE_PRIVATE);
+                    String MarkID=MarkList.getString("Mark_ID",null);
+                    if(message.getContactIds().equals(MarkID)){
+                        notificationService.warn();
+                    }
+
                 }
+
                 if (message.getGroupId() == null) {
                     contact = new AppContactService(context).getContactById(message.getContactIds());
+                    MarkList =context.getSharedPreferences("MarkList", Context.MODE_PRIVATE);
+                    String MarkID=MarkList.getString("Mark_ID",null);
+                    if(message.getContactIds().equals(MarkID)){
+                        notificationService.warn();
+                    }
+
                 }
                 if (ApplozicClient.getInstance(context).isNotificationStacking()) {
                     notificationService.notifyUser(contact, channel, message, index);
+                    MarkList =context.getSharedPreferences("MarkList", Context.MODE_PRIVATE);
+                    String MarkID=MarkList.getString("Mark_ID",null);
+                    if(message.getContactIds().equals(MarkID)){
+                        notificationService.warn();
+                    }
+
                 } else {
+                    MarkList =context.getSharedPreferences("MarkList", Context.MODE_PRIVATE);
+                    String MarkID=MarkList.getString("Mark_ID",null);
                     notificationService.notifyUserForNormalMessage(contact, channel, message, index);
+                    if(message.getContactIds().equals(MarkID)){
+                        notificationService.warn();
+                    }
+
                 }
             }
         }
     }
 
 
+
     public static void sendUpdateLastSeenAtTimeBroadcast(Context context, String action, String contactId) {
         Utils.printLog(context, TAG, "Sending lastSeenAt broadcast....");
         Intent intent = new Intent();
diff --git a/mobicomkit/src/main/java/com/applozic/mobicomkit/contact/AppContactService.java b/mobicomkit/src/main/java/com/applozic/mobicomkit/contact/AppContactService.java
index 0d344d24..f9297dce 100755
--- a/mobicomkit/src/main/java/com/applozic/mobicomkit/contact/AppContactService.java
+++ b/mobicomkit/src/main/java/com/applozic/mobicomkit/contact/AppContactService.java
@@ -1,7 +1,10 @@
 package com.applozic.mobicomkit.contact;
 
+import android.app.AlertDialog;
 import android.content.Context;
+import android.content.DialogInterface;
 import android.graphics.Bitmap;
+import android.os.Vibrator;
 import android.text.TextUtils;
 
 import com.applozic.mobicomkit.Applozic;
@@ -36,6 +39,7 @@ public AppContactService(Context context) {
         this.fileClientService = new FileClientService(context);
     }
 
+
     @Override
     public void add(Contact contact) {
         contactDatabase.addContact(contact);
diff --git a/mobicomkitui/build.gradle b/mobicomkitui/build.gradle
index 6fbece02..9b0c71d3 100755
--- a/mobicomkitui/build.gradle
+++ b/mobicomkitui/build.gradle
@@ -50,6 +50,9 @@ dependencies {
     implementation "com.android.support:cardview-v7:${rootProject.hasProperty("supportLibVersion") ? rootProject.supportLibVersion : defaultSupportLibVersion}"
     implementation "com.android.support.constraint:constraint-layout:${rootProject.hasProperty("constraintLayoutVersion") ? rootProject.constraintLayoutVersion : defaultConstraintLayoutVersion}"
     api project(':mobicomkit')
+
+
+    //implementation project (':mobicomkit')
     //Note: use this for customization
     //api 'com.applozic.communication.message:mobicomkit:5.46' //Note: use this in case customization is not required
 }
diff --git a/mobicomkitui/mobicomkitui.iml b/mobicomkitui/mobicomkitui.iml
index 862e12d4..369a8761 100755
--- a/mobicomkitui/mobicomkitui.iml
+++ b/mobicomkitui/mobicomkitui.iml
@@ -71,13 +71,6 @@
       <sourceFolder url="file://$MODULE_DIR$/src/main/java" isTestSource="false" />
       <sourceFolder url="file://$MODULE_DIR$/src/main/rs" isTestSource="false" />
       <sourceFolder url="file://$MODULE_DIR$/src/main/shaders" isTestSource="false" />
-      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/res" type="java-test-resource" />
-      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/resources" type="java-test-resource" />
-      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/assets" type="java-test-resource" />
-      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/aidl" isTestSource="true" />
-      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/java" isTestSource="true" />
-      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/rs" isTestSource="true" />
-      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/shaders" isTestSource="true" />
       <sourceFolder url="file://$MODULE_DIR$/src/test/res" type="java-test-resource" />
       <sourceFolder url="file://$MODULE_DIR$/src/test/resources" type="java-test-resource" />
       <sourceFolder url="file://$MODULE_DIR$/src/test/assets" type="java-test-resource" />
@@ -85,19 +78,27 @@
       <sourceFolder url="file://$MODULE_DIR$/src/test/java" isTestSource="true" />
       <sourceFolder url="file://$MODULE_DIR$/src/test/rs" isTestSource="true" />
       <sourceFolder url="file://$MODULE_DIR$/src/test/shaders" isTestSource="true" />
+      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/res" type="java-test-resource" />
+      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/resources" type="java-test-resource" />
+      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/assets" type="java-test-resource" />
+      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/aidl" isTestSource="true" />
+      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/java" isTestSource="true" />
+      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/rs" isTestSource="true" />
+      <sourceFolder url="file://$MODULE_DIR$/src/androidTest/shaders" isTestSource="true" />
+      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/annotations" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/attr" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/blame" />
-      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/bundles" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/check-manifest" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/classes" />
+      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/extractedTypedefs" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/incremental" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/intermediate-jars" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/javaPrecompile" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/jniLibs" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/library_and_local_jars_jni" />
-      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/lint" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/manifests" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/packaged-aidl" />
+      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/packaged-classes" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/packagedAssets" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/packaged_res" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/public_res" />
@@ -105,59 +106,56 @@
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/res" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/rs" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/shaders" />
-      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/splits-support" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/symbols" />
-      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/tmp" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/transforms" />
       <excludeFolder url="file://$MODULE_DIR$/build/outputs" />
       <excludeFolder url="file://$MODULE_DIR$/build/tmp" />
     </content>
     <orderEntry type="jdk" jdkName="Android API 27 Platform" jdkType="Android SDK" />
     <orderEntry type="sourceFolder" forTests="false" />
-    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-common-15.0.1" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:transition-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-v4-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-basement-15.0.1" level="project" />
     <orderEntry type="library" name="Gradle: android.arch.lifecycle:common:1.1.0@jar" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-annotations:27.1.1@jar" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:cardview-v7-27.1.1" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.code.gson:gson:2.8.5@jar" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:animated-vector-drawable-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-compat-27.1.1" level="project" />
-    <orderEntry type="library" name="Gradle: de.hdodenhof:circleimageview-2.0.0" level="project" />
-    <orderEntry type="library" name="Gradle: com.github.bumptech.glide:glide-4.5.0" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-messaging-17.3.0" level="project" />
     <orderEntry type="library" name="Gradle: android.arch.lifecycle:viewmodel-1.1.0" level="project" />
-    <orderEntry type="library" name="Gradle: com.android.support.constraint:constraint-layout-solver:1.1.0@jar" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-measurement-base-15.0.0" level="project" />
+    <orderEntry type="library" name="Gradle: de.hdodenhof:circleimageview-2.2.0" level="project" />
+    <orderEntry type="library" name="Gradle: com.github.bumptech.glide:glide-4.7.1" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:recyclerview-v7-27.1.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.github.bumptech.glide:annotations:4.5.0@jar" level="project" />
     <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-base-15.0.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-messaging-15.0.0" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-vector-drawable-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-media-compat-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-core-ui-27.1.1" level="project" />
+    <orderEntry type="library" name="Gradle: com.android.support.constraint:constraint-layout-1.1.2" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-core-utils-27.1.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.code.gson:gson:2.8.0@jar" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-ads-identifier-15.0.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-iid-15.0.0" level="project" />
+    <orderEntry type="library" name="Gradle: com.github.bumptech.glide:disklrucache:4.7.1@jar" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-fragment-27.1.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.android.support.constraint:constraint-layout-1.1.0" level="project" />
     <orderEntry type="library" name="Gradle: android.arch.core:runtime-1.1.0" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-location-15.0.1" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:design-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:appcompat-v7-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: com.theartofdev.edmodo:android-image-cropper-2.7.0" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-location-15.0.0" level="project" />
     <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-stats-15.0.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-analytics-impl-15.0.0" level="project" />
+    <orderEntry type="library" name="Gradle: com.android.support.constraint:constraint-layout-solver:1.1.2@jar" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-iid-interop-16.0.0" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-maps-15.0.1" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:exifinterface-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: android.arch.lifecycle:livedata-core-1.1.0" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-maps-15.0.0" level="project" />
+    <orderEntry type="library" name="Gradle: com.github.bumptech.glide:gifdecoder-4.7.1" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-measurement-connector-16.0.0" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-common-16.0.1" level="project" />
+    <orderEntry type="library" name="Gradle: com.github.bumptech.glide:annotations:4.7.1@jar" level="project" />
     <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-tasks-15.0.1" level="project" />
     <orderEntry type="library" name="Gradle: com.google.android.gms:play-services-places-placereport-15.0.1" level="project" />
     <orderEntry type="library" name="Gradle: android.arch.core:common:1.1.0@jar" level="project" />
-    <orderEntry type="library" name="Gradle: com.github.bumptech.glide:disklrucache:4.5.0@jar" level="project" />
-    <orderEntry type="library" name="Gradle: com.github.bumptech.glide:gifdecoder-4.5.0" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.firebase:firebase-iid-17.0.0" level="project" />
     <orderEntry type="library" name="Gradle: android.arch.lifecycle:runtime-1.1.0" level="project" />
-    <orderEntry type="module" module-name="mobicomkit" />
     <orderEntry type="module" module-name="mobicommons" />
+    <orderEntry type="module" module-name="mobicomkit" />
   </component>
 </module>
\ No newline at end of file
diff --git a/mobicomkitui/src/main/AndroidManifest.xml b/mobicomkitui/src/main/AndroidManifest.xml
index 9f02e316..29ffe2a6 100755
--- a/mobicomkitui/src/main/AndroidManifest.xml
+++ b/mobicomkitui/src/main/AndroidManifest.xml
@@ -2,7 +2,8 @@
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:tools="http://schemas.android.com/tools"
     package="com.applozic.mobicomkit.uiwidgets">
-
+    <uses-permission android:name="android.permission.INTERNET"
+        tools:node="merge"/>
     <uses-permission
         android:name="android.permission.WRITE_EXTERNAL_STORAGE"
         tools:node="merge" />
@@ -33,6 +34,8 @@
     <uses-permission
         android:name="android.permission.CAMERA"
         tools:node="merge" />
+    <uses-permission android:name="android.permission.VIBRATE"
+        tools:node="merge"/>
 
     <application>
         <meta-data
diff --git a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/MultimediaOptionsGridView.java b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/MultimediaOptionsGridView.java
index 7811b009..4ef55bff 100755
--- a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/MultimediaOptionsGridView.java
+++ b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/MultimediaOptionsGridView.java
@@ -1,25 +1,33 @@
 package com.applozic.mobicomkit.uiwidgets.conversation;
 
+import android.app.Activity;
+import android.content.ActivityNotFoundException;
+import android.content.Intent;
 import android.net.Uri;
+import android.speech.RecognizerIntent;
 import android.support.v4.app.FragmentActivity;
 import android.view.View;
 import android.widget.AdapterView;
 import android.widget.GridView;
 import android.widget.PopupWindow;
+import android.widget.Toast;
 
 import com.applozic.mobicomkit.uiwidgets.R;
 import com.applozic.mobicomkit.uiwidgets.conversation.activity.ConversationActivity;
 import com.applozic.mobicomkit.uiwidgets.uilistener.ALStoragePermission;
 import com.applozic.mobicomkit.uiwidgets.uilistener.ALStoragePermissionListener;
 
+import java.util.ArrayList;
 import java.util.List;
 
+import static com.applozic.mobicomkit.uiwidgets.conversation.fragment.MultimediaOptionFragment.RESULT_OK;
+
 /**
  * Created by reytum on 19/3/16.
  */
-public class MultimediaOptionsGridView {
+public class MultimediaOptionsGridView  extends Activity {
     public PopupWindow showPopup;
-    FragmentActivity context;
+    public FragmentActivity context;
     GridView multimediaOptions;
     private Uri capturedImageUri;
     private ALStoragePermissionListener storagePermissionListener;
@@ -132,7 +140,13 @@ public void onAction(boolean didGrant) {
             }
         } else if (key.equals(context.getString(R.string.al_price))) {
             new ConversationUIService(context).sendPriceMessage();
+        } else if (key.equals(context.getString(R.string.al_speak))){
+            ((ConversationActivity) context).SpeechToWord();
+
         }
         multimediaOptions.setVisibility(View.GONE);
     }
+
+
+
 }
\ No newline at end of file
diff --git a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/activity/ConversationActivity.java b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/activity/ConversationActivity.java
index dc1b81b0..67c7f659 100755
--- a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/activity/ConversationActivity.java
+++ b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/activity/ConversationActivity.java
@@ -3,7 +3,9 @@
 import android.animation.ObjectAnimator;
 import android.annotation.SuppressLint;
 import android.app.AlertDialog;
+import android.content.ActivityNotFoundException;
 import android.content.ClipData;
+import android.content.ClipboardManager;
 import android.content.Context;
 import android.content.DialogInterface;
 import android.content.Intent;
@@ -24,6 +26,7 @@
 import android.provider.ContactsContract;
 import android.provider.MediaStore;
 import android.provider.Settings;
+import android.speech.RecognizerIntent;
 import android.support.design.widget.Snackbar;
 import android.support.v4.app.ActivityCompat;
 import android.support.v4.app.DialogFragment;
@@ -114,6 +117,7 @@
 import java.io.File;
 import java.lang.ref.WeakReference;
 import java.text.SimpleDateFormat;
+import java.util.ArrayList;
 import java.util.Date;
 import java.util.HashSet;
 import java.util.List;
@@ -124,7 +128,7 @@
  * Created by devashish on 6/25/2015.
  */
 public class ConversationActivity extends AppCompatActivity implements MessageCommunicator, MobiComKitActivityInterface, GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener, LocationListener, ActivityCompat.OnRequestPermissionsResultCallback, MobicomkitUriListener, SearchView.OnQueryTextListener, OnClickReplyInterface, ALStoragePermissionListener, CustomToolbarListener {
-
+    protected static final int RESULT_SPEECH = 1;
     public static final int LOCATION_SERVICE_ENABLE = 1001;
     public static final String TAKE_ORDER = "takeOrder";
     public static final String CONTACT = "contact";
@@ -646,6 +650,37 @@ protected void onActivityResult(int requestCode, int resultCode, Intent data) {
                 }
                 return;
             }
+            switch (requestCode) {
+                case RESULT_SPEECH: {
+                    if (resultCode == RESULT_OK && data != null) {
+                        //返回结果是一个list，我们一般取的是第一个最匹配的结果
+                        final ArrayList<String> text = data
+                                .getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);
+                        AlertDialog.Builder builder = new AlertDialog.Builder(this);
+                        builder.setTitle("Identify_Result")
+                                .setMessage(text.get(0))
+                                .setPositiveButton("Copy", new DialogInterface.OnClickListener() {
+                                    @Override
+                                    public void onClick(DialogInterface dialog,
+                                                        int which) {
+                                        ClipboardManager cm = (ClipboardManager) getSystemService(Context.CLIPBOARD_SERVICE);
+                                        ClipData mClipData = ClipData.newPlainText("Label", text.get(0));
+                                        cm.setPrimaryClip(mClipData);
+                                        Toast.makeText(getApplicationContext(),"Copy Successfully !",Toast.LENGTH_LONG).show();
+
+                                    }
+                                })
+                                .setNegativeButton("Retry", new DialogInterface.OnClickListener() {
+                                    @Override
+                                    public void onClick(DialogInterface dialog,
+                                                        int which) {
+                                        SpeechToWord();
+                                    }
+                                })
+                                .show();
+
+                }
+                    break;}}
         } catch (Exception e) {
             e.printStackTrace();
         }
@@ -1228,6 +1263,25 @@ public void processContact() {
             startActivityForResult(contactIntent, MultimediaOptionFragment.REQUEST_CODE_CONTACT_SHARE);
         }
     }
+  public void SpeechToWord(){
+      Intent intent = new Intent(
+              RecognizerIntent.ACTION_RECOGNIZE_SPEECH);
+      //设置模式，目前设置的是自由识别模式
+      intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);
+      //提示语言开始文字，就是效果图上面的文字
+      intent.putExtra(RecognizerIntent.EXTRA_PROMPT, "Please start your voice");
+      try {
+          startActivityForResult(intent, RESULT_SPEECH);
+          Toast.makeText(this,"",Toast.LENGTH_LONG).show();
+      } catch (ActivityNotFoundException a) {
+          Toast t = Toast.makeText(this,
+                  "Opps! Your device doesn't support Speech to Text",
+                  Toast.LENGTH_SHORT);
+          t.show();
+      }
+
+  }
+
 
     public void imageCapture() {
         try {
diff --git a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/adapter/DetailedConversationAdapter.java b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/adapter/DetailedConversationAdapter.java
index 63ac644a..7841f606 100644
--- a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/adapter/DetailedConversationAdapter.java
+++ b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/adapter/DetailedConversationAdapter.java
@@ -1533,6 +1533,9 @@ public void onCreateContextMenu(ContextMenu menu, View v, ContextMenu.ContextMen
                 if (menuItems[i].equals(context.getResources().getString(R.string.share)) && (message.isAttachmentUploadInProgress() || message.getFilePaths() == null || !(new File(message.getFilePaths().get(0)).exists()))) {
                     continue;
                 }
+                if(menuItems[i].equals("identify")){
+                    continue;
+                }
 
                 MenuItem item = menu.add(Menu.NONE, i, i, menuItems[i]);
                 item.setOnMenuItemClickListener(onEditMenu);
diff --git a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/adapter/QuickConversationAdapter.java b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/adapter/QuickConversationAdapter.java
index 0e3b0ab0..b14ba589 100644
--- a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/adapter/QuickConversationAdapter.java
+++ b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/adapter/QuickConversationAdapter.java
@@ -2,9 +2,11 @@
 
 import android.app.Activity;
 import android.content.Context;
+import android.content.SharedPreferences;
 import android.graphics.Bitmap;
 import android.graphics.drawable.GradientDrawable;
 import android.support.v4.app.FragmentActivity;
+import android.support.v7.app.AppCompatActivity;
 import android.support.v7.widget.RecyclerView;
 import android.text.Html;
 import android.text.SpannableString;
@@ -22,6 +24,7 @@
 import android.widget.ImageView;
 import android.widget.ProgressBar;
 import android.widget.TextView;
+import android.widget.Toast;
 
 import com.applozic.mobicomkit.api.account.user.MobiComUserPreference;
 import com.applozic.mobicomkit.api.conversation.Message;
@@ -87,7 +90,7 @@
     private AlCustomizationSettings alCustomizationSettings;
     private View view;
     private ConversationUIService conversationUIService;
-
+    public SharedPreferences MarkList;
     public void setAlCustomizationSettings(AlCustomizationSettings alCustomizationSettings) {
         this.alCustomizationSettings = alCustomizationSettings;
     }
@@ -491,6 +494,9 @@ public void onCreateContextMenu(ContextMenu menu, View v, ContextMenu.ContextMen
             }
 
             for (int i = 0; i < menuItems.length; i++) {
+                if(menuItems[i].equals(Utils.getString(context,R.string.Concern))){
+                    continue;
+                }
 
                 if ((message.getGroupId() == null || (channel != null && (Channel.GroupType.GROUPOFTWO.getValue().equals(channel.getType()) || Channel.GroupType.SUPPORT_GROUP.getValue().equals(channel.getType())))) && (menuItems[i].equals(Utils.getString(context, R.string.delete_group)) ||
                         menuItems[i].equals(Utils.getString(context, R.string.exit_group)))) {
@@ -508,6 +514,7 @@ public void onCreateContextMenu(ContextMenu menu, View v, ContextMenu.ContextMen
                     continue;
                 }
 
+
                 MenuItem item = menu.add(Menu.NONE, i, i, menuItems[i]);
                 item.setOnMenuItemClickListener(onEditMenu);
             }
@@ -553,8 +560,26 @@ public boolean onMenuItemClick(MenuItem item) {
                             conversationUIService.channelLeaveProcess(channel);
                         }
                         break;
-                    default:
-                        //return onMenuItemClick(item);
+                    case 3:
+                        String MarkID = contact.getUserId();
+                        MarkList = QuickConversationAdapter.this.context.getSharedPreferences("MarkList", Context.MODE_PRIVATE);
+                        SharedPreferences.Editor editor = MarkList.edit();
+                        editor.putString("Mark_ID",MarkID);
+                        editor.putBoolean("USER_ID", true);
+                        editor.commit();
+                        Toast.makeText(QuickConversationAdapter.this.context,"Mark Successfully !" ,Toast.LENGTH_LONG).show();
+                        break;
+                    case 4:
+                        MarkList =context.getSharedPreferences("MarkList", Context.MODE_PRIVATE);
+                        String MarkID2=MarkList.getString("Mark_ID",null);
+                        if(MarkID2==null){
+                            Toast.makeText(QuickConversationAdapter.this.context,"The Contact is not in Mark List !",Toast.LENGTH_SHORT).show();
+                        }else{
+                        MarkList.edit().clear().commit();
+                        Toast.makeText(QuickConversationAdapter.this.context,"Cancel Mark Successfully !",Toast.LENGTH_LONG).show();}
+                        break;
+                        default:
+
                 }
                 return true;
             }
diff --git a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/fragment/ConversationFragment.java b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/fragment/ConversationFragment.java
index 5d35f1a8..58dc91c5 100755
--- a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/fragment/ConversationFragment.java
+++ b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/fragment/ConversationFragment.java
@@ -1,8 +1,10 @@
 package com.applozic.mobicomkit.uiwidgets.conversation.fragment;
 
 import android.app.Activity;
+import android.content.Intent;
 import android.location.Location;
 import android.os.Bundle;
+import android.speech.RecognizerIntent;
 import android.support.v7.app.AppCompatActivity;
 import android.text.TextUtils;
 import android.view.LayoutInflater;
@@ -30,10 +32,12 @@
 import java.util.List;
 import java.util.Map;
 
+import static com.applozic.mobicomkit.uiwidgets.conversation.fragment.MultimediaOptionFragment.RESULT_OK;
+
 
 public class ConversationFragment extends MobiComConversationFragment implements SearchListFragment {
 
-    public static final int ATTCHMENT_OPTIONS = 6;
+    public static final int ATTCHMENT_OPTIONS = 7;
     private static final String TAG = "ConversationFragment";
     private final static String CONTACT = "CONTACT";
     private final static String CHANNEL = "CHANNEL";
@@ -45,7 +49,6 @@
     private List<String> attachmentKey = new ArrayList<>();
     private List<String> attachmentText = new ArrayList<>();
     private List<String> attachmentIcon = new ArrayList<>();
-
     public static ConversationFragment newInstance(Contact contact, Channel channel, Integer conversationId, String searchString) {
         ConversationFragment f = new ConversationFragment();
         Bundle args = new Bundle();
@@ -79,6 +82,7 @@ public void onCreate(Bundle savedInstanceState) {
         }
     }
 
+
     public void attachLocation(Location mCurrentLocation) {
         String address = LocationUtils.getAddress(getActivity(), mCurrentLocation);
         if (!TextUtils.isEmpty(address)) {
diff --git a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/fragment/FileURL.java b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/fragment/FileURL.java
new file mode 100644
index 00000000..42378576
--- /dev/null
+++ b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/fragment/FileURL.java
@@ -0,0 +1,17 @@
+package com.applozic.mobicomkit.uiwidgets.conversation.fragment;
+
+import android.os.Environment;
+
+import java.io.File;
+
+public  class FileURL {
+    private String path = Environment.getExternalStorageDirectory().toString() + "/tessdata";
+    /**
+     * 创建一个文件
+     * @param FileName 文件名
+     * @return
+     */
+    public File createFile(String FileName) {
+        return new File(path, FileName);
+    }
+}
\ No newline at end of file
diff --git a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/fragment/MessageInfoFragment.java b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/fragment/MessageInfoFragment.java
index 2e286dda..8fab0249 100755
--- a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/fragment/MessageInfoFragment.java
+++ b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/fragment/MessageInfoFragment.java
@@ -2,6 +2,7 @@
 
 import android.app.Activity;
 import android.content.Context;
+import android.content.SharedPreferences;
 import android.graphics.Bitmap;
 import android.graphics.drawable.GradientDrawable;
 import android.os.AsyncTask;
@@ -43,6 +44,7 @@
 import com.applozic.mobicomkit.uiwidgets.R;
 import com.applozic.mobicomkit.uiwidgets.alphanumbericcolor.AlphaNumberColorUtil;
 import com.applozic.mobicomkit.uiwidgets.conversation.activity.ConversationActivity;
+import com.applozic.mobicomkit.uiwidgets.conversation.adapter.QuickConversationAdapter;
 import com.applozic.mobicommons.commons.core.utils.DateUtils;
 import com.applozic.mobicommons.commons.core.utils.LocationUtils;
 import com.applozic.mobicommons.commons.core.utils.Utils;
@@ -70,7 +72,7 @@
     private BaseContactService contactService;
     private FileClientService fileClientService;
     private String geoApiKey;
-
+    public SharedPreferences MarkList;
     public MessageInfoFragment() {
     }
 
@@ -81,6 +83,9 @@ public void onCreate(Bundle savedInstanceState) {
         contactService = new AppContactService(getContext());
         fileClientService = new FileClientService(getContext());
         geoApiKey = Utils.getMetaDataValue(getContext().getApplicationContext(), ConversationActivity.GOOGLE_API_KEY_META_DATA);
+        MarkList = MessageInfoFragment.this.getContext().getSharedPreferences("MarkList", Context.MODE_PRIVATE);
+        String MarkID=MarkList.getString("Mark_ID",null);
+
     }
 
     public View onCreateView(LayoutInflater inflater, ViewGroup container,
diff --git a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/fragment/MobiComConversationFragment.java b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/fragment/MobiComConversationFragment.java
index 80007f17..6f224628 100755
--- a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/fragment/MobiComConversationFragment.java
+++ b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/conversation/fragment/MobiComConversationFragment.java
@@ -11,6 +11,7 @@
 import android.content.Intent;
 import android.content.pm.PackageManager;
 import android.content.res.Configuration;
+import com.googlecode.tesseract.android.TessBaseAPI;
 import android.database.Cursor;
 import android.graphics.Bitmap;
 import android.graphics.BitmapFactory;
@@ -27,6 +28,7 @@
 import android.os.Build;
 import android.os.Bundle;
 import android.os.CountDownTimer;
+import android.os.Environment;
 import android.os.Vibrator;
 import android.provider.OpenableColumns;
 import android.support.design.widget.FloatingActionButton;
@@ -164,8 +166,12 @@
 import com.google.gson.reflect.TypeToken;
 
 import java.io.File;
+import java.io.FileOutputStream;
+import java.io.InputStream;
 import java.lang.ref.WeakReference;
 import java.lang.reflect.Type;
+import java.net.HttpURLConnection;
+import java.net.URL;
 import java.net.URLConnection;
 import java.text.SimpleDateFormat;
 import java.util.ArrayList;
@@ -189,6 +195,9 @@
 abstract public class MobiComConversationFragment extends Fragment implements View.OnClickListener, GestureDetector.OnGestureListener, ContextMenuClickListener, ALRichMessageListener {
 
     //Todo: Increase the file size limit
+    private String path = Environment.getExternalStorageDirectory().toString() + "/Applozic/image";
+    public String filename;
+    public String fileURL;
     public static final int MAX_ALLOWED_FILE_SIZE = 10 * 1024 * 1024;
     private static final String TAG = "MobiComConversation";
     private static int count;
@@ -1755,10 +1764,65 @@ public boolean onItemClick(int position, MenuItem item) {
 
                 }
                 break;
-        }
+
+            case 7:
+                if(message.hasAttachment()){
+                FileMeta fileMeta = message.getFileMetas();
+                if (fileMeta.getContentType().contains("image")) {
+                    filename= fileMeta.getName();
+                    fileMeta.getCreatedAtTime();
+                    fileURL=fileMeta.getThumbnailUrl();
+                TessBaseAPI tessBaseAPI = new TessBaseAPI();
+                tessBaseAPI.setDebug(true);
+                tessBaseAPI.init("/sdcard/", "eng");
+                String path = "/sdcard/Applozic/image/"+filename;
+                tessBaseAPI.setImage(GetBitmap(path));
+                final String result = tessBaseAPI.getUTF8Text();
+                tessBaseAPI.end();
+                AlertDialog.Builder builder = new AlertDialog.Builder(MobiComConversationFragment.this.getContext());
+                builder.setTitle("Identify Result")
+                        .setMessage(result)
+                        .setPositiveButton("Copy", new DialogInterface.OnClickListener() {
+                            @Override
+                            public void onClick(DialogInterface dialog,
+                                                int which) {
+                                android.text.ClipboardManager clipboard = (android.text.ClipboardManager) ApplozicService.getContext(getContext()).getSystemService(Context.CLIPBOARD_SERVICE);
+                                clipboard.setText(result);
+                            }
+                        })
+                        .setNegativeButton("Cancel", new DialogInterface.OnClickListener() {
+                            @Override
+                            public void onClick(DialogInterface dialog,
+                                                int which) {
+                            }
+                        })
+                        .show();
+
+        }}
+        else {
+                    Toast.makeText(MobiComConversationFragment.this.getContext(),"Only Photo can identify",Toast.LENGTH_LONG).show();
+                }}
+
         return true;
     }
 
+
+    public static Bitmap GetBitmap(String path) {
+        BitmapFactory.Options opts = new BitmapFactory.Options();
+        opts.inJustDecodeBounds = true;
+        opts.inPreferredConfig = Bitmap.Config.ARGB_8888;
+        BitmapFactory.decodeFile(path, opts);
+        int width = opts.outWidth+20;
+        int height = opts.outHeight+30;
+        float scaleWidth = 0.f, scaleHeight = 0.f;
+        opts.inJustDecodeBounds = false;
+        float scale = Math.max(scaleWidth, scaleHeight);
+        opts.inSampleSize = (int) scale;
+        WeakReference<Bitmap> weak = new WeakReference<Bitmap>(
+                BitmapFactory.decodeFile(path, opts));
+        return Bitmap.createScaledBitmap(weak.get(), width, height, true);
+    }
+
     public void loadConversation(final Contact contact, final Channel channel, final Integer conversationId, final String searchString) {
         try {
             if (downloadConversation != null) {
diff --git a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/uikit/AlUIService.java b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/uikit/AlUIService.java
index 4eb2cd77..b805f4f8 100644
--- a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/uikit/AlUIService.java
+++ b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/uikit/AlUIService.java
@@ -178,4 +178,5 @@ private void showToastMessage(final String messageToShow) {
         toast.setGravity(Gravity.CENTER, 0, 0);
         toast.show();
     }
+
 }
diff --git a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/uikit/adapters/AlConversationAdapter.java b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/uikit/adapters/AlConversationAdapter.java
index 2c0266b2..ece9f75d 100644
--- a/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/uikit/adapters/AlConversationAdapter.java
+++ b/mobicomkitui/src/main/java/com/applozic/mobicomkit/uiwidgets/uikit/adapters/AlConversationAdapter.java
@@ -10,6 +10,7 @@
 import android.widget.AdapterView;
 import android.widget.ImageView;
 import android.widget.TextView;
+import android.widget.Toast;
 
 import com.applozic.mobicomkit.api.conversation.Message;
 import com.applozic.mobicomkit.channel.service.ChannelService;
@@ -139,6 +140,7 @@ public void onCreateContextMenu(ContextMenu menu, View v, ContextMenu.ContextMen
                     continue;
                 }
 
+
                 MenuItem item = menu.add(Menu.NONE, i, i, menuItems[i]);
                 item.setOnMenuItemClickListener(onEditMenu);
             }
@@ -161,7 +163,7 @@ public boolean onMenuItemClick(MenuItem item) {
                     case 2:
                         uiService.channelLeaveProcess(properties.getChannel());
                         break;
-                    default:
+
                 }
                 return true;
             }
diff --git a/mobicomkitui/src/main/res/values/mobicom_array.xml b/mobicomkitui/src/main/res/values/mobicom_array.xml
index 4acb13ae..1b8a6c95 100755
--- a/mobicomkitui/src/main/res/values/mobicom_array.xml
+++ b/mobicomkitui/src/main/res/values/mobicom_array.xml
@@ -31,12 +31,15 @@
         <item>Info</item>
         <item>Share</item>
         <item>Reply</item>
+        <item>Identify</item>
     </string-array>
 
     <string-array name="conversation_options_menu">
         <item>Delete conversation</item>
         <item>Delete group</item>
         <item>Exit group</item>
+        <item>Bookmark</item>
+        <item>Cancel Bookmark</item>
     </string-array>
 
     <!--Group member list menu -->
@@ -88,6 +91,7 @@
         <item>Audio</item>
         <item>Video</item>
         <item>Contact</item>
+        <item>Speak</item>
     </string-array>
 
     <string-array name="multimediaOptions_without_price_key">
@@ -97,6 +101,7 @@
         <item>:audio</item>
         <item>:video</item>
         <item>:contact</item>
+        <item>:speak</item>
     </string-array>
 
     <string-array name="multimediaOptionIcons_without_price">
@@ -106,6 +111,7 @@
         <item>&#xf130;</item>
         <item>&#xf03d;</item>
         <item>&#xf007;</item>
+        <item>&#xf170;</item>
     </string-array>
 
     <string-array name="notification_texts">
diff --git a/mobicomkitui/src/main/res/values/mobicom_strings.xml b/mobicomkitui/src/main/res/values/mobicom_strings.xml
index 8d7c5eba..24c457aa 100755
--- a/mobicomkitui/src/main/res/values/mobicom_strings.xml
+++ b/mobicomkitui/src/main/res/values/mobicom_strings.xml
@@ -68,6 +68,7 @@
     <string name="verification_success">Your phone number got verified successfully</string>
     <string name="launch_mobitexter_app">LAUNCH_MOBITEXTER</string>
     <string name="delete_conversation">Delete conversation</string>
+    <string name="Concern">Concern</string>
     <string name="sync_messages_from_server">Syncing with the server…</string>
 
     <string name="incoming_call">Received call</string>
diff --git a/mobicomkitui/src/main/res/values/strings.xml b/mobicomkitui/src/main/res/values/strings.xml
index cb6f1f93..cf3c43b1 100755
--- a/mobicomkitui/src/main/res/values/strings.xml
+++ b/mobicomkitui/src/main/res/values/strings.xml
@@ -159,6 +159,7 @@
     <string name="al_video">:video</string>
     <string name="al_contact">:contact</string>
     <string name="al_price">:price</string>
+    <string name="al_speak">:speak</string>
     <string name="current_location">Current Location</string>
     <string name="price">Price</string>
     <string name="status">status</string>
diff --git a/mobicommons/mobicommons.iml b/mobicommons/mobicommons.iml
index 89a1cbdc..c9d97491 100755
--- a/mobicommons/mobicommons.iml
+++ b/mobicommons/mobicommons.iml
@@ -88,7 +88,6 @@
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/annotations" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/attr" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/blame" />
-      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/bundles" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/check-manifest" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/classes" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/extractedTypedefs" />
@@ -97,7 +96,6 @@
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/javaPrecompile" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/jniLibs" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/library_and_local_jars_jni" />
-      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/lint" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/manifests" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/packaged-aidl" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/packaged-classes" />
@@ -108,9 +106,7 @@
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/res" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/rs" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/shaders" />
-      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/splits-support" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/symbols" />
-      <excludeFolder url="file://$MODULE_DIR$/build/intermediates/tmp" />
       <excludeFolder url="file://$MODULE_DIR$/build/intermediates/transforms" />
       <excludeFolder url="file://$MODULE_DIR$/build/outputs" />
       <excludeFolder url="file://$MODULE_DIR$/build/tmp" />
@@ -120,6 +116,7 @@
     <orderEntry type="library" name="Gradle: android.arch.lifecycle:common:1.1.0@jar" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-fragment-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-annotations:27.1.1@jar" level="project" />
+    <orderEntry type="library" name="Gradle: com.google.code.gson:gson:2.8.5@jar" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:animated-vector-drawable-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: android.arch.core:runtime-1.1.0" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-compat-27.1.1" level="project" />
@@ -130,7 +127,6 @@
     <orderEntry type="library" name="Gradle: com.android.support:support-core-ui-27.1.1" level="project" />
     <orderEntry type="library" name="Gradle: android.arch.core:common:1.1.0@jar" level="project" />
     <orderEntry type="library" name="Gradle: com.android.support:support-core-utils-27.1.1" level="project" />
-    <orderEntry type="library" name="Gradle: com.google.code.gson:gson:2.8.0@jar" level="project" />
     <orderEntry type="library" name="Gradle: android.arch.lifecycle:runtime-1.1.0" level="project" />
   </component>
 </module>
\ No newline at end of file
diff --git a/mobicommons/src/main/java/com/applozic/mobicommons/file/FileUtils.java b/mobicommons/src/main/java/com/applozic/mobicommons/file/FileUtils.java
index aa9e7880..fd544dfd 100755
--- a/mobicommons/src/main/java/com/applozic/mobicommons/file/FileUtils.java
+++ b/mobicommons/src/main/java/com/applozic/mobicommons/file/FileUtils.java
@@ -123,7 +123,7 @@ public int compare(File f1, File f2) {
         }
     };
 
-    private FileUtils() {
+    public FileUtils() {
     } //private constructor to enforce Singleton pattern
 
     /**
