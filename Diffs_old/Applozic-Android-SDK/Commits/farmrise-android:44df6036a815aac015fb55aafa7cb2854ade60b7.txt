diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
index fb70bd0a..63f64711 100755
--- a/app/src/main/AndroidManifest.xml
+++ b/app/src/main/AndroidManifest.xml
@@ -143,7 +143,7 @@
 
         <meta-data
             android:name="com.applozic.application.key"
-            android:value="climated036533ecf63c100e720270fd3d977c5" />
+            android:value="orphan12e5101382f0cc751fa8c224" />
         <meta-data
             android:name="com.applozic.server.url"
             android:value="@string/default_server_url" />
diff --git a/app/src/main/java/com/applozic/mobicomkit/sample/HomeActivity.java b/app/src/main/java/com/applozic/mobicomkit/sample/HomeActivity.java
index ed585d93..b20ebdf2 100644
--- a/app/src/main/java/com/applozic/mobicomkit/sample/HomeActivity.java
+++ b/app/src/main/java/com/applozic/mobicomkit/sample/HomeActivity.java
@@ -101,7 +101,7 @@ private void initialize() {
         mStacks = new HashMap<>();
         mStacks.put(TAB_HOME, new Stack<Fragment>());
         mStacks.put(TAB_CHAT, new Stack<Fragment>());
-        Applozic.init(this, "climated036533ecf63c100e720270fd3d977c5");
+        Applozic.init(this, "orphan12e5101382f0cc751fa8c224");
 
 
     }
@@ -332,26 +332,31 @@ public void onSuccess(RegistrationResponse registrationResponse, final Context c
                 activityCallbacks.put(ApplozicSetting.RequestCode.USER_LOOUT, HomeActivity.class.getName());
                 ApplozicSetting.getInstance(context).setActivityCallbacks(activityCallbacks);
 
-                //Set activity callbacks
+                if(MobiComUserPreference.getInstance(context).isRegistered()) {
+
+
+                    //Set activity callbacks
                     /*Map<ApplozicSetting.RequestCode, String> activityCallbacks = new HashMap<ApplozicSetting.RequestCode, String>();
                     activityCallbacks.put(ApplozicSetting.RequestCode.MESSAGE_TAP, MainActivity.class.getName());
                     ApplozicSetting.getInstance(context).setActivityCallbacks(activityCallbacks);*/
 
-                //Start GCM registration....
+                    //Start GCM registration....
+                    PushNotificationTask pushNotificationTask = null;
+                    PushNotificationTask.TaskListener pushNotificationTaskListener = new PushNotificationTask.TaskListener() {
+                        @Override
+                        public void onSuccess(RegistrationResponse registrationResponse) {
 
-                PushNotificationTask.TaskListener pushNotificationTaskListener = new PushNotificationTask.TaskListener() {
-                    @Override
-                    public void onSuccess(RegistrationResponse registrationResponse) {
-
-                    }
+                        }
 
-                    @Override
-                    public void onFailure(RegistrationResponse registrationResponse, Exception exception) {
+                        @Override
+                        public void onFailure(RegistrationResponse registrationResponse, Exception exception) {
 
-                    }
-                };
-                PushNotificationTask pushNotificationTask = new PushNotificationTask(Applozic.getInstance(context).getDeviceRegistrationId(), pushNotificationTaskListener, context);
-                pushNotificationTask.execute((Void) null);
+                        }
+                    };
+                     pushNotificationTask = new PushNotificationTask(
+                            Applozic.getInstance(context).getDeviceRegistrationId(), pushNotificationTaskListener, context);
+                    pushNotificationTask.execute((Void) null);
+                }
 
                 ApplozicClient.getInstance(context).hideChatListOnNotification();
                 pushFragments(TAB_CHAT, new MobiComQuickConversationFragment(), true);
@@ -375,8 +380,8 @@ public void onClick(DialogInterface dialog, int which) {
         };
 
         User user = new User();
-        user.setUserId("9148764871");
-        user.setContactNumber("9148764871");
+        user.setUserId("skrold");
+        user.setContactNumber("9959841814");
 
         new UserLoginTask(user, listener, this).execute((Void) null);
 
diff --git a/app/src/main/java/com/applozic/mobicomkit/sample/pushnotification/FcmInstanceIDListenerService.java b/app/src/main/java/com/applozic/mobicomkit/sample/pushnotification/FcmInstanceIDListenerService.java
index b082b17c..79c301d3 100755
--- a/app/src/main/java/com/applozic/mobicomkit/sample/pushnotification/FcmInstanceIDListenerService.java
+++ b/app/src/main/java/com/applozic/mobicomkit/sample/pushnotification/FcmInstanceIDListenerService.java
@@ -18,7 +18,22 @@
 
     @Override
     public void onTokenRefresh() {
-        super.onTokenRefresh();
+        // Get updated InstanceID token.
+        String refreshedToken = FirebaseInstanceId.getInstance().getToken();
+
+        Applozic.getInstance(this).setDeviceRegistrationId(refreshedToken);
+
+        if (MobiComUserPreference.getInstance(this).isRegistered()) {
+            try {
+                new RegisterUserClientService(this).updatePushNotificationId(refreshedToken);
+            } catch (Exception e) {
+                e.printStackTrace();
+            }
+        }
+    }
+}
+
+      /*  super.onTokenRefresh();
 
         String registrationId = FirebaseInstanceId.getInstance().getToken();
         Log.i(TAG, "Found Registration Id:" + registrationId);
@@ -32,4 +47,4 @@ public void onTokenRefresh() {
         }
 
     }
-}
+}*/
diff --git a/app/src/main/java/com/applozic/mobicomkit/sample/pushnotification/FcmListenerService.java b/app/src/main/java/com/applozic/mobicomkit/sample/pushnotification/FcmListenerService.java
index fa2507bc..a43a1252 100755
--- a/app/src/main/java/com/applozic/mobicomkit/sample/pushnotification/FcmListenerService.java
+++ b/app/src/main/java/com/applozic/mobicomkit/sample/pushnotification/FcmListenerService.java
@@ -21,6 +21,7 @@ public void onMessageReceived(RemoteMessage remoteMessage) {
         Log.i(TAG, "Message data:" + remoteMessage.getData());
 
         if (remoteMessage.getData().size() > 0) {
+
             if (MobiComPushReceiver.isMobiComPushNotification(remoteMessage.getData())) {
                 Log.i(TAG, "Applozic notification processing...");
                 MobiComPushReceiver.processMessageAsync(this, remoteMessage.getData());
@@ -30,4 +31,6 @@ public void onMessageReceived(RemoteMessage remoteMessage) {
 
     }
 
+
+
 }
\ No newline at end of file
diff --git a/mobicomkit/src/main/java/com/applozic/mobicomkit/api/account/user/UserLoginTask.java b/mobicomkit/src/main/java/com/applozic/mobicomkit/api/account/user/UserLoginTask.java
index b1609922..c7030a13 100755
--- a/mobicomkit/src/main/java/com/applozic/mobicomkit/api/account/user/UserLoginTask.java
+++ b/mobicomkit/src/main/java/com/applozic/mobicomkit/api/account/user/UserLoginTask.java
@@ -83,4 +83,6 @@ protected void onPostExecute(final Boolean result) {
     }
 
 
+
+
 }
\ No newline at end of file
