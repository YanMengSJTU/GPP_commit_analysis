diff --git a/calligraphy/build.gradle b/calligraphy/build.gradle
index e5e54a5..608b1a8 100644
--- a/calligraphy/build.gradle
+++ b/calligraphy/build.gradle
@@ -1,5 +1,6 @@
 apply plugin: 'com.android.library'
 
+
 android {
     compileSdkVersion 28
     buildToolsVersion "28.0.3"
@@ -7,8 +8,8 @@ android {
     defaultConfig {
         minSdkVersion 14
         targetSdkVersion 28
-        versionCode project.ext.versionCodeInt
-        versionName version
+        versionCode 10000
+        versionName "10000"
         consumerProguardFiles 'consumer-proguard-rules.txt'
     }
 
@@ -18,21 +19,21 @@ android {
             proguardFiles getDefaultProguardFile('proguard-android.txt'), 'consumer-proguard-rules.txt'
         }
     }
+}
 
-    lintOptions {
-        // we don't always want to use the latest version of the support library
-        disable 'GradleDependency'
-        textOutput 'stdout'
-        textReport System.getenv('CI') == 'true'
-    }
+repositories {
+    mavenCentral()
+    maven { url 'https://maven.google.com' }
+    jcenter()
 }
 
 dependencies {
-    compileOnly 'androidx.appcompat:appcompat:1.0.2'
-    implementation 'io.github.inflationx:viewpump:1.0.0'
+//    compile 'androidx.appcompat:appcompat:1.0.2'
+    compile 'com.android.support:appcompat-v7:28.0.0'
 
-    testImplementation 'androidx.annotation:annotation:1.0.0'
-    testImplementation 'androidx.test:runner:1.1.0'
-}
+//    compile 'io.github.inflationx:viewpump:2.0.3'
 
-apply from: rootProject.file('gradle/deploy.gradle')
+    testCompile 'androidx.annotation:annotation:1.0.0'
+    testCompile 'androidx.test:runner:1.1.0'
+    compile project(path: ':viewpump')
+}
diff --git a/calligraphy/src/main/AndroidManifest.xml b/calligraphy/src/main/AndroidManifest.xml
index 03512e3..cb1c48e 100644
--- a/calligraphy/src/main/AndroidManifest.xml
+++ b/calligraphy/src/main/AndroidManifest.xml
@@ -1,4 +1,9 @@
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
     package="io.github.inflationx.calligraphy3">
-    <application />
+
+    <application
+        android:appComponentFactory="whateverString"
+        tools:replace="android:appComponentFactory"
+        tools:targetApi="p" />
 </manifest>
diff --git a/calligraphy/src/main/java/io/github/inflationx/calligraphy3/Calligraphy.java b/calligraphy/src/main/java/io/github/inflationx/calligraphy3/Calligraphy.java
index caf8b66..d40f5c8 100644
--- a/calligraphy/src/main/java/io/github/inflationx/calligraphy3/Calligraphy.java
+++ b/calligraphy/src/main/java/io/github/inflationx/calligraphy3/Calligraphy.java
@@ -3,23 +3,26 @@
 import android.annotation.SuppressLint;
 import android.annotation.TargetApi;
 import android.content.Context;
+import android.content.res.Resources;
 import android.graphics.Typeface;
 import android.os.Build;
+import android.support.annotation.NonNull;
+import android.support.v7.widget.Toolbar;
 import android.text.TextUtils;
 import android.util.AttributeSet;
+import android.util.Log;
 import android.view.View;
 import android.view.ViewTreeObserver;
 import android.widget.TextView;
-
 import java.lang.ref.WeakReference;
 import java.lang.reflect.Method;
 
-import androidx.appcompat.widget.Toolbar;
 
 class Calligraphy {
 
     private static final String ACTION_BAR_TITLE = "action_bar_title";
     private static final String ACTION_BAR_SUBTITLE = "action_bar_subtitle";
+    private static final String TAG = Calligraphy.class.getSimpleName();
 
     /**
      * Some styles are in sub styles, such as actionBarTextStyle etc..
@@ -91,7 +94,7 @@ protected static boolean parentIsToolbarV7(View view) {
      */
     protected static boolean matchesResourceIdName(View view, String matches) {
         if (view.getId() == View.NO_ID) return false;
-        final String resourceEntryName = view.getResources().getResourceEntryName(view.getId());
+        final String resourceEntryName = getResourceEntryName(view);
         return resourceEntryName.equalsIgnoreCase(matches);
     }
 
@@ -103,6 +106,16 @@ public Calligraphy(CalligraphyConfig calligraphyConfig) {
         this.mAttributeId = new int[]{calligraphyConfig.getAttrId()};
     }
 
+    @NonNull
+    private static String getResourceEntryName(@NonNull View view) {
+        try {
+            return view.getResources().getResourceEntryName(view.getId());
+        } catch (Resources.NotFoundException exception) {
+            Log.w(TAG, "An error occurred when trying to get resource entry name.", exception);
+            return "";
+        }
+    }
+
     /**
      * Handle the created view
      *
diff --git a/calligraphy/src/main/java/io/github/inflationx/calligraphy3/CalligraphyConfig.java b/calligraphy/src/main/java/io/github/inflationx/calligraphy3/CalligraphyConfig.java
index bc5095e..84e76ee 100644
--- a/calligraphy/src/main/java/io/github/inflationx/calligraphy3/CalligraphyConfig.java
+++ b/calligraphy/src/main/java/io/github/inflationx/calligraphy3/CalligraphyConfig.java
@@ -1,7 +1,14 @@
 package io.github.inflationx.calligraphy3;
 
 import android.os.Build;
-
+import android.support.v7.widget.AppCompatAutoCompleteTextView;
+import android.support.v7.widget.AppCompatButton;
+import android.support.v7.widget.AppCompatCheckBox;
+import android.support.v7.widget.AppCompatCheckedTextView;
+import android.support.v7.widget.AppCompatEditText;
+import android.support.v7.widget.AppCompatMultiAutoCompleteTextView;
+import android.support.v7.widget.AppCompatRadioButton;
+import android.support.v7.widget.AppCompatTextView;
 import android.text.TextUtils;
 import android.view.View;
 import android.widget.AutoCompleteTextView;
@@ -19,14 +26,6 @@
 import java.util.Map;
 import java.util.Set;
 
-import androidx.appcompat.widget.AppCompatAutoCompleteTextView;
-import androidx.appcompat.widget.AppCompatButton;
-import androidx.appcompat.widget.AppCompatCheckBox;
-import androidx.appcompat.widget.AppCompatCheckedTextView;
-import androidx.appcompat.widget.AppCompatEditText;
-import androidx.appcompat.widget.AppCompatMultiAutoCompleteTextView;
-import androidx.appcompat.widget.AppCompatRadioButton;
-import androidx.appcompat.widget.AppCompatTextView;
 
 /**
  * Created by chris on 20/12/2013
diff --git a/calligraphy/src/main/java/io/github/inflationx/calligraphy3/CalligraphyInterceptor.java b/calligraphy/src/main/java/io/github/inflationx/calligraphy3/CalligraphyInterceptor.java
index 6bcdee3..37812b0 100644
--- a/calligraphy/src/main/java/io/github/inflationx/calligraphy3/CalligraphyInterceptor.java
+++ b/calligraphy/src/main/java/io/github/inflationx/calligraphy3/CalligraphyInterceptor.java
@@ -5,6 +5,7 @@
 import io.github.inflationx.viewpump.InflateResult;
 import io.github.inflationx.viewpump.Interceptor;
 
+
 public class CalligraphyInterceptor implements Interceptor {
 
     private final Calligraphy calligraphy;
