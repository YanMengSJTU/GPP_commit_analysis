diff --git a/marmoset/src/main/java/com/graphhopper/marmoset/Vehicle.java b/marmoset/src/main/java/com/graphhopper/marmoset/Vehicle.java
index 91f0b84c34..d49de5f1fe 100644
--- a/marmoset/src/main/java/com/graphhopper/marmoset/Vehicle.java
+++ b/marmoset/src/main/java/com/graphhopper/marmoset/Vehicle.java
@@ -181,6 +181,11 @@ public void updateLocation()
     private void nextEdge()
     {
         edgeIndex++;
+        if (edgeIndex >= edgeList.size() - 1)
+        {
+            finished = true;
+            return;
+        }
         edgeId = edgeList.get(edgeIndex).getEdge();
         cellId = 0;
     }
