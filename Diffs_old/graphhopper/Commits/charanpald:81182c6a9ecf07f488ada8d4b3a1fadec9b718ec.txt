diff --git a/README.md b/README.md
index 7b6716f47b..8551ee9b23 100644
--- a/README.md
+++ b/README.md
@@ -147,10 +147,70 @@ cd core/files/
 docker-compose up -d
 ```
 
+### Setup as a service on Ubuntu 16.04
+1. Create a bash script in /etc/init.d and call it graphhopper:
+#!/bin/sh
+### BEGIN INIT INFO
+# Provides:          graphhopper
+# Required-Start:    $remote_fs $network
+# Required-Stop:     $remote_fs $network
+# Default-Start: 2 3 4 5
+# Default-Stop: 0 1 6
+# Short-Description: graphhopper
+# Description:       graphhopper
+### END INIT INFO
+
+SERVICE_NAME=graphhopper
+WORKSPACE=/var/www/GH2
+PATH_TO_JAR=/var/www/GH2/graphhopper-web.jar
+PID_PATH_NAME=/tmp/graphhopper-pid
+case $1 in
+    start)
+        echo "Starting $SERVICE_NAME ..."
+        if [ ! -f $PID_PATH_NAME ]; then
+            nohup java -jar $PATH_TO_JAR jetty.resourcebase=$WORKSPACE/webapp config=$WORKSPACE/config.properties datareader.file=$WORKSPACE/england-latest.osm.pbf jetty.port=1991 jetty.host=0.0.0.0 /tmp 2>> /dev/null >> /dev/null &
+            echo $! > $PID_PATH_NAME
+            echo "$SERVICE_NAME started ..."
+        else
+            echo "$SERVICE_NAME is already running ..."
+        fi
+    ;;
+    stop)
+        if [ -f $PID_PATH_NAME ]; then
+            PID=$(cat $PID_PATH_NAME);
+            echo "$SERVICE_NAME stoping ..."
+            kill $PID;
+            echo "$SERVICE_NAME stopped ..."
+            rm $PID_PATH_NAME
+        else
+            echo "$SERVICE_NAME is not running ..."
+        fi
+    ;;
+    restart)
+        if [ -f $PID_PATH_NAME ]; then
+            PID=$(cat $PID_PATH_NAME);
+            echo "$SERVICE_NAME stopping ...";
+            kill $PID;
+            echo "$SERVICE_NAME stopped ...";
+            rm $PID_PATH_NAME
+            echo "$SERVICE_NAME starting ..."
+            nohup java -jar $PATH_TO_JAR /tmp 2>> /dev/null >> /dev/null &
+            echo $! > $PID_PATH_NAME
+            echo "$SERVICE_NAME started ..."
+        else
+            echo "$SERVICE_NAME is not running ..."
+        fi
+    ;;
+esac
+
+2. Ensure it is executable: chmod +x chmod +x /etc/init.d/graphhopper
+
+3. update-rc.d graphhopper defaults
 # Features
 
 Here is a list of the more detailed features including a link to the documentation:
 
+
  * [Simple start for users](./docs/web/quickstart.md) - just Java necessary! [Simple start for developers](./docs/core/quickstart-from-source.md) due to Maven.
  * Works out of the box with OpenStreetMap (osm/xml and pbf) but can be adapted to use your own data
  * OpenStreetMap integration: Takes care of the road type, the surface, barriers, access restrictions, ferries, [conditional access restrictions](https://github.com/graphhopper/graphhopper/pull/621), ...
diff --git a/core/src/main/java/com/graphhopper/storage/BaseGraph.java b/core/src/main/java/com/graphhopper/storage/BaseGraph.java
index e19bb7718d..b0b237a9f3 100644
--- a/core/src/main/java/com/graphhopper/storage/BaseGraph.java
+++ b/core/src/main/java/com/graphhopper/storage/BaseGraph.java
@@ -894,9 +894,9 @@ private long nextGeoRef(int arrayLength) {
     }
 
     protected static class EdgeIterable extends CommonEdgeIterator implements EdgeExplorer, EdgeIterator {
+
         final EdgeFilter filter;
         int nextEdgeId;
-        long osmWayId;
 
         public EdgeIterable(BaseGraph baseGraph, EdgeAccess edgeAccess, EdgeFilter filter) {
             super(-1, edgeAccess, baseGraph);
@@ -910,15 +910,6 @@ final void setEdgeId(int edgeId) {
             this.nextEdgeId = this.edgeId = edgeId;
         }
 
-        public void setOsmWayId(long osmWayId) {
-            this.osmWayId = osmWayId;
-        }
-
-        public long getOsmWayId() {
-            return this.osmWayId;
-        }
-
-
         final boolean init(int tmpEdgeId, int expectedAdjNode) {
             setEdgeId(tmpEdgeId);
             if (tmpEdgeId != EdgeIterator.NO_EDGE) {
@@ -1006,7 +997,7 @@ public EdgeIteratorState detach(boolean reverseArg) {
      * Include all edges of this storage in the iterator.
      */
     protected static class AllEdgeIterator extends CommonEdgeIterator implements AllEdgesIterator {
-        long osmWayId;
+
         public AllEdgeIterator(BaseGraph baseGraph) {
             this(baseGraph, baseGraph.edgeAccess);
         }
@@ -1020,14 +1011,6 @@ public int getMaxId() {
             return baseGraph.edgeCount;
         }
 
-        public void setOsmWayId(long osmWayId) {
-            this.osmWayId = osmWayId;
-        }
-
-        public long getOsmWayId() {
-            return this.osmWayId;
-        }
-
         @Override
         public boolean next() {
             while (true) {
@@ -1083,6 +1066,8 @@ public final EdgeIteratorState detach(boolean reverseArg) {
         protected int baseNode;
         protected int adjNode;
         protected EdgeAccess edgeAccess;
+        protected long osmWayId;
+
         // we need reverse if detach is called
         boolean reverse = false;
         boolean freshFlags;
@@ -1207,5 +1192,13 @@ public final boolean getBool(int key, boolean _default) {
         public final String toString() {
             return getEdge() + " " + getBaseNode() + "-" + getAdjNode();
         }
+
+        public void setOsmWayId(long osmWayId) {
+            this.osmWayId = osmWayId;
+        }
+
+        public long getOsmWayId() {
+            return this.osmWayId;
+        }
     }
 }
