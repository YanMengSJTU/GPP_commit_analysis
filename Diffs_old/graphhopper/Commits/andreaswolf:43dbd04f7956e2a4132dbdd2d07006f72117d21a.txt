diff --git a/web/src/main/webapp/js/main.js b/web/src/main/webapp/js/main.js
index e7e3c17ee3..2b7d9ecd77 100644
--- a/web/src/main/webapp/js/main.js
+++ b/web/src/main/webapp/js/main.js
@@ -31,6 +31,10 @@ var routeSegmentPopup = null;
 var elevationControl = null;
 var activeLayer = 'MapQuest';
 var i18nIsInitialized;
+var layerControl;
+
+var overlays = {};
+var drawRouteCallback = function() {};
 
 var iconFrom = L.icon({
     iconUrl: './img/marker-icon-green.png',
@@ -453,7 +457,7 @@ function initMap(selectLayer) {
         state: 3
     });
 
-    L.control.layers(baseMaps/*, overlays*/).addTo(map);
+    layerControl = L.control.layers(baseMaps, overlays).addTo(map);
 
     map.on('baselayerchange', function (a) {
         if (a.name) {
@@ -1098,6 +1102,7 @@ function routeLatLng(request, doQuery) {
             hiddenDiv.append(bingLink);
             $("#info").append(hiddenDiv);
         }
+        drawRouteCallback(json);
     });
 }
 
