diff --git a/core/itn-prob-route-nodelist.sh b/core/itn-prob-route-nodelist.sh
new file mode 100755
index 0000000000..01fcf60554
--- /dev/null
+++ b/core/itn-prob-route-nodelist.sh
@@ -0,0 +1,15 @@
+LOGIT=
+#LOGIT=:${HOME}/.m2/repository/org/slf4j/slf4j-log4j12/1.7.7/slf4j-log4j12-1.7.7.jar:${HOME}/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar
+
+# Exeter Data
+#DATA=${HOME}/Development/geoserver-service-test/geoservertest/itn-sample-data/58096-SX9192-2c1.xml
+# Full UK Data
+DATA=${HOME}/Development/OSMMITN/data
+
+#NODE_LIST=4000000023101616,4000000023101627,4000000023101630,4000000023102506,4000000023102509 
+NODE_LIST=4000000007082052,4000000007082053,4000000007176328,4000000007081784,4000000007082067,4000000007176334,4000000007176336,4000000007176337,4000000007180714,4000000007082054,4000000007166192,4000000007081404
+#ITN_OUTPUT=os-itn-m27-m3-north.xml
+ITN_OUTPUT=os-itn-carlisle-warwick-road.xml
+
+java -Xmx4096m -Xms2048m -XX:+UseParallelGC -XX:+UseParallelOldGC -cp ../tools/target/classes:target/classes:${HOME}/.m2/repository/net/java/dev/jsr-275/jsr-275/1.0-beta-2/jsr-275-1.0-beta-2.jar:${HOME}/.m2/repository/java3d/vecmath/1.3.2/vecmath-1.3.2.jar:${HOME}/.m2/repository/org/geotools/gt-opengis/12.1/gt-opengis-12.1.jar:${HOME}/.m2/repository/org/geotools/gt-epsg-hsql/12.1/gt-epsg-hsql-12.1.jar:${HOME}/.m2/repository/org/hsqldb/hsqldb/2.3.2/hsqldb-2.3.2.jar:${HOME}/.m2/repository/javax/media/jai_core/1.1.3/jai_core-1.1.3.jar:${HOME}/.m2/repository/org/geotools/gt-referencing/12.1/gt-referencing-12.1.jar:${HOME}/.m2/repository/org/geotools/gt-metadata/12.1/gt-metadata-12.1.jar:${HOME}/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar:${HOME}/.m2/repository/net/sf/trove4j/trove4j/3.0.3/trove4j-3.0.3.jar${LOGIT} com.graphhopper.tools.OsITNProblemRouteExtractor osmreader.osm=${DATA} reader.implementation=OSITN itnoutput="${ITN_OUTPUT}" nodeList="${NODE_LIST}"
+
diff --git a/core/itnana.sh b/core/itnana.sh
index a63e37bef9..3a449c4a3b 100755
--- a/core/itnana.sh
+++ b/core/itnana.sh
@@ -1,18 +1,26 @@
 LOGIT=
 #LOGIT=:${HOME}/.m2/repository/org/slf4j/slf4j-log4j12/1.7.7/slf4j-log4j12-1.7.7.jar:${HOME}/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar
 
-DATA=${HOME}/Development/geoserver-service-test/geoservertest/itn-sample-data/58096-SX9192-2c1.xml
+#DATA=${HOME}/Development/geoserver-service-test/geoservertest/itn-sample-data/58096-SX9192-2c1.xml
+DATA=${HOME}/Development/OSMMITN/data
+
 #START_ROAD="SIDWELL STREET"
 #END_ROAD="CHEEKE STREET"
 
 #START_ROAD="HEAVITREE ROAD"
 #END_ROAD="DENMARK ROAD"
 
+#START_ROAD="HEAVITREE ROAD"
+#END_ROAD="COLLEGE ROAD"
+
+START_ROAD="M27"
+END_ROAD="CHILWORTH ROAD"
+
 #START_ROAD="BELGRAVE STREET"
 #END_ROAD="CHEEKE STREET"
 
-START_ROAD="BAMPFYLDE STREET"
-END_ROAD="CHEEKE STREET"
+#START_ROAD="BAMPFYLDE STREET"
+#END_ROAD="CHEEKE STREET"
 
 java -Xmx4096m -Xms2048m -XX:+UseParallelGC -XX:+UseParallelOldGC -cp ../tools/target/classes:target/classes:${HOME}/.m2/repository/net/java/dev/jsr-275/jsr-275/1.0-beta-2/jsr-275-1.0-beta-2.jar:${HOME}/.m2/repository/java3d/vecmath/1.3.2/vecmath-1.3.2.jar:${HOME}/.m2/repository/org/geotools/gt-opengis/12.1/gt-opengis-12.1.jar:${HOME}/.m2/repository/org/geotools/gt-epsg-hsql/12.1/gt-epsg-hsql-12.1.jar:${HOME}/.m2/repository/org/hsqldb/hsqldb/2.3.2/hsqldb-2.3.2.jar:${HOME}/.m2/repository/javax/media/jai_core/1.1.3/jai_core-1.1.3.jar:${HOME}/.m2/repository/org/geotools/gt-referencing/12.1/gt-referencing-12.1.jar:${HOME}/.m2/repository/org/geotools/gt-metadata/12.1/gt-metadata-12.1.jar:${HOME}/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar:${HOME}/.m2/repository/net/sf/trove4j/trove4j/3.0.3/trove4j-3.0.3.jar${LOGIT} com.graphhopper.tools.OsITNProblemRouteExtractor osmreader.osm=${DATA} reader.implementation=OSITN roadName="${START_ROAD}" linkRoadName="${END_ROAD}"
 
diff --git a/core/itngen.sh b/core/itngen.sh
index 495f895dce..26922974fb 100755
--- a/core/itngen.sh
+++ b/core/itngen.sh
@@ -3,14 +3,17 @@ LOGIT=
 
 # Actual ITN Data
 #ITNDATA=${HOME}/Development/OSMMITN/data
-#GRAPHOUTPUTDIR=${HOME}/Documents/graphhopper/core/osmitn-gh
+#GRAPHOUTPUTDIR=${HOME}/Documents/graphhopper/core/itn-gh
 
 # Sample Data
-ITNDATA=${HOME}/Development/geoserver-service-test/geoservertest/itn-sample-data/58096-SX9192-2c1.gz
-GRAPHOUTPUTDIR=${HOME}/Documents/graphhopper/core/58096-SX9192-2c1-gh
+#ITNDATA=${HOME}/Development/geoserver-service-test/geoservertest/itn-sample-data/58096-SX9192-2c1.gz
+#GRAPHOUTPUTDIR=${HOME}/Documents/graphhopper/core/58096-SX9192-2c1-gh
 
-#ITNDATA=${HOME}/Development/graphhopper2/graphhopper/core/os-itn-lake-road-spicer-street.xml
-#GRAPHOUTPUTDIR=${HOME}/Documents/graphhopper/core/os-itn-lake-road-spicer-street-gh
+#ITNDATA=${HOME}/Development/graphhopper2/graphhopper/tools/os-itn-m27-m3-north.xml
+#GRAPHOUTPUTDIR=${HOME}/Documents/graphhopper/core/os-itn-m27-m3-north-gh
+
+ITNDATA=${HOME}/Development/graphhopper2/graphhopper/core/os-itn-carlisle-warwick-road.xml
+GRAPHOUTPUTDIR=${HOME}/Documents/graphhopper/core/os-itn-carlisle-warwick-road-gh
 
 java -Xmx4596m -Xms2048m -XX:+UseParallelGC -XX:+UseParallelOldGC -cp ../tools/target/classes:target/classes:${HOME}/.m2/repository/net/java/dev/jsr-275/jsr-275/1.0-beta-2/jsr-275-1.0-beta-2.jar:${HOME}/.m2/repository/java3d/vecmath/1.3.2/vecmath-1.3.2.jar:${HOME}/.m2/repository/org/geotools/gt-opengis/12.1/gt-opengis-12.1.jar:${HOME}/.m2/repository/org/geotools/gt-epsg-hsql/12.1/gt-epsg-hsql-12.1.jar:${HOME}/.m2/repository/org/hsqldb/hsqldb/2.3.2/hsqldb-2.3.2.jar:${HOME}/.m2/repository/javax/media/jai_core/1.1.3/jai_core-1.1.3.jar:${HOME}/.m2/repository/org/geotools/gt-referencing/12.1/gt-referencing-12.1.jar:${HOME}/.m2/repository/org/geotools/gt-metadata/12.1/gt-metadata-12.1.jar:${HOME}/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar:${HOME}/.m2/repository/net/sf/trove4j/trove4j/3.0.3/trove4j-3.0.3.jar${LOGIT} com.graphhopper.tools.Import osmreader.osm=${ITNDATA} reader.implementation=OSITN graph.location=${GRAPHOUTPUTDIR} config=../config.properties
 
diff --git a/core/src/main/java/com/graphhopper/reader/osgb/OSITNElement.java b/core/src/main/java/com/graphhopper/reader/osgb/OSITNElement.java
index b85b3f17ec..65dc6ff772 100644
--- a/core/src/main/java/com/graphhopper/reader/osgb/OSITNElement.java
+++ b/core/src/main/java/com/graphhopper/reader/osgb/OSITNElement.java
@@ -117,13 +117,11 @@ protected void readTags(XMLStreamReader parser) throws XMLStreamException, Misma
                     }
                     case "instruction": {
                         // eg. Mandatory Turn, No Turn, One Way, No Entry
-                        // System.out.println("Handle instruction for " + id);
                         event = handleInstructionEnvironmentalQualifier(parser);
                         break;
                     }
                     case "type": {
                         // eg. Buses, Coaches, Mopeds, HGV's
-                        // System.out.println("Handle type for " + id);
                         event = handleTypeVehicleQualifier(parser);
                         break;
                     }
@@ -172,9 +170,6 @@ private int handleRoadNature(XMLStreamReader parser) throws XMLStreamException {
         String nature = resolveNature(parser.getElementText());
         String highwayType = getTag("highway");
         if (null != nature && null != highwayType) {
-            if (highwayType.contains("-")) {
-                System.err.println("Already Natured:" + highwayType + " Adding:" + nature);
-            }
             highwayType = highwayType + "-";
             highwayType = highwayType + nature;
             setTag("highway", highwayType);
@@ -185,13 +180,11 @@ private int handleRoadNature(XMLStreamReader parser) throws XMLStreamException {
     private int handleDescriptiveGroup(XMLStreamReader parser) throws XMLStreamException {
         String elementText = parser.getElementText();
         String roadType = resolveHighway(elementText);
-        // System.err.println(this.getClass() + ".handleDescriptiveGroup(" +
-        // roadType
-        // + ")");
         if (null != roadType && !hasTag("highway")) {
             setTag("type", "route");
             setTag("highway", roadType);
         }
+        // This line is for debug and could possibly be removed.
         if (null == roadType) {
             setTag("nothighway", elementText);
         }
@@ -205,16 +198,19 @@ private String resolveHighway(String elementText) {
         case "Motorway":
         case "B Road":
         case "Minor Road":
-            // Should we be handling these for Car routes?
+        // Pedestrianised Street is supported for walking so traversing will be controlled by speed in the flag encoders
         case "Pedestrianised Street":
-            // case "Private Road - Restricted Access":
         case "Private Road - Publicly Accessible":
-            // case "Alley":
-
+        // Alleys are not traversible
+        // case "Alley":
+        // Private Road - Restricted Access are not traversible
+        // case "Private Road - Restricted Access":
         case "Local Street":
             return elementText;
+        default:
+            return null;
         }
-        return null;
+        
     }
 
     private String resolveNature(String elementText) {
@@ -293,8 +289,6 @@ private int handleTypeVehicleQualifier(XMLStreamReader parser) throws XMLStreamE
             exceptFor = Boolean.parseBoolean(exceptForString);
         }
         String elementText = parser.getElementText();
-        // System.out.println("handleTypeVehicleQualifier " + elementText +
-        // " exceptFor " + exceptFor);
         setTag(elementText, exceptFor.toString());
         int event = parser.getEventType();
         return event;
@@ -321,8 +315,6 @@ private int handleUseVehicleQualifier(XMLStreamReader parser) throws XMLStreamEx
             exceptFor = Boolean.parseBoolean(exceptForString);
         }
         String elementText = parser.getElementText();
-        // System.out.println("handleUseVehicleQualifier " + elementText +
-        // " exceptFor " + exceptFor);
         setTag(elementText, exceptFor.toString());
         int event = parser.getEventType(); // type and use are effectively the same thing
         return event;
@@ -465,9 +457,6 @@ public String getTag(String name) {
     }
 
     public void setTag(String name, Object value) {
-        // if(name.equals("highway")) {
-        // System.err.println("HIGHWAY:" + value);
-        // }
         properties.put(name, value);
     }
 
diff --git a/core/src/main/java/com/graphhopper/reader/osgb/OsItnReader.java b/core/src/main/java/com/graphhopper/reader/osgb/OsItnReader.java
index b423aaf430..2e3f2a6214 100755
--- a/core/src/main/java/com/graphhopper/reader/osgb/OsItnReader.java
+++ b/core/src/main/java/com/graphhopper/reader/osgb/OsItnReader.java
@@ -40,14 +40,13 @@
 import com.graphhopper.reader.OSMNode;
 import com.graphhopper.reader.OSMRelation;
 import com.graphhopper.reader.OSMTurnRelation;
+import com.graphhopper.reader.OSMTurnRelation.Type;
 import com.graphhopper.reader.PillarInfo;
 import com.graphhopper.reader.Relation;
 import com.graphhopper.reader.RelationMember;
 import com.graphhopper.reader.RoutingElement;
 import com.graphhopper.reader.Way;
-import com.graphhopper.reader.OSMTurnRelation.Type;
 import com.graphhopper.reader.dem.ElevationProvider;
-import com.graphhopper.routing.util.AbstractFlagEncoder;
 import com.graphhopper.routing.util.EncodingManager;
 import com.graphhopper.storage.ExtendedStorage;
 import com.graphhopper.storage.GraphHopperStorage;
@@ -617,6 +616,15 @@ private void processStageOne(ProcessData processData, OsItnInputFile in) throws
                     String strId = String.valueOf(id);
                     addGradeNodesIfRequired(nodeItem, strId, nodeFilter);
                 }
+                else {
+                    // We have failed to find a node for the simple id. We need to check if we have any grade separated nodes
+                    // This can occur when the 0'th grade is not a supported road type, for example Private Road - Restricted Access
+                    // but the 1st grade is a valid road type. This situation was found around the M27/M3 slip road where Roman Road
+                    // crosses the motorway
+                    OSITNNode nodeItem = (OSITNNode) item;
+                    String strId = String.valueOf(id);
+                    addGradeNodesIfRequired(nodeItem, strId, nodeFilter);
+                }
                 break;
 
             }
@@ -639,11 +647,7 @@ private void processStageTwo(ProcessData processData, OsItnInputFile in) throws
                     logger.info(NOW_PARSING_WAYS_FORMAT, nf(processData.counter));
                     processData.wayStart = processData.counter;
                 }
-                if (!way.hasTag("highway")) {
-                    way.setTag("highway", "motorway");
-                }
-                // wayNodes will only contain the mid nodes and not the start or
-                // end nodes.
+                // wayNodes will only contain the mid nodes and not the start or end nodes.
                 List<OSITNNode> wayNodes = prepareWaysNodes(way, nodeFilter);
                 processWay(way, wayNodes);
                 way.clearStoredCoords();
@@ -696,26 +700,30 @@ private void addGradeNodesIfRequired(OSITNNode item, String idStr, LongIntMap no
         }
     }
 
+    
     /**
      * Process properties, encode flags and create edges for the way.
      */
     void processWay(OSITNWay way, List<OSITNNode> wayNodes) {
-        if (way.getNodes().size() < 2)
+
+        if (way.getNodes().size() < 2) {
             return;
+        }
 
         // ignore multipolygon geometry
-        if (!way.hasTags())
+        if (!way.hasTags()) {
             return;
+        }
 
         long wayOsmId = way.getId();
 
         long includeWay = encodingManager.acceptWay(way);
-        if (includeWay == 0)
+        if (includeWay == 0) {
             return;
+        }
 
         // Check if we are prohibited from ever traversing this way
         if (getProhibitedWayIds().remove(wayOsmId)) {
-            System.out.println("DONT PROCESS WAY " + wayOsmId);
             return;
         }
 
@@ -757,8 +765,9 @@ void processWay(OSITNWay way, List<OSITNNode> wayNodes) {
         }
 
         long wayFlags = encodingManager.handleWayTags(way, includeWay, relationFlags);
-        if (wayFlags == 0)
+        if (wayFlags == 0) {
             return;
+        }
         // logger.warn(ADDING_RELATION_TO_WAYS_FORMAT, wayFlags);
         
         // Check if we need to add additional TOWER nodes at the start and end locations to deal
@@ -784,7 +793,6 @@ private TLongList createStartTowerNodeAndEdge(TLongList osmNodeIds, OSITNWay way
         // Check if we have a pillar node at the start. If so we need to convert to a tower.
         int graphIndex = getNodeMap().get(nodeId);
         if (graphIndex < TOWER_NODE) {
-            
             OSMNode newNode = addBarrierNode(nodeId);
             long newNodeId = newNode.getId();
             int nodeType = getNodeMap().get(newNodeId);
@@ -797,16 +805,9 @@ private TLongList createStartTowerNodeAndEdge(TLongList osmNodeIds, OSITNWay way
             Collection<EdgeIteratorState> newWays = addOSMWay(partIds, wayFlags, wayOsmId);
             // logger.warn(WAY_ADDS_EDGES_FORMAT, wayOsmId, newWays.size());
             startCreatedEdges.addAll(newWays);
-    
-    //      if (nodeType==PILLAR_NODE) {
-            // Set this to be a TOWER node explicitly. This has to be after the edges are created
-    //        getNodeMap().put(newNodeId, TOWER_NODE);
-    //    }
-    
             
             // Set the 0th node id to be our new node id
             osmNodeIds.set(0, newNodeId);
-    //        osmNodeIds.insert(1, newNodeId);
     
             
             for (EdgeIteratorState edge : startCreatedEdges) {
@@ -1178,19 +1179,19 @@ private String checkForNoEntryDirection(long wayId, String wayCoord) {
             long lastNodeId = nodeIdsToCreateWaysFor.get(nodeIdsToCreateWaysFor.size()-1);;
             long newNodeId = -1;
 
-            int graphIndex = getNodeMap().get(lastNodeId);
-            boolean doInsertAdditionalTowerNodes = (graphIndex < TOWER_NODE);
+            int graphIndex = getNodeMap().get(lastNodeId);// -4 for wayOsmId 4000000025288017
+            
+            // An index < TOWER_NODE means it is a tower node.
+            boolean doInsertAdditionalTowerNodes = (graphIndex < TOWER_NODE); 
 
             // add end tower here
             if (doInsertAdditionalTowerNodes) {
-//                System.out.println("nodeIdsToCreateWaysFor.size() is " + nodeIdsToCreateWaysFor.size() + " lastNodeId is "+ lastNodeId);
                 OSMNode newNode = addBarrierNode(lastNodeId);
                 newNodeId = newNode.getId();
                 int nodeType = getNodeMap().get(newNodeId);
                 
                 nodeIdsToCreateWaysFor.set(nodeIdsToCreateWaysFor.size()-1, newNodeId);
-            }
-            
+            }            
 
             Collection<EdgeIteratorState> newEdges = addOSMWay(nodeIdsToCreateWaysFor, wayFlags, wayOsmId);
 
@@ -1596,18 +1597,14 @@ protected void finishedReading() {
     private OSMNode addBarrierNode(long nodeId) {
         OSMNode newNode = null;
         int graphIndex = getNodeMap().get(nodeId);
-//        System.out.println("graphIndex BEFORE is " + graphIndex);
 
         if (graphIndex < TOWER_NODE) {
             graphIndex = -graphIndex - 3;
-//            System.out.println("Create Tower node for nodeId " + nodeId + " graphIndex is " + graphIndex);
             newNode = new OSMNode(createNewNodeId(), nodeAccess, graphIndex);
         } else {
             graphIndex = graphIndex - 3;
             try {
-//                System.out.println("Create Pillar node for nodeId " + nodeId + " graphIndex is " + graphIndex);
                 newNode = new OSMNode(createNewNodeId(), pillarInfo, graphIndex);
-//                System.out.println("newNode is " + newNode);
             } catch (ArrayIndexOutOfBoundsException e) {
                 e.printStackTrace();
             }
@@ -1669,18 +1666,12 @@ OSITNTurnRelation createTurnRelation(Relation relation) {
         // if (no turn (Type.NOT) except buses=true) leave as is
         // if (no turn (Type.NOT) except buses=false) remove the restriction
         if (type == Type.NOT || type == Type.ONLY) {
-            // System.out.println("Handle turn relation of type " + type + " ");
-            // for (RelationMember member : relation.getMembers()) {
-            // System.out.println("" + member );
-            //
-            // }
             // There is a no entry or mandatory turn
             if (encodingManager.isVehicleQualifierTypeExcluded(relation) || encodingManager.isVehicleQualifierTypeIncluded(relation)) {
                 // The current encoder vehicle is excluded from this restriction
                 // so remove it OR (except buses=false)
                 // The current encoder vehicle is included in the exception so
                 // remove it.
-                // System.out.println("SET IT TO Type.UNSUPPORTED");
                 type = Type.UNSUPPORTED;
             }
         }
diff --git a/core/src/main/java/com/graphhopper/routing/util/CarFlagEncoder.java b/core/src/main/java/com/graphhopper/routing/util/CarFlagEncoder.java
index 7215869991..5d4f10da43 100644
--- a/core/src/main/java/com/graphhopper/routing/util/CarFlagEncoder.java
+++ b/core/src/main/java/com/graphhopper/routing/util/CarFlagEncoder.java
@@ -132,40 +132,43 @@ public CarFlagEncoder( int speedBits, double speedFactor, int maxTurnCosts )
         defaultSpeedMap.put("B Road", 35);
         defaultSpeedMap.put("Minor Road", 35);
         defaultSpeedMap.put("Local Street", 35);
-        defaultSpeedMap.put("Alley", 35);
+//        defaultSpeedMap.put("Alley", 35);
         defaultSpeedMap.put("A Road-Single Carriageway", 55);
         defaultSpeedMap.put("B Road", 35);
         defaultSpeedMap.put("Minor Road", 35);
         defaultSpeedMap.put("Local Street", 35);
-        defaultSpeedMap.put("Alley", 35);
+//        defaultSpeedMap.put("Alley", 35);
         defaultSpeedMap.put("Motorway", 100);
         defaultSpeedMap.put("A Road", 55);
         defaultSpeedMap.put("B Road", 35);
         defaultSpeedMap.put("Minor Road", 35);
         defaultSpeedMap.put("Local Street", 35);
-        defaultSpeedMap.put("Alley", 35);
+//        defaultSpeedMap.put("Alley", 35);
         defaultSpeedMap.put("A Road-Dual Carriageway", 55);
         defaultSpeedMap.put("B Road", 35);
         defaultSpeedMap.put("Minor Road", 35);
         defaultSpeedMap.put("Local Street", 35);
-        defaultSpeedMap.put("Alley", 35);
+//        defaultSpeedMap.put("Alley", 35);
         defaultSpeedMap.put("Motorway-Slip Road", 100);
         defaultSpeedMap.put("A Road-Slip Road", 55);
         defaultSpeedMap.put("B Road", 35);
         defaultSpeedMap.put("Minor Road", 35);
         defaultSpeedMap.put("Local Street", 35);
-        defaultSpeedMap.put("Alley", 35);
+//        defaultSpeedMap.put("Alley", 35);
         defaultSpeedMap.put("Motorway-Roundabout", 100);
         defaultSpeedMap.put("A Road-Roundabout", 55);
         defaultSpeedMap.put("B Road-Roundabout", 35);
         defaultSpeedMap.put("Minor Road-Roundabout", 35);
         defaultSpeedMap.put("Local Street-Roundabout", 35);
         
-        // Should we be including these in car flags?
+        // You can not drive down a pedestrianised street
         defaultSpeedMap.put("Pedestrianised Street", 0);
-        defaultSpeedMap.put("Private Road - Restricted Access", 35);
-        defaultSpeedMap.put("Private Road - Publicly Accessible", 35);
-        defaultSpeedMap.put("Alley", 0);
+        // Limit the speed to 0 so we are not routed down these ways but include them to remove a grade separation
+        // issue when a Private Road - Restricted Access road passes over another road.
+//        defaultSpeedMap.put("Private Road - Restricted Access", 0);
+        // Lower the speed to 10 so it ideally routes us another way.
+        defaultSpeedMap.put("Private Road - Publicly Accessible", 10);
+//        defaultSpeedMap.put("Alley", 0);
         
         // osgb:type
         vehicleQualifierTypeExclusions.add("Buses");
@@ -279,24 +282,6 @@ public long acceptWay( Way way )
         return acceptBit;
     }
 
-//    @Override
-//    public long handleRelationTags( Relation relation, long oldRelationFlags )
-//    {
-//        long flags = oldRelationFlags;
-//        
-//        // check access limited and access prohibited restrictions
-//        System.out.println("acceptWay for id " + relation.getId());
-//        if (relation.hasTag(OSITNElement.TAG_KEY_TYPE, OSITNElement.TAG_VALUE_TYPE_ACCESS_PROHIBITED)||relation.hasTag(OSITNElement.TAG_KEY_TYPE, OSITNElement.TAG_VALUE_TYPE_ACCESS_LIMITED) ) {
-//            System.out.println("OUR WAY HAS PROHIBITED OR LIMITED ACCESS");
-//            if (isVehicleQualifierTypeExcluded(relation) || isVehicleQualifierTypeIncluded(relation)) {
-//                System.out.println("WE ARE BLOCKING THIS ROAD....");
-//                flags = this.setBool(flags, K_FORWARD, false);
-//                flags = this.setBool(flags, K_BACKWARD, false);      
-//            }
-//        }
-//        return flags;
-//    }
-
     @Override
     public long handleWayTags( Way way, long allowed, long relationFlags )
     {
diff --git a/core/src/main/java/com/graphhopper/routing/util/RelationCarFlagEncoder.java b/core/src/main/java/com/graphhopper/routing/util/RelationCarFlagEncoder.java
index 826e8d7a5b..ae23d3e99d 100644
--- a/core/src/main/java/com/graphhopper/routing/util/RelationCarFlagEncoder.java
+++ b/core/src/main/java/com/graphhopper/routing/util/RelationCarFlagEncoder.java
@@ -1,8 +1,5 @@
 package com.graphhopper.routing.util;
 
-import java.util.ArrayList;
-import java.util.Arrays;
-
 import com.graphhopper.reader.Relation;
 import com.graphhopper.util.Helper;
 
@@ -16,27 +13,6 @@ public RelationCarFlagEncoder() {
 
     public RelationCarFlagEncoder(int speedBits, double speedFactor, int maxTurnCosts) {
         super(speedBits, speedFactor, maxTurnCosts);
-//        restrictions = new ArrayList<String>(Arrays.asList("motorcar", "motor_vehicle", "vehicle", "access"));
-//        restrictedValues.add("private");
-//        restrictedValues.add("agricultural");
-//        restrictedValues.add("forestry");
-//        restrictedValues.add("no");
-//        restrictedValues.add("restricted");
-//        restrictedValues.add("delivery");
-
-//        intendedValues.add("yes");
-//        intendedValues.add("permissive");
-
-//        potentialBarriers.add("gate");
-//        potentialBarriers.add("lift_gate");
-//        potentialBarriers.add("kissing_gate");
-//        potentialBarriers.add("swing_gate");
-
-//        absoluteBarriers.add("bollard");
-//        absoluteBarriers.add("stile");
-//        absoluteBarriers.add("turnstile");
-//        absoluteBarriers.add("cycle_barrier");
-//        absoluteBarriers.add("block");
 
         trackTypeSpeedMap.put("grade1", 20); // paved
         trackTypeSpeedMap.put("grade2", 15); // now unpaved - gravel mixed with
@@ -65,8 +41,8 @@ public RelationCarFlagEncoder(int speedBits, double speedFactor, int maxTurnCost
         defaultSpeedMap.put("B Road", 35);
         defaultSpeedMap.put("Minor Road", 35);
         defaultSpeedMap.put("Local Street", 35);
-        defaultSpeedMap.put("Alley", 35);
-        // bundesstra��e
+//        defaultSpeedMap.put("Alley", 35);
+        // 
         defaultSpeedMap.put("trunk", 70);
         defaultSpeedMap.put("trunk_link", 65);
         // linking bigger town
diff --git a/core/src/test/java/com/graphhopper/reader/osgb/AlleyTest.java b/core/src/test/java/com/graphhopper/reader/osgb/AlleyTest.java
new file mode 100644
index 0000000000..07c7a98536
--- /dev/null
+++ b/core/src/test/java/com/graphhopper/reader/osgb/AlleyTest.java
@@ -0,0 +1,36 @@
+package com.graphhopper.reader.osgb;
+
+import static com.graphhopper.util.GHUtility.count;
+import static org.junit.Assert.assertEquals;
+
+import java.io.File;
+import java.io.IOException;
+
+import org.junit.Test;
+
+import com.graphhopper.storage.GraphHopperStorage;
+import com.graphhopper.util.EdgeExplorer;
+
+public class AlleyTest extends AbstractOsItnReaderTest {
+
+    /**
+     * Alleys are not supported routes. This test is a simple (node A) - alley - (node B) - A Road - (node C) network.
+     * This means the alley should not be traversible and only nodes B and C should be present.
+     * @throws IOException
+     */
+    @Test
+    public void testAlley() throws IOException {
+        final boolean turnRestrictionsImport = true;
+        final boolean is3D = false;
+        final GraphHopperStorage graph = configureStorage(turnRestrictionsImport, is3D);
+
+        final File file = new File("./src/test/resources/com/graphhopper/reader/os-itn-alley.xml");
+        readGraphFile(graph, file);
+        final EdgeExplorer explorer = graph.createEdgeExplorer(carOutEdges);
+        printNodes(explorer, 5);
+        assertEquals(2, graph.getNodes());
+        assertEquals(1, count(explorer.setBaseNode(0)));
+        assertEquals(1, count(explorer.setBaseNode(1)));
+    }
+
+}
diff --git a/core/src/test/java/com/graphhopper/reader/osgb/GradeSeparationTest.java b/core/src/test/java/com/graphhopper/reader/osgb/GradeSeparationTest.java
new file mode 100644
index 0000000000..5337b9a56f
--- /dev/null
+++ b/core/src/test/java/com/graphhopper/reader/osgb/GradeSeparationTest.java
@@ -0,0 +1,115 @@
+package com.graphhopper.reader.osgb;
+
+import static com.graphhopper.util.GHUtility.count;
+import static org.junit.Assert.assertEquals;
+
+import java.io.File;
+import java.io.IOException;
+
+import org.junit.Test;
+
+import com.graphhopper.storage.GraphHopperStorage;
+import com.graphhopper.util.EdgeExplorer;
+
+public class GradeSeparationTest extends AbstractOsItnReaderTest {
+
+    @Test
+    public void testSimpleBridge() throws IOException {
+        final boolean turnRestrictionsImport = true;
+        final boolean is3D = false;
+        final GraphHopperStorage graph = configureStorage(turnRestrictionsImport, is3D);
+
+        final File file = new File("./src/test/resources/com/graphhopper/reader/os-itn-simple-bridge.xml");
+        readGraphFile(graph, file);
+        assertEquals(10, graph.getNodes());
+        final EdgeExplorer explorer = graph.createEdgeExplorer(carOutEdges);
+        printNodes(explorer, 10);
+        assertEquals(2, count(explorer.setBaseNode(0)));
+        assertEquals(2, count(explorer.setBaseNode(1)));
+        assertEquals(1, count(explorer.setBaseNode(2)));
+        assertEquals(2, count(explorer.setBaseNode(3)));
+        assertEquals(2, count(explorer.setBaseNode(4)));
+        assertEquals(1, count(explorer.setBaseNode(5)));
+        assertEquals(1, count(explorer.setBaseNode(6)));
+        assertEquals(2, count(explorer.setBaseNode(7)));
+        assertEquals(2, count(explorer.setBaseNode(8)));
+        assertEquals(1, count(explorer.setBaseNode(9)));
+    }
+    
+    @Test
+    public void testBridgeWithRestrictedAccessOver() throws IOException {
+        final boolean turnRestrictionsImport = true;
+        final boolean is3D = false;
+        final GraphHopperStorage graph = configureStorage(turnRestrictionsImport, is3D);
+
+        final File file = new File("./src/test/resources/com/graphhopper/reader/os-itn-bridge-restricted-access-over.xml");
+        readGraphFile(graph, file);
+        final EdgeExplorer explorer = graph.createEdgeExplorer(carOutEdges);
+        printNodes(explorer, 10);
+        assertEquals(5, graph.getNodes());
+        assertEquals(2, count(explorer.setBaseNode(0)));
+        assertEquals(2, count(explorer.setBaseNode(1)));
+        assertEquals(1, count(explorer.setBaseNode(2)));
+        assertEquals(2, count(explorer.setBaseNode(3)));
+        assertEquals(1, count(explorer.setBaseNode(4)));
+    }
+    @Test
+    public void testBridgeWithRestrictedAccessUnder() throws IOException {
+        final boolean turnRestrictionsImport = true;
+        final boolean is3D = false;
+        final GraphHopperStorage graph = configureStorage(turnRestrictionsImport, is3D);
+
+        final File file = new File("./src/test/resources/com/graphhopper/reader/os-itn-bridge-restricted-access-under.xml");
+        readGraphFile(graph, file);
+        assertEquals(5, graph.getNodes());
+        final EdgeExplorer explorer = graph.createEdgeExplorer(carOutEdges);
+        printNodes(explorer, 5);
+        assertEquals(2, count(explorer.setBaseNode(0)));
+        assertEquals(1, count(explorer.setBaseNode(1)));
+        assertEquals(2, count(explorer.setBaseNode(2)));
+        assertEquals(2, count(explorer.setBaseNode(3)));
+        assertEquals(1, count(explorer.setBaseNode(4)));
+
+    }
+    @Test
+    public void testGradeSeparatedCentralNode() throws IOException {
+        final boolean turnRestrictionsImport = true;
+        final boolean is3D = false;
+        final GraphHopperStorage graph = configureStorage(turnRestrictionsImport, is3D);
+
+        final File file = new File("./src/test/resources/com/graphhopper/reader/os-itn-grade-separated-node.xml");
+        readGraphFile(graph, file);
+        final EdgeExplorer explorer = graph.createEdgeExplorer(carOutEdges);
+        printNodes(explorer, 5);
+        assertEquals(5, graph.getNodes());
+        assertEquals(2, count(explorer.setBaseNode(0)));
+        assertEquals(1, count(explorer.setBaseNode(1)));
+        assertEquals(2, count(explorer.setBaseNode(2)));
+        assertEquals(2, count(explorer.setBaseNode(3)));
+        assertEquals(1, count(explorer.setBaseNode(4)));
+
+    }
+    
+    private void checkBridgeNodeNetwork(final GraphHopperStorage graph) {
+        final EdgeExplorer explorer = graph.createEdgeExplorer(carOutEdges);
+        printNodes(explorer, 17);
+        assertEquals(2, count(explorer.setBaseNode(0)));
+        assertEquals(2, count(explorer.setBaseNode(1)));
+        assertEquals(2, count(explorer.setBaseNode(2)));
+        assertEquals(2, count(explorer.setBaseNode(3)));
+        assertEquals(2, count(explorer.setBaseNode(4)));
+        assertEquals(2, count(explorer.setBaseNode(5)));
+        assertEquals(2, count(explorer.setBaseNode(6)));
+        assertEquals(2, count(explorer.setBaseNode(7)));
+        assertEquals(1, count(explorer.setBaseNode(8)));
+        assertEquals(2, count(explorer.setBaseNode(9)));
+        assertEquals(2, count(explorer.setBaseNode(10)));
+        assertEquals(2, count(explorer.setBaseNode(11)));
+        assertEquals(1, count(explorer.setBaseNode(12)));
+        assertEquals(2, count(explorer.setBaseNode(13)));
+        assertEquals(2, count(explorer.setBaseNode(14)));
+        assertEquals(2, count(explorer.setBaseNode(15)));
+        assertEquals(2, count(explorer.setBaseNode(16)));
+    }
+
+}
diff --git a/core/src/test/java/com/graphhopper/reader/osgb/HeavitreeRoadDenmarkRoadCrossroadTest.java b/core/src/test/java/com/graphhopper/reader/osgb/HeavitreeRoadDenmarkRoadCrossroadTest.java
index a2835b86b1..66c034284e 100644
--- a/core/src/test/java/com/graphhopper/reader/osgb/HeavitreeRoadDenmarkRoadCrossroadTest.java
+++ b/core/src/test/java/com/graphhopper/reader/osgb/HeavitreeRoadDenmarkRoadCrossroadTest.java
@@ -238,13 +238,14 @@ private void outputRoute(GraphHopper graphHopper, double lat1, double lon1, doub
         System.err.println("ghResponse.getDebugInfo() " + ghResponse.getDebugInfo());
     }
 
-    //@Test
+    @Test
     public void testIngest() throws IOException {
         boolean turnRestrictionsImport = true;
         boolean is3D = false;
         GraphHopperStorage graph = configureStorage(turnRestrictionsImport, is3D);
 
-        File file = new File("/home/phopkins/Development/geoserver-service-test/geoservertest/itn-sample-data/58096-SX9192-2c1.xml");
+        File file = new File("/home/phopkins/Development/OSMMITN/data");
+//        File file = new File("/home/phopkins/Development/geoserver-service-test/geoservertest/itn-sample-data/58096-SX9192-2c1.xml");
         readGraphFile(graph, file);
     }
 
diff --git a/core/src/test/java/com/graphhopper/reader/osgb/OsItnReaderTest.java b/core/src/test/java/com/graphhopper/reader/osgb/OsItnReaderTest.java
index 044c1edb83..a8d2c021a6 100755
--- a/core/src/test/java/com/graphhopper/reader/osgb/OsItnReaderTest.java
+++ b/core/src/test/java/com/graphhopper/reader/osgb/OsItnReaderTest.java
@@ -33,7 +33,6 @@
 import com.graphhopper.routing.util.DefaultEdgeFilter;
 import com.graphhopper.routing.util.EdgeFilter;
 import com.graphhopper.routing.util.EncodingManager;
-import com.graphhopper.routing.util.FlagEncoder;
 import com.graphhopper.storage.AbstractGraphStorageTester;
 import com.graphhopper.storage.GraphHopperStorage;
 import com.graphhopper.storage.TurnCostStorage;
@@ -284,18 +283,6 @@ public void testReadSimpleCrossRoadsWithTurnRestriction() throws IOException {
 
     }
 
-    @Test
-    public void testReadSimpleBridge() throws IOException {
-        final boolean turnRestrictionsImport = true;
-        final boolean is3D = false;
-        final GraphHopperStorage graph = configureStorage(turnRestrictionsImport, is3D);
-
-        final File file = new File("./src/test/resources/com/graphhopper/reader/os-itn-simple-bridge.xml");
-        readGraphFile(graph, file);
-        assertEquals(7, graph.getNodes());
-        checkBridgeNodeNetwork(graph);
-    }
-
     private void checkMultiNodeNetwork(final GraphHopperStorage graph) {
         final EdgeExplorer explorer = graph.createEdgeExplorer(carOutEdges);
         assertEquals(4, count(explorer.setBaseNode(0)));
@@ -321,16 +308,6 @@ private void checkMultiNodeNetwork(final GraphHopperStorage graph) {
         assertFalse(iter.next());
     }
 
-    private void checkBridgeNodeNetwork(final GraphHopperStorage graph) {
-        final EdgeExplorer explorer = graph.createEdgeExplorer(carOutEdges);
-        assertEquals(2, count(explorer.setBaseNode(0)));
-        assertEquals(2, count(explorer.setBaseNode(1)));
-        assertEquals(2, count(explorer.setBaseNode(2)));
-        assertEquals(2, count(explorer.setBaseNode(3)));
-        assertEquals(2, count(explorer.setBaseNode(4)));
-        assertEquals(1, count(explorer.setBaseNode(5)));
-        assertEquals(1, count(explorer.setBaseNode(6)));
-    }
 
     // @Test
     public void testReadSample() throws IOException {
diff --git a/core/src/test/resources/com/graphhopper/reader/os-itn-alley.xml b/core/src/test/resources/com/graphhopper/reader/os-itn-alley.xml
new file mode 100644
index 0000000000..c7ed8bde20
--- /dev/null
+++ b/core/src/test/resources/com/graphhopper/reader/os-itn-alley.xml
@@ -0,0 +1,183 @@
+<?xml version='1.0' encoding='UTF-8'?>
+<osgb:FeatureCollection xmlns:osgb='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb'
+	xmlns:gml='http://www.opengis.net/gml' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
+	xsi:schemaLocation='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb http://www.ordnancesurvey.co.uk/xml/schema/v7/OSDNFFeatures.xsd'
+	fid='GDS-58096-1'>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277880'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>290000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277881'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277882'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>270000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	
+
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288017">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>Alleyasdasdasdasdasdasas</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>290000.000,90000.000 280000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277880" />
+<!-- 			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277881" /> -->
+			<osgb:directedNode orientation="+" gradeSeparation='1' xlink:href="#osgb4000000025277881" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288018">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,90000.000 270000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" gradeSeparation='1' xlink:href="#osgb4000000025277881" />
+<!-- 			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277881" /> -->
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277882" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639"></osgb:referenceToTopographicArea>
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	
+	<osgb:roadInformationMember>
+		<osgb:RoadNodeInformation fid='osgb4000000025220155'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Routing Information</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-20</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Routing Information</osgb:descriptiveGroup>
+			<osgb:environmentQualifier>
+				<osgb:classification>Mini Roundabout</osgb:classification>
+			</osgb:environmentQualifier>
+			<osgb:referenceToRoadNode xlink:href='#osgb4000000025278486' />
+		</osgb:RoadNodeInformation>
+	</osgb:roadInformationMember>
+	<osgb:roadMember>
+		<osgb:Road fid='osgb4000000025366114'>
+			<osgb:version>6</osgb:version>
+			<osgb:versionDate>2008-11-11</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-03-13</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2004-10-26</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-02-11</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-07-15</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-10-08</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
+			<osgb:roadName>BONHAY ROAD</osgb:roadName>
+			<osgb:networkMember xlink:href='#osgb4000000025277880' />
+			<osgb:networkMember xlink:href='#osgb4000000025277881' />
+			<osgb:networkMember xlink:href='#osgb4000000025277882' />
+			<osgb:boundedBy>
+				<gml:Box srsName='osgb:BNG'>
+					<gml:coordinates>290000.000,90000.000 270000.000,90000.000</gml:coordinates>
+				</gml:Box>
+			</osgb:boundedBy>
+		</osgb:Road>
+	</osgb:roadMember>
+	<osgb:boundedBy>
+		<gml:Box srsName='osgb:BNG'>
+			<gml:coordinates>290822.000,91912.000 293199.000,94222.000</gml:coordinates>
+		</gml:Box>
+	</osgb:boundedBy>
+</osgb:FeatureCollection>
diff --git a/core/src/test/resources/com/graphhopper/reader/os-itn-bridge-restricted-access-over.xml b/core/src/test/resources/com/graphhopper/reader/os-itn-bridge-restricted-access-over.xml
new file mode 100644
index 0000000000..0c059233cc
--- /dev/null
+++ b/core/src/test/resources/com/graphhopper/reader/os-itn-bridge-restricted-access-over.xml
@@ -0,0 +1,391 @@
+<?xml version='1.0' encoding='UTF-8'?>
+<osgb:FeatureCollection xmlns:osgb='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb'
+	xmlns:gml='http://www.opengis.net/gml' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
+	xsi:schemaLocation='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb http://www.ordnancesurvey.co.uk/xml/schema/v7/OSDNFFeatures.xsd'
+	fid='GDS-58096-1'>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277880'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>290000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277881'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277882'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>270000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277883'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,85000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277884'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,95000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+<!-- 	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277885'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>290000.000,85000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>-->
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288017">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>290000.000,90000.000 280000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277880" />
+			<osgb:directedNode orientation="+" gradeSeparation='1' xlink:href="#osgb4000000025277881" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288018">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,90000.000 270000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" gradeSeparation='1' xlink:href="#osgb4000000025277881" />
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277882" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639"></osgb:referenceToTopographicArea>
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288019">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+<!-- 			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm> -->
+			<osgb:descriptiveTerm>Private Road - Restricted Access</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,85000.000 280000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277883"></osgb:directedNode>
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277881" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288020">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+<!-- 			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm> -->
+			<osgb:descriptiveTerm>Private Road - Restricted Access</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,90000.000 280000.000,95000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277881" />
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277884" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+<!-- 	<osgb:networkMember> 
+		<osgb:RoadLink fid="osgb4000000025288021">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,85000.000 290000.000,85000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277883" />
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277885" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288022">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>290000.000,85000.000 290000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277885" />
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277880" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+ 	</osgb:networkMember> -->
+	<osgb:roadInformationMember>
+		<osgb:RoadNodeInformation fid='osgb4000000025220155'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Routing Information</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-20</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Routing Information</osgb:descriptiveGroup>
+			<osgb:environmentQualifier>
+				<osgb:classification>Mini Roundabout</osgb:classification>
+			</osgb:environmentQualifier>
+			<osgb:referenceToRoadNode xlink:href='#osgb4000000025278486' />
+		</osgb:RoadNodeInformation>
+	</osgb:roadInformationMember>
+	<osgb:roadMember>
+		<osgb:Road fid='osgb4000000025366114'>
+			<osgb:version>6</osgb:version>
+			<osgb:versionDate>2008-11-11</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-03-13</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2004-10-26</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-02-11</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-07-15</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-10-08</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
+			<osgb:roadName>BONHAY ROAD</osgb:roadName>
+			<osgb:networkMember xlink:href='#osgb4000000025277880' />
+			<osgb:networkMember xlink:href='#osgb4000000025277881' />
+			<osgb:networkMember xlink:href='#osgb4000000025277882' />
+			<osgb:boundedBy>
+				<gml:Box srsName='osgb:BNG'>
+					<gml:coordinates>290000.000,90000.000 270000.000,90000.000</gml:coordinates>
+				</gml:Box>
+			</osgb:boundedBy>
+		</osgb:Road>
+	</osgb:roadMember>
+	<osgb:roadMember>
+		<osgb:Road fid='osgb4000000025366115'>
+			<osgb:version>6</osgb:version>
+			<osgb:versionDate>2008-11-11</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-03-13</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2004-10-26</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-02-11</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-07-15</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-10-08</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
+			<osgb:roadName>OTHER ROAD</osgb:roadName>
+			<osgb:networkMember xlink:href='#osgb4000000025277883' />
+			<osgb:networkMember xlink:href='#osgb4000000025277881' />
+			<osgb:networkMember xlink:href='#osgb4000000025277884' />
+			<osgb:boundedBy>
+				<gml:Box srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,85000.000 280000.000,95000.000</gml:coordinates>
+				</gml:Box>
+			</osgb:boundedBy>
+		</osgb:Road>
+	</osgb:roadMember>
+	<osgb:boundedBy>
+		<gml:Box srsName='osgb:BNG'>
+			<gml:coordinates>290822.000,91912.000 293199.000,94222.000</gml:coordinates>
+		</gml:Box>
+	</osgb:boundedBy>
+</osgb:FeatureCollection>
diff --git a/core/src/test/resources/com/graphhopper/reader/os-itn-bridge-restricted-access-under.xml b/core/src/test/resources/com/graphhopper/reader/os-itn-bridge-restricted-access-under.xml
new file mode 100644
index 0000000000..d22a982e49
--- /dev/null
+++ b/core/src/test/resources/com/graphhopper/reader/os-itn-bridge-restricted-access-under.xml
@@ -0,0 +1,316 @@
+<?xml version='1.0' encoding='UTF-8'?>
+<osgb:FeatureCollection xmlns:osgb='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb'
+	xmlns:gml='http://www.opengis.net/gml' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
+	xsi:schemaLocation='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb http://www.ordnancesurvey.co.uk/xml/schema/v7/OSDNFFeatures.xsd'
+	fid='GDS-58096-1'>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277880'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>290000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277881'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277882'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>270000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277883'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,85000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277884'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,95000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288017">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+<!-- 			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm> -->
+			<osgb:descriptiveTerm>Private Road - Restricted Access</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>290000.000,90000.000 280000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277880" />
+			<osgb:directedNode orientation="+" gradeSeparation='1' xlink:href="#osgb4000000025277881" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288018">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+<!-- 			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm> -->
+			<osgb:descriptiveTerm>Private Road - Restricted Access</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,90000.000 270000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" gradeSeparation='1' xlink:href="#osgb4000000025277881" />
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277882" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639"></osgb:referenceToTopographicArea>
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288019">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+<!-- 			<osgb:descriptiveTerm>Private Road - Restricted Access</osgb:descriptiveTerm> -->
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,85000.000 280000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277883"></osgb:directedNode>
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277881" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288020">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+<!-- 			<osgb:descriptiveTerm>Private Road - Restricted Access</osgb:descriptiveTerm> -->
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,90000.000 280000.000,95000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277881" />
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277884" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+
+	<osgb:roadInformationMember>
+		<osgb:RoadNodeInformation fid='osgb4000000025220155'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Routing Information</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-20</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Routing Information</osgb:descriptiveGroup>
+			<osgb:environmentQualifier>
+				<osgb:classification>Mini Roundabout</osgb:classification>
+			</osgb:environmentQualifier>
+			<osgb:referenceToRoadNode xlink:href='#osgb4000000025278486' />
+		</osgb:RoadNodeInformation>
+	</osgb:roadInformationMember>
+	<osgb:roadMember>
+		<osgb:Road fid='osgb4000000025366114'>
+			<osgb:version>6</osgb:version>
+			<osgb:versionDate>2008-11-11</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-03-13</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2004-10-26</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-02-11</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-07-15</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-10-08</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
+			<osgb:roadName>BONHAY ROAD</osgb:roadName>
+			<osgb:networkMember xlink:href='#osgb4000000025277880' />
+			<osgb:networkMember xlink:href='#osgb4000000025277881' />
+			<osgb:networkMember xlink:href='#osgb4000000025277882' />
+			<osgb:boundedBy>
+				<gml:Box srsName='osgb:BNG'>
+					<gml:coordinates>290000.000,90000.000 270000.000,90000.000</gml:coordinates>
+				</gml:Box>
+			</osgb:boundedBy>
+		</osgb:Road>
+	</osgb:roadMember>
+	<osgb:roadMember>
+		<osgb:Road fid='osgb4000000025366115'>
+			<osgb:version>6</osgb:version>
+			<osgb:versionDate>2008-11-11</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-03-13</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2004-10-26</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-02-11</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-07-15</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-10-08</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
+			<osgb:roadName>OTHER ROAD</osgb:roadName>
+			<osgb:networkMember xlink:href='#osgb4000000025277883' />
+			<osgb:networkMember xlink:href='#osgb4000000025277881' />
+			<osgb:networkMember xlink:href='#osgb4000000025277884' />
+			<osgb:boundedBy>
+				<gml:Box srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,85000.000 280000.000,95000.000</gml:coordinates>
+				</gml:Box>
+			</osgb:boundedBy>
+		</osgb:Road>
+	</osgb:roadMember>
+	<osgb:boundedBy>
+		<gml:Box srsName='osgb:BNG'>
+			<gml:coordinates>290822.000,91912.000 293199.000,94222.000</gml:coordinates>
+		</gml:Box>
+	</osgb:boundedBy>
+</osgb:FeatureCollection>
diff --git a/core/src/test/resources/com/graphhopper/reader/os-itn-grade-separated-node.xml b/core/src/test/resources/com/graphhopper/reader/os-itn-grade-separated-node.xml
new file mode 100644
index 0000000000..d3d221d6ea
--- /dev/null
+++ b/core/src/test/resources/com/graphhopper/reader/os-itn-grade-separated-node.xml
@@ -0,0 +1,183 @@
+<?xml version='1.0' encoding='UTF-8'?>
+<osgb:FeatureCollection xmlns:osgb='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb'
+	xmlns:gml='http://www.opengis.net/gml' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
+	xsi:schemaLocation='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb http://www.ordnancesurvey.co.uk/xml/schema/v7/OSDNFFeatures.xsd'
+	fid='GDS-58096-1'>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277880'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>290000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277881'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277882'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>270000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	
+
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288017">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>290000.000,90000.000 280000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277880" />
+<!-- 			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277881" /> -->
+			<osgb:directedNode orientation="+" gradeSeparation='1' xlink:href="#osgb4000000025277881" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288018">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,90000.000 270000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" gradeSeparation='1' xlink:href="#osgb4000000025277881" />
+<!-- 			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277881" /> -->
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277882" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639"></osgb:referenceToTopographicArea>
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	
+	<osgb:roadInformationMember>
+		<osgb:RoadNodeInformation fid='osgb4000000025220155'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Routing Information</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-20</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Routing Information</osgb:descriptiveGroup>
+			<osgb:environmentQualifier>
+				<osgb:classification>Mini Roundabout</osgb:classification>
+			</osgb:environmentQualifier>
+			<osgb:referenceToRoadNode xlink:href='#osgb4000000025278486' />
+		</osgb:RoadNodeInformation>
+	</osgb:roadInformationMember>
+	<osgb:roadMember>
+		<osgb:Road fid='osgb4000000025366114'>
+			<osgb:version>6</osgb:version>
+			<osgb:versionDate>2008-11-11</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-03-13</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2004-10-26</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-02-11</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-07-15</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-10-08</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
+			<osgb:roadName>BONHAY ROAD</osgb:roadName>
+			<osgb:networkMember xlink:href='#osgb4000000025277880' />
+			<osgb:networkMember xlink:href='#osgb4000000025277881' />
+			<osgb:networkMember xlink:href='#osgb4000000025277882' />
+			<osgb:boundedBy>
+				<gml:Box srsName='osgb:BNG'>
+					<gml:coordinates>290000.000,90000.000 270000.000,90000.000</gml:coordinates>
+				</gml:Box>
+			</osgb:boundedBy>
+		</osgb:Road>
+	</osgb:roadMember>
+	<osgb:boundedBy>
+		<gml:Box srsName='osgb:BNG'>
+			<gml:coordinates>290822.000,91912.000 293199.000,94222.000</gml:coordinates>
+		</gml:Box>
+	</osgb:boundedBy>
+</osgb:FeatureCollection>
diff --git a/core/src/test/resources/com/graphhopper/reader/os-itn-simple-bridge.xml b/core/src/test/resources/com/graphhopper/reader/os-itn-simple-bridge.xml
index 36fd3f5432..c6d5dbbf91 100644
--- a/core/src/test/resources/com/graphhopper/reader/os-itn-simple-bridge.xml
+++ b/core/src/test/resources/com/graphhopper/reader/os-itn-simple-bridge.xml
@@ -1,392 +1,391 @@
 <?xml version='1.0' encoding='UTF-8'?>
-<osgb:FeatureCollection
-xmlns:osgb='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb'
-xmlns:gml='http://www.opengis.net/gml'
-xmlns:xlink='http://www.w3.org/1999/xlink'
-xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
-xsi:schemaLocation='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb http://www.ordnancesurvey.co.uk/xml/schema/v7/OSDNFFeatures.xsd'
-fid='GDS-58096-1'>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277880'>
-<osgb:version>2</osgb:version>
-<osgb:versionDate>2005-09-13</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2002-10-31</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>290000.000,90000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277881'>
-<osgb:version>2</osgb:version>
-<osgb:versionDate>2005-09-13</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2002-10-31</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>280000.000,90000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277882'>
-<osgb:version>2</osgb:version>
-<osgb:versionDate>2005-09-13</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2002-10-31</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>270000.000,90000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277883'>
-<osgb:version>2</osgb:version>
-<osgb:versionDate>2005-09-13</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2002-10-31</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>280000.000,85000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277884'>
-<osgb:version>2</osgb:version>
-<osgb:versionDate>2005-09-13</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2002-10-31</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>280000.000,95000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277885'>
-<osgb:version>2</osgb:version>
-<osgb:versionDate>2005-09-13</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2002-10-31</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>290000.000,85000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadLink fid="osgb4000000025288017">
-<osgb:version>4</osgb:version>
-<osgb:versionDate>2006-02-03</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
-<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
-<osgb:length>538.90</osgb:length>
-<osgb:polyline>
-<gml:LineString srsName="osgb:BNG">
-<gml:coordinates>291460.000,92514.000 291296.000,93009.000 </gml:coordinates>
-</gml:LineString>
-</osgb:polyline>
-<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277880" />
-<osgb:directedNode orientation="+" gradeSeparation='1' xlink:href="#osgb4000000025277881" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
-</osgb:RoadLink>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadLink fid="osgb4000000025288018">
-<osgb:version>4</osgb:version>
-<osgb:versionDate>2006-02-03</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
-<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
-<osgb:length>538.90</osgb:length>
-<osgb:polyline>
-<gml:LineString srsName="osgb:BNG">
-<gml:coordinates>291460.000,92514.000 291296.000,93009.000 </gml:coordinates>
-</gml:LineString>
-</osgb:polyline>
-<osgb:directedNode orientation="-" gradeSeparation='1' xlink:href="#osgb4000000025277881" />
-<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277882" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" ></osgb:referenceToTopographicArea>
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
-</osgb:RoadLink>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadLink fid="osgb4000000025288019">
-<osgb:version>4</osgb:version>
-<osgb:versionDate>2006-02-03</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
-<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
-<osgb:length>538.90</osgb:length>
-<osgb:polyline>
-<gml:LineString srsName="osgb:BNG">
-<gml:coordinates>291460.000,92514.000 291296.000,93009.000 </gml:coordinates>
-</gml:LineString>
-</osgb:polyline>
-<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277883" ></osgb:directedNode>
-<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277881" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
-</osgb:RoadLink>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadLink fid="osgb4000000025288020">
-<osgb:version>4</osgb:version>
-<osgb:versionDate>2006-02-03</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
-<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
-<osgb:length>538.90</osgb:length>
-<osgb:polyline>
-<gml:LineString srsName="osgb:BNG">
-<gml:coordinates>291460.000,92514.000 291296.000,93009.000 </gml:coordinates>
-</gml:LineString>
-</osgb:polyline>
-<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277881" />
-<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277884" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
-</osgb:RoadLink>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadLink fid="osgb4000000025288021">
-<osgb:version>4</osgb:version>
-<osgb:versionDate>2006-02-03</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
-<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
-<osgb:length>538.90</osgb:length>
-<osgb:polyline>
-<gml:LineString srsName="osgb:BNG">
-<gml:coordinates>291460.000,92514.000 291296.000,93009.000 </gml:coordinates>
-</gml:LineString>
-</osgb:polyline>
-<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277883" />
-<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277885" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
-</osgb:RoadLink>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadLink fid="osgb4000000025288022">
-<osgb:version>4</osgb:version>
-<osgb:versionDate>2006-02-03</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
-<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
-<osgb:length>538.90</osgb:length>
-<osgb:polyline>
-<gml:LineString srsName="osgb:BNG">
-<gml:coordinates>291460.000,92514.000 291296.000,93009.000 </gml:coordinates>
-</gml:LineString>
-</osgb:polyline>
-<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277885" />
-<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277880" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
-</osgb:RoadLink>
-</osgb:networkMember>
-<osgb:roadInformationMember>
-<osgb:RoadNodeInformation fid='osgb4000000025220155'>
-<osgb:version>2</osgb:version>
-<osgb:versionDate>2005-09-13</osgb:versionDate>
-<osgb:theme>Road Routing Information</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-20</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Routing Information</osgb:descriptiveGroup>
-<osgb:environmentQualifier>
-<osgb:classification>Mini Roundabout</osgb:classification>
-</osgb:environmentQualifier>
-<osgb:referenceToRoadNode xlink:href='#osgb4000000025278486'/>
-</osgb:RoadNodeInformation>
-</osgb:roadInformationMember>
-<osgb:roadMember>
-<osgb:Road fid='osgb4000000025366114'>
-<osgb:version>6</osgb:version>
-<osgb:versionDate>2008-11-11</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-03-13</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2004-10-26</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2008-02-11</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2008-07-15</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2008-10-08</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
-<osgb:roadName>BONHAY ROAD</osgb:roadName>
-<osgb:networkMember xlink:href='#osgb4000000025277880'/>
-<osgb:networkMember xlink:href='#osgb4000000025277881'/>
-<osgb:networkMember xlink:href='#osgb4000000025277882'/>
-<osgb:boundedBy>
-<gml:Box srsName='osgb:BNG'>
-<gml:coordinates>291211.000,92187.000 291549.000,93434.920</gml:coordinates>
-</gml:Box>
-</osgb:boundedBy>
-</osgb:Road>
-</osgb:roadMember>
-<osgb:roadMember>
-<osgb:Road fid='osgb4000000025366115'>
-<osgb:version>6</osgb:version>
-<osgb:versionDate>2008-11-11</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-03-13</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2004-10-26</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2008-02-11</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2008-07-15</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2008-10-08</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
-<osgb:roadName>OTHER ROAD</osgb:roadName>
-<osgb:networkMember xlink:href='#osgb4000000025277883'/>
-<osgb:networkMember xlink:href='#osgb4000000025277881'/>
-<osgb:networkMember xlink:href='#osgb4000000025277884'/>
-<osgb:boundedBy>
-<gml:Box srsName='osgb:BNG'>
-<gml:coordinates>291211.000,92187.000 291549.000,93434.920</gml:coordinates>
-</gml:Box>
-</osgb:boundedBy>
-</osgb:Road>
-</osgb:roadMember>
-<osgb:boundedBy>
-<gml:Box srsName='osgb:BNG'>
-<gml:coordinates>290822.000,91912.000 293199.000,94222.000</gml:coordinates>
-</gml:Box>
-</osgb:boundedBy>
+<osgb:FeatureCollection xmlns:osgb='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb'
+	xmlns:gml='http://www.opengis.net/gml' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
+	xsi:schemaLocation='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb http://www.ordnancesurvey.co.uk/xml/schema/v7/OSDNFFeatures.xsd'
+	fid='GDS-58096-1'>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277880'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>290000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277881'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277882'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>270000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277883'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,85000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277884'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,95000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+<!-- 	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277885'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>290000.000,85000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>-->
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288017">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>290000.000,90000.000 280000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277880" />
+			<osgb:directedNode orientation="+" gradeSeparation='1' xlink:href="#osgb4000000025277881" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288018">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,90000.000 270000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" gradeSeparation='1' xlink:href="#osgb4000000025277881" />
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277882" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639"></osgb:referenceToTopographicArea>
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288019">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+<!-- 			<osgb:descriptiveTerm>Private Road - Restricted Access</osgb:descriptiveTerm> -->
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,85000.000 280000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277883"></osgb:directedNode>
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277881" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288020">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+<!-- 			<osgb:descriptiveTerm>Private Road - Restricted Access</osgb:descriptiveTerm> -->
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,90000.000 280000.000,95000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277881" />
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277884" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+<!-- 	<osgb:networkMember> 
+		<osgb:RoadLink fid="osgb4000000025288021">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,85000.000 290000.000,85000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277883" />
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277885" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288022">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>290000.000,85000.000 290000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277885" />
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277880" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+ 	</osgb:networkMember> -->
+	<osgb:roadInformationMember>
+		<osgb:RoadNodeInformation fid='osgb4000000025220155'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Routing Information</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-20</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Routing Information</osgb:descriptiveGroup>
+			<osgb:environmentQualifier>
+				<osgb:classification>Mini Roundabout</osgb:classification>
+			</osgb:environmentQualifier>
+			<osgb:referenceToRoadNode xlink:href='#osgb4000000025278486' />
+		</osgb:RoadNodeInformation>
+	</osgb:roadInformationMember>
+	<osgb:roadMember>
+		<osgb:Road fid='osgb4000000025366114'>
+			<osgb:version>6</osgb:version>
+			<osgb:versionDate>2008-11-11</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-03-13</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2004-10-26</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-02-11</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-07-15</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-10-08</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
+			<osgb:roadName>BONHAY ROAD</osgb:roadName>
+			<osgb:networkMember xlink:href='#osgb4000000025277880' />
+			<osgb:networkMember xlink:href='#osgb4000000025277881' />
+			<osgb:networkMember xlink:href='#osgb4000000025277882' />
+			<osgb:boundedBy>
+				<gml:Box srsName='osgb:BNG'>
+					<gml:coordinates>290000.000,90000.000 270000.000,90000.000</gml:coordinates>
+				</gml:Box>
+			</osgb:boundedBy>
+		</osgb:Road>
+	</osgb:roadMember>
+	<osgb:roadMember>
+		<osgb:Road fid='osgb4000000025366115'>
+			<osgb:version>6</osgb:version>
+			<osgb:versionDate>2008-11-11</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-03-13</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2004-10-26</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-02-11</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-07-15</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-10-08</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
+			<osgb:roadName>OTHER ROAD</osgb:roadName>
+			<osgb:networkMember xlink:href='#osgb4000000025277883' />
+			<osgb:networkMember xlink:href='#osgb4000000025277881' />
+			<osgb:networkMember xlink:href='#osgb4000000025277884' />
+			<osgb:boundedBy>
+				<gml:Box srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,85000.000 280000.000,95000.000</gml:coordinates>
+				</gml:Box>
+			</osgb:boundedBy>
+		</osgb:Road>
+	</osgb:roadMember>
+	<osgb:boundedBy>
+		<gml:Box srsName='osgb:BNG'>
+			<gml:coordinates>290822.000,91912.000 293199.000,94222.000</gml:coordinates>
+		</gml:Box>
+	</osgb:boundedBy>
 </osgb:FeatureCollection>
diff --git a/core/src/test/resources/com/graphhopper/reader/os-itn-simple-crossroad.xml b/core/src/test/resources/com/graphhopper/reader/os-itn-simple-crossroad.xml
index 80197ca56d..014290a91b 100644
--- a/core/src/test/resources/com/graphhopper/reader/os-itn-simple-crossroad.xml
+++ b/core/src/test/resources/com/graphhopper/reader/os-itn-simple-crossroad.xml
@@ -1,169 +1,167 @@
 <?xml version='1.0' encoding='UTF-8'?>
-<osgb:FeatureCollection
-xmlns:osgb='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb'
-xmlns:gml='http://www.opengis.net/gml'
-xmlns:xlink='http://www.w3.org/1999/xlink'
-xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
-xsi:schemaLocation='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb http://www.ordnancesurvey.co.uk/xml/schema/v7/OSDNFFeatures.xsd'
-fid='GDS-58096-1'>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277880'>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>290000.000,90000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277881'>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>280000.000,90000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277882'>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>270000.000,90000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277883'>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>280000.000,85000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277884'>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>280000.000,95000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadLink fid="osgb4000000025288017">
-<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
-<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
-<osgb:length>538.90</osgb:length>
-<osgb:polyline>
-<gml:LineString srsName="osgb:BNG">
-<gml:coordinates>291460.000,92514.000 291296.000,93009.000 </gml:coordinates>
-</gml:LineString>
-</osgb:polyline>
-<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277880" />
-<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277881" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
-</osgb:RoadLink>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadLink fid="osgb4000000025288018">
-<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
-<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
-<osgb:length>538.90</osgb:length>
-<osgb:polyline>
-<gml:LineString srsName="osgb:BNG">
-<gml:coordinates>291460.000,92514.000 291296.000,93009.000 </gml:coordinates>
-</gml:LineString>
-</osgb:polyline>
-<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277881" />
-<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277882" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" ></osgb:referenceToTopographicArea>
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
-</osgb:RoadLink>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadLink fid="osgb4000000025288019">
-<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
-<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
-<osgb:length>538.90</osgb:length>
-<osgb:polyline>
-<gml:LineString srsName="osgb:BNG">
-<gml:coordinates>291460.000,92514.000 291296.000,93009.000 </gml:coordinates>
-</gml:LineString>
-</osgb:polyline>
-<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277883" ></osgb:directedNode>
-<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277881" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
-</osgb:RoadLink>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadLink fid="osgb4000000025288020">
-<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
-<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
-<osgb:length>538.90</osgb:length>
-<osgb:polyline>
-<gml:LineString srsName="osgb:BNG">
-<gml:coordinates>291460.000,92514.000 291296.000,93009.000 </gml:coordinates>
-</gml:LineString>
-</osgb:polyline>
-<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277881" />
-<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277884" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
-</osgb:RoadLink>
-</osgb:networkMember><osgb:roadInformationMember>
-<osgb:RoadNodeInformation fid='osgb4000000025220155'>
-<osgb:environmentQualifier>
-<osgb:classification>Mini Roundabout</osgb:classification>
-</osgb:environmentQualifier>
-<osgb:referenceToRoadNode xlink:href='#osgb4000000025278486'/>
-</osgb:RoadNodeInformation>
-</osgb:roadInformationMember>
-<osgb:roadMember>
-<osgb:Road fid='osgb4000000025366114'>
-<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
-<osgb:roadName>BONHAY ROAD</osgb:roadName>
-<osgb:networkMember xlink:href='#osgb4000000025288017'/>
-<osgb:networkMember xlink:href='#osgb4000000025288018'/>
-<osgb:boundedBy>
-<gml:Box srsName='osgb:BNG'>
-<gml:coordinates>291211.000,92187.000 291549.000,93434.920</gml:coordinates>
-</gml:Box>
-</osgb:boundedBy>
-</osgb:Road>
-</osgb:roadMember>
-<osgb:roadMember>
-<osgb:Road fid='osgb4000000025366115'>
-<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
-<osgb:roadName>OTHER ROAD</osgb:roadName>
-<osgb:networkMember xlink:href='#osgb4000000025288019'/>
-<osgb:networkMember xlink:href='#osgb4000000025288020'/>
-<osgb:boundedBy>
-<gml:Box srsName='osgb:BNG'>
-<gml:coordinates>291211.000,92187.000 291549.000,93434.920</gml:coordinates>
-</gml:Box>
-</osgb:boundedBy>
-</osgb:Road>
-</osgb:roadMember>
-<osgb:boundedBy>
-<gml:Box srsName='osgb:BNG'>
-<gml:coordinates>290822.000,91912.000 293199.000,94222.000</gml:coordinates>
-</gml:Box>
-</osgb:boundedBy>
+<osgb:FeatureCollection xmlns:osgb='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb'
+	xmlns:gml='http://www.opengis.net/gml' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
+	xsi:schemaLocation='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb http://www.ordnancesurvey.co.uk/xml/schema/v7/OSDNFFeatures.xsd'
+	fid='GDS-58096-1'>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277880'>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>290000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277881'>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277882'>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>270000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277883'>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,85000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277884'>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,95000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288017">
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>290000.000,90000.000 280000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277880" />
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277881" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288018">
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,90000.000 270000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277881" />
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277882" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639"></osgb:referenceToTopographicArea>
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288019">
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,85000.000 280000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277883"></osgb:directedNode>
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277881" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288020">
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,90000.000 280000.000,95000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277881" />
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277884" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:roadInformationMember>
+		<osgb:RoadNodeInformation fid='osgb4000000025220155'>
+			<osgb:environmentQualifier>
+				<osgb:classification>Mini Roundabout</osgb:classification>
+			</osgb:environmentQualifier>
+			<osgb:referenceToRoadNode xlink:href='#osgb4000000025278486' />
+		</osgb:RoadNodeInformation>
+	</osgb:roadInformationMember>
+	<osgb:roadMember>
+		<osgb:Road fid='osgb4000000025366114'>
+			<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
+			<osgb:roadName>BONHAY ROAD</osgb:roadName>
+			<osgb:networkMember xlink:href='#osgb4000000025288017' />
+			<osgb:networkMember xlink:href='#osgb4000000025288018' />
+			<osgb:boundedBy>
+				<gml:Box srsName='osgb:BNG'>
+					<gml:coordinates>291211.000,92187.000 291549.000,93434.920</gml:coordinates>
+				</gml:Box>
+			</osgb:boundedBy>
+		</osgb:Road>
+	</osgb:roadMember>
+	<osgb:roadMember>
+		<osgb:Road fid='osgb4000000025366115'>
+			<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
+			<osgb:roadName>OTHER ROAD</osgb:roadName>
+			<osgb:networkMember xlink:href='#osgb4000000025288019' />
+			<osgb:networkMember xlink:href='#osgb4000000025288020' />
+			<osgb:boundedBy>
+				<gml:Box srsName='osgb:BNG'>
+					<gml:coordinates>291211.000,92187.000 291549.000,93434.920</gml:coordinates>
+				</gml:Box>
+			</osgb:boundedBy>
+		</osgb:Road>
+	</osgb:roadMember>
+	<osgb:boundedBy>
+		<gml:Box srsName='osgb:BNG'>
+			<gml:coordinates>290822.000,91912.000 293199.000,94222.000</gml:coordinates>
+		</gml:Box>
+	</osgb:boundedBy>
 </osgb:FeatureCollection>
diff --git a/core/src/test/resources/com/graphhopper/reader/os-itn-simple-loop-bridge.xml b/core/src/test/resources/com/graphhopper/reader/os-itn-simple-loop-bridge.xml
index 318aaa44ab..e2b6dae1e6 100644
--- a/core/src/test/resources/com/graphhopper/reader/os-itn-simple-loop-bridge.xml
+++ b/core/src/test/resources/com/graphhopper/reader/os-itn-simple-loop-bridge.xml
@@ -1,410 +1,391 @@
 <?xml version='1.0' encoding='UTF-8'?>
-<osgb:FeatureCollection
-xmlns:osgb='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb'
-xmlns:gml='http://www.opengis.net/gml'
-xmlns:xlink='http://www.w3.org/1999/xlink'
-xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
-xsi:schemaLocation='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb http://www.ordnancesurvey.co.uk/xml/schema/v7/OSDNFFeatures.xsd'
-fid='GDS-58096-1'>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277880'>
-<osgb:version>2</osgb:version>
-<osgb:versionDate>2005-09-13</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2002-10-31</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>290000.000,90000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277881'>
-<osgb:version>2</osgb:version>
-<osgb:versionDate>2005-09-13</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2002-10-31</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>280000.000,90000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277881'>
-<osgb:version>2</osgb:version>
-<osgb:versionDate>2005-09-13</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2002-10-31</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>280000.000,90000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277882'>
-<osgb:version>2</osgb:version>
-<osgb:versionDate>2005-09-13</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2002-10-31</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>270000.000,90000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277883'>
-<osgb:version>2</osgb:version>
-<osgb:versionDate>2005-09-13</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2002-10-31</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>280000.000,85000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277884'>
-<osgb:version>2</osgb:version>
-<osgb:versionDate>2005-09-13</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2002-10-31</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>280000.000,95000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadNode fid='osgb4000000025277885'>
-<osgb:version>2</osgb:version>
-<osgb:versionDate>2005-09-13</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2002-10-31</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:point>
-<gml:Point srsName='osgb:BNG'>
-<gml:coordinates>290000.000,85000.000</gml:coordinates>
-</gml:Point>
-</osgb:point>
-<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665'/>
-</osgb:RoadNode>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadLink fid="osgb4000000025288017">
-<osgb:version>4</osgb:version>
-<osgb:versionDate>2006-02-03</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
-<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
-<osgb:length>538.90</osgb:length>
-<osgb:polyline>
-<gml:LineString srsName="osgb:BNG">
-<gml:coordinates>291460.000,92514.000 291296.000,93009.000 </gml:coordinates>
-</gml:LineString>
-</osgb:polyline>
-<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277880" />
-<osgb:directedNode orientation="+" gradeSeparation='1' xlink:href="#osgb4000000025277881" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
-</osgb:RoadLink>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadLink fid="osgb4000000025288018">
-<osgb:version>4</osgb:version>
-<osgb:versionDate>2006-02-03</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
-<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
-<osgb:length>538.90</osgb:length>
-<osgb:polyline>
-<gml:LineString srsName="osgb:BNG">
-<gml:coordinates>291460.000,92514.000 291296.000,93009.000 </gml:coordinates>
-</gml:LineString>
-</osgb:polyline>
-<osgb:directedNode orientation="-" gradeSeparation='1' xlink:href="#osgb4000000025277881" />
-<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277882" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" ></osgb:referenceToTopographicArea>
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
-</osgb:RoadLink>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadLink fid="osgb4000000025288019">
-<osgb:version>4</osgb:version>
-<osgb:versionDate>2006-02-03</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
-<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
-<osgb:length>538.90</osgb:length>
-<osgb:polyline>
-<gml:LineString srsName="osgb:BNG">
-<gml:coordinates>291460.000,92514.000 291296.000,93009.000 </gml:coordinates>
-</gml:LineString>
-</osgb:polyline>
-<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277883" ></osgb:directedNode>
-<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277881" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
-</osgb:RoadLink>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadLink fid="osgb4000000025288020">
-<osgb:version>4</osgb:version>
-<osgb:versionDate>2006-02-03</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
-<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
-<osgb:length>538.90</osgb:length>
-<osgb:polyline>
-<gml:LineString srsName="osgb:BNG">
-<gml:coordinates>291460.000,92514.000 291296.000,93009.000 </gml:coordinates>
-</gml:LineString>
-</osgb:polyline>
-<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277881" />
-<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277884" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
-</osgb:RoadLink>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadLink fid="osgb4000000025288021">
-<osgb:version>4</osgb:version>
-<osgb:versionDate>2006-02-03</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
-<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
-<osgb:length>538.90</osgb:length>
-<osgb:polyline>
-<gml:LineString srsName="osgb:BNG">
-<gml:coordinates>291460.000,92514.000 291296.000,93009.000 </gml:coordinates>
-</gml:LineString>
-</osgb:polyline>
-<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277883" />
-<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277885" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
-</osgb:RoadLink>
-</osgb:networkMember>
-<osgb:networkMember>
-<osgb:RoadLink fid="osgb4000000025288022">
-<osgb:version>4</osgb:version>
-<osgb:versionDate>2006-02-03</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-27</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
-<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
-<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
-<osgb:length>538.90</osgb:length>
-<osgb:polyline>
-<gml:LineString srsName="osgb:BNG">
-<gml:coordinates>291460.000,92514.000 291296.000,93009.000 </gml:coordinates>
-</gml:LineString>
-</osgb:polyline>
-<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277885" />
-<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277880" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
-<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
-</osgb:RoadLink>
-</osgb:networkMember>
-<osgb:roadInformationMember>
-<osgb:RoadNodeInformation fid='osgb4000000025220155'>
-<osgb:version>2</osgb:version>
-<osgb:versionDate>2005-09-13</osgb:versionDate>
-<osgb:theme>Road Routing Information</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-01-20</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Road Routing Information</osgb:descriptiveGroup>
-<osgb:environmentQualifier>
-<osgb:classification>Mini Roundabout</osgb:classification>
-</osgb:environmentQualifier>
-<osgb:referenceToRoadNode xlink:href='#osgb4000000025278486'/>
-</osgb:RoadNodeInformation>
-</osgb:roadInformationMember>
-<osgb:roadMember>
-<osgb:Road fid='osgb4000000025366114'>
-<osgb:version>6</osgb:version>
-<osgb:versionDate>2008-11-11</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-03-13</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2004-10-26</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2008-02-11</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2008-07-15</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2008-10-08</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
-<osgb:roadName>BONHAY ROAD</osgb:roadName>
-<osgb:networkMember xlink:href='#osgb4000000025277880'/>
-<osgb:networkMember xlink:href='#osgb4000000025277881'/>
-<osgb:networkMember xlink:href='#osgb4000000025277882'/>
-<osgb:boundedBy>
-<gml:Box srsName='osgb:BNG'>
-<gml:coordinates>291211.000,92187.000 291549.000,93434.920</gml:coordinates>
-</gml:Box>
-</osgb:boundedBy>
-</osgb:Road>
-</osgb:roadMember>
-<osgb:roadMember>
-<osgb:Road fid='osgb4000000025366115'>
-<osgb:version>6</osgb:version>
-<osgb:versionDate>2008-11-11</osgb:versionDate>
-<osgb:theme>Road Network</osgb:theme>
-<osgb:changeHistory>
-<osgb:changeDate>2003-03-13</osgb:changeDate>
-<osgb:reasonForChange>New</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2004-10-26</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2008-02-11</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2008-07-15</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:changeHistory>
-<osgb:changeDate>2008-10-08</osgb:changeDate>
-<osgb:reasonForChange>Modified</osgb:reasonForChange>
-</osgb:changeHistory>
-<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
-<osgb:roadName>OTHER ROAD</osgb:roadName>
-<osgb:networkMember xlink:href='#osgb4000000025277883'/>
-<osgb:networkMember xlink:href='#osgb4000000025277881'/>
-<osgb:networkMember xlink:href='#osgb4000000025277884'/>
-<osgb:boundedBy>
-<gml:Box srsName='osgb:BNG'>
-<gml:coordinates>291211.000,92187.000 291549.000,93434.920</gml:coordinates>
-</gml:Box>
-</osgb:boundedBy>
-</osgb:Road>
-</osgb:roadMember>
-<osgb:boundedBy>
-<gml:Box srsName='osgb:BNG'>
-<gml:coordinates>290822.000,91912.000 293199.000,94222.000</gml:coordinates>
-</gml:Box>
-</osgb:boundedBy>
+<osgb:FeatureCollection xmlns:osgb='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb'
+	xmlns:gml='http://www.opengis.net/gml' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
+	xsi:schemaLocation='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb http://www.ordnancesurvey.co.uk/xml/schema/v7/OSDNFFeatures.xsd'
+	fid='GDS-58096-1'>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277880'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>290000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277881'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277882'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>270000.000,90000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277883'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,85000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277884'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>280000.000,95000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadNode fid='osgb4000000025277885'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2002-10-31</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:point>
+				<gml:Point srsName='osgb:BNG'>
+					<gml:coordinates>290000.000,85000.000</gml:coordinates>
+				</gml:Point>
+			</osgb:point>
+			<osgb:referenceToTopographicArea xlink:href='#osgb1000002062025665' />
+		</osgb:RoadNode>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288017">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>290000.000,90000.000 280000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277880" />
+			<osgb:directedNode orientation="+" gradeSeparation='1' xlink:href="#osgb4000000025277881" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288018">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,90000.000 270000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" gradeSeparation='1' xlink:href="#osgb4000000025277881" />
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277882" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639"></osgb:referenceToTopographicArea>
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288019">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+<!-- 			<osgb:descriptiveTerm>Private Road - Restricted Access</osgb:descriptiveTerm> -->
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,85000.000 280000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277883"></osgb:directedNode>
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277881" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288020">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+<!-- 			<osgb:descriptiveTerm>Private Road - Restricted Access</osgb:descriptiveTerm> -->
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,90000.000 280000.000,95000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277881" />
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277884" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288021">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>280000.000,85000.000 290000.000,85000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277883" />
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277885" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:networkMember>
+		<osgb:RoadLink fid="osgb4000000025288022">
+			<osgb:version>4</osgb:version>
+			<osgb:versionDate>2006-02-03</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-27</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Topology</osgb:descriptiveGroup>
+			<osgb:descriptiveTerm>A Road</osgb:descriptiveTerm>
+			<osgb:natureOfRoad>Single Carriageway</osgb:natureOfRoad>
+			<osgb:length>538.90</osgb:length>
+			<osgb:polyline>
+				<gml:LineString srsName="osgb:BNG">
+					<gml:coordinates>290000.000,85000.000 290000.000,90000.000 </gml:coordinates>
+				</gml:LineString>
+			</osgb:polyline>
+			<osgb:directedNode orientation="-" xlink:href="#osgb4000000025277885" />
+			<osgb:directedNode orientation="+" xlink:href="#osgb4000000025277880" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010639" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062041282" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010640" />
+			<osgb:referenceToTopographicArea xlink:href="#osgb1000002062010474" />
+		</osgb:RoadLink>
+	</osgb:networkMember>
+	<osgb:roadInformationMember>
+		<osgb:RoadNodeInformation fid='osgb4000000025220155'>
+			<osgb:version>2</osgb:version>
+			<osgb:versionDate>2005-09-13</osgb:versionDate>
+			<osgb:theme>Road Routing Information</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-01-20</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Road Routing Information</osgb:descriptiveGroup>
+			<osgb:environmentQualifier>
+				<osgb:classification>Mini Roundabout</osgb:classification>
+			</osgb:environmentQualifier>
+			<osgb:referenceToRoadNode xlink:href='#osgb4000000025278486' />
+		</osgb:RoadNodeInformation>
+	</osgb:roadInformationMember>
+	<osgb:roadMember>
+		<osgb:Road fid='osgb4000000025366114'>
+			<osgb:version>6</osgb:version>
+			<osgb:versionDate>2008-11-11</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-03-13</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2004-10-26</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-02-11</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-07-15</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-10-08</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
+			<osgb:roadName>BONHAY ROAD</osgb:roadName>
+			<osgb:networkMember xlink:href='#osgb4000000025277880' />
+			<osgb:networkMember xlink:href='#osgb4000000025277881' />
+			<osgb:networkMember xlink:href='#osgb4000000025277882' />
+			<osgb:boundedBy>
+				<gml:Box srsName='osgb:BNG'>
+					<gml:coordinates>291211.000,92187.000 291549.000,93434.920</gml:coordinates>
+				</gml:Box>
+			</osgb:boundedBy>
+		</osgb:Road>
+	</osgb:roadMember>
+	<osgb:roadMember>
+		<osgb:Road fid='osgb4000000025366115'>
+			<osgb:version>6</osgb:version>
+			<osgb:versionDate>2008-11-11</osgb:versionDate>
+			<osgb:theme>Road Network</osgb:theme>
+			<osgb:changeHistory>
+				<osgb:changeDate>2003-03-13</osgb:changeDate>
+				<osgb:reasonForChange>New</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2004-10-26</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-02-11</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-07-15</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:changeHistory>
+				<osgb:changeDate>2008-10-08</osgb:changeDate>
+				<osgb:reasonForChange>Modified</osgb:reasonForChange>
+			</osgb:changeHistory>
+			<osgb:descriptiveGroup>Named Road</osgb:descriptiveGroup>
+			<osgb:roadName>OTHER ROAD</osgb:roadName>
+			<osgb:networkMember xlink:href='#osgb4000000025277883' />
+			<osgb:networkMember xlink:href='#osgb4000000025277881' />
+			<osgb:networkMember xlink:href='#osgb4000000025277884' />
+			<osgb:boundedBy>
+				<gml:Box srsName='osgb:BNG'>
+					<gml:coordinates>291211.000,92187.000 291549.000,93434.920</gml:coordinates>
+				</gml:Box>
+			</osgb:boundedBy>
+		</osgb:Road>
+	</osgb:roadMember>
+	<osgb:boundedBy>
+		<gml:Box srsName='osgb:BNG'>
+			<gml:coordinates>290822.000,91912.000 293199.000,94222.000</gml:coordinates>
+		</gml:Box>
+	</osgb:boundedBy>
 </osgb:FeatureCollection>
diff --git a/createTarBz2ForS3.sh b/createTarBz2ForS3.sh
new file mode 100755
index 0000000000..9c8b5c3265
--- /dev/null
+++ b/createTarBz2ForS3.sh
@@ -0,0 +1,3 @@
+DATA_DIR=~/Documents/graphhopper/core
+
+tar -cvjf itnfull.tar.bz2 -C ~/Documents/graphhopper/core itn-gh
diff --git a/tools/src/main/java/com/graphhopper/tools/OsITNProblemRouteExtractor.java b/tools/src/main/java/com/graphhopper/tools/OsITNProblemRouteExtractor.java
index 583b8317ee..44361257bc 100644
--- a/tools/src/main/java/com/graphhopper/tools/OsITNProblemRouteExtractor.java
+++ b/tools/src/main/java/com/graphhopper/tools/OsITNProblemRouteExtractor.java
@@ -1,44 +1,16 @@
 package com.graphhopper.tools;
 
-import gnu.trove.TLongCollection;
-import gnu.trove.list.TLongList;
-import gnu.trove.list.array.TLongArrayList;
-import gnu.trove.procedure.TLongProcedure;
-
-import java.io.BufferedReader;
-import java.io.File;
-import java.io.IOException;
-import java.io.InputStream;
-import java.io.InputStreamReader;
-import java.io.PrintWriter;
-import java.util.ArrayList;
-import java.util.HashSet;
-import java.util.Set;
-
-import javax.xml.parsers.ParserConfigurationException;
-import javax.xml.stream.XMLStreamException;
-import javax.xml.transform.TransformerConfigurationException;
-import javax.xml.transform.TransformerException;
-import javax.xml.xpath.XPathExpressionException;
-
-import org.opengis.geometry.MismatchedDimensionException;
-import org.opengis.referencing.FactoryException;
-import org.opengis.referencing.operation.TransformException;
-import org.xml.sax.SAXException;
+import java.util.Date;
 
 import com.graphhopper.GraphHopper;
-import com.graphhopper.reader.OSMElement;
-import com.graphhopper.reader.Relation;
-import com.graphhopper.reader.RelationMember;
-import com.graphhopper.reader.RoutingElement;
-import com.graphhopper.reader.Way;
-import com.graphhopper.reader.osgb.OsItnInputFile;
 import com.graphhopper.routing.util.DefaultEdgeFilter;
 import com.graphhopper.routing.util.EdgeFilter;
 import com.graphhopper.routing.util.FlagEncoder;
+import com.graphhopper.tools.routeExtractor.AbstractProblemRouteExtractor;
+import com.graphhopper.tools.routeExtractor.NodeListRouteExtractor;
+import com.graphhopper.tools.routeExtractor.TwoRoadsRouteExtractor;
 import com.graphhopper.util.CmdArgs;
 import com.graphhopper.util.GHUtility;
-import com.graphhopper.util.Helper;
 
 /**
  * This tool is designed to help extract the xml can contributes to a know route
@@ -51,233 +23,29 @@
  * 
  */
 public class OsITNProblemRouteExtractor {
-    OsItnInputFile file;
-    private String workingStore;
-    private TLongCollection fullWayList = new TLongArrayList(100);
-    private TLongCollection fullNodeList = new TLongArrayList(200);
-    private TLongCollection otherEndOfWayNodeList = new TLongArrayList(200);
-    private TLongCollection roadFidList = new TLongArrayList(200);
-    private String workingRoadName;
-    protected Set<String> notHighwaySet = new HashSet<String>();
-
-    private abstract class WayNodeProcess implements TLongProcedure {
-        protected final long end;
-        protected final RoutingElement item;
-        protected final long start;
-
-        private WayNodeProcess(long end, RoutingElement item, long start) {
-            this.end = end;
-            this.item = item;
-            this.start = start;
-        }
-
-    }
-
-    private abstract class ProcessVisitor<T> {
-        abstract void processVisitor(T element) throws XMLStreamException, IOException, ParserConfigurationException, SAXException, TransformerConfigurationException, TransformerException, XPathExpressionException, MismatchedDimensionException, FactoryException, TransformException;
-    }
-
-    private abstract class ProcessFileVisitor<T> extends ProcessVisitor<File> {
-        protected ProcessVisitor<T> innerProcess;
-
-        void setInnerProcess(ProcessVisitor<T> process) {
-            innerProcess = process;
-        }
-    }
-
-    private ProcessFileVisitor<RoutingElement> fileProcessProcessor = new ProcessFileVisitor<RoutingElement>() {
-
-        @Override
-        void processVisitor(File file) throws XMLStreamException, IOException, TransformerConfigurationException, ParserConfigurationException, SAXException, TransformerException, XPathExpressionException, MismatchedDimensionException, FactoryException, TransformException {
-            OsItnInputFile in = null;
-            try {
-                in = new OsItnInputFile(file).setWorkerThreads(1).open();
-                RoutingElement item;
-                while ((item = in.getNext()) != null) {
-                    innerProcess.processVisitor(item);
-                }
-            } finally {
-                Helper.close(in);
-            }
-        }
-    };
-
-    private ProcessVisitor<RoutingElement> extractWayIds = new ProcessVisitor<RoutingElement>() {
-        @Override
-        void processVisitor(RoutingElement item) {
-            if (item.isType(OSMElement.WAY)) {
-                final Way way = (Way) item;
-                if (way.hasTag("name", workingRoadName)) {
-                    System.out.println("Way found on " + workingRoadName + " id is " + way.getId());
-                    fullWayList.add(way.getId());
-                }
-            }
-            if (item.isType(OSMElement.RELATION)) {
-                final Relation relation = (Relation) item;
-                // if (!relation.isMetaRelation()
-                // && relation.hasTag(OSITNElement.TAG_KEY_TYPE, "route"))
-                // prepareWaysWithRelationInfo(relation);
-//                System.out.println("\t\tCHECK OUT A RELATION " + relation.getId());
-                if (relation.isMetaRelation()) {
-                    System.out.println("\t\tADD IT TO my road fids");
-                }
-                if (relation.hasTag("name", workingRoadName)) {
-                    System.out.println("Relation found on " + workingRoadName + " id is " + relation.getId());
-                    prepareNameRelation(relation, fullWayList);
-                    roadFidList.add(relation.getId());
-                }
-            }
-        }
-    };
-
-    private ProcessVisitor<RoutingElement> extractNodeIds = new ProcessVisitor<RoutingElement>() {
-
-        @Override
-        void processVisitor(RoutingElement item) {
-            if (item.isType(OSMElement.WAY)) {
-                final Way way = (Way) item;
-                if (item.hasTag("nothighway")) {
-                    notHighwaySet.add(item.getTag("nothighway"));
-                }
-                if (fullWayList.contains(way.getId())) {
-                    TLongList nodes = way.getNodes();
-                    long startNode = nodes.get(0);
-                    long endNode = nodes.get(nodes.size() - 1);
-//                    System.out.println("Add start: " + startNode + " end: " + endNode);
-                    fullNodeList.add(startNode);
-                    fullNodeList.add(endNode);
-                }
-            }
-        }
-    };
-
-    private ProcessVisitor<RoutingElement> extractWayIdLinkedToNodes = new ProcessVisitor<RoutingElement>() {
-        @Override
-        void processVisitor(final RoutingElement item) {
-            if (item.isType(OSMElement.WAY)) {
-                final Way way = (Way) item;
-                TLongList nodes = way.getNodes();
-                final long start = nodes.get(0);
-                final long end = nodes.get(nodes.size() - 1);
-                TLongProcedure addWayIfNodeExists = new WayNodeProcess(end, item, start) {
-                    @Override
-                    public boolean execute(long testNode) {
-                        if (testNode == start || testNode == end) {
-                            // ADD THE OTHER END IN TO OUR new collection
-                            long otherEnd = testNode == start?end:start;
-                            otherEndOfWayNodeList.add(otherEnd);
-
-                            fullWayList.add(item.getId());
-                            
-                            return false;
-                        }
-                        return true;
-                    }
-                };
-                origFullNodeList.forEach(addWayIfNodeExists);
-            }
-        }
-    };
-
-    private ProcessVisitor<RoutingElement> extractRelationsAtJunctionOfBothRoads = new ProcessVisitor<RoutingElement>() {
-        @Override
-        void processVisitor(final RoutingElement item) {
-            if (item.isType(OSMElement.RELATION)) {
-                final Relation rel = (Relation) item;
-                ArrayList<? extends RelationMember> links = rel.getMembers();
-                final long start = links.get(0).ref();
-                final long end = links.get(links.size() - 1).ref();
-                TLongProcedure addRelIfWayExists = new WayNodeProcess(end, item, start) {
-                    @Override
-                    public boolean execute(long testNode) {
-                        if (testNode == start || testNode == end) {
-                            relationList.add(rel.getId());
-                            return false;
-                        }                        
-                        return true;
-                    }
-                };
-                fullWayList.forEach(addRelIfWayExists);
-            }
-        }
-    };
-
-    private ProcessVisitor<File> extractProcessor = new ProcessVisitor<File>() {
-        void processVisitor(File element) throws XMLStreamException, IOException, ParserConfigurationException, SAXException, TransformerException, XPathExpressionException {
-            OsItnInputFile itn = new OsItnInputFile(element);
-            InputStream bis = itn.getInputStream();
-            TLongArrayList fidList = new TLongArrayList(relationList);
-            fidList.addAll(fullWayList);
-            fidList.addAll(origFullNodeList);
-            // ADD IN OUR ADDITIONAL NODE LIST HERE
-            fidList.addAll(otherEndOfWayNodeList);
-            fidList.addAll(roadFidList);
-            
-            outputListedFids(fidList, bis);
-        };
-
-        private void outputListedFids(TLongArrayList fidList, InputStream bis) throws XMLStreamException, NumberFormatException, IOException {
-            boolean output = false;
-
-            BufferedReader bir = new BufferedReader(new InputStreamReader(bis));
-            String lastLine = "";
-            while (bir.ready()) {
-                String line = bir.readLine();
-
-                if (output) {
-                    outputWriter.println(line);
-                    if (isEndBlock(line)) {
-                        output = false;
-                        outputWriter.flush();
-                    }
-                }
-                if (!output && line.contains("fid='osgb")) {
-                    String idStr = line.substring(line.indexOf("fid='osgb") + 9, line.lastIndexOf('\''));
-                    long checkFid = Long.parseLong(idStr);
-                    if (fidList.contains(checkFid)) {
-                        output = true;
-                        outputWriter.println(lastLine);
-                        outputWriter.println(line);
-                    }
-                }
-                lastLine = line;
-            }
-        }
-
-        private boolean isEndBlock(String curLine) {
-            boolean endBlock = false;
-            switch (curLine) {
-            case "</osgb:networkMember>":
-            case "</osgb:roadInformationMember>":
-            case "</osgb:roadMember>": {
-                endBlock = true;
-                break;
-            }
-            }
-            return endBlock;
-        }
-    };
-
-    private String workingLinkRoad;
-    private TLongCollection origFullNodeList;
-    private TLongCollection origFullWayList;
-    private TLongProcedure nodeOutput;
-    private TLongProcedure wayOutput;
-    private TLongArrayList relationList;
-    private TLongProcedure relOutput;
-    private PrintWriter outputWriter;
-
     public static void main(String[] strs) throws Exception {
         CmdArgs args = CmdArgs.read(strs);
         String fileOrDirName = args.get("osmreader.osm", null);
         String namedRoad = args.get("roadName", null);
         String namedLinkRoad = args.get("linkRoadName", null);
-        System.out.println("Find junction around " + namedRoad + " and " + namedLinkRoad);
-        String outputFileName = args.get("itnoutput", "os-itn-" + namedRoad.replaceAll(" ", "-").toLowerCase() + (null != namedLinkRoad ? "-" + namedLinkRoad.replaceAll(" ", "-").toLowerCase() : "") + ".xml");
-        OsITNProblemRouteExtractor extractor = new OsITNProblemRouteExtractor(fileOrDirName, namedRoad, namedLinkRoad);
+        String nodeList = args.get("nodeList", null);
+        AbstractProblemRouteExtractor extractor = null;
+        String outputFileName = null;
+        if (nodeList==null) {
+            System.out.println("Find junction around " + namedRoad + " and " + namedLinkRoad);
+            outputFileName = args.get("itnoutput", "os-itn-" + namedRoad.replaceAll(" ", "-").toLowerCase() + (null != namedLinkRoad ? "-" + namedLinkRoad.replaceAll(" ", "-").toLowerCase() : "") + ".xml");
+            extractor = new TwoRoadsRouteExtractor(fileOrDirName, namedRoad, namedLinkRoad);
+        }
+        else {
+            System.out.println("Find graph around nodes: " + nodeList);
+            outputFileName = args.get("itnoutput", "os-itn-" + new Date().getTime() + ".xml");
+            extractor = new NodeListRouteExtractor(fileOrDirName, nodeList);
+        }
         extractor.process(outputFileName);
         args.put("reader.implementation", "OSITN");
         args.put("osmreader.osm", outputFileName);
+        args.put("graph.flagEncoders", "car|turnCosts=true");
+        
         GraphHopper hopper = new GraphHopper().init(args).importOrLoad();
         FlagEncoder carEncoder = hopper.getEncodingManager().getEncoder("CAR");
         EdgeFilter filter = new DefaultEdgeFilter(carEncoder, false, true);
@@ -285,146 +53,4 @@ public static void main(String[] strs) throws Exception {
         GHUtility.printInfo(hopper.getGraph(), 0, Integer.MIN_VALUE, filter);
     }
 
-    public OsITNProblemRouteExtractor(String fileOrDirName, String namedRoad, String namedLinkRoad) {
-        workingStore = fileOrDirName;
-        workingRoadName = namedRoad;
-        workingLinkRoad = namedLinkRoad;
-    }
-
-    private void process(String outputFileName) throws TransformerException, ParserConfigurationException, SAXException, XPathExpressionException, XMLStreamException, IOException, MismatchedDimensionException, FactoryException, TransformException {
-        prepareOutputMethods();
-
-        File itnFile = new File(workingStore);
-        findWaysOnRoad(itnFile);
-        findNodesOfRoad(itnFile);
-
-        if (null != workingLinkRoad) {
-            findLinkedWayIDs(itnFile);
-            findNodesOnBothWays(itnFile);
-            origFullNodeList.forEach(nodeOutput);
-            findWaysLinkedAtJunctionOfBothRoads(itnFile);
-            fullWayList.forEach(wayOutput);
-            findRelationsAtJunctionOfBothRoads(itnFile);
-            relationList.forEach(relOutput);
-        } else {
-            fullNodeList.forEach(nodeOutput);
-            fullWayList.forEach(wayOutput);
-        }
-
-        outputWriter = new PrintWriter(outputFileName);
-
-        outputWriter.println("<?xml version='1.0' encoding='UTF-8'?>" + "<osgb:FeatureCollection " + "xmlns:osgb='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb' " + "xmlns:gml='http://www.opengis.net/gml' " + "xmlns:xlink='http://www.w3.org/1999/xlink' " + "xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' " + "xsi:schemaLocation='http://www.ordnancesurvey.co.uk/xml/namespaces/osgb http://www.ordnancesurvey.co.uk/xml/schema/v7/OSDNFFeatures.xsd' " + "fid='GDS-58096-1'>"
-                + "<gml:description>Ordnance Survey, (c) Crown Copyright. All rights reserved, 2009-07-30</gml:description>" + "<gml:boundedBy><gml:null>unknown</gml:null></gml:boundedBy>" + "<osgb:queryTime>2009-07-30T02:01:07</osgb:queryTime>" + "<osgb:queryExtent>" + "<osgb:Rectangle srsName='osgb:BNG'>" + "<gml:coordinates>291000.000,92000.000 293000.000,94000.000</gml:coordinates>" + "</osgb:Rectangle>" + "</osgb:queryExtent>");
-        outputWriter.flush();
-        processDirOrFile(itnFile, extractProcessor);
-        outputWriter.println("<osgb:boundedBy>" + "<gml:Box srsName='osgb:BNG'>" + "<gml:coordinates>290822.000,91912.000 293199.000,94222.000</gml:coordinates>" + "</gml:Box>" + "</osgb:boundedBy>" + "</osgb:FeatureCollection>");
-        outputWriter.flush();
-        outputWriter.close();
-    }
-
-    private void prepareOutputMethods() {
-        nodeOutput = new TLongProcedure() {
-            @Override
-            public boolean execute(long arg0) {
-                System.err.println("node:" + arg0);
-                return true;
-            }
-        };
-
-        wayOutput = new TLongProcedure() {
-            @Override
-            public boolean execute(long arg0) {
-                System.err.println("way:" + arg0);
-                return true;
-            }
-        };
-
-        relOutput = new TLongProcedure() {
-            @Override
-            public boolean execute(long arg0) {
-                System.err.println("rel:" + arg0);
-                return true;
-            }
-        };
-    }
-
-    private void findNodesOfRoad(File itnFile) {
-        System.err.println("STAGE TWO - findNodesOfRoad");
-        fileProcessProcessor.setInnerProcess(extractNodeIds);
-        process(itnFile, fileProcessProcessor);
-    }
-
-    private void findWaysOnRoad(File itnFile) {
-        System.err.println("STAGE ONE - findWaysOnRoad");
-        fileProcessProcessor.setInnerProcess(extractWayIds);
-        process(itnFile, fileProcessProcessor);
-    }
-
-    private void findRelationsAtJunctionOfBothRoads(File itnFile) {
-        relationList = new TLongArrayList(30);
-        fileProcessProcessor.setInnerProcess(extractRelationsAtJunctionOfBothRoads);
-        process(itnFile, fileProcessProcessor);
-    }
-
-    private void findWaysLinkedAtJunctionOfBothRoads(File itnFile) {
-        fullWayList = new TLongArrayList(30);
-        fullNodeList = origFullNodeList;
-        fileProcessProcessor.setInnerProcess(extractWayIdLinkedToNodes);
-        process(itnFile, fileProcessProcessor);
-    }
-
-    private void findNodesOnBothWays(File itnFile) {
-        System.err.println("STAGE FOUR - findNodesOnBothWays");
-        fileProcessProcessor.setInnerProcess(extractNodeIds);
-        process(itnFile, fileProcessProcessor);
-        origFullNodeList.retainAll(fullNodeList);
-    }
-
-    private void findLinkedWayIDs(File itnFile) {
-        System.err.println("STAGE THREE - findLinkedWayIDs");
-        origFullNodeList = fullNodeList;
-        origFullWayList = fullWayList;
-        fullNodeList = new TLongArrayList(200);
-        fullWayList = new TLongArrayList(100);
-        workingRoadName = workingLinkRoad;
-        findWaysOnRoad(itnFile);
-    }
-
-    void process(File itnFile, ProcessVisitor<File> processVisitor) {
-        try {
-            processDirOrFile(itnFile, processVisitor);
-        } catch (Exception ex) {
-            throw new RuntimeException("Problem while parsing file", ex);
-        }
-    }
-
-    private void processDirOrFile(File osmFile, ProcessVisitor<File> processVisitor) throws XMLStreamException, IOException, TransformerConfigurationException, ParserConfigurationException, SAXException, TransformerException, XPathExpressionException, MismatchedDimensionException, FactoryException, TransformException {
-        if (osmFile.isDirectory()) {
-            String absolutePath = osmFile.getAbsolutePath();
-            String[] list = osmFile.list();
-            for (String file : list) {
-                File nextFile = new File(absolutePath + File.separator + file);
-                processDirOrFile(nextFile, processVisitor);
-            }
-        } else {
-            processSingleFile(osmFile, processVisitor);
-        }
-    }
-
-    private void processSingleFile(File osmFile, ProcessVisitor<File> processVisitor) throws XMLStreamException, IOException, TransformerConfigurationException, ParserConfigurationException, SAXException, TransformerException, XPathExpressionException, MismatchedDimensionException, FactoryException, TransformException {
-        processVisitor.processVisitor(osmFile);
-    }
-
-    private void prepareNameRelation(Relation relation, TLongCollection wayList) {
-        ArrayList<? extends RelationMember> members = relation.getMembers();
-        for (RelationMember relationMember : members) {
-//            System.out.println("\t Add way member: " + relationMember.ref());
-            wayList.add(relationMember.ref());
-        }
-    }
-
-    private void prepareWaysWithRelationInfo(Relation relation) {
-        // TODO Auto-generated method stub
-
-    }
 }
