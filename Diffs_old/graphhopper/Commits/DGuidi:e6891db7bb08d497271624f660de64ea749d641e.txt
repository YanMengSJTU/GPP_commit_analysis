diff --git a/web/src/main/java/com/graphhopper/http/DefaultModule.java b/web/src/main/java/com/graphhopper/http/DefaultModule.java
index a8c9ef669c..904321cd06 100644
--- a/web/src/main/java/com/graphhopper/http/DefaultModule.java
+++ b/web/src/main/java/com/graphhopper/http/DefaultModule.java
@@ -39,7 +39,7 @@ protected void configure()
         try
         {
             CmdArgs args = CmdArgs.readFromConfig("config.properties", "graphhopper.config");
-            GraphHopper hopper = new GraphHopper().forServer().init(args);
+            GraphHopper hopper = create().forServer().init(args);
             hopper.importOrLoad();
             logger.info("loaded graph at:" + hopper.getGraphHopperLocation()
                     + ", source:" + hopper.getOSMFile()
@@ -64,4 +64,8 @@ protected void configure()
             throw new IllegalStateException("Couldn't load graph", ex);
         }
     }
+
+    protected GraphHopper create() {
+      return new GraphHopper();
+    }
 }
diff --git a/web/src/main/webapp/WEB-INF/web.xml b/web/src/main/webapp/WEB-INF/web.xml
index 452f2c61f6..0a0c9aa7e5 100644
--- a/web/src/main/webapp/WEB-INF/web.xml
+++ b/web/src/main/webapp/WEB-INF/web.xml
@@ -10,7 +10,7 @@
         <url-pattern>/*</url-pattern>
     </filter-mapping>    
     <listener>
-        <listener-class>com.graphhopper.http.GuiceServletConfig</listener-class>
+        <listener-class>it.esalab.mapaal.http.config.MapaalServletConfig</listener-class>
     </listener>
     <session-config>
         <session-timeout>1</session-timeout>
