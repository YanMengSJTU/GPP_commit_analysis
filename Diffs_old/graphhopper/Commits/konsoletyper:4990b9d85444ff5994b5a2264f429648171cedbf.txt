diff --git a/graphhopper-teavm/pom.xml b/graphhopper-teavm/pom.xml
index 8db374961c..26da44fdf0 100644
--- a/graphhopper-teavm/pom.xml
+++ b/graphhopper-teavm/pom.xml
@@ -91,6 +91,24 @@
           </execution>
         </executions>
       </plugin>
+      <plugin>
+        <artifactId>maven-assembly-plugin</artifactId>
+        <version>2.4</version>
+        <configuration>
+          <descriptors>
+            <descriptor>src/main/assembly/teavm.xml</descriptor>
+          </descriptors>
+        </configuration>
+        <executions>
+          <execution>
+            <id>make-assembly</id>
+            <phase>package</phase>
+            <goals>
+              <goal>single</goal>
+            </goals>
+          </execution>
+        </executions>
+      </plugin>
     </plugins>
   </build>
 </project>
\ No newline at end of file
diff --git a/graphhopper-teavm/src/main/assembly/teavm.xml b/graphhopper-teavm/src/main/assembly/teavm.xml
new file mode 100644
index 0000000000..5d08be5835
--- /dev/null
+++ b/graphhopper-teavm/src/main/assembly/teavm.xml
@@ -0,0 +1,26 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0" 
+  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+  xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 
+                      http://maven.apache.org/xsd/assembly-1.1.0.xsd">
+  <id>teavm</id>
+  <formats>
+    <format>zip</format>
+  </formats>
+  <fileSets>
+    <fileSet>
+      <directory>${project.basedir}/src/main/resources</directory>
+      <outputDirectory>/</outputDirectory>
+      <includes>
+        <include>index.html</include>
+      </includes>
+    </fileSet>
+    <fileSet>
+      <directory>${project.build.directory}/javascript</directory>
+      <outputDirectory>/</outputDirectory>
+      <includes>
+        <include>*.js</include>
+      </includes>
+    </fileSet>
+  </fileSets>
+</assembly>
\ No newline at end of file
diff --git a/graphhopper-teavm/src/main/java/com/graphhopper/teavm/GraphHopperUI.java b/graphhopper-teavm/src/main/java/com/graphhopper/teavm/GraphHopperUI.java
index cd222a881d..95d522dbb4 100644
--- a/graphhopper-teavm/src/main/java/com/graphhopper/teavm/GraphHopperUI.java
+++ b/graphhopper-teavm/src/main/java/com/graphhopper/teavm/GraphHopperUI.java
@@ -7,6 +7,8 @@
 import org.teavm.jso.JSArray;
 import com.graphhopper.routing.Path;
 import com.graphhopper.teavm.leaflet.*;
+import com.graphhopper.util.Instruction;
+import com.graphhopper.util.InstructionList;
 import com.graphhopper.util.PointList;
 import com.graphhopper.util.shapes.BBox;
 
@@ -76,10 +78,13 @@ private void click(LatLng latlng) {
             int firstNode = graphHopper.findNode(first.getLat(), first.getLng());
             int secondNode = graphHopper.findNode(second.getLat(), second.getLng());
             Path path = graphHopper.route(firstNode, secondNode);
-            PointList points = path.calcPoints();
+            InstructionList instructions = path.calcInstructions();
             JSArray<LatLng> array = window.newArray();
-            for (int i = 0; i < points.size(); ++i) {
-                array.push(Leaflet.latLng(points.getLat(i), points.getLon(i)));
+            for (Instruction insn : instructions) {
+                PointList points = insn.getPoints();
+                for (int i = 0; i < points.size(); ++i) {
+                    array.push(Leaflet.latLng(points.getLat(i), points.getLon(i)));
+                }
             }
             pathDisplay = Leaflet.polyline(array).addTo(map);
         }
diff --git a/graphhopper-teavm/src/main/resources/index.html b/graphhopper-teavm/src/main/resources/index.html
new file mode 100644
index 0000000000..0e06128695
--- /dev/null
+++ b/graphhopper-teavm/src/main/resources/index.html
@@ -0,0 +1,13 @@
+<!DOCTYPE html>
+<html>
+  <head>
+    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
+    <script type="text/javascript" src="gh-directory.js"></script>
+    <script src="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.js"></script>
+    <script type="text/javascript" src="runtime.js"></script>
+    <script type="text/javascript" src="classes.js"></script>
+    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css"/>
+  </head>
+  <body onload="main()">
+  </body>
+</html>
\ No newline at end of file
