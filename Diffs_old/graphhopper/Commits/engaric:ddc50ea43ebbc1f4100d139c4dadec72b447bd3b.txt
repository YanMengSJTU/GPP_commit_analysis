diff --git a/web/src/main/webapp/.ebextensions/server-update.config b/web/src/main/webapp/.ebextensions/server-update.config
index 6e3bea96e4..0edf399505 100644
--- a/web/src/main/webapp/.ebextensions/server-update.config
+++ b/web/src/main/webapp/.ebextensions/server-update.config
@@ -6,11 +6,21 @@ files:
         content: |
             #!/bin/bash
             
+            echo "DEMO_SITE_AVAILABLE is set to ${DEMO_SITE_AVAILABLE}"
+            POST_DEPLOY_SCRIPT=post_deploy_keep_demo.sh
+            # Check if we need to remove the demo site
+            if [ "${DEMO_SITE_AVAILABLE}" = "false" ]
+            then
+                POST_DEPLOY_SCRIPT=post_deploy_remove_demo.sh                    
+            fi            
+            
+            echo "POST_DEPLOY_SCRIPT set to ${POST_DEPLOY_SCRIPT}"
+            
             # Remove the existing env_vars.sh so it can be replaced
             rm /opt/elasticbeanstalk/hooks/appdeploy/post/99_post_deploy.sh
             
             # Download the file in a location and name that will get executed AFTER the container_commands have been executed and the application deployed 
-            AWS_SECRET_ACCESS_KEY=${AWS_SECRET_KEY} aws s3 cp --region eu-west-1 s3://${CONFIG_BUCKET}/post_deploy.sh /opt/elasticbeanstalk/hooks/appdeploy/post/99_post_deploy.sh
+            AWS_SECRET_ACCESS_KEY=${AWS_SECRET_KEY} aws s3 cp --region eu-west-1 s3://${CONFIG_BUCKET}/${POST_DEPLOY_SCRIPT} /opt/elasticbeanstalk/hooks/appdeploy/post/99_post_deploy.sh
             
             #more /opt/elasticbeanstalk/hooks/appdeploy/post/99_post_deploy.sh
             
