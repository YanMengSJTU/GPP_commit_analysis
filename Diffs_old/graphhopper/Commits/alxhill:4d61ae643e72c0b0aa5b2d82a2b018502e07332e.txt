diff --git a/marmoset/src/main/java/com/graphhopper/marmoset/MarmosetSocketServer.java b/marmoset/src/main/java/com/graphhopper/marmoset/MarmosetSocketServer.java
index 27a8a64ecb..4e83573e88 100644
--- a/marmoset/src/main/java/com/graphhopper/marmoset/MarmosetSocketServer.java
+++ b/marmoset/src/main/java/com/graphhopper/marmoset/MarmosetSocketServer.java
@@ -26,7 +26,7 @@ public MarmosetSocketServer(InetSocketAddress address)
         sockets = Collections.synchronizedSet(new HashSet<>());
     }
 
-    public void distributeData(String s)
+    public synchronized void distributeData(String s)
     {
         sockets.stream().forEach(socket -> socket.send(s));
     }
@@ -34,10 +34,9 @@ public void distributeData(String s)
     @Override
     public void stop()
     {
-        sockets.stream().forEach(WebSocket::close);
         try
         {
-            super.stop(100);
+            super.stop();
         }
         catch (IOException | InterruptedException ignored)
         {}
@@ -80,8 +79,7 @@ else if (s.equals("pause"))
     @Override
     public void onError(WebSocket webSocket, Exception e)
     {
-        System.out.println("Error :(");
-        sockets.remove(webSocket);
-        e.printStackTrace();
+        if (webSocket != null)
+            sockets.remove(webSocket);
     }
 }
