diff --git a/marmoset.sh b/marmoset.sh
index 59f7154faa..e3f3818faf 100755
--- a/marmoset.sh
+++ b/marmoset.sh
@@ -12,10 +12,14 @@ ACTION=$1
 if [ "$ACTION" = "" ]; then
     echo "Use 'build', 'clean', 'test' or 'run' ok? or is that too hard for you? seriously you wrote this get with it."
 fi
+echo ""
+echo "====="
+echo "Running $ACTION operation"
+echo "====="
+echo ""
 
 if [ "$ACTION" = "clean" ]; then
     ${MAVEN} clean
-    exit
 elif [ "$ACTION" = "build" ]; then
     ${MAVEN} --projects marmoset -DskipTests=true install assembly:single
 elif [ "$ACTION" = "run" ]; then
@@ -24,3 +28,13 @@ elif [ "$ACTION" = "test" ]; then
     ${MAVEN} test
 fi
 
+E_CODE=$?
+
+# recursively call self so multiple commands can be stacked
+if [ "$2" != "" ] && (($E_CODE == 0)); then
+    shift
+    ./$0 $@
+elif (($E_CODE > 0)); then
+    echo "Error code $E_CODE when running $ACTION"
+    exit ${E_CODE}
+fi
\ No newline at end of file
diff --git a/marmoset/pom.xml b/marmoset/pom.xml
index 963fc74ee5..cb86c389eb 100644
--- a/marmoset/pom.xml
+++ b/marmoset/pom.xml
@@ -8,21 +8,48 @@
     <artifactId>marmoset</artifactId>
     <packaging>jar</packaging>
     <version>0.7-SNAPSHOT</version>
+    <name>Marmoset Simulation Engine</name>
+    <parent>
+        <groupId>com.graphhopper</groupId>
+        <artifactId>graphhopper-parent</artifactId>
+        <version>0.7-SNAPSHOT</version>
+    </parent>
+
     <dependencies>
         <dependency>
             <groupId>com.graphhopper</groupId>
             <artifactId>graphhopper</artifactId>
             <version>${project.parent.version}</version>
         </dependency>
-    </dependencies>
-
-    <name>Marmoset Simulation Engine</name>
+        <dependency>
+            <groupId>com.graphhopper</groupId>
+            <artifactId>graphhopper-tools-lgpl</artifactId>
+            <version>${project.parent.version}</version>
+        </dependency>
+        <dependency>
+            <groupId>net.sf.trove4j</groupId>
+            <artifactId>trove4j</artifactId>
+            <version>3.0.3</version>
+        </dependency>
+        <dependency>
+            <groupId>org.slf4j</groupId>
+            <artifactId>slf4j-api</artifactId>
+            <version>${slf4j.version}</version>
+        </dependency>
+        <dependency>
+            <groupId>org.slf4j</groupId>
+            <artifactId>slf4j-log4j12</artifactId>
+            <version>${slf4j.version}</version>
+            <scope>test</scope>
+        </dependency>
+        <dependency>
+            <groupId>log4j</groupId>
+            <artifactId>log4j</artifactId>
+            <version>${log4j.version}</version>
+            <scope>test</scope>
+        </dependency>
 
-    <parent>
-        <groupId>com.graphhopper</groupId>
-        <artifactId>graphhopper-parent</artifactId>
-        <version>0.7-SNAPSHOT</version>
-    </parent>
+    </dependencies>
 
     <build>
         <pluginManagement>
diff --git a/marmoset/src/main/java/com/graphhopper/marmoset/MarmosetHopper.java b/marmoset/src/main/java/com/graphhopper/marmoset/MarmosetHopper.java
index ccb976c910..a2af3ef006 100644
--- a/marmoset/src/main/java/com/graphhopper/marmoset/MarmosetHopper.java
+++ b/marmoset/src/main/java/com/graphhopper/marmoset/MarmosetHopper.java
@@ -1,6 +1,9 @@
 package com.graphhopper.marmoset;
 
 import com.graphhopper.GraphHopper;
+import com.graphhopper.util.CmdArgs;
+
+import java.io.IOException;
 
 /**
  * Created by alexander on 15/02/2016.
@@ -13,6 +16,18 @@ public MarmosetHopper() {
     }
 
     public void init() {
-        hopper.load("british-isles-latest.osm.pbf");
+        CmdArgs args;
+        try
+        {
+            args = CmdArgs.readFromConfig("config.properties", "graphhopper.config");
+        }
+        catch (IOException e)
+        {
+            e.printStackTrace();
+            return;
+        }
+
+        args.put("osmreader.osm", "british-isles-latest.osm.pbf");
+        hopper.init(args);
     }
 }
diff --git a/marmoset/src/main/java/com/graphhopper/marmoset/Vehicle.java b/marmoset/src/main/java/com/graphhopper/marmoset/Vehicle.java
index 37602dafd2..e95a6afe55 100644
--- a/marmoset/src/main/java/com/graphhopper/marmoset/Vehicle.java
+++ b/marmoset/src/main/java/com/graphhopper/marmoset/Vehicle.java
@@ -6,4 +6,6 @@
  */
 public class Vehicle {
     public long currentRoadId; // OSM ID of the current road
+    private float lat;
+    private float lon;
 }
