diff --git a/web/src/main/resources/assets/js/main-template.js b/web/src/main/resources/assets/js/main-template.js
index 317ee97573..f96900250d 100644
--- a/web/src/main/resources/assets/js/main-template.js
+++ b/web/src/main/resources/assets/js/main-template.js
@@ -51,9 +51,6 @@ var debug = false;
 var ghRequest = new GHRequest(host, ghenv.routing.api_key);
 var bounds = {};
 
-var startIsSet = false;
-var endIsSet = false;
-
 var metaVersionInfo;
 
 // usage: log('inside coolFunc',this,arguments);
@@ -237,7 +234,6 @@ $(document).ready(function (e) {
     checkInput();
 });
 
-
 function initFromParams(params, doQuery) {
     ghRequest.init(params);
 
@@ -249,7 +245,6 @@ function initFromParams(params, doQuery) {
         enableTime: true
     });
 
-    console.log(params.polygon)
     if (Array.isArray(params.polygon)) {
         console.log(params.polygon);
         for (var i = 0; i < params.polygon.length; i++) {
@@ -258,7 +253,6 @@ function initFromParams(params, doQuery) {
     } else if (params.polygon !== undefined) {
         ghRequest.polygon.set(params.polygon, 0, true);
     }
-    console.log(params.polygon)
 
     if (ghRequest.getEarliestDepartureTime()) {
         flatpickr.setDate(ghRequest.getEarliestDepartureTime());
@@ -283,6 +277,7 @@ function initFromParams(params, doQuery) {
             mapLayer.focus(ghRequest.route.getIndex(singlePointIndex), 15, singlePointIndex);
         });
     }
+    enablePolygonCoordsIfPossible();
 }
 
 function resolveCoords(pointsAsStr, doQuery) {
@@ -370,23 +365,24 @@ function checkInput() {
 
 function setToStart(e) {
     var latlng = e.relatedTarget.getLatLng(),
-            index = ghRequest.route.getIndexByCoord(latlng);
+    index = ghRequest.route.getIndexByCoord(latlng);
     ghRequest.route.move(index, 0);
     routeIfAllResolved();
 }
 
 function setToEnd(e) {
     var latlng = e.relatedTarget.getLatLng(),
-            index = ghRequest.route.getIndexByCoord(latlng);
+    index = ghRequest.route.getIndexByCoord(latlng);
     ghRequest.route.move(index, -1);
     routeIfAllResolved();
 }
 
 function setStartCoord(e) {
+    console.warn(ghRequest.route[0]);
+
     ghRequest.route.set(e.latlng.wrap(), 0);
     resolveFrom();
     routeIfAllResolved();
-    startIsSet = true;
 
     enablePolygonCoordsIfPossible();
 }
@@ -433,18 +429,29 @@ function setEndCoord(e) {
     ghRequest.route.set(e.latlng.wrap(), index);
     resolveTo();
     routeIfAllResolved();
-    endIsSet = true;
 
     enablePolygonCoordsIfPossible();
 }
 
 function enablePolygonCoordsIfPossible() {
+    console.log(ghRequest);
+
     if (isStartAndEndpointSet())
         enablePolygonContextMenuOption();
 }
 
 function isStartAndEndpointSet() {
-    return startIsSet && endIsSet;
+    console.log(isStartSet());
+    console.log(isEndSet());
+    return isStartSet() && isEndSet();
+}
+
+function isStartSet() {
+    return typeof ghRequest.route[0].input !== 'undefined';
+}
+
+function isEndSet() {
+    return typeof ghRequest.route[ghRequest.route.size() - 1].input !== 'undefined';
 }
 
 function enablePolygonContextMenuOption() {
