diff --git a/core/src/main/java/com/graphhopper/GraphHopper.java b/core/src/main/java/com/graphhopper/GraphHopper.java
index 3ed6365439..64a1e57ca9 100644
--- a/core/src/main/java/com/graphhopper/GraphHopper.java
+++ b/core/src/main/java/com/graphhopper/GraphHopper.java
@@ -532,10 +532,10 @@ public GraphHopper init(CmdArgs args) {
                 throw new IllegalArgumentException("If no graph.location is provided you need to specify an OSM file.");
 
             graphHopperFolder = pruneFileEnd(dataReaderFile) + "-gh";
+            setGraphHopperLocation(graphHopperFolder);
         }
 
         // graph
-        setGraphHopperLocation(graphHopperFolder);
         defaultSegmentSize = args.getInt("graph.dataaccess.segment_size", defaultSegmentSize);
 
         String graphDATypeStr = args.get("graph.dataaccess", "RAM_STORE");
