diff --git a/marmoset/src/main/java/com/graphhopper/marmoset/util/ExpectedWeighting.java b/marmoset/src/main/java/com/graphhopper/marmoset/util/ExpectedWeighting.java
index f7a917fc9a..e51f4b826d 100644
--- a/marmoset/src/main/java/com/graphhopper/marmoset/util/ExpectedWeighting.java
+++ b/marmoset/src/main/java/com/graphhopper/marmoset/util/ExpectedWeighting.java
@@ -31,6 +31,12 @@ public double calcWeight(EdgeIteratorState edge, boolean reverse, int prevOrNext
     {
         double weight = super.calcWeight(edge, reverse, prevOrNextEdge);
 
+        if (edge.getEdge() < expectedRoutes.length)
+        {
+            double expectedVehicles = expectedRoutes[edge.getEdge()];
+            double density = expectedVehicles / edge.getDistance();
+
+        }
 
         return weight;
     }
diff --git a/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/SelfDrivingVehicle.java b/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/SelfDrivingVehicle.java
index ab12f139c2..c69bd3596d 100644
--- a/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/SelfDrivingVehicle.java
+++ b/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/SelfDrivingVehicle.java
@@ -43,6 +43,8 @@ public VehicleIterator getVehicleIterator()
 
     public void recalculateRoute()
     {
+        cg.set(route, cellId, false);
+
         List<EdgeIteratorState> edges = calculateRoute();
         if (edges == null)
             return;
@@ -50,6 +52,8 @@ public void recalculateRoute()
         edgeList = edges;
         cellId = 0; // TODO: figure out where we should be if still on the same edge
 
+        cg.set(route, cellId, true);
+
         SelfDrivingVehicleIterator sdvRoute = (SelfDrivingVehicleIterator) route;
         sdvRoute.resetEdges(edgeList);
     }
diff --git a/marmoset/src/main/webapp/index.html b/marmoset/src/main/webapp/index.html
index 4417ab31a3..fc17a79474 100644
--- a/marmoset/src/main/webapp/index.html
+++ b/marmoset/src/main/webapp/index.html
@@ -4,7 +4,6 @@
         <title>Marmosets are great</title>
         <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet-src.js"></script>
         <script src="http://leaflet.github.io/Leaflet.label/leaflet.label.js"></script>
-        <script src="AnimatedMarker.js"></script>
         <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.css">
         <link rel="stylesheet" href="http://leaflet.github.io/Leaflet.label/leaflet.label.css">
         <style>
