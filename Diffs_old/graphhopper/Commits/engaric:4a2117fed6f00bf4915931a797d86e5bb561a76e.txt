diff --git a/core/src/main/java/com/graphhopper/reader/osgb/dpn/AbstractOsDpnOsmAttibuteMappingVisitor.java b/core/src/main/java/com/graphhopper/reader/osgb/dpn/AbstractOsDpnOsmAttibuteMappingVisitor.java
index 3cd8a0fd42..bcd1cfac01 100644
--- a/core/src/main/java/com/graphhopper/reader/osgb/dpn/AbstractOsDpnOsmAttibuteMappingVisitor.java
+++ b/core/src/main/java/com/graphhopper/reader/osgb/dpn/AbstractOsDpnOsmAttibuteMappingVisitor.java
@@ -6,12 +6,11 @@
  * Created by sadam on 13/02/15.
  */
 public abstract class AbstractOsDpnOsmAttibuteMappingVisitor implements OsDpnOsmAttributeMappingVisitor {
-    protected String visitorName = this.getClass().getSimpleName();
+    protected String visitorName = this.getClass().getSimpleName().toLowerCase();
 
     @Override
     public void visitWayAttribute(String attributeValue, Way way) {
-        System.out.println(visitorName);
-        if (visitorName.equals(attributeValue.replaceAll(" ", ""))) {
+        if (visitorName.equals(attributeValue)) {
             applyAttributes(way);
         }
     }
diff --git a/core/src/main/java/com/graphhopper/reader/osgb/dpn/BridleWay.java b/core/src/main/java/com/graphhopper/reader/osgb/dpn/BridleWay.java
index d8c4487afd..e7067b6516 100644
--- a/core/src/main/java/com/graphhopper/reader/osgb/dpn/BridleWay.java
+++ b/core/src/main/java/com/graphhopper/reader/osgb/dpn/BridleWay.java
@@ -8,7 +8,8 @@
 public class BridleWay extends AbstractOsDpnOsmAttibuteMappingVisitor {
 
     @Override
-    protected void applyAttributes(Way way) {
+    protected void applyAttributes(Way way)
+    {
         way.setTag("designation", "public_bridleway");
     }
 
diff --git a/core/src/main/java/com/graphhopper/reader/osgb/dpn/OsDpnElement.java b/core/src/main/java/com/graphhopper/reader/osgb/dpn/OsDpnElement.java
index 2c8b567961..c27261ef17 100644
--- a/core/src/main/java/com/graphhopper/reader/osgb/dpn/OsDpnElement.java
+++ b/core/src/main/java/com/graphhopper/reader/osgb/dpn/OsDpnElement.java
@@ -127,6 +127,10 @@ else if (event == XMLStreamConstants.START_ELEMENT)
                 event = handlePhysicalLevel(parser);
                 break;
             }
+            case "rightOfUse":
+            {
+                event = handleRightOfUse(parser);
+            }
 
 		default:
 		{
@@ -143,6 +147,11 @@ protected int handlePhysicalLevel(XMLStreamReader parser) throws XMLStreamExcept
         return parser.next();
     }
 
+    protected int handleRightOfUse(XMLStreamReader parser) throws XMLStreamException
+    {
+        return parser.next();
+    }
+
     private int handleName(XMLStreamReader parser) throws XMLStreamException
     {
 	StringBuilder nameString = new StringBuilder();
diff --git a/core/src/main/java/com/graphhopper/reader/osgb/dpn/OsDpnWay.java b/core/src/main/java/com/graphhopper/reader/osgb/dpn/OsDpnWay.java
index fd908653a2..9e7d1b7a96 100644
--- a/core/src/main/java/com/graphhopper/reader/osgb/dpn/OsDpnWay.java
+++ b/core/src/main/java/com/graphhopper/reader/osgb/dpn/OsDpnWay.java
@@ -51,6 +51,7 @@
     private String[] wayCoords;
     private static final Logger logger = LoggerFactory
             .getLogger(OsDpnWay.class);
+    private static OsDpnOsmAttributeMappingVisitor[] rightOfWayVisitors = {new BridleWay(), new PermissiveBridleWay(), new BywayOpenToAllTraffic(), new Footpath(), new PermissivePath(), new RestrictedByway()};
 
     /**
      * Constructor for XML Parser
@@ -91,6 +92,16 @@ protected int handlePhysicalLevel(XMLStreamReader parser) throws XMLStreamExcept
         return super.handlePhysicalLevel(parser);
     }
 
+    @Override
+    protected int handleRightOfUse(XMLStreamReader parser) throws XMLStreamException
+    {
+        String attributeValue = parser.getElementText().replaceAll(" ", "").toLowerCase();
+        for(OsDpnOsmAttributeMappingVisitor rightOfWayVisitor: rightOfWayVisitors) {
+            rightOfWayVisitor.visitWayAttribute(attributeValue, this);
+        }
+        return super.handlePhysicalLevel(parser);
+    }
+
     @Override
     protected void parseCoords(String lineDefinition) {
         String[] lineSegments = lineDefinition.split(" ");
diff --git a/core/src/test/java/com/graphhopper/reader/osgb/dpn/BridleWayTest.java b/core/src/test/java/com/graphhopper/reader/osgb/dpn/BridleWayTest.java
index 7f30e3c4e8..1c942fcaa2 100644
--- a/core/src/test/java/com/graphhopper/reader/osgb/dpn/BridleWayTest.java
+++ b/core/src/test/java/com/graphhopper/reader/osgb/dpn/BridleWayTest.java
@@ -26,7 +26,7 @@ public void init() {
 
     @Test
     public void testVisitWayAttribute() {
-        visitor.visitWayAttribute("BridleWay", way);
+        visitor.visitWayAttribute("bridleway", way);
         verify(way).setTag("designation", "public_bridleway");
     }
 
diff --git a/core/src/test/java/com/graphhopper/reader/osgb/dpn/BywayOpenToAllTrafficTest.java b/core/src/test/java/com/graphhopper/reader/osgb/dpn/BywayOpenToAllTrafficTest.java
index 2657721e0c..c7c89f142b 100644
--- a/core/src/test/java/com/graphhopper/reader/osgb/dpn/BywayOpenToAllTrafficTest.java
+++ b/core/src/test/java/com/graphhopper/reader/osgb/dpn/BywayOpenToAllTrafficTest.java
@@ -28,7 +28,7 @@ public void init() {
 
     @Test
     public void testVisitWayAttribute() throws Exception {
-        visitor.visitWayAttribute("Byway Open To All Traffic", way);
+        visitor.visitWayAttribute("bywayopentoalltraffic", way);
         verify(way).setTag("designation", "byway_open_to_all_traffic");
         verify(way).setTag("highway", "track");
     }
diff --git a/core/src/test/java/com/graphhopper/reader/osgb/dpn/FootpathTest.java b/core/src/test/java/com/graphhopper/reader/osgb/dpn/FootpathTest.java
index cc0262e9b6..b796910495 100644
--- a/core/src/test/java/com/graphhopper/reader/osgb/dpn/FootpathTest.java
+++ b/core/src/test/java/com/graphhopper/reader/osgb/dpn/FootpathTest.java
@@ -29,7 +29,7 @@ public void init()
     @Test
     public void testVisitWayAttribute()
     {
-        visitor.visitWayAttribute("Footpath", way);
+        visitor.visitWayAttribute("footpath", way);
         verify(way).setTag("designation", "public_footpath");
     }
 
diff --git a/core/src/test/java/com/graphhopper/reader/osgb/dpn/OsDpnWayTest.java b/core/src/test/java/com/graphhopper/reader/osgb/dpn/OsDpnWayTest.java
index 78ec0f3d80..cdaf984fb8 100644
--- a/core/src/test/java/com/graphhopper/reader/osgb/dpn/OsDpnWayTest.java
+++ b/core/src/test/java/com/graphhopper/reader/osgb/dpn/OsDpnWayTest.java
@@ -13,136 +13,212 @@
 import static org.junit.Assert.assertFalse;
 
 public class OsDpnWayTest {
-    @Test
-    public void testBelowSurfaceTunnel() throws XMLStreamException, FactoryException, TransformException {
-        XMLInputFactory factory = XMLInputFactory.newInstance();
-        StringReader stringReader = new StringReader("<?xml version=\"1.0\" encoding=\"UTF-8\"?><gml:FeatureCollection xmlns:gml=\"http://www.opengis.net/gml/3.2\" xsi:schemaLocation=\"http://namespaces.ordnancesurvey.co.uk/networks/detailedPathNetwork/1.0 detailedPathNetwork.xsd http://www.opengis.net/gml/3.2 gml/3.2.1/gml.xsd\" gml:id=\"DPN\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:dpn=\"http://namespaces.ordnancesurvey.co.uk/networks/detailedPathNetwork/1.0\" xmlns:gmd=\"http://www.isotc211.org/2005/gmd\" xmlns:gco=\"http://www.isotc211.org/2005/gco\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:gss=\"http://www.isotc211.org/2005/gss\" xmlns:gts=\"http://www.isotc211.org/2005/gts\" xmlns:gsr=\"http://www.isotc211.org/2005/gsr\" xmlns:gmlxbt=\"http://www.opengis.net/gml/3.3/xbt\">" +
-                "  <gml:featureMember>\n" +
-                "    <dpn:RouteLink gml:id=\"osgb35cff694-c2a8-461e-9540-730e3ae11a7a\">" +
-                "      <dpn:featureID>35cff694-c2a8-461e-9540-730e3ae11a7a</dpn:featureID>\n" +
-                "      <dpn:versionID>1</dpn:versionID>\n" +
-                "      <dpn:versionDate>2014-12-12</dpn:versionDate>\n" +
-                "      <dpn:startNode xlink:href=\"#df162dd8-c284-469b-81d6-d63105a39c7f\"/>\n" +
-                "      <dpn:endNode xlink:href=\"#56dc4c0b-0586-4849-b3e2-1e00ee149429\"/>\n" +
-                "      <dpn:descriptiveGroup codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/RouteDescriptiveGroupValue#NonMotorisedVehicularRouteNetwork\">Non Motorised Vehicular Route Network</dpn:descriptiveGroup>\n" +
-                "      <dpn:descriptiveTerm codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/RouteLinkDescriptiveTermValue#NoPhysicalManifestation\">No Physical Manifestation</dpn:descriptiveTerm>\n" +
-                "      <dpn:surfaceType codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/SurfaceTypeValue#Unmade\">Unmade</dpn:surfaceType>\n" +
-                "      <dpn:physicalLevel codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/LevelCodeValue#BelowSurfaceLevelTunnel\">Below Surface Level Tunnel</dpn:physicalLevel>\n" +
-                "      <dpn:name>Named Road</dpn:name>\n" +
-                "      <dpn:adoptedByNationalCycleRoute>false</dpn:adoptedByNationalCycleRoute>\n" +
-                "      <dpn:adoptedByRecreationalRoute>false</dpn:adoptedByRecreationalRoute>\n" +
-                "      <dpn:adoptedByOtherCycleRoute>false</dpn:adoptedByOtherCycleRoute>\n" +
-                "      <dpn:withinAccessLand>true</dpn:withinAccessLand>\n" +
-                "      <dpn:crossesDangerArea>false</dpn:crossesDangerArea>\n" +
-                "      <dpn:verticalGain>\n" +
-                "        <dpn:VerticalGainType>\n" +
-                "          <dpn:inDirection uom=\"m\">9</dpn:inDirection>\n" +
-                "          <dpn:againstDirection uom=\"m\">2</dpn:againstDirection>\n" +
-                "        </dpn:VerticalGainType>\n" +
-                "      </dpn:verticalGain>\n" +
-                "      <dpn:planimetricLength uom=\"m\">85</dpn:planimetricLength>\n" +
-                "      <dpn:surfaceLength uom=\"m\">86</dpn:surfaceLength>\n" +
-                "      <dpn:geometry>\n" +
-                "        <gml:LineString srsName=\"urn:ogc:def:crs:EPSG::7405\" gml:id=\"LOCAL_ID_29519\">\n" +
-                "          <gml:posList srsDimension=\"3\" count=\"10\">428672.241 380372.608999999 299.7 428653.822 380372.229 302.5 428647.49 380373.239 303.29 428645.296 380374.958000001 303.36 428638.156 380386.505000001 302.3 428635.625 380389.073999999 301.89 428631.214 380390.913000001 301.39 428628.625 380390.854 301.44 428622.598 380388.684 302.44 428598.489 380377.006999999 306.36</gml:posList>\n" +
-                "        </gml:LineString>\n" +
-                "      </dpn:geometry>\n" +
-                "    </dpn:RouteLink>");
-        XMLStreamReader parser = factory.createXMLStreamReader(stringReader);
 
+    public static final String aboveSurfaceWay = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><gml:FeatureCollection xmlns:gml=\"http://www.opengis.net/gml/3.2\" xsi:schemaLocation=\"http://namespaces.ordnancesurvey.co.uk/networks/detailedPathNetwork/1.0 detailedPathNetwork.xsd http://www.opengis.net/gml/3.2 gml/3.2.1/gml.xsd\" gml:id=\"DPN\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:dpn=\"http://namespaces.ordnancesurvey.co.uk/networks/detailedPathNetwork/1.0\" xmlns:gmd=\"http://www.isotc211.org/2005/gmd\" xmlns:gco=\"http://www.isotc211.org/2005/gco\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:gss=\"http://www.isotc211.org/2005/gss\" xmlns:gts=\"http://www.isotc211.org/2005/gts\" xmlns:gsr=\"http://www.isotc211.org/2005/gsr\" xmlns:gmlxbt=\"http://www.opengis.net/gml/3.3/xbt\">" +
+            "  <gml:featureMember>\n" +
+            "    <dpn:RouteLink gml:id=\"osgb35cff694-c2a8-461e-9540-730e3ae11a7a\">" +
+            "      <dpn:featureID>35cff694-c2a8-461e-9540-730e3ae11a7a</dpn:featureID>\n" +
+            "      <dpn:versionID>1</dpn:versionID>\n" +
+            "      <dpn:versionDate>2014-12-12</dpn:versionDate>\n" +
+            "      <dpn:startNode xlink:href=\"#df162dd8-c284-469b-81d6-d63105a39c7f\"/>\n" +
+            "      <dpn:endNode xlink:href=\"#56dc4c0b-0586-4849-b3e2-1e00ee149429\"/>\n" +
+            "      <dpn:descriptiveGroup codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/RouteDescriptiveGroupValue#NonMotorisedVehicularRouteNetwork\">Non Motorised Vehicular Route Network</dpn:descriptiveGroup>\n" +
+            "      <dpn:descriptiveTerm codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/RouteLinkDescriptiveTermValue#NoPhysicalManifestation\">No Physical Manifestation</dpn:descriptiveTerm>\n" +
+            "      <dpn:surfaceType codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/SurfaceTypeValue#Unmade\">Unmade</dpn:surfaceType>\n" +
+            "      <dpn:physicalLevel codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/LevelCodeValue#AboveSurfaceLevelOnStructure\">Above Surface Level On Structure</dpn:physicalLevel>\n" +
+            "      <dpn:name>Named Road</dpn:name>\n" +
+            "      <dpn:adoptedByNationalCycleRoute>false</dpn:adoptedByNationalCycleRoute>\n" +
+            "      <dpn:adoptedByRecreationalRoute>false</dpn:adoptedByRecreationalRoute>\n" +
+            "      <dpn:adoptedByOtherCycleRoute>false</dpn:adoptedByOtherCycleRoute>\n" +
+            "      <dpn:withinAccessLand>true</dpn:withinAccessLand>\n" +
+            "      <dpn:crossesDangerArea>false</dpn:crossesDangerArea>\n" +
+            "      <dpn:verticalGain>\n" +
+            "        <dpn:VerticalGainType>\n" +
+            "          <dpn:inDirection uom=\"m\">9</dpn:inDirection>\n" +
+            "          <dpn:againstDirection uom=\"m\">2</dpn:againstDirection>\n" +
+            "        </dpn:VerticalGainType>\n" +
+            "      </dpn:verticalGain>\n" +
+            "      <dpn:planimetricLength uom=\"m\">85</dpn:planimetricLength>\n" +
+            "      <dpn:surfaceLength uom=\"m\">86</dpn:surfaceLength>\n" +
+            "      <dpn:geometry>\n" +
+            "        <gml:LineString srsName=\"urn:ogc:def:crs:EPSG::7405\" gml:id=\"LOCAL_ID_29519\">\n" +
+            "          <gml:posList srsDimension=\"3\" count=\"10\">428672.241 380372.608999999 299.7 428653.822 380372.229 302.5 428647.49 380373.239 303.29 428645.296 380374.958000001 303.36 428638.156 380386.505000001 302.3 428635.625 380389.073999999 301.89 428631.214 380390.913000001 301.39 428628.625 380390.854 301.44 428622.598 380388.684 302.44 428598.489 380377.006999999 306.36</gml:posList>\n" +
+            "        </gml:LineString>\n" +
+            "      </dpn:geometry>\n" +
+            "    </dpn:RouteLink>";
+    public static final String surfaceWay = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><gml:FeatureCollection xmlns:gml=\"http://www.opengis.net/gml/3.2\" xsi:schemaLocation=\"http://namespaces.ordnancesurvey.co.uk/networks/detailedPathNetwork/1.0 detailedPathNetwork.xsd http://www.opengis.net/gml/3.2 gml/3.2.1/gml.xsd\" gml:id=\"DPN\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:dpn=\"http://namespaces.ordnancesurvey.co.uk/networks/detailedPathNetwork/1.0\" xmlns:gmd=\"http://www.isotc211.org/2005/gmd\" xmlns:gco=\"http://www.isotc211.org/2005/gco\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:gss=\"http://www.isotc211.org/2005/gss\" xmlns:gts=\"http://www.isotc211.org/2005/gts\" xmlns:gsr=\"http://www.isotc211.org/2005/gsr\" xmlns:gmlxbt=\"http://www.opengis.net/gml/3.3/xbt\">" +
+            "  <gml:featureMember>\n" +
+            "    <dpn:RouteLink gml:id=\"osgb35cff694-c2a8-461e-9540-730e3ae11a7a\">" +
+            "      <dpn:featureID>35cff694-c2a8-461e-9540-730e3ae11a7a</dpn:featureID>\n" +
+            "      <dpn:versionID>1</dpn:versionID>\n" +
+            "      <dpn:versionDate>2014-12-12</dpn:versionDate>\n" +
+            "      <dpn:startNode xlink:href=\"#df162dd8-c284-469b-81d6-d63105a39c7f\"/>\n" +
+            "      <dpn:endNode xlink:href=\"#56dc4c0b-0586-4849-b3e2-1e00ee149429\"/>\n" +
+            "      <dpn:descriptiveGroup codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/RouteDescriptiveGroupValue#NonMotorisedVehicularRouteNetwork\">Non Motorised Vehicular Route Network</dpn:descriptiveGroup>\n" +
+            "      <dpn:descriptiveTerm codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/RouteLinkDescriptiveTermValue#NoPhysicalManifestation\">No Physical Manifestation</dpn:descriptiveTerm>\n" +
+            "      <dpn:surfaceType codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/SurfaceTypeValue#Unmade\">Unmade</dpn:surfaceType>\n" +
+            "      <dpn:physicalLevel codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/LevelCodeValue#SurfaceLevel\">Surface Level</dpn:physicalLevel>\n" +
+            "      <dpn:name>Named Road</dpn:name>\n" +
+            "      <dpn:adoptedByNationalCycleRoute>false</dpn:adoptedByNationalCycleRoute>\n" +
+            "      <dpn:adoptedByRecreationalRoute>false</dpn:adoptedByRecreationalRoute>\n" +
+            "      <dpn:adoptedByOtherCycleRoute>false</dpn:adoptedByOtherCycleRoute>\n" +
+            "      <dpn:withinAccessLand>true</dpn:withinAccessLand>\n" +
+            "      <dpn:crossesDangerArea>false</dpn:crossesDangerArea>\n" +
+            "      <dpn:verticalGain>\n" +
+            "        <dpn:VerticalGainType>\n" +
+            "          <dpn:inDirection uom=\"m\">9</dpn:inDirection>\n" +
+            "          <dpn:againstDirection uom=\"m\">2</dpn:againstDirection>\n" +
+            "        </dpn:VerticalGainType>\n" +
+            "      </dpn:verticalGain>\n" +
+            "      <dpn:planimetricLength uom=\"m\">85</dpn:planimetricLength>\n" +
+            "      <dpn:surfaceLength uom=\"m\">86</dpn:surfaceLength>\n" +
+            "      <dpn:geometry>\n" +
+            "        <gml:LineString srsName=\"urn:ogc:def:crs:EPSG::7405\" gml:id=\"LOCAL_ID_29519\">\n" +
+            "          <gml:posList srsDimension=\"3\" count=\"10\">428672.241 380372.608999999 299.7 428653.822 380372.229 302.5 428647.49 380373.239 303.29 428645.296 380374.958000001 303.36 428638.156 380386.505000001 302.3 428635.625 380389.073999999 301.89 428631.214 380390.913000001 301.39 428628.625 380390.854 301.44 428622.598 380388.684 302.44 428598.489 380377.006999999 306.36</gml:posList>\n" +
+            "        </gml:LineString>\n" +
+            "      </dpn:geometry>\n" +
+            "    </dpn:RouteLink>";
+    public static final String tunnelWay = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><gml:FeatureCollection xmlns:gml=\"http://www.opengis.net/gml/3.2\" xsi:schemaLocation=\"http://namespaces.ordnancesurvey.co.uk/networks/detailedPathNetwork/1.0 detailedPathNetwork.xsd http://www.opengis.net/gml/3.2 gml/3.2.1/gml.xsd\" gml:id=\"DPN\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:dpn=\"http://namespaces.ordnancesurvey.co.uk/networks/detailedPathNetwork/1.0\" xmlns:gmd=\"http://www.isotc211.org/2005/gmd\" xmlns:gco=\"http://www.isotc211.org/2005/gco\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:gss=\"http://www.isotc211.org/2005/gss\" xmlns:gts=\"http://www.isotc211.org/2005/gts\" xmlns:gsr=\"http://www.isotc211.org/2005/gsr\" xmlns:gmlxbt=\"http://www.opengis.net/gml/3.3/xbt\">" +
+            "  <gml:featureMember>\n" +
+            "    <dpn:RouteLink gml:id=\"osgb35cff694-c2a8-461e-9540-730e3ae11a7a\">" +
+            "      <dpn:featureID>35cff694-c2a8-461e-9540-730e3ae11a7a</dpn:featureID>\n" +
+            "      <dpn:versionID>1</dpn:versionID>\n" +
+            "      <dpn:versionDate>2014-12-12</dpn:versionDate>\n" +
+            "      <dpn:startNode xlink:href=\"#df162dd8-c284-469b-81d6-d63105a39c7f\"/>\n" +
+            "      <dpn:endNode xlink:href=\"#56dc4c0b-0586-4849-b3e2-1e00ee149429\"/>\n" +
+            "      <dpn:descriptiveGroup codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/RouteDescriptiveGroupValue#NonMotorisedVehicularRouteNetwork\">Non Motorised Vehicular Route Network</dpn:descriptiveGroup>\n" +
+            "      <dpn:descriptiveTerm codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/RouteLinkDescriptiveTermValue#NoPhysicalManifestation\">No Physical Manifestation</dpn:descriptiveTerm>\n" +
+            "      <dpn:surfaceType codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/SurfaceTypeValue#Unmade\">Unmade</dpn:surfaceType>\n" +
+            "      <dpn:physicalLevel codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/LevelCodeValue#BelowSurfaceLevelTunnel\">Below Surface Level Tunnel</dpn:physicalLevel>\n" +
+            "      <dpn:name>Named Road</dpn:name>\n" +
+            "      <dpn:adoptedByNationalCycleRoute>false</dpn:adoptedByNationalCycleRoute>\n" +
+            "      <dpn:adoptedByRecreationalRoute>false</dpn:adoptedByRecreationalRoute>\n" +
+            "      <dpn:adoptedByOtherCycleRoute>false</dpn:adoptedByOtherCycleRoute>\n" +
+            "      <dpn:withinAccessLand>true</dpn:withinAccessLand>\n" +
+            "      <dpn:crossesDangerArea>false</dpn:crossesDangerArea>\n" +
+            "      <dpn:verticalGain>\n" +
+            "        <dpn:VerticalGainType>\n" +
+            "          <dpn:inDirection uom=\"m\">9</dpn:inDirection>\n" +
+            "          <dpn:againstDirection uom=\"m\">2</dpn:againstDirection>\n" +
+            "        </dpn:VerticalGainType>\n" +
+            "      </dpn:verticalGain>\n" +
+            "      <dpn:planimetricLength uom=\"m\">85</dpn:planimetricLength>\n" +
+            "      <dpn:surfaceLength uom=\"m\">86</dpn:surfaceLength>\n" +
+            "      <dpn:geometry>\n" +
+            "        <gml:LineString srsName=\"urn:ogc:def:crs:EPSG::7405\" gml:id=\"LOCAL_ID_29519\">\n" +
+            "          <gml:posList srsDimension=\"3\" count=\"10\">428672.241 380372.608999999 299.7 428653.822 380372.229 302.5 428647.49 380373.239 303.29 428645.296 380374.958000001 303.36 428638.156 380386.505000001 302.3 428635.625 380389.073999999 301.89 428631.214 380390.913000001 301.39 428628.625 380390.854 301.44 428622.598 380388.684 302.44 428598.489 380377.006999999 306.36</gml:posList>\n" +
+            "        </gml:LineString>\n" +
+            "      </dpn:geometry>\n" +
+            "    </dpn:RouteLink>";
 
-        OsDpnWay way = new OsDpnWay("1");
-        way.readTags(parser);
-        assertTrue("Way should have a tunnel", way.hasTag("tunnel", "yes"));
-        assertFalse("Way should not have a bridge", way.hasTag("bridge", "yes"));
-    }
+    public static final String bridleWay = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><gml:FeatureCollection xmlns:gml=\"http://www.opengis.net/gml/3.2\" xsi:schemaLocation=\"http://namespaces.ordnancesurvey.co.uk/networks/detailedPathNetwork/1.0 detailedPathNetwork.xsd http://www.opengis.net/gml/3.2 gml/3.2.1/gml.xsd\" gml:id=\"DPN\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:dpn=\"http://namespaces.ordnancesurvey.co.uk/networks/detailedPathNetwork/1.0\" xmlns:gmd=\"http://www.isotc211.org/2005/gmd\" xmlns:gco=\"http://www.isotc211.org/2005/gco\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:gss=\"http://www.isotc211.org/2005/gss\" xmlns:gts=\"http://www.isotc211.org/2005/gts\" xmlns:gsr=\"http://www.isotc211.org/2005/gsr\" xmlns:gmlxbt=\"http://www.opengis.net/gml/3.3/xbt\">" +
+            "  <gml:featureMember>\n" +
+            "    <dpn:RouteLink gml:id=\"osgb35cff694-c2a8-461e-9540-730e3ae11a7a\">" +
+            "      <dpn:featureID>35cff694-c2a8-461e-9540-730e3ae11a7a</dpn:featureID>\n" +
+            "      <dpn:versionID>1</dpn:versionID>\n" +
+            "      <dpn:versionDate>2014-12-12</dpn:versionDate>\n" +
+            "      <dpn:startNode xlink:href=\"#df162dd8-c284-469b-81d6-d63105a39c7f\"/>\n" +
+            "      <dpn:endNode xlink:href=\"#56dc4c0b-0586-4849-b3e2-1e00ee149429\"/>\n" +
+            "      <dpn:descriptiveGroup codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/RouteDescriptiveGroupValue#NonMotorisedVehicularRouteNetwork\">Non Motorised Vehicular Route Network</dpn:descriptiveGroup>\n" +
+            "      <dpn:descriptiveTerm codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/RouteLinkDescriptiveTermValue#NoPhysicalManifestation\">No Physical Manifestation</dpn:descriptiveTerm>\n" +
+            "      <dpn:surfaceType codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/SurfaceTypeValue#Unmade\">Unmade</dpn:surfaceType>\n" +
+            "      <dpn:physicalLevel codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/LevelCodeValue#BelowSurfaceLevelTunnel\">Below Surface Level Tunnel</dpn:physicalLevel>\n" +
+            "      <dpn:name>Named Road</dpn:name>\n" +
+            "      <dpn:rightOfUse>Bridleway</dpn:rightOfUse>\n" +
+            "      <dpn:adoptedByNationalCycleRoute>false</dpn:adoptedByNationalCycleRoute>\n" +
+            "      <dpn:adoptedByRecreationalRoute>false</dpn:adoptedByRecreationalRoute>\n" +
+            "      <dpn:adoptedByOtherCycleRoute>false</dpn:adoptedByOtherCycleRoute>\n" +
+            "      <dpn:withinAccessLand>true</dpn:withinAccessLand>\n" +
+            "      <dpn:crossesDangerArea>false</dpn:crossesDangerArea>\n" +
+            "      <dpn:verticalGain>\n" +
+            "        <dpn:VerticalGainType>\n" +
+            "          <dpn:inDirection uom=\"m\">9</dpn:inDirection>\n" +
+            "          <dpn:againstDirection uom=\"m\">2</dpn:againstDirection>\n" +
+            "        </dpn:VerticalGainType>\n" +
+            "      </dpn:verticalGain>\n" +
+            "      <dpn:planimetricLength uom=\"m\">85</dpn:planimetricLength>\n" +
+            "      <dpn:surfaceLength uom=\"m\">86</dpn:surfaceLength>\n" +
+            "      <dpn:geometry>\n" +
+            "        <gml:LineString srsName=\"urn:ogc:def:crs:EPSG::7405\" gml:id=\"LOCAL_ID_29519\">\n" +
+            "          <gml:posList srsDimension=\"3\" count=\"10\">428672.241 380372.608999999 299.7 428653.822 380372.229 302.5 428647.49 380373.239 303.29 428645.296 380374.958000001 303.36 428638.156 380386.505000001 302.3 428635.625 380389.073999999 301.89 428631.214 380390.913000001 301.39 428628.625 380390.854 301.44 428622.598 380388.684 302.44 428598.489 380377.006999999 306.36</gml:posList>\n" +
+            "        </gml:LineString>\n" +
+            "      </dpn:geometry>\n" +
+            "    </dpn:RouteLink>";
+    public static final String restrictedByWay = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><gml:FeatureCollection xmlns:gml=\"http://www.opengis.net/gml/3.2\" xsi:schemaLocation=\"http://namespaces.ordnancesurvey.co.uk/networks/detailedPathNetwork/1.0 detailedPathNetwork.xsd http://www.opengis.net/gml/3.2 gml/3.2.1/gml.xsd\" gml:id=\"DPN\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:dpn=\"http://namespaces.ordnancesurvey.co.uk/networks/detailedPathNetwork/1.0\" xmlns:gmd=\"http://www.isotc211.org/2005/gmd\" xmlns:gco=\"http://www.isotc211.org/2005/gco\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:gss=\"http://www.isotc211.org/2005/gss\" xmlns:gts=\"http://www.isotc211.org/2005/gts\" xmlns:gsr=\"http://www.isotc211.org/2005/gsr\" xmlns:gmlxbt=\"http://www.opengis.net/gml/3.3/xbt\">" +
+            "  <gml:featureMember>\n" +
+            "    <dpn:RouteLink gml:id=\"osgb35cff694-c2a8-461e-9540-730e3ae11a7a\">" +
+            "      <dpn:featureID>35cff694-c2a8-461e-9540-730e3ae11a7a</dpn:featureID>\n" +
+            "      <dpn:versionID>1</dpn:versionID>\n" +
+            "      <dpn:versionDate>2014-12-12</dpn:versionDate>\n" +
+            "      <dpn:startNode xlink:href=\"#df162dd8-c284-469b-81d6-d63105a39c7f\"/>\n" +
+            "      <dpn:endNode xlink:href=\"#56dc4c0b-0586-4849-b3e2-1e00ee149429\"/>\n" +
+            "      <dpn:descriptiveGroup codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/RouteDescriptiveGroupValue#NonMotorisedVehicularRouteNetwork\">Non Motorised Vehicular Route Network</dpn:descriptiveGroup>\n" +
+            "      <dpn:descriptiveTerm codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/RouteLinkDescriptiveTermValue#NoPhysicalManifestation\">No Physical Manifestation</dpn:descriptiveTerm>\n" +
+            "      <dpn:surfaceType codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/SurfaceTypeValue#Unmade\">Unmade</dpn:surfaceType>\n" +
+            "      <dpn:physicalLevel codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/LevelCodeValue#BelowSurfaceLevelTunnel\">Below Surface Level Tunnel</dpn:physicalLevel>\n" +
+            "      <dpn:name>Named Road</dpn:name>\n" +
+            "      <dpn:rightOfUse>Restricted Byway</dpn:rightOfUse>\n" +
+            "      <dpn:adoptedByNationalCycleRoute>false</dpn:adoptedByNationalCycleRoute>\n" +
+            "      <dpn:adoptedByRecreationalRoute>false</dpn:adoptedByRecreationalRoute>\n" +
+            "      <dpn:adoptedByOtherCycleRoute>false</dpn:adoptedByOtherCycleRoute>\n" +
+            "      <dpn:withinAccessLand>true</dpn:withinAccessLand>\n" +
+            "      <dpn:crossesDangerArea>false</dpn:crossesDangerArea>\n" +
+            "      <dpn:verticalGain>\n" +
+            "        <dpn:VerticalGainType>\n" +
+            "          <dpn:inDirection uom=\"m\">9</dpn:inDirection>\n" +
+            "          <dpn:againstDirection uom=\"m\">2</dpn:againstDirection>\n" +
+            "        </dpn:VerticalGainType>\n" +
+            "      </dpn:verticalGain>\n" +
+            "      <dpn:planimetricLength uom=\"m\">85</dpn:planimetricLength>\n" +
+            "      <dpn:surfaceLength uom=\"m\">86</dpn:surfaceLength>\n" +
+            "      <dpn:geometry>\n" +
+            "        <gml:LineString srsName=\"urn:ogc:def:crs:EPSG::7405\" gml:id=\"LOCAL_ID_29519\">\n" +
+            "          <gml:posList srsDimension=\"3\" count=\"10\">428672.241 380372.608999999 299.7 428653.822 380372.229 302.5 428647.49 380373.239 303.29 428645.296 380374.958000001 303.36 428638.156 380386.505000001 302.3 428635.625 380389.073999999 301.89 428631.214 380390.913000001 301.39 428628.625 380390.854 301.44 428622.598 380388.684 302.44 428598.489 380377.006999999 306.36</gml:posList>\n" +
+            "        </gml:LineString>\n" +
+            "      </dpn:geometry>\n" +
+            "    </dpn:RouteLink>";
 
     @Test
     public void testSurface() throws XMLStreamException, FactoryException, TransformException {
-        XMLInputFactory factory = XMLInputFactory.newInstance();
-        StringReader stringReader = new StringReader("<?xml version=\"1.0\" encoding=\"UTF-8\"?><gml:FeatureCollection xmlns:gml=\"http://www.opengis.net/gml/3.2\" xsi:schemaLocation=\"http://namespaces.ordnancesurvey.co.uk/networks/detailedPathNetwork/1.0 detailedPathNetwork.xsd http://www.opengis.net/gml/3.2 gml/3.2.1/gml.xsd\" gml:id=\"DPN\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:dpn=\"http://namespaces.ordnancesurvey.co.uk/networks/detailedPathNetwork/1.0\" xmlns:gmd=\"http://www.isotc211.org/2005/gmd\" xmlns:gco=\"http://www.isotc211.org/2005/gco\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:gss=\"http://www.isotc211.org/2005/gss\" xmlns:gts=\"http://www.isotc211.org/2005/gts\" xmlns:gsr=\"http://www.isotc211.org/2005/gsr\" xmlns:gmlxbt=\"http://www.opengis.net/gml/3.3/xbt\">" +
-                "  <gml:featureMember>\n" +
-                "    <dpn:RouteLink gml:id=\"osgb35cff694-c2a8-461e-9540-730e3ae11a7a\">" +
-                "      <dpn:featureID>35cff694-c2a8-461e-9540-730e3ae11a7a</dpn:featureID>\n" +
-                "      <dpn:versionID>1</dpn:versionID>\n" +
-                "      <dpn:versionDate>2014-12-12</dpn:versionDate>\n" +
-                "      <dpn:startNode xlink:href=\"#df162dd8-c284-469b-81d6-d63105a39c7f\"/>\n" +
-                "      <dpn:endNode xlink:href=\"#56dc4c0b-0586-4849-b3e2-1e00ee149429\"/>\n" +
-                "      <dpn:descriptiveGroup codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/RouteDescriptiveGroupValue#NonMotorisedVehicularRouteNetwork\">Non Motorised Vehicular Route Network</dpn:descriptiveGroup>\n" +
-                "      <dpn:descriptiveTerm codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/RouteLinkDescriptiveTermValue#NoPhysicalManifestation\">No Physical Manifestation</dpn:descriptiveTerm>\n" +
-                "      <dpn:surfaceType codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/SurfaceTypeValue#Unmade\">Unmade</dpn:surfaceType>\n" +
-                "      <dpn:physicalLevel codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/LevelCodeValue#SurfaceLevel\">Surface Level</dpn:physicalLevel>\n" +
-                "      <dpn:name>Named Road</dpn:name>\n" +
-                "      <dpn:adoptedByNationalCycleRoute>false</dpn:adoptedByNationalCycleRoute>\n" +
-                "      <dpn:adoptedByRecreationalRoute>false</dpn:adoptedByRecreationalRoute>\n" +
-                "      <dpn:adoptedByOtherCycleRoute>false</dpn:adoptedByOtherCycleRoute>\n" +
-                "      <dpn:withinAccessLand>true</dpn:withinAccessLand>\n" +
-                "      <dpn:crossesDangerArea>false</dpn:crossesDangerArea>\n" +
-                "      <dpn:verticalGain>\n" +
-                "        <dpn:VerticalGainType>\n" +
-                "          <dpn:inDirection uom=\"m\">9</dpn:inDirection>\n" +
-                "          <dpn:againstDirection uom=\"m\">2</dpn:againstDirection>\n" +
-                "        </dpn:VerticalGainType>\n" +
-                "      </dpn:verticalGain>\n" +
-                "      <dpn:planimetricLength uom=\"m\">85</dpn:planimetricLength>\n" +
-                "      <dpn:surfaceLength uom=\"m\">86</dpn:surfaceLength>\n" +
-                "      <dpn:geometry>\n" +
-                "        <gml:LineString srsName=\"urn:ogc:def:crs:EPSG::7405\" gml:id=\"LOCAL_ID_29519\">\n" +
-                "          <gml:posList srsDimension=\"3\" count=\"10\">428672.241 380372.608999999 299.7 428653.822 380372.229 302.5 428647.49 380373.239 303.29 428645.296 380374.958000001 303.36 428638.156 380386.505000001 302.3 428635.625 380389.073999999 301.89 428631.214 380390.913000001 301.39 428628.625 380390.854 301.44 428622.598 380388.684 302.44 428598.489 380377.006999999 306.36</gml:posList>\n" +
-                "        </gml:LineString>\n" +
-                "      </dpn:geometry>\n" +
-                "    </dpn:RouteLink>");
-        XMLStreamReader parser = factory.createXMLStreamReader(stringReader);
-
-
-        OsDpnWay way = new OsDpnWay("1");
-        way.readTags(parser);
+        OsDpnWay way = getOsDpnWay(surfaceWay);
         assertFalse("Way should not have a tunnel", way.hasTag("tunnel", "yes"));
         assertFalse("Way should not have a bridge", way.hasTag("bridge", "yes"));
     }
 
+    @Test
+    public void testBelowSurfaceTunnel() throws XMLStreamException, FactoryException, TransformException {
+        OsDpnWay way = getOsDpnWay(tunnelWay);
+        assertTrue("Way should have a tunnel", way.hasTag("tunnel", "yes"));
+        assertFalse("Way should not have a bridge", way.hasTag("bridge", "yes"));
+    }
+
     @Test
     public void testAboveSurface() throws XMLStreamException, FactoryException, TransformException {
+        OsDpnWay way = getOsDpnWay(aboveSurfaceWay);
+        assertFalse("Way should not have a tunnel", way.hasTag("tunnel", "yes"));
+        assertTrue("Way should have a bridge", way.hasTag("bridge", "yes"));
+    }
+
+    @Test
+    public void testRightOfWayBridleWay() throws XMLStreamException, FactoryException, TransformException {
+        OsDpnWay way = getOsDpnWay(bridleWay);
+        assertTrue("Way should be designation public_bridleway", way.hasTag("designation", "public_bridleway"));
+    }
+
+    @Test
+    public void testRightOfWayRestrictedByway() throws XMLStreamException, FactoryException, TransformException {
+        OsDpnWay way = getOsDpnWay(restrictedByWay);
+        assertTrue("Way should be designation bridleway", way.hasTag("designation", "restricted_byway"));
+    }
+
+    private OsDpnWay getOsDpnWay(String way) throws XMLStreamException, FactoryException, TransformException {
         XMLInputFactory factory = XMLInputFactory.newInstance();
-        StringReader stringReader = new StringReader("<?xml version=\"1.0\" encoding=\"UTF-8\"?><gml:FeatureCollection xmlns:gml=\"http://www.opengis.net/gml/3.2\" xsi:schemaLocation=\"http://namespaces.ordnancesurvey.co.uk/networks/detailedPathNetwork/1.0 detailedPathNetwork.xsd http://www.opengis.net/gml/3.2 gml/3.2.1/gml.xsd\" gml:id=\"DPN\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:dpn=\"http://namespaces.ordnancesurvey.co.uk/networks/detailedPathNetwork/1.0\" xmlns:gmd=\"http://www.isotc211.org/2005/gmd\" xmlns:gco=\"http://www.isotc211.org/2005/gco\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:gss=\"http://www.isotc211.org/2005/gss\" xmlns:gts=\"http://www.isotc211.org/2005/gts\" xmlns:gsr=\"http://www.isotc211.org/2005/gsr\" xmlns:gmlxbt=\"http://www.opengis.net/gml/3.3/xbt\">" +
-                "  <gml:featureMember>\n" +
-                "    <dpn:RouteLink gml:id=\"osgb35cff694-c2a8-461e-9540-730e3ae11a7a\">" +
-                "      <dpn:featureID>35cff694-c2a8-461e-9540-730e3ae11a7a</dpn:featureID>\n" +
-                "      <dpn:versionID>1</dpn:versionID>\n" +
-                "      <dpn:versionDate>2014-12-12</dpn:versionDate>\n" +
-                "      <dpn:startNode xlink:href=\"#df162dd8-c284-469b-81d6-d63105a39c7f\"/>\n" +
-                "      <dpn:endNode xlink:href=\"#56dc4c0b-0586-4849-b3e2-1e00ee149429\"/>\n" +
-                "      <dpn:descriptiveGroup codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/RouteDescriptiveGroupValue#NonMotorisedVehicularRouteNetwork\">Non Motorised Vehicular Route Network</dpn:descriptiveGroup>\n" +
-                "      <dpn:descriptiveTerm codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/RouteLinkDescriptiveTermValue#NoPhysicalManifestation\">No Physical Manifestation</dpn:descriptiveTerm>\n" +
-                "      <dpn:surfaceType codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/SurfaceTypeValue#Unmade\">Unmade</dpn:surfaceType>\n" +
-                "      <dpn:physicalLevel codeSpace=\"http://www.ordnancesurvey.co.uk/xml/codelists/LevelCodeValue#AboveSurfaceLevelOnStructure\">Above Surface Level On Structure</dpn:physicalLevel>\n" +
-                "      <dpn:name>Named Road</dpn:name>\n" +
-                "      <dpn:adoptedByNationalCycleRoute>false</dpn:adoptedByNationalCycleRoute>\n" +
-                "      <dpn:adoptedByRecreationalRoute>false</dpn:adoptedByRecreationalRoute>\n" +
-                "      <dpn:adoptedByOtherCycleRoute>false</dpn:adoptedByOtherCycleRoute>\n" +
-                "      <dpn:withinAccessLand>true</dpn:withinAccessLand>\n" +
-                "      <dpn:crossesDangerArea>false</dpn:crossesDangerArea>\n" +
-                "      <dpn:verticalGain>\n" +
-                "        <dpn:VerticalGainType>\n" +
-                "          <dpn:inDirection uom=\"m\">9</dpn:inDirection>\n" +
-                "          <dpn:againstDirection uom=\"m\">2</dpn:againstDirection>\n" +
-                "        </dpn:VerticalGainType>\n" +
-                "      </dpn:verticalGain>\n" +
-                "      <dpn:planimetricLength uom=\"m\">85</dpn:planimetricLength>\n" +
-                "      <dpn:surfaceLength uom=\"m\">86</dpn:surfaceLength>\n" +
-                "      <dpn:geometry>\n" +
-                "        <gml:LineString srsName=\"urn:ogc:def:crs:EPSG::7405\" gml:id=\"LOCAL_ID_29519\">\n" +
-                "          <gml:posList srsDimension=\"3\" count=\"10\">428672.241 380372.608999999 299.7 428653.822 380372.229 302.5 428647.49 380373.239 303.29 428645.296 380374.958000001 303.36 428638.156 380386.505000001 302.3 428635.625 380389.073999999 301.89 428631.214 380390.913000001 301.39 428628.625 380390.854 301.44 428622.598 380388.684 302.44 428598.489 380377.006999999 306.36</gml:posList>\n" +
-                "        </gml:LineString>\n" +
-                "      </dpn:geometry>\n" +
-                "    </dpn:RouteLink>");
+        StringReader stringReader = new StringReader(way);
         XMLStreamReader parser = factory.createXMLStreamReader(stringReader);
 
-
-        OsDpnWay way = new OsDpnWay("1");
-        way.readTags(parser);
-        assertFalse("Way should not have a tunnel", way.hasTag("tunnel", "yes"));
-        assertTrue("Way should have a bridge", way.hasTag("bridge", "yes"));
+        OsDpnWay dpnWay = new OsDpnWay("1");
+        dpnWay.readTags(parser);
+        return dpnWay;
     }
 
 }
\ No newline at end of file
diff --git a/core/src/test/java/com/graphhopper/reader/osgb/dpn/PermissiveBridleWayTest.java b/core/src/test/java/com/graphhopper/reader/osgb/dpn/PermissiveBridleWayTest.java
index c5612d263a..c35f83c9fc 100644
--- a/core/src/test/java/com/graphhopper/reader/osgb/dpn/PermissiveBridleWayTest.java
+++ b/core/src/test/java/com/graphhopper/reader/osgb/dpn/PermissiveBridleWayTest.java
@@ -29,7 +29,7 @@ public void init()
     @Test
     public void testVisitWayAttribute()
     {
-        visitor.visitWayAttribute("Permissive BridleWay", way);
+        visitor.visitWayAttribute("permissivebridleway", way);
         verify(way).setTag("horse", "permissive");
         verify(way).setTag("bicycle", "permissive");
     }
diff --git a/core/src/test/java/com/graphhopper/reader/osgb/dpn/PermissivePathTest.java b/core/src/test/java/com/graphhopper/reader/osgb/dpn/PermissivePathTest.java
index bebd96db5d..3bc0280505 100644
--- a/core/src/test/java/com/graphhopper/reader/osgb/dpn/PermissivePathTest.java
+++ b/core/src/test/java/com/graphhopper/reader/osgb/dpn/PermissivePathTest.java
@@ -28,7 +28,7 @@ public void init() {
 
     @Test
     public void testVisitWayAttribute() throws Exception {
-        visitor.visitWayAttribute("Permissive Path", way);
+        visitor.visitWayAttribute("permissivepath", way);
         verify(way).setTag("foot", "permissive");
     }
 }
\ No newline at end of file
diff --git a/core/src/test/java/com/graphhopper/reader/osgb/dpn/RestrictedBywayTest.java b/core/src/test/java/com/graphhopper/reader/osgb/dpn/RestrictedBywayTest.java
index 615694de5b..289a6f517b 100644
--- a/core/src/test/java/com/graphhopper/reader/osgb/dpn/RestrictedBywayTest.java
+++ b/core/src/test/java/com/graphhopper/reader/osgb/dpn/RestrictedBywayTest.java
@@ -30,7 +30,7 @@ public void init()
     @Test
     public void testVisitWayAttribute() throws Exception
     {
-        visitor.visitWayAttribute("Restricted Byway", way);
+        visitor.visitWayAttribute("restrictedbyway", way);
         verify(way).setTag("designation", "restricted_byway");
         verify(way).setTag("highway", "track");
         verify(way).setTag("motor_vehicle", "no");
