diff --git a/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/BaseVehicle.java b/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/BaseVehicle.java
index f88d614545..a016f64896 100644
--- a/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/BaseVehicle.java
+++ b/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/BaseVehicle.java
@@ -19,7 +19,7 @@
 /**
  * Created by alexander on 16/02/2016.
  */
-public abstract class BaseVehicle implements Vehicle {
+public abstract class BaseVehicle<T extends VehicleIterator> implements Vehicle<T> {
 
     private static final Logger logger = LoggerFactory.getLogger(BaseVehicle.class);
 
@@ -31,7 +31,7 @@
     protected Location dest;
     protected boolean finished;
 
-    protected VehicleIterator route;
+    protected T route;
 
     protected int cellId;
     protected int v; // velocity
diff --git a/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/DijkstraVehicle.java b/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/DijkstraVehicle.java
index 09fe226e67..6fd20986ff 100644
--- a/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/DijkstraVehicle.java
+++ b/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/DijkstraVehicle.java
@@ -27,7 +27,7 @@ public DijkstraVehicle(MarmosetHopper hopper, Location start, Location dest)
     }
 
     @Override
-    public VehicleIterator getVehicleIterator()
+    public DijkstraVehicleIterator getVehicleIterator()
     {
         GraphHopper gh = hopper.getGraphHopper();
 
diff --git a/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/SelfDrivingVehicle.java b/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/SelfDrivingVehicle.java
index 9cd713507b..27b988539b 100644
--- a/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/SelfDrivingVehicle.java
+++ b/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/SelfDrivingVehicle.java
@@ -28,7 +28,7 @@ public SelfDrivingVehicle(MarmosetHopper hopper, Location start, Location dest)
     private List<EdgeIteratorState> edgeList;
 
     @Override
-    public VehicleIterator getVehicleIterator()
+    public SelfDrivingVehicleIterator getVehicleIterator()
     {
         edgeList = calculateRoute();
 
diff --git a/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/SelfDrivingVehicleIterator.java b/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/SelfDrivingVehicleIterator.java
index b76e171916..662047272c 100644
--- a/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/SelfDrivingVehicleIterator.java
+++ b/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/SelfDrivingVehicleIterator.java
@@ -10,6 +10,8 @@
  */
 public class SelfDrivingVehicleIterator extends DijkstraVehicleIterator {
 
+    protected SelfDrivingVehicleIterator() {}
+
     public SelfDrivingVehicleIterator(List<EdgeIteratorState> edges, FlagEncoder encoder)
     {
         super(edges, encoder);
@@ -26,4 +28,15 @@ public int getRemainingEdges()
     {
         return edges.size() - index;
     }
+
+    @Override
+    public SelfDrivingVehicleIterator duplicate()
+    {
+        SelfDrivingVehicleIterator sdvi = new SelfDrivingVehicleIterator();
+        sdvi.encoder = encoder;
+        sdvi.edge = edge;
+        sdvi.edges = edges;
+        sdvi.index = index;
+        return sdvi;
+    }
 }
diff --git a/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/Vehicle.java b/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/Vehicle.java
index 6f595ce6a4..19333143aa 100644
--- a/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/Vehicle.java
+++ b/marmoset/src/main/java/com/graphhopper/marmoset/vehicle/Vehicle.java
@@ -5,9 +5,9 @@
 /**
  * Created by alexander on 23/03/2016.
  */
-public interface Vehicle {
+public interface Vehicle<T extends VehicleIterator> {
 
-    VehicleIterator getVehicleIterator();
+    T getVehicleIterator();
 
     void init();
     void accelerationStep();
