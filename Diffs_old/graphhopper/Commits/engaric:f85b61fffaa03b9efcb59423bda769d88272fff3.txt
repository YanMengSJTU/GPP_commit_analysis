diff --git a/.gitignore b/.gitignore
index 993fdf3572..83ce38371f 100644
--- a/.gitignore
+++ b/.gitignore
@@ -27,7 +27,9 @@ core/docs/
 cgiarprovider/
 /nbactions.xml
 tools/nb-configuration.xml
-/acceptancetesting
 android/build/
 android/app/build/
 android/.gradle
+.settings/
+.classpath
+.project
diff --git a/CONTRIBUTORS.md b/CONTRIBUTORS.md
index d3264e5372..30a472952d 100644
--- a/CONTRIBUTORS.md
+++ b/CONTRIBUTORS.md
@@ -1,21 +1,23 @@
 [Members](https://github.com/graphhopper?tab=members) and [Contributors](https://github.com/graphhopper/graphhopper/contributors)
 
+ * AnahitaS
  * agouge, discussion and API refactoring
  * b3nn0, Android improvements
  * cgarreau, increase of routing success rate via subnetwork cleanup
  * daisy1754, fixed usage of graphhopper.sh script
  * dardin88, instructions improved
+ * dewos
  * lmar, improved instructions information
  * fredao, translations
- * jansoe, algorithm improvements
+ * jansoe, one of the core developers
  * jansonhanson, general host config
  * JohannesPelzer, improved GPX information and various other things
- * karussell, lead developer
- * khuebner, pushes turn instructions forward 
+ * karussell, one of the core developers
+ * khuebner, pushed turn instructions forward
  * lmar, improved instructions
  * NopMap, massive improvements regarding OSM, parsing and encoding, route relations
  * ocampana, initial implementation for instructions
- * ratrun, route relations, GPX information and bike handling
+ * ratrun, route relations, GPX information, bike handling etc
  * rodneyodonnell, improved dead end removal
  * rodo, more descriptions
 
diff --git a/NOTICE.md b/NOTICE.md
index 2da14a4df8..85b2bf59be 100644
--- a/NOTICE.md
+++ b/NOTICE.md
@@ -1,6 +1,6 @@
 GraphHopper licensed under the Apache license, Version 2.0
 
-Copyright 2012-2013 Peter Karich
+Copyright 2012-2015 Peter Karich
 
 The core product includes the following software
  * slf4j.org - SLF4J distributed under the MIT license. 
@@ -10,6 +10,7 @@ The core product includes the following software
  * protobuf - New BSD license
  * OSM-binary - LGPL license
  * Osmosis - public domain, see osmosis-copying.txt under core/files
+ * XMLGraphics-Commons for CGIAR elevation files - (Apache License)
 
 tools
  * apache-compress
diff --git a/README.md b/README.md
index 1d2bba0701..177e708507 100644
--- a/README.md
+++ b/README.md
@@ -29,7 +29,7 @@ and [iOS](http://github.com/graphhopper/graphhopper-ios)
 Get Started
 ---------------
 
-Read through our Documentation ([0.3](https://github.com/graphhopper/graphhopper/blob/0.3/docs/index.md), [unstable](https://github.com/graphhopper/graphhopper/blob/master/docs/index.md)), 
+Read through our Documentation ([0.4](https://github.com/graphhopper/graphhopper/blob/0.4/docs/index.md), [unstable](https://github.com/graphhopper/graphhopper/blob/master/docs/index.md)), 
 ask questions on [Stackoverflow](http://stackoverflow.com/questions/tagged/graphhopper)
 and sign up to the [mailing list](http://graphhopper.com/#developers).
 
diff --git a/android/app/pom.xml b/android/app/pom.xml
index 02da41255b..dd631781c5 100644
--- a/android/app/pom.xml
+++ b/android/app/pom.xml
@@ -4,7 +4,7 @@
     <modelVersion>4.0.0</modelVersion>
     <groupId>com.graphhopper</groupId>
     <artifactId>graphhopper-android</artifactId>
-    <version>0.4-SNAPSHOT</version>
+    <version>0.5-SNAPSHOT</version>
     <name>GraphHopper Android</name>
     <packaging>apk</packaging>    
     <organization>
@@ -13,9 +13,10 @@
     </organization>
     
     <parent>
+        <relativePath>../..</relativePath>
         <groupId>com.graphhopper</groupId>
         <artifactId>graphhopper-parent</artifactId>    	
-        <version>0.4-SNAPSHOT</version>
+        <version>0.5-SNAPSHOT</version>
     </parent>
     <properties>
         <mapsforge.version>0.5.0</mapsforge.version>
@@ -32,12 +33,6 @@
             <version>${project.parent.version}</version>            
             <type>jar</type>
             <exclusions>
-                <!--
-                <exclusion>
-                    <groupId>org.slf4j</groupId>
-                    <artifactId>slf4j-api</artifactId>                    
-                </exclusion> 
-                -->
                 <exclusion>
                     <groupId>com.google.protobuf</groupId>
                     <artifactId>protobuf-java</artifactId>                    
@@ -109,23 +104,17 @@
     </dependencies>
 
     <build>
-        <!-- 
-        1. Use src/test/java for JUnit tests that don't call any Android APIs (directly or transitively)
-        2. Use src/main/java for JUnit tests that call Android APIs  
-        -->
-        <sourceDirectory>src</sourceDirectory>        
         <finalName>${project.artifactId}</finalName>        
         
         <plugins>     
-            <!-- android (apache harmony) is nearly java but not really 1.6 -->
             <plugin>
                 <groupId>org.apache.maven.plugins</groupId>
                 <artifactId>maven-compiler-plugin</artifactId>
                 <configuration>
                     <!-- <compilerArgument>-Xlint:unchecked</compilerArgument>
                     -->
-                    <source>1.5</source>
-                    <target>1.5</target>
+                    <source>1.7</source>
+                    <target>1.7</target>
                 </configuration>
             </plugin>       
             <plugin>
diff --git a/android/app/project.properties b/android/app/project.properties
new file mode 100644
index 0000000000..00cf62bacc
--- /dev/null
+++ b/android/app/project.properties
@@ -0,0 +1,14 @@
+# This file is automatically generated by Android Tools.
+# Do not modify this file -- YOUR CHANGES WILL BE ERASED!
+#
+# This file must be checked in Version Control Systems.
+#
+# To customize properties used by the Ant build system edit
+# "ant.properties", and override values to adapt the script to your
+# project structure.
+#
+# To enable ProGuard to shrink and obfuscate your code, uncomment this (available properties: sdk.dir, user.home):
+#proguard.config=${sdk.dir}/tools/proguard/proguard-android.txt:proguard-project.txt
+
+# Project target.
+target=android-22
diff --git a/android/app/src/main/java/com/graphhopper/android/MainActivity.java b/android/app/src/main/java/com/graphhopper/android/MainActivity.java
index 0853a4bc74..dd66542c54 100644
--- a/android/app/src/main/java/com/graphhopper/android/MainActivity.java
+++ b/android/app/src/main/java/com/graphhopper/android/MainActivity.java
@@ -70,7 +70,7 @@
     private volatile boolean prepareInProgress = false;
     private volatile boolean shortestPathRunning = false;
     private String currentArea = "berlin";
-    private String fileListURL = "https://graphhopper.com/public/maps/0.4/";
+    private String fileListURL = "https://graphhopper.com/public/maps/0.5/";
     private String prefixURL = fileListURL;
     private String downloadURL;
     private File mapsFolder;
diff --git a/config-example.properties b/config-example.properties
index 7890d07015..29f56a2fcb 100644
--- a/config-example.properties
+++ b/config-example.properties
@@ -34,18 +34,15 @@ graph.dataaccess=RAM_STORE
 
 #### Speed-up Mode vs. Flexibility Mode ####
 #
-# By default the speed-up mode with the 'fastest' weighting is used. Internally contraction hierarchies is 
-# used to speed routing up. This requires more RAM/disc space for holding the graph but less for every request.
+# By default the speed-up mode with the 'fastest' weighting is used. Internally a graph preparation via
+# contraction hierarchies is done to speed routing up. This requires more RAM/disc space for holding the
+# graph but less for every request. Also only the first vehicle of the flagEncoders list will be prepared.
 # prepare.chWeighting=fastest
 #
 # Disable the speed-up mode (contraction hierarchies, CH) via enabling the flexibility mode:
 # prepare.chWeighting=no
 
 
-# If multiple vehicles are used and prepare.chWeighting=fastest only one vehicle can be in speed-up
-# When nothing is specified the (lexicographically) first vehicle from the graph.flagEncoders list is chosen
-# algorithm.defaultVehicle=car
-
 ##### Web #####
 # if you want to support jsonp response type you need to add it explicitely here. By default it is disabled for 
 # stronger security.
diff --git a/core/.project b/core/.project
index 5d6f2b7d22..e99afc10be 100644
--- a/core/.project
+++ b/core/.project
@@ -17,12 +17,12 @@
 			</arguments>
 		</buildCommand>
 		<buildCommand>
-			<name>org.eclipse.m2e.core.maven2Builder</name>
+			<name>org.eclipse.wst.validation.validationbuilder</name>
 			<arguments>
 			</arguments>
 		</buildCommand>
 		<buildCommand>
-			<name>org.eclipse.wst.validation.validationbuilder</name>
+			<name>org.eclipse.m2e.core.maven2Builder</name>
 			<arguments>
 			</arguments>
 		</buildCommand>
diff --git a/core/files/changelog.txt b/core/files/changelog.txt
index e5f083fce5..7ffdcfced2 100644
--- a/core/files/changelog.txt
+++ b/core/files/changelog.txt
@@ -1,7 +1,7 @@
-0.4.0
+0.4.0    
     translation key turn changed and merged with left etc into turn_left, turn_right etc
     create location index before preparation in the GraphHopper class
-    encodingManager.getSingle() is removed as one can specify an encoder explicitly. GraphHopper picks the first encoder automatically for default vehicle, can be overwritten via setDefaultVehicle
+    encodingManager.getSingle() is removed and flagEncoder list is no longer sorted, the first vehicle is used for CH preparation    
     removed LocationIndexTreeSC, use new LocationIndexTree(levelGraph.getBaseGraph(), directory) instead
     getLevel and setLevel do no longer automatically increase node count, use getNodeAccess.ensureNode for that
     normal algorithms are now possible on prepared graph use getBaseGraph, see #116
@@ -21,11 +21,9 @@
     renamed less often used URL parameter 'min_path_precision' to way_point_max_distance which makes it identical to the setWayPointMaxDistance method used for simplification at OSMImport
     removed douglas.minprecision from Java API ghRequest.hints => use wayPointMaxDistance instead
     encoder.supportTurnCost is replaced by encoder.supports(TurnWeighting.class)
-    CmdArgs is now a Map<String, String> instead Map<String, Object>. The value will be parsed up on every getXY call
+    CmdArgs is now a Map<String, String> instead Map<String, Object>. The value will be parsed up on every getXY call, makes storing string vs. object less error-prone
     removed GHRequest.getHint, instead use the provided methods in GHRequest.getHints().getXY and GHRequest.getHints().put
-    graph incompatibility as properties cannot be loaded => version increase necessary
-        renamed osmreader.bytesForFlags to graph.bytesForFlags
-        renamed config property osmreader.acceptWay to graph.flagEncoders
+    important graph incompatibility as properties cannot be loaded. renamed osmreader.bytesForFlags to graph.bytesForFlags, renamed config property osmreader.acceptWay to graph.flagEncoders
     default weighting is now fastest, fixing #261
     moved method GraphHopper.main into tools module and class com.graphhopper.tools.Import, see #250
     refactored GraphHopper.createWeighting to accept more than one configuration option, see #237
@@ -33,13 +31,12 @@
     moving the boolean parameter of GraphHopper.setInMemory into a separate method setStoreOnFlush
     renaming of GraphHopper.setCHShortcuts to setCHWeighting, as well as the property prepare.chShortcuts to prepare.chWeighting
     jsonp is disabled by default. You need to enable it in the config.properties, see the config-example.properties
-    EncodingManager cannot be null in GraphHopperStorage since 0.4. If you need to parse EncodingManager configuration from existing graph use EncodingManager.create
+    EncodingManager cannot be null in GraphHopperStorage. If you need to parse EncodingManager configuration from existing graph use EncodingManager.create
     no reflection done in EncodingManager which improves portability and makes configuration of encoders possible before adding to manager
     removed dijkstraNativebi as no performance advantage but maintenance disadvantage and similar to oneToManyDijkstra
     to provide context for turn costs we needed to add prevEdgeId into Weighting.calcWeight, see new documentation
     with the introduction of lock protection mechanism (see #112) GraphHopper needs always write access, see also #217
-    new GraphHopper.clean method to remove the graph directory via Java API
-    FlagEncoder: replaced isFoward and isBackward with more generic isBool(flags, FlagEncoder.FORWARD|BACKWARD)
+    new GraphHopper.clean method to remove the graph directory via Java API    
 
 0.3.0
     introduced prefer bits, now bike uses more bits and 3 bike encoder do not fit into 32 bit anymore, will be fixed later
diff --git a/core/files/travis-build.sh b/core/files/travis-build.sh
index fd46e3dd5a..5f7138d9b3 100755
--- a/core/files/travis-build.sh
+++ b/core/files/travis-build.sh
@@ -1,20 +1,22 @@
 HOME=$(dirname $0)
 cd $HOME/../..
 
-modules="core web tools"
-for module in $modules; do
-  echo "====== INSTALL $module ====="
-  mvn -pl $module clean install -DskipTests=true
-  EXIT_VAL="$?"    
-  if [[ "x$EXIT_VAL" != "x0" ]]; then
-    exit $EXIT_VAL
-  fi 
-  
-  echo "====== TEST $module ====="
-  # verify necessary for failsafe, otherwise it won't fail the build!?
-  mvn -pl $module test failsafe:integration-test verify  
-  EXIT_VAL="$?"
-  if [[ "x$EXIT_VAL" != "x0" ]]; then
-    exit $EXIT_VAL
-  fi
-done
+mvn clean test verify
+
+#modules="core web tools"
+#for module in $modules; do
+#  echo "====== INSTALL $module ====="
+#  mvn -pl $module clean install -DskipTests=true
+#  EXIT_VAL="$?"    
+#  if [[ "x$EXIT_VAL" != "x0" ]]; then
+#    exit $EXIT_VAL
+#  fi 
+#  
+#  echo "====== TEST $module ====="
+#  # verify necessary for failsafe, otherwise it won't fail the build!?
+#  mvn -pl $module test failsafe:integration-test verify  
+#  EXIT_VAL="$?"
+#  if [[ "x$EXIT_VAL" != "x0" ]]; then
+#    exit $EXIT_VAL
+#  fi
+#done
diff --git a/core/files/update-translations.sh b/core/files/update-translations.sh
index 4bea556c07..c9e090a465 100755
--- a/core/files/update-translations.sh
+++ b/core/files/update-translations.sh
@@ -3,7 +3,7 @@ cd $HOME/..
 
 destination=src/main/resources/com/graphhopper/util/
 
-translations="en_US SKIP bg ca de_DE el es fil fi fr gl he it ja ne nl pt_BR pt_PT ro ru si sk sv_SE tr uk vi_VI zh_CN"
+translations="en_US SKIP bg ca de_DE el es fa fil fi fr gl he it ja ne nl pt_BR pt_PT ro ru si sk sv_SE tr uk vi_VI zh_CN"
 file=$1
 
 # You can execute the following
diff --git a/core/pom.xml b/core/pom.xml
index ad56f83600..27896d22e2 100644
--- a/core/pom.xml
+++ b/core/pom.xml
@@ -1,118 +1,68 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
-	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
-	<modelVersion>4.0.0</modelVersion>
-	<groupId>com.graphhopper</groupId>
-	<artifactId>graphhopper</artifactId>
-	<name>GraphHopper</name>
-	<version>0.4-SNAPSHOT</version>
-	<packaging>jar</packaging>
-	<description>
-GraphHopper is a fast and memory efficient Java road routing engine
-working seamlessly with OpenStreetMap data.
-</description>
-	<parent>
-		<groupId>com.graphhopper</groupId>
-		<artifactId>graphhopper-parent</artifactId>
-		<version>0.4-SNAPSHOT</version>
-	</parent>
-	<properties>
-		<netbeans.hint.license>apache20</netbeans.hint.license>
-		<maven.build.timestamp.format>yyyy-MM-dd'T'HH:mm:ssZ</maven.build.timestamp.format>
-		<builddate>${maven.build.timestamp}</builddate>
-		<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
-		<geotools.version>12.1</geotools.version>
-	</properties>
-	<licenses>
-		<license>
-			<name>The Apache Software License, Version 2.0</name>
-			<url>http://www.apache.org/licenses/LICENSE-2.0.txt</url>
-			<distribution>repo</distribution>
-			<comments>A business-friendly OSS license</comments>
-		</license>
-	</licenses>
-	<repositories>
-		<repository>
-			<id>osgeo</id>
-			<name>Open Source Geospatial Foundation Repository</name>
-			<url>http://download.osgeo.org/webdav/geotools/</url>
-		</repository>
-	</repositories>
-	<dependencies>
-		<!-- Trove is LGPL and slightly big (~3MB) -->
-		<dependency>
-			<groupId>net.sf.trove4j</groupId>
-			<artifactId>trove4j</artifactId>
-			<version>3.0.3</version>
-		</dependency>
-		<dependency>
-			<groupId>org.slf4j</groupId>
-			<artifactId>slf4j-api</artifactId>
-			<version>${slf4j.version}</version>
-		</dependency>
-		<!-- more recent and nicer but bigger <dependency> <groupId>ch.qos.logback</groupId> 
-			<artifactId>logback-classic</artifactId> <version>1.0.13</version> <scope>test</scope> 
-			</dependency> -->
-		<!-- for using CGIAR: elevation data importing via tif files -->
-		<dependency>
-			<groupId>org.apache.xmlgraphics</groupId>
-			<artifactId>xmlgraphics-commons</artifactId>
-			<version>1.5</version>
-		</dependency>
-		<dependency>
-			<groupId>com.google.protobuf</groupId>
-			<artifactId>protobuf-java</artifactId>
-			<version>2.6.0</version>
-		</dependency>
-		<dependency>
-			<groupId>org.openstreetmap.osmosis</groupId>
-			<artifactId>osmosis-osm-binary</artifactId>
-			<version>0.43.1</version>
-		</dependency>
-		<dependency>
-			<groupId>org.geotools</groupId>
-			<artifactId>gt-metadata</artifactId>
-			<version>${geotools.version}</version>
-		</dependency>
-		<dependency>
-			<groupId>org.geotools</groupId>
-			<artifactId>gt-opengis</artifactId>
-			<version>${geotools.version}</version>
-		</dependency>
-		<dependency>
-			<groupId>org.geotools</groupId>
-			<artifactId>gt-referencing</artifactId>
-			<version>${geotools.version}</version>
-		</dependency>
-		<dependency>
-			<groupId>net.java.dev.jsr-275</groupId>
-			<artifactId>jsr-275</artifactId>
-			<version>1.0-beta-2</version>
-		</dependency>
-		<dependency>
-			<groupId>java3d</groupId>
-			<artifactId>vecmath</artifactId>
-			<version>1.3.2</version>
-		</dependency>
-		<dependency>
-			<groupId>org.geotools</groupId>
-			<artifactId>gt-epsg-hsql</artifactId>
-			<version>${geotools.version}</version>
-		</dependency>
-		<dependency>
-			<groupId>org.hsqldb</groupId>
-			<artifactId>hsqldb</artifactId>
-			<version>2.3.2</version>
-		</dependency>
-		<dependency>
-			<groupId>org.neo4j</groupId>
-			<artifactId>neo4j</artifactId>
-			<version>2.1.5</version>
-		</dependency>
+         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
+    <modelVersion>4.0.0</modelVersion>
+
+    <groupId>com.graphhopper</groupId>
+    <artifactId>graphhopper</artifactId>
+    <name>GraphHopper</name>
+    <version>0.5-SNAPSHOT</version>
+    <packaging>jar</packaging> 
+    <description>
+        GraphHopper is a fast and memory efficient Java road routing engine 
+        working seamlessly with OpenStreetMap data.
+    </description>
+    <parent>
+        <groupId>com.graphhopper</groupId>
+        <artifactId>graphhopper-parent</artifactId>    	
+        <version>0.4-SNAPSHOT</version>
+    </parent>
+        
+    <properties>  
+        <netbeans.hint.license>apache20</netbeans.hint.license>        
+        <maven.build.timestamp.format>yyyy-MM-dd'T'HH:mm:ssZ</maven.build.timestamp.format>        
+        <builddate>${maven.build.timestamp}</builddate>        
+    </properties>
+    <licenses>
+        <license>
+            <name>The Apache Software License, Version 2.0</name>
+            <url>http://www.apache.org/licenses/LICENSE-2.0.txt</url>
+            <distribution>repo</distribution>
+            <comments>A business-friendly OSS license</comments>
+        </license>
+    </licenses> 
+    <dependencies>
+        
+        <!-- Trove is LGPL and slightly big (~3MB) -->
+        <dependency>
+            <groupId>net.sf.trove4j</groupId>
+            <artifactId>trove4j</artifactId>
+            <version>3.0.3</version>
+        </dependency>        
         <dependency>
-            <groupId>org.mockito</groupId>
-            <artifactId>mockito-all</artifactId>
-            <version>1.9.5</version>
+            <groupId>org.slf4j</groupId>
+            <artifactId>slf4j-api</artifactId>
+            <version>${slf4j.version}</version>
+        </dependency>
+        <!-- more recent and nicer but bigger
+        <dependency>
+            <groupId>ch.qos.logback</groupId>
+            <artifactId>logback-classic</artifactId>
+            <version>1.0.13</version>
+            <scope>test</scope>
+        </dependency>
+        -->
+        
+        <dependency>
+            <groupId>org.slf4j</groupId>
+            <artifactId>slf4j-log4j12</artifactId>
+            <version>${slf4j.version}</version>
+            <scope>test</scope>
+        </dependency>
+        <dependency>
+            <groupId>log4j</groupId>
+            <artifactId>log4j</artifactId>
+            <version>${log4j.version}</version>
             <scope>test</scope>
         </dependency>
         
@@ -157,29 +107,7 @@ working seamlessly with OpenStreetMap data.
                         </descriptors>
                     </configuration>
                 </plugin>                
-                    <plugin>
-                    <groupId>org.apache.maven.plugins</groupId>
-                    <artifactId>maven-site-plugin</artifactId>
-                    <version>3.4</version>
-                    <configuration>
-                        <reportPlugins>
-                            <plugin>
-                                <!-- either call mvn compile site or mvn findbugs:gui -->
-                                <groupId>org.codehaus.mojo</groupId>
-                                <artifactId>findbugs-maven-plugin</artifactId>
-                                <version>2.5.2</version>
-                                <configuration>
-                                    <!-- <xmlOutput>true</xmlOutput> -->
-                                    <!-- Optional directory to put FindBugs xdoc xml report -->
-                                    <xmlOutputDirectory>target/site</xmlOutputDirectory>
-                                    <threshold>Normal</threshold>
-                                    <effort>Default</effort>
-                                    <!-- <threshold>High|Normal|Low|Exp|Ignore</threshold> <effort>Min|Default|Max</effort> -->
-                                </configuration>
-                            </plugin>
-                        </reportPlugins>
-                    </configuration>
-                </plugin>
+                
                 <!-- create jar with test classes to be reused in other projects -->                
                 <plugin>
                     <groupId>org.apache.maven.plugins</groupId>
@@ -217,4 +145,3 @@ working seamlessly with OpenStreetMap data.
         </resources>
     </build>
 </project>
-
diff --git a/core/src/main/java/com/graphhopper/GHResponse.java b/core/src/main/java/com/graphhopper/GHResponse.java
index bb4cf99981..8b21716d42 100644
--- a/core/src/main/java/com/graphhopper/GHResponse.java
+++ b/core/src/main/java/com/graphhopper/GHResponse.java
@@ -141,6 +141,7 @@ public GHResponse setMillis( long timeInMillis )
      */
     public long getMillis()
     {
+        check("getMillis");
         return time;
     }
 
diff --git a/core/src/main/java/com/graphhopper/reader/dem/CGIARProvider.java b/core/src/main/java/com/graphhopper/reader/dem/CGIARProvider.java
index 12301de6c9..0de2549665 100644
--- a/core/src/main/java/com/graphhopper/reader/dem/CGIARProvider.java
+++ b/core/src/main/java/com/graphhopper/reader/dem/CGIARProvider.java
@@ -59,8 +59,8 @@
     private final Logger logger = LoggerFactory.getLogger(getClass());
     private final Map<String, HeightTile> cacheData = new HashMap<String, HeightTile>();
     private File cacheDir = new File("/tmp/cgiar");
-    // String baseUrl = "http://srtm.csi.cgiar.org/SRT-ZIP/SRTM_V41/SRTM_Data_GeoTiff";
-    private String baseUrl = "http://droppr.org/srtm/v4.1/6_5x5_TIFs";
+    // for alternatives see #346
+    private String baseUrl = "http://srtm.csi.cgiar.org/SRT-ZIP/SRTM_V41/SRTM_Data_GeoTiff";    
     private Directory dir;
     private DAType daType = DAType.MMAP;
     final double precision = 1e7;
diff --git a/core/src/main/resources/com/graphhopper/util/es.txt b/core/src/main/resources/com/graphhopper/util/es.txt
index f9cb775402..487ae279b0 100644
--- a/core/src/main/resources/com/graphhopper/util/es.txt
+++ b/core/src/main/resources/com/graphhopper/util/es.txt
@@ -4,15 +4,15 @@ continue=continúe
 continue_onto=continúe por %1$s
 turn_left=gire a la izquierda
 turn_right=gire a la derecha
-turn_slight_left=gire ligeramente a la izquierda
-turn_slight_right=gire ligeramente a la derecha
+turn_slight_left=gire leve a la izquierda
+turn_slight_right=gire leve a la derecha
 turn_sharp_left=gire fuerte a la izquierda
 turn_sharp_right=gire fuerte a la derecha
 turn_onto=%1$s por %2$s
 web.searchButton=Buscar
 web.fromHint=Desde
 web.viaHint=Pasando por
-web.toHint=hasta
+web.toHint=Hasta
 web.moreButton=más
 web.gpxExportButton=Exportar GPX
 web.routeInfo=%1$s tardará %2$s 
diff --git a/core/src/main/resources/com/graphhopper/util/fa.txt b/core/src/main/resources/com/graphhopper/util/fa.txt
new file mode 100644
index 0000000000..3c73dff23f
--- /dev/null
+++ b/core/src/main/resources/com/graphhopper/util/fa.txt
@@ -0,0 +1,45 @@
+# do not edit manually, instead use spreadsheet https://t.co/f086oJXAEI and script ./core/files/update-translations.sh
+
+continue= ادامه دهید
+continue_onto=تا %1$s ادامه دهید
+turn_left=به چپ بپیچید
+turn_right=به راست بپیچید
+turn_slight_left=کمی به چپ بپیچید
+turn_slight_right=کمی به راست بپیچید
+turn_sharp_left=کاملا به چپ بپیچید
+turn_sharp_right=کاملا به راست بپیچید
+turn_onto= از %1$s به %2$s
+web.searchButton=جستجو
+web.fromHint=از
+web.viaHint=از طریق
+web.toHint=به
+web.moreButton=بیشتر
+web.gpxExportButton=دریافت به صورت GPX
+web.routeInfo=طی مسافت %1$s به مدت %2$s طول خواهد کشید
+web.locationsNotFound=مسیریابی ممکن نیست. محل مورد نظردرناحیه پیدا نشد.
+web.bike=دوچرخه
+web.racingbike=دوچرخه کورسی
+web.mtb=دوچرخه کوهستان
+web.car=ماشین
+web.foot=پیاده
+web.staticlink=مسیر ثابت
+web.motorcycle=موتورسیکلت
+via=از طریق
+finish=پایان!
+hourAbbr=ساعت
+dayAbbr=روز
+minAbbr=دقیقه
+kmAbbr=کیلومتر
+mAbbr=متر
+miAbbr=مایل
+ftAbbr=فوت
+road=جاده
+off_bike=از دوچرخه پیاده شوید
+cycleway=مسیر دوچرخه
+way=مسیر
+paved=خط کشی شده
+unpaved=خط کشی نشده
+stopover=توقفگاه  %1$s
+roundaboutEnter=وارد میدان می شوید
+roundaboutExit=در میدان خروجی  %1$s را انتخاب کنید
+roundaboutExitOnto=در میدان خروجی  %1$s به %2$s را انتخاب کنید
diff --git a/core/src/main/resources/com/graphhopper/util/fil.txt b/core/src/main/resources/com/graphhopper/util/fil.txt
index 7a94497034..31b7c554cd 100644
--- a/core/src/main/resources/com/graphhopper/util/fil.txt
+++ b/core/src/main/resources/com/graphhopper/util/fil.txt
@@ -22,9 +22,9 @@ web.racingbike=RacingBike
 web.mtb=MountainBike
 web.car=kotse
 web.foot=lumakad
-web.staticlink=
-web.motorcycle=
-via=
+web.staticlink=static link
+web.motorcycle=motorsiklo
+via=sa pamamagitan ng
 finish=Tapusin!
 hourAbbr=h
 dayAbbr=d
diff --git a/core/src/main/resources/com/graphhopper/util/he.txt b/core/src/main/resources/com/graphhopper/util/he.txt
index 2c6bbefec1..963ba6a920 100644
--- a/core/src/main/resources/com/graphhopper/util/he.txt
+++ b/core/src/main/resources/com/graphhopper/util/he.txt
@@ -8,7 +8,7 @@ turn_slight_left=מעט שמאלה
 turn_slight_right=מעט ימינה
 turn_sharp_left=שמאלה בחדות
 turn_sharp_right=ימינה בחדות
-turn_onto=נא לפנות %1$s לתוך %2$s
+turn_onto=יש לפנות %1$s לתוך %2$s
 web.searchButton=חיפוש
 web.fromHint=מוצא
 web.viaHint=דרך
diff --git a/core/src/main/resources/com/graphhopper/util/ja.txt b/core/src/main/resources/com/graphhopper/util/ja.txt
index 506ae3a3fa..08de85884e 100644
--- a/core/src/main/resources/com/graphhopper/util/ja.txt
+++ b/core/src/main/resources/com/graphhopper/util/ja.txt
@@ -22,9 +22,9 @@ web.racingbike=レースバイク
 web.mtb=マウンテンバイク
 web.car=車
 web.foot=徒歩
-web.staticlink=
-web.motorcycle=
-via=
+web.staticlink=パーマリンク
+web.motorcycle=オートバイ
+via=経由
 finish=目標達成
 hourAbbr=時間
 dayAbbr=日
diff --git a/docs/core/low-level-api.md b/docs/core/low-level-api.md
index 3fb61ae58e..a054535cc8 100644
--- a/docs/core/low-level-api.md
+++ b/docs/core/low-level-api.md
@@ -50,7 +50,9 @@ if (!index.loadExisting())
 ```java
 QueryResult fromQR = index.findClosest(latitudeFrom, longituteFrom, EdgeFilter.ALL_EDGES);
 QueryResult toQR = index.findID(latitudeTo, longituteTo, EdgeFilter.ALL_EDGES);
-Path path = new Dijkstra(graph, encoder).calcPath(fromQR, toQR);
+QueryGraph queryGraph = new QueryGraph(graph);
+queryGraph.lookup(fromQR, toQR);
+Path path = new Dijkstra(queryGraph, encoder).calcPath(fromQR.getClosestNode(), toQR.getClosestNode());
 ```
 
 ### Calculate Path without LocationIndex
@@ -69,13 +71,14 @@ GraphBuilder gb = new GraphBuilder(em).
     setStore(true).
     setLevelGraph(true);
 GraphStorage graph = gb.create();
-// Make a weighted edge between two nodes.
+// Create a new edge between two nodes, set access, distance, speed, geometry, ..
 EdgeIteratorState edge = graph.edge(fromId, toId);
 ...
 
 // Prepare the graph for fast querying ...
-PrepareContractionHierarchies pch = new PrepareContractionHierarchies();
-pch.setGraph(graph).doWork();
+TraversalMode tMode = TraversalMode.NODE_BASED;
+PrepareContractionHierarchies pch = new PrepareContractionHierarchies(graph, encoder, weighting, tMode);
+pch.doWork();
 
 // flush after preparation!
 graph.flush();
@@ -88,11 +91,16 @@ LocationIndex index = new LocationIndexTree(graph.getBaseGraph(), new RAMDirecto
 if (!index.loadExisting())
     throw new IllegalStateException("location2id index cannot be loaded!");
 
-// create the algorithm using the PrepareContractionHierarchies object
-RoutingAlgorithm algorithm = pch.createAlgo();
-
 // calculate path is identical
 QueryResult fromQR = index.findClosest(latitudeFrom, longituteFrom, EdgeFilter.ALL_EDGES);
 QueryResult toQR = index.findID(latitudeTo, longituteTo, EdgeFilter.ALL_EDGES);
-Path path = new Dijkstra(graph, encoder).calcPath(fromQR, toQR);
+QueryGraph queryGraph = new QueryGraph(graph);
+queryGraph.lookup(fromQR, toQR);
+
+// create the algorithm using the PrepareContractionHierarchies object
+AlgorithmOptions algoOpts = AlgorithmOptions.start().
+   algorithm(AlgorithmOptions.DIJKSTRA_BI).traversalMode(tMode).flagEncoder(encoder).weighting(weighting).
+   build();
+RoutingAlgorithm algorithm = pch.createAlgo(queryGraph, algoOpts);
+Path path = algorithm.calcPath(fromQR.getClosestNode(), toQR.getClosestNode());
 ```
\ No newline at end of file
diff --git a/docs/core/routing.md b/docs/core/routing.md
index 5c6da786bd..ae1fd60d9d 100644
--- a/docs/core/routing.md
+++ b/docs/core/routing.md
@@ -46,16 +46,12 @@ List<String> iList = il.createDescription(tr);
 List<GPXEntry> list = il.createGPXList();
 ```
 
-If you want to support multiple profiles you have to specify the default vehicle in order
-to pick the vehicle where contraction hierarchies will be enabled:
-```java
-GraphHopper hopper = new GraphHopper().forServer();
-hopper.setDefaultVehicle("car");
-...
-```
+The default is to use the speed-up mode for one profile. If you need multiple profiles you 
+specify a list of profiles (e.g. car,bike) and the speed-up mode is applied to the first profile only (e.g. car).
+The other vehicles then use a more flexible routing.
 
-If you want a more flexible routing (but slower) you can disable contraction hierarchies. 
-Then pick one vehicle to route on and optionally the algorithm like 'bidirectional astar' as algorithm:
+You can also completely disable the speed-up mode to make all vehicles using the flexibility mode.
+Then pick one vehicle and optionally the algorithm like 'bidirectional astar' as algorithm:
 
 ```java
 GraphHopper hopper = new GraphHopper().forServer();
diff --git a/docs/index.md b/docs/index.md
index 587a244dfe..5d6268d75c 100644
--- a/docs/index.md
+++ b/docs/index.md
@@ -1,7 +1,7 @@
 # Users
 
- * [Read Overview](http://graphhopper.com/#overview)
  * [Quickstart](./web/quickstart.md) for users
+ * [Read Overview](http://graphhopper.com/#overview)
  * [Add GraphHopper Maps to your Browser](./web/open-search.md)
  * [GraphHopper on Twitter](https://twitter.com/graphhopper)
 
@@ -12,7 +12,7 @@
 
 # Developers
 
- * [Quickstart](./core/quickstart-from-source.md) for developers with git checkout and IDE setup etc
+ * [Quickstart](./core/quickstart-from-source.md) for developers. Explains git checkout, IDE setup and commands for setting up a graphhopper server.
  * [Android](./android/index.md)
  * [Windows](./core/windows-setup.md)
  * [Set up and run GraphHopper in Eclipse](./core/eclipse-setup.md)
@@ -29,12 +29,12 @@
 
 ## Web
 
- * [Routing API](./web/api-doc.md)
+ * [Routing API](./web/api-doc.md) Documentation of the Web API to communicate with any graphhopper server via http.
  
 ## Advanced Topics
 
- * [Low level API](./core/low-level-api.md)
- * [Create new FlagEncoder](./core/create-new-flagencoder.md)
- * [LocationIndex](./core/location-index.md)
- * [World-Wide-Road-Network](./core/world-wide.md)
- * [Changelog](https://github.com/graphhopper/graphhopper/blob/master/core/files/changelog.txt)
+ * [Low level API](./core/low-level-api.md) Use Graphhopper as a Java library.
+ * [Create new FlagEncoder](./core/create-new-flagencoder.md) to create new routing profiles to influence which ways to favor and how the track-time is calculated.
+ * [LocationIndex](./core/location-index.md) to get the location index to get i.e. the nearest edge.
+ * [World-Wide-Road-Network](./core/world-wide.md) Details about using the whole world wide street data.
+ * [Changelog](https://github.com/graphhopper/graphhopper/blob/master/core/files/changelog.txt) Latest changes.
diff --git a/docs/web/api-doc.md b/docs/web/api-doc.md
index 328585b83d..f8a190dc4e 100644
--- a/docs/web/api-doc.md
+++ b/docs/web/api-doc.md
@@ -1,7 +1,7 @@
 ## Routing Web API Docs
 
 In order to communicate with your or [our](http://graphhopper.com/#enterprise) hosted GraphHopper 
-server you need to understand how to use it.
+server you need to understand how to use it. There is a separate [JavaScript](https://github.com/graphhopper/directions-api-js-client) and [Java](https://github.com/graphhopper/directions-api-java-client) client for this API or use the plain JSON response for your language.
 
 ### A simple example
 [http://localhost:8989/route?point=45.752193%2C-0.686646&point=46.229253%2C-0.32959](http://localhost:8989/route?point=45.752193%2C-0.686646&point=46.229253%2C-0.32959)
@@ -28,7 +28,28 @@ type               | json    | Specifies the resulting format of the route, for
 
 ## Example output for the case type=json
 
-Keep in mind that some attributes which are not documented here can be removed in the future - you should not rely on them!
+Keep in mind that some attributes which are not documented here can be removed in the future - 
+you should not rely on them! The JSON result contains the following structure:
+
+JSON path/attribute        | Description
+:--------------------------|:------------
+info.took                  | How many ms the request took on the server, of course without network latency taken into account.
+paths                      | An array of possible paths
+paths[0].distance          | The overall distance of the route, in meter
+paths[0].time              | The overall time of the route, in ms
+paths[0].points            | The polyline encoded coordinates of the path. Order is lat,lon,elelevation as it is no geoJson!
+paths[0].points_encoded    | Is true if the points are encoded, if not paths[0].points contains the geo json of the path (then order is lon,lat,elevation), which is easier to handle but consumes more bandwidth compared to encoded version
+paths[0].bbox              | The bounding box of the route, format: <br> minLon, minLat, maxLon, maxLat
+paths[0].instructions      | Contains information about the instructions for this route. The last instruction is always the Finish instruction and takes 0ms and 0meter. Keep in mind that instructions are currently under active development and can sometimes contain misleading information, so, make sure you always show an image of the map at the same time when navigating your users!
+paths[0].instructions[0].text                 | A description what the user has to do in order to follow the route. The language depends on the locale parameter.
+paths[0].instructions[0].distance             | The distance for this instruction, in meter
+paths[0].instructions[0].time                 | The duration for this instruction, in ms
+paths[0].instructions[0].interval             | An array containing the first and the last index (relative to paths[0].points) of the points for this instruction. This is useful to know for which part of the route the instructions are valid.
+paths[0].instructions[0].sign                 | A number which specifies the sign to show e.g. for right turn etc <br>TURN_SHARP_LEFT = -3<br>TURN_LEFT = -2<br>TURN_SLIGHT_LEFT = -1<br>CONTINUE_ON_STREET = 0<br>TURN_SLIGHT_RIGHT = 1<br>TURN_RIGHT = 2<br>TURN_SHARP_RIGHT = 3<br>FINISH = 4<br>VIA_REACHED = 5<br>USE_ROUNDABOUT = 6
+paths[0].instructions[0].annotation_text      | [optional] A text describing the instruction in more detail, e.g. like surface of the way, warnings or involved costs
+paths[0].instructions[0].annotation_importance| [optional] 0 stands for INFO, 1 for warning, 2 for costs, 3 for costs and warning
+paths[0].instructions[0].exit_number          | [optional] Only available for USE_ROUNDABOUT instructions. The count of exits at which the route leaves the roundabout.
+paths[0].instructions[0].turn_angle           | [optional] Only available for USE_ROUNDABOUT instructions. The radian of the route within the roundabout: 0<r<2*PI for clockwise and -2PI<r<0 for counterclockwise transit. Is null the direction of rotation is undefined.
 
 ```json
 {
@@ -100,29 +121,6 @@ Keep in mind that some attributes which are not documented here can be removed i
 }
 ```
 
-The JSON result contains the following structure:
-
-JSON path/attribute        | Description
-:--------------------------|:------------
-info.took                  | How many ms the request took on the server, of course without network latency taken into account.
-paths                      | An array of possible paths
-paths[0].distance          | The overall distance of the route, in meter
-paths[0].time              | The overall time of the route, in ms
-paths[0].points            | The polyline encoded coordinates of the path. Order is lat,lon,elelevation as it is no geoJson!
-paths[0].points_encoded    | Is true if the points are encoded, if not paths[0].points contains the geo json of the path (then order is lon,lat,elevation), which is easier to handle but consumes more bandwidth compared to encoded version
-paths[0].bbox              | The bounding box of the route, format: <br> minLon, minLat, maxLon, maxLat
-paths[0].instructions      | Contains information about the instructions for this route. The last instruction is always the Finish instruction and takes 0ms and 0meter. Keep in mind that instructions are currently under active development and can sometimes contain misleading information, so, make sure you always show an image of the map at the same time when navigating your users!
-paths[0].instructions[0].text                 | A description what the user has to do in order to follow the route. The language depends on the locale parameter.
-paths[0].instructions[0].distance             | The distance for this instruction, in meter
-paths[0].instructions[0].time                 | The duration for this instruction, in ms
-paths[0].instructions[0].interval             | An array containing the first and the last index (relative to paths[0].points) of the points for this instruction. This is useful to know for which part of the route the instructions are valid.
-paths[0].instructions[0].sign                 | A number which specifies the sign to show e.g. for right turn etc <br>TURN_SHARP_LEFT = -3<br>TURN_LEFT = -2<br>TURN_SLIGHT_LEFT = -1<br>CONTINUE_ON_STREET = 0<br>TURN_SLIGHT_RIGHT = 1<br>TURN_RIGHT = 2<br>TURN_SHARP_RIGHT = 3<br>FINISH = 4<br>VIA_REACHED = 5<br>USE_ROUNDABOUT = 6
-paths[0].instructions[0].annotationText       | [optional] A text describing the instruction in more detail, e.g. like surface of the way, warnings or involved costs
-paths[0].instructions[0].annotationImportance | [optional] 0 stands for INFO, 1 for warning, 2 for costs, 3 for costs and warning
-paths[0].instructions[0].exit_number          | [optional] Only available for USE_ROUNDABOUT instructions. The count of exits at which the route leaves the roundabout.
-paths[0].instructions[0].turn_angle           | [optional] Only available for USE_ROUNDABOUT instructions. The radian of the route within the roundabout: 0<r<2*PI for clockwise and -2PI<r<0 for counterclockwise transit. Is null the direction of rotation is undefined.
-
-
 ## Area information
 
 If you need to find out details about the area or need to ping the service use '/info'
diff --git a/graphhopper.sh b/graphhopper.sh
index fa3141ed0f..b1bf8d0030 100755
--- a/graphhopper.sh
+++ b/graphhopper.sh
@@ -254,8 +254,7 @@ if [ "$ACTION" = "ui" ] || [ "$ACTION" = "web" ]; then
   fi
 
 elif [ "$ACTION" = "import" ]; then
- "$JAVA" $JAVA_OPTS -cp "$JAR" $GH_CLASS printVersion=true \
-      config=$CONFIG \
+ "$JAVA" $JAVA_OPTS -cp "$JAR" $GH_CLASS config=$CONFIG \
       $GH_IMPORT_OPTS graph.location="$GRAPH" osmreader.osm="$OSM_FILE"
 
 
@@ -266,7 +265,7 @@ elif [ "$ACTION" = "torture" ]; then
 elif [ "$ACTION" = "xminiui" ]; then
  "$MAVEN_HOME/bin/mvn" --projects tools -DskipTests clean install assembly:single
  JAR=tools/target/graphhopper-tools-$VERSION-jar-with-dependencies.jar   
- "$JAVA" $JAVA_OPTS -cp "$JAR" com.graphhopper.ui.MiniGraphUI osmreader.osm="$OSM_FILE" printVersion=true config=$CONFIG \
+ "$JAVA" $JAVA_OPTS -cp "$JAR" com.graphhopper.ui.MiniGraphUI osmreader.osm="$OSM_FILE" config=$CONFIG \
               graph.location="$GRAPH"
 
 
diff --git a/pom.xml b/pom.xml
index 361a8e2ade..191dcbc5f7 100644
--- a/pom.xml
+++ b/pom.xml
@@ -6,7 +6,7 @@
     <groupId>com.graphhopper</groupId>
     <artifactId>graphhopper-parent</artifactId>
     <name>GraphHopper Parent Project</name>
-    <version>0.4-SNAPSHOT</version>
+    <version>0.5-SNAPSHOT</version>
     <packaging>pom</packaging> 
     <url>http://graphhopper.com</url> 
     <inceptionYear>2012</inceptionYear>
@@ -70,6 +70,11 @@
             <name>Peter Karich</name>
             <email>my.name@graphhopper.com</email>
         </developer>
+        <developer>
+            <id>jansoe</id>
+            <name>Jan Sölter</name>
+            <email>my.name@graphhopper.com</email>
+        </developer>
     </developers>
     
     <mailingLists>
diff --git a/tools/pom.xml b/tools/pom.xml
index 594e6dc9f9..fe27273286 100644
--- a/tools/pom.xml
+++ b/tools/pom.xml
@@ -5,14 +5,14 @@
 
     <groupId>com.graphhopper</groupId>
     <artifactId>graphhopper-tools</artifactId>
-    <version>0.4-SNAPSHOT</version>
+    <version>0.5-SNAPSHOT</version>
     <packaging>jar</packaging>
     <name>GraphHopper Tools</name>
 
     <parent>
         <groupId>com.graphhopper</groupId>
         <artifactId>graphhopper-parent</artifactId>    	
-        <version>0.4-SNAPSHOT</version>
+        <version>0.5-SNAPSHOT</version>
     </parent>
 
     <dependencies>
