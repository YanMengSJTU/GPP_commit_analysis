diff --git a/core/src/main/java/com/graphhopper/util/Downloader.java b/core/src/main/java/com/graphhopper/util/Downloader.java
index de9cf0dd48..ac350e8bf1 100644
--- a/core/src/main/java/com/graphhopper/util/Downloader.java
+++ b/core/src/main/java/com/graphhopper/util/Downloader.java
@@ -122,6 +122,7 @@ public void downloadFile(String url, String toFile) throws IOException {
                 writer.write(buffer, 0, numRead);
             }
         } finally {
+            Helper.close(iStream);
             Helper.close(writer);
             Helper.close(in);
         }
diff --git a/reader-osm/src/main/java/com/graphhopper/reader/osm/pbf/PbfBlobDecoder.java b/reader-osm/src/main/java/com/graphhopper/reader/osm/pbf/PbfBlobDecoder.java
index 655cb29d61..c4b4b20532 100644
--- a/reader-osm/src/main/java/com/graphhopper/reader/osm/pbf/PbfBlobDecoder.java
+++ b/reader-osm/src/main/java/com/graphhopper/reader/osm/pbf/PbfBlobDecoder.java
@@ -66,6 +66,7 @@ public PbfBlobDecoder(String blobType, byte[] rawBlob, PbfBlobDecoderListener li
             if (!inflater.finished()) {
                 throw new RuntimeException("PBF blob contains incomplete compressed data.");
             }
+            inflater.end();
         } else {
             throw new RuntimeException("PBF blob uses unsupported compression, only raw or zlib may be used.");
         }
