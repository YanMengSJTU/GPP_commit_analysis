diff --git a/library/src/main/java/com/google/android/exoplayer/hls/HlsExtractorWrapper.java b/library/src/main/java/com/google/android/exoplayer/hls/HlsExtractorWrapper.java
index b189a12bd2..f6c784a5e3 100644
--- a/library/src/main/java/com/google/android/exoplayer/hls/HlsExtractorWrapper.java
+++ b/library/src/main/java/com/google/android/exoplayer/hls/HlsExtractorWrapper.java
@@ -61,7 +61,6 @@ public HlsExtractorWrapper(int trigger, Format format, long startTimeUs, Extract
     this.extractor = extractor;
     this.shouldSpliceIn = shouldSpliceIn;
     sampleQueues = new SparseArray<DefaultTrackOutput>();
-    extractor.init(this);
   }
 
   /**
@@ -71,6 +70,7 @@ public HlsExtractorWrapper(int trigger, Format format, long startTimeUs, Extract
    */
   public void init(Allocator allocator) {
     this.allocator = allocator;
+    this.extractor.init(this);
   }
 
   /**
