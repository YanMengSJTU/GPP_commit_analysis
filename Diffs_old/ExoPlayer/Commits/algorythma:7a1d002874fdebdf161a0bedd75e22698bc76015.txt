diff --git a/build.gradle b/build.gradle
index 687f611c95..a24fd18b6b 100644
--- a/build.gradle
+++ b/build.gradle
@@ -34,6 +34,7 @@ allprojects {
     repositories {
         jcenter()
         google()
+        maven { url 'https://jitpack.io' }
     }
     project.ext {
         exoplayerPublishEnabled = true
diff --git a/extensions/okhttp/src/main/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.java b/extensions/okhttp/src/main/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.java
index f2898005c1..21f0cb1dad 100644
--- a/extensions/okhttp/src/main/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.java
+++ b/extensions/okhttp/src/main/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.java
@@ -219,6 +219,19 @@ public int read(byte[] buffer, int offset, int readLength) throws HttpDataSource
     }
   }
 
+  @Override
+  public int read (byte[] buffer, int offset, int readLength, boolean[] isMarker) throws HttpDataSourceException {
+    try {
+      skipInternal();
+      return readInternal(buffer, offset, readLength);
+    } catch (IOException e) {
+      throw new HttpDataSourceException(e, dataSpec, HttpDataSourceException.TYPE_READ);
+    }
+  }
+
+  @Override
+  public void markerToastDisplay () { }
+
   @Override
   public void close() throws HttpDataSourceException {
     if (opened) {
diff --git a/extensions/rtmp/build.gradle b/extensions/rtmp/build.gradle
index 912cf8c753..97389b93f0 100644
--- a/extensions/rtmp/build.gradle
+++ b/extensions/rtmp/build.gradle
@@ -28,7 +28,8 @@ dependencies {
 //    implementation project(modulePrefix + 'library-core')
     implementation project(':library-core')
 //    implementation 'net.butterflytv.utils:rtmp-client:3.0.1'
-    implementation project(':rtmp-client')
+//    implementation project(':rtmp-client')
+    implementation 'com.github.algorythma:LibRtmp-Client-for-Android:83e0b64918'
     implementation 'com.android.support:support-annotations:' + supportLibraryVersion
 }
 
diff --git a/settings.gradle b/settings.gradle
index 34d4510436..d4530d67b7 100644
--- a/settings.gradle
+++ b/settings.gradle
@@ -27,9 +27,4 @@ project(modulePrefix + 'demo-cast').projectDir = new File(rootDir, 'demos/cast')
 project(modulePrefix + 'demo-ima').projectDir = new File(rootDir, 'demos/ima')
 project(modulePrefix + 'playbacktests').projectDir = new File(rootDir, 'playbacktests')
 
-include 'rtmp-client'
-project(':rtmp-client').projectDir = new File(rootDir, '../LibRtmp-Client-for-Android/rtmp-client')
-
-include 'library-core'
-project(':library-core').projectDir = new File (rootDir, 'library/core')
 apply from: 'core_settings.gradle'
