diff --git a/demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java b/demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
index 35307eb5d8..e948312589 100644
--- a/demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
+++ b/demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
@@ -71,6 +71,7 @@
 import com.google.android.exoplayer2.upstream.HttpDataSource;
 import com.google.android.exoplayer2.util.ErrorMessageProvider;
 import com.google.android.exoplayer2.util.EventLogger;
+import com.google.android.exoplayer2.util.Log;
 import com.google.android.exoplayer2.util.Util;
 import java.lang.reflect.Constructor;
 import java.net.CookieHandler;
@@ -82,6 +83,8 @@
 public class PlayerActivity extends AppCompatActivity
     implements OnClickListener, PlaybackPreparer, PlayerControlView.VisibilityListener {
 
+  private static final String TAG = "PlayerActivity";
+
   public static final String DRM_SCHEME_EXTRA = "drm_scheme";
   public static final String DRM_LICENSE_URL_EXTRA = "drm_license_url";
   public static final String DRM_KEY_REQUEST_PROPERTIES_EXTRA = "drm_key_request_properties";
@@ -102,6 +105,8 @@
   public static final String ABR_ALGORITHM_DEFAULT = "default";
   public static final String ABR_ALGORITHM_RANDOM = "random";
 
+  public static final String TUNNEL_MODE_EXTRA = "tunnel_mode";
+
   public static final String SPHERICAL_STEREO_MODE_EXTRA = "spherical_stereo_mode";
   public static final String SPHERICAL_STEREO_MODE_MONO = "mono";
   public static final String SPHERICAL_STEREO_MODE_TOP_BOTTOM = "top_bottom";
@@ -406,6 +411,14 @@ private void initializePlayer() {
       RenderersFactory renderersFactory =
           ((DemoApplication) getApplication()).buildRenderersFactory(preferExtensionDecoders);
 
+      boolean tunnelMode = intent.getBooleanExtra(TUNNEL_MODE_EXTRA, false);
+      Log.i(TAG, "Tunnel Mode: " + tunnelMode);
+      if (tunnelMode) {
+        DefaultTrackSelector.ParametersBuilder builder = new DefaultTrackSelector.ParametersBuilder();
+        builder.setTunnelingAudioSessionId(C.generateAudioSessionIdV21(this));
+        trackSelectorParameters = builder.build();
+      }
+
       trackSelector = new DefaultTrackSelector(trackSelectionFactory);
       trackSelector.setParameters(trackSelectorParameters);
       lastSeenTrackGroupArray = null;
diff --git a/demos/main/src/main/java/com/google/android/exoplayer2/demo/SampleChooserActivity.java b/demos/main/src/main/java/com/google/android/exoplayer2/demo/SampleChooserActivity.java
index 7245de01c6..c8ae2513ff 100644
--- a/demos/main/src/main/java/com/google/android/exoplayer2/demo/SampleChooserActivity.java
+++ b/demos/main/src/main/java/com/google/android/exoplayer2/demo/SampleChooserActivity.java
@@ -65,6 +65,7 @@
   private SampleAdapter sampleAdapter;
   private MenuItem preferExtensionDecodersMenuItem;
   private MenuItem randomAbrMenuItem;
+  private MenuItem tunnelModeMenuItem;
 
   @Override
   public void onCreate(Bundle savedInstanceState) {
@@ -122,6 +123,7 @@ public boolean onCreateOptionsMenu(Menu menu) {
     preferExtensionDecodersMenuItem = menu.findItem(R.id.prefer_extension_decoders);
     preferExtensionDecodersMenuItem.setVisible(useExtensionRenderers);
     randomAbrMenuItem = menu.findItem(R.id.random_abr);
+    tunnelModeMenuItem = menu.findItem(R.id.tunnel_mode);
     return true;
   }
 
@@ -161,13 +163,14 @@ private void onSampleGroups(final List<SampleGroup> groups, boolean sawError) {
   public boolean onChildClick(
       ExpandableListView parent, View view, int groupPosition, int childPosition, long id) {
     Sample sample = (Sample) view.getTag();
-    startActivity(
-        sample.buildIntent(
+    Intent intent = sample.buildIntent(
             /* context= */ this,
             isNonNullAndChecked(preferExtensionDecodersMenuItem),
             isNonNullAndChecked(randomAbrMenuItem)
                 ? PlayerActivity.ABR_ALGORITHM_RANDOM
-                : PlayerActivity.ABR_ALGORITHM_DEFAULT));
+                : PlayerActivity.ABR_ALGORITHM_DEFAULT);
+    intent.putExtra(PlayerActivity.TUNNEL_MODE_EXTRA, isNonNullAndChecked(tunnelModeMenuItem));
+    startActivity(intent);
     return true;
   }
 
diff --git a/demos/main/src/main/res/menu/sample_chooser_menu.xml b/demos/main/src/main/res/menu/sample_chooser_menu.xml
index 9934e9db95..8ed464432e 100644
--- a/demos/main/src/main/res/menu/sample_chooser_menu.xml
+++ b/demos/main/src/main/res/menu/sample_chooser_menu.xml
@@ -23,4 +23,8 @@
       android:title="@string/random_abr"
       android:checkable="true"
       app:showAsAction="never"/>
+  <item android:id="@+id/tunnel_mode"
+      android:title="@string/tunnel_mode"
+      android:checkable="true"
+      app:showAsAction="never"/>
 </menu>
diff --git a/demos/main/src/main/res/values/strings.xml b/demos/main/src/main/res/values/strings.xml
index 0729da2fc6..20e24e99f1 100644
--- a/demos/main/src/main/res/values/strings.xml
+++ b/demos/main/src/main/res/values/strings.xml
@@ -67,4 +67,6 @@
 
   <string name="random_abr">Enable random ABR</string>
 
+  <string name="tunnel_mode">Enable tunnel mode</string>
+
 </resources>
