diff --git a/library/src/main/java/com/google/android/exoplayer2/extractor/flv/ScriptTagPayloadReader.java b/library/src/main/java/com/google/android/exoplayer2/extractor/flv/ScriptTagPayloadReader.java
index 7229d96300..2a560f5974 100644
--- a/library/src/main/java/com/google/android/exoplayer2/extractor/flv/ScriptTagPayloadReader.java
+++ b/library/src/main/java/com/google/android/exoplayer2/extractor/flv/ScriptTagPayloadReader.java
@@ -19,6 +19,7 @@
 import com.google.android.exoplayer2.ParserException;
 import com.google.android.exoplayer2.extractor.TrackOutput;
 import com.google.android.exoplayer2.util.ParsableByteArray;
+
 import java.util.ArrayList;
 import java.util.Date;
 import java.util.HashMap;
@@ -79,16 +80,19 @@ protected void parsePayload(ParsableByteArray data, long timeUs) throws ParserEx
       return;
     }
     int type = readAmfType(data);
-    if (type != AMF_TYPE_ECMA_ARRAY) {
-      // Should never happen.
-      throw new ParserException();
-    }
-    // Set the duration to the value contained in the metadata, if present.
-    Map<String, Object> metadata = readAmfEcmaArray(data);
-    if (metadata.containsKey(KEY_DURATION)) {
-      double durationSeconds = (double) metadata.get(KEY_DURATION);
-      if (durationSeconds > 0.0) {
-        durationUs = (long) (durationSeconds * C.MICROS_PER_SECOND);
+//    if (type != AMF_TYPE_ECMA_ARRAY) {
+//      // Should never happen.
+//      //actually it can happen for live streams
+//      throw new ParserException();
+//    }
+    if (type == AMF_TYPE_ECMA_ARRAY) {
+      // Set the duration to the value contained in the metadata, if present.
+      Map<String, Object> metadata = readAmfEcmaArray(data);
+      if (metadata.containsKey(KEY_DURATION)) {
+        double durationSeconds = (double) metadata.get(KEY_DURATION);
+        if (durationSeconds > 0.0) {
+          durationUs = (long) (durationSeconds * C.MICROS_PER_SECOND);
+        }
       }
     }
   }
