diff --git a/library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java b/library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
index a867659838..6f6f67ad34 100644
--- a/library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
+++ b/library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
@@ -121,8 +121,18 @@ public HlsPlaylist parse(Uri uri, InputStream inputStream) throws IOException {
         if (line.isEmpty()) {
           // Do nothing.
         } else if (line.startsWith(TAG_STREAM_INF)) {
-          extraLines.add(line);
-          return parseMasterPlaylist(new LineIterator(extraLines, reader), uri.toString());
+          String nextLine ;
+          while((nextLine = reader.readLine()) != null){
+            nextLine = nextLine.trim();
+            if(!nextLine.startsWith("#")){
+              extraLines.add(line);
+              extraLines.add(nextLine);
+              return parseMasterPlaylist(new LineIterator(extraLines, reader), uri.toString());
+            }
+            if(nextLine.startsWith(TAG_STREAM_INF)){
+              line = nextLine;
+            }
+          }
         } else if (line.startsWith(TAG_TARGET_DURATION)
             || line.startsWith(TAG_MEDIA_SEQUENCE)
             || line.startsWith(TAG_MEDIA_DURATION)
