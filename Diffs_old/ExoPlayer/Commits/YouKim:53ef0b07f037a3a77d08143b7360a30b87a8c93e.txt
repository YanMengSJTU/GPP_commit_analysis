diff --git a/twelve/build.gradle b/twelve/build.gradle
index 7fffdfbecb..02bc1c3f89 100755
--- a/twelve/build.gradle
+++ b/twelve/build.gradle
@@ -29,6 +29,13 @@ android {
         }
     }
 
+    lintOptions {
+        checkReleaseBuilds false
+        // Or, if you prefer, you can continue to check for errors in release builds,
+        // but continue the build even when errors are found:
+        abortOnError false
+    }
+
     productFlavors {
         noExtensions
         withExtensions
@@ -36,7 +43,7 @@ android {
 }
 
 dependencies {
-    compile fileTree(dir: 'libs', include: ['*.jar'])
+    compile fileTree(include: ['*.jar'], dir: 'libs')
     androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {
         exclude group: 'com.android.support', module: 'support-annotations'
     })
@@ -46,12 +53,11 @@ dependencies {
     compile 'com.android.support:cardview-v7:25.3.1'
     compile 'com.android.support:palette-v7:25.3.1'
     compile 'com.android.support:design:25.3.1'
-
     compile project(':library')
-    withExtensionsCompile project(path: ':extension-ffmpeg')
-    withExtensionsCompile project(path: ':extension-flac')
-    withExtensionsCompile project(path: ':extension-opus')
-    withExtensionsCompile project(path: ':extension-vp9')
-
+    compile project(':extension-flac')
+    //    withExtensionsCompile project(path: ':extension-ffmpeg')
+    //    withExtensionsCompile project(path: ':extension-flac')
+    //    withExtensionsCompile project(path: ':extension-opus')
+    //    withExtensionsCompile project(path: ':extension-vp9')
     testCompile 'junit:junit:4.12'
 }
diff --git a/twelve/src/main/AndroidManifest.xml b/twelve/src/main/AndroidManifest.xml
index 65ac2390f1..5d8bc8dba8 100755
--- a/twelve/src/main/AndroidManifest.xml
+++ b/twelve/src/main/AndroidManifest.xml
@@ -53,8 +53,7 @@
         android:label="@string/app_name"
         android:largeHeap="@bool/config_largeHeap"
         android:taskAffinity="com.dolzzo.twelve.task"
-        android:theme="@style/AppTheme.NoActionBar"
-        android:extractNativeLibs="false">
+        android:theme="@style/AppTheme.NoActionBar">
 
         <!-- Searchable -->
         <meta-data
diff --git a/twelve/src/main/java/com/dolzzo/twelve/MusicPlaybackService.java b/twelve/src/main/java/com/dolzzo/twelve/MusicPlaybackService.java
index a9f01627bd..64b0f8ab87 100755
--- a/twelve/src/main/java/com/dolzzo/twelve/MusicPlaybackService.java
+++ b/twelve/src/main/java/com/dolzzo/twelve/MusicPlaybackService.java
@@ -77,6 +77,7 @@
 import com.google.android.exoplayer2.PlaybackParameters;
 import com.google.android.exoplayer2.SimpleExoPlayer;
 import com.google.android.exoplayer2.Timeline;
+import com.google.android.exoplayer2.TwelvePlayer;
 import com.google.android.exoplayer2.extractor.DefaultExtractorsFactory;
 import com.google.android.exoplayer2.extractor.ExtractorsFactory;
 import com.google.android.exoplayer2.source.ExtractorMediaSource;
@@ -2978,10 +2979,12 @@ public TrackErrorInfo(long id, String trackName) {
         private SrtManager mSrtManager;
         private Handler mHandler;
 
-        private SimpleExoPlayer mCurrentMediaPlayer;
+        private TwelvePlayer mCurrentMediaPlayer;
         private String mNextMediaPath;
         private boolean mIsInitailized;
 
+        public static final long DEFAULT_ALLOWED_VIDEO_JOINING_TIME_MS = 5000;
+
         public MultiPlayer2(final MusicPlaybackService service) {
 
             if (service == null) {
@@ -3014,7 +3017,9 @@ private void createExoPlayer(Context context) {
             LoadControl loadControl = new DefaultLoadControl();
             // 3. Create the player
             mCurrentMediaPlayer =
-                    ExoPlayerFactory.newSimpleInstance(context, trackSelector, loadControl);
+                    new TwelvePlayer(context, trackSelector, loadControl, null,
+                            TwelvePlayer.EXTENSION_RENDERER_MODE_OFF, DEFAULT_ALLOWED_VIDEO_JOINING_TIME_MS);
+
             mCurrentMediaPlayer.addListener(this);
         }
 
@@ -3201,7 +3206,9 @@ public long seek(long whereto) {
         }
 
         public int getAudioSessionId() {
-            return 0;
+            int id = mCurrentMediaPlayer.getAudioSessionId();
+            if (D) Log.d(TAG, "getAudioSessionId = " + id);
+            return id;
         }
 
         @Override
diff --git a/twelve/src/main/java/com/dolzzo/twelve/utils/SrtManager.java b/twelve/src/main/java/com/dolzzo/twelve/utils/SrtManager.java
index 09504c809d..3b5af2d796 100755
--- a/twelve/src/main/java/com/dolzzo/twelve/utils/SrtManager.java
+++ b/twelve/src/main/java/com/dolzzo/twelve/utils/SrtManager.java
@@ -21,6 +21,7 @@
 import android.util.Log;
 
 import com.google.android.exoplayer2.SimpleExoPlayer;
+import com.google.android.exoplayer2.TwelvePlayer;
 
 import java.io.File;
 import java.util.ArrayList;
@@ -39,7 +40,7 @@
 
     private Runnable mLoader;
 
-    private SimpleExoPlayer mMediaPlayer;
+    private TwelvePlayer mMediaPlayer;
     private int mNextIndex;
 
     public SrtManager() {
@@ -75,7 +76,7 @@ public synchronized void release() {
         }
     }
 
-    public synchronized void initialize(final SimpleExoPlayer player, final File f) {
+    public synchronized void initialize(final TwelvePlayer player, final File f) {
         if (player == null || f == null) {
             throw new IllegalArgumentException("Must have a valid player and file");
         }
diff --git a/twelve/src/main/java/com/google/android/exoplayer2/TwelvePlayer.java b/twelve/src/main/java/com/google/android/exoplayer2/TwelvePlayer.java
index 48e535db8e..2997199569 100755
--- a/twelve/src/main/java/com/google/android/exoplayer2/TwelvePlayer.java
+++ b/twelve/src/main/java/com/google/android/exoplayer2/TwelvePlayer.java
@@ -147,7 +147,7 @@ void onVideoSizeChanged(int width, int height, int unappliedRotationDegrees,
     private int audioStreamType;
     private float audioVolume;
 
-    protected TwelvePlayer(Context context, TrackSelector trackSelector, LoadControl loadControl,
+    public TwelvePlayer(Context context, TrackSelector trackSelector, LoadControl loadControl,
                               DrmSessionManager<FrameworkMediaCrypto> drmSessionManager,
                               @ExtensionRendererMode int extensionRendererMode, long allowedVideoJoiningTimeMs) {
         mainHandler = new Handler();
diff --git a/twelve/src/main/res/layout/activity_base.xml b/twelve/src/main/res/layout/activity_base.xml
index 3097743f26..3355e23760 100755
--- a/twelve/src/main/res/layout/activity_base.xml
+++ b/twelve/src/main/res/layout/activity_base.xml
@@ -15,7 +15,6 @@
   limitations under the License.
 -->
 <com.dolzzo.twelve.slidinguppanel.SlidingUpPanelLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:app="http://schemas.android.com/tools"
     xmlns:sothree="http://schemas.android.com/apk/res-auto"
     android:id="@+id/sliding_layout"
     android:layout_width="match_parent"
@@ -36,8 +35,8 @@
             android:layout_width="match_parent"
             android:layout_height="?android:attr/actionBarSize"
             android:theme="@style/ToolBarTheme"
-            app:elevation="@dimen/action_bar_elevation"
-            app:popupTheme="@style/ToolBarPopupTheme" />
+            android:elevation="@dimen/action_bar_elevation"
+            android:popupTheme="@style/ToolBarPopupTheme" />
 
         <FrameLayout
             android:id="@+id/activity_base_content"
