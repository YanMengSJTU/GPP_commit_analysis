diff --git a/library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java b/library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
index f87f411187..56e913b357 100644
--- a/library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
+++ b/library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
@@ -829,8 +829,6 @@ public TrackOutput track(int id, int type) {
           sampleQueueTrackIds[sampleQueueIndex] = id;
           return sampleQueues[sampleQueueIndex];
         }
-      } else if (tracksEnded) {
-        return createDummyTrackOutput(id, type);
       }
     } else /* sparse track */ {
       for (int i = 0; i < trackCount; i++) {
@@ -838,9 +836,9 @@ public TrackOutput track(int id, int type) {
           return sampleQueues[i];
         }
       }
-      if (tracksEnded) {
-        return createDummyTrackOutput(id, type);
-      }
+    }
+    if (tracksEnded) {
+      return createDummyTrackOutput(id, type);
     }
     SampleQueue trackOutput = new FormatAdjustingSampleQueue(allocator, overridingDrmInitData);
     trackOutput.setSampleOffsetUs(sampleOffsetUs);
