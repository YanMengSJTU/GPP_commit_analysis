diff --git a/library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.java b/library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.java
index 10ccb4eba2..3704a09da0 100644
--- a/library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.java
+++ b/library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.java
@@ -66,6 +66,7 @@ public void init(
     this.timeUs = timeUs;
     this.mode = mode;
     if (supplementalData != null) {
+      addFlag(C.BUFFER_FLAG_HAS_SUPPLEMENTAL_DATA);
       int size = supplementalData.limit();
       if (this.supplementalData == null || this.supplementalData.capacity() < size) {
         this.supplementalData = ByteBuffer.allocate(size);
