diff --git a/library/core/build.gradle b/library/core/build.gradle
index fe6045c2e7..19a307f30b 100644
--- a/library/core/build.gradle
+++ b/library/core/build.gradle
@@ -36,11 +36,15 @@ android {
     }
 
     buildTypes {
-        // Re-enable test coverage when the following issue is fixed:
-        // https://issuetracker.google.com/issues/37019591
-        // debug {
-        //    testCoverageEnabled = true
-        // }
+        release {
+            minifyEnabled false
+            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
+        }
+
+        release_store {
+            minifyEnabled false
+            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
+        }
     }
 }
 
diff --git a/library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java b/library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java
index 5c56dc460a..6e4f1d1a04 100644
--- a/library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java
+++ b/library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java
@@ -177,7 +177,7 @@ public int read(ExtractorInput input, PositionHolder seekPosition)
     if (seeker == null) {
       seeker = maybeReadSeekFrame(input);
       if (seeker == null
-          || (!seeker.isSeekable() && (flags & FLAG_ENABLE_CONSTANT_BITRATE_SEEKING) != 0)) {
+          || (flags & FLAG_ENABLE_CONSTANT_BITRATE_SEEKING) != 0) {
         seeker = getConstantBitrateSeeker(input);
       }
       extractorOutput.seekMap(seeker);
diff --git a/library/dash/build.gradle b/library/dash/build.gradle
index d2692eb7d9..32cabfd1c6 100644
--- a/library/dash/build.gradle
+++ b/library/dash/build.gradle
@@ -24,18 +24,22 @@ android {
     }
 
     buildTypes {
-        // Re-enable test coverage when the following issue is fixed:
-        // https://issuetracker.google.com/issues/37019591
-        // debug {
-        //    testCoverageEnabled = true
-        // }
+        release {
+            minifyEnabled false
+            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
+        }
+
+        release_store {
+            minifyEnabled false
+            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
+        }
     }
 }
 
 dependencies {
     implementation project(modulePrefix + 'library-core')
     implementation 'com.android.support:support-annotations:' + supportLibraryVersion
-    testImplementation project(modulePrefix + 'testutils-robolectric')
+    //testImplementation project(modulePrefix + 'testutils-robolectric')
 }
 
 ext {
diff --git a/library/ui/build.gradle b/library/ui/build.gradle
index 9689fcef97..d15833210b 100644
--- a/library/ui/build.gradle
+++ b/library/ui/build.gradle
@@ -24,11 +24,15 @@ android {
     }
 
     buildTypes {
-        // Re-enable test coverage when the following issue is fixed:
-        // https://issuetracker.google.com/issues/37019591
-        // debug {
-        //    testCoverageEnabled = true
-        // }
+        release {
+            minifyEnabled false
+            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
+        }
+
+        release_store {
+            minifyEnabled false
+            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
+        }
     }
 }
 
