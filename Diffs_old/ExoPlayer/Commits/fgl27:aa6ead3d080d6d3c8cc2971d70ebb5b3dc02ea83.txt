diff --git a/library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSource.java b/library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSource.java
index 6e20db7bf7..541c3b2d9d 100644
--- a/library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSource.java
+++ b/library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSource.java
@@ -285,7 +285,7 @@ public long open(DataSpec dataSpec) throws IOException {
       }
       openNextSource(false);
       return bytesRemaining;
-    } catch (IOException e) {
+    } catch (Throwable e) {
       handleBeforeThrow(e);
       throw e;
     }
@@ -327,6 +327,9 @@ public int read(byte[] buffer, int offset, int readLength) throws IOException {
       }
       handleBeforeThrow(e);
       throw e;
+    } catch (Throwable e) {
+      handleBeforeThrow(e);
+      throw e;
     }
   }
 
@@ -353,7 +356,7 @@ public void close() throws IOException {
     notifyBytesRead();
     try {
       closeCurrentSource();
-    } catch (IOException e) {
+    } catch (Throwable e) {
       handleBeforeThrow(e);
       throw e;
     }
@@ -520,7 +523,7 @@ private void closeCurrentSource() throws IOException {
     }
   }
 
-  private void handleBeforeThrow(IOException exception) {
+  private void handleBeforeThrow(Throwable exception) {
     if (isReadingFromCache() || exception instanceof CacheException) {
       seenCacheError = true;
     }
diff --git a/library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java b/library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java
index 47470c5de7..6277ec686f 100644
--- a/library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java
+++ b/library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java
@@ -359,7 +359,7 @@ public static void remove(Cache cache, String key) {
     }
   }
 
-  /*package*/ static boolean isCausedByPositionOutOfRange(IOException e) {
+  /* package */ static boolean isCausedByPositionOutOfRange(IOException e) {
     Throwable cause = e;
     while (cause != null) {
       if (cause instanceof DataSourceException) {
