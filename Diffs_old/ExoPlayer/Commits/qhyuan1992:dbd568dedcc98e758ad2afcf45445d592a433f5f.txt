diff --git a/library/src/androidTest/java/com/google/android/exoplayer/util/AtomicFileTest.java b/library/src/androidTest/java/com/google/android/exoplayer/util/AtomicFileTest.java
index 3f068a6bee..17925acb37 100644
--- a/library/src/androidTest/java/com/google/android/exoplayer/util/AtomicFileTest.java
+++ b/library/src/androidTest/java/com/google/android/exoplayer/util/AtomicFileTest.java
@@ -50,7 +50,7 @@ public void testDelete() throws Exception {
     assertFalse(file.exists());
   }
 
-  public void testWriteEndRead() throws Exception {
+  public void testWriteRead() throws Exception {
     OutputStream output = atomicFile.startWrite();
     output.write(5);
     atomicFile.endWrite(output);
diff --git a/library/src/main/java/com/google/android/exoplayer/upstream/cache/Cache.java b/library/src/main/java/com/google/android/exoplayer/upstream/cache/Cache.java
index 2a1d944c38..15d7f73b17 100644
--- a/library/src/main/java/com/google/android/exoplayer/upstream/cache/Cache.java
+++ b/library/src/main/java/com/google/android/exoplayer/upstream/cache/Cache.java
@@ -28,7 +28,7 @@
   /**
    * Interface definition for a callback to be notified of {@link Cache} events.
    */
-  public interface Listener {
+  interface Listener {
 
     /**
      * Invoked when a {@link CacheSpan} is added to the cache.
diff --git a/library/src/main/java/com/google/android/exoplayer/upstream/cache/CacheDataSink.java b/library/src/main/java/com/google/android/exoplayer/upstream/cache/CacheDataSink.java
index 9cb504f656..ca15f22b14 100644
--- a/library/src/main/java/com/google/android/exoplayer/upstream/cache/CacheDataSink.java
+++ b/library/src/main/java/com/google/android/exoplayer/upstream/cache/CacheDataSink.java
@@ -133,6 +133,7 @@ private void openNextOutputStream() throws IOException {
     outputStreamBytesWritten = 0;
   }
 
+  @SuppressWarnings("ThrowFromFinallyBlock")
   private void closeCurrentOutputStream() throws IOException {
     if (outputStream == null) {
       return;
@@ -145,13 +146,14 @@ private void closeCurrentOutputStream() throws IOException {
       success = true;
     } finally {
       Util.closeQuietly(outputStream);
+      outputStream = null;
+      File fileToCommit = file;
+      file = null;
       if (success) {
-        cache.commitFile(file);
+        cache.commitFile(fileToCommit);
       } else {
-        file.delete();
+        fileToCommit.delete();
       }
-      outputStream = null;
-      file = null;
     }
   }
 
diff --git a/library/src/main/java/com/google/android/exoplayer/upstream/cache/CacheEvictor.java b/library/src/main/java/com/google/android/exoplayer/upstream/cache/CacheEvictor.java
index 5d3421899d..6211e7f1af 100644
--- a/library/src/main/java/com/google/android/exoplayer/upstream/cache/CacheEvictor.java
+++ b/library/src/main/java/com/google/android/exoplayer/upstream/cache/CacheEvictor.java
@@ -21,7 +21,7 @@
  */
 public interface CacheEvictor extends Cache.Listener {
 
-  /** Invoked when cache has beeen initialized. */
+  /** Invoked when cache has been initialized. */
   void onCacheInitialized();
 
   /**
diff --git a/library/src/main/java/com/google/android/exoplayer/upstream/cache/SimpleCache.java b/library/src/main/java/com/google/android/exoplayer/upstream/cache/SimpleCache.java
index 2b6df0155d..8d4cd4787f 100644
--- a/library/src/main/java/com/google/android/exoplayer/upstream/cache/SimpleCache.java
+++ b/library/src/main/java/com/google/android/exoplayer/upstream/cache/SimpleCache.java
@@ -348,10 +348,7 @@ private void notifySpanTouched(SimpleCacheSpan oldSpan, CacheSpan newSpan) {
   @Override
   public synchronized boolean isCached(String key, long position, long length) {
     CachedContent cachedContent = index.get(key);
-    if (cachedContent == null) {
-      return false;
-    }
-    return cachedContent.isCached(position, length);
+    return cachedContent != null && cachedContent.isCached(position, length);
   }
 
 }
