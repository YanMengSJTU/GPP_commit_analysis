diff --git a/extensions/rtmp/src/main/java/com/google/android/exoplayer2/ext/rtmp/RtmpDataSource.java b/extensions/rtmp/src/main/java/com/google/android/exoplayer2/ext/rtmp/RtmpDataSource.java
index 272a8d1eb4..bf5b8e9261 100644
--- a/extensions/rtmp/src/main/java/com/google/android/exoplayer2/ext/rtmp/RtmpDataSource.java
+++ b/extensions/rtmp/src/main/java/com/google/android/exoplayer2/ext/rtmp/RtmpDataSource.java
@@ -15,6 +15,8 @@
  */
 package com.google.android.exoplayer2.ext.rtmp;
 
+import static com.google.android.exoplayer2.util.Util.castNonNull;
+
 import android.net.Uri;
 import androidx.annotation.Nullable;
 import com.google.android.exoplayer2.C;
@@ -34,8 +36,8 @@
     ExoPlayerLibraryInfo.registerModule("goog.exo.rtmp");
   }
 
-  private RtmpClient rtmpClient;
-  private Uri uri;
+  @Nullable private RtmpClient rtmpClient;
+  @Nullable private Uri uri;
 
   public RtmpDataSource() {
     super(/* isNetwork= */ true);
@@ -66,7 +68,7 @@ public long open(DataSpec dataSpec) throws RtmpIOException {
 
   @Override
   public int read(byte[] buffer, int offset, int readLength) throws IOException {
-    int bytesRead = rtmpClient.read(buffer, offset, readLength);
+    int bytesRead = castNonNull(rtmpClient).read(buffer, offset, readLength);
     if (bytesRead == -1) {
       return C.RESULT_END_OF_INPUT;
     }
@@ -87,6 +89,7 @@ public void close() {
   }
 
   @Override
+  @Nullable
   public Uri getUri() {
     return uri;
   }
