diff --git a/build.gradle b/build.gradle
index 3813a241e0..c38eb8738c 100644
--- a/build.gradle
+++ b/build.gradle
@@ -17,7 +17,7 @@ buildscript {
         google()
     }
     dependencies {
-        classpath 'com.android.tools.build:gradle:3.1.0'
+        classpath 'com.android.tools.build:gradle:3.1.3'
         classpath 'com.novoda:bintray-release:0.8.1'
     }
     // Workaround for the following test coverage issue. Remove when fixed:
diff --git a/constants.gradle b/constants.gradle
index 5544173a3c..ef869d484c 100644
--- a/constants.gradle
+++ b/constants.gradle
@@ -24,7 +24,7 @@ project.ext {
     compileSdkVersion = 27
     buildToolsVersion = '27.0.3'
     testSupportLibraryVersion = '0.5'
-    supportLibraryVersion = '27.0.0'
+    supportLibraryVersion = '27.1.1'
     playServicesLibraryVersion = '15.0.1'
     dexmakerVersion = '1.2'
     mockitoVersion = '1.9.5'
diff --git a/extensions/cast/build.gradle b/extensions/cast/build.gradle
index 2d7dd14303..691990aa93 100644
--- a/extensions/cast/build.gradle
+++ b/extensions/cast/build.gradle
@@ -15,6 +15,14 @@ apply from: '../../constants.gradle'
 apply plugin: 'com.android.library'
 
 android {
+    compileSdkVersion project.ext.compileSdkVersion
+    buildToolsVersion project.ext.buildToolsVersion
+
+    defaultConfig {
+        minSdkVersion project.ext.minSdkVersion
+        targetSdkVersion project.ext.targetSdkVersion
+        consumerProguardFiles 'proguard-rules.txt'
+    }
     sourceSets.main {
         jniLibs.srcDirs = ['jniLibs']
     }
@@ -22,8 +30,8 @@ android {
 
 dependencies {
     api 'com.google.android.gms:play-services-cast-framework:' + playServicesLibraryVersion
-    implementation project(modulePrefix + 'exoplayer-core')
-    implementation project(modulePrefix + 'exoplayer-ui')
+    implementation project(modulePrefix + 'library-core')
+    implementation project(modulePrefix + 'library-ui')
     testImplementation project(modulePrefix + 'testutils')
     testImplementation 'junit:junit:' + junitVersion
     testImplementation 'org.mockito:mockito-core:' + mockitoVersion
diff --git a/extensions/cronet/build.gradle b/extensions/cronet/build.gradle
index 0863f9987c..1ec20e6a25 100644
--- a/extensions/cronet/build.gradle
+++ b/extensions/cronet/build.gradle
@@ -16,6 +16,15 @@ apply plugin: 'com.android.library'
 
 android {
 
+    compileSdkVersion project.ext.compileSdkVersion
+    buildToolsVersion project.ext.buildToolsVersion
+
+    defaultConfig {
+        minSdkVersion project.ext.minSdkVersion
+        targetSdkVersion project.ext.targetSdkVersion
+        consumerProguardFiles 'proguard-rules.txt'
+    }
+
     sourceSets.main {
         jniLibs.srcDirs = ['jniLibs']
     }
@@ -23,7 +32,7 @@ android {
 }
 
 dependencies {
-    compile project(modulePrefix + 'exoplayer-core')
+    compile project(modulePrefix + 'library-core')
     compile files('libs/cronet_api.jar')
     compile files('libs/cronet_impl_common_java.jar')
     compile files('libs/cronet_impl_native_java.jar')
diff --git a/extensions/ffmpeg/build.gradle b/extensions/ffmpeg/build.gradle
index a02d0cfe9d..db88108340 100644
--- a/extensions/ffmpeg/build.gradle
+++ b/extensions/ffmpeg/build.gradle
@@ -15,6 +15,14 @@ apply from: '../../constants.gradle'
 apply plugin: 'com.android.library'
 
 android {
+    compileSdkVersion project.ext.compileSdkVersion
+    buildToolsVersion project.ext.buildToolsVersion
+
+    defaultConfig {
+        minSdkVersion project.ext.minSdkVersion
+        targetSdkVersion project.ext.targetSdkVersion
+        consumerProguardFiles 'proguard-rules.txt'
+    }
     sourceSets.main {
         jniLibs.srcDir 'src/main/libs'
         jni.srcDirs = [] // Disable the automatic ndk-build call by Android Studio.
@@ -22,7 +30,7 @@ android {
 }
 
 dependencies {
-    implementation project(modulePrefix + 'exoplayer-core')
+    implementation project(modulePrefix + 'library-core')
 }
 
 ext {
