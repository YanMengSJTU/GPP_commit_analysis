diff --git a/library/src/main/java/com/google/android/exoplayer/extractor/ts/H262Reader.java b/library/src/main/java/com/google/android/exoplayer/extractor/ts/H262Reader.java
index 5ebcf025d0..47a5aa05d4 100644
--- a/library/src/main/java/com/google/android/exoplayer/extractor/ts/H262Reader.java
+++ b/library/src/main/java/com/google/android/exoplayer/extractor/ts/H262Reader.java
@@ -53,7 +53,7 @@
 
   // Per packet state that gets reset at the start of each packet.
   private long pesTimeUs;
-  private boolean foundFirstFrameInPacket;
+  private boolean pesPtsUsAvailable;
 
   // Per sample state that gets reset at the start of each frame.
   private boolean isKeyframe;
@@ -70,15 +70,17 @@ public H262Reader(TrackOutput output) {
   public void seek() {
     NalUnitUtil.clearPrefixFlags(prefixFlags);
     csdBuffer.reset();
-    foundFirstFrameInPacket = false;
+    pesPtsUsAvailable = false;
     foundFirstFrameInGroup = false;
     totalBytesWritten = 0;
   }
 
   @Override
   public void packetStarted(long pesTimeUs, boolean dataAlignmentIndicator) {
-    this.pesTimeUs = pesTimeUs;
-    foundFirstFrameInPacket = false;
+    pesPtsUsAvailable = pesTimeUs != C.UNKNOWN_TIME_US;
+    if (pesPtsUsAvailable) {
+      this.pesTimeUs = pesTimeUs;
+    }
   }
 
   @Override
@@ -138,9 +140,9 @@ public void consume(ParsableByteArray data) {
             foundFirstFrameInGroup = false;
             isKeyframe = true;
           } else /* startCode == START_PICTURE */ {
-            frameTimeUs = !foundFirstFrameInPacket ? pesTimeUs : (frameTimeUs + frameDurationUs);
+            frameTimeUs = pesPtsUsAvailable ? pesTimeUs : (frameTimeUs + frameDurationUs);
             framePosition = totalBytesWritten - bytesWrittenPastStartCode;
-            foundFirstFrameInPacket = true;
+            pesPtsUsAvailable = false;
             foundFirstFrameInGroup = true;
           }
         }
diff --git a/library/src/main/java/com/google/android/exoplayer/extractor/ts/TsExtractor.java b/library/src/main/java/com/google/android/exoplayer/extractor/ts/TsExtractor.java
index 675c626272..815b288a02 100644
--- a/library/src/main/java/com/google/android/exoplayer/extractor/ts/TsExtractor.java
+++ b/library/src/main/java/com/google/android/exoplayer/extractor/ts/TsExtractor.java
@@ -15,6 +15,7 @@
  */
 package com.google.android.exoplayer.extractor.ts;
 
+import com.google.android.exoplayer.C;
 import com.google.android.exoplayer.extractor.DummyTrackOutput;
 import com.google.android.exoplayer.extractor.Extractor;
 import com.google.android.exoplayer.extractor.ExtractorInput;
@@ -599,7 +600,7 @@ private boolean parseHeader() {
 
     private void parseHeaderExtension() {
       pesScratch.setPosition(0);
-      timeUs = 0;
+      timeUs = C.UNKNOWN_TIME_US;
       if (ptsFlag) {
         pesScratch.skipBits(4); // '0010' or '0011'
         long pts = (long) pesScratch.readBits(3) << 30;
