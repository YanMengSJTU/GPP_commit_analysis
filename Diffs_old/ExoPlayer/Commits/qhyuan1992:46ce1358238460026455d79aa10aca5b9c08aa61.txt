diff --git a/library/src/main/java/com/google/android/exoplayer/hls/HlsChunkSource.java b/library/src/main/java/com/google/android/exoplayer/hls/HlsChunkSource.java
index df981d6683..135ee378b0 100644
--- a/library/src/main/java/com/google/android/exoplayer/hls/HlsChunkSource.java
+++ b/library/src/main/java/com/google/android/exoplayer/hls/HlsChunkSource.java
@@ -694,6 +694,10 @@ private int getLiveNextChunkSequenceNumber(int previousChunkIndex, int oldVarian
     }
     HlsMediaPlaylist oldMediaPlaylist = variantPlaylists[oldVariantIndex];
     HlsMediaPlaylist newMediaPlaylist = variantPlaylists[newVariantIndex];
+    if (previousChunkIndex < oldMediaPlaylist.mediaSequence) {
+      // We have fallen behind the live window.
+      return newMediaPlaylist.mediaSequence - 1;
+    }
     double offsetToLiveInstantSecs = 0;
     for (int i = previousChunkIndex - oldMediaPlaylist.mediaSequence;
          i < oldMediaPlaylist.segments.size(); i++) {
