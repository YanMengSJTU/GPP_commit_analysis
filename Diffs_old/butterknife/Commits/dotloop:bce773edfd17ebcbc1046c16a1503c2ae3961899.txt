diff --git a/butterknife-gradle-plugin/src/main/java/butterknife/plugin/ButterKnifePlugin.kt b/butterknife-gradle-plugin/src/main/java/butterknife/plugin/ButterKnifePlugin.kt
index 4d9185ca..dbf8796f 100644
--- a/butterknife-gradle-plugin/src/main/java/butterknife/plugin/ButterKnifePlugin.kt
+++ b/butterknife-gradle-plugin/src/main/java/butterknife/plugin/ButterKnifePlugin.kt
@@ -17,9 +17,8 @@ class ButterKnifePlugin : Plugin<Project> {
     project.plugins.all {
       when (it) {
         is DynamicFeaturePlugin -> {
-          project.extensions[FeatureExtension::class].run {
-            configureR2Generation(project, featureVariants)
-            configureR2Generation(project, libraryVariants)
+          project.extensions[AppExtension::class].run {
+            configureR2Generation(project, applicationVariants)
           }
         }
         is FeaturePlugin -> {
