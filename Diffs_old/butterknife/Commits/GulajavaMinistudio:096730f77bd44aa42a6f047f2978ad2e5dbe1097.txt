diff --git a/build.gradle b/build.gradle
index f53d45af..1ba74a2a 100644
--- a/build.gradle
+++ b/build.gradle
@@ -1,15 +1,17 @@
+apply plugin: 'com.github.ben-manes.versions'
+
 buildscript {
   ext.versions = [
-      'minSdk': 9,
+      'minSdk': 14,
       'compileSdk': 26,
       'buildTools': '26.0.0',
 
-      'supportLibrary': '25.3.0',
-      'androidPlugin': '2.3.3',
+      'supportLibrary': '26.0.0',
+      'androidPlugin': '3.0.0-alpha8',
       'androidTools': '25.3.0',
-      'kotlin': '1.1.2-4',
+      'kotlin': '1.1.3-2',
 
-      'release': '8.6.0',
+      'release': '8.7.0',
   ]
 
   ext.deps = [
@@ -21,7 +23,7 @@ buildscript {
           'compat': "com.android.support:support-compat:${versions.supportLibrary}",
           'annotations': "com.android.support:support-annotations:${versions.supportLibrary}",
           'test': [
-              'runner': 'com.android.support.test:runner:0.5',
+              'runner': 'com.android.support.test:runner:1.0.0',
           ],
       ],
       'lint': [
@@ -31,10 +33,10 @@ buildscript {
           'tests': "com.android.tools.lint:lint-tests:${versions.androidTools}",
       ],
       javapoet: 'com.squareup:javapoet:1.9.0',
-      javaparser: 'com.github.javaparser:javaparser-core:3.2.8',
+      javaparser: 'com.github.javaparser:javaparser-core:3.3.0',
       junit: 'junit:junit:4.12',
       truth: 'com.google.truth:truth:0.34',
-      robolectric: 'org.robolectric:robolectric:3.4-rc2',
+      robolectric: 'org.robolectric:robolectric:3.4',
       compiletesting: 'com.google.testing.compile:compile-testing:0.11',
       'auto': [
           'service': 'com.google.auto.service:auto-service:1.0-rc3',
@@ -48,6 +50,21 @@ buildscript {
           'stdLibJre8': "org.jetbrains.kotlin:kotlin-stdlib-jre8:${versions.kotlin}",
       ]
   ]
+
+  repositories {
+    mavenCentral()
+    google()
+    maven {
+      url "https://plugins.gradle.org/m2/"
+    }
+  }
+
+  dependencies {
+    classpath deps.android.gradlePlugin
+    classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:${versions.kotlin}"
+    classpath 'com.github.ben-manes:gradle-versions-plugin:0.15.0'
+    classpath 'gradle.plugin.com.kageiit:lintrules:1.1.3'
+  }
 }
 
 subprojects { project ->
@@ -81,19 +98,4 @@ subprojects { project ->
       }
     }
   }
-
-  buildscript {
-    repositories {
-      mavenCentral()
-      google()
-      maven {
-        url "https://plugins.gradle.org/m2/"
-      }
-    }
-    dependencies {
-      classpath deps.android.gradlePlugin
-      classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:${versions.kotlin}"
-      classpath 'gradle.plugin.com.kageiit:lintrules:1.1.2'
-    }
-  }
 }
diff --git a/butterknife-annotations/build.gradle b/butterknife-annotations/build.gradle
index 28b5784e..f96179a7 100644
--- a/butterknife-annotations/build.gradle
+++ b/butterknife-annotations/build.gradle
@@ -1,4 +1,4 @@
-apply plugin: 'java'
+apply plugin: 'java-library'
 apply plugin: 'checkstyle'
 
 sourceCompatibility = JavaVersion.VERSION_1_7
@@ -11,7 +11,7 @@ checkstyle {
 
 dependencies {
   compileOnly deps.android.runtime
-  compile deps.support.annotations
+  api deps.support.annotations
 }
 
 apply from: rootProject.file('gradle/gradle-mvn-push.gradle')
diff --git a/butterknife-compiler/build.gradle b/butterknife-compiler/build.gradle
index f6693f89..ead6c3aa 100644
--- a/butterknife-compiler/build.gradle
+++ b/butterknife-compiler/build.gradle
@@ -1,4 +1,4 @@
-apply plugin: 'java'
+apply plugin: 'java-library'
 apply plugin: 'checkstyle'
 
 sourceCompatibility = JavaVersion.VERSION_1_7
@@ -13,14 +13,14 @@ for (File file : sdkHandler.sdkLoader.repositories) {
 }
 
 dependencies {
-  compile project(':butterknife-annotations')
-  compile deps.auto.common
-  compile deps.javapoet
+  implementation project(':butterknife-annotations')
+  implementation deps.auto.common
+  api deps.javapoet
   compileOnly deps.auto.service
   compileOnly files(org.gradle.internal.jvm.Jvm.current().getToolsJar())
 
-  testCompile deps.junit
-  testCompile deps.truth
+  testImplementation deps.junit
+  testImplementation deps.truth
 }
 
 checkstyle {
diff --git a/butterknife-gradle-plugin/build.gradle b/butterknife-gradle-plugin/build.gradle
index 0cb53e7a..74b81994 100644
--- a/butterknife-gradle-plugin/build.gradle
+++ b/butterknife-gradle-plugin/build.gradle
@@ -1,4 +1,4 @@
-apply plugin: 'java'
+apply plugin: 'java-library'
 apply plugin: 'kotlin'
 
 sourceCompatibility = JavaVersion.VERSION_1_8
@@ -7,15 +7,15 @@ targetCompatibility = JavaVersion.VERSION_1_8
 dependencies {
   compileOnly gradleApi()
 
-  compile deps.android.gradlePlugin
-  compile deps.javaparser
-  compile deps.javapoet
-  compile deps.kotlin.stdLibJre8
+  implementation deps.android.gradlePlugin
+  implementation deps.javaparser
+  implementation deps.javapoet
+  implementation deps.kotlin.stdLibJre8
 
-  testCompile deps.junit
-  testCompile deps.truth
-  testCompile deps.support.annotations
-  testCompile deps.compiletesting
+  testImplementation deps.junit
+  testImplementation deps.truth
+  testImplementation deps.support.annotations
+  testImplementation deps.compiletesting
 }
 
 apply from: rootProject.file('gradle/gradle-mvn-push.gradle')
diff --git a/butterknife-gradle-plugin/src/main/java/butterknife/plugin/ButterKnifePlugin.kt b/butterknife-gradle-plugin/src/main/java/butterknife/plugin/ButterKnifePlugin.kt
index da715e18..cf270a6d 100644
--- a/butterknife-gradle-plugin/src/main/java/butterknife/plugin/ButterKnifePlugin.kt
+++ b/butterknife-gradle-plugin/src/main/java/butterknife/plugin/ButterKnifePlugin.kt
@@ -24,7 +24,7 @@ class ButterKnifePlugin : Plugin<Project> {
 
   private fun applyPlugin(variants: DomainObjectSet<out BaseVariant>) {
     variants.all { variant ->
-      variant.outputs.forEach { output ->
+      variant.outputs.all { output ->
         val processResources = output.processResources
         // TODO proper task registered as source-generating?
         processResources.doLast {
diff --git a/butterknife-integration-test/build.gradle b/butterknife-integration-test/build.gradle
index 7bf1d4a2..a438fa91 100644
--- a/butterknife-integration-test/build.gradle
+++ b/butterknife-integration-test/build.gradle
@@ -32,13 +32,19 @@ android {
       proguardFile getDefaultProguardFile('proguard-android.txt')
     }
   }
+
+  testOptions {
+    unitTests {
+      includeAndroidResources = true
+    }
+  }
 }
 
 dependencies {
-  compile project(':butterknife')
+  implementation project(':butterknife')
   annotationProcessor project(':butterknife-compiler')
 
-  testCompile deps.junit
-  testCompile deps.truth
-  testCompile deps.robolectric
+  testImplementation deps.junit
+  testImplementation deps.truth
+  testImplementation deps.robolectric
 }
diff --git a/butterknife-lint/build.gradle b/butterknife-lint/build.gradle
index 183534bb..8a4b91ff 100644
--- a/butterknife-lint/build.gradle
+++ b/butterknife-lint/build.gradle
@@ -1,17 +1,17 @@
-apply plugin: 'java'
+apply plugin: 'java-library'
 apply plugin: 'checkstyle'
 
 sourceCompatibility = JavaVersion.VERSION_1_8
 targetCompatibility = JavaVersion.VERSION_1_8
 
 dependencies {
-  compile deps.lint.api
-  compile deps.lint.checks
+  implementation deps.lint.api
+  implementation deps.lint.checks
 
-  testCompile deps.junit
-  testCompile deps.lint.core
-  testCompile deps.lint.tests
-  testCompile(deps.truth) {
+  testImplementation deps.junit
+  testImplementation deps.lint.core
+  testImplementation deps.lint.tests
+  testImplementation(deps.truth) {
     exclude group: 'com.google.guava', module: 'guava'
   }
 }
diff --git a/butterknife/build.gradle b/butterknife/build.gradle
index ec41c4f8..18e1ac26 100644
--- a/butterknife/build.gradle
+++ b/butterknife/build.gradle
@@ -11,6 +11,12 @@ android {
     consumerProguardFiles 'proguard-rules.txt'
 
     testInstrumentationRunner 'android.support.test.runner.AndroidJUnitRunner'
+
+    javaCompileOptions {
+      annotationProcessorOptions {
+        includeCompileClasspath = true
+      }
+    }
   }
 
   lintOptions {
@@ -20,22 +26,22 @@ android {
 }
 
 dependencies {
-  compile project(':butterknife-annotations')
-  compile deps.support.annotations
-  compile deps.support.compat
+  api project(':butterknife-annotations')
+  implementation deps.support.annotations
+  api deps.support.compat
 
   lintRules project(':butterknife-lint')
 
-  androidTestCompile deps.junit
-  androidTestCompile deps.truth
-  androidTestCompile deps.support.test.runner
+  androidTestImplementation deps.junit
+  androidTestImplementation deps.truth
+  androidTestImplementation deps.support.test.runner
 
-  testCompile deps.junit
-  testCompile deps.truth
-  testCompile deps.compiletesting
-  testCompile files(getRuntimeJar())
-  testCompile files(org.gradle.internal.jvm.Jvm.current().getToolsJar())
-  testCompile project(':butterknife-compiler')
+  testImplementation deps.junit
+  testImplementation deps.truth
+  testImplementation deps.compiletesting
+  testImplementation files(getRuntimeJar())
+  testImplementation files(org.gradle.internal.jvm.Jvm.current().getToolsJar())
+  testImplementation project(':butterknife-compiler')
 }
 
 def getRuntimeJar() {
diff --git a/gradle.properties b/gradle.properties
index e9cc60b7..cd7bef1a 100644
--- a/gradle.properties
+++ b/gradle.properties
@@ -14,3 +14,5 @@ POM_LICENCE_DIST=repo
 
 POM_DEVELOPER_ID=jakewharton
 POM_DEVELOPER_NAME=Jake Wharton
+
+org.gradle.jvmargs=-Xmx1536M
\ No newline at end of file
diff --git a/gradle/wrapper/gradle-wrapper.properties b/gradle/wrapper/gradle-wrapper.properties
index ecb0a7cd..f185d090 100644
--- a/gradle/wrapper/gradle-wrapper.properties
+++ b/gradle/wrapper/gradle-wrapper.properties
@@ -3,4 +3,4 @@ distributionBase=GRADLE_USER_HOME
 distributionPath=wrapper/dists
 zipStoreBase=GRADLE_USER_HOME
 zipStorePath=wrapper/dists
-distributionUrl=https\://services.gradle.org/distributions/gradle-4.0-all.zip
+distributionUrl=https\://services.gradle.org/distributions/gradle-4.1-milestone-1-bin.zip
diff --git a/sample/app/build.gradle b/sample/app/build.gradle
index a6d84fcf..7570238c 100644
--- a/sample/app/build.gradle
+++ b/sample/app/build.gradle
@@ -30,13 +30,13 @@ android {
 }
 
 dependencies {
-  compile deps.release.runtime
+  implementation deps.release.runtime
   annotationProcessor deps.release.compiler
 
-  compile project(':sample:library')
+  implementation project(':sample:library')
 
-  testCompile deps.junit
-  testCompile deps.truth
+  testImplementation deps.junit
+  testImplementation deps.truth
 }
 
 afterEvaluate {
diff --git a/sample/app/src/main/AndroidManifest.xml b/sample/app/src/main/AndroidManifest.xml
index d8dc9f98..4549e5e3 100644
--- a/sample/app/src/main/AndroidManifest.xml
+++ b/sample/app/src/main/AndroidManifest.xml
@@ -5,10 +5,9 @@
 
   <application
       android:allowBackup="false"
-      android:fullBackupContent="false"
       android:label="@string/app_name"
       android:name=".SimpleApp"
-      tools:ignore="MissingApplicationIcon,UnusedAttribute">
+      tools:ignore="GoogleAppIndexingWarning,MissingApplicationIcon">
 
     <activity
         android:label="@string/app_name"
diff --git a/sample/library/build.gradle b/sample/library/build.gradle
index 089222b7..27111f3e 100644
--- a/sample/library/build.gradle
+++ b/sample/library/build.gradle
@@ -1,4 +1,10 @@
 buildscript {
+  repositories {
+    mavenCentral()
+    jcenter()
+    google()
+  }
+
   dependencies {
     classpath "com.jakewharton:butterknife-gradle-plugin:${versions.release}"
   }
@@ -17,9 +23,9 @@ android {
 }
 
 dependencies {
-  compile deps.release.runtime
+  implementation deps.release.runtime
   annotationProcessor deps.release.compiler
 
-  testCompile deps.junit
-  testCompile deps.truth
+  testImplementation deps.junit
+  testImplementation deps.truth
 }
diff --git a/sample/library/src/main/java/com/example/butterknife/library/SimpleActivity.java b/sample/library/src/main/java/com/example/butterknife/library/SimpleActivity.java
index 765bdf23..5f40f5af 100644
--- a/sample/library/src/main/java/com/example/butterknife/library/SimpleActivity.java
+++ b/sample/library/src/main/java/com/example/butterknife/library/SimpleActivity.java
@@ -1,5 +1,6 @@
 package com.example.butterknife.library;
 
+import android.annotation.SuppressLint;
 import android.app.Activity;
 import android.os.Bundle;
 import android.support.annotation.NonNull;
@@ -54,6 +55,7 @@
     Toast.makeText(this, "You clicked: " + adapter.getItem(position), LENGTH_SHORT).show();
   }
 
+  @SuppressLint("SetTextI18n") //
   @Override protected void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);
     setContentView(R.layout.simple_activity);
diff --git a/sample/library/src/main/java/com/example/butterknife/library/SimpleAdapter.java b/sample/library/src/main/java/com/example/butterknife/library/SimpleAdapter.java
index 921096d6..567f560b 100644
--- a/sample/library/src/main/java/com/example/butterknife/library/SimpleAdapter.java
+++ b/sample/library/src/main/java/com/example/butterknife/library/SimpleAdapter.java
@@ -1,5 +1,6 @@
 package com.example.butterknife.library;
 
+import android.annotation.SuppressLint;
 import android.content.Context;
 import android.view.LayoutInflater;
 import android.view.View;
@@ -30,6 +31,7 @@ public SimpleAdapter(Context context) {
     return position;
   }
 
+  @SuppressLint("SetTextI18n") //
   @Override public View getView(int position, View view, ViewGroup parent) {
     ViewHolder holder;
     if (view != null) {
diff --git a/settings.gradle b/settings.gradle
index cc28c278..cd8829a5 100644
--- a/settings.gradle
+++ b/settings.gradle
@@ -5,7 +5,7 @@ include ':butterknife-gradle-plugin'
 include ':butterknife-lint'
 include ':butterknife-integration-test'
 
-include ':sample:app'
-include ':sample:library'
+//include ':sample:app'
+//include ':sample:library'
 
 rootProject.name = 'butterknife-parent'
