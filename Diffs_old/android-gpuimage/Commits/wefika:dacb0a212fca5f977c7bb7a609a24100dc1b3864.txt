diff --git a/library/build/bundles/debug/AndroidManifest.xml b/library/build/bundles/debug/AndroidManifest.xml
index 504e7612..0e6aa6c1 100644
--- a/library/build/bundles/debug/AndroidManifest.xml
+++ b/library/build/bundles/debug/AndroidManifest.xml
@@ -1,4 +1,4 @@
-<!-- From: file:/Users/blazsolar/Documents/workspace/fika/android/Fika2Project/libraries/android-gpuimage/library/AndroidManifest.xml --><manifest xmlns:android="http://schemas.android.com/apk/res/android" android:versionCode="1" android:versionName="1.0" package="jp.co.cyberagent.android.gpuimage">
+<manifest xmlns:android="http://schemas.android.com/apk/res/android" android:versionCode="1" android:versionName="1.0" package="jp.co.cyberagent.android.gpuimage">
 
     <uses-sdk android:minSdkVersion="14" android:targetSdkVersion="19"/>
 
diff --git a/library/build/bundles/release/AndroidManifest.xml b/library/build/bundles/release/AndroidManifest.xml
index 504e7612..0e6aa6c1 100644
--- a/library/build/bundles/release/AndroidManifest.xml
+++ b/library/build/bundles/release/AndroidManifest.xml
@@ -1,4 +1,4 @@
-<!-- From: file:/Users/blazsolar/Documents/workspace/fika/android/Fika2Project/libraries/android-gpuimage/library/AndroidManifest.xml --><manifest xmlns:android="http://schemas.android.com/apk/res/android" android:versionCode="1" android:versionName="1.0" package="jp.co.cyberagent.android.gpuimage">
+<manifest xmlns:android="http://schemas.android.com/apk/res/android" android:versionCode="1" android:versionName="1.0" package="jp.co.cyberagent.android.gpuimage">
 
     <uses-sdk android:minSdkVersion="14" android:targetSdkVersion="19"/>
 
diff --git a/library/build/bundles/release/classes.jar b/library/build/bundles/release/classes.jar
index 40c1d6b9..997a68fd 100644
Binary files a/library/build/bundles/release/classes.jar and b/library/build/bundles/release/classes.jar differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/BuildConfig.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/BuildConfig.class
new file mode 100644
index 00000000..2cd6f5d2
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/BuildConfig.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$1.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$1.class
new file mode 100644
index 00000000..f2252f64
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$1.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageFileTask.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageFileTask.class
new file mode 100644
index 00000000..2a65f4f0
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageFileTask.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageTask.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageTask.class
new file mode 100644
index 00000000..4b8f9a48
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageTask.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageUriTask.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageUriTask.class
new file mode 100644
index 00000000..4a0cb2cd
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageUriTask.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$OnPictureSavedListener.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$OnPictureSavedListener.class
new file mode 100644
index 00000000..bbfdf4df
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$OnPictureSavedListener.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$ResponseListener.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$ResponseListener.class
new file mode 100644
index 00000000..f58f4e38
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$ResponseListener.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask$1$1.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask$1$1.class
new file mode 100644
index 00000000..b9f62144
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask$1$1.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask$1.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask$1.class
new file mode 100644
index 00000000..6091d6e5
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask$1.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask.class
new file mode 100644
index 00000000..d22afaee
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$ScaleType.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$ScaleType.class
new file mode 100644
index 00000000..9320ce6b
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage$ScaleType.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage.class
new file mode 100644
index 00000000..5c8b065c
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage3x3ConvolutionFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage3x3ConvolutionFilter.class
new file mode 100644
index 00000000..38691473
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage3x3ConvolutionFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage3x3TextureSamplingFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage3x3TextureSamplingFilter.class
new file mode 100644
index 00000000..b4734d75
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImage3x3TextureSamplingFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageAddBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageAddBlendFilter.class
new file mode 100644
index 00000000..6d5349e7
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageAddBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageAlphaBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageAlphaBlendFilter.class
new file mode 100644
index 00000000..e6f96f2b
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageAlphaBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageBrightnessFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageBrightnessFilter.class
new file mode 100644
index 00000000..341960ff
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageBrightnessFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageChromaKeyBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageChromaKeyBlendFilter.class
new file mode 100644
index 00000000..f509723f
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageChromaKeyBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageColorBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageColorBlendFilter.class
new file mode 100644
index 00000000..32979907
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageColorBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageColorBurnBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageColorBurnBlendFilter.class
new file mode 100644
index 00000000..ee39e644
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageColorBurnBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageColorDodgeBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageColorDodgeBlendFilter.class
new file mode 100644
index 00000000..a33cab81
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageColorDodgeBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageColorInvertFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageColorInvertFilter.class
new file mode 100644
index 00000000..5c360481
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageColorInvertFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageColorMatrixFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageColorMatrixFilter.class
new file mode 100644
index 00000000..9f875c57
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageColorMatrixFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageContrastFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageContrastFilter.class
new file mode 100644
index 00000000..538e29f0
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageContrastFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageDarkenBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageDarkenBlendFilter.class
new file mode 100644
index 00000000..00cf2296
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageDarkenBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageDifferenceBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageDifferenceBlendFilter.class
new file mode 100644
index 00000000..3f6e7bb3
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageDifferenceBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageDirectionalSobelEdgeDetectionFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageDirectionalSobelEdgeDetectionFilter.class
new file mode 100644
index 00000000..ccd4b014
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageDirectionalSobelEdgeDetectionFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageDissolveBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageDissolveBlendFilter.class
new file mode 100644
index 00000000..c2446906
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageDissolveBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageDivideBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageDivideBlendFilter.class
new file mode 100644
index 00000000..7471c085
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageDivideBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageEmbossFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageEmbossFilter.class
new file mode 100644
index 00000000..468d3a81
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageEmbossFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageExclusionBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageExclusionBlendFilter.class
new file mode 100644
index 00000000..d0b17720
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageExclusionBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageExposureFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageExposureFilter.class
new file mode 100644
index 00000000..de0e79ec
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageExposureFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$1.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$1.class
new file mode 100644
index 00000000..20ff76ce
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$1.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$2.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$2.class
new file mode 100644
index 00000000..5a7ca662
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$2.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$3.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$3.class
new file mode 100644
index 00000000..774c199a
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$3.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$4.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$4.class
new file mode 100644
index 00000000..2536365c
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$4.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$5.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$5.class
new file mode 100644
index 00000000..d9619e65
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$5.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$6.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$6.class
new file mode 100644
index 00000000..24fdcc35
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$6.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$7.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$7.class
new file mode 100644
index 00000000..cb4e9329
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$7.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$8.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$8.class
new file mode 100644
index 00000000..1f17cbe6
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$8.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$9.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$9.class
new file mode 100644
index 00000000..65ae0f82
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter$9.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter.class
new file mode 100644
index 00000000..d5cb70b4
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilterGroup.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilterGroup.class
new file mode 100644
index 00000000..f2d93937
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageFilterGroup.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageGammaFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageGammaFilter.class
new file mode 100644
index 00000000..a731a592
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageGammaFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageGrayscaleFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageGrayscaleFilter.class
new file mode 100644
index 00000000..aaf5faa5
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageGrayscaleFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageHardLightBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageHardLightBlendFilter.class
new file mode 100644
index 00000000..5d22b739
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageHardLightBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageHighlightShadowFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageHighlightShadowFilter.class
new file mode 100644
index 00000000..a0729210
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageHighlightShadowFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageHueBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageHueBlendFilter.class
new file mode 100644
index 00000000..460c689d
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageHueBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageHueFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageHueFilter.class
new file mode 100644
index 00000000..ef57632d
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageHueFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageLightenBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageLightenBlendFilter.class
new file mode 100644
index 00000000..d8d5c5fb
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageLightenBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageLinearBurnBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageLinearBurnBlendFilter.class
new file mode 100644
index 00000000..69b89d24
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageLinearBurnBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageLookupFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageLookupFilter.class
new file mode 100644
index 00000000..098d5fd8
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageLookupFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageLuminosityBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageLuminosityBlendFilter.class
new file mode 100644
index 00000000..4ee2aec1
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageLuminosityBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageMixBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageMixBlendFilter.class
new file mode 100644
index 00000000..50d8d852
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageMixBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageMonochromeFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageMonochromeFilter.class
new file mode 100644
index 00000000..e2e8322e
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageMonochromeFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageMultiplyBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageMultiplyBlendFilter.class
new file mode 100644
index 00000000..1a3388bf
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageMultiplyBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageNativeLibrary.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageNativeLibrary.class
new file mode 100644
index 00000000..95bc8d16
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageNativeLibrary.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageNormalBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageNormalBlendFilter.class
new file mode 100644
index 00000000..bd4a1596
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageNormalBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageOpacityFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageOpacityFilter.class
new file mode 100644
index 00000000..d70bb0f4
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageOpacityFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageOverlayBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageOverlayBlendFilter.class
new file mode 100644
index 00000000..f29902ca
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageOverlayBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImagePixelationFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImagePixelationFilter.class
new file mode 100644
index 00000000..6f87524c
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImagePixelationFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImagePosterizeFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImagePosterizeFilter.class
new file mode 100644
index 00000000..91fdb1ae
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImagePosterizeFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRGBFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRGBFilter.class
new file mode 100644
index 00000000..e327f369
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRGBFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$1.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$1.class
new file mode 100644
index 00000000..c26f8b28
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$1.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$2.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$2.class
new file mode 100644
index 00000000..74078367
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$2.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$3.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$3.class
new file mode 100644
index 00000000..8db57ef6
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$3.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$4.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$4.class
new file mode 100644
index 00000000..ec527d06
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$4.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$5.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$5.class
new file mode 100644
index 00000000..2fe8f83f
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$5.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer.class
new file mode 100644
index 00000000..4840dc80
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageRenderer.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSaturationBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSaturationBlendFilter.class
new file mode 100644
index 00000000..5c7d868e
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSaturationBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSaturationFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSaturationFilter.class
new file mode 100644
index 00000000..47dc0d1f
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSaturationFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageScreenBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageScreenBlendFilter.class
new file mode 100644
index 00000000..1cfb6b44
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageScreenBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSepiaFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSepiaFilter.class
new file mode 100644
index 00000000..1bbce941
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSepiaFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSharpenFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSharpenFilter.class
new file mode 100644
index 00000000..ba761b9c
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSharpenFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSobelEdgeDetection.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSobelEdgeDetection.class
new file mode 100644
index 00000000..56f64a34
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSobelEdgeDetection.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSoftLightBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSoftLightBlendFilter.class
new file mode 100644
index 00000000..b11d6b8d
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSoftLightBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSourceOverBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSourceOverBlendFilter.class
new file mode 100644
index 00000000..68af840a
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSourceOverBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSubtractBlendFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSubtractBlendFilter.class
new file mode 100644
index 00000000..71b8446a
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageSubtractBlendFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageToneCurveFilter$1.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageToneCurveFilter$1.class
new file mode 100644
index 00000000..9112fcd5
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageToneCurveFilter$1.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageToneCurveFilter$2.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageToneCurveFilter$2.class
new file mode 100644
index 00000000..3d03c5f5
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageToneCurveFilter$2.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageToneCurveFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageToneCurveFilter.class
new file mode 100644
index 00000000..63663d5b
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageToneCurveFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageTwoInputFilter$1.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageTwoInputFilter$1.class
new file mode 100644
index 00000000..6d53e00d
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageTwoInputFilter$1.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageTwoInputFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageTwoInputFilter.class
new file mode 100644
index 00000000..ca50eca6
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageTwoInputFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageView.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageView.class
new file mode 100644
index 00000000..65e57188
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageView.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageVignetteFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageVignetteFilter.class
new file mode 100644
index 00000000..a8456759
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageVignetteFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageWhiteBalanceFilter.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageWhiteBalanceFilter.class
new file mode 100644
index 00000000..677180a1
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/GPUImageWhiteBalanceFilter.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/OpenGlUtils.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/OpenGlUtils.class
new file mode 100644
index 00000000..533bc9f9
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/OpenGlUtils.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/PixelBuffer.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/PixelBuffer.class
new file mode 100644
index 00000000..b876093e
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/PixelBuffer.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/Rotation.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/Rotation.class
new file mode 100644
index 00000000..d493a894
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/Rotation.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/util/TextureRotationUtil$1.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/util/TextureRotationUtil$1.class
new file mode 100644
index 00000000..75311685
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/util/TextureRotationUtil$1.class differ
diff --git a/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/util/TextureRotationUtil.class b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/util/TextureRotationUtil.class
new file mode 100644
index 00000000..e684af45
Binary files /dev/null and b/library/build/classes/debug/jp/co/cyberagent/android/gpuimage/util/TextureRotationUtil.class differ
diff --git a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$1.class b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$1.class
index 020b825b..b04e754b 100644
Binary files a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$1.class and b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$1.class differ
diff --git a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageFileTask.class b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageFileTask.class
index 4263092e..cbd20f41 100644
Binary files a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageFileTask.class and b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageFileTask.class differ
diff --git a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageTask.class b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageTask.class
index 86ec3900..f4721b32 100644
Binary files a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageTask.class and b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageTask.class differ
diff --git a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageUriTask.class b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageUriTask.class
index c7910aac..0f5f67db 100644
Binary files a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageUriTask.class and b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$LoadImageUriTask.class differ
diff --git a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask$1$1.class b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask$1$1.class
index d663bdd7..6db247c2 100644
Binary files a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask$1$1.class and b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask$1$1.class differ
diff --git a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask$1.class b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask$1.class
index 1dbf897d..b3d4070a 100644
Binary files a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask$1.class and b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask$1.class differ
diff --git a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask.class b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask.class
index 53839b9e..6ee45926 100644
Binary files a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask.class and b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$SaveTask.class differ
diff --git a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$ScaleType.class b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$ScaleType.class
index 78d8bdbf..80279300 100644
Binary files a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$ScaleType.class and b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage$ScaleType.class differ
diff --git a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage.class b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage.class
index 8df4df79..5975ecbd 100644
Binary files a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage.class and b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImage.class differ
diff --git a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$1.class b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$1.class
index 4f0e7c92..b5b1c8ad 100644
Binary files a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$1.class and b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$1.class differ
diff --git a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$2.class b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$2.class
index 064915e3..a71026a3 100644
Binary files a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$2.class and b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$2.class differ
diff --git a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$3.class b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$3.class
index 0e80f28f..9debeecd 100644
Binary files a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$3.class and b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$3.class differ
diff --git a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$4.class b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$4.class
index 1be896e5..3c475ead 100644
Binary files a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$4.class and b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$4.class differ
diff --git a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$5.class b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$5.class
index cf1170f5..7b295117 100644
Binary files a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$5.class and b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer$5.class differ
diff --git a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer.class b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer.class
index 85d59e8b..c8fd9e83 100644
Binary files a/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer.class and b/library/build/classes/release/jp/co/cyberagent/android/gpuimage/GPUImageRenderer.class differ
diff --git a/library/build/libs/library.aar b/library/build/libs/library.aar
index 83796695..87ad8b8b 100644
Binary files a/library/build/libs/library.aar and b/library/build/libs/library.aar differ
diff --git a/library/src/jp/co/cyberagent/android/gpuimage/GPUImage.java b/library/src/jp/co/cyberagent/android/gpuimage/GPUImage.java
index 06b65d4b..c0ce6136 100644
--- a/library/src/jp/co/cyberagent/android/gpuimage/GPUImage.java
+++ b/library/src/jp/co/cyberagent/android/gpuimage/GPUImage.java
@@ -38,11 +38,13 @@
 import android.view.Display;
 import android.view.WindowManager;
 
-import java.io.*;
-import java.net.MalformedURLException;
+import java.io.File;
+import java.io.FileNotFoundException;
+import java.io.FileOutputStream;
+import java.io.IOException;
+import java.io.InputStream;
 import java.net.URL;
 import java.util.List;
-import java.util.concurrent.Semaphore;
 
 /**
  * The main accessor for GPUImage functionality. This class helps to do common
@@ -165,6 +167,15 @@ public void setFilter(final GPUImageFilter filter) {
         requestRender();
     }
 
+    /**
+     * * Gets the filter which is applied to the image.
+     *
+     * @return filter the currently used filter
+     */
+    public GPUImageFilter getFilter() {
+        return mFilter;
+    }
+
     /**
      * Sets the image on which the filter should be applied.
      * 
@@ -254,21 +265,24 @@ public Bitmap getBitmapWithFilterApplied() {
     public Bitmap getBitmapWithFilterApplied(final Bitmap bitmap) {
         if (mGlSurfaceView != null) {
             mRenderer.deleteImage();
-            final Semaphore lock = new Semaphore(0);
             mRenderer.runOnDraw(new Runnable() {
 
                 @Override
                 public void run() {
-                    mFilter.destroy();
-                    lock.release();
+                    synchronized (mFilter) {
+                        mFilter.destroy();
+                        mFilter.notify();
+                    }
                 }
             });
             requestRender();
 
-            try {
-                lock.acquire();
-            } catch (InterruptedException e) {
-                e.printStackTrace();
+            synchronized (mFilter) {
+                try {
+                    mFilter.wait();
+                } catch (InterruptedException e) {
+                    e.printStackTrace();
+                }
             }
         }
 
@@ -475,8 +489,9 @@ protected int getImageOrientation() throws IOException {
                 return 0;
             }
 
-            cursor.moveToFirst();
-            return cursor.getInt(0);
+            int orientation = cursor.getInt(0);
+            cursor.close();
+            return orientation;
         }
     }
 
@@ -543,6 +558,7 @@ protected Bitmap doInBackground(Void... params) {
         @Override
         protected void onPostExecute(Bitmap bitmap) {
             super.onPostExecute(bitmap);
+            mGPUImage.deleteImage();
             mGPUImage.setImage(bitmap);
         }
 
diff --git a/library/src/jp/co/cyberagent/android/gpuimage/GPUImageRenderer.java b/library/src/jp/co/cyberagent/android/gpuimage/GPUImageRenderer.java
index ac2e7c97..a4e28eae 100644
--- a/library/src/jp/co/cyberagent/android/gpuimage/GPUImageRenderer.java
+++ b/library/src/jp/co/cyberagent/android/gpuimage/GPUImageRenderer.java
@@ -19,16 +19,13 @@
 import android.annotation.TargetApi;
 import android.graphics.Bitmap;
 import android.graphics.Canvas;
+import android.graphics.PixelFormat;
 import android.graphics.SurfaceTexture;
 import android.hardware.Camera;
 import android.hardware.Camera.PreviewCallback;
-import android.hardware.Camera.Size;
 import android.opengl.GLES20;
 import android.opengl.GLSurfaceView.Renderer;
-import jp.co.cyberagent.android.gpuimage.util.TextureRotationUtil;
 
-import javax.microedition.khronos.egl.EGLConfig;
-import javax.microedition.khronos.opengles.GL10;
 import java.io.IOException;
 import java.nio.ByteBuffer;
 import java.nio.ByteOrder;
@@ -37,6 +34,11 @@
 import java.util.LinkedList;
 import java.util.Queue;
 
+import javax.microedition.khronos.egl.EGLConfig;
+import javax.microedition.khronos.opengles.GL10;
+
+import jp.co.cyberagent.android.gpuimage.util.TextureRotationUtil;
+
 import static jp.co.cyberagent.android.gpuimage.util.TextureRotationUtil.TEXTURE_NO_ROTATION;
 
 @TargetApi(11)
@@ -121,7 +123,7 @@ public void onDrawFrame(final GL10 gl) {
 
     @Override
     public void onPreviewFrame(final byte[] data, final Camera camera) {
-        final Size previewSize = camera.getParameters().getPreviewSize();
+        final Camera.Size previewSize = camera.getParameters().getPreviewSize();
         if (mGLRgbBuffer == null) {
             mGLRgbBuffer = IntBuffer.allocate(previewSize.width * previewSize.height);
         }
@@ -153,7 +155,11 @@ public void run() {
                 mSurfaceTexture = new SurfaceTexture(textures[0]);
                 try {
                     camera.setPreviewTexture(mSurfaceTexture);
-                    camera.setPreviewCallback(GPUImageRenderer.this);
+                    camera.setPreviewCallbackWithBuffer(GPUImageRenderer.this);
+                    Camera.Size previewSize = camera.getParameters().getPreviewSize();
+                    PixelFormat p = new PixelFormat();
+                    PixelFormat.getPixelFormatInfo(camera.getParameters().getPreviewFormat(),p);
+                    camera.addCallbackBuffer(new byte[previewSize.width * previewSize.height * p.bitsPerPixel / 8]);
                     camera.startPreview();
                 } catch (IOException e) {
                     e.printStackTrace();
