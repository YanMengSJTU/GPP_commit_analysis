diff --git a/build.gradle b/build.gradle
index 94df0e4f..ad97ea2a 100644
--- a/build.gradle
+++ b/build.gradle
@@ -5,7 +5,7 @@ buildscript {
         jcenter()
     }
     dependencies {
-        classpath 'com.android.tools.build:gradle:1.0.0'
+        classpath 'com.android.tools.build:gradle:1.+'
     }
 }
 
diff --git a/library/android-artifacts.gradle b/library/android-artifacts.gradle
index f8d302de..1d2f8dac 100644
--- a/library/android-artifacts.gradle
+++ b/library/android-artifacts.gradle
@@ -1,6 +1,7 @@
 task androidJavadocs(type: Javadoc) {
     source = android.sourceSets.main.java.srcDirs
-    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))
+    ext.androidJar = "${android.sdkDirectory}/platforms/${android.compileSdkVersion}/android.jar"
+    classpath += files(ext.androidJar)
 }
 
 task androidJavadocsJar(type: Jar, dependsOn: androidJavadocs) {
@@ -8,6 +9,7 @@ task androidJavadocsJar(type: Jar, dependsOn: androidJavadocs) {
     from androidJavadocs.destinationDir
 }
 
+
 task androidSourcesJar(type: Jar) {
     classifier = 'sources'
     from android.sourceSets.main.java.sourceFiles
diff --git a/sample/build.gradle b/sample/build.gradle
index 5057072e..3f4bdf1e 100644
--- a/sample/build.gradle
+++ b/sample/build.gradle
@@ -34,6 +34,5 @@ repositories {
 
 dependencies {
     compile project(':library')
-//    compile 'jp.co.cyberagent.android.gpuimage:gpuimage-library:+@aar'
-    compile 'com.android.support:support-v4:21.+'
+    compile 'com.android.support:support-v4:22.+'
 }
\ No newline at end of file
