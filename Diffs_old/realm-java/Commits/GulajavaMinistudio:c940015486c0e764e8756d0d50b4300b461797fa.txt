diff --git a/CHANGELOG.md b/CHANGELOG.md
index 427252ca7d..b0e3fdf20c 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,3 +1,20 @@
+## 5.15.1(2019-09-09)
+
+### Enhancements
+* None.
+
+### Fixed
+* Projects with `flatDirs` repositories defined crashed the build with `MissingPropertyException`. (Issue [#6610](https://github.com/realm/realm-java/issues/6610), since 5.15.0).
+
+### Compatibility
+* Realm Object Server: 3.21.0 or later.
+* File format: Generates Realms with format v9 (Reads and upgrades all previous formats)
+* APIs are backwards compatible with all previous release of realm-java in the 5.x.y series.
+
+### Internal
+* None.
+
+
 ## 5.15.0(2019-09-05)
 
 ### Enhancements
diff --git a/gradle-plugin/src/main/groovy/io/realm/gradle/Realm.groovy b/gradle-plugin/src/main/groovy/io/realm/gradle/Realm.groovy
index f1eff15f9c..41398bfdc5 100644
--- a/gradle-plugin/src/main/groovy/io/realm/gradle/Realm.groovy
+++ b/gradle-plugin/src/main/groovy/io/realm/gradle/Realm.groovy
@@ -76,7 +76,7 @@ class Realm implements Plugin<Project> {
             // The Android Gradle Plugin automatically adds the local maven repository
             // found in the Android SDK, so we need to filter that out.
             if (project.repositories.findAll {
-                def url = it.url.toString()
+                def url = (it.hasProperty("url")) ? it.url.toString() : ""
                 if (url.endsWith('/')) {
                     url = url.substring(0, url.length() - 1)
                 }
diff --git a/gradle-plugin/src/test/groovy/io/realm/gradle/PluginTest.groovy b/gradle-plugin/src/test/groovy/io/realm/gradle/PluginTest.groovy
index cfe500208a..3ced4b57ed 100644
--- a/gradle-plugin/src/test/groovy/io/realm/gradle/PluginTest.groovy
+++ b/gradle-plugin/src/test/groovy/io/realm/gradle/PluginTest.groovy
@@ -187,6 +187,54 @@ class PluginTest {
         assertEquals('dl.google.com', project.repositories.last().url.host)
     }
 
+    // Test for https://github.com/realm/realm-java/issues/6610
+    @Test
+    void pluginAddsRightRepositories_withFlatDirs() {
+        project.buildscript {
+            repositories {
+                jcenter()
+                maven {
+                    url 'https://maven.google.com/'
+                }
+            }
+            dependencies {
+                classpath "com.android.tools.build:gradle:${projectDependencies.get("GRADLE_BUILD_TOOLS")}"
+            }
+        }
+
+        project.repositories {
+            flatDir {
+                dirs 'libs'
+            }
+            google()
+        }
+
+        def manifest = project.file("src/main/AndroidManifest.xml")
+        manifest.parentFile.mkdirs()
+        manifest.text = '<manifest xmlns:android="http://schemas.android.com/apk/res/android"  package="com.realm.test"></manifest>'
+
+        project.apply plugin: 'com.android.application'
+        project.apply plugin: 'realm-android'
+
+        project.android {
+            compileSdkVersion 27
+
+            defaultConfig {
+                minSdkVersion 16
+                targetSdkVersion 27
+            }
+        }
+
+        project.evaluate()
+
+        assertEquals(2, project.buildscript.repositories.size())
+        assertEquals('maven.google.com', project.buildscript.repositories.last().url.host)
+
+        assertEquals(5, project.repositories.size())
+        assertEquals('dl.google.com', project.repositories.last().url.host)
+    }
+
+
     @Test
     void pluginAddsRightRepositories_withRepositoriesSetAfterPluginIsApplied() {
         project.buildscript {
