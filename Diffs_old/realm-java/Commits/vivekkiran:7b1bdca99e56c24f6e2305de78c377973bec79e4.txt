diff --git a/README.md b/README.md
index eb5523d646..6b2a3f20be 100644
--- a/README.md
+++ b/README.md
@@ -67,7 +67,7 @@ In case you don't want to use the precompiled version, you can build Realm yours
 ### Prerequisites
 
  * Download the [**JDK 8**](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html) from Oracle and install it.
- * Download & install the Android SDK **Build-Tools 27.0.1**, **Android Oreo (API 27)** (for example through Android Studio’s **Android SDK Manager**).
+ * Download & install the Android SDK **Build-Tools 27.0.2**, **Android Oreo (API 27)** (for example through Android Studio’s **Android SDK Manager**).
  * Install CMake from SDK manager in Android Studio ("SDK Tools" -> "CMake").
  * If you use Android Studio, Android Studio 3.0 or higher is required.
 
diff --git a/examples/build.gradle b/examples/build.gradle
index a801b01386..d7299615a6 100644
--- a/examples/build.gradle
+++ b/examples/build.gradle
@@ -1,6 +1,6 @@
 project.ext.sdkVersion = 27
 project.ext.minSdkVersion = 15
-project.ext.buildTools = '27.0.1'
+project.ext.buildTools = '27.0.2'
 
 // Don't cache SNAPSHOT (changing) dependencies.
 configurations.all {
diff --git a/examples/gradle/wrapper/gradle-wrapper.jar b/examples/gradle/wrapper/gradle-wrapper.jar
index 99340b4ad1..01b8bf6b1f 100644
Binary files a/examples/gradle/wrapper/gradle-wrapper.jar and b/examples/gradle/wrapper/gradle-wrapper.jar differ
diff --git a/examples/kotlinExample/src/main/res/layout/activity_realm_basic_example.xml b/examples/kotlinExample/src/main/res/layout/activity_realm_basic_example.xml
index 8c5a06512e..38d19031c7 100644
--- a/examples/kotlinExample/src/main/res/layout/activity_realm_basic_example.xml
+++ b/examples/kotlinExample/src/main/res/layout/activity_realm_basic_example.xml
@@ -6,8 +6,7 @@
     android:paddingTop="@dimen/activity_vertical_margin"
     android:paddingBottom="@dimen/activity_vertical_margin"
     android:layout_width="match_parent"
-    android:layout_height="match_parent"
-    tools:keep="@layout/activity_realm_basic_example">
+    android:layout_height="match_parent">
     <LinearLayout
         android:orientation="vertical"
         android:layout_width="match_parent"
diff --git a/examples/multiprocessExample/build.gradle b/examples/multiprocessExample/build.gradle
index f4e84dceaf..8950b28f94 100644
--- a/examples/multiprocessExample/build.gradle
+++ b/examples/multiprocessExample/build.gradle
@@ -25,6 +25,6 @@ android {
 }
 
 dependencies {
-    implementation 'com.android.support:appcompat-v7:27.0.1'
+    implementation 'com.android.support:appcompat-v7:27.0.2'
 }
 
diff --git a/examples/newsreaderExample/build.gradle b/examples/newsreaderExample/build.gradle
index 60271b0fbd..6bfde58102 100644
--- a/examples/newsreaderExample/build.gradle
+++ b/examples/newsreaderExample/build.gradle
@@ -39,9 +39,9 @@ android {
 
 dependencies {
     //noinspection GradleDependency
-    implementation 'com.android.support:appcompat-v7:27.0.1'
+    implementation 'com.android.support:appcompat-v7:27.0.2'
     //noinspection GradleDependency
-    implementation 'com.android.support:design:27.0.1'
+    implementation 'com.android.support:design:27.0.2'
     implementation 'com.jakewharton.timber:timber:4.5.1'
     implementation 'com.jakewharton:butterknife:8.5.1'
     implementation 'com.squareup.retrofit2:adapter-rxjava2:2.3.0'
diff --git a/examples/newsreaderExample/src/main/res/layout/content_details.xml b/examples/newsreaderExample/src/main/res/layout/content_details.xml
index a0d9769652..5f2aa99de1 100644
--- a/examples/newsreaderExample/src/main/res/layout/content_details.xml
+++ b/examples/newsreaderExample/src/main/res/layout/content_details.xml
@@ -10,8 +10,7 @@
     android:paddingRight="@dimen/activity_horizontal_margin"
     android:paddingTop="@dimen/activity_vertical_margin"
     app:layout_behavior="@string/appbar_scrolling_view_behavior"
-    tools:context=".ui.details.DetailsActivity"
-    tools:showIn="@layout/activity_details">
+    tools:context=".ui.details.DetailsActivity">
 
     <TextView
         android:id="@+id/date_text"
diff --git a/examples/newsreaderExample/src/main/res/layout/content_main.xml b/examples/newsreaderExample/src/main/res/layout/content_main.xml
index 5704d6c6a8..8ff69382c4 100644
--- a/examples/newsreaderExample/src/main/res/layout/content_main.xml
+++ b/examples/newsreaderExample/src/main/res/layout/content_main.xml
@@ -8,8 +8,7 @@
     android:paddingBottom="0dp"
     android:paddingTop="0dp"
     app:layout_behavior="@string/appbar_scrolling_view_behavior"
-    tools:context=".ui.main.MainActivity"
-    tools:showIn="@layout/activity_main">
+    tools:context=".ui.main.MainActivity">
 
     <android.support.v4.widget.SwipeRefreshLayout
         android:id="@+id/refresh_view"
diff --git a/examples/objectServerExample/build.gradle b/examples/objectServerExample/build.gradle
index 9f7afb9744..f7520d4618 100644
--- a/examples/objectServerExample/build.gradle
+++ b/examples/objectServerExample/build.gradle
@@ -57,8 +57,8 @@ realm {
 }
 
 dependencies {
-    implementation 'com.android.support:appcompat-v7:27.0.1'
-    implementation 'com.android.support:design:27.0.1'
+    implementation 'com.android.support:appcompat-v7:27.0.2'
+    implementation 'com.android.support:design:27.0.2'
     implementation 'me.zhanghai.android.materialprogressbar:library:1.3.0'
     implementation 'com.jakewharton:butterknife:8.8.1'//TODO:Can be refactored with Native Android Data Binding
     annotationProcessor 'com.jakewharton:butterknife-compiler:8.8.1'//TODO:Can be refactored with Native Android Data Binding
diff --git a/examples/rxJavaExample/build.gradle b/examples/rxJavaExample/build.gradle
index d08e9d7f73..36ccf169ca 100644
--- a/examples/rxJavaExample/build.gradle
+++ b/examples/rxJavaExample/build.gradle
@@ -37,7 +37,7 @@ android {
 dependencies {
     implementation 'io.reactivex.rxjava2:rxandroid:2.0.1'
     implementation 'io.reactivex.rxjava2:rxjava:2.1.0'
-    implementation 'com.android.support:appcompat-v7:27.0.1'
+    implementation 'com.android.support:appcompat-v7:27.0.2'
     implementation 'com.jakewharton.rxbinding2:rxbinding:2.0.0'
     implementation 'com.squareup.retrofit2:adapter-rxjava2:2.3.0'
     implementation 'com.squareup.retrofit2:converter-jackson:2.3.0'
diff --git a/examples/secureTokenAndroidKeyStore/build.gradle b/examples/secureTokenAndroidKeyStore/build.gradle
index d9a629ca4f..fc69210908 100644
--- a/examples/secureTokenAndroidKeyStore/build.gradle
+++ b/examples/secureTokenAndroidKeyStore/build.gradle
@@ -33,7 +33,7 @@ dependencies {
     androidTestImplementation('com.android.support.test.espresso:espresso-core:3.0.1', {
         exclude group: 'com.android.support', module: 'support-annotations'
     })
-    implementation 'com.android.support:appcompat-v7:27.0.1'
+    implementation 'com.android.support:appcompat-v7:27.0.2'
     testImplementation 'junit:junit:4.12'
     implementation 'io.realm:secure-userstore:1.0.1'
 }
diff --git a/examples/unitTestExample/build.gradle b/examples/unitTestExample/build.gradle
index fb80e93400..ddab123c16 100644
--- a/examples/unitTestExample/build.gradle
+++ b/examples/unitTestExample/build.gradle
@@ -34,7 +34,7 @@ android {
 
 
 dependencies {
-    implementation 'com.android.support:appcompat-v7:27.0.1'
+    implementation 'com.android.support:appcompat-v7:27.0.2'
 
     testImplementation 'io.reactivex.rxjava2:rxjava:2.1.5'
 
diff --git a/gradle/wrapper/gradle-wrapper.jar b/gradle/wrapper/gradle-wrapper.jar
index 99340b4ad1..01b8bf6b1f 100644
Binary files a/gradle/wrapper/gradle-wrapper.jar and b/gradle/wrapper/gradle-wrapper.jar differ
diff --git a/library-benchmarks/build.gradle b/library-benchmarks/build.gradle
index 6c6b50658b..0382c346d3 100644
--- a/library-benchmarks/build.gradle
+++ b/library-benchmarks/build.gradle
@@ -28,7 +28,7 @@ apply plugin: 'realm-android'
 
 android {
     compileSdkVersion 27
-    buildToolsVersion "27.0.0"
+    buildToolsVersion "27.0.2"
 
     defaultConfig {
         minSdkVersion 15
diff --git a/library-benchmarks/gradle/wrapper/gradle-wrapper.jar b/library-benchmarks/gradle/wrapper/gradle-wrapper.jar
index 99340b4ad1..01b8bf6b1f 100644
Binary files a/library-benchmarks/gradle/wrapper/gradle-wrapper.jar and b/library-benchmarks/gradle/wrapper/gradle-wrapper.jar differ
diff --git a/realm-annotations/gradle/wrapper/gradle-wrapper.jar b/realm-annotations/gradle/wrapper/gradle-wrapper.jar
index 99340b4ad1..01b8bf6b1f 100644
Binary files a/realm-annotations/gradle/wrapper/gradle-wrapper.jar and b/realm-annotations/gradle/wrapper/gradle-wrapper.jar differ
diff --git a/realm-gradle-plugin/build.gradle b/realm-gradle-plugin/build.gradle
index 9fd610174e..067efd6900 100644
--- a/realm-gradle-plugin/build.gradle
+++ b/realm-gradle-plugin/build.gradle
@@ -47,7 +47,17 @@ dependencies {
     compile gradleApi()
     compile localGroovy()
     compile "io.realm:realm-transformer:${version}"
+<<<<<<< HEAD:realm-gradle-plugin/build.gradle
     provided 'com.android.tools.build:gradle:3.1.0-alpha07'
+=======
+    /*Note: the latest Android Gradle plugin has now built in support for annotation processors and warns and/or blocks android-apt,
+     see this https://bitbucket.org/hvisser/android-apt/wiki/Migration page on how to migrate
+     and this https://www.littlerobots.nl/blog/Whats-next-for-android-apt/ for more info.
+   */
+    compile 'com.neenbedankt.gradle.plugins:android-apt:1.8' //TODO: https://www.littlerobots.nl/blog/Whats-next-for-android-apt/
+    provided 'com.android.tools.build:gradle:3.1.0-alpha06'
+
+>>>>>>> upstream/master:gradle-plugin/build.gradle
     testCompile gradleTestKit()
     testCompile 'junit:junit:4.12'
 }
diff --git a/realm-gradle-plugin/gradle/wrapper/gradle-wrapper.jar b/realm-gradle-plugin/gradle/wrapper/gradle-wrapper.jar
index 99340b4ad1..01b8bf6b1f 100644
Binary files a/realm-gradle-plugin/gradle/wrapper/gradle-wrapper.jar and b/realm-gradle-plugin/gradle/wrapper/gradle-wrapper.jar differ
diff --git a/realm-transformer/build.gradle b/realm-transformer/build.gradle
index 8bc83e5e24..ac6b0e2e07 100644
--- a/realm-transformer/build.gradle
+++ b/realm-transformer/build.gradle
@@ -60,7 +60,7 @@ dependencies {
     compile localGroovy()
     compile gradleApi()
     compile "io.realm:realm-annotations:${version}"
-    provided 'com.android.tools.build:gradle:3.1.0-alpha03'
+    provided 'com.android.tools.build:gradle:3.1.0-alpha06'
     compile 'org.javassist:javassist:3.22.0-GA'
 
     testCompile('org.spockframework:spock-core:1.0-groovy-2.4') {
diff --git a/realm-transformer/gradle/wrapper/gradle-wrapper.jar b/realm-transformer/gradle/wrapper/gradle-wrapper.jar
index 99340b4ad1..01b8bf6b1f 100644
Binary files a/realm-transformer/gradle/wrapper/gradle-wrapper.jar and b/realm-transformer/gradle/wrapper/gradle-wrapper.jar differ
diff --git a/realm/build.gradle b/realm/build.gradle
index 290fe8258e..82f7c806cf 100644
--- a/realm/build.gradle
+++ b/realm/build.gradle
@@ -1,6 +1,6 @@
 project.ext.minSdkVersion = 9
 project.ext.compileSdkVersion = 26
-project.ext.buildToolsVersion = '26.0.2'
+project.ext.buildToolsVersion = '27.0.2'
 
 buildscript {
     ext.kotlin_version = '1.2.10'
diff --git a/realm/gradle/wrapper/gradle-wrapper.jar b/realm/gradle/wrapper/gradle-wrapper.jar
index 99340b4ad1..01b8bf6b1f 100644
Binary files a/realm/gradle/wrapper/gradle-wrapper.jar and b/realm/gradle/wrapper/gradle-wrapper.jar differ
diff --git a/realm/realm-annotations-processor/build.gradle b/realm/realm-annotations-processor/build.gradle
index 5c203099a7..a272ee6680 100644
--- a/realm/realm-annotations-processor/build.gradle
+++ b/realm/realm-annotations-processor/build.gradle
@@ -11,7 +11,7 @@ dependencies {
     compile "com.squareup:javawriter:2.5.1"
     compile "io.realm:realm-annotations:${version}"
 
-    testCompile files('../realm-library/build/intermediates/bundles/baseRelease/classes.jar') // Java projects cannot depend on AAR files
+    testCompile files('../realm-library/build/intermediates/intermediate-jars/objectServer/release/classes.jar') // Java projects cannot depend on AAR files
     testCompile files("${System.properties['java.home']}/../lib/tools.jar") // This is needed otherwise compile-testing won't be able to find it
     testCompile group:'junit', name:'junit', version:'4.12'
     testCompile group:'com.google.testing.compile', name:'compile-testing', version:'0.6'
