diff --git a/gradle-plugin/src/main/groovy/io/realm/gradle/Realm.groovy b/gradle-plugin/src/main/groovy/io/realm/gradle/Realm.groovy
index 8eaf910d65..7abd2ba74a 100644
--- a/gradle-plugin/src/main/groovy/io/realm/gradle/Realm.groovy
+++ b/gradle-plugin/src/main/groovy/io/realm/gradle/Realm.groovy
@@ -72,9 +72,12 @@ class Realm implements Plugin<Project> {
 
         project.android.registerTransform(new RealmTransformer(project))
 
-        if (project.repositories.isEmpty()) {
-            // If no repository was defined, we add jCenter
-            project.repositories.add(project.getRepositories().jcenter())
+        project.afterEvaluate {
+            if (project.repositories.isEmpty()) {
+                // If no repository was defined, we add jCenter
+                // Calling this automatically adds jCenter to the list of repositories
+                project.getRepositories().jcenter()
+            }
         }
 
         project.dependencies.add(dependencyConfigurationName, "io.realm:realm-annotations:${Version.VERSION}")
diff --git a/gradle-plugin/src/test/groovy/io/realm/gradle/PluginTest.groovy b/gradle-plugin/src/test/groovy/io/realm/gradle/PluginTest.groovy
index 64e7208c02..f6e7b97594 100644
--- a/gradle-plugin/src/test/groovy/io/realm/gradle/PluginTest.groovy
+++ b/gradle-plugin/src/test/groovy/io/realm/gradle/PluginTest.groovy
@@ -135,15 +135,62 @@ class PluginTest {
 
         project.evaluate()
 
+        assertTrue(project.buildscript.repositories.isEmpty())
+
         assertTrue(project.repositories.size() == 1)
-        assertTrue(project.repositories.contains(project.getRepositories().jcenter()))
+        assertTrue(project.repositories.first().url.host == 'jcenter.bintray.com')
     }
 
     @Test
     void pluginAddsRightRepositories_withRepositoriesSet() {
         project.buildscript {
             repositories {
-                google()
+                maven {
+                    url 'https://maven.google.com/'
+                }
+            }
+            dependencies {
+                classpath "com.android.tools.build:gradle:${projectDependencies.get("GRADLE_BUILD_TOOLS")}"
+                classpath 'com.jakewharton.sdkmanager:gradle-plugin:0.12.0'
+            }
+        }
+
+        repositories {
+            google()
+        }
+
+        def manifest = project.file("src/main/AndroidManifest.xml")
+        manifest.parentFile.mkdirs()
+        manifest.text = '<manifest xmlns:android="http://schemas.android.com/apk/res/android"  package="com.realm.test"></manifest>'
+
+        project.apply plugin: 'com.android.application'
+        project.apply plugin: 'realm-android'
+
+        project.android {
+            compileSdkVersion 27
+
+            defaultConfig {
+                minSdkVersion 16
+                targetSdkVersion 27
+            }
+        }
+
+        project.evaluate()
+
+        assertTrue(project.buildscript.repositories.size() == 1)
+        assertTrue(project.buildscript.repositories.first().url.host == 'maven.google.com')
+
+        assertTrue(project.repositories.size() == 1)
+        assertTrue(project.repositories.first().url.host == 'dl.google.com')
+    }
+
+    @Test
+    void pluginAddsRightRepositories_withRepositoriesSetAfterPluginIsApplied() {
+        project.buildscript {
+            repositories {
+                maven {
+                    url 'https://maven.google.com/'
+                }
             }
             dependencies {
                 classpath "com.android.tools.build:gradle:${projectDependencies.get("GRADLE_BUILD_TOOLS")}"
@@ -158,6 +205,10 @@ class PluginTest {
         project.apply plugin: 'com.android.application'
         project.apply plugin: 'realm-android'
 
+        repositories {
+            google()
+        }
+
         project.android {
             compileSdkVersion 27
 
@@ -169,8 +220,11 @@ class PluginTest {
 
         project.evaluate()
 
-        assertTrue(project.getRepositories().size() == 1)
-        assertTrue(project.repositories.contains(project.getRepositories().google()))
+        assertTrue(project.buildscript.repositories.size() == 1)
+        assertTrue(project.buildscript.repositories.first().url.host == 'maven.google.com')
+
+        assertTrue(project.repositories.size() == 1)
+        assertTrue(project.repositories.first().url.host == 'dl.google.com')
     }
 
     private static boolean containsUrl(RepositoryHandler repositories, String url) {
