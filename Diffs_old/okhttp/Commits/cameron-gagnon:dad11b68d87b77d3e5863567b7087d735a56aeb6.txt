diff --git a/okhttp/src/main/java/com/squareup/okhttp/internal/http/HttpEngine.java b/okhttp/src/main/java/com/squareup/okhttp/internal/http/HttpEngine.java
index 09d27b0722..588c098efb 100755
--- a/okhttp/src/main/java/com/squareup/okhttp/internal/http/HttpEngine.java
+++ b/okhttp/src/main/java/com/squareup/okhttp/internal/http/HttpEngine.java
@@ -33,6 +33,7 @@
 import com.squareup.okhttp.internal.Internal;
 import com.squareup.okhttp.internal.InternalCache;
 import com.squareup.okhttp.internal.Util;
+import com.squareup.okhttp.internal.http.Version;
 import java.io.IOException;
 import java.io.InterruptedIOException;
 import java.net.CookieHandler;
@@ -646,7 +647,7 @@ private Request networkRequest(Request request) throws IOException {
     }
 
     if (request.header("User-Agent") == null) {
-      result.header("User-Agent", System.getProperty( "http.agent" ));
+      result.header("User-Agent", System.getProperty( Version.userAgent() ));
     }
 
     return result.build();
diff --git a/okhttp/src/main/java-templates/com/squareup/okhttp/internal/Version.java b/okhttp/src/main/java/com/squareup/okhttp/internal/http/Version.java
old mode 100644
new mode 100755
similarity index 94%
rename from okhttp/src/main/java-templates/com/squareup/okhttp/internal/Version.java
rename to okhttp/src/main/java/com/squareup/okhttp/internal/http/Version.java
index 59fece92bf..f52c597440
--- a/okhttp/src/main/java-templates/com/squareup/okhttp/internal/Version.java
+++ b/okhttp/src/main/java/com/squareup/okhttp/internal/http/Version.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package com.squareup.okhttp.internal;
+package com.squareup.okhttp.internal.http;
 
 public final class Version {
   public static String userAgent() {
