diff --git a/okcurl/pom.xml b/okcurl/pom.xml
index 6d1cc5c697..76603a775f 100644
--- a/okcurl/pom.xml
+++ b/okcurl/pom.xml
@@ -59,7 +59,7 @@
           </descriptorRefs>
           <archive>
             <manifest>
-              <mainClass>okhttp3.curl.Main</mainClass>
+              <mainClass>okcurl.Main</mainClass>
             </manifest>
           </archive>
         </configuration>
diff --git a/okcurl/src/main/java/module-info.java b/okcurl/src/main/java/module-info.java
new file mode 100644
index 0000000000..55dfaa94b3
--- /dev/null
+++ b/okcurl/src/main/java/module-info.java
@@ -0,0 +1,6 @@
+module okcurl {
+    requires okhttp;
+    requires guava;
+    requires airline;
+    opens okcurl to airline;
+}
\ No newline at end of file
diff --git a/okcurl/src/main/java/okhttp3/curl/Main.java b/okcurl/src/main/java/okcurl/Main.java
similarity index 99%
rename from okcurl/src/main/java/okhttp3/curl/Main.java
rename to okcurl/src/main/java/okcurl/Main.java
index cee2600619..e07fb45682 100644
--- a/okcurl/src/main/java/okhttp3/curl/Main.java
+++ b/okcurl/src/main/java/okcurl/Main.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.curl;
+package okcurl;
 
 import com.google.common.base.Joiner;
 import io.airlift.airline.Arguments;
diff --git a/okcurl/src/test/java/okhttp3/curl/MainTest.java b/okcurl/src/test/java/okcurl/MainTest.java
similarity index 98%
rename from okcurl/src/test/java/okhttp3/curl/MainTest.java
rename to okcurl/src/test/java/okcurl/MainTest.java
index 12fe6d5ec4..00c0e9a79f 100644
--- a/okcurl/src/test/java/okhttp3/curl/MainTest.java
+++ b/okcurl/src/test/java/okcurl/MainTest.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.curl;
+package okcurl;
 
 import java.io.IOException;
 import okhttp3.Request;
@@ -21,7 +21,7 @@
 import okio.Buffer;
 import org.junit.Test;
 
-import static okhttp3.curl.Main.fromArgs;
+import static okcurl.Main.fromArgs;
 import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertNull;
 
diff --git a/okhttp-apache/pom.xml b/okhttp-apache/pom.xml
index 85c666ba92..7f9505ff33 100644
--- a/okhttp-apache/pom.xml
+++ b/okhttp-apache/pom.xml
@@ -27,7 +27,7 @@
     <dependency>
       <groupId>org.apache.httpcomponents</groupId>
       <artifactId>httpclient</artifactId>
-      <scope>provided</scope>
+      <!--<scope>provided</scope>-->
     </dependency>
 
     <dependency>
diff --git a/okhttp-apache/src/main/java/okhttp3/apache/HttpEntityBody.java b/okhttp-apache/src/main/java/apache/HttpEntityBody.java
similarity index 98%
rename from okhttp-apache/src/main/java/okhttp3/apache/HttpEntityBody.java
rename to okhttp-apache/src/main/java/apache/HttpEntityBody.java
index c55543f569..26f3b8be26 100644
--- a/okhttp-apache/src/main/java/okhttp3/apache/HttpEntityBody.java
+++ b/okhttp-apache/src/main/java/apache/HttpEntityBody.java
@@ -1,4 +1,4 @@
-package okhttp3.apache;
+package apache;
 
 import java.io.IOException;
 import okhttp3.MediaType;
diff --git a/okhttp-apache/src/main/java/okhttp3/apache/OkApacheClient.java b/okhttp-apache/src/main/java/apache/OkApacheClient.java
similarity index 99%
rename from okhttp-apache/src/main/java/okhttp3/apache/OkApacheClient.java
rename to okhttp-apache/src/main/java/apache/OkApacheClient.java
index d1241d3d01..6563d1b1ca 100644
--- a/okhttp-apache/src/main/java/okhttp3/apache/OkApacheClient.java
+++ b/okhttp-apache/src/main/java/apache/OkApacheClient.java
@@ -1,5 +1,5 @@
 // Copyright 2013 Square, Inc.
-package okhttp3.apache;
+package apache;
 
 import java.io.IOException;
 import java.net.InetSocketAddress;
diff --git a/okhttp-apache/src/main/java/module-info.java b/okhttp-apache/src/main/java/module-info.java
new file mode 100644
index 0000000000..911add76ae
--- /dev/null
+++ b/okhttp-apache/src/main/java/module-info.java
@@ -0,0 +1,5 @@
+module okhttpapache {
+    requires okhttp;
+    requires httpcore;
+    requires httpclient;
+}
\ No newline at end of file
diff --git a/okhttp-apache/src/test/java/okhttp3/apache/OkApacheClientTest.java b/okhttp-apache/src/test/java/apache/OkApacheClientTest.java
similarity index 99%
rename from okhttp-apache/src/test/java/okhttp3/apache/OkApacheClientTest.java
rename to okhttp-apache/src/test/java/apache/OkApacheClientTest.java
index f4399b898f..ef881fcc14 100644
--- a/okhttp-apache/src/test/java/okhttp3/apache/OkApacheClientTest.java
+++ b/okhttp-apache/src/test/java/apache/OkApacheClientTest.java
@@ -1,4 +1,4 @@
-package okhttp3.apache;
+package apache;
 
 import java.io.ByteArrayInputStream;
 import java.io.IOException;
diff --git a/okhttp-dnsoverhttps/pom.xml b/okhttp-dnsoverhttps/pom.xml
index 2fb9c3db1a..011e18e4de 100644
--- a/okhttp-dnsoverhttps/pom.xml
+++ b/okhttp-dnsoverhttps/pom.xml
@@ -21,7 +21,7 @@
     <dependency>
       <groupId>com.google.code.findbugs</groupId>
       <artifactId>jsr305</artifactId>
-      <scope>provided</scope>
+      <!--<scope>provided</scope>-->
     </dependency>
 
     <dependency>
diff --git a/okhttp-dnsoverhttps/src/main/java/okhttp3/dnsoverhttps/BootstrapDns.java b/okhttp-dnsoverhttps/src/main/java/dnsoverhttps/BootstrapDns.java
similarity index 97%
rename from okhttp-dnsoverhttps/src/main/java/okhttp3/dnsoverhttps/BootstrapDns.java
rename to okhttp-dnsoverhttps/src/main/java/dnsoverhttps/BootstrapDns.java
index 2cd474d30b..9de67e4c65 100644
--- a/okhttp-dnsoverhttps/src/main/java/okhttp3/dnsoverhttps/BootstrapDns.java
+++ b/okhttp-dnsoverhttps/src/main/java/dnsoverhttps/BootstrapDns.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.dnsoverhttps;
+package dnsoverhttps;
 
 import java.net.InetAddress;
 import java.net.UnknownHostException;
diff --git a/okhttp-dnsoverhttps/src/main/java/okhttp3/dnsoverhttps/DnsOverHttps.java b/okhttp-dnsoverhttps/src/main/java/dnsoverhttps/DnsOverHttps.java
similarity index 99%
rename from okhttp-dnsoverhttps/src/main/java/okhttp3/dnsoverhttps/DnsOverHttps.java
rename to okhttp-dnsoverhttps/src/main/java/dnsoverhttps/DnsOverHttps.java
index 67442f3313..8d27842b11 100644
--- a/okhttp-dnsoverhttps/src/main/java/okhttp3/dnsoverhttps/DnsOverHttps.java
+++ b/okhttp-dnsoverhttps/src/main/java/dnsoverhttps/DnsOverHttps.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.dnsoverhttps;
+package dnsoverhttps;
 
 import java.io.IOException;
 import java.net.InetAddress;
diff --git a/okhttp-dnsoverhttps/src/main/java/okhttp3/dnsoverhttps/DnsRecordCodec.java b/okhttp-dnsoverhttps/src/main/java/dnsoverhttps/DnsRecordCodec.java
similarity index 99%
rename from okhttp-dnsoverhttps/src/main/java/okhttp3/dnsoverhttps/DnsRecordCodec.java
rename to okhttp-dnsoverhttps/src/main/java/dnsoverhttps/DnsRecordCodec.java
index 4c1cfc481e..d4e6bb1e7c 100644
--- a/okhttp-dnsoverhttps/src/main/java/okhttp3/dnsoverhttps/DnsRecordCodec.java
+++ b/okhttp-dnsoverhttps/src/main/java/dnsoverhttps/DnsRecordCodec.java
@@ -13,7 +13,7 @@
  * the License.
  */
 
-package okhttp3.dnsoverhttps;
+package dnsoverhttps;
 
 import java.io.EOFException;
 import java.net.InetAddress;
diff --git a/okhttp-dnsoverhttps/src/main/java/okhttp3/dnsoverhttps/package-info.java b/okhttp-dnsoverhttps/src/main/java/dnsoverhttps/package-info.java
similarity index 77%
rename from okhttp-dnsoverhttps/src/main/java/okhttp3/dnsoverhttps/package-info.java
rename to okhttp-dnsoverhttps/src/main/java/dnsoverhttps/package-info.java
index 54da565bc2..15406e4c09 100644
--- a/okhttp-dnsoverhttps/src/main/java/okhttp3/dnsoverhttps/package-info.java
+++ b/okhttp-dnsoverhttps/src/main/java/dnsoverhttps/package-info.java
@@ -1,3 +1,3 @@
 /** A DNS over HTTPS implementation for OkHttp. */
 @okhttp3.internal.annotations.EverythingIsNonNull
-package okhttp3.dnsoverhttps;
+package dnsoverhttps;
diff --git a/okhttp-dnsoverhttps/src/main/java/module-info.java b/okhttp-dnsoverhttps/src/main/java/module-info.java
new file mode 100644
index 0000000000..6579414cdc
--- /dev/null
+++ b/okhttp-dnsoverhttps/src/main/java/module-info.java
@@ -0,0 +1,4 @@
+module okhttpdnsoverhttps {
+    requires okio;
+    requires okhttp;
+}
\ No newline at end of file
diff --git a/okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/DnsOverHttpsTest.java b/okhttp-dnsoverhttps/src/test/java/dnsoverhttps/DnsOverHttpsTest.java
similarity index 99%
rename from okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/DnsOverHttpsTest.java
rename to okhttp-dnsoverhttps/src/test/java/dnsoverhttps/DnsOverHttpsTest.java
index 3cc7635fde..32ea990cbf 100644
--- a/okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/DnsOverHttpsTest.java
+++ b/okhttp-dnsoverhttps/src/test/java/dnsoverhttps/DnsOverHttpsTest.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.dnsoverhttps;
+package dnsoverhttps;
 
 import java.io.File;
 import java.io.IOException;
diff --git a/okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/DnsRecordCodecTest.java b/okhttp-dnsoverhttps/src/test/java/dnsoverhttps/DnsRecordCodecTest.java
similarity index 95%
rename from okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/DnsRecordCodecTest.java
rename to okhttp-dnsoverhttps/src/test/java/dnsoverhttps/DnsRecordCodecTest.java
index 3a12b4d254..8093ee4f82 100644
--- a/okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/DnsRecordCodecTest.java
+++ b/okhttp-dnsoverhttps/src/test/java/dnsoverhttps/DnsRecordCodecTest.java
@@ -13,17 +13,20 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.dnsoverhttps;
+package dnsoverhttps;
 
 import java.net.InetAddress;
 import java.net.UnknownHostException;
 import java.util.Collections;
 import java.util.List;
+
+
 import okio.ByteString;
 import org.junit.Test;
 
-import static okhttp3.dnsoverhttps.DnsRecordCodec.TYPE_A;
-import static okhttp3.dnsoverhttps.DnsRecordCodec.TYPE_AAAA;
+import static dnsoverhttps.DnsRecordCodec.TYPE_A;
+import static dnsoverhttps.DnsRecordCodec.TYPE_AAAA;
+
 import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.fail;
 
diff --git a/okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/DohProviders.java b/okhttp-dnsoverhttps/src/test/java/dnsoverhttps/DohProviders.java
similarity index 99%
rename from okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/DohProviders.java
rename to okhttp-dnsoverhttps/src/test/java/dnsoverhttps/DohProviders.java
index 301eee57ca..3ac412f6ff 100644
--- a/okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/DohProviders.java
+++ b/okhttp-dnsoverhttps/src/test/java/dnsoverhttps/DohProviders.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.dnsoverhttps;
+package dnsoverhttps;
 
 import java.net.InetAddress;
 import java.net.UnknownHostException;
diff --git a/okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/TestDohMain.java b/okhttp-dnsoverhttps/src/test/java/dnsoverhttps/TestDohMain.java
similarity index 99%
rename from okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/TestDohMain.java
rename to okhttp-dnsoverhttps/src/test/java/dnsoverhttps/TestDohMain.java
index 65975ae5cc..eafd237878 100644
--- a/okhttp-dnsoverhttps/src/test/java/okhttp3/dnsoverhttps/TestDohMain.java
+++ b/okhttp-dnsoverhttps/src/test/java/dnsoverhttps/TestDohMain.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.dnsoverhttps;
+package dnsoverhttps;
 
 import java.io.File;
 import java.io.IOException;
diff --git a/okhttp-logging-interceptor/pom.xml b/okhttp-logging-interceptor/pom.xml
index 0e35c12c7b..53ff470b81 100644
--- a/okhttp-logging-interceptor/pom.xml
+++ b/okhttp-logging-interceptor/pom.xml
@@ -21,7 +21,7 @@
     <dependency>
       <groupId>com.google.code.findbugs</groupId>
       <artifactId>jsr305</artifactId>
-      <scope>provided</scope>
+      <!--<scope>provided</scope>-->
     </dependency>
 
     <dependency>
diff --git a/okhttp-logging-interceptor/src/main/java/okhttp3/logging/HttpLoggingInterceptor.java b/okhttp-logging-interceptor/src/main/java/logging/HttpLoggingInterceptor.java
similarity index 99%
rename from okhttp-logging-interceptor/src/main/java/okhttp3/logging/HttpLoggingInterceptor.java
rename to okhttp-logging-interceptor/src/main/java/logging/HttpLoggingInterceptor.java
index 448b08edd5..1d1ff5e5af 100644
--- a/okhttp-logging-interceptor/src/main/java/okhttp3/logging/HttpLoggingInterceptor.java
+++ b/okhttp-logging-interceptor/src/main/java/logging/HttpLoggingInterceptor.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.logging;
+package logging;
 
 import java.io.EOFException;
 import java.io.IOException;
diff --git a/okhttp-logging-interceptor/src/main/java/okhttp3/logging/package-info.java b/okhttp-logging-interceptor/src/main/java/logging/package-info.java
similarity index 82%
rename from okhttp-logging-interceptor/src/main/java/okhttp3/logging/package-info.java
rename to okhttp-logging-interceptor/src/main/java/logging/package-info.java
index 62d0ff5761..d1bf9bc16f 100644
--- a/okhttp-logging-interceptor/src/main/java/okhttp3/logging/package-info.java
+++ b/okhttp-logging-interceptor/src/main/java/logging/package-info.java
@@ -1,3 +1,3 @@
 /** An OkHttp interceptor which logs HTTP request and response data. */
 @okhttp3.internal.annotations.EverythingIsNonNull
-package okhttp3.logging;
+package logging;
diff --git a/okhttp-logging-interceptor/src/main/java/module-info.java b/okhttp-logging-interceptor/src/main/java/module-info.java
new file mode 100644
index 0000000000..cf7bef4af1
--- /dev/null
+++ b/okhttp-logging-interceptor/src/main/java/module-info.java
@@ -0,0 +1,3 @@
+module logginginterceptor {
+    requires okhttp;
+}
\ No newline at end of file
diff --git a/okhttp-logging-interceptor/src/test/java/okhttp3/logging/HttpLoggingInterceptorTest.java b/okhttp-logging-interceptor/src/test/java/logging/HttpLoggingInterceptorTest.java
similarity index 99%
rename from okhttp-logging-interceptor/src/test/java/okhttp3/logging/HttpLoggingInterceptorTest.java
rename to okhttp-logging-interceptor/src/test/java/logging/HttpLoggingInterceptorTest.java
index 1ba4fa1fc2..45f1ba07f3 100644
--- a/okhttp-logging-interceptor/src/test/java/okhttp3/logging/HttpLoggingInterceptorTest.java
+++ b/okhttp-logging-interceptor/src/test/java/logging/HttpLoggingInterceptorTest.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.logging;
+package logging;
 
 import java.io.IOException;
 import java.net.InetAddress;
@@ -32,7 +32,7 @@
 import okhttp3.RequestBody;
 import okhttp3.Response;
 import okhttp3.ResponseBody;
-import okhttp3.logging.HttpLoggingInterceptor.Level;
+import logging.HttpLoggingInterceptor.Level;
 import mockwebserver.MockResponse;
 import mockwebserver.MockWebServer;
 import tls.HandshakeCertificates;
