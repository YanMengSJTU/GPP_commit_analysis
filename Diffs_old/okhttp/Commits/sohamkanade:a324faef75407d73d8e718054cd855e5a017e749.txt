diff --git a/okhttp-urlconnection/src/main/java/module-info.java b/okhttp-urlconnection/src/main/java/module-info.java
new file mode 100644
index 0000000000..f364f1bb4d
--- /dev/null
+++ b/okhttp-urlconnection/src/main/java/module-info.java
@@ -0,0 +1,2 @@
+module okhttp.urlconnection {
+}
\ No newline at end of file
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/JavaNetAuthenticator.java b/okhttp-urlconnection/src/main/java/okhttp3/JavaNetAuthenticator.java
similarity index 98%
rename from okhttp-urlconnection/src/main/java/okhttp3/urlconnection/JavaNetAuthenticator.java
rename to okhttp-urlconnection/src/main/java/okhttp3/JavaNetAuthenticator.java
index b42d2594d3..2649510d35 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/JavaNetAuthenticator.java
+++ b/okhttp-urlconnection/src/main/java/okhttp3/JavaNetAuthenticator.java
@@ -13,9 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.urlconnection;
-
-import okhttp3.*;
+package okhttp3;
 
 import java.io.IOException;
 import java.net.Authenticator.RequestorType;
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/JavaNetCookieJar.java b/okhttp-urlconnection/src/main/java/okhttp3/JavaNetCookieJar.java
similarity index 94%
rename from okhttp-urlconnection/src/main/java/okhttp3/urlconnection/JavaNetCookieJar.java
rename to okhttp-urlconnection/src/main/java/okhttp3/JavaNetCookieJar.java
index 198b0f918f..5d4f671a31 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/JavaNetCookieJar.java
+++ b/okhttp-urlconnection/src/main/java/okhttp3/JavaNetCookieJar.java
@@ -13,12 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.urlconnection;
-
-import okhttp3.Cookie;
-import okhttp3.CookieJar;
-import okhttp3.HttpUrl;
-import okhttp3.internal.platform.Platform;
+package okhttp3;
 
 import java.io.IOException;
 import java.net.CookieHandler;
@@ -27,12 +22,13 @@
 import java.util.Collections;
 import java.util.List;
 import java.util.Map;
+import okhttp3.internal.platform.Platform;
 
 import static okhttp3.internal.Util.delimiterOffset;
 import static okhttp3.internal.Util.trimSubstring;
 import static okhttp3.internal.platform.Platform.WARN;
 
-/** A cookie jar that delegates to a {@link CookieHandler}. */
+/** A cookie jar that delegates to a {@link java.net.CookieHandler}. */
 public final class JavaNetCookieJar implements CookieJar {
   private final CookieHandler cookieHandler;
 
@@ -44,7 +40,7 @@ public JavaNetCookieJar(CookieHandler cookieHandler) {
     if (cookieHandler != null) {
       List<String> cookieStrings = new ArrayList<>();
       for (Cookie cookie : cookies) {
-        cookieStrings.add(cookie.toString());
+        cookieStrings.add(cookie.toString(true));
       }
       Map<String, List<String>> multimap = Collections.singletonMap("Set-Cookie", cookieStrings);
       try {
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/OkUrlFactory.java b/okhttp-urlconnection/src/main/java/okhttp3/OkUrlFactory.java
similarity index 85%
rename from okhttp-urlconnection/src/main/java/okhttp3/urlconnection/OkUrlFactory.java
rename to okhttp-urlconnection/src/main/java/okhttp3/OkUrlFactory.java
index 3061cdf865..0bbe613492 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/OkUrlFactory.java
+++ b/okhttp-urlconnection/src/main/java/okhttp3/OkUrlFactory.java
@@ -13,14 +13,17 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.urlconnection;
+package okhttp3;
 
-import okhttp3.OkHttpClient;
-import okhttp3.urlconnection.internal.URLFilter;
-import okhttp3.urlconnection.internal.huc.OkHttpURLConnection;
-import okhttp3.urlconnection.internal.huc.OkHttpsURLConnection;
-
-import java.net.*;
+import java.net.HttpURLConnection;
+import java.net.Proxy;
+import java.net.URL;
+import java.net.URLConnection;
+import java.net.URLStreamHandler;
+import java.net.URLStreamHandlerFactory;
+import okhttp3.internal.URLFilter;
+import okhttp3.internal.huc.OkHttpURLConnection;
+import okhttp3.internal.huc.OkHttpsURLConnection;
 
 /**
  * @deprecated OkHttp will be dropping its ability to be used with {@link HttpURLConnection} in an
@@ -72,10 +75,10 @@ HttpURLConnection open(URL url, Proxy proxy) {
   }
 
   /**
-   * Creates a URLStreamHandler as a {@link URL#setURLStreamHandlerFactory}.
+   * Creates a URLStreamHandler as a {@link java.net.URL#setURLStreamHandlerFactory}.
    *
    * <p>This code configures OkHttp to handle all HTTP and HTTPS connections
-   * created with {@link URL#openConnection()}: <pre>   {@code
+   * created with {@link java.net.URL#openConnection()}: <pre>   {@code
    *
    *   OkHttpClient okHttpClient = new OkHttpClient();
    *   URL.setURLStreamHandlerFactory(new OkUrlFactory(okHttpClient));
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/JavaNetHeaders.java b/okhttp-urlconnection/src/main/java/okhttp3/internal/JavaNetHeaders.java
similarity index 92%
rename from okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/JavaNetHeaders.java
rename to okhttp-urlconnection/src/main/java/okhttp3/internal/JavaNetHeaders.java
index 919efc8af3..0b7a02e1f9 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/JavaNetHeaders.java
+++ b/okhttp-urlconnection/src/main/java/okhttp3/internal/JavaNetHeaders.java
@@ -13,12 +13,16 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.urlconnection.internal;
+package okhttp3.internal;
 
+import java.util.ArrayList;
+import java.util.Collections;
+import java.util.Comparator;
+import java.util.List;
+import java.util.Map;
+import java.util.TreeMap;
 import okhttp3.Headers;
 
-import java.util.*;
-
 public final class JavaNetHeaders {
   private JavaNetHeaders() {
   }
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/URLFilter.java b/okhttp-urlconnection/src/main/java/okhttp3/internal/URLFilter.java
similarity index 96%
rename from okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/URLFilter.java
rename to okhttp-urlconnection/src/main/java/okhttp3/internal/URLFilter.java
index 350f822e04..3b077f8bc4 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/URLFilter.java
+++ b/okhttp-urlconnection/src/main/java/okhttp3/internal/URLFilter.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.urlconnection.internal;
+package okhttp3.internal;
 import java.io.IOException;
 import java.net.URL;
 
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/BufferedRequestBody.java b/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/BufferedRequestBody.java
similarity index 98%
rename from okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/BufferedRequestBody.java
rename to okhttp-urlconnection/src/main/java/okhttp3/internal/huc/BufferedRequestBody.java
index f4d1528965..b4b2f68347 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/BufferedRequestBody.java
+++ b/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/BufferedRequestBody.java
@@ -13,14 +13,13 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.urlconnection.internal.huc;
+package okhttp3.internal.huc;
 
+import java.io.IOException;
 import okhttp3.Request;
 import okio.Buffer;
 import okio.BufferedSink;
 
-import java.io.IOException;
-
 /**
  * This request body involves an application thread only. First all bytes are written to the buffer.
  * Only once that is complete are bytes then copied to the network.
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/DelegatingHttpsURLConnection.java b/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/DelegatingHttpsURLConnection.java
similarity index 99%
rename from okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/DelegatingHttpsURLConnection.java
rename to okhttp-urlconnection/src/main/java/okhttp3/internal/huc/DelegatingHttpsURLConnection.java
index 0eb2592ffc..a051bf2198 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/DelegatingHttpsURLConnection.java
+++ b/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/DelegatingHttpsURLConnection.java
@@ -14,15 +14,8 @@
  *  See the License for the specific language governing permissions and
  *  limitations under the License.
  */
-package okhttp3.urlconnection.internal.huc;
+package okhttp3.internal.huc;
 
-import okhttp3.Handshake;
-import org.codehaus.mojo.animal_sniffer.IgnoreJRERequirement;
-
-import javax.net.ssl.HostnameVerifier;
-import javax.net.ssl.HttpsURLConnection;
-import javax.net.ssl.SSLPeerUnverifiedException;
-import javax.net.ssl.SSLSocketFactory;
 import java.io.IOException;
 import java.io.InputStream;
 import java.io.OutputStream;
@@ -34,6 +27,12 @@
 import java.security.cert.Certificate;
 import java.util.List;
 import java.util.Map;
+import javax.net.ssl.HostnameVerifier;
+import javax.net.ssl.HttpsURLConnection;
+import javax.net.ssl.SSLPeerUnverifiedException;
+import javax.net.ssl.SSLSocketFactory;
+import okhttp3.Handshake;
+import org.codehaus.mojo.animal_sniffer.IgnoreJRERequirement;
 
 /**
  * Implement an HTTPS connection by delegating to an HTTP connection for everything but the
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/OkHttpURLConnection.java b/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OkHttpURLConnection.java
similarity index 95%
rename from okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/OkHttpURLConnection.java
rename to okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OkHttpURLConnection.java
index 314ca90ad1..31e532d0ad 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/OkHttpURLConnection.java
+++ b/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OkHttpURLConnection.java
@@ -14,12 +14,44 @@
  *  See the License for the specific language governing permissions and
  *  limitations under the License.
  */
-package okhttp3.urlconnection.internal.huc;
-
-import okhttp3.*;
+package okhttp3.internal.huc;
+
+import java.io.FileNotFoundException;
+import java.io.IOException;
+import java.io.InputStream;
+import java.io.InterruptedIOException;
+import java.io.OutputStream;
+import java.net.HttpURLConnection;
+import java.net.InetSocketAddress;
+import java.net.MalformedURLException;
+import java.net.ProtocolException;
+import java.net.Proxy;
+import java.net.SocketPermission;
+import java.net.URL;
+import java.net.UnknownHostException;
+import java.security.Permission;
+import java.util.Arrays;
+import java.util.Collections;
+import java.util.Date;
+import java.util.LinkedHashSet;
+import java.util.List;
+import java.util.Map;
+import java.util.Set;
+import java.util.concurrent.TimeUnit;
+import okhttp3.Call;
+import okhttp3.Callback;
+import okhttp3.Dispatcher;
+import okhttp3.Handshake;
+import okhttp3.Headers;
+import okhttp3.HttpUrl;
+import okhttp3.Interceptor;
+import okhttp3.OkHttpClient;
+import okhttp3.Protocol;
+import okhttp3.Request;
+import okhttp3.Response;
 import okhttp3.internal.Internal;
-import okhttp3.urlconnection.internal.JavaNetHeaders;
-import okhttp3.urlconnection.internal.URLFilter;
+import okhttp3.internal.JavaNetHeaders;
+import okhttp3.internal.URLFilter;
 import okhttp3.internal.Version;
 import okhttp3.internal.http.HttpDate;
 import okhttp3.internal.http.HttpHeaders;
@@ -28,12 +60,6 @@
 import okhttp3.internal.platform.Platform;
 import okio.Buffer;
 
-import java.io.*;
-import java.net.*;
-import java.security.Permission;
-import java.util.*;
-import java.util.concurrent.TimeUnit;
-
 import static okhttp3.internal.platform.Platform.WARN;
 
 /**
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/OkHttpsURLConnection.java b/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OkHttpsURLConnection.java
similarity index 96%
rename from okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/OkHttpsURLConnection.java
rename to okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OkHttpsURLConnection.java
index 32f588545b..9dc40b80a2 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/OkHttpsURLConnection.java
+++ b/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OkHttpsURLConnection.java
@@ -14,15 +14,14 @@
  *  See the License for the specific language governing permissions and
  *  limitations under the License.
  */
-package okhttp3.urlconnection.internal.huc;
-
-import okhttp3.Handshake;
-import okhttp3.OkHttpClient;
-import okhttp3.urlconnection.internal.URLFilter;
+package okhttp3.internal.huc;
 
+import java.net.URL;
 import javax.net.ssl.HostnameVerifier;
 import javax.net.ssl.SSLSocketFactory;
-import java.net.URL;
+import okhttp3.Handshake;
+import okhttp3.OkHttpClient;
+import okhttp3.internal.URLFilter;
 
 public final class OkHttpsURLConnection extends DelegatingHttpsURLConnection {
   private final OkHttpURLConnection delegate;
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/OutputStreamRequestBody.java b/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OutputStreamRequestBody.java
similarity index 98%
rename from okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/OutputStreamRequestBody.java
rename to okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OutputStreamRequestBody.java
index e73474630b..6f4e8ef9e9 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/OutputStreamRequestBody.java
+++ b/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OutputStreamRequestBody.java
@@ -13,19 +13,18 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.urlconnection.internal.huc;
-
-import okhttp3.MediaType;
-import okhttp3.Request;
-import okhttp3.RequestBody;
-import okio.BufferedSink;
-import okio.Timeout;
+package okhttp3.internal.huc;
 
 import java.io.IOException;
 import java.io.InterruptedIOException;
 import java.io.OutputStream;
 import java.net.ProtocolException;
 import java.net.SocketTimeoutException;
+import okhttp3.MediaType;
+import okhttp3.Request;
+import okhttp3.RequestBody;
+import okio.BufferedSink;
+import okio.Timeout;
 
 /**
  * A request body that's populated by blocking writes to an output stream. The output data is either
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/StreamedRequestBody.java b/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/StreamedRequestBody.java
similarity index 96%
rename from okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/StreamedRequestBody.java
rename to okhttp-urlconnection/src/main/java/okhttp3/internal/huc/StreamedRequestBody.java
index b72e3a0e95..201ab09b66 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/internal/huc/StreamedRequestBody.java
+++ b/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/StreamedRequestBody.java
@@ -13,16 +13,15 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.urlconnection.internal.huc;
+package okhttp3.internal.huc;
 
+import java.io.IOException;
 import okhttp3.internal.http.UnrepeatableRequestBody;
 import okio.Buffer;
 import okio.BufferedSink;
 import okio.Okio;
 import okio.Pipe;
 
-import java.io.IOException;
-
 /**
  * This request body streams bytes from an application thread to an OkHttp dispatcher thread via a
  * pipe. Because the data is not buffered it can only be transmitted once.
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/package-info.java b/okhttp-urlconnection/src/main/java/okhttp3/package-info.java
new file mode 100644
index 0000000000..1ded0dc6e6
--- /dev/null
+++ b/okhttp-urlconnection/src/main/java/okhttp3/package-info.java
@@ -0,0 +1,3 @@
+/** Support for JDK provider APIs. */
+@okhttp3.internal.annotations.EverythingIsNonNull
+package okhttp3;
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/package-info.java b/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/package-info.java
deleted file mode 100644
index f5d80b102c..0000000000
--- a/okhttp-urlconnection/src/main/java/okhttp3/urlconnection/package-info.java
+++ /dev/null
@@ -1,3 +0,0 @@
-/** Support for JDK provider APIs. */
-
-package okhttp3.urlconnection;
diff --git a/okhttp/src/main/java/module-info.java b/okhttp/src/main/java/module-info.java
index 81625b02ee..bad9e42b6d 100644
--- a/okhttp/src/main/java/module-info.java
+++ b/okhttp/src/main/java/module-info.java
@@ -6,5 +6,4 @@
     exports okhttp3.internal.platform;
     exports okhttp3.internal.publicsuffix;
     exports okhttp3.internal.annotations;
-
 }
\ No newline at end of file
