diff --git a/okhttp/src/main/java/okhttp3/internal/http1/Http1ExchangeCodec.java b/okhttp/src/main/java/okhttp3/internal/http1/Http1ExchangeCodec.java
index 586faba6c5..a5c34cfa0c 100644
--- a/okhttp/src/main/java/okhttp3/internal/http1/Http1ExchangeCodec.java
+++ b/okhttp/src/main/java/okhttp3/internal/http1/Http1ExchangeCodec.java
@@ -229,8 +229,12 @@ public void writeRequest(Headers headers, String requestLine) throws IOException
       return responseBuilder;
     } catch (EOFException e) {
       // Provide more context if the server ends the stream before sending a response.
+      String address = "unknown";
+      if (realConnection != null) {
+        address = realConnection.route().address().url().redact();
+      }
       throw new IOException("unexpected end of stream on "
-          + realConnection.route().address().url().redact(), e);
+          + address, e);
     }
   }
 
