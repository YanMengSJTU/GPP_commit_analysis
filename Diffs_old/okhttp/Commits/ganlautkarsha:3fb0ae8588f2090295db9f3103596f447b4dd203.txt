diff --git a/okhttp-tests/src/main/java/module-info.java b/okhttp-tests/src/main/java/module-info.java
new file mode 100644
index 0000000000..0d860220b2
--- /dev/null
+++ b/okhttp-tests/src/main/java/module-info.java
@@ -0,0 +1,2 @@
+module $MODULE_NAME$ {
+}
diff --git a/okhttp/src/main/java/module-info.java b/okhttp/src/main/java/module-info.java
index 577e8cd68e..fb8784b13b 100644
--- a/okhttp/src/main/java/module-info.java
+++ b/okhttp/src/main/java/module-info.java
@@ -2,6 +2,7 @@
     exports okhttp3.internal;
     exports okhttp3.internal.platform;
     exports okhttp3;
+    exports okhttp3.internal.http;
     requires okio;
     requires java.logging;
     requires jsr305;
diff --git a/okhttp/src/main/java/okhttp3/ConnectionSpec.java b/okhttp/src/main/java/okhttp3/ConnectionSpec.java
index 004a97065b..da6589c2e3 100644
--- a/okhttp/src/main/java/okhttp3/ConnectionSpec.java
+++ b/okhttp/src/main/java/okhttp3/ConnectionSpec.java
@@ -262,7 +262,7 @@ public boolean isCompatible(SSLSocket socket) {
     @Nullable String[] tlsVersions;
     boolean supportsTlsExtensions;
 
-    Builder(boolean tls) {
+    public Builder(boolean tls) {
       this.tls = tls;
     }
 
@@ -273,6 +273,7 @@ public Builder(ConnectionSpec connectionSpec) {
       this.supportsTlsExtensions = connectionSpec.supportsTlsExtensions;
     }
 
+
     public Builder allEnabledCipherSuites() {
       if (!tls) throw new IllegalStateException("no cipher suites for cleartext connections");
       this.cipherSuites = null;
diff --git a/okhttp/src/main/java/okhttp3/Cookie.java b/okhttp/src/main/java/okhttp3/Cookie.java
index 7a4f24ba20..8f70b2c01a 100644
--- a/okhttp/src/main/java/okhttp3/Cookie.java
+++ b/okhttp/src/main/java/okhttp3/Cookie.java
@@ -547,7 +547,7 @@ public Cookie build() {
    *     necessary for {@code example.com} to match {@code www.example.com} under RFC 2965. This
    *     extra dot is ignored by more recent specifications.
    */
-  String toString(boolean forObsoleteRfc2965) {
+  public String toString(boolean forObsoleteRfc2965) {
     StringBuilder result = new StringBuilder();
     result.append(name);
     result.append('=');
diff --git a/okhttp/src/main/java/okhttp3/OkHttpClient.java b/okhttp/src/main/java/okhttp3/OkHttpClient.java
index 1686af2aa9..84f01ff3ee 100644
--- a/okhttp/src/main/java/okhttp3/OkHttpClient.java
+++ b/okhttp/src/main/java/okhttp3/OkHttpClient.java
@@ -198,7 +198,7 @@ public void apply(ConnectionSpec tlsConfiguration, SSLSocket sslSocket, boolean
     };
   }
 
-  final Dispatcher dispatcher;
+  public final Dispatcher dispatcher;
   final @Nullable Proxy proxy;
   final List<Protocol> protocols;
   final List<ConnectionSpec> connectionSpecs;
@@ -216,7 +216,7 @@ public void apply(ConnectionSpec tlsConfiguration, SSLSocket sslSocket, boolean
   final CertificatePinner certificatePinner;
   final Authenticator proxyAuthenticator;
   final Authenticator authenticator;
-  final ConnectionPool connectionPool;
+  public final ConnectionPool connectionPool;
   final Dns dns;
   final boolean followSslRedirects;
   final boolean followRedirects;
diff --git a/okhttp/src/main/java/okhttp3/Response.java b/okhttp/src/main/java/okhttp3/Response.java
index b9ec399380..51038e51ed 100644
--- a/okhttp/src/main/java/okhttp3/Response.java
+++ b/okhttp/src/main/java/okhttp3/Response.java
@@ -43,11 +43,11 @@
 public final class Response implements Closeable {
   final Request request;
   final Protocol protocol;
-  final int code;
+  public final int code;
   final String message;
   final @Nullable Handshake handshake;
   final Headers headers;
-  final @Nullable ResponseBody body;
+  public final @Nullable ResponseBody body;
   final @Nullable Response networkResponse;
   final @Nullable Response cacheResponse;
   final @Nullable Response priorResponse;
diff --git a/okhttp-tests/src/main/java/okhttp3/AutobahnTester.java b/okhttp/src/main/java/okhttp3/tests/AutobahnTester.java
similarity index 99%
rename from okhttp-tests/src/main/java/okhttp3/AutobahnTester.java
rename to okhttp/src/main/java/okhttp3/tests/AutobahnTester.java
index ab7b9c771d..6c744514a5 100644
--- a/okhttp-tests/src/main/java/okhttp3/AutobahnTester.java
+++ b/okhttp/src/main/java/okhttp3/tests/AutobahnTester.java
@@ -13,13 +13,15 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3;
+package okhttp3.tests;
 
 import java.io.IOException;
 import java.util.concurrent.CountDownLatch;
 import java.util.concurrent.TimeUnit;
 import java.util.concurrent.atomic.AtomicLong;
 import java.util.concurrent.atomic.AtomicReference;
+
+import okhttp3.*;
 import okhttp3.internal.Version;
 import okio.ByteString;
 
diff --git a/okhttp-tests/src/main/java/okhttp3/TestTls13Request.java b/okhttp/src/main/java/okhttp3/tests/TestTls13Request.java
similarity index 98%
rename from okhttp-tests/src/main/java/okhttp3/TestTls13Request.java
rename to okhttp/src/main/java/okhttp3/tests/TestTls13Request.java
index dfe5279985..f62fe01d99 100644
--- a/okhttp-tests/src/main/java/okhttp3/TestTls13Request.java
+++ b/okhttp/src/main/java/okhttp3/tests/TestTls13Request.java
@@ -1,9 +1,11 @@
-package okhttp3;
+package okhttp3.tests;
 
 import java.io.IOException;
 import java.security.Security;
 import java.util.Arrays;
 import java.util.List;
+
+import okhttp3.*;
 import okhttp3.internal.platform.Platform;
 import org.conscrypt.Conscrypt;
 
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/JavaNetAuthenticator.java b/okhttp/src/main/java/okhttp3/urlconnection/JavaNetAuthenticator.java
similarity index 98%
rename from okhttp-urlconnection/src/main/java/okhttp3/JavaNetAuthenticator.java
rename to okhttp/src/main/java/okhttp3/urlconnection/JavaNetAuthenticator.java
index 2649510d35..b42d2594d3 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/JavaNetAuthenticator.java
+++ b/okhttp/src/main/java/okhttp3/urlconnection/JavaNetAuthenticator.java
@@ -13,7 +13,9 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3;
+package okhttp3.urlconnection;
+
+import okhttp3.*;
 
 import java.io.IOException;
 import java.net.Authenticator.RequestorType;
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/JavaNetCookieJar.java b/okhttp/src/main/java/okhttp3/urlconnection/JavaNetCookieJar.java
similarity index 97%
rename from okhttp-urlconnection/src/main/java/okhttp3/JavaNetCookieJar.java
rename to okhttp/src/main/java/okhttp3/urlconnection/JavaNetCookieJar.java
index 5d4f671a31..1fb161238f 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/JavaNetCookieJar.java
+++ b/okhttp/src/main/java/okhttp3/urlconnection/JavaNetCookieJar.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3;
+package okhttp3.urlconnection;
 
 import java.io.IOException;
 import java.net.CookieHandler;
@@ -22,6 +22,10 @@
 import java.util.Collections;
 import java.util.List;
 import java.util.Map;
+
+import okhttp3.Cookie;
+import okhttp3.CookieJar;
+import okhttp3.HttpUrl;
 import okhttp3.internal.platform.Platform;
 
 import static okhttp3.internal.Util.delimiterOffset;
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/OkUrlFactory.java b/okhttp/src/main/java/okhttp3/urlconnection/OkUrlFactory.java
similarity index 91%
rename from okhttp-urlconnection/src/main/java/okhttp3/OkUrlFactory.java
rename to okhttp/src/main/java/okhttp3/urlconnection/OkUrlFactory.java
index 0bbe613492..b19f24ec47 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/OkUrlFactory.java
+++ b/okhttp/src/main/java/okhttp3/urlconnection/OkUrlFactory.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3;
+package okhttp3.urlconnection;
 
 import java.net.HttpURLConnection;
 import java.net.Proxy;
@@ -21,9 +21,11 @@
 import java.net.URLConnection;
 import java.net.URLStreamHandler;
 import java.net.URLStreamHandlerFactory;
-import okhttp3.internal.URLFilter;
-import okhttp3.internal.huc.OkHttpURLConnection;
-import okhttp3.internal.huc.OkHttpsURLConnection;
+
+import okhttp3.OkHttpClient;
+import okhttp3.urlconnection.internal.URLFilter;
+import okhttp3.urlconnection.internal.huc.OkHttpURLConnection;
+import okhttp3.urlconnection.internal.huc.OkHttpsURLConnection;
 
 /**
  * @deprecated OkHttp will be dropping its ability to be used with {@link HttpURLConnection} in an
@@ -47,7 +49,7 @@ public OkUrlFactory setClient(OkHttpClient client) {
     return this;
   }
 
-  void setUrlFilter(URLFilter filter) {
+  public void setUrlFilter(URLFilter filter) {
     urlFilter = filter;
   }
 
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/internal/JavaNetHeaders.java b/okhttp/src/main/java/okhttp3/urlconnection/internal/JavaNetHeaders.java
similarity index 98%
rename from okhttp-urlconnection/src/main/java/okhttp3/internal/JavaNetHeaders.java
rename to okhttp/src/main/java/okhttp3/urlconnection/internal/JavaNetHeaders.java
index 0b7a02e1f9..ad32e8b8a4 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/internal/JavaNetHeaders.java
+++ b/okhttp/src/main/java/okhttp3/urlconnection/internal/JavaNetHeaders.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.internal;
+package okhttp3.urlconnection.internal;
 
 import java.util.ArrayList;
 import java.util.Collections;
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/internal/URLFilter.java b/okhttp/src/main/java/okhttp3/urlconnection/internal/URLFilter.java
similarity index 96%
rename from okhttp-urlconnection/src/main/java/okhttp3/internal/URLFilter.java
rename to okhttp/src/main/java/okhttp3/urlconnection/internal/URLFilter.java
index 3b077f8bc4..350f822e04 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/internal/URLFilter.java
+++ b/okhttp/src/main/java/okhttp3/urlconnection/internal/URLFilter.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.internal;
+package okhttp3.urlconnection.internal;
 import java.io.IOException;
 import java.net.URL;
 
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/BufferedRequestBody.java b/okhttp/src/main/java/okhttp3/urlconnection/internal/huc/BufferedRequestBody.java
similarity index 98%
rename from okhttp-urlconnection/src/main/java/okhttp3/internal/huc/BufferedRequestBody.java
rename to okhttp/src/main/java/okhttp3/urlconnection/internal/huc/BufferedRequestBody.java
index b4b2f68347..e0b22dbfb4 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/BufferedRequestBody.java
+++ b/okhttp/src/main/java/okhttp3/urlconnection/internal/huc/BufferedRequestBody.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.internal.huc;
+package okhttp3.urlconnection.internal.huc;
 
 import java.io.IOException;
 import okhttp3.Request;
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/DelegatingHttpsURLConnection.java b/okhttp/src/main/java/okhttp3/urlconnection/internal/huc/DelegatingHttpsURLConnection.java
similarity index 99%
rename from okhttp-urlconnection/src/main/java/okhttp3/internal/huc/DelegatingHttpsURLConnection.java
rename to okhttp/src/main/java/okhttp3/urlconnection/internal/huc/DelegatingHttpsURLConnection.java
index a051bf2198..6ee882c05e 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/DelegatingHttpsURLConnection.java
+++ b/okhttp/src/main/java/okhttp3/urlconnection/internal/huc/DelegatingHttpsURLConnection.java
@@ -14,7 +14,7 @@
  *  See the License for the specific language governing permissions and
  *  limitations under the License.
  */
-package okhttp3.internal.huc;
+package okhttp3.urlconnection.internal.huc;
 
 import java.io.IOException;
 import java.io.InputStream;
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OkHttpURLConnection.java b/okhttp/src/main/java/okhttp3/urlconnection/internal/huc/OkHttpURLConnection.java
similarity index 99%
rename from okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OkHttpURLConnection.java
rename to okhttp/src/main/java/okhttp3/urlconnection/internal/huc/OkHttpURLConnection.java
index 31e532d0ad..4bbd7db3df 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OkHttpURLConnection.java
+++ b/okhttp/src/main/java/okhttp3/urlconnection/internal/huc/OkHttpURLConnection.java
@@ -14,7 +14,7 @@
  *  See the License for the specific language governing permissions and
  *  limitations under the License.
  */
-package okhttp3.internal.huc;
+package okhttp3.urlconnection.internal.huc;
 
 import java.io.FileNotFoundException;
 import java.io.IOException;
@@ -50,8 +50,8 @@
 import okhttp3.Request;
 import okhttp3.Response;
 import okhttp3.internal.Internal;
-import okhttp3.internal.JavaNetHeaders;
-import okhttp3.internal.URLFilter;
+import okhttp3.urlconnection.internal.JavaNetHeaders;
+import okhttp3.urlconnection.internal.URLFilter;
 import okhttp3.internal.Version;
 import okhttp3.internal.http.HttpDate;
 import okhttp3.internal.http.HttpHeaders;
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OkHttpsURLConnection.java b/okhttp/src/main/java/okhttp3/urlconnection/internal/huc/OkHttpsURLConnection.java
similarity index 96%
rename from okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OkHttpsURLConnection.java
rename to okhttp/src/main/java/okhttp3/urlconnection/internal/huc/OkHttpsURLConnection.java
index 9dc40b80a2..8b004bc86b 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OkHttpsURLConnection.java
+++ b/okhttp/src/main/java/okhttp3/urlconnection/internal/huc/OkHttpsURLConnection.java
@@ -14,14 +14,14 @@
  *  See the License for the specific language governing permissions and
  *  limitations under the License.
  */
-package okhttp3.internal.huc;
+package okhttp3.urlconnection.internal.huc;
 
 import java.net.URL;
 import javax.net.ssl.HostnameVerifier;
 import javax.net.ssl.SSLSocketFactory;
 import okhttp3.Handshake;
 import okhttp3.OkHttpClient;
-import okhttp3.internal.URLFilter;
+import okhttp3.urlconnection.internal.URLFilter;
 
 public final class OkHttpsURLConnection extends DelegatingHttpsURLConnection {
   private final OkHttpURLConnection delegate;
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OutputStreamRequestBody.java b/okhttp/src/main/java/okhttp3/urlconnection/internal/huc/OutputStreamRequestBody.java
similarity index 98%
rename from okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OutputStreamRequestBody.java
rename to okhttp/src/main/java/okhttp3/urlconnection/internal/huc/OutputStreamRequestBody.java
index 6f4e8ef9e9..c161d3ee0b 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/OutputStreamRequestBody.java
+++ b/okhttp/src/main/java/okhttp3/urlconnection/internal/huc/OutputStreamRequestBody.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.internal.huc;
+package okhttp3.urlconnection.internal.huc;
 
 import java.io.IOException;
 import java.io.InterruptedIOException;
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/StreamedRequestBody.java b/okhttp/src/main/java/okhttp3/urlconnection/internal/huc/StreamedRequestBody.java
similarity index 97%
rename from okhttp-urlconnection/src/main/java/okhttp3/internal/huc/StreamedRequestBody.java
rename to okhttp/src/main/java/okhttp3/urlconnection/internal/huc/StreamedRequestBody.java
index 201ab09b66..a72b279866 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/internal/huc/StreamedRequestBody.java
+++ b/okhttp/src/main/java/okhttp3/urlconnection/internal/huc/StreamedRequestBody.java
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package okhttp3.internal.huc;
+package okhttp3.urlconnection.internal.huc;
 
 import java.io.IOException;
 import okhttp3.internal.http.UnrepeatableRequestBody;
diff --git a/okhttp-urlconnection/src/main/java/okhttp3/package-info.java b/okhttp/src/main/java/okhttp3/urlconnection/package-info.java
similarity index 73%
rename from okhttp-urlconnection/src/main/java/okhttp3/package-info.java
rename to okhttp/src/main/java/okhttp3/urlconnection/package-info.java
index 1ded0dc6e6..fd80479d8e 100644
--- a/okhttp-urlconnection/src/main/java/okhttp3/package-info.java
+++ b/okhttp/src/main/java/okhttp3/urlconnection/package-info.java
@@ -1,3 +1,3 @@
 /** Support for JDK provider APIs. */
 @okhttp3.internal.annotations.EverythingIsNonNull
-package okhttp3;
+package okhttp3.urlconnection;
