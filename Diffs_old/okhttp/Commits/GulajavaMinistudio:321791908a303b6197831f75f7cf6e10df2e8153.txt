diff --git a/mockwebserver/src/test/java/okhttp3/mockwebserver/internal/http2/Http2Server.java b/mockwebserver/src/test/java/okhttp3/mockwebserver/internal/http2/Http2Server.java
index f3fabec885..160159d98e 100644
--- a/mockwebserver/src/test/java/okhttp3/mockwebserver/internal/http2/Http2Server.java
+++ b/mockwebserver/src/test/java/okhttp3/mockwebserver/internal/http2/Http2Server.java
@@ -76,10 +76,14 @@ private void run() throws Exception {
         connection.start();
       } catch (IOException e) {
         logger.log(Level.INFO, "Http2Server connection failure: " + e);
-        closeQuietly(socket);
+        if (socket != null) {
+          closeQuietly(socket);
+        }
       } catch (Exception e) {
         logger.log(Level.WARNING, "Http2Server unexpected failure", e);
-        closeQuietly(socket);
+        if (socket != null) {
+          closeQuietly(socket);
+        }
       }
     }
   }
diff --git a/okhttp-tls/src/test/java/okhttp3/tls/HandshakeCertificatesTest.java b/okhttp-tls/src/test/java/okhttp3/tls/HandshakeCertificatesTest.java
index 81b5db61da..96b876cb94 100644
--- a/okhttp-tls/src/test/java/okhttp3/tls/HandshakeCertificatesTest.java
+++ b/okhttp-tls/src/test/java/okhttp3/tls/HandshakeCertificatesTest.java
@@ -164,8 +164,12 @@ private InetSocketAddress startTlsServer() throws IOException {
         sslSocket.startHandshake();
         return Handshake.get(sslSocket.getSession());
       } finally {
-        closeQuietly(rawSocket);
-        closeQuietly(sslSocket);
+        if (rawSocket != null) {
+          closeQuietly(rawSocket);
+        }
+        if (sslSocket != null) {
+          closeQuietly(sslSocket);
+        }
       }
     });
   }
@@ -183,7 +187,9 @@ private InetSocketAddress startTlsServer() throws IOException {
         return Handshake.get(sslSocket.getSession());
       } finally {
         closeQuietly(rawSocket);
-        closeQuietly(sslSocket);
+        if (sslSocket != null) {
+          closeQuietly(sslSocket);
+        }
       }
     });
   }
diff --git a/okhttp/src/main/java/okhttp3/internal/Util.kt b/okhttp/src/main/java/okhttp3/internal/Util.kt
index 8ae9bc23ae..bd37b1e633 100644
--- a/okhttp/src/main/java/okhttp3/internal/Util.kt
+++ b/okhttp/src/main/java/okhttp3/internal/Util.kt
@@ -474,7 +474,7 @@ fun <K, V> Map<K, V>.toImmutableMap(): Map<K, V> {
   }
 }
 
-/** Closes this, ignoring any checked exceptions. Does nothing if this is null. */
+/** Closes this, ignoring any checked exceptions. */
 fun Closeable.closeQuietly() {
   try {
     close()
@@ -484,7 +484,7 @@ fun Closeable.closeQuietly() {
   }
 }
 
-/** Closes this, ignoring any checked exceptions. Does nothing if this is null. */
+/** Closes this, ignoring any checked exceptions. */
 fun Socket.closeQuietly() {
   try {
     close()
@@ -496,7 +496,7 @@ fun Socket.closeQuietly() {
   }
 }
 
-/** Closes this, ignoring any checked exceptions. Does nothing if this is null. */
+/** Closes this, ignoring any checked exceptions.  */
 fun ServerSocket.closeQuietly() {
   try {
     close()
diff --git a/okhttp/src/test/java/okhttp3/internal/http2/MockHttp2Peer.java b/okhttp/src/test/java/okhttp3/internal/http2/MockHttp2Peer.java
index ec26954acb..a773bf1948 100644
--- a/okhttp/src/test/java/okhttp3/internal/http2/MockHttp2Peer.java
+++ b/okhttp/src/test/java/okhttp3/internal/http2/MockHttp2Peer.java
@@ -183,8 +183,12 @@ public Socket openSocket() throws IOException {
 
   @Override public synchronized void close() throws IOException {
     executor.shutdown();
-    closeQuietly(socket);
-    closeQuietly(serverSocket);
+    if (socket != null) {
+      closeQuietly(socket);
+    }
+    if (serverSocket != null) {
+      closeQuietly(serverSocket);
+    }
   }
 
   @Override public String toString() {
