diff --git a/okhttp/src/main/java/okhttp3/DefaultDns.java b/okhttp/src/main/java/okhttp3/DefaultDns.java
new file mode 100644
index 0000000000..3997e1011a
--- /dev/null
+++ b/okhttp/src/main/java/okhttp3/DefaultDns.java
@@ -0,0 +1,14 @@
+package okhttp3;
+
+
+public class DefaultDns {
+    private static Dns dns;
+
+    public static void setDns(Dns dns) {
+        DefaultDns.dns = dns;
+    }
+
+    public static Dns getDns() {
+        return dns;
+    }
+}
diff --git a/okhttp/src/main/java/okhttp3/OkHttpClient.java b/okhttp/src/main/java/okhttp3/OkHttpClient.java
index 9b0bdcc1f1..259506df7b 100644
--- a/okhttp/src/main/java/okhttp3/OkHttpClient.java
+++ b/okhttp/src/main/java/okhttp3/OkHttpClient.java
@@ -489,7 +489,11 @@ public Builder() {
       proxyAuthenticator = Authenticator.NONE;
       authenticator = Authenticator.NONE;
       connectionPool = new ConnectionPool();
-      dns = Dns.SYSTEM;
+      dns = getDefaultDns();
+      if (dns == null)
+      {
+        dns = Dns.SYSTEM;
+      }
       followSslRedirects = true;
       followRedirects = true;
       retryOnConnectionFailure = true;
