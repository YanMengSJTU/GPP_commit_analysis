diff --git a/okhttp/pom.xml b/okhttp/pom.xml
index 0bd07c596c..2a7a229ca0 100644
--- a/okhttp/pom.xml
+++ b/okhttp/pom.xml
@@ -35,6 +35,12 @@
   </dependencies>
 
   <build>
+    <resources>
+      <resource>
+        <directory>src/main/resources</directory>
+        <filtering>true</filtering>
+      </resource>
+    </resources>
     <plugins>
       <plugin>
         <groupId>org.codehaus.mojo</groupId>
diff --git a/okhttp/src/main/java/okhttp3/internal/Version.java b/okhttp/src/main/java/okhttp3/internal/Version.java
new file mode 100644
index 0000000000..2aa8cd3a41
--- /dev/null
+++ b/okhttp/src/main/java/okhttp3/internal/Version.java
@@ -0,0 +1,42 @@
+/*
+ * Copyright (C) 2014 Square, Inc.
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package okhttp3.internal;
+
+import java.io.IOException;
+import java.io.InputStream;
+import java.util.Properties;
+
+public final class Version {
+
+    private static String versionString() {
+        try {
+            Properties prop = new Properties();
+            InputStream in = Version.class.getResourceAsStream("/okhttp-version.properties");
+            prop.load(in);
+            in.close();
+            return prop.getProperty("version");
+        } catch (IOException e) {
+            throw new AssertionError("Could not load okhttp-version.properties.");
+        }
+    }
+
+    public static String userAgent() {
+        return "okhttp/" + versionString();
+    }
+
+    private Version() {
+    }
+}
diff --git a/okhttp/src/main/resources/okhttp-version.properties b/okhttp/src/main/resources/okhttp-version.properties
new file mode 100644
index 0000000000..defbd48204
--- /dev/null
+++ b/okhttp/src/main/resources/okhttp-version.properties
@@ -0,0 +1 @@
+version=${project.version}
