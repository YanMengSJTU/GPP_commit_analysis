diff --git a/core/src/main/java/me/dm7/barcodescanner/core/BarcodeScannerView.kt b/core/src/main/java/me/dm7/barcodescanner/core/BarcodeScannerView.kt
index d4b5977..3a1f829 100644
--- a/core/src/main/java/me/dm7/barcodescanner/core/BarcodeScannerView.kt
+++ b/core/src/main/java/me/dm7/barcodescanner/core/BarcodeScannerView.kt
@@ -6,6 +6,7 @@ import android.graphics.Rect
 import android.hardware.Camera
 import android.support.annotation.ColorInt
 import android.util.AttributeSet
+import android.util.Log
 import android.view.Gravity
 import android.view.View
 import android.widget.FrameLayout
@@ -37,10 +38,12 @@ abstract class BarcodeScannerView : FrameLayout, Camera.PreviewCallback {
     private var mViewFinderOffset = 0
     private var mAspectTolerance = 0.1f
 
-    constructor(context: Context) : super(context)
+    constructor(context: Context) : super(context){
+        mViewFinderView = createViewFinderView(context)
+    }
 
     constructor(context: Context, attributeSet: AttributeSet) : super(context, attributeSet) {
-        val a = context.theme.obtainStyledAttributes(
+        val a = context.obtainStyledAttributes(
                 attributeSet, R.styleable.BarcodeScannerView, 0, 0
         )
         try {
@@ -48,6 +51,9 @@ abstract class BarcodeScannerView : FrameLayout, Camera.PreviewCallback {
             mIsLaserEnabled = a.getBoolean(R.styleable.BarcodeScannerView_laserEnabled, mIsLaserEnabled)
             mLaserColor = a.getColor(R.styleable.BarcodeScannerView_laserColor, mLaserColor)
             mBorderColor = a.getColor(R.styleable.BarcodeScannerView_borderColor, mBorderColor)
+
+            Log.e("DATA_BORDER", " - " + mBorderColor + " - " + mLaserColor)
+
             mMaskColor = a.getColor(R.styleable.BarcodeScannerView_maskColor, mMaskColor)
             mBorderWidth = a.getDimensionPixelSize(R.styleable.BarcodeScannerView_borderWidth, mBorderWidth)
             mBorderLength = a.getDimensionPixelSize(R.styleable.BarcodeScannerView_borderLength, mBorderLength)
@@ -57,12 +63,11 @@ abstract class BarcodeScannerView : FrameLayout, Camera.PreviewCallback {
             mSquaredFinder = a.getBoolean(R.styleable.BarcodeScannerView_squaredFinder, mSquaredFinder)
             mBorderAlpha = a.getFloat(R.styleable.BarcodeScannerView_borderAlpha, mBorderAlpha)
             mViewFinderOffset = a.getDimensionPixelSize(R.styleable.BarcodeScannerView_finderOffset, mViewFinderOffset)
+        } catch (e : Exception){
+            Log.e("ERROR_TYPE_ARRAY", e.toString() , e)
         } finally {
             a.recycle()
         }
-    }
-
-    init {
         mViewFinderView = createViewFinderView(context)
     }
 
diff --git a/core/src/main/java/me/dm7/barcodescanner/core/ViewFinderView.kt b/core/src/main/java/me/dm7/barcodescanner/core/ViewFinderView.kt
index 516e201..90b9361 100644
--- a/core/src/main/java/me/dm7/barcodescanner/core/ViewFinderView.kt
+++ b/core/src/main/java/me/dm7/barcodescanner/core/ViewFinderView.kt
@@ -170,7 +170,8 @@ open class ViewFinderView : View, IViewFinder {
         framingRect?.let {
             path.moveTo(it.left.toFloat(), (it.top + mBorderLineLength).toFloat())
             path.lineTo(it.left.toFloat(), it.top.toFloat())
-            path.lineTo((it.left + mBorderLineLength).toFloat(), it.top.toFloat())
+            path.lineTo((it.right).toFloat(), it.top.toFloat())
+            //path.lineTo((it.left + mBorderLineLength).toFloat(), it.top.toFloat())
             canvas.drawPath(path, mBorderPaint)
 
             // Top-right corner
@@ -188,7 +189,8 @@ open class ViewFinderView : View, IViewFinder {
             // Bottom-left corner
             path.moveTo(it.left.toFloat(), (it.bottom - mBorderLineLength).toFloat())
             path.lineTo(it.left.toFloat(), it.bottom.toFloat())
-            path.lineTo((it.left + mBorderLineLength).toFloat(), it.bottom.toFloat())
+            path.lineTo(it.right.toFloat(), it.bottom.toFloat())
+            //path.lineTo((it.left + mBorderLineLength).toFloat(), it.bottom.toFloat())
             canvas.drawPath(path, mBorderPaint)
         }
     }
diff --git a/zxing-sample/build.gradle b/zxing-sample/build.gradle
index b685a43..78929e0 100644
--- a/zxing-sample/build.gradle
+++ b/zxing-sample/build.gradle
@@ -9,6 +9,7 @@ dependencies {
     implementation libraries.appcompat_v7
     implementation libraries.design_support
     implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version"
+    implementation 'com.android.support.constraint:constraint-layout:1.1.3'
 }
 
 android {
diff --git a/zxing-sample/src/main/AndroidManifest.xml b/zxing-sample/src/main/AndroidManifest.xml
index ab98927..9addc37 100644
--- a/zxing-sample/src/main/AndroidManifest.xml
+++ b/zxing-sample/src/main/AndroidManifest.xml
@@ -1,59 +1,63 @@
 <?xml version="1.0" encoding="utf-8"?>
-
-<manifest xmlns:android="http://schemas.android.com/apk/res/android" package="me.dm7.barcodescanner.zxing.sample">
-  <uses-permission android:name="android.permission.CAMERA" />
-
-  <application android:allowBackup="true"
-        android:label="@string/app_name"
-        android:icon="@drawable/ic_launcher">
-        <activity android:name=".MainActivity"
-                  android:theme="@style/AppTheme"
-                  android:label="@string/app_name">
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+    package="me.dm7.barcodescanner.zxing.sample">
+
+    <uses-permission android:name="android.permission.CAMERA" />
+
+    <application
+        android:allowBackup="true"
+        android:icon="@drawable/ic_launcher"
+        android:label="@string/app_name">
+        <activity android:name=".MyScannerActivity"
+            android:theme="@style/AppOverlayTheme"></activity>
+        <activity
+            android:name=".MainActivity"
+            android:label="@string/app_name"
+            android:theme="@style/AppTheme">
             <intent-filter>
                 <action android:name="android.intent.action.MAIN" />
+
                 <category android:name="android.intent.category.LAUNCHER" />
             </intent-filter>
         </activity>
-
-        <activity android:name=".FullScannerActivity"
-                  android:theme="@style/AppOverlayTheme"
-                  android:uiOptions="splitActionBarWhenNarrow"
-                  android:label="@string/scanner_activity">
-            <meta-data android:name="android.support.UI_OPTIONS"
-                       android:value="splitActionBarWhenNarrow" />
+        <activity
+            android:name=".FullScannerActivity"
+            android:label="@string/scanner_activity"
+            android:theme="@style/AppOverlayTheme"
+            android:uiOptions="splitActionBarWhenNarrow">
+            <meta-data
+                android:name="android.support.UI_OPTIONS"
+                android:value="splitActionBarWhenNarrow" />
         </activity>
-
-        <activity android:name=".FullScannerFragmentActivity"
-                  android:theme="@style/AppOverlayTheme"
-                  android:uiOptions="splitActionBarWhenNarrow"
-                  android:label="@string/scanner_fragment_activity">
-            <meta-data android:name="android.support.UI_OPTIONS"
-                       android:value="splitActionBarWhenNarrow" />
-        </activity>
-
-        <activity android:name=".SimpleScannerActivity"
-                android:theme="@style/AppOverlayTheme"
-                android:label="@string/simple_scanner_activity">
+        <activity
+            android:name=".FullScannerFragmentActivity"
+            android:label="@string/scanner_fragment_activity"
+            android:theme="@style/AppOverlayTheme"
+            android:uiOptions="splitActionBarWhenNarrow">
+            <meta-data
+                android:name="android.support.UI_OPTIONS"
+                android:value="splitActionBarWhenNarrow" />
         </activity>
-
-        <activity android:name=".SimpleScannerFragmentActivity"
-                android:theme="@style/AppOverlayTheme"
-                android:label="@string/simple_scanner_fragment_activity">
-        </activity>
-
-        <activity android:name=".FullScreenScannerFragmentActivity"
-                  android:theme="@style/AppOverlayTheme"
-                android:label="@string/full_screen_scanner_fragment_activity">
-      </activity>
-
-      <activity android:name=".CustomViewFinderScannerActivity"
-                android:theme="@style/AppTheme"
-                android:label="@string/custom_view_finder_scanner_activity">
-      </activity>
-
-      <activity android:name=".ScalingScannerActivity"
-                android:theme="@style/AppTheme"
-                android:label="@string/scaling_scanner_activity">
-      </activity>
+        <activity
+            android:name=".SimpleScannerActivity"
+            android:label="@string/simple_scanner_activity"
+            android:theme="@style/AppOverlayTheme"></activity>
+        <activity
+            android:name=".SimpleScannerFragmentActivity"
+            android:label="@string/simple_scanner_fragment_activity"
+            android:theme="@style/AppOverlayTheme"></activity>
+        <activity
+            android:name=".FullScreenScannerFragmentActivity"
+            android:label="@string/full_screen_scanner_fragment_activity"
+            android:theme="@style/AppOverlayTheme"></activity>
+        <activity
+            android:name=".CustomViewFinderScannerActivity"
+            android:label="@string/custom_view_finder_scanner_activity"
+            android:theme="@style/AppTheme"></activity>
+        <activity
+            android:name=".ScalingScannerActivity"
+            android:label="@string/scaling_scanner_activity"
+            android:theme="@style/AppTheme"></activity>
     </application>
+
 </manifest>
\ No newline at end of file
diff --git a/zxing-sample/src/main/java/me/dm7/barcodescanner/zxing/sample/MainActivity.java b/zxing-sample/src/main/java/me/dm7/barcodescanner/zxing/sample/MainActivity.java
index d85fa01..22ddcf7 100644
--- a/zxing-sample/src/main/java/me/dm7/barcodescanner/zxing/sample/MainActivity.java
+++ b/zxing-sample/src/main/java/me/dm7/barcodescanner/zxing/sample/MainActivity.java
@@ -67,6 +67,10 @@ public void launchActivity(Class<?> clss) {
         }
     }
 
+    public void launchMyScannerActivity(View v){
+        launchActivity(MyScannerActivity.class);
+    }
+
     @Override
     public void onRequestPermissionsResult(int requestCode,  String permissions[], int[] grantResults) {
         switch (requestCode) {
diff --git a/zxing-sample/src/main/java/me/dm7/barcodescanner/zxing/sample/MyScannerActivity.kt b/zxing-sample/src/main/java/me/dm7/barcodescanner/zxing/sample/MyScannerActivity.kt
new file mode 100644
index 0000000..eb2867d
--- /dev/null
+++ b/zxing-sample/src/main/java/me/dm7/barcodescanner/zxing/sample/MyScannerActivity.kt
@@ -0,0 +1,36 @@
+package me.dm7.barcodescanner.zxing.sample
+
+import android.support.v7.app.AppCompatActivity
+import android.os.Bundle
+import android.os.Handler
+import android.widget.Toast
+import com.google.zxing.Result
+import kotlinx.android.synthetic.main.activity_my_scanner.*
+import me.dm7.barcodescanner.zxing.ZXingScannerView
+
+class MyScannerActivity : AppCompatActivity(), ZXingScannerView.ResultHandler {
+
+    override fun handleResult(rawResult: Result) {
+        Toast.makeText(this, "Contents = " + rawResult.getText() +
+                ", Format = " + rawResult.getBarcodeFormat().toString(), Toast.LENGTH_SHORT).show()
+
+        val handler = Handler()
+        handler.postDelayed({ scanner.resumeCameraPreview(this@MyScannerActivity) }, 2000)
+    }
+
+    override fun onCreate(savedInstanceState: Bundle?) {
+        super.onCreate(savedInstanceState)
+        setContentView(R.layout.activity_my_scanner)
+    }
+
+    override fun onResume() {
+        super.onResume()
+        scanner.setResultHandler(this)
+        scanner.startCamera()
+    }
+
+    override fun onPause() {
+        super.onPause()
+        scanner.stopCamera()
+    }
+}
diff --git a/zxing-sample/src/main/res/layout/activity_main.xml b/zxing-sample/src/main/res/layout/activity_main.xml
index 2ef55d3..9ddb0f9 100644
--- a/zxing-sample/src/main/res/layout/activity_main.xml
+++ b/zxing-sample/src/main/res/layout/activity_main.xml
@@ -53,6 +53,11 @@
                     android:layout_width="match_parent"
                     android:text="@string/scaling_sample"
                     android:onClick="launchScalingScannerActivity" />
+
+            <Button android:layout_height="wrap_content"
+                android:layout_width="match_parent"
+                android:text="Custom scanner"
+                android:onClick="launchMyScannerActivity" />
         </LinearLayout>
     </ScrollView>
 </LinearLayout>
\ No newline at end of file
diff --git a/zxing-sample/src/main/res/layout/activity_my_scanner.xml b/zxing-sample/src/main/res/layout/activity_my_scanner.xml
new file mode 100644
index 0000000..13776ee
--- /dev/null
+++ b/zxing-sample/src/main/res/layout/activity_my_scanner.xml
@@ -0,0 +1,19 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context=".MyScannerActivity">
+
+    <me.dm7.barcodescanner.zxing.ZXingScannerView
+        android:id="@+id/scanner"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        app:borderColor="#BD0E9B"
+        app:borderLength="12dp"
+        app:laserEnabled="false"
+        app:roundedCorner="false"
+        app:squaredFinder="true" />
+
+</LinearLayout>
\ No newline at end of file
