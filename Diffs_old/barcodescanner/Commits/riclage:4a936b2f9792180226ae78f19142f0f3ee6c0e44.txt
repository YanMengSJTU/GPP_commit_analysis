diff --git a/core/src/main/java/me/dm7/barcodescanner/core/activity/QRCodeScannerActivity.java b/core/src/main/java/me/dm7/barcodescanner/core/activity/QRCodeScannerActivity.java
index 2bd3ee3..d74102e 100644
--- a/core/src/main/java/me/dm7/barcodescanner/core/activity/QRCodeScannerActivity.java
+++ b/core/src/main/java/me/dm7/barcodescanner/core/activity/QRCodeScannerActivity.java
@@ -1,23 +1,15 @@
 package me.dm7.barcodescanner.core.activity;
 
-import android.app.Activity;
 import android.content.Intent;
-import android.graphics.Color;
-import android.hardware.Camera;
 import android.net.Uri;
-import android.opengl.Visibility;
 import android.os.Bundle;
-import android.os.PersistableBundle;
 import android.support.v7.app.AppCompatActivity;
-import android.text.InputType;
-import android.view.Gravity;
+import android.support.v7.widget.Toolbar;
+import android.text.TextUtils;
 import android.view.Menu;
-import android.view.MenuInflater;
 import android.view.MenuItem;
 import android.view.View;
-import android.widget.RelativeLayout;
 import android.widget.TextView;
-import android.support.v7.widget.Toolbar;
 
 import com.google.zxing.BarcodeFormat;
 import com.google.zxing.Result;
@@ -25,7 +17,6 @@
 import java.util.ArrayList;
 import java.util.List;
 
-import me.dm7.barcodescanner.core.BarcodeScannerView;
 import me.dm7.barcodescanner.core.R;
 import zxing.ZXingScannerView;
 
@@ -93,19 +84,17 @@ protected void onCreate(Bundle state) {
         messageInfo = (TextView) findViewById(R.id.message_info);
 
 
-        if (getIntent().getExtras().containsKey(MESSAGE_INFO)) {
+        Bundle b = getIntent().getExtras() == null ? new Bundle() : getIntent().getExtras();
 
+        if (b.containsKey(MESSAGE_INFO)) {
             message = getIntent().getExtras().getString(MESSAGE_INFO);
             messageInfo.setText(message);
-
         } else {
             messageInfo.setVisibility(View.GONE);
         }
 
-        if (getIntent().getExtras().containsKey(SKIP_TITLE)) {
-
+        if (b.containsKey(SKIP_TITLE)) {
             skip_title = getIntent().getExtras().getString(SKIP_TITLE);
-
         }
 
 
@@ -113,16 +102,13 @@ protected void onCreate(Bundle state) {
 
     @Override
     public boolean onCreateOptionsMenu(Menu menu) {
-        getMenuInflater().inflate(R.menu.menu_open_and_start_class, menu);
-
-
-        if ("".equals(skip_title)) {
-            menu.getItem(R.id.fora_de_sala).setVisible(false);
+        if (TextUtils.isEmpty(skip_title)) {
+            return super.onCreateOptionsMenu(menu);
         } else {
+            getMenuInflater().inflate(R.menu.menu_open_and_start_class, menu);
             menu.getItem(0).setTitle(skip_title);
+            return true;
         }
-        return true;
-
     }
 
 
