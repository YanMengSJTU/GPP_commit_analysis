diff --git a/blockcanary-sample/src/main/java/com/example/blockcanary/DemoFragment.java b/blockcanary-sample/src/main/java/com/example/blockcanary/DemoFragment.java
index afed5d4..cc4408f 100644
--- a/blockcanary-sample/src/main/java/com/example/blockcanary/DemoFragment.java
+++ b/blockcanary-sample/src/main/java/com/example/blockcanary/DemoFragment.java
@@ -15,6 +15,7 @@
  */
 package com.example.blockcanary;
 
+import android.os.Build;
 import android.os.Bundle;
 import android.support.annotation.Nullable;
 import android.support.v4.app.Fragment;
@@ -83,7 +84,9 @@ public void onClick(View v) {
                 break;
             case R.id.button2:
                 for (int i = 0; i < 100; ++i) {
-                    readFile();
+                    if (Build.VERSION.SDK_INT < Build.VERSION_CODES.O) {
+                        readFile();
+                    }
                 }
                 break;
             case R.id.button3:
@@ -107,6 +110,7 @@ private static double compute() {
         return result;
     }
 
+    @Deprecated
     private static void readFile() {
         FileInputStream reader = null;
         try {
