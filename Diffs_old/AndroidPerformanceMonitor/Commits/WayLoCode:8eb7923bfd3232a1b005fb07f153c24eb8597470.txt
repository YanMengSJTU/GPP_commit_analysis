diff --git a/blockcanary-analyzer/src/main/java/com/github/moduth/blockcanary/BlockCanaryInternals.java b/blockcanary-analyzer/src/main/java/com/github/moduth/blockcanary/BlockCanaryInternals.java
index 771dd5c..3c6461c 100644
--- a/blockcanary-analyzer/src/main/java/com/github/moduth/blockcanary/BlockCanaryInternals.java
+++ b/blockcanary-analyzer/src/main/java/com/github/moduth/blockcanary/BlockCanaryInternals.java
@@ -15,11 +15,10 @@
  */
 package com.github.moduth.blockcanary;
 
+import android.os.Build;
 import android.os.Environment;
 import android.os.Looper;
-
 import com.github.moduth.blockcanary.internal.BlockInfo;
-
 import java.io.File;
 import java.io.FilenameFilter;
 import java.util.ArrayList;
@@ -30,7 +29,7 @@
 
     LooperMonitor monitor;
     StackSampler stackSampler;
-//    CpuSampler cpuSampler;
+    CpuSampler cpuSampler;
 
     private static BlockCanaryInternals sInstance;
     private static BlockCanaryContext sContext;
@@ -43,7 +42,9 @@ public BlockCanaryInternals() {
                 Looper.getMainLooper().getThread(),
                 sContext.provideDumpInterval());
 
-//        cpuSampler = new CpuSampler(sContext.provideDumpInterval());
+        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.O) {
+            cpuSampler = new CpuSampler(sContext.provideDumpInterval());
+        }
 
         setMonitor(new LooperMonitor(new LooperMonitor.BlockListener() {
 
@@ -56,10 +57,12 @@ public void onBlockEvent(long realTimeStart, long realTimeEnd,
                 if (!threadStackEntries.isEmpty()) {
                     BlockInfo blockInfo = BlockInfo.newInstance()
                             .setMainThreadTimeCost(realTimeStart, realTimeEnd, threadTimeStart, threadTimeEnd)
-//                            .setCpuBusyFlag(cpuSampler.isCpuBusy(realTimeStart, realTimeEnd))
-//                            .setRecentCpuRate(cpuSampler.getCpuRateInfo())
                             .setThreadStackEntries(threadStackEntries)
                             .flushString();
+                    if (null != cpuSampler) {
+                        blockInfo.setCpuBusyFlag(cpuSampler.isCpuBusy(realTimeStart, realTimeEnd))
+                                .setRecentCpuRate(cpuSampler.getCpuRateInfo());
+                    }
                     LogWriter.save(blockInfo.toString());
 
                     if (mInterceptorChain.size() != 0) {
diff --git a/blockcanary-analyzer/src/main/java/com/github/moduth/blockcanary/LooperMonitor.java b/blockcanary-analyzer/src/main/java/com/github/moduth/blockcanary/LooperMonitor.java
index 881382a..3b697e6 100644
--- a/blockcanary-analyzer/src/main/java/com/github/moduth/blockcanary/LooperMonitor.java
+++ b/blockcanary-analyzer/src/main/java/com/github/moduth/blockcanary/LooperMonitor.java
@@ -87,9 +87,9 @@ private void startDump() {
             BlockCanaryInternals.getInstance().stackSampler.start();
         }
 
-//        if (null != BlockCanaryInternals.getInstance().cpuSampler) {
-//            BlockCanaryInternals.getInstance().cpuSampler.start();
-//        }
+        if (null != BlockCanaryInternals.getInstance().cpuSampler) {
+            BlockCanaryInternals.getInstance().cpuSampler.start();
+        }
     }
 
     private void stopDump() {
@@ -97,8 +97,8 @@ private void stopDump() {
             BlockCanaryInternals.getInstance().stackSampler.stop();
         }
 
-//        if (null != BlockCanaryInternals.getInstance().cpuSampler) {
-//            BlockCanaryInternals.getInstance().cpuSampler.stop();
-//        }
+        if (null != BlockCanaryInternals.getInstance().cpuSampler) {
+            BlockCanaryInternals.getInstance().cpuSampler.stop();
+        }
     }
 }
\ No newline at end of file
diff --git a/blockcanary-android/src/main/java/com/github/moduth/blockcanary/BlockCanary.java b/blockcanary-android/src/main/java/com/github/moduth/blockcanary/BlockCanary.java
index 9226e6f..4b968ea 100644
--- a/blockcanary-android/src/main/java/com/github/moduth/blockcanary/BlockCanary.java
+++ b/blockcanary-android/src/main/java/com/github/moduth/blockcanary/BlockCanary.java
@@ -20,9 +20,7 @@
 import android.content.pm.PackageManager;
 import android.os.Looper;
 import android.preference.PreferenceManager;
-
 import com.github.moduth.blockcanary.ui.DisplayActivity;
-
 import java.util.concurrent.Executor;
 import java.util.concurrent.Executors;
 
@@ -52,7 +50,7 @@ private BlockCanary() {
     /**
      * Install {@link BlockCanary}
      *
-     * @param context            Application context
+     * @param context Application context
      * @param blockCanaryContext BlockCanary context
      * @return {@link BlockCanary}
      */
@@ -96,7 +94,9 @@ public void stop() {
             mMonitorStarted = false;
             Looper.getMainLooper().setMessageLogging(null);
             mBlockCanaryCore.stackSampler.stop();
-//            mBlockCanaryCore.cpuSampler.stop();
+            if (null != mBlockCanaryCore.cpuSampler) {
+                mBlockCanaryCore.cpuSampler.stop();
+            }
         }
     }
 
