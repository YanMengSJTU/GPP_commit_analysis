diff --git a/retrofit-processor/src/main/resources/retrofit/processor/retrofit.vm b/retrofit-processor/src/main/resources/retrofit/processor/retrofit.vm
index 1e7cb76a7..8b683dc36 100644
--- a/retrofit-processor/src/main/resources/retrofit/processor/retrofit.vm
+++ b/retrofit-processor/src/main/resources/retrofit/processor/retrofit.vm
@@ -224,9 +224,13 @@ public final class $subclass$formalTypes extends $origClass$actualTypes {
 
 #end
 
+#if ($p.baseUrl != "")
+        baseUrl = "${p.baseUrl}";
+#else
         if (baseUrl == null) {
             baseUrl = "${baseUrl}";
         }
+#end
 
         final Converter finalConverter = myConverter;
 
@@ -414,20 +418,6 @@ public final class $subclass$formalTypes extends $origClass$actualTypes {
 
     #if ($p.requestInterceptor != "")
 
-        requestObs = requestObs.map(new Func1<Request, Request>() {
-            @Override public Request call(Request request) {
-                System.out.println("retrofit: requestInterceptor");
-                SimpleRequestFacade requestFacade = new SimpleRequestFacade(request);
-                if (requestInterceptor instanceof retrofit.http.Retrofit.SimpleRequestInterceptor) {
-                    // FIXME context is tricky
-                    ((retrofit.http.Retrofit.SimpleRequestInterceptor) requestInterceptor).intercept(context, requestFacade);
-                } else {
-                    requestInterceptor.intercept(requestFacade);
-                }
-                return requestFacade.request();
-            }
-        });
-
         #if (!$p.singletonRequestInterceptor)
 
         retrofit.RequestInterceptor myRequestInterceptor = getRequestInterceptor(${p.requestInterceptor}.class);
@@ -530,6 +520,12 @@ public final class $subclass$formalTypes extends $origClass$actualTypes {
 
                     reqBuilder.addHeader("$header.key", $header.value);
 
+        #end
+
+        #foreach ($header in $p.headers.entrySet())
+
+                    reqBuilder.addHeader("$header.key", $header.value);
+
         #end
 
                     Request request = reqBuilder.build();
