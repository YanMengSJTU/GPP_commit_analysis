diff --git a/build.gradle b/build.gradle
index e35b7423..aa2d8936 100644
--- a/build.gradle
+++ b/build.gradle
@@ -3,9 +3,10 @@ buildscript {
     repositories {
         mavenLocal()
         jcenter()
+        google()
     }
     dependencies {
-        classpath 'com.android.tools.build:gradle:2.2.0'
+        classpath 'com.android.tools.build:gradle:3.1.2'
         classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.6'
         classpath "com.github.dcendents:android-maven-gradle-plugin:1.4.1"
     }
@@ -15,6 +16,7 @@ allprojects {
     repositories {
         mavenLocal()
         jcenter()
+		google()
     }
 
     tasks.withType(Javadoc).all {
@@ -25,10 +27,9 @@ allprojects {
 
 ext {
     minSdkVersion = 10
-    compileSdkVersion = 23
+    compileSdkVersion = 27
     targetSdkVersion = compileSdkVersion
-    buildToolsVersion = '23.0.2'
-    supportLibVersion = '23.0.1'
+    supportLibVersion = '27.1.1'
     javaVersion = JavaVersion.VERSION_1_7
 
     GROUP = 'com.tencent.tinker'
diff --git a/gradle/wrapper/gradle-wrapper.properties b/gradle/wrapper/gradle-wrapper.properties
index dbdc05d2..610ab269 100644
--- a/gradle/wrapper/gradle-wrapper.properties
+++ b/gradle/wrapper/gradle-wrapper.properties
@@ -2,4 +2,4 @@ distributionBase=GRADLE_USER_HOME
 distributionPath=wrapper/dists
 zipStoreBase=GRADLE_USER_HOME
 zipStorePath=wrapper/dists
-distributionUrl=https\://services.gradle.org/distributions/gradle-2.14.1-all.zip
+distributionUrl=
diff --git a/tinker-android/tinker-android-lib/build.gradle b/tinker-android/tinker-android-lib/build.gradle
index bcc8b83f..2b73292b 100644
--- a/tinker-android/tinker-android-lib/build.gradle
+++ b/tinker-android/tinker-android-lib/build.gradle
@@ -5,7 +5,6 @@ group rootProject.ext.GROUP
 
 android {
     compileSdkVersion rootProject.ext.compileSdkVersion
-    buildToolsVersion rootProject.ext.buildToolsVersion
 
     defaultConfig {
         minSdkVersion rootProject.ext.minSdkVersion
diff --git a/tinker-android/tinker-android-loader/build.gradle b/tinker-android/tinker-android-loader/build.gradle
index 971a76e0..02293687 100644
--- a/tinker-android/tinker-android-loader/build.gradle
+++ b/tinker-android/tinker-android-loader/build.gradle
@@ -6,7 +6,6 @@ group rootProject.ext.GROUP
 
 android {
     compileSdkVersion rootProject.ext.compileSdkVersion
-    buildToolsVersion rootProject.ext.buildToolsVersion
 
     defaultConfig {
         minSdkVersion rootProject.ext.minSdkVersion
diff --git a/tinker-build/tinker-patch-cli/build.gradle b/tinker-build/tinker-patch-cli/build.gradle
index c1bd4e62..8ea0304b 100644
--- a/tinker-build/tinker-patch-cli/build.gradle
+++ b/tinker-build/tinker-patch-cli/build.gradle
@@ -6,8 +6,8 @@ group rootProject.ext.GROUP
 [compileJava, compileTestJava, javadoc]*.options*.encoding = 'UTF-8'
 
 dependencies {
-    compile fileTree(dir: 'libs', include: ['*.jar'])
-    compile project(':tinker-build:tinker-patch-lib')
+    implementation fileTree(dir: 'libs', include: ['*.jar'])
+    implementation project(':tinker-build:tinker-patch-lib')
 }
 
 jar {
diff --git a/tinker-build/tinker-patch-gradle-plugin/build.gradle b/tinker-build/tinker-patch-gradle-plugin/build.gradle
index fa4fb4e2..09e4138c 100644
--- a/tinker-build/tinker-patch-gradle-plugin/build.gradle
+++ b/tinker-build/tinker-patch-gradle-plugin/build.gradle
@@ -5,12 +5,12 @@ version rootProject.ext.VERSION_NAME
 group rootProject.ext.GROUP
 
 dependencies {
-    compile gradleApi()
-    compile localGroovy()
+    implementation gradleApi()
+    implementation localGroovy()
 //    compile fileTree(dir: 'libs', include: ['*.jar'])
-    compile project(':tinker-build:tinker-patch-lib')
-    compile 'com.google.gradle:osdetector-gradle-plugin:1.2.1'
-    compile 'com.android.tools.build:gradle:2.1.0'
+    implementation project(':tinker-build:tinker-patch-lib')
+    implementation 'com.google.gradle:osdetector-gradle-plugin:1.2.1'
+    implementation 'com.android.tools.build:gradle:2.1.0'
 }
 
 repositories {
diff --git a/tinker-build/tinker-patch-lib/build.gradle b/tinker-build/tinker-patch-lib/build.gradle
index 239c258c..a9eea99e 100644
--- a/tinker-build/tinker-patch-lib/build.gradle
+++ b/tinker-build/tinker-patch-lib/build.gradle
@@ -7,14 +7,14 @@ group rootProject.ext.GROUP
 
 
 dependencies {
-    compile fileTree(dir: 'libs', include: ['*.jar'])
-    compile project(':tinker-commons')
-    compile group: 'com.tencent.mm', name: 'apk-parser-lib', version: '1.2.3'
-    compile group: 'com.google.guava', name: 'guava', version: '11.0.2'
-    compile group: 'org.ow2.asm', name: 'asm', version: '5.0.3'
-    compile group: 'org.smali', name: 'dexlib2', version: '2.1.3'
-
-    compile (group: 'dom4j', name: 'dom4j', version: '1.6.1')
+    implementation fileTree(dir: 'libs', include: ['*.jar'])
+    implementation project(':tinker-commons')
+    implementation group: 'com.tencent.mm', name: 'apk-parser-lib', version: '1.2.3'
+    implementation group: 'com.google.guava', name: 'guava', version: '11.0.2'
+    implementation group: 'org.ow2.asm', name: 'asm', version: '5.0.3'
+    implementation group: 'org.smali', name: 'dexlib2', version: '2.1.3'
+
+    implementation (group: 'dom4j', name: 'dom4j', version: '1.6.1')
 }
 
 sourceSets {
diff --git a/tinker-commons/build.gradle b/tinker-commons/build.gradle
index 9b52ca65..9838e8b6 100644
--- a/tinker-commons/build.gradle
+++ b/tinker-commons/build.gradle
@@ -7,10 +7,10 @@ group rootProject.ext.GROUP
 
 
 dependencies {
-    compile fileTree(dir: 'libs', include: ['*.jar'])
-    compile project(':third-party:aosp-dexutils')
-    compile project(':third-party:bsdiff-util')
-    compile project(':third-party:tinker-ziputils')
+    implementation fileTree(dir: 'libs', include: ['*.jar'])
+    implementation project(':third-party:aosp-dexutils')
+    implementation project(':third-party:bsdiff-util')
+    implementation project(':third-party:tinker-ziputils')
 }
 
 task buildTinkerSdk(type: Copy, dependsOn: [build]) {
diff --git a/tinker-sample-android/app/build.gradle b/tinker-sample-android/app/build.gradle
index 9b662d29..4a9d8684 100644
--- a/tinker-sample-android/app/build.gradle
+++ b/tinker-sample-android/app/build.gradle
@@ -44,7 +44,7 @@ def javaVersion = JavaVersion.VERSION_1_7
 
 android {
     compileSdkVersion 26
-    buildToolsVersion '26.0.2'
+
 
     compileOptions {
         sourceCompatibility javaVersion
@@ -143,14 +143,14 @@ ext {
 
     //for normal build
     //old apk file to build patch apk
-    tinkerOldApkPath = "${bakPath}/app-debug-1018-17-32-47.apk"
+    tinkerOldApkPath = "${bakPath}/app-debug-0613-19-15-27.apk"
     //proguard mapping file to build patch apk
-    tinkerApplyMappingPath = "${bakPath}/app-debug-1018-17-32-47-mapping.txt"
+    tinkerApplyMappingPath = "${bakPath}/app-debug-0613-19-15-27-R.txt"
     //resource R.txt to build patch apk, must input if there is resource changed
-    tinkerApplyResourcePath = "${bakPath}/app-debug-1018-17-32-47-R.txt"
+    tinkerApplyResourcePath = "${bakPath}/app-debug-0613-19-15-27-R.txt"
 
     //only use for build all flavor, if not, just ignore this field
-    tinkerBuildFlavorDirectory = "${bakPath}/app-1018-17-32-47"
+    tinkerBuildFlavorDirectory = "${bakPath}/app-debug-0613-16-04-50"
 }
 
 
@@ -332,7 +332,7 @@ if (buildWithTinker()) {
              * it support * or ? pattern.
              * Warning, we can only use for files no relative with resources.arsc
              */
-            ignoreChange = ["assets/sample_meta.txt"]
+            ignoreChange = ["assets/sample_meta.txt","assets/newsConfig.properties"]
 
             /**
              * default 100kb
diff --git a/tinker-sample-android/app/src/main/assets/newsConfig.properties b/tinker-sample-android/app/src/main/assets/newsConfig.properties
new file mode 100755
index 00000000..a9d6fd89
--- /dev/null
+++ b/tinker-sample-android/app/src/main/assets/newsConfig.properties
@@ -0,0 +1,2 @@
+CHWM=3022_0022
+FROM=6069095012
diff --git a/tinker-sample-android/app/src/main/java/tinker/sample/android/app/SampleApplicationLike.java b/tinker-sample-android/app/src/main/java/tinker/sample/android/app/SampleApplicationLike.java
index 5aef75a3..cc7161ad 100644
--- a/tinker-sample-android/app/src/main/java/tinker/sample/android/app/SampleApplicationLike.java
+++ b/tinker-sample-android/app/src/main/java/tinker/sample/android/app/SampleApplicationLike.java
@@ -41,27 +41,27 @@
  * because you can not use any other class in your application, we need to
  * move your implement of Application to {@link ApplicationLifeCycle}
  * As Application, all its direct reference class should be in the main dex.
- *
+ * <p>
  * We use tinker-android-anno to make sure all your classes can be patched.
- *
+ * <p>
  * application: if it is start with '.', we will add SampleApplicationLifeCycle's package name
- *
+ * <p>
  * flags:
  * TINKER_ENABLE_ALL: support dex, lib and resource
  * TINKER_DEX_MASK: just support dex
  * TINKER_NATIVE_LIBRARY_MASK: just support lib
  * TINKER_RESOURCE_MASK: just support resource
- *
+ * <p>
  * loaderClass: define the tinker loader class, we can just use the default TinkerLoader
- *
+ * <p>
  * loadVerifyFlag: whether check files' md5 on the load time, defualt it is false.
- *
+ * <p>
  * Created by zhangshaowen on 16/3/17.
  */
 @SuppressWarnings("unused")
 @DefaultLifeCycle(application = "tinker.sample.android.app.SampleApplication",
-                  flags = ShareConstants.TINKER_ENABLE_ALL,
-                  loadVerifyFlag = false)
+        flags = ShareConstants.TINKER_ENABLE_ALL,
+        loadVerifyFlag = false)
 public class SampleApplicationLike extends DefaultApplicationLike {
     private static final String TAG = "Tinker.SampleApplicationLike";
 
diff --git a/tinker-sample-android/build.gradle b/tinker-sample-android/build.gradle
index c055f5fa..df396460 100644
--- a/tinker-sample-android/build.gradle
+++ b/tinker-sample-android/build.gradle
@@ -7,7 +7,7 @@ buildscript {
     }
     dependencies {
         if (project.hasProperty('GRADLE_3') && GRADLE_3.equalsIgnoreCase('TRUE')) {
-            classpath 'com.android.tools.build:gradle:3.1.0-alpha06'
+            classpath 'com.android.tools.build:gradle:3.1.2'
         } else {
             classpath 'com.android.tools.build:gradle:2.3.3'
         }
diff --git a/tinker-sample-android/gradle/wrapper/gradle-wrapper.properties b/tinker-sample-android/gradle/wrapper/gradle-wrapper.properties
index b08c4560..2ed88998 100644
--- a/tinker-sample-android/gradle/wrapper/gradle-wrapper.properties
+++ b/tinker-sample-android/gradle/wrapper/gradle-wrapper.properties
@@ -1,6 +1,6 @@
-#Tue Oct 24 15:01:44 CST 2017
+#Wed Jun 13 16:01:13 CST 2018
 distributionBase=GRADLE_USER_HOME
 distributionPath=wrapper/dists
 zipStoreBase=GRADLE_USER_HOME
 zipStorePath=wrapper/dists
-distributionUrl=https\://services.gradle.org/distributions/gradle-4.4-rc-3-all.zip
+distributionUrl=https\://services.gradle.org/distributions/gradle-4.4-all.zip
