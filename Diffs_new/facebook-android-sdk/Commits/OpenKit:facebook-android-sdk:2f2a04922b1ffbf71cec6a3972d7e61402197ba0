diff --git a/facebook/src/io/openkit/facebook/helpers/StyleableHelper.java b/facebook/src/io/openkit/facebook/helpers/StyleableHelper.java
index 75c9b6bd4..37c970795 100644
--- a/facebook/src/io/openkit/facebook/helpers/StyleableHelper.java
+++ b/facebook/src/io/openkit/facebook/helpers/StyleableHelper.java
@@ -5,7 +5,7 @@
 import android.util.Log;
 
 public class StyleableHelper {
-	
+
 	/*********************************************************************************
 	*   Returns the resource-IDs for all attributes specified in the
 	*   given <declare-styleable>-resource tag as an int array.
@@ -20,8 +20,10 @@
 	{
 	    try
 	    {
+	    	Log.d("FBMOD", "Trying reflection to get resource class R.styleable");
+
 	        //use reflection to access the resource class
-	        Field[] fields2 = Class.forName( context.getPackageName() + ".R$styleable" ).getFields();
+	        Field[] fields2 = Class.forName( context.getPackageName() + ".R.styleable" ).getFields();
 
 	        //browse all fields
 	        for ( Field f : fields2 )
@@ -39,14 +41,14 @@
 	    catch ( Throwable t )
 	    {
 	    	Log.e("FBMOD","Exception thrown while trying to find resource: " + t);
-	    	Log.e("FBMOD","Tried to load class name: " + context.getPackageName() + ".R$styleable");
+	    	Log.e("FBMOD","Tried to load class name: " + context.getPackageName() + ".R.styleable");
 	    }
-	    
+
 	    Log.e("FBMOD","Could not load resource properly!");
-	    
+
 	    return null;
 	}
-	
+
 	public static Boolean isRClassDefined(Context context)
 	{
 		try {
@@ -57,4 +59,14 @@ public static Boolean isRClassDefined(Context context)
 		}
 	}
 
+	public static Boolean isRStyleableClassDefined(Context context)
+	{
+		try {
+			Class.forName(context.getPackageName() + ".R.styleable" );
+			return true;
+		} catch (Exception e) {
+			return false;
+		}
+	}
+
 }
diff --git a/facebook/src/io/openkit/facebook/widget/ProfilePictureView.java b/facebook/src/io/openkit/facebook/widget/ProfilePictureView.java
index 65083aabf..ba4ee1d11 100644
--- a/facebook/src/io/openkit/facebook/widget/ProfilePictureView.java
+++ b/facebook/src/io/openkit/facebook/widget/ProfilePictureView.java
@@ -372,26 +372,41 @@ private void initialize(Context context) {
     }
 
     private void parseAttributes(AttributeSet attrs) {
-    	
+
     	//IF the Resources class is defined, load the stylable attributes
-    	if(StyleableHelper.isRClassDefined(getContext())) {
+    	if(StyleableHelper.isRStyleableClassDefined(getContext())) {
 	    	int attrArray[] = StyleableHelper.getResourceDeclareStyleableIntArray(getContext(), "com_facebook_profile_picture_view");
-	        //TypedArray a = getContext().obtainStyledAttributes(attrs, R.styleable.com_facebook_profile_picture_view);
+
+	    	if(attrArray == null) {
+	    		setDefaults();
+	    		return;
+	    	}
+
 	    	TypedArray a = getContext().obtainStyledAttributes(attrs, attrArray);
 	    	setPresetSize(a.getInt(0, CUSTOM));
 	    	isCropped = a.getBoolean(1, IS_CROPPED_DEFAULT_VALUE);
-	    	//setPresetSize(a.getInt(R.styleable.com_facebook_profile_picture_view_preset_size, CUSTOM));
-	        //isCropped = a.getBoolean(R.styleable.com_facebook_profile_picture_view_is_cropped, IS_CROPPED_DEFAULT_VALUE);
 	        a.recycle();
+
+	        /*
+	        TypedArray a = getContext().obtainStyledAttributes(attrs, R.styleable.com_facebook_profile_picture_view);
+	        setPresetSize(a.getInt(R.styleable.com_facebook_profile_picture_view_preset_size, CUSTOM));
+	        isCropped = a.getBoolean(R.styleable.com_facebook_profile_picture_view_is_cropped, IS_CROPPED_DEFAULT_VALUE);
+	        a.recycle();
+	        */
     	}
     	else
     	{
     		//There is no R class available so just set some defaults
-    		setPresetSize(NORMAL);
-    		isCropped = true;
+    		setDefaults();
     	}
     }
 
+    private void setDefaults()
+    {
+    	setPresetSize(NORMAL);
+		isCropped = true;
+    }
+
     private void refreshImage(boolean force) {
         boolean changed = updateImageQueryParameters();
         // Note: do not use Utility.isNullOrEmpty here as this will cause the Eclipse
@@ -406,7 +421,7 @@ private void refreshImage(boolean force) {
     }
 
     private void setBlankProfilePicture() {
-    	
+
     	int blankSquareID = getResources().getIdentifier("com_facebook_profile_picture_blank_square", "drawable", getContext().getPackageName());
     	int blankPortraitID = getResources().getIdentifier("com_facebook_profile_picture_blank_portrait", "drawable", getContext().getPackageName());
     	/*
@@ -523,12 +538,12 @@ private int getPresetSizeInPixels(boolean forcePreset) {
             case NORMAL:
                 //dimensionId = R.dimen.com_facebook_profilepictureview_preset_size_normal;
                 dimensionId =  getResources().getIdentifier("com_facebook_profilepictureview_preset_size_normal", "dimen", getContext().getPackageName());
-                
+
                 break;
             case LARGE:
                 //dimensionId = R.dimen.com_facebook_profilepictureview_preset_size_large;
                 dimensionId =  getResources().getIdentifier("com_facebook_profilepictureview_preset_size_large", "dimen", getContext().getPackageName());
-                
+
                 break;
             case CUSTOM:
                 if (!forcePreset) {
@@ -536,7 +551,7 @@ private int getPresetSizeInPixels(boolean forcePreset) {
                 } else {
                     //dimensionId = R.dimen.com_facebook_profilepictureview_preset_size_normal;
                     dimensionId =  getResources().getIdentifier("com_facebook_profilepictureview_preset_size_normal", "dimen", getContext().getPackageName());
-                    
+
                     break;
                 }
             default:
