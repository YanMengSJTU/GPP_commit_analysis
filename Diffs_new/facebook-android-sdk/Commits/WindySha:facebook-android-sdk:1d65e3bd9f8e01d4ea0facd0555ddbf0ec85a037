diff --git a/facebook-core/src/main/java/com/facebook/UserSettingsManager.java b/facebook-core/src/main/java/com/facebook/UserSettingsManager.java
index faa2c75f7..7176a4552 100644
--- a/facebook-core/src/main/java/com/facebook/UserSettingsManager.java
+++ b/facebook-core/src/main/java/com/facebook/UserSettingsManager.java
@@ -144,10 +144,12 @@ public void run() {
                             codelessRequest.setSkipClientToken(true);
                             codelessRequest.setParameters(codelessSettingsParams);
                             JSONObject response = codelessRequest.executeAndWait().getJSONObject();
-                            codelessSetupEnabled.value =
-                                    response.optBoolean(EVENTS_CODELESS_SETUP_ENABLED, false);
-                            codelessSetupEnabled.lastTS = currTime;
-                            writeSettingToCache(codelessSetupEnabled);
+                            if (response != null) {
+                              codelessSetupEnabled.value =
+                                      response.optBoolean(EVENTS_CODELESS_SETUP_ENABLED, false);
+                              codelessSetupEnabled.lastTS = currTime;
+                              writeSettingToCache(codelessSetupEnabled);
+                            }
                         }
                     }
                 }
