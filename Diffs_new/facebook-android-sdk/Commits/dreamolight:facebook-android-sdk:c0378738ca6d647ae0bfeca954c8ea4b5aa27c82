diff --git a/facebook/src/test/java/com/facebook/appevents/AppEventTest.java b/facebook/src/test/java/com/facebook/appevents/AppEventTest.java
index bec8f49ca..eaaef0f92 100644
--- a/facebook/src/test/java/com/facebook/appevents/AppEventTest.java
+++ b/facebook/src/test/java/com/facebook/appevents/AppEventTest.java
@@ -20,6 +20,9 @@
 
 package com.facebook.appevents;
 
+import android.content.Context;
+import android.content.SharedPreferences;
+
 import com.facebook.FacebookSdk;
 import com.facebook.FacebookTestCase;
 
@@ -28,6 +31,7 @@
 import org.junit.Assert;
 import org.junit.Before;
 import org.junit.Test;
+import org.mockito.Mockito;
 import org.robolectric.RuntimeEnvironment;
 
 import java.io.ByteArrayInputStream;
@@ -35,12 +39,20 @@
 import java.io.ObjectInputStream;
 import java.io.ObjectOutputStream;
 
+import static org.mockito.Matchers.anyInt;
+import static org.mockito.Matchers.anyString;
+
 public class AppEventTest extends FacebookTestCase {
     @Before
     public void init() {
+        final SharedPreferences sharedPrefs = Mockito.mock(SharedPreferences.class);
+        final Context context = Mockito.mock(Context.class);
+        Mockito.when(context.getSharedPreferences(anyString(), anyInt())).thenReturn(sharedPrefs);
+
+
         FacebookSdk.setApplicationId("123456789");
-        FacebookSdk.setAutoLogAppEventsEnabled(false);
         FacebookSdk.sdkInitialize(RuntimeEnvironment.application);
+        FacebookSdk.setAutoLogAppEventsEnabled(false);
     }
 
     @Test
