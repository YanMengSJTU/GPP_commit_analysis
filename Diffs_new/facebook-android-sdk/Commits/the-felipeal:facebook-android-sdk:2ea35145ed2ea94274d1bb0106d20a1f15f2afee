diff --git a/facebook-common/src/main/java/com/facebook/internal/WebDialog.java b/facebook-common/src/main/java/com/facebook/internal/WebDialog.java
index 045f88953..3f5872fc4 100644
--- a/facebook-common/src/main/java/com/facebook/internal/WebDialog.java
+++ b/facebook-common/src/main/java/com/facebook/internal/WebDialog.java
@@ -64,10 +64,6 @@
 import com.facebook.GraphRequestAsyncTask;
 import com.facebook.GraphResponse;
 import com.facebook.common.R;
-import com.facebook.internal.Logger;
-import com.facebook.internal.ServerProtocol;
-import com.facebook.internal.Utility;
-import com.facebook.internal.Validate;
 import com.facebook.share.internal.ShareConstants;
 import com.facebook.share.internal.ShareInternalUtility;
 import com.facebook.share.widget.ShareDialog;
@@ -129,6 +125,9 @@
     private boolean isPageFinished = false;
     private static volatile int webDialogTheme;
 
+    // Used to work around an Android Autofill bug - see Utility.mustFixWindowParamsForAutofill
+    private WindowManager.LayoutParams windowParams;
+
     protected static void initDefaultTheme(Context context) {
         if (context == null) {
             return;
@@ -332,9 +331,27 @@ public void onDetachedFromWindow() {
     @Override
     public void onAttachedToWindow() {
         isDetached = false;
+
+        if (Utility.mustFixWindowParamsForAutofill(getContext())
+                && windowParams != null && windowParams.token == null) {
+            windowParams.token = getOwnerActivity().getWindow().getAttributes().token;
+            Utility.logd(LOG_TAG, "Set token on onAttachedToWindow(): " + windowParams.token);
+        }
+
         super.onAttachedToWindow();
     }
 
+    @Override
+    public void onWindowAttributesChanged(WindowManager.LayoutParams params) {
+        if (params.token == null) {
+            // Always store the last params, so the token can be updated when the dialog is
+            // attached to the window.
+            windowParams = params;
+        }
+
+        super.onWindowAttributesChanged(params);
+    }
+
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -503,7 +520,7 @@ public void onClick(View v) {
     @SuppressLint("SetJavaScriptEnabled")
     private void setUpWebView(int margin) {
         LinearLayout webViewContainer = new LinearLayout(getContext());
-        webView = new WebView(getContext().getApplicationContext()) {
+        webView = new WebView(getContext()) {
             /* Prevent NPE on Motorola 2.2 devices
              * See https://groups.google.com/forum/?fromgroups=#!topic/android-developers/ktbwY2gtLKQ
              */
diff --git a/facebook-common/src/main/java/com/facebook/login/CustomTabLoginMethodHandler.java b/facebook-common/src/main/java/com/facebook/login/CustomTabLoginMethodHandler.java
index 06c5b33c4..ebb4940a6 100644
--- a/facebook-common/src/main/java/com/facebook/login/CustomTabLoginMethodHandler.java
+++ b/facebook-common/src/main/java/com/facebook/login/CustomTabLoginMethodHandler.java
@@ -26,9 +26,11 @@
 import android.content.pm.ResolveInfo;
 import android.content.pm.ServiceInfo;
 import android.net.Uri;
+import android.os.Build;
 import android.os.Bundle;
 import android.os.Parcel;
 import android.os.Parcelable;
+import android.view.autofill.AutofillManager;
 
 import com.facebook.AccessTokenSource;
 import com.facebook.CustomTabMainActivity;
@@ -107,6 +109,7 @@ boolean tryAuthorize(final LoginClient.Request request) {
     private boolean isCustomTabsAllowed() {
         return isCustomTabsEnabled()
                 && getChromePackage() != null
+                && isCustomTabsCompatibleWithAutofill()
                 && Validate.hasCustomTabRedirectActivity(FacebookSdk.getApplicationContext());
     }
 
@@ -137,6 +140,16 @@ private String getChromePackage() {
         return null;
     }
 
+    private boolean isCustomTabsCompatibleWithAutofill() {
+        if (!Utility.isAutofillAvailable(loginClient.getActivity())) {
+            return true;
+        }
+        // TODO: currently, Chrome does not support Android Autofill, so always return false.
+        // Once it does, change this code to dynamically check if the Chrome version in the device
+        // supports it.
+        return false;
+    }
+
     @Override
     boolean onActivityResult(int requestCode, int resultCode, Intent data) {
         if (requestCode != CUSTOM_TAB_REQUEST_CODE) {
diff --git a/facebook-core/src/main/java/com/facebook/internal/Utility.java b/facebook-core/src/main/java/com/facebook/internal/Utility.java
index fcf3fdc82..df6e78d92 100644
--- a/facebook-core/src/main/java/com/facebook/internal/Utility.java
+++ b/facebook-core/src/main/java/com/facebook/internal/Utility.java
@@ -37,6 +37,7 @@
 import android.util.Log;
 import android.view.Display;
 import android.view.WindowManager;
+import android.view.autofill.AutofillManager;
 import android.webkit.CookieManager;
 import android.webkit.CookieSyncManager;
 
@@ -1186,4 +1187,25 @@ public static String generateRandomString(int length) {
         Random r = new Random();
         return new BigInteger(length * 5, r).toString(32);
     }
+
+    /*
+     * There is a bug on Android O that excludes the dialog's view hierarchy from the
+     * ViewStructure used by Autofill because the window token is lost when the dialog
+     * is resized, hence the token needs to be saved dialog is attached to a window and restored
+     * when the dialog attributes change after it is resized.
+     */
+    public static boolean mustFixWindowParamsForAutofill(Context context) {
+        // TODO: once this bug is fixed on Android P, checks for version here as well
+        return isAutofillAvailable(context);
+    }
+
+    public static boolean isAutofillAvailable(Context context) {
+        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.O) {
+            // Autofill Framework is only available on Android O and higher
+            return false;
+        }
+        AutofillManager afm = context.getSystemService(AutofillManager.class);
+        // Returns whether autofill is supported by device or and enabled for current user.
+        return afm != null && afm.isAutofillSupported() && afm.isEnabled();
+    }
 }
diff --git a/gradle.properties b/gradle.properties
index 48ed711a5..31a5ee58b 100644
--- a/gradle.properties
+++ b/gradle.properties
@@ -1,5 +1,5 @@
 ANDROID_BUILD_MIN_SDK_VERSION=15
 ANDROID_BUILD_TARGET_SDK_VERSION=25
 ANDROID_BUILD_TOOLS_VERSION=25.0.3
-ANDROID_BUILD_SDK_VERSION=25
+ANDROID_BUILD_SDK_VERSION=26
 org.gradle.jvmargs=-Xmx1536M
\ No newline at end of file
