diff --git a/build.gradle b/build.gradle
index 7c6e8c15..94512c70 100644
--- a/build.gradle
+++ b/build.gradle
@@ -51,7 +51,7 @@ subprojects {
   apply plugin: 'maven'
 
   group = 'com.lemoulinstudio.greendao'
-  version = '1.8.4'
+  version = '1.8.5'
   
   repositories {
     mavenCentral()
diff --git a/source-generator/src/main/java/de/greenrobot/daogenerator/Property.java b/source-generator/src/main/java/de/greenrobot/daogenerator/Property.java
index d3bfecf3..dba7ca38 100644
--- a/source-generator/src/main/java/de/greenrobot/daogenerator/Property.java
+++ b/source-generator/src/main/java/de/greenrobot/daogenerator/Property.java
@@ -85,6 +85,7 @@ public PropertyBuilder index(int since) {
             index.setSince(since);
             index.addProperty(property);
             property.entity.addIndex(index);
+            property.schema.checkVersion(since);
             return this;
         }
 
diff --git a/source-generator/src/main/java/de/greenrobot/daogenerator/Schema.java b/source-generator/src/main/java/de/greenrobot/daogenerator/Schema.java
index 3e6cc978..1a9f6283 100644
--- a/source-generator/src/main/java/de/greenrobot/daogenerator/Schema.java
+++ b/source-generator/src/main/java/de/greenrobot/daogenerator/Schema.java
@@ -101,9 +101,7 @@ public Entity addEntity(String className) {
     }
 
     public Entity addEntity(String className, int since) {
-        if (since >= version) {
-            version = since;
-        }
+        checkVersion(since);
         Entity entity = new Entity(this, className, since);
         entities.add(entity);
         return entity;
