diff --git a/java/dagger/errorprone/BUILD b/java/dagger/errorprone/BUILD
index 8f49edec0..408925aa2 100644
--- a/java/dagger/errorprone/BUILD
+++ b/java/dagger/errorprone/BUILD
@@ -8,8 +8,8 @@ java_library(
     srcs = glob(["*.java"]),
     deps = [
         "//java/dagger:core",
+        "@bazel_tools//tools/jdk:langtools-neverlink",
         "@google_bazel_common//third_party/java/error_prone:check_api",
         "@google_bazel_common//third_party/java/guava",
-        "@local_jdk//:lib/tools.jar",
     ],
 )
diff --git a/java/dagger/internal/codegen/BUILD b/java/dagger/internal/codegen/BUILD
index 462b10e45..5afa9c3d3 100644
--- a/java/dagger/internal/codegen/BUILD
+++ b/java/dagger/internal/codegen/BUILD
@@ -42,7 +42,7 @@ CODEGEN_SHARED_DEPS = [
     "@google_bazel_common//third_party/java/error_prone:annotations",
     "@google_bazel_common//third_party/java/google_java_format",
     "@google_bazel_common//third_party/java/javapoet",
-    "@local_jdk//:lib/tools.jar",
+    "@bazel_tools//tools/jdk:langtools-neverlink",
     "@google_bazel_common//third_party/java/jsr250_annotations",
     "@google_bazel_common//third_party/java/jsr330_inject",
     "//java/dagger:core",
