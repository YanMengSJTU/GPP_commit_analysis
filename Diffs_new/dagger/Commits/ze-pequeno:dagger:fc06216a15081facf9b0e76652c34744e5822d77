diff --git a/java/dagger/internal/codegen/ProcessingEnvironmentModule.java b/java/dagger/internal/codegen/ProcessingEnvironmentModule.java
index f9a6a7a64..d50e8e6f8 100644
--- a/java/dagger/internal/codegen/ProcessingEnvironmentModule.java
+++ b/java/dagger/internal/codegen/ProcessingEnvironmentModule.java
@@ -28,7 +28,7 @@
 import dagger.internal.codegen.compileroption.ProcessingOptions;
 import dagger.internal.codegen.langmodel.DaggerElements;
 import dagger.internal.codegen.statistics.DaggerStatisticsRecorder;
-import dagger.internal.codegen.validation.BindingGraphValidator;
+import dagger.spi.BindingGraphPlugin;
 import java.util.Map;
 import java.util.Optional;
 import javax.annotation.processing.Filer;
@@ -96,6 +96,7 @@ CompilerOptions compilerOptions() {
   @Provides
   @ProcessorClassLoader
   ClassLoader processorClassloader() {
-    return BindingGraphValidator.class.getClassLoader();
+    return BindingGraphPlugin.class.getClassLoader();
   }
+
 }
