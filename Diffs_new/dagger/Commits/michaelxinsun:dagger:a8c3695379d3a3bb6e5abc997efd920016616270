diff --git a/java/dagger/internal/codegen/MapBindingExpression.java b/java/dagger/internal/codegen/MapBindingExpression.java
index f9a50fbb2..625cd7a24 100644
--- a/java/dagger/internal/codegen/MapBindingExpression.java
+++ b/java/dagger/internal/codegen/MapBindingExpression.java
@@ -100,12 +100,10 @@ Expression getDependencyExpression(ClassName requestingClass) {
         instantiation
             .add("$T.", isImmutableMapAvailable ? ImmutableMap.class : MapBuilder.class)
             .add(maybeTypeParameters(requestingClass));
-        if (isImmutableMapAvailable) {
-          if (isImmutableMapBuilderWithExpectedSizeAvailable) {
-            instantiation.add("builderWithExpectedSize($L)", dependencies.size());
-          } else {
-            instantiation.add("builder()");
-          }
+        if (isImmutableMapBuilderWithExpectedSizeAvailable) {
+          instantiation.add("builderWithExpectedSize($L)", dependencies.size());
+        } else if (isImmutableMapAvailable) {
+          instantiation.add("builder()");
         } else {
           instantiation.add("newMapBuilder($L)", dependencies.size());
         }
