diff --git a/javatests/dagger/internal/codegen/GraphValidationTest.java b/javatests/dagger/internal/codegen/GraphValidationTest.java
index a332b2381..6883cb3b8 100644
--- a/javatests/dagger/internal/codegen/GraphValidationTest.java
+++ b/javatests/dagger/internal/codegen/GraphValidationTest.java
@@ -1551,8 +1551,11 @@ public void bindsMissingRightHandSide() {
         .hadErrorContaining("test.Duplicates.NotBound cannot be provided")
         .inFile(component)
         .onLineContaining("intMap();");
+    // Some javacs report only the first error for each source line.
+    // Assert that one of the expected errors is reported.
     assertThat(compilation)
-        .hadErrorContaining("test.Duplicates.NotBound cannot be provided")
+        .hadErrorContainingMatch(
+            "test\\.Duplicates\\.NotBound cannot be provided|same map key is bound more than once")
         .inFile(component)
         .onLineContaining("longMap();");
   }
