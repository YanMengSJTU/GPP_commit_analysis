diff --git a/circle.yml b/circle.yml
index 15a4b5d5e..367130d28 100644
--- a/circle.yml
+++ b/circle.yml
@@ -15,7 +15,18 @@ dependencies:
 test:
   override:
     - ./gradlew test assembleDebug -PdisablePreDex
+
+    # android instrument test
+    - emulator -avd circleci-android22 -no-window:
+        background: true
+        parallel: true
+    - circle-android wait-for-boot
+    - ./gradlew :static-webp-test:connectedAndroidTest
+
   post:
     # copy test report for Circle CI to display
     - mkdir -p $CIRCLE_TEST_REPORTS/junit/
     - find . -type f -regex ".*/build/test-results/debug/.*xml" -exec cp {} $CIRCLE_TEST_REPORTS/junit/ \;
+    - mkdir -p $CIRCLE_TEST_REPORTS/androidTests
+    - cp -r static-webp-test/build/reports/androidTests/connected/* $CIRCLE_TEST_REPORTS/androidTests
+
diff --git a/settings.gradle b/settings.gradle
index b7cfd2859..23dca354c 100644
--- a/settings.gradle
+++ b/settings.gradle
@@ -20,6 +20,7 @@ include ':imagepipeline-backends:imagepipeline-okhttp'
 include ':imagepipeline-backends:imagepipeline-okhttp3'
 include ':imagepipeline-backends:imagepipeline-volley'
 include ':static-webp'
+include ':static-webp-test'
 include ':imagepipeline-base'
 include ':imagepipeline-base-test'
 include ':imagepipeline-test'
diff --git a/static-webp-test/.gitignore b/static-webp-test/.gitignore
new file mode 100644
index 000000000..796b96d1c
--- /dev/null
+++ b/static-webp-test/.gitignore
@@ -0,0 +1 @@
+/build
diff --git a/static-webp-test/build.gradle b/static-webp-test/build.gradle
new file mode 100644
index 000000000..d257accc4
--- /dev/null
+++ b/static-webp-test/build.gradle
@@ -0,0 +1,40 @@
+apply plugin: 'com.android.library'
+apply plugin: 'maven'
+
+project.group = GROUP
+version = VERSION_NAME
+
+// While static-webp excludes the libjpeg_turbo.so in packaging, we extract androidTest to a
+// single module.
+
+dependencies {
+    androidTestCompile "junit:junit:${JUNIT_VERSION}"
+    androidTestCompile 'com.android.support.test:runner:0.4'
+    androidTestCompile 'com.android.support.test:rules:0.4'
+    androidTestCompile project(':imagepipeline')
+    androidTestCompile project(':static-webp')
+}
+
+android {
+
+    buildToolsVersion rootProject.ext.buildToolsVersion
+    compileSdkVersion rootProject.ext.compileSdkVersion
+
+    defaultConfig {
+        minSdkVersion rootProject.ext.minSdkVersion
+        targetSdkVersion rootProject.ext.targetSdkVersion
+
+        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
+    }
+
+    lintOptions {
+        abortOnError false
+    }
+}
+
+task sourcesJar(type: Jar) {
+    from android.sourceSets.main.java.srcDirs
+    classifier = 'sources'
+}
+
+artifacts.add('archives', sourcesJar)
diff --git a/static-webp-test/proguard-rules.pro b/static-webp-test/proguard-rules.pro
new file mode 100644
index 000000000..4283ae5f1
--- /dev/null
+++ b/static-webp-test/proguard-rules.pro
@@ -0,0 +1,25 @@
+# Add project specific ProGuard rules here.
+# By default, the flags in this file are appended to flags specified
+# in /Users/desmond/Library/Android/sdk/tools/proguard/proguard-android.txt
+# You can edit the include path and order by changing the proguardFiles
+# directive in build.gradle.
+#
+# For more details, see
+#   http://developer.android.com/guide/developing/tools/proguard.html
+
+# Add any project specific keep options here:
+
+# If your project uses WebView with JS, uncomment the following
+# and specify the fully qualified class name to the JavaScript interface
+# class:
+#-keepclassmembers class fqcn.of.javascript.interface.for.webview {
+#   public *;
+#}
+
+# Uncomment this to preserve the line number information for
+# debugging stack traces.
+#-keepattributes SourceFile,LineNumberTable
+
+# If you keep the line number information, uncomment this to
+# hide the original source file name.
+#-renamesourcefileattribute SourceFile
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/AndroidManifest.xml b/static-webp-test/src/androidTest/AndroidManifest.xml
similarity index 75%
rename from static-webp/src/androidTest/java/com/facebook/webpsupport/AndroidManifest.xml
rename to static-webp-test/src/androidTest/AndroidManifest.xml
index bc36dc2a4..5d357ccf7 100644
--- a/static-webp/src/androidTest/java/com/facebook/webpsupport/AndroidManifest.xml
+++ b/static-webp-test/src/androidTest/AndroidManifest.xml
@@ -1,5 +1,5 @@
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
-          package="com.facebook" >
+          package="com.facebook.webpsupport.test" >
 
   <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
 
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/redsquare.jpg b/static-webp-test/src/androidTest/assets/redsquare.jpg
similarity index 100%
rename from static-webp/src/androidTest/java/com/facebook/webpsupport/assets/redsquare.jpg
rename to static-webp-test/src/androidTest/assets/redsquare.jpg
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/redsquare.webp b/static-webp-test/src/androidTest/assets/redsquare.webp
similarity index 100%
rename from static-webp/src/androidTest/java/com/facebook/webpsupport/assets/redsquare.webp
rename to static-webp-test/src/androidTest/assets/redsquare.webp
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_e.webp b/static-webp-test/src/androidTest/assets/webp_e.webp
similarity index 100%
rename from static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_e.webp
rename to static-webp-test/src/androidTest/assets/webp_e.webp
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_ea.webp b/static-webp-test/src/androidTest/assets/webp_ea.webp
similarity index 100%
rename from static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_ea.webp
rename to static-webp-test/src/androidTest/assets/webp_ea.webp
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_ll.webp b/static-webp-test/src/androidTest/assets/webp_ll.webp
similarity index 100%
rename from static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_ll.webp
rename to static-webp-test/src/androidTest/assets/webp_ll.webp
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_plain.webp b/static-webp-test/src/androidTest/assets/webp_plain.webp
similarity index 100%
rename from static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_plain.webp
rename to static-webp-test/src/androidTest/assets/webp_plain.webp
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/WebpBitmapFactoryTest.java b/static-webp-test/src/androidTest/java/com/facebook/webpsupport/WebpBitmapFactoryTest.java
similarity index 95%
rename from static-webp/src/androidTest/java/com/facebook/webpsupport/WebpBitmapFactoryTest.java
rename to static-webp-test/src/androidTest/java/com/facebook/webpsupport/WebpBitmapFactoryTest.java
index 095cdf1db..0c90482a5 100644
--- a/static-webp/src/androidTest/java/com/facebook/webpsupport/WebpBitmapFactoryTest.java
+++ b/static-webp-test/src/androidTest/java/com/facebook/webpsupport/WebpBitmapFactoryTest.java
@@ -15,7 +15,6 @@
 import java.io.FileOutputStream;
 import java.io.IOException;
 import java.io.InputStream;
-import java.lang.Override;
 
 import android.app.Instrumentation;
 import android.graphics.Bitmap;
@@ -24,7 +23,6 @@
 import android.os.Environment;
 import android.support.test.InstrumentationRegistry;
 import android.support.test.runner.AndroidJUnit4;
-import android.test.InstrumentationTestCase;
 import android.os.Build;
 
 import com.facebook.common.internal.ByteStreams;
@@ -32,18 +30,18 @@
 import com.facebook.imagepipeline.core.ImagePipelineConfig;
 import com.facebook.imagepipeline.core.ImagePipelineFactory;
 
-import org.junit.After;
 import org.junit.Before;
 import org.junit.Test;
 import org.junit.runner.RunWith;
 
+import static org.junit.Assert.*;
+
 @RunWith(AndroidJUnit4.class)
-public class WebpBitmapFactoryTest extends InstrumentationTestCase {
+public class WebpBitmapFactoryTest {
   private Instrumentation mInstrumentation;
 
   private WebpBitmapFactoryImpl mWebpBitmapFactory;
 
-  @Override
   @Before
   public void setUp() {
     mInstrumentation = InstrumentationRegistry.getInstrumentation();
@@ -120,12 +118,6 @@ public void testWebpDecodeStream() throws Throwable {
     assertEquals("Height should be decoded properly", 20, bitmap.getHeight());
 
     assertEquals("Bitmap pixels should be red", 0xFFFF0100, bitmap.getPixel(5, 8));
-
-    // Alternatively, load image manually adb pull /mnt/sdcard/resulthooked.jpg
-    bitmap.compress(
-        Bitmap.CompressFormat.JPEG,
-        90,
-        new FileOutputStream(Environment.getExternalStorageDirectory() + "/resulthooked.jpg"));
   }
 
   @Test
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/WebpDecodingTest.java b/static-webp-test/src/androidTest/java/com/facebook/webpsupport/WebpDecodingTest.java
similarity index 97%
rename from static-webp/src/androidTest/java/com/facebook/webpsupport/WebpDecodingTest.java
rename to static-webp-test/src/androidTest/java/com/facebook/webpsupport/WebpDecodingTest.java
index fa4346f4d..bdb35a395 100644
--- a/static-webp/src/androidTest/java/com/facebook/webpsupport/WebpDecodingTest.java
+++ b/static-webp-test/src/androidTest/java/com/facebook/webpsupport/WebpDecodingTest.java
@@ -19,7 +19,6 @@
 import android.os.MemoryFile;
 import android.support.test.InstrumentationRegistry;
 import android.support.test.runner.AndroidJUnit4;
-import android.test.InstrumentationTestCase;
 
 import com.facebook.common.internal.ByteStreams;
 import com.facebook.common.internal.Throwables;
@@ -30,11 +29,13 @@
 import org.junit.Test;
 import org.junit.runner.RunWith;
 
+import static org.junit.Assert.*;
+
 /**
  * This is the test in order to directly decoding all types of webp images
  */
 @RunWith(AndroidJUnit4.class)
-public class WebpDecodingTest extends InstrumentationTestCase {
+public class WebpDecodingTest {
 
   private static Method sGetFileDescriptorMethod;
 
@@ -42,7 +43,6 @@
 
   private WebpBitmapFactoryImpl mWebpBitmapFactory;
 
-  @Override
   @Before
   public void setUp() {
     mInstrumentation = InstrumentationRegistry.getInstrumentation();
diff --git a/static-webp-test/src/main/AndroidManifest.xml b/static-webp-test/src/main/AndroidManifest.xml
new file mode 100644
index 000000000..398ea34ab
--- /dev/null
+++ b/static-webp-test/src/main/AndroidManifest.xml
@@ -0,0 +1,5 @@
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+    package="com.facebook.webpsupport.test">
+
+
+</manifest>
diff --git a/static-webp/build.gradle b/static-webp/build.gradle
index a9dd2ad33..d38e97377 100644
--- a/static-webp/build.gradle
+++ b/static-webp/build.gradle
@@ -9,9 +9,7 @@ dependencies {
     provided "com.google.code.findbugs:jsr305:${JSR_305_VERSION}"
     compile "com.parse.bolts:bolts-tasks:${BOLTS_ANDROID_VERSION}"
     testCompile "junit:junit:${JUNIT_VERSION}"
-    androidTestCompile "junit:junit:${JUNIT_VERSION}"
-    androidTestCompile 'com.android.support.test:runner:0.4'
-    androidTestCompile 'com.android.support.test:rules:0.4'
+
     compile project(':fbcore')
     compile project(':imagepipeline-base')
 }
