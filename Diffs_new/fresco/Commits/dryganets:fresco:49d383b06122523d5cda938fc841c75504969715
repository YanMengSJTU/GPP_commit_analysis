diff --git a/imagepipeline/src/main/jni/third-party/libjpeg-turbo-1.5.3/config.h b/imagepipeline/src/main/jni/third-party/libjpeg-turbo-1.5.3/config.h
index 295160f44..d0c025f64 100644
--- a/imagepipeline/src/main/jni/third-party/libjpeg-turbo-1.5.3/config.h
+++ b/imagepipeline/src/main/jni/third-party/libjpeg-turbo-1.5.3/config.h
@@ -116,7 +116,12 @@
    unsigned. */
 /* #undef RIGHT_SHIFT_IS_UNSIGNED */
 
-#define SIZEOF_SIZE_T 1
+/* The size of `size_t', as computed by sizeof. */
+#ifdef __LP64__
+#  define SIZEOF_SIZE_T 8
+#else
+#  define SIZEOF_SIZE_T 4
+#endif
 
 /* Define to 1 if you have the ANSI C header files. */
 #define STDC_HEADERS 1
diff --git a/static-webp/src/main/jni/third-party/libjpeg-turbo-1.5.3/config.h b/static-webp/src/main/jni/third-party/libjpeg-turbo-1.5.3/config.h
index 7e13e1b0a..d0c025f64 100644
--- a/static-webp/src/main/jni/third-party/libjpeg-turbo-1.5.3/config.h
+++ b/static-webp/src/main/jni/third-party/libjpeg-turbo-1.5.3/config.h
@@ -115,7 +115,13 @@
 /* Define if your (broken) compiler shifts signed values as if they were
    unsigned. */
 /* #undef RIGHT_SHIFT_IS_UNSIGNED */
-#define SIZEOF_SIZE_T 1
+
+/* The size of `size_t', as computed by sizeof. */
+#ifdef __LP64__
+#  define SIZEOF_SIZE_T 8
+#else
+#  define SIZEOF_SIZE_T 4
+#endif
 
 /* Define to 1 if you have the ANSI C header files. */
 #define STDC_HEADERS 1
