diff --git a/.idea/codeStyleSettings.xml b/.idea/codeStyleSettings.xml
deleted file mode 100644
index 2950ed79d..000000000
--- a/.idea/codeStyleSettings.xml
+++ /dev/null
@@ -1,307 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<project version="4">
-  <component name="ProjectCodeStyleSettingsManager">
-    <option name="PER_PROJECT_SETTINGS">
-      <value>
-        <option name="OTHER_INDENT_OPTIONS">
-          <value>
-            <option name="INDENT_SIZE" value="2" />
-            <option name="CONTINUATION_INDENT_SIZE" value="4" />
-            <option name="TAB_SIZE" value="2" />
-            <option name="USE_TAB_CHARACTER" value="false" />
-            <option name="SMART_TABS" value="false" />
-            <option name="LABEL_INDENT_SIZE" value="0" />
-            <option name="LABEL_INDENT_ABSOLUTE" value="false" />
-            <option name="USE_RELATIVE_INDENTS" value="false" />
-          </value>
-        </option>
-        <option name="FIELD_NAME_PREFIX" value="m" />
-        <option name="STATIC_FIELD_NAME_PREFIX" value="s" />
-        <option name="CLASS_COUNT_TO_USE_IMPORT_ON_DEMAND" value="10000" />
-        <option name="NAMES_COUNT_TO_USE_IMPORT_ON_DEMAND" value="10000" />
-        <option name="IMPORT_LAYOUT_TABLE">
-          <value>
-            <package name="javax" withSubpackages="true" static="false" />
-            <emptyLine />
-            <package name="java" withSubpackages="true" static="false" />
-            <emptyLine />
-            <package name="android" withSubpackages="true" static="false" />
-            <emptyLine />
-            <package name="com.facebook" withSubpackages="true" static="false" />
-            <emptyLine />
-            <package name="" withSubpackages="true" static="false" />
-            <emptyLine />
-            <package name="" withSubpackages="true" static="true" />
-          </value>
-        </option>
-        <option name="RIGHT_MARGIN" value="100" />
-        <option name="JD_ALIGN_PARAM_COMMENTS" value="false" />
-        <option name="JD_ALIGN_EXCEPTION_COMMENTS" value="false" />
-        <option name="JD_P_AT_EMPTY_LINES" value="false" />
-        <option name="FORMATTER_TAGS_ENABLED" value="true" />
-        <option name="WRAP_COMMENTS" value="true" />
-        <AndroidXmlCodeStyleSettings>
-          <option name="USE_CUSTOM_SETTINGS" value="true" />
-          <option name="LAYOUT_SETTINGS">
-            <value>
-              <option name="INSERT_LINE_BREAK_AFTER_LAST_ATTRIBUTE" value="true" />
-            </value>
-          </option>
-          <option name="VALUE_RESOURCE_FILE_SETTINGS">
-            <value>
-              <option name="WRAP_ATTRIBUTES" value="2" />
-            </value>
-          </option>
-        </AndroidXmlCodeStyleSettings>
-        <MarkdownNavigatorCodeStyleSettings>
-          <option name="RIGHT_MARGIN" value="72" />
-        </MarkdownNavigatorCodeStyleSettings>
-        <Objective-C-extensions>
-          <option name="GENERATE_INSTANCE_VARIABLES_FOR_PROPERTIES" value="ASK" />
-          <option name="RELEASE_STYLE" value="IVAR" />
-          <option name="TYPE_QUALIFIERS_PLACEMENT" value="BEFORE" />
-          <file>
-            <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Import" />
-            <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Macro" />
-            <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Typedef" />
-            <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Enum" />
-            <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Constant" />
-            <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Global" />
-            <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Struct" />
-            <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="FunctionPredecl" />
-            <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Function" />
-          </file>
-          <class>
-            <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Property" />
-            <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Synthesize" />
-            <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="InitMethod" />
-            <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="StaticMethod" />
-            <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="InstanceMethod" />
-            <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="DeallocMethod" />
-          </class>
-          <extensions>
-            <pair source="cpp" header="h" />
-            <pair source="c" header="h" />
-          </extensions>
-        </Objective-C-extensions>
-        <XML>
-          <option name="XML_TEXT_WRAP" value="0" />
-          <option name="XML_KEEP_BLANK_LINES" value="1" />
-          <option name="XML_ALIGN_ATTRIBUTES" value="false" />
-          <option name="XML_SPACE_INSIDE_EMPTY_TAG" value="true" />
-          <option name="XML_LEGACY_SETTINGS_IMPORTED" value="true" />
-        </XML>
-        <codeStyleSettings language="JAVA">
-          <option name="KEEP_BLANK_LINES_IN_DECLARATIONS" value="1" />
-          <option name="KEEP_BLANK_LINES_IN_CODE" value="1" />
-          <option name="KEEP_BLANK_LINES_BEFORE_RBRACE" value="1" />
-          <option name="BLANK_LINES_AFTER_CLASS_HEADER" value="1" />
-          <option name="ALIGN_MULTILINE_PARAMETERS" value="false" />
-          <option name="CALL_PARAMETERS_WRAP" value="5" />
-          <option name="CALL_PARAMETERS_LPAREN_ON_NEXT_LINE" value="true" />
-          <option name="METHOD_PARAMETERS_WRAP" value="5" />
-          <option name="METHOD_PARAMETERS_LPAREN_ON_NEXT_LINE" value="true" />
-          <option name="RESOURCE_LIST_WRAP" value="5" />
-          <option name="RESOURCE_LIST_LPAREN_ON_NEXT_LINE" value="true" />
-          <option name="EXTENDS_LIST_WRAP" value="1" />
-          <option name="THROWS_LIST_WRAP" value="1" />
-          <option name="EXTENDS_KEYWORD_WRAP" value="1" />
-          <option name="THROWS_KEYWORD_WRAP" value="1" />
-          <option name="METHOD_CALL_CHAIN_WRAP" value="1" />
-          <option name="BINARY_OPERATION_WRAP" value="1" />
-          <option name="TERNARY_OPERATION_WRAP" value="1" />
-          <option name="FOR_STATEMENT_WRAP" value="5" />
-          <option name="FOR_STATEMENT_LPAREN_ON_NEXT_LINE" value="true" />
-          <option name="ARRAY_INITIALIZER_WRAP" value="1" />
-          <option name="ASSIGNMENT_WRAP" value="1" />
-          <option name="ASSERT_STATEMENT_WRAP" value="1" />
-          <option name="FIELD_ANNOTATION_WRAP" value="1" />
-          <option name="PARAMETER_ANNOTATION_WRAP" value="1" />
-          <option name="VARIABLE_ANNOTATION_WRAP" value="1" />
-          <option name="ENUM_CONSTANTS_WRAP" value="1" />
-          <indentOptions>
-            <option name="INDENT_SIZE" value="2" />
-            <option name="CONTINUATION_INDENT_SIZE" value="4" />
-            <option name="TAB_SIZE" value="2" />
-          </indentOptions>
-        </codeStyleSettings>
-        <codeStyleSettings language="JavaScript">
-          <option name="WRAP_COMMENTS" value="true" />
-          <option name="PARENT_SETTINGS_INSTALLED" value="true" />
-        </codeStyleSettings>
-        <codeStyleSettings language="Python">
-          <indentOptions>
-            <option name="INDENT_SIZE" value="2" />
-            <option name="CONTINUATION_INDENT_SIZE" value="4" />
-            <option name="TAB_SIZE" value="2" />
-          </indentOptions>
-        </codeStyleSettings>
-        <codeStyleSettings language="TypeScript">
-          <option name="WRAP_COMMENTS" value="true" />
-          <option name="PARENT_SETTINGS_INSTALLED" value="true" />
-        </codeStyleSettings>
-        <codeStyleSettings language="XML">
-          <option name="FORCE_REARRANGE_MODE" value="1" />
-          <indentOptions>
-            <option name="INDENT_SIZE" value="2" />
-            <option name="CONTINUATION_INDENT_SIZE" value="4" />
-            <option name="TAB_SIZE" value="2" />
-          </indentOptions>
-          <arrangement>
-            <rules>
-              <section>
-                <rule>
-                  <match>
-                    <AND>
-                      <NAME>xmlns:android</NAME>
-                      <XML_NAMESPACE>^$</XML_NAMESPACE>
-                    </AND>
-                  </match>
-                </rule>
-              </section>
-              <section>
-                <rule>
-                  <match>
-                    <AND>
-                      <NAME>xmlns:.*</NAME>
-                      <XML_NAMESPACE>^$</XML_NAMESPACE>
-                    </AND>
-                  </match>
-                  <order>BY_NAME</order>
-                </rule>
-              </section>
-              <section>
-                <rule>
-                  <match>
-                    <AND>
-                      <NAME>.*:id</NAME>
-                      <XML_NAMESPACE>http://schemas.android.com/apk/res/android</XML_NAMESPACE>
-                    </AND>
-                  </match>
-                </rule>
-              </section>
-              <section>
-                <rule>
-                  <match>
-                    <AND>
-                      <NAME>.*:name</NAME>
-                      <XML_NAMESPACE>http://schemas.android.com/apk/res/android</XML_NAMESPACE>
-                    </AND>
-                  </match>
-                </rule>
-              </section>
-              <section>
-                <rule>
-                  <match>
-                    <AND>
-                      <NAME>name</NAME>
-                      <XML_NAMESPACE>^$</XML_NAMESPACE>
-                    </AND>
-                  </match>
-                </rule>
-              </section>
-              <section>
-                <rule>
-                  <match>
-                    <AND>
-                      <NAME>style</NAME>
-                      <XML_NAMESPACE>^$</XML_NAMESPACE>
-                    </AND>
-                  </match>
-                </rule>
-              </section>
-              <section>
-                <rule>
-                  <match>
-                    <AND>
-                      <NAME>.*</NAME>
-                      <XML_NAMESPACE>^$</XML_NAMESPACE>
-                    </AND>
-                  </match>
-                  <order>BY_NAME</order>
-                </rule>
-              </section>
-              <section>
-                <rule>
-                  <match>
-                    <AND>
-                      <NAME>.*:layout_width</NAME>
-                      <XML_NAMESPACE>http://schemas.android.com/apk/res/android</XML_NAMESPACE>
-                    </AND>
-                  </match>
-                </rule>
-              </section>
-              <section>
-                <rule>
-                  <match>
-                    <AND>
-                      <NAME>.*:layout_height</NAME>
-                      <XML_NAMESPACE>http://schemas.android.com/apk/res/android</XML_NAMESPACE>
-                    </AND>
-                  </match>
-                </rule>
-              </section>
-              <section>
-                <rule>
-                  <match>
-                    <AND>
-                      <NAME>.*:layout_.*</NAME>
-                      <XML_NAMESPACE>http://schemas.android.com/apk/res/android</XML_NAMESPACE>
-                    </AND>
-                  </match>
-                  <order>BY_NAME</order>
-                </rule>
-              </section>
-              <section>
-                <rule>
-                  <match>
-                    <AND>
-                      <NAME>.*:width</NAME>
-                      <XML_NAMESPACE>http://schemas.android.com/apk/res/android</XML_NAMESPACE>
-                    </AND>
-                  </match>
-                  <order>BY_NAME</order>
-                </rule>
-              </section>
-              <section>
-                <rule>
-                  <match>
-                    <AND>
-                      <NAME>.*:height</NAME>
-                      <XML_NAMESPACE>http://schemas.android.com/apk/res/android</XML_NAMESPACE>
-                    </AND>
-                  </match>
-                  <order>BY_NAME</order>
-                </rule>
-              </section>
-              <section>
-                <rule>
-                  <match>
-                    <AND>
-                      <NAME>.*</NAME>
-                      <XML_NAMESPACE>http://schemas.android.com/apk/res/android</XML_NAMESPACE>
-                    </AND>
-                  </match>
-                  <order>BY_NAME</order>
-                </rule>
-              </section>
-              <section>
-                <rule>
-                  <match>
-                    <AND>
-                      <NAME>.*</NAME>
-                      <XML_NAMESPACE>.*</XML_NAMESPACE>
-                    </AND>
-                  </match>
-                  <order>BY_NAME</order>
-                </rule>
-              </section>
-            </rules>
-          </arrangement>
-        </codeStyleSettings>
-      </value>
-    </option>
-    <option name="USE_PER_PROJECT_SETTINGS" value="true" />
-    <option name="PREFERRED_PROJECT_CODE_STYLE" value="Default" />
-  </component>
-</project>
diff --git a/animated-base-support/gradle.properties b/animated-base-support/gradle.properties
index 65693d72d..92710bb06 100644
--- a/animated-base-support/gradle.properties
+++ b/animated-base-support/gradle.properties
@@ -1,5 +1,14 @@
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.9.0-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
 POM_NAME=AnimatedBaseSupport
 POM_DESCRIPTION=Base classes for animation support using NineOldAndroid
-POM_ARTIFACT_ID=animated-base-support
+POM_ARTIFACT_ID=fresco-animated-base-support
 POM_PACKAGING=aar
 
diff --git a/animated-base-test/gradle.properties b/animated-base-test/gradle.properties
index 1fcb822ea..754115bea 100644
--- a/animated-base-test/gradle.properties
+++ b/animated-base-test/gradle.properties
@@ -1,3 +1,12 @@
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.0.8-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
 POM_NAME=AnimatedBaseTest
 POM_DESCRIPTION=Utility classes for tests about animation support
 POM_ARTIFACT_ID=animated-base-test
diff --git a/animated-base/gradle.properties b/animated-base/gradle.properties
index a44917f8e..b0347b4a2 100644
--- a/animated-base/gradle.properties
+++ b/animated-base/gradle.properties
@@ -1,5 +1,15 @@
+systemProp.file.encoding=utf-8
 POM_NAME=AnimatedBase
 POM_DESCRIPTION=Base classes for animation support
-POM_ARTIFACT_ID=animated-base
+POM_ARTIFACT_ID=fresco-animated-base
 POM_PACKAGING=aar
 
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.9.0-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
+
+
diff --git a/animated-base/src/main/java/com/facebook/imagepipeline/animated/base/AbstractAnimatedDrawable.java b/animated-base/src/main/java/com/facebook/imagepipeline/animated/base/AbstractAnimatedDrawable.java
index 55132cb55..b7e46bc35 100644
--- a/animated-base/src/main/java/com/facebook/imagepipeline/animated/base/AbstractAnimatedDrawable.java
+++ b/animated-base/src/main/java/com/facebook/imagepipeline/animated/base/AbstractAnimatedDrawable.java
@@ -216,6 +216,10 @@ protected void onBoundsChange(Rect bounds) {
     mAnimatedDrawableBackend.dropCaches();
   }
 
+  public Paint getPaint(){
+    return mPaint;
+  }
+
   private void onStart() {
     if (!mIsRunning) {
       return;
@@ -602,7 +606,7 @@ public int getLoopCount() {
     return mLoopCount;
   }
 
-  protected AnimatedDrawableCachingBackend getAnimatedDrawableBackend() {
+  public AnimatedDrawableCachingBackend getAnimatedDrawableBackend() {
     return mAnimatedDrawableBackend;
   }
 }
diff --git a/animated-drawable/gradle.properties b/animated-drawable/gradle.properties
new file mode 100644
index 000000000..607876e0f
--- /dev/null
+++ b/animated-drawable/gradle.properties
@@ -0,0 +1,14 @@
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.9.0-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
+POM_NAME=AnimatedDrawable
+POM_DESCRIPTION=Base classes for animation support using NineOldAndroid
+POM_ARTIFACT_ID=fresco-animated-drawable
+POM_PACKAGING=aar
+
diff --git a/animated-gif/gradle.properties b/animated-gif/gradle.properties
index 1413151aa..3a0a7b04b 100644
--- a/animated-gif/gradle.properties
+++ b/animated-gif/gradle.properties
@@ -1,5 +1,15 @@
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.9.0-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
+
 POM_NAME=AnimatedGif
 POM_DESCRIPTION=The classes to support animated gif
-POM_ARTIFACT_ID=animated-gif
+POM_ARTIFACT_ID=fresco-animated-gif
 POM_PACKAGING=aar
 
diff --git a/animated-webp/gradle.properties b/animated-webp/gradle.properties
index a39bd1b5c..76b0d5dbf 100644
--- a/animated-webp/gradle.properties
+++ b/animated-webp/gradle.properties
@@ -1,5 +1,16 @@
+
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.9.0-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
+
 POM_NAME=AnimatedWebp
 POM_DESCRIPTION=The classes to support animated webp
-POM_ARTIFACT_ID=animated-webp
+POM_ARTIFACT_ID=fresco-animated-webp
 POM_PACKAGING=aar
 
diff --git a/drawee-backends/drawee-pipeline/gradle.properties b/drawee-backends/drawee-pipeline/gradle.properties
index 63fbebe3b..521402697 100644
--- a/drawee-backends/drawee-pipeline/gradle.properties
+++ b/drawee-backends/drawee-pipeline/gradle.properties
@@ -1,5 +1,15 @@
+
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.9.0-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
 POM_NAME=Fresco
 POM_DESCRIPTION=A system to load and display images and manage their memory on Android
-POM_ARTIFACT_ID=fresco
+POM_ARTIFACT_ID=fresco-drawee-pipeline
 POM_PACKAGING=aar
 
diff --git a/drawee-backends/drawee-volley/gradle.properties b/drawee-backends/drawee-volley/gradle.properties
index 4fc101df6..25d0d8939 100644
--- a/drawee-backends/drawee-volley/gradle.properties
+++ b/drawee-backends/drawee-volley/gradle.properties
@@ -1,3 +1,12 @@
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.0.8-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
 POM_NAME=Drawee-Volley Integration
 POM_DESCRIPTION=An integration library to use Volley to load images into Drawee
 POM_ARTIFACT_ID=drawee-volley
diff --git a/drawee-span/gradle.properties b/drawee-span/gradle.properties
index 9f7c23322..d18b7c835 100644
--- a/drawee-span/gradle.properties
+++ b/drawee-span/gradle.properties
@@ -1,5 +1,14 @@
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.9.0-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
 POM_NAME=DraweeSpan
 POM_DESCRIPTION=Adds support for text with inline images
-POM_ARTIFACT_ID=drawee-span
+POM_ARTIFACT_ID=fresco-fdrawee-span
 POM_PACKAGING=aar
 
diff --git a/drawee/build.gradle b/drawee/build.gradle
index a4ed9e7a8..368dc3ce8 100644
--- a/drawee/build.gradle
+++ b/drawee/build.gradle
@@ -11,7 +11,8 @@ dependencies {
     provided "javax.annotation:javax.annotation-api:${ANNOTATION_API_VERSION}"
 
     compile project(':fbcore')
-
+    compile project(':animated-base')
+    compile project(':animated-base-support')
     testCompile "junit:junit:${JUNIT_VERSION}"
     testCompile "org.mockito:mockito-core:${MOCKITO_CORE_VERSION}"
     testCompile("org.robolectric:robolectric:${ROBOLECTRIC_VERSION}") {
diff --git a/drawee/gradle.properties b/drawee/gradle.properties
index 85f3521c5..70d44cc10 100644
--- a/drawee/gradle.properties
+++ b/drawee/gradle.properties
@@ -1,5 +1,15 @@
+
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.9.0-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
 POM_NAME=Drawee
 POM_DESCRIPTION=A fast, feature-rich image display library for Android
-POM_ARTIFACT_ID=drawee
+POM_ARTIFACT_ID=fresco-drawee
 POM_PACKAGING=aar
 
diff --git a/drawee/src/main/java/com/facebook/drawee/drawable/CustomPainterDrawable.java b/drawee/src/main/java/com/facebook/drawee/drawable/CustomPainterDrawable.java
new file mode 100644
index 000000000..7e0f51d67
--- /dev/null
+++ b/drawee/src/main/java/com/facebook/drawee/drawable/CustomPainterDrawable.java
@@ -0,0 +1,11 @@
+package com.facebook.drawee.drawable;
+
+import android.graphics.Canvas;
+
+/**
+ * Created by Linhh on 16/10/20.
+ */
+
+public interface CustomPainterDrawable {
+  public void draw(Canvas canvas);
+}
diff --git a/drawee/src/main/java/com/facebook/drawee/drawable/RichDrawable.java b/drawee/src/main/java/com/facebook/drawee/drawable/RichDrawable.java
new file mode 100644
index 000000000..d097da053
--- /dev/null
+++ b/drawee/src/main/java/com/facebook/drawee/drawable/RichDrawable.java
@@ -0,0 +1,166 @@
+package com.facebook.drawee.drawable;
+
+import android.graphics.Bitmap;
+import android.graphics.Canvas;
+import android.graphics.ColorFilter;
+import android.graphics.Paint;
+import android.graphics.drawable.BitmapDrawable;
+import android.graphics.drawable.Drawable;
+
+/**
+ * Created by Linhh on 16/10/19.
+ */
+
+public class RichDrawable extends BitmapDrawable implements CustomPainterDrawable{
+
+  public static final int POS_LEFT = 1;
+  public static final int POS_RIGHT = 2;
+  public static final int POS_TOP = 3;
+  public static final int POS_BOTTOM = 4;
+  public static final int POS_CENTER = 5;
+  public static final int POS_LEFT_TOP = 6;
+  public static final int POS_LEFT_BOTTOM = 7;
+  public static final int POS_RIGHT_TOP = 9;
+  public static final int POS_RIGHT_BOTTOM = 10;
+
+  private int mMarginLeft = 0;
+  private int mMarginRight = 0;
+  private int mMarginTop = 0;
+  private int mMarginBottom = 0;
+
+  private final Paint mPaint = new Paint(Paint.ANTI_ALIAS_FLAG);
+  Bitmap mBitmap;
+  private int mPos = POS_CENTER;
+  private int bitmapWidth = 0;
+  private int bitmapHeight = 0;
+
+  private int mPadingLeft = 0;
+  private int mPadingRight = 0;
+  private int mPadingTop = 0;
+  private int mPadingBottom = 0;
+
+  private String mText;
+  private int mSize = 16;
+  private Paint mTextPaint = new Paint(Paint.ANTI_ALIAS_FLAG);
+
+  public RichDrawable(Bitmap bitmap){
+    BitmapDrawable bitmapDrawable = new BitmapDrawable(bitmap);
+    mBitmap = bitmapDrawable.getBitmap();
+    bitmapWidth = bitmapDrawable.getIntrinsicWidth();
+    bitmapHeight = bitmapDrawable.getIntrinsicHeight();
+  }
+
+  public RichDrawable(Drawable drawable){
+    BitmapDrawable bitmapDrawable = (BitmapDrawable)drawable;
+    mBitmap = bitmapDrawable.getBitmap();
+    bitmapWidth = bitmapDrawable.getIntrinsicWidth();
+    bitmapHeight = bitmapDrawable.getIntrinsicHeight();
+  }
+
+  public void setText(String text){
+    mText = text;
+  }
+
+  public void setTextColor(int color){
+    mTextPaint.setColor(color);
+  }
+
+  public void setTextSize(float size){
+    mTextPaint.setTextSize(size);
+  }
+
+  public void setTextPadding(int left, int right, int top, int bottom){
+    mPadingLeft = left;
+    mPadingRight = right;
+    mPadingTop = top;
+    mPadingBottom = bottom;
+  }
+
+  @Override
+  public void draw(Canvas canvas) {
+    if(mBitmap == null){
+      return;
+    }
+//    super.draw(canvas);
+    int left = getBounds().left;
+    int right = getBounds().right;
+    int top = getBounds().top;
+    int bottom = getBounds().bottom;
+    int w = right - left;
+    int h = bottom - top;
+    if(mPos == POS_CENTER){
+      canvas.drawBitmap(mBitmap,left + w/2 + mMarginLeft,top + h / 2 + mMarginTop,mPaint);
+//      if(!TextUtils.isEmpty(mText)) {
+//        canvas.drawText(mText, left + w / 2 + mMarginLeft + mPadingLeft, top + h / 2 + mMarginTop + mPadingTop, mTextPaint);
+//      }
+      return ;
+    }
+    if(mPos == POS_BOTTOM || mPos == POS_LEFT_BOTTOM){
+      canvas.drawBitmap(mBitmap,left + mMarginLeft, bottom - getBitmapHeight() - mMarginBottom,mPaint);
+      return;
+    }
+    if(mPos == POS_LEFT || mPos == POS_TOP || mPos == POS_LEFT_TOP){
+      canvas.drawBitmap(mBitmap, left + mMarginLeft, top + mMarginTop, mPaint);
+      return;
+    }
+    if(mPos == POS_RIGHT || mPos == POS_RIGHT_TOP){
+      canvas.drawBitmap(mBitmap, right - getBitmapWidth() - mMarginRight, top + mMarginTop, mPaint);
+      return;
+    }
+
+    if(mPos == POS_RIGHT_BOTTOM){
+      canvas.drawBitmap(mBitmap,right - getBitmapWidth() - mMarginRight, bottom - getBitmapHeight() - mMarginBottom, mPaint);
+      return;
+    }
+
+  }
+
+  public int getBitmapWidth(){
+    return bitmapWidth;
+  }
+
+  public int getBitmapHeight(){
+    return bitmapHeight;
+  }
+
+  public void setPosition(int pos){
+    mPos = pos;
+  }
+
+  public void setMargin(int left, int right, int top, int bottom){
+    mMarginLeft = left;
+    mMarginRight = right;
+    mMarginTop = top;
+    mMarginBottom = bottom;
+  }
+
+  public void setMarginLeft(int left){
+    mMarginLeft = left;
+  }
+
+  public void setMarginRight(int right){
+    mMarginRight = right;
+  }
+
+  public void setMarginTop(int top){
+    mMarginTop = top;
+  }
+
+  public void setMarginBottom(int bottom){
+    mMarginBottom = bottom;
+  }
+
+  @Override
+  public void setAlpha(int alpha) {
+  }
+
+  @Override
+  public void setColorFilter(ColorFilter colorFilter) {
+
+  }
+
+  @Override
+  public int getOpacity() {
+    return 0;
+  }
+}
diff --git a/drawee/src/main/java/com/facebook/drawee/generic/GenericDraweeHierarchy.java b/drawee/src/main/java/com/facebook/drawee/generic/GenericDraweeHierarchy.java
index 48dbbf68f..242f4570a 100644
--- a/drawee/src/main/java/com/facebook/drawee/generic/GenericDraweeHierarchy.java
+++ b/drawee/src/main/java/com/facebook/drawee/generic/GenericDraweeHierarchy.java
@@ -26,7 +26,9 @@
 import com.facebook.drawee.drawable.FadeDrawable;
 import com.facebook.drawee.drawable.ForwardingDrawable;
 import com.facebook.drawee.drawable.MatrixDrawable;
+import com.facebook.drawee.drawable.RichDrawable;
 import com.facebook.drawee.drawable.ScaleTypeDrawable;
+import com.facebook.drawee.interfaces.FrescoPainterDraweeInterceptor;
 import com.facebook.drawee.interfaces.SettableDraweeHierarchy;
 
 import static com.facebook.drawee.drawable.ScalingUtils.ScaleType;
@@ -97,14 +99,17 @@
 
   private final Resources mResources;
   private @Nullable RoundingParams mRoundingParams;
-
+  private RichDrawable mHongHongDrawable;
   private final RootDrawable mTopLevelDrawable;
   private final FadeDrawable mFadeDrawable;
   private final ForwardingDrawable mActualImageWrapper;
+  private FrescoPainterDraweeInterceptor mFrescoPainterDraweeInterceptor;
+
 
   GenericDraweeHierarchy(GenericDraweeHierarchyBuilder builder) {
     mResources = builder.getResources();
     mRoundingParams = builder.getRoundingParams();
+    mFrescoPainterDraweeInterceptor = builder.getFrescoPainterDraweeInterceptor();
 
     mActualImageWrapper = new ForwardingDrawable(mEmptyActualImageDrawable);
 
@@ -443,7 +448,14 @@ public void setPlaceholderImageFocusPoint(PointF focusPoint) {
    * @param resourceId an identifier of an Android drawable or color resource.
    */
   public void setPlaceholderImage(int resourceId) {
-    setPlaceholderImage(mResources.getDrawable(resourceId));
+    Drawable drawable = null;
+    if(mFrescoPainterDraweeInterceptor != null){
+      drawable = mFrescoPainterDraweeInterceptor.onSetPlaceholderImage(resourceId);
+    }
+    if(drawable == null){
+      drawable = mResources.getDrawable(resourceId);
+    }
+    setPlaceholderImage(drawable);
   }
 
   /**
@@ -453,7 +465,14 @@ public void setPlaceholderImage(int resourceId) {
    * @param scaleType a new scale type.
    */
   public void setPlaceholderImage(int resourceId, ScaleType scaleType) {
-    setPlaceholderImage(mResources.getDrawable(resourceId), scaleType);
+    Drawable drawable = null;
+    if(mFrescoPainterDraweeInterceptor != null){
+      drawable = mFrescoPainterDraweeInterceptor.onSetPlaceholderImage(resourceId);
+    }
+    if(drawable == null){
+      drawable = mResources.getDrawable(resourceId);
+    }
+    setPlaceholderImage(drawable, scaleType);
   }
 
   /** Sets a new failure drawable with old scale type. */
@@ -473,9 +492,16 @@ public void setFailureImage(Drawable drawable, ScaleType scaleType) {
    * @param resourceId an identifier of an Android drawable or color resource.
    */
   public void setFailureImage(int resourceId) {
-    setFailureImage(mResources.getDrawable(resourceId));
+    Drawable drawable = null;
+    if(mFrescoPainterDraweeInterceptor != null){
+      drawable = mFrescoPainterDraweeInterceptor.onSetFailureImage(resourceId);
+    }
+    if(drawable == null){
+      drawable = mResources.getDrawable(resourceId);
+    }
+    setFailureImage(drawable);
   }
-  
+
   /**
    * Sets a new failure drawable with scale type.
    *
@@ -483,7 +509,14 @@ public void setFailureImage(int resourceId) {
    * @param scaleType a new scale type.
    */
   public void setFailureImage(int resourceId, ScaleType scaleType) {
-    setFailureImage(mResources.getDrawable(resourceId), scaleType);
+    Drawable drawable = null;
+    if(mFrescoPainterDraweeInterceptor != null){
+      drawable = mFrescoPainterDraweeInterceptor.onSetFailureImage(resourceId);
+    }
+    if(drawable == null){
+      drawable = mResources.getDrawable(resourceId);
+    }
+    setFailureImage(drawable, scaleType);
   }
 
   /** Sets a new retry drawable with old scale type. */
@@ -503,9 +536,16 @@ public void setRetryImage(Drawable drawable, ScaleType scaleType) {
    * @param resourceId an identifier of an Android drawable or color resource.
    */
   public void setRetryImage(int resourceId) {
-    setRetryImage(mResources.getDrawable(resourceId));
+    Drawable drawable = null;
+    if(mFrescoPainterDraweeInterceptor != null){
+      drawable = mFrescoPainterDraweeInterceptor.onSetRetryImage(resourceId);
+    }
+    if(drawable == null){
+      drawable = mResources.getDrawable(resourceId);
+    }
+    setRetryImage(drawable);
   }
-  
+
   /**
    * Sets a new retry drawable with scale type.
    *
@@ -513,7 +553,14 @@ public void setRetryImage(int resourceId) {
    * @param scaleType a new scale type.
    */
   public void setRetryImage(int resourceId, ScaleType scaleType) {
-    setRetryImage(mResources.getDrawable(resourceId), scaleType);
+    Drawable drawable = null;
+    if(mFrescoPainterDraweeInterceptor != null){
+      drawable = mFrescoPainterDraweeInterceptor.onSetRetryImage(resourceId);
+    }
+    if(drawable == null){
+      drawable = mResources.getDrawable(resourceId);
+    }
+    setRetryImage(drawable, scaleType);
   }
 
   /** Sets a new progress bar drawable with old scale type. */
@@ -533,9 +580,16 @@ public void setProgressBarImage(Drawable drawable, ScaleType scaleType) {
    * @param resourceId an identifier of an Android drawable or color resource.
    */
   public void setProgressBarImage(int resourceId) {
-    setProgressBarImage(mResources.getDrawable(resourceId));
+    Drawable drawable = null;
+    if(mFrescoPainterDraweeInterceptor != null){
+      drawable = mFrescoPainterDraweeInterceptor.onSetProgressBarImage(resourceId);
+    }
+    if(drawable == null){
+      drawable = mResources.getDrawable(resourceId);
+    }
+    setProgressBarImage(drawable);
   }
-  
+
   /**
    * Sets a new progress bar drawable with scale type.
    *
@@ -543,7 +597,14 @@ public void setProgressBarImage(int resourceId) {
    * @param scaleType a new scale type.
    */
   public void setProgressBarImage(int resourceId, ScaleType scaleType) {
-    setProgressBarImage(mResources.getDrawable(resourceId), scaleType);
+    Drawable drawable = null;
+    if(mFrescoPainterDraweeInterceptor != null){
+      drawable = mFrescoPainterDraweeInterceptor.onSetProgressBarImage(resourceId);
+    }
+    if(drawable == null){
+      drawable = mResources.getDrawable(resourceId);
+    }
+    setProgressBarImage(drawable, scaleType);
   }
 
   /** Sets the background image if allowed. */
@@ -566,6 +627,22 @@ public void setOverlayImage(int index, @Nullable Drawable drawable) {
     setChildDrawableAtIndex(OVERLAY_IMAGES_INDEX + index, drawable);
   }
 
+  public void setFrescoPainterDraweeInterceptor(FrescoPainterDraweeInterceptor frescoPainterDraweeInterceptor){
+    mFrescoPainterDraweeInterceptor = frescoPainterDraweeInterceptor;
+  }
+
+  public void setBackgroundImage(int resourceId){
+    Drawable drawable = null;
+    if(mFrescoPainterDraweeInterceptor != null){
+      drawable = mFrescoPainterDraweeInterceptor.onSetBackground(resourceId);
+    }
+    if(drawable == null){
+      drawable = mResources.getDrawable(resourceId);
+    }
+    setBackgroundImage(drawable);
+  }
+
+
   /** Sets the overlay image if allowed. */
   public void setOverlayImage(@Nullable Drawable drawable) {
     setOverlayImage(0, drawable);
@@ -580,6 +657,15 @@ public void setRoundingParams(@Nullable RoundingParams roundingParams) {
     }
   }
 
+  public void setHongHongDrawable(RichDrawable drawable){
+    mHongHongDrawable = drawable;
+    setOverlayImage(drawable);
+  }
+
+  public RichDrawable getHongHongDrawable(){
+    return mHongHongDrawable;
+  }
+
   /** Gets the rounding params. */
   @Nullable
   public RoundingParams getRoundingParams() {
diff --git a/drawee/src/main/java/com/facebook/drawee/generic/GenericDraweeHierarchyBuilder.java b/drawee/src/main/java/com/facebook/drawee/generic/GenericDraweeHierarchyBuilder.java
index 2f31d469b..9784363e8 100644
--- a/drawee/src/main/java/com/facebook/drawee/generic/GenericDraweeHierarchyBuilder.java
+++ b/drawee/src/main/java/com/facebook/drawee/generic/GenericDraweeHierarchyBuilder.java
@@ -23,6 +23,7 @@
 
 import com.facebook.common.internal.Preconditions;
 import com.facebook.drawee.drawable.ArrayDrawable;
+import com.facebook.drawee.interfaces.FrescoPainterDraweeInterceptor;
 
 import static com.facebook.drawee.drawable.ScalingUtils.ScaleType;
 
@@ -53,6 +54,8 @@
   private Drawable mRetryImage;
   private ScaleType mRetryImageScaleType;
 
+  private FrescoPainterDraweeInterceptor mFrescoPainterDraweeInterceptor;
+
   private Drawable mFailureImage;
   private ScaleType mFailureImageScaleType;
 
@@ -71,8 +74,13 @@
   private RoundingParams mRoundingParams;
 
   public GenericDraweeHierarchyBuilder(Resources resources) {
+    this(resources, null);
+  }
+
+  public GenericDraweeHierarchyBuilder(Resources resources, FrescoPainterDraweeInterceptor frescoPainterDraweeInterceptor) {
     mResources = resources;
     init();
+    mFrescoPainterDraweeInterceptor = frescoPainterDraweeInterceptor;
   }
 
   public static GenericDraweeHierarchyBuilder newInstance(Resources resources) {
@@ -189,7 +197,14 @@ public GenericDraweeHierarchyBuilder setPlaceholderImage(@Nullable Drawable plac
    * @return modified instance of this builder
    */
   public GenericDraweeHierarchyBuilder setPlaceholderImage(int resourceId) {
-    mPlaceholderImage = mResources.getDrawable(resourceId);
+    Drawable drawable = null;
+    if(mFrescoPainterDraweeInterceptor != null){
+      drawable = mFrescoPainterDraweeInterceptor.onSetPlaceholderImage(resourceId);
+    }
+    if(drawable == null){
+      drawable = mResources.getDrawable(resourceId);
+    }
+    mPlaceholderImage = drawable;
     return this;
   }
 
@@ -246,7 +261,7 @@ public GenericDraweeHierarchyBuilder setPlaceholderImage(
   public GenericDraweeHierarchyBuilder setPlaceholderImage(
       int resourceId,
       @Nullable ScaleType placeholderImageScaleType) {
-    mPlaceholderImage = mResources.getDrawable(resourceId);
+    setPlaceholderImage(resourceId);
     mPlaceholderImageScaleType = placeholderImageScaleType;
     return this;
   }
@@ -269,7 +284,14 @@ public GenericDraweeHierarchyBuilder setRetryImage(@Nullable Drawable retryDrawa
    * @return modified instance of this builder
    */
   public GenericDraweeHierarchyBuilder setRetryImage(int resourceId) {
-    mRetryImage = mResources.getDrawable(resourceId);
+    Drawable drawable = null;
+    if(mFrescoPainterDraweeInterceptor != null){
+      drawable = mFrescoPainterDraweeInterceptor.onSetRetryImage(resourceId);
+    }
+    if(drawable == null){
+      drawable = mResources.getDrawable(resourceId);
+    }
+    mRetryImage = drawable;
     return this;
   }
 
@@ -326,7 +348,7 @@ public GenericDraweeHierarchyBuilder setRetryImage(
   public GenericDraweeHierarchyBuilder setRetryImage(
       int resourceId,
       @Nullable ScaleType retryImageScaleType) {
-    mRetryImage = mResources.getDrawable(resourceId);
+    setRetryImage(resourceId);
     mRetryImageScaleType = retryImageScaleType;
     return this;
   }
@@ -349,7 +371,14 @@ public GenericDraweeHierarchyBuilder setFailureImage(@Nullable Drawable failureD
    * @return modified instance of this builder
    */
   public GenericDraweeHierarchyBuilder setFailureImage(int resourceId) {
-    mFailureImage = mResources.getDrawable(resourceId);
+    Drawable drawable = null;
+    if(mFrescoPainterDraweeInterceptor != null){
+      drawable = mFrescoPainterDraweeInterceptor.onSetFailureImage(resourceId);
+    }
+    if(drawable == null){
+      drawable = mResources.getDrawable(resourceId);
+    }
+    mFailureImage = drawable;
     return this;
   }
 
@@ -406,7 +435,7 @@ public GenericDraweeHierarchyBuilder setFailureImage(
   public GenericDraweeHierarchyBuilder setFailureImage(
       int resourceId,
       @Nullable ScaleType failureImageScaleType) {
-    mFailureImage = mResources.getDrawable(resourceId);
+    setFailureImage(resourceId);
     mFailureImageScaleType = failureImageScaleType;
     return this;
   }
@@ -429,7 +458,14 @@ public GenericDraweeHierarchyBuilder setProgressBarImage(@Nullable Drawable prog
    * @return modified instance of this builder
    */
   public GenericDraweeHierarchyBuilder setProgressBarImage(int resourceId) {
-    mProgressBarImage = mResources.getDrawable(resourceId);
+    Drawable drawable = null;
+    if(mFrescoPainterDraweeInterceptor != null){
+      drawable = mFrescoPainterDraweeInterceptor.onSetProgressBarImage(resourceId);
+    }
+    if(drawable == null){
+      drawable = mResources.getDrawable(resourceId);
+    }
+    mProgressBarImage = drawable;
     return this;
   }
 
@@ -486,7 +522,7 @@ public GenericDraweeHierarchyBuilder setProgressBarImage(
   public GenericDraweeHierarchyBuilder setProgressBarImage(
       int resourceId,
       @Nullable ScaleType progressBarImageScaleType) {
-    mProgressBarImage = mResources.getDrawable(resourceId);
+    setProgressBarImage(resourceId);
     mProgressBarImageScaleType = progressBarImageScaleType;
     return this;
   }
@@ -587,6 +623,18 @@ public GenericDraweeHierarchyBuilder setBackground(@Nullable Drawable background
     return this;
   }
 
+  public GenericDraweeHierarchyBuilder setBackground(int resourceId){
+    Drawable drawable = null;
+    if(mFrescoPainterDraweeInterceptor != null){
+      drawable = mFrescoPainterDraweeInterceptor.onSetBackground(resourceId);
+    }
+    if(drawable == null){
+      drawable = mResources.getDrawable(resourceId);
+    }
+    mBackground = drawable;
+    return this;
+  }
+
   /**
    * Gets the background.
    */
@@ -673,6 +721,10 @@ public RoundingParams getRoundingParams() {
     return mRoundingParams;
   }
 
+  public FrescoPainterDraweeInterceptor getFrescoPainterDraweeInterceptor(){
+    return mFrescoPainterDraweeInterceptor;
+  }
+
   private void validate() {
     if (mOverlays != null) {
       for (Drawable overlay : mOverlays) {
diff --git a/drawee/src/main/java/com/facebook/drawee/generic/GenericDraweeHierarchyInflater.java b/drawee/src/main/java/com/facebook/drawee/generic/GenericDraweeHierarchyInflater.java
index c8b5fdf43..f472c8353 100644
--- a/drawee/src/main/java/com/facebook/drawee/generic/GenericDraweeHierarchyInflater.java
+++ b/drawee/src/main/java/com/facebook/drawee/generic/GenericDraweeHierarchyInflater.java
@@ -19,6 +19,8 @@
 
 import com.facebook.drawee.R;
 import com.facebook.drawee.drawable.AutoRotateDrawable;
+import com.facebook.drawee.interfaces.FrescoPainterDraweeInterceptor;
+
 import static com.facebook.drawee.drawable.ScalingUtils.ScaleType;
 
 /**
@@ -77,6 +79,16 @@ public static GenericDraweeHierarchyBuilder inflateBuilder(
     return updateBuilder(builder, context, attrs);
   }
 
+
+  public static GenericDraweeHierarchyBuilder inflateBuilder(
+          Context context,
+          @Nullable AttributeSet attrs, FrescoPainterDraweeInterceptor interceptor) {
+    Resources resources = context.getResources();
+    GenericDraweeHierarchyBuilder builder = new GenericDraweeHierarchyBuilder(resources,interceptor);
+    return updateBuilder(builder, context, attrs);
+  }
+
+
   /**
    * Updates the existing hierarchy builder based on the XML attributes.
    *
diff --git a/drawee/src/main/java/com/facebook/drawee/generic/WrappingUtils.java b/drawee/src/main/java/com/facebook/drawee/generic/WrappingUtils.java
index 2eb9813b2..fab187756 100644
--- a/drawee/src/main/java/com/facebook/drawee/generic/WrappingUtils.java
+++ b/drawee/src/main/java/com/facebook/drawee/generic/WrappingUtils.java
@@ -20,14 +20,18 @@
 import android.os.Build;
 
 import com.facebook.common.internal.Preconditions;
+import com.facebook.drawee.drawable.CustomPainterDrawable;
 import com.facebook.drawee.drawable.DrawableParent;
 import com.facebook.drawee.drawable.ForwardingDrawable;
 import com.facebook.drawee.drawable.MatrixDrawable;
+import com.facebook.drawee.drawable.RichDrawable;
 import com.facebook.drawee.drawable.Rounded;
 import com.facebook.drawee.drawable.RoundedBitmapDrawable;
 import com.facebook.drawee.drawable.RoundedColorDrawable;
 import com.facebook.drawee.drawable.RoundedCornersDrawable;
 import com.facebook.drawee.drawable.ScaleTypeDrawable;
+import com.facebook.imagepipeline.animated.base.AnimatedDrawable;
+import com.facebook.imagepipeline.animated.base.AnimatedDrawableSupport;
 
 import static com.facebook.drawee.drawable.ScalingUtils.ScaleType;
 
@@ -268,6 +272,16 @@ private static Drawable applyLeafRounding(
       Drawable drawable,
       RoundingParams roundingParams,
       Resources resources) {
+    if (drawable instanceof CustomPainterDrawable){
+      final RichDrawable gifDrawable = (RichDrawable) drawable;
+//      RoundedBitmapDrawable roundedBitmapDrawable =
+//          new RoundedBitmapDrawable(
+//              resources,
+//              bitmapDrawable.getBitmap(),
+//              bitmapDrawable.getPaint());
+//      applyRoundingParams(roundedBitmapDrawable, roundingParams);
+      return gifDrawable;
+    }
     if (drawable instanceof BitmapDrawable) {
       final BitmapDrawable bitmapDrawable = (BitmapDrawable) drawable;
       RoundedBitmapDrawable roundedBitmapDrawable =
@@ -285,6 +299,29 @@ private static Drawable applyLeafRounding(
       applyRoundingParams(roundedColorDrawable, roundingParams);
       return roundedColorDrawable;
     }
+    if(roundingParams != null && (roundingParams.getOverlayColor() != 0 || roundingParams.getCornersRadii() != null || roundingParams.getRoundAsCircle())) {
+      //新需求,将gif改为圆角显示
+      if (drawable instanceof AnimatedDrawable) {
+        final AnimatedDrawable bitmapDrawable = (AnimatedDrawable) drawable;
+        RoundedBitmapDrawable roundedBitmapDrawable =
+                new RoundedBitmapDrawable(
+                        resources,
+                        bitmapDrawable.getAnimatedDrawableBackend().getPreviewBitmap().get(),
+                        bitmapDrawable.getPaint());
+        applyRoundingParams(roundedBitmapDrawable, roundingParams);
+        return roundedBitmapDrawable;
+      }
+      if (drawable instanceof AnimatedDrawableSupport) {
+        final AnimatedDrawableSupport bitmapDrawable = (AnimatedDrawableSupport) drawable;
+        RoundedBitmapDrawable roundedBitmapDrawable =
+                new RoundedBitmapDrawable(
+                        resources,
+                        bitmapDrawable.getAnimatedDrawableBackend().getPreviewBitmap().get(),
+                        bitmapDrawable.getPaint());
+        applyRoundingParams(roundedBitmapDrawable, roundingParams);
+        return roundedBitmapDrawable;
+      }
+    }
     return drawable;
   }
 
diff --git a/drawee/src/main/java/com/facebook/drawee/interfaces/FrescoPainterDraweeInterceptor.java b/drawee/src/main/java/com/facebook/drawee/interfaces/FrescoPainterDraweeInterceptor.java
new file mode 100644
index 000000000..c9d35d247
--- /dev/null
+++ b/drawee/src/main/java/com/facebook/drawee/interfaces/FrescoPainterDraweeInterceptor.java
@@ -0,0 +1,16 @@
+package com.facebook.drawee.interfaces;
+
+import android.graphics.drawable.Drawable;
+
+/**
+ * 提供给外部的监听器
+ * Created by Linhh on 16/12/13.
+ */
+
+public interface FrescoPainterDraweeInterceptor {
+  Drawable onSetPlaceholderImage(int resourceId);
+  Drawable onSetRetryImage(int resourceId);
+  Drawable onSetFailureImage(int resourceId);
+  Drawable onSetProgressBarImage(int resourceId);
+  Drawable onSetBackground(int resourceId);
+}
diff --git a/drawee/src/main/java/com/facebook/drawee/view/GenericDraweeView.java b/drawee/src/main/java/com/facebook/drawee/view/GenericDraweeView.java
index 7e7f7b3a2..19e2f4ba9 100644
--- a/drawee/src/main/java/com/facebook/drawee/view/GenericDraweeView.java
+++ b/drawee/src/main/java/com/facebook/drawee/view/GenericDraweeView.java
@@ -19,6 +19,7 @@
 import com.facebook.drawee.generic.GenericDraweeHierarchy;
 import com.facebook.drawee.generic.GenericDraweeHierarchyBuilder;
 import com.facebook.drawee.generic.GenericDraweeHierarchyInflater;
+import com.facebook.drawee.interfaces.FrescoPainterDraweeInterceptor;
 
 /**
  * DraweeView that uses GenericDraweeHierarchy.
@@ -60,4 +61,8 @@ protected void inflateHierarchy(Context context, @Nullable AttributeSet attrs) {
     setAspectRatio(builder.getDesiredAspectRatio());
     setHierarchy(builder.build());
   }
+
+  public void setInterceptor(FrescoPainterDraweeInterceptor frescoPainterDraweeInterceptor){
+    getHierarchy().setFrescoPainterDraweeInterceptor(frescoPainterDraweeInterceptor);
+  }
 }
diff --git a/fbcore/gradle.properties b/fbcore/gradle.properties
index f36ec612d..d6c47bbfc 100644
--- a/fbcore/gradle.properties
+++ b/fbcore/gradle.properties
@@ -1,5 +1,15 @@
+
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.9.0-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
 POM_NAME=Facebook Core
 POM_DESCRIPTION=A general-purpose Android utility library
-POM_ARTIFACT_ID=fbcore
+POM_ARTIFACT_ID=fresco-fbcore
 POM_PACKAGING=aar
 
diff --git a/frescopainter/.gitignore b/frescopainter/.gitignore
new file mode 100644
index 000000000..796b96d1c
--- /dev/null
+++ b/frescopainter/.gitignore
@@ -0,0 +1 @@
+/build
diff --git a/frescopainter/build.gradle b/frescopainter/build.gradle
new file mode 100644
index 000000000..78d0c46af
--- /dev/null
+++ b/frescopainter/build.gradle
@@ -0,0 +1,29 @@
+apply plugin: 'com.android.library'
+
+android {
+    compileSdkVersion 23
+    buildToolsVersion "23.0.0"
+
+    defaultConfig {
+        minSdkVersion 9
+        targetSdkVersion 23
+        versionCode 1
+        versionName "1.0"
+    }
+    buildTypes {
+        release {
+            minifyEnabled false
+            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
+        }
+    }
+}
+
+dependencies {
+    compile fileTree(dir: 'libs', include: ['*.jar'])
+    provided "com.nineoldandroids:library:${NINEOLDANDROID_VERSION}"
+    compile project(':imagepipeline-backends:imagepipeline-okhttp3')
+    compile project(':drawee-backends:drawee-pipeline')
+    compile project(':animated-base')
+    provided 'com.squareup.okhttp3:okhttp:3.3.1'
+}
+apply from: rootProject.file('release.gradle')
diff --git a/frescopainter/gradle.properties b/frescopainter/gradle.properties
new file mode 100644
index 000000000..9058a68fd
--- /dev/null
+++ b/frescopainter/gradle.properties
@@ -0,0 +1,28 @@
+# Project-wide Gradle settings.
+
+# IDE (e.g. Android Studio) users:
+# Gradle settings configured through the IDE *will override*
+# any settings specified in this file.
+
+# For more details on how to configure your build environment visit
+# http://www.gradle.org/docs/current/userguide/build_environment.html
+
+# Specifies the JVM arguments used for the daemon process.
+# The setting is particularly useful for tweaking memory settings.
+# Default value: -Xmx10248m -XX:MaxPermSize=256m
+# org.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8
+
+# When configured, Gradle will run in incubating parallel mode.
+# This option should only be used with decoupled projects. More details, visit
+# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects
+# org.gradle.parallel=true
+systemProp.file.encoding=utf-8
+
+POM_ARTIFACT_ID=fresco-frescopainter
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.9.0-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
diff --git a/frescopainter/proguard-rules.pro b/frescopainter/proguard-rules.pro
new file mode 100644
index 000000000..6f8b7d786
--- /dev/null
+++ b/frescopainter/proguard-rules.pro
@@ -0,0 +1,17 @@
+# Add project specific ProGuard rules here.
+# By default, the flags in this file are appended to flags specified
+# in /Users/Linhh/Develop/Android/android-sdk-macosx/tools/proguard/proguard-android.txt
+# You can edit the include path and order by changing the proguardFiles
+# directive in build.gradle.
+#
+# For more details, see
+#   http://developer.android.com/guide/developing/tools/proguard.html
+
+# Add any project specific keep options here:
+
+# If your project uses WebView with JS, uncomment the following
+# and specify the fully qualified class name to the JavaScript interface
+# class:
+#-keepclassmembers class fqcn.of.javascript.interface.for.webview {
+#   public *;
+#}
diff --git a/frescopainter/src/main/AndroidManifest.xml b/frescopainter/src/main/AndroidManifest.xml
new file mode 100644
index 000000000..62fa5baa2
--- /dev/null
+++ b/frescopainter/src/main/AndroidManifest.xml
@@ -0,0 +1,9 @@
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+    package="com.homhomlin.frescopainter">
+
+    <application
+        android:label="@string/app_name">
+
+    </application>
+
+</manifest>
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/FrescoImageView.java b/frescopainter/src/main/java/com/meetyou/frescopainter/FrescoImageView.java
new file mode 100644
index 000000000..aeeda1d9b
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/FrescoImageView.java
@@ -0,0 +1,91 @@
+package com.meetyou.frescopainter;
+
+import android.content.Context;
+import android.util.AttributeSet;
+
+import com.facebook.drawee.controller.ControllerListener;
+import com.facebook.drawee.drawable.RichDrawable;
+import com.facebook.drawee.generic.GenericDraweeHierarchy;
+import com.facebook.drawee.view.SimpleDraweeView;
+import com.facebook.imagepipeline.request.ImageRequest;
+
+/**
+ * Created by Linhh on 16/9/10.
+ */
+public class FrescoImageView extends SimpleDraweeView implements IFrescoImageView{
+
+    private FrescoPainterPen mPen;
+    private ImageRequest mImageRequest;
+    private ImageRequest mLowImageRequest;
+    private ControllerListener mControllerListener;
+
+    public FrescoImageView(Context context, GenericDraweeHierarchy hierarchy) {
+        super(context, hierarchy);
+    }
+
+    public FrescoImageView(Context context) {
+        super(context);
+    }
+
+    public FrescoImageView(Context context, AttributeSet attrs) {
+        super(context, attrs);
+    }
+
+    public FrescoImageView(Context context, AttributeSet attrs, int defStyle) {
+        super(context, attrs, defStyle);
+    }
+
+    public FrescoImageView(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {
+        super(context, attrs, defStyleAttr, defStyleRes);
+    }
+
+    @Override
+    public ImageRequest getImageRequest() {
+        return mImageRequest;
+    }
+
+    @Override
+    public void setImageRequest(ImageRequest imageRequest) {
+        mImageRequest = imageRequest;
+    }
+
+    @Override
+    public ImageRequest getLowImageRequest() {
+        return mLowImageRequest;
+    }
+
+    @Override
+    public void setLowImageRequest(ImageRequest lowImageRequest) {
+        mLowImageRequest = lowImageRequest;
+    }
+
+    @Override
+    public void setFrescoPainterPen(FrescoPainterPen painterPen){
+        mPen = painterPen;
+    }
+
+    @Override
+    public FrescoPainterPen getFrescoPainterPen(){
+        return mPen;
+    }
+
+    @Override
+    public void setControllerListener(ControllerListener controllerListener) {
+        mControllerListener = controllerListener;
+    }
+
+    @Override
+    public ControllerListener getControllerListener() {
+        return mControllerListener;
+    }
+
+    @Override
+    public void setRichDrawable(RichDrawable hongHongDrawable) {
+        getHierarchy().setHongHongDrawable(hongHongDrawable);
+    }
+
+    @Override
+    public RichDrawable getRichDrawable() {
+        return getHierarchy().getHongHongDrawable();
+    }
+}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/FrescoPainter.java b/frescopainter/src/main/java/com/meetyou/frescopainter/FrescoPainter.java
new file mode 100644
index 000000000..b67565693
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/FrescoPainter.java
@@ -0,0 +1,204 @@
+package com.meetyou.frescopainter;
+
+import java.io.File;
+
+import android.content.Context;
+import android.graphics.Bitmap;
+import android.util.Log;
+
+import com.facebook.drawee.backends.pipeline.DraweeConfig;
+import com.facebook.drawee.backends.pipeline.Fresco;
+import com.facebook.imagepipeline.common.ResizeOptions;
+import com.facebook.imagepipeline.core.ImagePipelineConfig;
+
+/**
+ * Fresco画师
+ * Linhh：阅读完Fresco的源码让我感觉浑身舒服，真爽~！采用嵌套逻辑设计的代码真想试试。
+ * Created by Linhh on 16/9/10.
+ */
+public class FrescoPainter implements PainterWork, FrescoWork{
+    private final static String TAG = "FrescoPainter";
+
+    //判断是否已经初始化
+    private static volatile boolean sIsInitialized = false;
+
+    private Context mContext;
+
+    private static FrescoPainter sFrescoPainter;
+
+    private PainterWork mPainterWorksapce;
+
+    private FrescoPainter(Context context) {
+        mContext = context;
+    }
+
+    public static FrescoPainter workspace(){
+        if(!sIsInitialized){
+            //没有初始化，你能怪谁啊？？
+            return null;
+        }
+        if(sFrescoPainter.mPainterWorksapce == null)
+            sFrescoPainter.mPainterWorksapce = new PainterWorksapce();
+        return sFrescoPainter;
+    }
+
+    /** 初始化 */
+    public static void initialize(Context context) {
+        initialize(context, null, null);
+    }
+
+    /**
+     * 初始化FrescoPainter
+     * @param context
+     * @param imagePipelineConfig
+     */
+    public static void initialize(
+            Context context,
+            ImagePipelineConfig imagePipelineConfig) {
+        initialize(context, imagePipelineConfig, null);
+    }
+
+    /**
+     * 初始化fresco painter
+     * @param context
+     * @param imagePipelineConfig
+     * @param draweeConfig
+     */
+    public static void initialize(
+            Context context,
+            ImagePipelineConfig imagePipelineConfig,
+            DraweeConfig draweeConfig) {
+        //初始化fresco
+        Fresco.initialize(context, imagePipelineConfig, draweeConfig);
+        initializePainter(context);
+    }
+
+    private static void initializePainter(Context context){
+        if (sIsInitialized) {
+//            Log.i(TAG, "已经初始化了Painter");
+          return;
+        } else {
+            sIsInitialized = true;
+        }
+
+        sFrescoPainter = new FrescoPainter(context);
+    }
+
+    @Override
+    public void paint(IFrescoImageView draweeView, FrescoPainterPen pen){
+        if(pen == null){
+            //no pen ，no paint
+            return;
+        }
+        mPainterWorksapce.paint(draweeView, pen);
+    }
+
+    @Override
+    public void loadImageCallBackWork(String url, PainterCallBack callBack) {
+      PainterUtils.loadImageCallBackWork(mContext, url,callBack);
+    }
+
+    @Override
+    public void loadImageCallBackUi(String url, PainterCallBack callBack) {
+      PainterUtils.loadImageCallBackUi(mContext, url,callBack);
+    }
+
+    @Override
+    public void loadImageCallBackWork(int res, PainterCallBack callBack) {
+      PainterUtils.loadImageCallBackWork(mContext,res,callBack);
+    }
+
+    @Override
+    public void loadImageCallBackUi(int res, PainterCallBack callBack) {
+      PainterUtils.loadImageCallBackUi(mContext,res,callBack);
+    }
+
+    @Override
+    public void loadImageCallBackUi(
+        String url,
+        ResizeOptions imageSize,
+        PainterCallBack callBack) {
+      PainterUtils.loadImageCallBackUi(mContext,url,imageSize,callBack);
+    }
+
+    @Override
+    public void loadImageCallBackWork(
+        String url,
+        ResizeOptions imageSize,
+        PainterCallBack callBack) {
+      PainterUtils.loadImageCallBackWork(mContext,url,imageSize,callBack);
+    }
+
+    @Override
+    public void loadImageCallBackUi(
+        int res, ResizeOptions imageSize, PainterCallBack callBack) {
+      PainterUtils.loadImageCallBackUi(mContext,res,imageSize,callBack);
+    }
+
+    @Override
+    public void loadImageCallBackWork(
+        int res, ResizeOptions imageSize, PainterCallBack callBack) {
+      PainterUtils.loadImageCallBackWork(mContext,res,imageSize,callBack);
+    }
+
+    @Override
+    public void clearCaches() {
+        PainterUtils.clearCaches();
+    }
+
+    @Override
+    public void clearDiskCaches() {
+        PainterUtils.clearDiskCaches();;
+    }
+
+    @Override
+    public void clearMemoryCaches() {
+        PainterUtils.clearMemoryCaches();
+    }
+
+    @Override
+    public boolean isInDiskCacheSync(String url) {
+        return PainterUtils.isInDiskCacheSync(url);
+    }
+
+    @Override
+    public boolean isInBitmapMemoryCache(String url) {
+        return PainterUtils.isInBitmapMemoryCache(url);
+    }
+
+    @Override
+    public void removeFromDiskCache(String url) {
+        PainterUtils.evictFromDiskCache(url);
+    }
+
+    @Override
+    public void removeFromMemoryCache(String url) {
+        PainterUtils.evictFromMemoryCache(url);
+    }
+
+    @Override
+    public void removeFromCache(String url) {
+        PainterUtils.evictFromCache(url);
+    }
+
+    @Override
+    public File getDiskCacheFile(String url) {
+      return PainterUtils.getDiskCacheFile(url);
+    }
+
+    @Override
+    public void fetchDiskCache(
+        Context context, FrescoPainterPen pen, PainterFetchCallBack callBack) {
+      PainterUtils.fetchToDiskCache(context,pen,callBack);
+    }
+
+    @Override
+    public boolean fetchDiskCache(Context context, FrescoPainterPen pen) {
+      return PainterUtils.fetchToDiskCache(context,pen);
+    }
+
+    @Override
+    public void evictFromPainterCache(String url) {
+      PainterUtils.evictFromPainterCache(url);
+    }
+}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/FrescoPainterPen.java b/frescopainter/src/main/java/com/meetyou/frescopainter/FrescoPainterPen.java
new file mode 100644
index 000000000..514510488
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/FrescoPainterPen.java
@@ -0,0 +1,369 @@
+package com.meetyou.frescopainter;
+
+import com.facebook.drawee.drawable.ScalingUtils;
+import com.facebook.drawee.interfaces.FrescoPainterDraweeInterceptor;
+
+/**
+ * 画师的笔
+ * Created by Linhh on 16/9/10.
+ */
+public class FrescoPainterPen {
+
+    public final static String HTTP_PERFIX = "http://";
+    public final static String HTTPS_PERFIX = "https://";
+    public final static String FILE_PERFIX = "file://";
+    public final static String ASSET_PERFIX = "asset://";
+
+    private String mSourceUri;
+    private int mResID;
+    private String mLowSourceUri;
+    private int mDefaultHolder;
+
+    private int mFailHolder;
+    private int mRetryHolder;
+    private int mBgHolder;
+    private int mOverColor;
+    private int mProgressHolder;
+    private ScalingUtils.ScaleType mDefaultHolderScaleType;
+    private ScalingUtils.ScaleType mFailHolderScaleType;
+    private ScalingUtils.ScaleType mRetryHolderScaleType;
+    private ScalingUtils.ScaleType mProgressHolderScaleType;
+    private int mWidth;
+    private int mHeight;
+    private PenRadius mPenRadius;
+    private ScalingUtils.ScaleType mScaleType;
+    private boolean mEnableRetry;
+    private boolean mAutoRotateEnabled = true;
+    private boolean mAnim = true;
+    private int mFade = 300;
+    private boolean mProgressiveRenderingEnabled = false;
+
+    private int mLoadMode = PainterMode.FULL_LOAD;
+
+    public FrescoPainterDraweeInterceptor getFrescoPainterDraweeInterceptor() {
+        return mFrescoPainterDraweeInterceptor;
+    }
+
+    public FrescoPainterPen setFrescoPainterDraweeInterceptor(FrescoPainterDraweeInterceptor frescoPainterDraweeInterceptor) {
+        mFrescoPainterDraweeInterceptor = frescoPainterDraweeInterceptor;
+        return this;
+    }
+
+    private FrescoPainterDraweeInterceptor mFrescoPainterDraweeInterceptor;
+
+    private int mBorderColor;
+    private float mBorderWidth;
+    private float mRoundePadding;
+
+    public ScalingUtils.ScaleType getProgressHolderScaleType() {
+        return mProgressHolderScaleType;
+    }
+
+    public FrescoPainterPen setProgressHolderScaleType(ScalingUtils.ScaleType progressHolderScaleType) {
+        this.mProgressHolderScaleType = progressHolderScaleType;
+        return this;
+    }
+
+    public ScalingUtils.ScaleType getFailHolderScaleType() {
+        return mFailHolderScaleType;
+    }
+
+    public FrescoPainterPen setFailHolderScaleType(ScalingUtils.ScaleType failHolderScaleType) {
+        this.mFailHolderScaleType = failHolderScaleType;
+        return this;
+    }
+
+    public FrescoPainterPen setProgressiveRenderingEnabled(boolean enabled){
+        this.mProgressiveRenderingEnabled = enabled;
+        return this;
+    }
+
+    public boolean getProgressiveRenderingEnabled(){
+        return mProgressiveRenderingEnabled;
+    }
+
+    public ScalingUtils.ScaleType getRetryHolderScaleType() {
+        return mRetryHolderScaleType;
+    }
+
+    public FrescoPainterPen setRetryHolderScaleType(ScalingUtils.ScaleType retryHolderScaleType) {
+        this.mRetryHolderScaleType = retryHolderScaleType;
+        return this;
+    }
+
+    public FrescoPainterPen setLoadMode(int mode){
+        this.mLoadMode = mode;
+        return this;
+    }
+
+    public int getLoadMode(){
+        return mLoadMode;
+    }
+
+    public int getResID(){
+        return mResID;
+    }
+
+    public String getSourceUri() {
+        return mSourceUri;
+    }
+
+    public int getDefaultHolder() {
+        return mDefaultHolder;
+    }
+
+    public int getFailHolder() {
+        return mFailHolder;
+    }
+
+    public int getBorderColor(){
+        return mBorderColor;
+    }
+
+    public FrescoPainterPen setBorderColor(int borderColor){
+        mBorderColor = borderColor;
+        return this;
+    }
+
+    public float getBorderWidth(){
+        return mBorderWidth;
+    }
+
+    public FrescoPainterPen setBorderWidth(float width){
+        mBorderWidth = width;
+        return this;
+    }
+
+    public float getRoundePadding(){
+        return mRoundePadding;
+    }
+
+    public FrescoPainterPen setRoundePadding(float padding){
+        mRoundePadding = padding;
+        return this;
+    }
+
+    public int getProgressHolder(){
+        return mProgressHolder;
+    }
+
+    public int getRetryHolder() {
+        return mRetryHolder;
+    }
+
+    public int getBgHolder() {
+        return mBgHolder;
+    }
+
+    public int getOverColor() {
+        return mOverColor;
+    }
+
+    public int getWidth() {
+        return mWidth;
+    }
+
+    public int getHeight() {
+        return mHeight;
+    }
+
+    public PenRadius getPenRadius() {
+        return mPenRadius;
+    }
+
+    public ScalingUtils.ScaleType getScaleType() {
+        return mScaleType;
+    }
+
+    public ScalingUtils.ScaleType getDefaultHolderScaleType(){
+        return mDefaultHolderScaleType;
+    }
+
+    public int getFadeDuration(){
+        return mFade;
+    }
+
+    public String getLowSourceUri(){
+        return mLowSourceUri;
+    }
+
+    public boolean getAutoRotateEnabled(){
+        return mAutoRotateEnabled;
+    }
+
+    public boolean isEnableRetry() {
+        return mEnableRetry;
+    }
+
+    public boolean isAnim() {
+        return mAnim;
+    }
+
+    private FrescoPainterPen(){
+
+    }
+
+    public static FrescoPainterPen newBuilderWithURL(String uri) {
+        return new FrescoPainterPen().setSource(uri);
+    }
+
+    public static FrescoPainterPen newBuilderWithResource(int resid){
+        return new FrescoPainterPen().setResID(resid);
+    }
+
+    public static FrescoPainterPen newBuilderWithAsset(String asset){
+        StringBuilder sb = new StringBuilder(ASSET_PERFIX);
+        sb.append(asset);
+        return new FrescoPainterPen().setSource(sb.toString());
+    }
+
+    public static FrescoPainterPen newBuilderWithDisk(String path){
+        StringBuilder sb = new StringBuilder(FILE_PERFIX);
+        sb.append(path);
+        return new FrescoPainterPen().setSource(sb.toString());
+    }
+
+    public FrescoPainterPen setDefaultHolderScaleType(ScalingUtils.ScaleType scaleType){
+        mDefaultHolderScaleType = scaleType;
+        return this;
+    }
+
+    /**
+     * 图片加载中的加载图
+     * @param progressHolder
+     * @return
+     */
+    public FrescoPainterPen setProgressHolder(int progressHolder){
+        mProgressHolder = progressHolder;
+        return this;
+    }
+
+    /**
+     * 设置画笔的网络请求方式
+     * @param uri
+     * @return
+     */
+    private FrescoPainterPen setSource(String uri){
+        mSourceUri = uri;
+        return this;
+    }
+
+    private FrescoPainterPen setResID(int resID){
+        mResID = resID;
+        return this;
+    }
+
+    public FrescoPainterPen setLowSource(String uri){
+        mLowSourceUri = uri;
+        return this;
+    }
+
+    public FrescoPainterPen setFadeDuration(int fade){
+        mFade = fade;
+        return this;
+    }
+
+    public FrescoPainterPen setDefaultHolder(int defaultHolder){
+        mDefaultHolder = defaultHolder;
+        return this;
+    }
+
+    public FrescoPainterPen setFailHolder(int failHolder){
+        mFailHolder = failHolder;
+        return this;
+    }
+
+    public FrescoPainterPen setAutoRotateEnabled(boolean autoRotateEnabled){
+        mAutoRotateEnabled = autoRotateEnabled;
+        return this;
+    }
+
+    public FrescoPainterPen setRetryHolder(int retryHolder){
+        mRetryHolder = retryHolder;
+        return this;
+    }
+
+    public FrescoPainterPen setBgHolder(int bgholder){
+        mBgHolder = bgholder;
+        return this;
+    }
+
+    public FrescoPainterPen setOverColor(int overColor){
+        mOverColor = overColor;
+        return this;
+    }
+
+    public FrescoPainterPen setWidth(int width){
+        mWidth = width;
+        return this;
+    }
+
+    public FrescoPainterPen setHeight(int height){
+        mHeight = height;
+        return this;
+    }
+
+    public FrescoPainterPen setRadius(int radius){
+        if(mPenRadius == null){
+            mPenRadius = new PenRadius(radius, radius, radius, radius);
+        }else {
+            mPenRadius.setBottomLeftRadius(radius);
+            mPenRadius.setBottomRightRadius(radius);
+            mPenRadius.setTopLeftRadius(radius);
+            mPenRadius.setTopRightRadius(radius);
+        }
+        return this;
+    }
+
+    public FrescoPainterPen setRadius(PenRadius penRadius){
+        mPenRadius = penRadius.clone();
+        return this;
+    }
+
+    public FrescoPainterPen setScaleType(ScalingUtils.ScaleType scaleType){
+        mScaleType = scaleType;
+        return this;
+    }
+
+    public FrescoPainterPen asCircle(boolean circle){
+        if(circle){
+            if(mPenRadius == null){
+                mPenRadius = new PenRadius(-1, -1, -1, -1);
+            }else {
+                mPenRadius.setBottomRightRadius(-1);
+                mPenRadius.setTopRightRadius(-1);
+                mPenRadius.setBottomLeftRadius(-1);
+                mPenRadius.setTopLeftRadius(-1);
+            }
+        }
+        return this;
+    }
+
+    public boolean isCircle(){
+        if(mPenRadius == null){
+            return false;
+        }
+        if(mPenRadius.getBottomLeftRadius() == -1 && mPenRadius.getBottomRightRadius() == -1
+                && mPenRadius.getTopLeftRadius() == -1 && mPenRadius.getTopRightRadius() == -1){
+            return true;
+        }else{
+            return false;
+        }
+    }
+
+    public FrescoPainterPen setRetryEnable(boolean retryEnable){
+        mEnableRetry = retryEnable;
+        return this;
+    }
+
+    /**
+     * 设置是否能跑动画，默认让跑
+     * @param anim
+     * @return
+     */
+    public FrescoPainterPen setAnim(boolean anim){
+        mAnim = anim;
+        return this;
+    }
+
+}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/FrescoWork.java b/frescopainter/src/main/java/com/meetyou/frescopainter/FrescoWork.java
new file mode 100644
index 000000000..ebd3b51d2
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/FrescoWork.java
@@ -0,0 +1,84 @@
+package com.meetyou.frescopainter;
+
+import java.io.File;
+
+import android.content.Context;
+import android.graphics.Bitmap;
+
+import com.facebook.imagepipeline.common.ResizeOptions;
+
+/**
+ * Created by Linhh on 16/9/11.
+ */
+public interface FrescoWork {
+
+    /**
+     * 异步加载
+     * @param url
+     * @param callBack
+     */
+    public void loadImageCallBackWork(String url, PainterCallBack callBack);
+
+    /**
+     * 异步加载
+     * @param url
+     * @param callBack
+     */
+    public void loadImageCallBackUi(String url, PainterCallBack callBack);
+
+    public void loadImageCallBackWork(int res, PainterCallBack callBack);
+
+    public void loadImageCallBackUi(int res, PainterCallBack callBack);
+
+    public void loadImageCallBackUi(final String url, final ResizeOptions imageSize, final PainterCallBack callBack);
+
+    public void loadImageCallBackWork(final String url, final ResizeOptions imageSize, final PainterCallBack callBack);
+
+    public void loadImageCallBackUi(final int res, final ResizeOptions imageSize, final PainterCallBack callBack);
+
+    public void loadImageCallBackWork(final int res, final ResizeOptions imageSize, final PainterCallBack callBack);
+
+    /**
+     * 缓存清除
+     */
+    public void clearCaches();
+
+    /**
+     * 清除磁盘缓存
+     */
+    public void clearDiskCaches();
+
+    /**
+     * 清除内存
+     */
+    public void clearMemoryCaches();
+
+    /**
+     * 判断该文件是否存在于磁盘
+     * @param url
+     * @return
+     */
+    public boolean isInDiskCacheSync(String url);
+
+    /**
+     * 判断该文件是否存在于内存
+     * @param url
+     * @return
+     */
+    public boolean isInBitmapMemoryCache(String url);
+
+    public void removeFromDiskCache(String url);
+
+    public void removeFromMemoryCache(String url);
+
+    public void removeFromCache(String url);
+
+    public File getDiskCacheFile(String url);
+
+    public void fetchDiskCache(Context context, FrescoPainterPen pen, PainterFetchCallBack callBack);
+
+    public boolean fetchDiskCache(Context context, FrescoPainterPen pen);
+
+    public void evictFromPainterCache(String url);
+
+}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/FrescoZoomView.java b/frescopainter/src/main/java/com/meetyou/frescopainter/FrescoZoomView.java
new file mode 100644
index 000000000..96edeb625
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/FrescoZoomView.java
@@ -0,0 +1,98 @@
+package com.meetyou.frescopainter;
+
+import android.content.Context;
+import android.util.AttributeSet;
+
+import com.facebook.drawee.controller.ControllerListener;
+import com.facebook.drawee.drawable.RichDrawable;
+import com.facebook.drawee.drawable.ScalingUtils;
+import com.facebook.drawee.generic.GenericDraweeHierarchy;
+import com.facebook.drawee.generic.GenericDraweeHierarchyBuilder;
+import com.facebook.imagepipeline.request.ImageRequest;
+import com.meetyou.frescopainter.zoom.zoomable.ZoomableDraweeView;
+
+/**
+ * Created by Linhh on 16/9/10.
+ */
+public class FrescoZoomView extends ZoomableDraweeView implements IFrescoImageView{
+    private FrescoPainterPen mPen;
+    private ImageRequest mImageRequest;
+    private ImageRequest mLowImageRequest;
+    private ControllerListener mControllerListener;
+
+    public FrescoZoomView(Context context) {
+        super(context);
+        init();
+    }
+
+    public FrescoZoomView(Context context, AttributeSet attrs) {
+        super(context, attrs);
+        init();
+    }
+
+    public FrescoZoomView(Context context, AttributeSet attrs, int defStyle) {
+        super(context, attrs, defStyle);
+        init();
+    }
+
+    public void init(){
+        GenericDraweeHierarchy hierarchy = new GenericDraweeHierarchyBuilder(getResources())
+            .setActualImageScaleType(ScalingUtils.ScaleType.FIT_CENTER)
+//                .setProgressBarImage(new ProgressBarDrawable())
+            .build();
+
+//        view.setController(ctrl);
+        this.setHierarchy(hierarchy);
+    }
+
+
+    @Override
+    public ImageRequest getImageRequest() {
+        return mImageRequest;
+    }
+
+    @Override
+    public void setImageRequest(ImageRequest imageRequest) {
+        mImageRequest = imageRequest;
+    }
+
+    @Override
+    public ImageRequest getLowImageRequest() {
+        return mLowImageRequest;
+    }
+
+    @Override
+    public void setLowImageRequest(ImageRequest lowImageRequest) {
+        mLowImageRequest = lowImageRequest;
+    }
+
+    @Override
+    public void setFrescoPainterPen(FrescoPainterPen painterPen){
+        mPen = painterPen;
+    }
+
+    @Override
+    public FrescoPainterPen getFrescoPainterPen(){
+        return mPen;
+    }
+
+    @Override
+    public void setControllerListener(ControllerListener controllerListener) {
+        mControllerListener = controllerListener;
+    }
+
+    @Override
+    public ControllerListener getControllerListener() {
+        return mControllerListener;
+    }
+
+    @Override
+    public void setRichDrawable(RichDrawable hongHongDrawable) {
+        getHierarchy().setHongHongDrawable(hongHongDrawable);
+    }
+
+    @Override
+    public RichDrawable getRichDrawable() {
+        return getHierarchy().getHongHongDrawable();
+    }
+}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/IFrescoImageView.java b/frescopainter/src/main/java/com/meetyou/frescopainter/IFrescoImageView.java
new file mode 100644
index 000000000..13cdc9cf1
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/IFrescoImageView.java
@@ -0,0 +1,47 @@
+package com.meetyou.frescopainter;
+
+import android.content.Context;
+
+import com.facebook.drawee.controller.ControllerListener;
+import com.facebook.drawee.drawable.RichDrawable;
+import com.facebook.drawee.generic.GenericDraweeHierarchy;
+import com.facebook.drawee.interfaces.DraweeController;
+import com.facebook.imagepipeline.request.ImageRequest;
+
+/**
+ * Created by Linhh on 16/9/10.
+ */
+public interface IFrescoImageView {
+
+    public Context getContext();
+    /**
+     * 获得当前使用的ImageRequest
+     * @return
+     */
+    public ImageRequest getImageRequest();
+
+    public void setImageRequest(ImageRequest imageRequest);
+
+    public ImageRequest getLowImageRequest();
+
+    public void setLowImageRequest(ImageRequest lowImageRequest);
+
+    public void setFrescoPainterPen(FrescoPainterPen painterPen);
+
+    public FrescoPainterPen getFrescoPainterPen();
+
+    public void setControllerListener(ControllerListener controllerListener);
+
+    public ControllerListener getControllerListener();
+
+    public GenericDraweeHierarchy getHierarchy();
+
+    public void setController(DraweeController controller);
+
+    public DraweeController getController();
+
+    public void setRichDrawable(RichDrawable hongHongDrawable);
+
+    public RichDrawable getRichDrawable();
+
+}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/PainterCallBack.java b/frescopainter/src/main/java/com/meetyou/frescopainter/PainterCallBack.java
new file mode 100644
index 000000000..fadfb1eb4
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/PainterCallBack.java
@@ -0,0 +1,19 @@
+package com.meetyou.frescopainter;
+
+import android.graphics.Bitmap;
+
+/**
+ * Created by Linhh on 16/9/22.
+ */
+public interface PainterCallBack {
+
+  /**
+   * 加载成功，注意这里的bitmap在结束该回调后是会被直接回收的
+   */
+  void onSuccess(String url, Bitmap bitmap);
+
+  /**
+   * 加载失败
+   */
+  void onFailure(String url,Throwable throwable);
+}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/PainterFactory.java b/frescopainter/src/main/java/com/meetyou/frescopainter/PainterFactory.java
new file mode 100644
index 000000000..6f2e86852
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/PainterFactory.java
@@ -0,0 +1,106 @@
+package com.meetyou.frescopainter;
+
+import android.net.Uri;
+import android.text.TextUtils;
+
+import com.facebook.drawee.backends.pipeline.Fresco;
+import com.facebook.drawee.interfaces.DraweeController;
+import com.facebook.imagepipeline.common.ResizeOptions;
+import com.facebook.imagepipeline.request.ImageRequest;
+import com.facebook.imagepipeline.request.ImageRequestBuilder;
+
+/**
+ * Created by Linhh on 16/9/10.
+ */
+public class PainterFactory {
+
+    public static DraweeController buildDraweeController(IFrescoImageView view){
+        FrescoPainterPen pen = view.getFrescoPainterPen();
+        return Fresco.newDraweeControllerBuilder()
+                .setImageRequest(view.getImageRequest())//图片加载请求
+                .setAutoPlayAnimations(pen.isAnim())//是否自动播放动画
+                .setTapToRetryEnabled(pen.isEnableRetry())//是否允许点击重试
+                .setLowResImageRequest(view.getLowImageRequest())//使用low分辨率加载
+                .setControllerListener(view.getControllerListener())//监听器
+                .setOldController(view.getController())//使用controller
+                .build();
+    }
+
+    public static ImageRequest buildImageRequestWithResource(FrescoPainterPen pen){
+        ImageRequestBuilder imageRequestBuilder = ImageRequestBuilder.newBuilderWithResourceId(pen.getResID());
+        imageRequestBuilder
+//                .setPostprocessor(fresco.getPostProcessor())
+                .setAutoRotateEnabled(pen.getAutoRotateEnabled())
+                .setProgressiveRenderingEnabled(pen.getProgressiveRenderingEnabled())
+                .setLocalThumbnailPreviewsEnabled(true);
+        if (pen.getWidth() > 0 && pen.getHeight() > 0) {
+            imageRequestBuilder.setResizeOptions(new ResizeOptions(pen.getWidth(), pen.getHeight()));
+        }
+        switch (pen.getLoadMode()){
+            case PainterMode.FULL_LOAD:
+                imageRequestBuilder.setLowestPermittedRequestLevel(ImageRequest.RequestLevel.FULL_FETCH);
+                break;
+            case PainterMode.BITMAP_MEMORY_CACHE_LOAD:
+                imageRequestBuilder.setLowestPermittedRequestLevel(ImageRequest.RequestLevel.BITMAP_MEMORY_CACHE);
+                break;
+            case PainterMode.DISK_CACHE_LOAD:
+                imageRequestBuilder.setLowestPermittedRequestLevel(ImageRequest.RequestLevel.DISK_CACHE);
+                break;
+            case PainterMode.ENCODED_MEMORY_CACHE_LOAD:
+                imageRequestBuilder.setLowestPermittedRequestLevel(ImageRequest.RequestLevel.ENCODED_MEMORY_CACHE);
+                break;
+            default:
+                imageRequestBuilder.setLowestPermittedRequestLevel(ImageRequest.RequestLevel.FULL_FETCH);
+                break;
+        }
+        return imageRequestBuilder.build();
+    }
+
+    public static ImageRequest buildImageRequestWithSource(FrescoPainterPen pen){
+        return buildImageRequestWithSource(pen, false);
+    }
+
+    /**
+     * 创建source的请求
+     * @param pen
+     * @return
+     */
+    public static ImageRequest buildImageRequestWithSource(FrescoPainterPen pen, boolean sync){
+        Uri uri = Uri.parse(pen.getSourceUri());
+        ImageRequestBuilder imageRequestBuilder = ImageRequestBuilder.newBuilderWithSource(uri)
+//                .setPostprocessor(fresco.getPostProcessor())
+                .setAutoRotateEnabled(pen.getAutoRotateEnabled())
+                .setProgressiveRenderingEnabled(pen.getProgressiveRenderingEnabled())
+                .setLocalThumbnailPreviewsEnabled(true);
+        if (pen.getWidth() > 0 && pen.getHeight() > 0) {
+            imageRequestBuilder.setResizeOptions(new ResizeOptions(pen.getWidth(), pen.getHeight()));
+        }
+//        imageRequestBuilder.setSync(sync);
+        switch (pen.getLoadMode()){
+            case PainterMode.FULL_LOAD:
+                imageRequestBuilder.setLowestPermittedRequestLevel(ImageRequest.RequestLevel.FULL_FETCH);
+                break;
+            case PainterMode.BITMAP_MEMORY_CACHE_LOAD:
+                imageRequestBuilder.setLowestPermittedRequestLevel(ImageRequest.RequestLevel.BITMAP_MEMORY_CACHE);
+                break;
+            case PainterMode.DISK_CACHE_LOAD:
+                imageRequestBuilder.setLowestPermittedRequestLevel(ImageRequest.RequestLevel.DISK_CACHE);
+                break;
+            case PainterMode.ENCODED_MEMORY_CACHE_LOAD:
+                imageRequestBuilder.setLowestPermittedRequestLevel(ImageRequest.RequestLevel.ENCODED_MEMORY_CACHE);
+                break;
+            default:
+                imageRequestBuilder.setLowestPermittedRequestLevel(ImageRequest.RequestLevel.FULL_FETCH);
+                break;
+        }
+        return imageRequestBuilder.build();
+    }
+
+    public static ImageRequest buildLowImageRequest(FrescoPainterPen pen){
+        if(TextUtils.isEmpty(pen.getLowSourceUri())){
+            return null;
+        }
+        Uri uri = Uri.parse(pen.getLowSourceUri());
+        return ImageRequest.fromUri(uri);
+    }
+}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/PainterFetchCallBack.java b/frescopainter/src/main/java/com/meetyou/frescopainter/PainterFetchCallBack.java
new file mode 100644
index 000000000..778c6328c
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/PainterFetchCallBack.java
@@ -0,0 +1,10 @@
+package com.meetyou.frescopainter;
+
+/**
+ * Created by Linhh on 16/10/8.
+ */
+
+public interface PainterFetchCallBack {
+  public void onSuccess();
+  public void onFail();
+}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/PainterMode.java b/frescopainter/src/main/java/com/meetyou/frescopainter/PainterMode.java
new file mode 100644
index 000000000..5a28820fd
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/PainterMode.java
@@ -0,0 +1,19 @@
+package com.meetyou.frescopainter;
+
+/**
+ * Created by Linhh on 16/9/20.
+ */
+public class PainterMode {
+
+  //full load mode
+  public static final int FULL_LOAD = 1;
+
+  //Disk cache mode
+  public static final int DISK_CACHE_LOAD = 2;
+
+  //encoded memory cache
+  public static final int ENCODED_MEMORY_CACHE_LOAD = 3;
+
+  //bitmap memory cache
+  public static final int BITMAP_MEMORY_CACHE_LOAD = 4;
+}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/PainterUtils.java b/frescopainter/src/main/java/com/meetyou/frescopainter/PainterUtils.java
new file mode 100644
index 000000000..afeb9034d
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/PainterUtils.java
@@ -0,0 +1,340 @@
+package com.meetyou.frescopainter;
+
+import java.io.File;
+import java.util.HashMap;
+import java.util.concurrent.Executor;
+
+import android.content.Context;
+import android.graphics.Bitmap;
+import android.graphics.drawable.Drawable;
+import android.net.Uri;
+import android.os.Build;
+import android.os.Handler;
+import android.os.Looper;
+import android.text.TextUtils;
+
+import com.facebook.binaryresource.FileBinaryResource;
+import com.facebook.cache.common.SimpleCacheKey;
+import com.facebook.common.executors.CallerThreadExecutor;
+import com.facebook.common.executors.UiThreadImmediateExecutorService;
+import com.facebook.common.references.CloseableReference;
+import com.facebook.datasource.DataSource;
+import com.facebook.datasource.DataSubscriber;
+import com.facebook.drawee.backends.pipeline.Fresco;
+import com.facebook.imagepipeline.animated.base.AnimatedImageResult;
+import com.facebook.imagepipeline.cache.BufferedDiskCache;
+import com.facebook.imagepipeline.common.ImageDecodeOptions;
+import com.facebook.imagepipeline.common.ResizeOptions;
+import com.facebook.imagepipeline.core.ImagePipeline;
+import com.facebook.imagepipeline.core.ImagePipelineFactory;
+import com.facebook.imagepipeline.datasource.BaseBitmapDataSubscriber;
+import com.facebook.imagepipeline.image.CloseableAnimatedImage;
+import com.facebook.imagepipeline.image.CloseableBitmap;
+import com.facebook.imagepipeline.image.CloseableImage;
+import com.facebook.imagepipeline.request.ImageRequest;
+import com.facebook.imagepipeline.request.ImageRequestBuilder;
+
+/**
+ * 画匠工具
+ * Created by Linhh on 16/9/10.
+ */
+class PainterUtils{
+
+//    private static HashMap<Uri,Bitmap> mBitmapCache = new HashMap<>();
+
+    public static ImagePipeline getImagePipeline(){
+        return Fresco.getImagePipeline();
+    }
+
+    public static ImagePipelineFactory getImagePipelineFactory() {
+        return Fresco.getImagePipelineFactory();
+    }
+
+    public static Drawable getDrawable(Context context, int resId) {
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
+            return context.getDrawable(resId);
+        } else {
+            return context.getResources().getDrawable(resId);
+        }
+    }
+
+    private static void loadImage(Context context, final String url, final ImageRequest request, final PainterCallBack callBack, final
+        Executor executor){
+//        if(mBitmapCache.containsKey(request.getSourceUri()) && !mBitmapCache.get(request.getSourceUri()).isRecycled()){
+//            if(callBack != null) {
+//                callBack.onSuccess(url, mBitmapCache.get(request.getSourceUri()));
+//            }
+//        }else {
+            DataSource<CloseableReference<CloseableImage>>
+                dataSource = getImagePipeline().fetchDecodedImage(request, context);
+            dataSource.subscribe(new DataSubscriber<CloseableReference<CloseableImage>>() {
+                @Override
+                public void onNewResult(DataSource<CloseableReference<CloseableImage>> dataSource) {
+                    Bitmap bitmap = null;
+                    try {
+                        bitmap = convertBitmap(dataSource.getResult());
+//                        mBitmapCache.put(request.getSourceUri(), bitmap);
+                    } finally {
+                        CloseableReference.closeSafely(dataSource.getResult());
+                    }
+                    if (callBack != null) {
+                        callBack.onSuccess(url, bitmap);
+                    }
+                }
+
+                @Override
+                public void onFailure(DataSource<CloseableReference<CloseableImage>> dataSource) {
+                    if (callBack != null) {
+                        callBack.onFailure(url, dataSource.getFailureCause());
+                    }
+                }
+
+                @Override
+                public void onCancellation(DataSource<CloseableReference<CloseableImage>> dataSource) {
+
+                }
+
+                @Override
+                public void onProgressUpdate(DataSource<CloseableReference<CloseableImage>> dataSource) {
+
+                }
+            }, executor);
+//        }
+    }
+
+    public static void loadImageCallBackWork(Context context, final int res, final ResizeOptions imageSize, final PainterCallBack callBack){
+        ImageRequest request = ImageRequestBuilder.newBuilderWithResourceId(res)
+            .setResizeOptions(imageSize)
+            .build();
+        loadImage(context,"", request,callBack,CallerThreadExecutor.getInstance());
+    }
+
+    public static void loadImageCallBackWork(Context context, final String url, final ResizeOptions imageSize, final PainterCallBack callBack){
+        ImageRequest request = ImageRequestBuilder.newBuilderWithSource(
+            Uri.parse(url))
+            .setResizeOptions(imageSize)
+            .build();
+        loadImage(context,url, request,callBack,CallerThreadExecutor.getInstance());
+    }
+
+    public static void loadImageCallBackWork(Context context, final int res,final PainterCallBack callBack){
+        ImageRequest request = ImageRequestBuilder.newBuilderWithResourceId(res)
+            .build();
+        loadImage(context,"", request,callBack,CallerThreadExecutor.getInstance());
+    }
+
+    public static void loadImageCallBackWork(Context context, final String url, final PainterCallBack callBack){
+        ImageRequest request = ImageRequestBuilder.newBuilderWithSource(
+            Uri.parse(url))
+            .build();
+        loadImage(context,url, request,callBack,CallerThreadExecutor.getInstance());
+    }
+
+    public static void loadImageCallBackUi(Context context, final int res, final ResizeOptions imageSize, final PainterCallBack callBack){
+        ImageRequest request = ImageRequestBuilder.newBuilderWithResourceId(res)
+            .setResizeOptions(imageSize)
+            .build();
+        loadImage(context,"", request,callBack,UiThreadImmediateExecutorService.getInstance());
+    }
+
+    public static void loadImageCallBackUi(Context context, final String url, final ResizeOptions imageSize, final PainterCallBack callBack){
+        ImageRequest request = ImageRequestBuilder.newBuilderWithSource(
+            Uri.parse(url))
+            .setResizeOptions(imageSize)
+            .build();
+        loadImage(context,url, request,callBack,UiThreadImmediateExecutorService.getInstance());
+    }
+
+    public static void loadImageCallBackUi(Context context, final int res, final PainterCallBack callBack){
+        ImageRequest request = ImageRequestBuilder.newBuilderWithResourceId(res)
+            .build();
+        loadImage(context,"", request,callBack,UiThreadImmediateExecutorService.getInstance());
+    }
+
+    public static void loadImageCallBackUi(Context context, final String url, final PainterCallBack callBack){
+        ImageRequest request = ImageRequestBuilder.newBuilderWithSource(
+            Uri.parse(url))
+            .build();
+        loadImage(context,url, request,callBack,UiThreadImmediateExecutorService.getInstance());
+    }
+
+      /**
+       * 这里不应该copy其实,更应该直接encode未解析拿出来
+       * @param closeableImageRef
+       * @return
+       */
+    private static Bitmap convertBitmap(CloseableReference<CloseableImage> closeableImageRef) throws OutOfMemoryError{
+        Bitmap bitmap = null;
+        if (closeableImageRef != null) {
+            if(closeableImageRef.get() instanceof CloseableBitmap) {
+                bitmap = ((CloseableBitmap) closeableImageRef.get()).getUnderlyingBitmap();
+            }else if(closeableImageRef.get() instanceof CloseableAnimatedImage){
+
+                CloseableAnimatedImage closeableImage = (CloseableAnimatedImage)closeableImageRef.get();
+                final AnimatedImageResult result = ((CloseableAnimatedImage) closeableImage).getImageResult();
+                bitmap = result.getPreviewBitmap().get();
+
+            }
+        }
+        if(bitmap != null){
+            bitmap = bitmap.createBitmap(bitmap);
+        }
+        return bitmap;
+    }
+
+    /**
+     * 清除所有缓存
+     */
+    public static void clearCaches() {
+        getImagePipeline().clearCaches();
+    }
+
+    /**
+     * 清除磁盘缓存
+     */
+    public static void clearDiskCaches() {
+        getImagePipeline().clearDiskCaches();
+    }
+
+    /**
+     * 清除内存缓存
+     */
+    public static void clearMemoryCaches(){
+        getImagePipeline().clearMemoryCaches();
+    }
+
+    /**
+     * 判断是否已经在disk缓存
+     * @param url
+     * @return
+     */
+    public static boolean isInDiskCacheSync(String url) {
+        return getImagePipeline().isInDiskCacheSync(Uri.parse(url));
+    }
+
+    /**
+     * 判断是否存在内存缓存中
+     * @param url
+     * @return
+     */
+    public static boolean isInBitmapMemoryCache(String url) {
+        return getImagePipeline().isInBitmapMemoryCache(Uri.parse(url));
+    }
+
+    public static void evictFromPainterCache(String url){
+//        Uri uri = Uri.parse(url);
+//        Bitmap bitmap = mBitmapCache.get(uri);
+//        if(bitmap != null && !bitmap.isRecycled()){
+//            bitmap.recycle();
+//        }
+//        mBitmapCache.remove(uri);
+    }
+
+    public static void evictFromDiskCache(String url){
+        getImagePipeline().evictFromDiskCache(Uri.parse(url));
+        evictFromPainterCache(url);
+    }
+
+    public static void evictFromMemoryCache(String url){
+        getImagePipeline().evictFromMemoryCache(Uri.parse(url));
+        evictFromPainterCache(url);
+    }
+
+    public static void evictFromCache(String url){
+        getImagePipeline().evictFromCache(Uri.parse(url));
+        evictFromPainterCache(url);
+    }
+
+  /**
+   * 不安全做法，直接处理缓存
+   * @param url
+   * @return
+   */
+    public static File getDiskCacheFile(String url){
+        File cache = null;
+        FileBinaryResource fileBinaryResource = null;
+        BufferedDiskCache mainCache = getImagePipeline().getMainBufferdDiskCache();
+        fileBinaryResource = (FileBinaryResource)mainCache.getFileCache().getResource(new SimpleCacheKey(url));
+        if(fileBinaryResource != null) {
+            cache = fileBinaryResource.getFile();
+        }
+        if(cache != null){
+            return cache;
+        }
+        //取二级缓存
+        BufferedDiskCache smallCache = getImagePipeline().getSmallImageBufferedDiskCache();
+        fileBinaryResource = (FileBinaryResource)smallCache.getFileCache().getResource(new SimpleCacheKey(url));
+        if(fileBinaryResource != null) {
+            cache = fileBinaryResource.getFile();
+        }
+        return cache;
+    }
+
+    public static boolean fetchToDiskCache(Context context, FrescoPainterPen pen){
+        if(pen == null){
+            return false;
+        }
+        ImageRequest request = null;
+        if(TextUtils.isEmpty(pen.getSourceUri())){
+            //说明是res
+            request = PainterFactory.buildImageRequestWithResource(pen);
+        }else{
+            request = PainterFactory.buildImageRequestWithSource(pen, true);
+        }
+        DataSource<Void> dataSource = getImagePipeline().prefetchToDiskCache(request,context);
+        if(dataSource == null){
+            return false;
+        }
+        return dataSource.hasResult();
+    }
+
+    public static void fetchToDiskCache(Context context, FrescoPainterPen pen, final PainterFetchCallBack callBack){
+        if(pen == null){
+            if(callBack != null){
+                callBack.onFail();
+            }
+            return;
+        }
+        ImageRequest request = null;
+        if(TextUtils.isEmpty(pen.getSourceUri())){
+            //说明是res
+            request = PainterFactory.buildImageRequestWithResource(pen);
+        }else{
+            request = PainterFactory.buildImageRequestWithSource(pen, true);
+        }
+        DataSource<Void> dataSource = getImagePipeline().prefetchToDiskCache(request,context);
+        if(dataSource == null){
+            if(callBack != null){
+                callBack.onFail();
+            }
+            return;
+        }
+        dataSource.subscribe(new DataSubscriber<Void>() {
+            @Override
+            public void onNewResult(DataSource<Void> dataSource) {
+                if(callBack != null){
+                    callBack.onSuccess();
+                }
+            }
+
+            @Override
+            public void onFailure(DataSource<Void> dataSource) {
+                if(callBack != null){
+                    callBack.onFail();
+                }
+            }
+
+            @Override
+            public void onCancellation(DataSource<Void> dataSource) {
+
+            }
+
+            @Override
+            public void onProgressUpdate(DataSource<Void> dataSource) {
+
+            }
+        },UiThreadImmediateExecutorService.getInstance());
+    }
+
+//    public static void clearCache
+}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/PainterWork.java b/frescopainter/src/main/java/com/meetyou/frescopainter/PainterWork.java
new file mode 100644
index 000000000..85ba2f7f2
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/PainterWork.java
@@ -0,0 +1,8 @@
+package com.meetyou.frescopainter;
+
+/**
+ * Created by Linhh on 16/9/10.
+ */
+public interface PainterWork {
+    void paint(IFrescoImageView draweeView, FrescoPainterPen pen);
+}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/PainterWorksapce.java b/frescopainter/src/main/java/com/meetyou/frescopainter/PainterWorksapce.java
new file mode 100644
index 000000000..a249b598c
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/PainterWorksapce.java
@@ -0,0 +1,261 @@
+package com.meetyou.frescopainter;
+
+import android.text.TextUtils;
+
+import com.facebook.drawee.drawable.ScalingUtils;
+import com.facebook.drawee.generic.GenericDraweeHierarchy;
+import com.facebook.drawee.generic.RoundingParams;
+import com.facebook.drawee.interfaces.DraweeController;
+import com.facebook.imagepipeline.request.ImageRequest;
+
+/**
+ * 画室
+ * Created by Linhh on 16/9/10.
+ */
+class PainterWorksapce implements PainterWork{
+
+    /**
+     * main paint method. don't change or edit code,
+     * if you want to edit code or improve logic, contact linhonghong please.
+     * 3Q
+     * @param draweeView
+     * @param pen
+     */
+    @Override
+    public void paint(IFrescoImageView draweeView, FrescoPainterPen pen) {
+        //设置监听
+        setFrescoPainterInterceptor(draweeView,pen);
+        draweeView.setFrescoPainterPen(pen);
+        //设置圆形
+        setRoundingParmas(draweeView, pen);
+        //设置缩放
+        setActualImageScaleType(draweeView, pen);
+        //设置基本数据
+        setImageHolder(draweeView, pen);
+        //设置描边
+        setBorder(draweeView, pen);
+        try {
+            if (pen.getSourceUri() != null) {
+                paintNetwork(draweeView, pen);
+            } else {
+                paintLocal(draweeView, pen);
+            }
+        }catch (OutOfMemoryError error){
+            error.printStackTrace();
+        }
+    }
+
+    /**
+     * 获得一个RoundingParams
+     * @param draweeView
+     * @return
+     */
+    private RoundingParams getRoundingParams(IFrescoImageView draweeView) {
+        RoundingParams roundingParams = getHierarchy(draweeView).getRoundingParams();
+        if(roundingParams == null){
+            roundingParams = new RoundingParams();
+        }
+        return roundingParams;
+    }
+
+    /**
+     * Hierarchy
+     * @param draweeView
+     * @return
+     */
+    private GenericDraweeHierarchy getHierarchy(IFrescoImageView draweeView){
+        return draweeView.getHierarchy();
+    }
+
+    /**
+     * 获得缓存的rounding参数
+     * @param draweeView
+     * @param roundingParams
+     */
+    private void setRoundingParams(IFrescoImageView draweeView, RoundingParams roundingParams){
+        getHierarchy(draweeView).setRoundingParams(roundingParams);
+    }
+
+    /**
+     * 设置图片缩放
+     * @param draweeView
+     * @param pen
+     */
+    public void setActualImageScaleType(IFrescoImageView draweeView, FrescoPainterPen pen) {
+        //从XML读取的缩放
+        ScalingUtils.ScaleType xmlScaling = getHierarchy(draweeView).getActualImageScaleType();
+        getHierarchy(draweeView).setActualImageScaleType(pen.getScaleType() == null ? xmlScaling : pen.getScaleType());
+    }
+
+    /**
+     * setBorder
+     * @param draweeView
+     * @param pen
+     */
+    private void setBorder(IFrescoImageView draweeView, FrescoPainterPen pen){
+        RoundingParams roundingParams = getRoundingParams(draweeView);
+        if(pen.getBorderColor() != 0) {
+            roundingParams.setBorderColor(pen.getBorderColor());
+        }
+
+        if(pen.getBorderWidth() != 0){
+            roundingParams.setBorderWidth(pen.getBorderWidth());
+        }
+
+        if(pen.getRoundePadding() != 0){
+            roundingParams.setPadding(pen.getRoundePadding());
+        }
+
+        setRoundingParams(draweeView, roundingParams);
+    }
+
+    /**
+     * 设置圆形或者圆角
+     * @param draweeView
+     */
+    private void setRoundingParmas(IFrescoImageView draweeView, FrescoPainterPen pen){
+        PenRadius penRadius = pen.getPenRadius();
+        if(penRadius == null){
+            return;
+        }
+        RoundingParams roundingParams = getRoundingParams(draweeView);
+        if(pen.isCircle()){
+            //如果是圆形
+            roundingParams.setRoundAsCircle(true);
+            if(pen.getOverColor() != 0){
+                roundingParams.setRoundingMethod(RoundingParams.RoundingMethod.OVERLAY_COLOR).
+                        setOverlayColor(pen.getOverColor());
+            }
+            setRoundingParams(draweeView, roundingParams);
+
+        }else if(penRadius.getTopRightRadius() != 0 ||
+                penRadius.getBottomRightRadius() != 0||
+                penRadius.getTopLeftRadius() !=0 ||
+                penRadius.getBottomLeftRadius() != 0){
+            //设置圆角
+            roundingParams.setCornersRadii(penRadius.getTopLeftRadius(),
+                    penRadius.getTopRightRadius(),
+                    penRadius.getBottomRightRadius(),
+                    penRadius.getBottomLeftRadius());
+            if(pen.getOverColor() != 0){
+                roundingParams.setRoundingMethod(RoundingParams.RoundingMethod.OVERLAY_COLOR).
+                        setOverlayColor(pen.getOverColor());
+            }
+            setRoundingParams(draweeView, roundingParams);
+        }
+    }
+
+    /**
+     * ResourceController
+     * @param frescoImageView
+     */
+    private void setResourceController(IFrescoImageView frescoImageView){
+
+        ImageRequest request = PainterFactory.buildImageRequestWithResource(frescoImageView.getFrescoPainterPen());
+        frescoImageView.setImageRequest(request);
+
+        DraweeController controller = PainterFactory.buildDraweeController(frescoImageView);
+        frescoImageView.setController(controller);
+    }
+
+    /**
+     * setSourceController
+     * @param frescoImageView
+     */
+    private void setSourceController(IFrescoImageView frescoImageView){
+
+        ImageRequest request = PainterFactory.buildImageRequestWithSource(frescoImageView.getFrescoPainterPen());
+        frescoImageView.setImageRequest(request);
+
+        ImageRequest low_request = PainterFactory.buildLowImageRequest(frescoImageView.getFrescoPainterPen());
+        frescoImageView.setLowImageRequest(low_request);
+
+        DraweeController controller = PainterFactory.buildDraweeController(frescoImageView);
+        frescoImageView.setController(controller);
+    }
+
+  /**
+   * 设置监听器
+   * @param draweeView
+   * @param pen
+   */
+  private void setFrescoPainterInterceptor(IFrescoImageView draweeView, FrescoPainterPen pen){
+        getHierarchy(draweeView).setFrescoPainterDraweeInterceptor(pen.getFrescoPainterDraweeInterceptor());
+    }
+
+    /**
+     * setImageHolder
+     * @param draweeView
+     * @param pen
+     */
+    private void setImageHolder(IFrescoImageView draweeView, FrescoPainterPen pen){
+        int defaultResID = pen.getDefaultHolder();
+        ScalingUtils.ScaleType defaultScaleType = pen.getDefaultHolderScaleType();
+        ScalingUtils.ScaleType failScaleType = pen.getFailHolderScaleType();
+        ScalingUtils.ScaleType progressScaleType = pen.getProgressHolderScaleType();
+        ScalingUtils.ScaleType retryScaleType = pen.getRetryHolderScaleType();
+        int failResID = pen.getFailHolder();
+        int retryResID = pen.getRetryHolder();
+        int bgResID = pen.getBgHolder();
+        int progressResID = pen.getProgressHolder();
+
+        if(defaultResID > 0) {
+            if(defaultScaleType == null) {
+                getHierarchy(draweeView).setPlaceholderImage(defaultResID);
+            }else{
+                getHierarchy(draweeView).setPlaceholderImage(defaultResID, defaultScaleType);
+            }
+        }
+        if(failResID > 0) {
+            if(failScaleType == null) {
+                getHierarchy(draweeView).setFailureImage(failResID);
+            }else{
+                getHierarchy(draweeView).setFailureImage(failResID, failScaleType);
+            }
+        }
+        if(retryResID > 0){
+            if(retryScaleType == null) {
+                getHierarchy(draweeView).setRetryImage(retryResID);
+            }else{
+                getHierarchy(draweeView).setRetryImage(retryResID, retryScaleType);
+            }
+        }
+        if(bgResID > 0){
+            getHierarchy(draweeView).setBackgroundImage(bgResID);
+        }
+        if(progressResID > 0){
+            if(progressScaleType == null) {
+                getHierarchy(draweeView).setProgressBarImage(progressResID);
+            }else{
+                getHierarchy(draweeView).setProgressBarImage(progressResID, progressScaleType);
+            }
+        }
+        getHierarchy(draweeView).setFadeDuration(pen.getFadeDuration());
+
+
+    }
+
+    /**
+     * 绘制网络图片，以及磁盘
+     * @param draweeView
+     * @param pen
+     */
+    public void paintNetwork(IFrescoImageView draweeView, FrescoPainterPen pen){
+        String url = pen.getSourceUri();
+        if(TextUtils.isEmpty(url)){
+            //如果url为空就显示默认图
+            setResourceController(draweeView);
+            return;
+        }
+        setSourceController(draweeView);
+    }
+
+    /**
+     * 加载本地，res
+     * @param draweeView
+     * @param pen
+     */
+    public void paintLocal(IFrescoImageView draweeView, FrescoPainterPen pen){
+        setResourceController(draweeView);
+    }
+}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/PenRadius.java b/frescopainter/src/main/java/com/meetyou/frescopainter/PenRadius.java
new file mode 100644
index 000000000..1874dca2f
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/PenRadius.java
@@ -0,0 +1,71 @@
+package com.meetyou.frescopainter;
+
+/**
+ * 圆笔
+ * Created by Linhh on 16/9/10.
+ */
+public class PenRadius implements Cloneable{
+
+    private int mTopLeftRadius;
+    private int mTopRightRadius;
+    private int mBottomLeftRadius;
+    private int mBottomRightRadius;
+
+    public int getTopLeftRadius() {
+        return mTopLeftRadius;
+    }
+
+    public void setTopLeftRadius(int mTopLeftRadius) {
+        this.mTopLeftRadius = mTopLeftRadius;
+    }
+
+    public int getTopRightRadius() {
+        return mTopRightRadius;
+    }
+
+    public void setTopRightRadius(int mTopRightRadius) {
+        this.mTopRightRadius = mTopRightRadius;
+    }
+
+    public int getBottomLeftRadius() {
+        return mBottomLeftRadius;
+    }
+
+    public void setBottomLeftRadius(int mBottomLeftRadius) {
+        this.mBottomLeftRadius = mBottomLeftRadius;
+    }
+
+    public int getBottomRightRadius() {
+        return mBottomRightRadius;
+    }
+
+    public void setBottomRightRadius(int mBottomRightRadius) {
+        this.mBottomRightRadius = mBottomRightRadius;
+    }
+
+    private PenRadius(){
+
+    }
+
+    public PenRadius(int radius){
+        this(radius,radius,radius,radius);
+    }
+
+    public PenRadius(int topLeftRadius, int topRightRadius, int bottomLeftRadius,int bottomRightRadius){
+        mTopLeftRadius = topLeftRadius;
+        mTopRightRadius = topRightRadius;
+        mBottomLeftRadius = bottomLeftRadius;
+        mBottomRightRadius = bottomRightRadius;
+    }
+
+    public PenRadius clone(){
+        try {
+            return (PenRadius)super.clone();
+        } catch (CloneNotSupportedException e) {
+            e.printStackTrace();
+        }
+        return this;
+    }
+
+
+}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/gestures/MultiPointerGestureDetector.java b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/gestures/MultiPointerGestureDetector.java
new file mode 100644
index 000000000..25c947685
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/gestures/MultiPointerGestureDetector.java
@@ -0,0 +1,239 @@
+/*
+ * This file provided by Facebook is for non-commercial testing and evaluation
+ * purposes only.  Facebook reserves all rights not expressly granted.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+ * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
+ * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
+ * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
+ */
+
+package com.meetyou.frescopainter.zoom.gestures;
+
+import android.view.MotionEvent;
+
+/**
+ * Component that detects and tracks multiple pointers based on touch events.
+ * <p>
+ * Each time a pointer gets pressed or released, the current gesture (if any) will end, and a new
+ * one will be started (if there are still pressed pointers left). It is guaranteed that the number
+ * of pointers within the single gesture will remain the same during the whole gesture.
+ */
+public class MultiPointerGestureDetector {
+
+  /** The listener for receiving notifications when gestures occur. */
+  public interface Listener {
+    /** Responds to the beginning of a gesture. */
+    public void onGestureBegin(MultiPointerGestureDetector detector);
+
+    /** Responds to the update of a gesture in progress. */
+    public void onGestureUpdate(MultiPointerGestureDetector detector);
+
+    /** Responds to the end of a gesture. */
+    public void onGestureEnd(MultiPointerGestureDetector detector);
+  }
+
+  private static final int MAX_POINTERS = 2;
+
+  private boolean mGestureInProgress;
+  private int mCount;
+  private final int mId[] = new int[MAX_POINTERS];
+  private final float mStartX[] = new float[MAX_POINTERS];
+  private final float mStartY[] = new float[MAX_POINTERS];
+  private final float mCurrentX[] = new float[MAX_POINTERS];
+  private final float mCurrentY[] = new float[MAX_POINTERS];
+
+  private Listener mListener = null;
+
+  public MultiPointerGestureDetector() {
+    reset();
+  }
+
+  /** Factory method that creates a new instance of MultiPointerGestureDetector */
+  public static MultiPointerGestureDetector newInstance() {
+    return new MultiPointerGestureDetector();
+  }
+
+  /**
+   * Sets the listener.
+   * @param listener listener to set
+   */
+  public void setListener(Listener listener) {
+    mListener = listener;
+  }
+
+  /**
+   * Resets the component to the initial state.
+   */
+  public void reset() {
+    mGestureInProgress = false;
+    mCount = 0;
+    for (int i = 0; i < MAX_POINTERS; i++) {
+      mId[i] = MotionEvent.INVALID_POINTER_ID;
+    }
+  }
+
+  /**
+   * This method can be overridden in order to perform threshold check or something similar.
+   * @return whether or not to start a new gesture
+   */
+  protected boolean shouldStartGesture() {
+    return true;
+  }
+
+  private void startGesture() {
+    if (!mGestureInProgress) {
+      mGestureInProgress = true;
+      if (mListener != null) {
+        mListener.onGestureBegin(this);
+      }
+    }
+  }
+
+  private void stopGesture() {
+    if (mGestureInProgress) {
+      mGestureInProgress = false;
+      if (mListener != null) {
+        mListener.onGestureEnd(this);
+      }
+    }
+  }
+
+  /**
+   * Gets the index of the i-th pressed pointer.
+   * Normally, the index will be equal to i, except in the case when the pointer is released.
+   * @return index of the specified pointer or -1 if not found (i.e. not enough pointers are down)
+   */
+  private int getPressedPointerIndex(MotionEvent event, int i) {
+    final int count = event.getPointerCount();
+    final int action = event.getActionMasked();
+    final int index = event.getActionIndex();
+    if (action == MotionEvent.ACTION_UP ||
+        action == MotionEvent.ACTION_POINTER_UP) {
+      if (i >= index) {
+        i++;
+      }
+    }
+    return (i < count) ? i : -1;
+  }
+
+  /**
+   * Handles the given motion event.
+   * @param event event to handle
+   * @return whether or not the event was handled
+   */
+  public boolean onTouchEvent(final MotionEvent event) {
+    switch (event.getActionMasked()) {
+      case MotionEvent.ACTION_MOVE: {
+        // update pointers
+        for (int i = 0; i < MAX_POINTERS; i++) {
+          int index = event.findPointerIndex(mId[i]);
+          if (index != -1) {
+            mCurrentX[i] = event.getX(index);
+            mCurrentY[i] = event.getY(index);
+          }
+        }
+        // start a new gesture if not already started
+        if (!mGestureInProgress && shouldStartGesture()) {
+          startGesture();
+        }
+        // notify listener
+        if (mGestureInProgress && mListener != null) {
+          mListener.onGestureUpdate(this);
+        }
+        break;
+      }
+
+      case MotionEvent.ACTION_DOWN:
+      case MotionEvent.ACTION_POINTER_DOWN:
+      case MotionEvent.ACTION_POINTER_UP:
+      case MotionEvent.ACTION_UP: {
+        // we'll restart the current gesture (if any) whenever the number of pointers changes
+        // NOTE: we only restart existing gestures here, new gestures are started in ACTION_MOVE
+        boolean wasGestureInProgress = mGestureInProgress;
+        stopGesture();
+        reset();
+        // update pointers
+        for (int i = 0; i < MAX_POINTERS; i++) {
+          int index = getPressedPointerIndex(event, i);
+          if (index == -1) {
+            break;
+          }
+          mId[i] = event.getPointerId(index);
+          mCurrentX[i] = mStartX[i] = event.getX(index);
+          mCurrentY[i] = mStartY[i] = event.getY(index);
+          mCount++;
+        }
+        // restart the gesture (if any) if there are still pointers left
+        if (wasGestureInProgress && mCount > 0) {
+          startGesture();
+        }
+        break;
+      }
+
+      case MotionEvent.ACTION_CANCEL: {
+        stopGesture();
+        reset();
+        break;
+      }
+    }
+    return true;
+  }
+
+  /** Restarts the current gesture */
+  public void restartGesture() {
+    if (!mGestureInProgress) {
+      return;
+    }
+    stopGesture();
+    for (int i = 0; i < MAX_POINTERS; i++) {
+      mStartX[i] = mCurrentX[i];
+      mStartY[i] = mCurrentY[i];
+    }
+    startGesture();
+  }
+
+  /** Gets whether gesture is in progress or not */
+  public boolean isGestureInProgress() {
+    return mGestureInProgress;
+  }
+
+  /** Gets the number of pointers in the current gesture */
+  public int getCount() {
+    return mCount;
+  }
+
+  /**
+   * Gets the start X coordinates for the all pointers
+   * Mutable array is exposed for performance reasons and is not to be modified by the callers.
+   */
+  public float[] getStartX() {
+    return mStartX;
+  }
+
+  /**
+   * Gets the start Y coordinates for the all pointers
+   * Mutable array is exposed for performance reasons and is not to be modified by the callers.
+   */
+  public float[] getStartY() {
+    return mStartY;
+  }
+
+  /**
+   * Gets the current X coordinates for the all pointers
+   * Mutable array is exposed for performance reasons and is not to be modified by the callers.
+   */
+  public float[] getCurrentX() {
+    return mCurrentX;
+  }
+
+  /**
+   * Gets the current Y coordinates for the all pointers
+   * Mutable array is exposed for performance reasons and is not to be modified by the callers.
+   */
+  public float[] getCurrentY() {
+    return mCurrentY;
+  }
+}
\ No newline at end of file
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/gestures/TransformGestureDetector.java b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/gestures/TransformGestureDetector.java
new file mode 100644
index 000000000..9696a1d67
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/gestures/TransformGestureDetector.java
@@ -0,0 +1,166 @@
+/*
+ * This file provided by Facebook is for non-commercial testing and evaluation
+ * purposes only.  Facebook reserves all rights not expressly granted.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+ * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
+ * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
+ * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
+ */
+
+package com.meetyou.frescopainter.zoom.gestures;
+
+import android.view.MotionEvent;
+
+/**
+ * Component that detects translation, scale and rotation based on touch events.
+ * <p>
+ * This class notifies its listeners whenever a gesture begins, updates or ends.
+ * The instance of this detector is passed to the listeners, so it can be queried
+ * for pivot, translation, scale or rotation.
+ */
+public class TransformGestureDetector implements MultiPointerGestureDetector.Listener {
+
+  /** The listener for receiving notifications when gestures occur. */
+  public interface Listener {
+    /** Responds to the beginning of a gesture. */
+    public void onGestureBegin(TransformGestureDetector detector);
+
+    /** Responds to the update of a gesture in progress. */
+    public void onGestureUpdate(TransformGestureDetector detector);
+
+    /** Responds to the end of a gesture. */
+    public void onGestureEnd(TransformGestureDetector detector);
+  }
+
+  private final MultiPointerGestureDetector mDetector;
+
+  private Listener mListener = null;
+
+  public TransformGestureDetector(MultiPointerGestureDetector multiPointerGestureDetector) {
+    mDetector = multiPointerGestureDetector;
+    mDetector.setListener(this);
+  }
+
+  /** Factory method that creates a new instance of TransformGestureDetector */
+  public static TransformGestureDetector newInstance() {
+    return new TransformGestureDetector(MultiPointerGestureDetector.newInstance());
+  }
+
+  /**
+   * Sets the listener.
+   * @param listener listener to set
+   */
+  public void setListener(Listener listener) {
+    mListener = listener;
+  }
+
+  /**
+   * Resets the component to the initial state.
+   */
+  public void reset() {
+    mDetector.reset();
+  }
+
+  /**
+   * Handles the given motion event.
+   * @param event event to handle
+   * @return whether or not the event was handled
+   */
+  public boolean onTouchEvent(final MotionEvent event) {
+    return mDetector.onTouchEvent(event);
+  }
+
+  @Override
+  public void onGestureBegin(MultiPointerGestureDetector detector) {
+    if (mListener != null) {
+      mListener.onGestureBegin(this);
+    }
+  }
+
+  @Override
+  public void onGestureUpdate(MultiPointerGestureDetector detector) {
+    if (mListener != null) {
+      mListener.onGestureUpdate(this);
+    }
+  }
+
+  @Override
+  public void onGestureEnd(MultiPointerGestureDetector detector) {
+    if (mListener != null) {
+      mListener.onGestureEnd(this);
+    }
+  }
+
+  private float calcAverage(float[] arr, int len) {
+    float sum = 0;
+    for (int i = 0; i < len; i++) {
+      sum += arr[i];
+    }
+    return (len > 0) ? sum / len : 0;
+  }
+
+  /** Restarts the current gesture */
+  public void restartGesture() {
+    mDetector.restartGesture();
+  }
+
+  /** Gets whether gesture is in progress or not */
+  public boolean isGestureInProgress() {
+    return mDetector.isGestureInProgress();
+  }
+
+  /** Gets the X coordinate of the pivot point */
+  public float getPivotX() {
+    return calcAverage(mDetector.getStartX(), mDetector.getCount());
+  }
+
+  /** Gets the Y coordinate of the pivot point */
+  public float getPivotY() {
+    return calcAverage(mDetector.getStartY(), mDetector.getCount());
+  }
+
+  /** Gets the X component of the translation */
+  public float getTranslationX() {
+    return calcAverage(mDetector.getCurrentX(), mDetector.getCount()) -
+        calcAverage(mDetector.getStartX(), mDetector.getCount());
+  }
+
+  /** Gets the Y component of the translation */
+  public float getTranslationY() {
+    return calcAverage(mDetector.getCurrentY(), mDetector.getCount()) -
+        calcAverage(mDetector.getStartY(), mDetector.getCount());
+  }
+
+  /** Gets the scale */
+  public float getScale() {
+    if (mDetector.getCount() < 2) {
+      return 1;
+    } else {
+      float startDeltaX = mDetector.getStartX()[1] - mDetector.getStartX()[0];
+      float startDeltaY = mDetector.getStartY()[1] - mDetector.getStartY()[0];
+      float currentDeltaX = mDetector.getCurrentX()[1] - mDetector.getCurrentX()[0];
+      float currentDeltaY = mDetector.getCurrentY()[1] - mDetector.getCurrentY()[0];
+      float startDist = (float) Math.hypot(startDeltaX, startDeltaY);
+      float currentDist = (float) Math.hypot(currentDeltaX, currentDeltaY);
+      return currentDist / startDist;
+    }
+  }
+
+  /** Gets the rotation in radians */
+  public float getRotation() {
+    if (mDetector.getCount() < 2) {
+      return 0;
+    } else {
+      float startDeltaX = mDetector.getStartX()[1] - mDetector.getStartX()[0];
+      float startDeltaY = mDetector.getStartY()[1] - mDetector.getStartY()[0];
+      float currentDeltaX = mDetector.getCurrentX()[1] - mDetector.getCurrentX()[0];
+      float currentDeltaY = mDetector.getCurrentY()[1] - mDetector.getCurrentY()[0];
+      float startAngle = (float) Math.atan2(startDeltaY, startDeltaX);
+      float currentAngle = (float) Math.atan2(currentDeltaY, currentDeltaX);
+      return currentAngle - startAngle;
+    }
+  }
+}
\ No newline at end of file
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/AbstractAnimatedZoomableController.java b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/AbstractAnimatedZoomableController.java
new file mode 100644
index 000000000..8d13495de
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/AbstractAnimatedZoomableController.java
@@ -0,0 +1,186 @@
+///*
+// * This file provided by Facebook is for non-commercial testing and evaluation
+// * purposes only.  Facebook reserves all rights not expressly granted.
+// *
+// * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+// * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+// * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+// * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
+// * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
+// * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
+// */
+//package com.meetyou.frescopainter.zoom.zoomable;
+//
+//import android.graphics.Matrix;
+//import android.graphics.PointF;
+//
+//import com.facebook.common.logging.FLog;
+//import com.meetyou.frescopainter.zoom.gestures.TransformGestureDetector;
+//
+///**
+// * Abstract class for ZoomableController that adds animation capabilities to
+// * DefaultZoomableController.
+// */
+//public abstract class AbstractAnimatedZoomableController extends DefaultZoomableController {
+//
+//  private boolean mIsAnimating;
+//  private final float[] mStartValues = new float[9];
+//  private final float[] mStopValues = new float[9];
+//  private final float[] mCurrentValues = new float[9];
+//  private final Matrix mNewTransform = new Matrix();
+//  private final Matrix mWorkingTransform = new Matrix();
+//
+//
+//  public AbstractAnimatedZoomableController(TransformGestureDetector transformGestureDetector) {
+//    super(transformGestureDetector);
+//  }
+//
+//  @Override
+//  public void reset() {
+//    FLog.v(getLogTag(), "reset");
+//    stopAnimation();
+//    mWorkingTransform.reset();
+//    mNewTransform.reset();
+//    super.reset();
+//  }
+//
+//  /**
+//   * Returns true if the zoomable transform is identity matrix, and the controller is idle.
+//   */
+//  @Override
+//  public boolean isIdentity() {
+//    return !isAnimating() && super.isIdentity();
+//  }
+//
+//  /**
+//   * Zooms to the desired scale and positions the image so that the given image point corresponds
+//   * to the given view point.
+//   *
+//   * <p>If this method is called while an animation or gesture is already in progress,
+//   * the current animation or gesture will be stopped first.
+//   *
+//   * @param scale desired scale, will be limited to {min, max} scale factor
+//   * @param imagePoint 2D point in image's relative coordinate system (i.e. 0 <= x, y <= 1)
+//   * @param viewPoint 2D point in view's absolute coordinate system
+//   */
+//  @Override
+//  public void zoomToPoint(
+//      float scale,
+//      PointF imagePoint,
+//      PointF viewPoint) {
+//    zoomToPoint(scale, imagePoint, viewPoint, LIMIT_ALL, 0, null);
+//  }
+//
+//  /**
+//   * Zooms to the desired scale and positions the image so that the given image point corresponds
+//   * to the given view point.
+//   *
+//   * <p>If this method is called while an animation or gesture is already in progress,
+//   * the current animation or gesture will be stopped first.
+//   *
+//   * @param scale desired scale, will be limited to {min, max} scale factor
+//   * @param imagePoint 2D point in image's relative coordinate system (i.e. 0 <= x, y <= 1)
+//   * @param viewPoint 2D point in view's absolute coordinate system
+//   * @param limitFlags whether to limit translation and/or scale.
+//   * @param durationMs length of animation of the zoom, or 0 if no animation desired
+//   * @param onAnimationComplete code to run when the animation completes. Ignored if durationMs=0
+//   */
+//  public void zoomToPoint(
+//      float scale,
+//      PointF imagePoint,
+//      PointF viewPoint,
+//      @LimitFlag int limitFlags,
+//      long durationMs,
+//      Runnable onAnimationComplete) {
+//    FLog.v(getLogTag(), "zoomToPoint: duration %d ms", durationMs);
+//    calculateZoomToPointTransform(
+//        mNewTransform,
+//        scale,
+//        imagePoint,
+//        viewPoint,
+//        limitFlags);
+//    setTransform(mNewTransform, durationMs, onAnimationComplete);
+//  }
+//
+//  /**
+//   * Sets a new zoomable transformation and animates to it if desired.
+//   *
+//   * <p>If this method is called while an animation or gesture is already in progress,
+//   * the current animation or gesture will be stopped first.
+//   *
+//   * @param newTransform new transform to make active
+//   * @param durationMs duration of the animation, or 0 to not animate
+//   * @param onAnimationComplete code to run when the animation completes. Ignored if durationMs=0
+//   */
+//  public void setTransform(
+//      Matrix newTransform,
+//      long durationMs,
+//      Runnable onAnimationComplete) {
+//    FLog.v(getLogTag(), "setTransform: duration %d ms", durationMs);
+//    if (durationMs <= 0) {
+//      setTransformImmediate(newTransform);
+//    } else {
+//      setTransformAnimated(newTransform, durationMs, onAnimationComplete);
+//    }
+//  }
+//
+//  private void setTransformImmediate(final Matrix newTransform) {
+//    FLog.v(getLogTag(), "setTransformImmediate");
+//    stopAnimation();
+//    mWorkingTransform.set(newTransform);
+//    super.setTransform(newTransform);
+//    getDetector().restartGesture();
+//  }
+//
+//  protected boolean isAnimating() {
+//    return mIsAnimating;
+//  }
+//
+//  protected void setAnimating(boolean isAnimating) {
+//    mIsAnimating = isAnimating;
+//  }
+//
+//  protected float[] getStartValues() {
+//    return mStartValues;
+//  }
+//
+//  protected float[] getStopValues() {
+//    return mStopValues;
+//  }
+//
+//  protected Matrix getWorkingTransform() {
+//    return mWorkingTransform;
+//  }
+//
+//  @Override
+//  public void onGestureBegin(TransformGestureDetector detector) {
+//    FLog.v(getLogTag(), "onGestureBegin");
+//    stopAnimation();
+//    super.onGestureBegin(detector);
+//  }
+//
+//  @Override
+//  public void onGestureUpdate(TransformGestureDetector detector) {
+//    FLog.v(getLogTag(), "onGestureUpdate %s", isAnimating() ? "(ignored)" : "");
+//    if (isAnimating()) {
+//      return;
+//    }
+//    super.onGestureUpdate(detector);
+//  }
+//
+//  protected void calculateInterpolation(Matrix outMatrix, float fraction) {
+//    for (int i = 0; i < 9; i++) {
+//      mCurrentValues[i] = (1 - fraction) * mStartValues[i] + fraction * mStopValues[i];
+//    }
+//    outMatrix.setValues(mCurrentValues);
+//  }
+//
+//  public abstract void setTransformAnimated(
+//      final Matrix newTransform,
+//      long durationMs,
+//      final Runnable onAnimationComplete);
+//
+//  protected abstract void stopAnimation();
+//
+//  protected abstract Class<?> getLogTag();
+//}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/AnimatedZoomableController.java b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/AnimatedZoomableController.java
new file mode 100644
index 000000000..0029cdee6
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/AnimatedZoomableController.java
@@ -0,0 +1,106 @@
+///*
+// * This file provided by Facebook is for non-commercial testing and evaluation
+// * purposes only.  Facebook reserves all rights not expressly granted.
+// *
+// * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+// * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+// * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+// * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
+// * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
+// * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
+// */
+//package com.meetyou.frescopainter.zoom.zoomable;
+//
+//import android.animation.Animator;
+//import android.animation.AnimatorListenerAdapter;
+//import android.animation.ValueAnimator;
+//import android.annotation.SuppressLint;
+//import android.graphics.Matrix;
+//import android.view.animation.DecelerateInterpolator;
+//
+//import com.facebook.common.internal.Preconditions;
+//import com.facebook.common.logging.FLog;
+//import com.meetyou.frescopainter.zoom.gestures.TransformGestureDetector;
+//
+///**
+// * ZoomableController that adds animation capabilities to DefaultZoomableController using standard
+// * Android animation classes
+// */
+//public class AnimatedZoomableController extends AbstractAnimatedZoomableController {
+//
+//  private static final Class<?> TAG = AnimatedZoomableController.class;
+//
+//  private final ValueAnimator mValueAnimator;
+//
+//  public static AnimatedZoomableController newInstance() {
+//    return new AnimatedZoomableController(TransformGestureDetector.newInstance());
+//  }
+//
+//  @SuppressLint("NewApi")
+//  public AnimatedZoomableController(TransformGestureDetector transformGestureDetector) {
+//    super(transformGestureDetector);
+//    mValueAnimator = ValueAnimator.ofFloat(0, 1);
+//    mValueAnimator.setInterpolator(new DecelerateInterpolator());
+//  }
+//
+//  @SuppressLint("NewApi")
+//  @Override
+//  public void setTransformAnimated(
+//      final Matrix newTransform,
+//      long durationMs,
+//      final Runnable onAnimationComplete) {
+//    FLog.v(getLogTag(), "setTransformAnimated: duration %d ms", durationMs);
+//    stopAnimation();
+//    Preconditions.checkArgument(durationMs > 0);
+//    Preconditions.checkState(!isAnimating());
+//    setAnimating(true);
+//    mValueAnimator.setDuration(durationMs);
+//    getTransform().getValues(getStartValues());
+//    newTransform.getValues(getStopValues());
+//    mValueAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {
+//      @Override
+//      public void onAnimationUpdate(ValueAnimator valueAnimator) {
+//        calculateInterpolation(getWorkingTransform(), (float) valueAnimator.getAnimatedValue());
+//        AnimatedZoomableController.super.setTransform(getWorkingTransform());
+//      }
+//    });
+//    mValueAnimator.addListener(new AnimatorListenerAdapter() {
+//      @Override
+//      public void onAnimationCancel(Animator animation) {
+//        FLog.v(getLogTag(), "setTransformAnimated: animation cancelled");
+//        onAnimationStopped();
+//      }
+//      @Override
+//      public void onAnimationEnd(Animator animation) {
+//        FLog.v(getLogTag(), "setTransformAnimated: animation finished");
+//        onAnimationStopped();
+//      }
+//      private void onAnimationStopped() {
+//        if (onAnimationComplete != null) {
+//          onAnimationComplete.run();
+//        }
+//        setAnimating(false);
+//        getDetector().restartGesture();
+//      }
+//    });
+//    mValueAnimator.start();
+//  }
+//
+//  @SuppressLint("NewApi")
+//  @Override
+//  public void stopAnimation() {
+//    if (!isAnimating()) {
+//      return;
+//    }
+//    FLog.v(getLogTag(), "stopAnimation");
+//    mValueAnimator.cancel();
+//    mValueAnimator.removeAllUpdateListeners();
+//    mValueAnimator.removeAllListeners();
+//  }
+//
+//  @Override
+//  protected Class<?> getLogTag() {
+//    return TAG;
+//  }
+//
+//}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/AnimatedZoomableControllerSupport.java b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/AnimatedZoomableControllerSupport.java
new file mode 100644
index 000000000..41bbf3383
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/AnimatedZoomableControllerSupport.java
@@ -0,0 +1,100 @@
+///*
+// * This file provided by Facebook is for non-commercial testing and evaluation
+// * purposes only.  Facebook reserves all rights not expressly granted.
+// *
+// * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+// * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+// * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+// * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
+// * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
+// * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
+// */
+//package com.meetyou.frescopainter.zoom.zoomable;
+//
+//import android.animation.Animator;
+//import android.animation.AnimatorListenerAdapter;
+//import android.animation.ValueAnimator;
+//import android.graphics.Matrix;
+//import android.view.animation.DecelerateInterpolator;
+//
+//import com.facebook.common.internal.Preconditions;
+//import com.facebook.common.logging.FLog;
+//import com.meetyou.frescopainter.zoom.gestures.TransformGestureDetector;
+//
+///**
+// * ZoomableController that adds animation capabilities to DefaultZoomableController using
+// * nineoldandroid library
+// */
+//public class AnimatedZoomableControllerSupport extends AbstractAnimatedZoomableController {
+//
+//  private static final Class<?> TAG = AnimatedZoomableControllerSupport.class;
+//
+//  private final ValueAnimator mValueAnimator;
+//
+//  public static AnimatedZoomableControllerSupport newInstance() {
+//    return new AnimatedZoomableControllerSupport(TransformGestureDetector.newInstance());
+//  }
+//
+//  public AnimatedZoomableControllerSupport(TransformGestureDetector transformGestureDetector) {
+//    super(transformGestureDetector);
+//    mValueAnimator = ValueAnimator.ofFloat(0, 1);
+//    mValueAnimator.setInterpolator(new DecelerateInterpolator());
+//  }
+//
+//  public void setTransformAnimated(
+//      final Matrix newTransform,
+//      long durationMs,
+//      final Runnable onAnimationComplete) {
+//    FLog.v(getLogTag(), "setTransformAnimated: duration %d ms", durationMs);
+//    stopAnimation();
+//    Preconditions.checkArgument(durationMs > 0);
+//    Preconditions.checkState(!isAnimating());
+//    setAnimating(true);
+//    mValueAnimator.setDuration(durationMs);
+//    getTransform().getValues(getStartValues());
+//    newTransform.getValues(getStopValues());
+//    mValueAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {
+//      @Override
+//      public void onAnimationUpdate(ValueAnimator valueAnimator) {
+//        calculateInterpolation(getWorkingTransform(), (float) valueAnimator.getAnimatedValue());
+//        AnimatedZoomableControllerSupport.super.setTransform(getWorkingTransform());
+//      }
+//    });
+//    mValueAnimator.addListener(new AnimatorListenerAdapter() {
+//      @Override
+//      public void onAnimationCancel(Animator animation) {
+//        FLog.v(getLogTag(), "setTransformAnimated: animation cancelled");
+//        onAnimationStopped();
+//      }
+//      @Override
+//      public void onAnimationEnd(Animator animation) {
+//        FLog.v(getLogTag(), "setTransformAnimated: animation finished");
+//        onAnimationStopped();
+//      }
+//      private void onAnimationStopped() {
+//        if (onAnimationComplete != null) {
+//          onAnimationComplete.run();
+//        }
+//        setAnimating(false);
+//        getDetector().restartGesture();
+//      }
+//    });
+//    mValueAnimator.start();
+//  }
+//
+//  public void stopAnimation() {
+//    if (!isAnimating()) {
+//      return;
+//    }
+//    FLog.v(getLogTag(), "stopAnimation");
+//    mValueAnimator.cancel();
+//    mValueAnimator.removeAllUpdateListeners();
+//    mValueAnimator.removeAllListeners();
+//  }
+//
+//  @Override
+//  protected Class<?> getLogTag() {
+//    return TAG;
+//  }
+//
+//}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/DefaultZoomableController.java b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/DefaultZoomableController.java
new file mode 100644
index 000000000..640c5257c
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/DefaultZoomableController.java
@@ -0,0 +1,370 @@
+/*
+ * This file provided by Facebook is for non-commercial testing and evaluation
+ * purposes only.  Facebook reserves all rights not expressly granted.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+ * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
+ * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
+ * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
+ */
+
+package com.meetyou.frescopainter.zoom.zoomable;
+
+import android.graphics.Matrix;
+import android.graphics.PointF;
+import android.graphics.RectF;
+import android.view.MotionEvent;
+import android.view.View;
+
+import com.facebook.common.logging.FLog;
+import com.meetyou.frescopainter.zoom.gestures.TransformGestureDetector;
+
+import java.lang.annotation.Retention;
+import java.lang.annotation.RetentionPolicy;
+
+/**
+ * Zoomable controller that calculates transformation based on touch events.
+ */
+public class DefaultZoomableController
+    implements ZoomableController, TransformGestureDetector.Listener {
+
+  private TransformGestureDetector mGestureDetector;
+
+  private Listener mListener = null;
+
+  private boolean mIsEnabled = false;
+  private boolean mIsRotationEnabled = false;
+  private boolean mIsScaleEnabled = true;
+  private boolean mIsTranslationEnabled = true;
+
+  private float mMinScaleFactor = 1.0f;
+  private float mMaxScaleFactor = Float.POSITIVE_INFINITY;
+
+  private final RectF mViewBounds = new RectF();
+  private final RectF mImageBounds = new RectF();
+  private final RectF mTransformedImageBounds = new RectF();
+  private final Matrix mPreviousTransform = new Matrix();
+  private final Matrix mActiveTransform = new Matrix();
+  private final Matrix mActiveTransformInverse = new Matrix();
+  private final float[] mTempValues = new float[9];
+
+  public DefaultZoomableController(TransformGestureDetector gestureDetector) {
+    mGestureDetector = gestureDetector;
+    mGestureDetector.setListener(this);
+  }
+
+  public static DefaultZoomableController newInstance() {
+    return new DefaultZoomableController(TransformGestureDetector.newInstance());
+  }
+
+  @Override
+  public void setListener(Listener listener) {
+    mListener = listener;
+  }
+
+  /** Rests the controller. */
+  public void reset() {
+    mGestureDetector.reset();
+    mPreviousTransform.reset();
+    mActiveTransform.reset();
+  }
+
+  /** Sets whether the controller is enabled or not. */
+  @Override
+  public void setEnabled(boolean enabled) {
+    mIsEnabled = enabled;
+    if (!enabled) {
+      reset();
+    }
+  }
+
+  /** Returns whether the controller is enabled or not. */
+  @Override
+  public boolean isEnabled() {
+    return mIsEnabled;
+  }
+
+  /** Sets whether the rotation gesture is enabled or not. */
+  public void setRotationEnabled(boolean enabled) {
+    mIsRotationEnabled = enabled;
+  }
+
+  /** Gets whether the rotation gesture is enabled or not. */
+  public boolean isRotationEnabled() {
+    return  mIsRotationEnabled;
+  }
+
+  /** Sets whether the scale gesture is enabled or not. */
+  public void setScaleEnabled(boolean enabled) {
+    mIsScaleEnabled = enabled;
+  }
+
+  /** Gets whether the scale gesture is enabled or not. */
+  public boolean isScaleEnabled() {
+    return  mIsScaleEnabled;
+  }
+
+  /** Sets whether the translation gesture is enabled or not. */
+  public void setTranslationEnabled(boolean enabled) {
+    mIsTranslationEnabled = enabled;
+  }
+
+  /** Gets whether the translations gesture is enabled or not. */
+  public boolean isTranslationEnabled() {
+    return  mIsTranslationEnabled;
+  }
+
+  /** Gets the image bounds before zoomable transformation is applied. */
+  public RectF getImageBounds() {
+    return mImageBounds;
+  }
+
+  /** Sets the image bounds before zoomable transformation is applied. */
+  @Override
+  public void setImageBounds(RectF imageBounds) {
+    mImageBounds.set(imageBounds);
+  }
+
+  /** Gets the view bounds. */
+  public RectF getViewBounds() {
+    return mViewBounds;
+  }
+
+  /** Sets the view bounds. */
+  @Override
+  public void setViewBounds(RectF viewBounds) {
+    mViewBounds.set(viewBounds);
+  }
+
+  /** Gets the minimum scale factor allowed. */
+  public float getMinScaleFactor() {
+    return mMinScaleFactor;
+  }
+
+  /**
+   * Sets the minimum scale factor allowed.
+   * <p>
+   * Note that the hierarchy performs scaling as well, which
+   * is not accounted here, so the actual scale factor may differ.
+   */
+  public void setMinScaleFactor(float minScaleFactor) {
+    mMinScaleFactor = minScaleFactor;
+  }
+
+  /** Gets the maximum scale factor allowed. */
+  public float getMaxScaleFactor() {
+    return mMaxScaleFactor;
+  }
+
+  /**
+   * Sets the maximum scale factor allowed.
+   * <p>
+   * Note that the hierarchy performs scaling as well, which
+   * is not accounted here, so the actual scale factor may differ.
+   */
+  public void setMaxScaleFactor(float maxScaleFactor) {
+    mMaxScaleFactor = maxScaleFactor;
+  }
+
+  /**
+   * Maps point from the view's to the image's relative coordinate system.
+   * This takes into account the zoomable transformation.
+   */
+  public PointF mapViewToImage(PointF viewPoint) {
+    float[] points = mTempValues;
+    points[0] = viewPoint.x;
+    points[1] = viewPoint.y;
+    mActiveTransform.invert(mActiveTransformInverse);
+    mActiveTransformInverse.mapPoints(points, 0, points, 0, 1);
+    mapAbsoluteToRelative(points, points, 1);
+    return new PointF(points[0], points[1]);
+  }
+
+  /**
+   * Maps point from the image's relative to the view's coordinate system.
+   * This takes into account the zoomable transformation.
+   */
+  public PointF mapImageToView(PointF imagePoint) {
+    float[] points = mTempValues;
+    points[0] = imagePoint.x;
+    points[1] = imagePoint.y;
+    mapRelativeToAbsolute(points, points, 1);
+    mActiveTransform.mapPoints(points, 0, points, 0, 1);
+    return new PointF(points[0], points[1]);
+  }
+
+  /**
+   * Maps array of 2D points from absolute to the image's relative coordinate system,
+   * and writes the transformed points back into the array.
+   * Points are represented by float array of [x0, y0, x1, y1, ...].
+   *
+   * @param destPoints destination array (may be the same as source array)
+   * @param srcPoints source array
+   * @param numPoints number of points to map
+   */
+  private void mapAbsoluteToRelative(float[] destPoints, float[] srcPoints, int numPoints) {
+    for (int i = 0; i < numPoints; i++) {
+      destPoints[i * 2 + 0] = (srcPoints[i * 2 + 0] - mImageBounds.left) / mImageBounds.width();
+      destPoints[i * 2 + 1] = (srcPoints[i * 2 + 1] - mImageBounds.top) / mImageBounds.height();
+    }
+  }
+
+  /**
+   * Maps array of 2D points from relative to the image's absolute coordinate system,
+   * and writes the transformed points back into the array
+   * Points are represented by float array of [x0, y0, x1, y1, ...].
+   *
+   * @param destPoints destination array (may be the same as source array)
+   * @param srcPoints source array
+   * @param numPoints number of points to map
+   */
+  private void mapRelativeToAbsolute(float[] destPoints, float[] srcPoints, int numPoints) {
+    for (int i = 0; i < numPoints; i++) {
+      destPoints[i * 2 + 0] = srcPoints[i * 2 + 0] * mImageBounds.width() + mImageBounds.left;
+      destPoints[i * 2 + 1] = srcPoints[i * 2 + 1] * mImageBounds.height() + mImageBounds.top;
+    }
+  }
+
+  /**
+   * Gets the zoomable transformation
+   * Internal matrix is exposed for performance reasons and is not to be modified by the callers.
+   */
+  @Override
+  public Matrix getTransform() {
+    return mActiveTransform;
+  }
+
+  /**
+   * Sets the zoomable transformation. Cancels the current gesture if one is happening.
+   */
+  public void setTransform(Matrix activeTransform) {
+    if (mGestureDetector.isGestureInProgress()) {
+      mGestureDetector.reset();
+    }
+    mActiveTransform.set(activeTransform);
+  }
+
+  /** Notifies controller of the received touch event.  */
+  @Override
+  public boolean onTouchEvent(MotionEvent event) {
+    if (mIsEnabled) {
+      return mGestureDetector.onTouchEvent(event);
+    }
+    return false;
+  }
+
+  private View.OnLongClickListener mOnLongClickListener;
+
+  @Override
+  public void setOnLongDraweeListener(View.OnLongClickListener longDraweeListener) {
+    mOnLongClickListener = longDraweeListener;
+  }
+
+  /**
+   * Zooms to the desired scale and positions the view so that imagePoint is in the center.
+   * <p>
+   * It might not be possible to center imagePoint (= a corner for e.g.), in those cases the view
+   * will be adjusted so that there are no black bars in it.
+   * Resets any previous transform and cancels the current gesture if one is happening.
+   *
+   * @param scale desired scale, will be limited to {min, max} scale factor
+   * @param imagePoint 2D point in image's relative coordinate system (i.e. 0 <= x, y <= 1)
+   */
+  public void zoomToImagePoint(float scale, PointF imagePoint) {
+    if (mGestureDetector.isGestureInProgress()) {
+      mGestureDetector.reset();
+    }
+    scale = limit(scale, mMinScaleFactor, mMaxScaleFactor);
+    float[] points = mTempValues;
+    points[0] = imagePoint.x;
+    points[1] = imagePoint.y;
+    mapRelativeToAbsolute(points, points, 1);
+    mActiveTransform.setScale(scale, scale, points[0], points[1]);
+    mActiveTransform.postTranslate(
+        mViewBounds.centerX() - points[0],
+        mViewBounds.centerY() - points[1]);
+    limitTranslation();
+  }
+
+  /* TransformGestureDetector.Listener methods  */
+
+  @Override
+  public void onGestureBegin(TransformGestureDetector detector) {
+    mPreviousTransform.set(mActiveTransform);
+  }
+
+  @Override
+  public void onGestureUpdate(TransformGestureDetector detector) {
+    mActiveTransform.set(mPreviousTransform);
+    if (mIsRotationEnabled) {
+      float angle = detector.getRotation() * (float) (180 / Math.PI);
+      mActiveTransform.postRotate(angle, detector.getPivotX(), detector.getPivotY());
+    }
+    if (mIsScaleEnabled) {
+      float scale = detector.getScale();
+      mActiveTransform.postScale(scale, scale, detector.getPivotX(), detector.getPivotY());
+    }
+    limitScale(detector.getPivotX(), detector.getPivotY());
+    if (mIsTranslationEnabled) {
+      mActiveTransform.postTranslate(detector.getTranslationX(), detector.getTranslationY());
+    }
+    if (limitTranslation()) {
+      mGestureDetector.restartGesture();
+    }
+    if (mListener != null) {
+      mListener.onTransformChanged(mActiveTransform);
+    }
+  }
+
+  @Override
+  public void onGestureEnd(TransformGestureDetector detector) {
+    mPreviousTransform.set(mActiveTransform);
+  }
+
+  /** Gets the current scale factor. */
+  @Override
+  public float getScaleFactor() {
+    mActiveTransform.getValues(mTempValues);
+    return mTempValues[Matrix.MSCALE_X];
+  }
+
+  private void limitScale(float pivotX, float pivotY) {
+    float currentScale = getScaleFactor();
+    float targetScale = limit(currentScale, mMinScaleFactor, mMaxScaleFactor);
+    if (targetScale != currentScale) {
+      float scale = targetScale / currentScale;
+      mActiveTransform.postScale(scale, scale, pivotX, pivotY);
+    }
+  }
+
+  /**
+   * Keeps the view inside the image if possible, if not (i.e. image is smaller than view)
+   * centers the image.
+   * @return whether adjustments were needed or not
+   */
+  private boolean limitTranslation() {
+    RectF bounds = mTransformedImageBounds;
+    bounds.set(mImageBounds);
+    mActiveTransform.mapRect(bounds);
+
+    float offsetLeft = getOffset(bounds.left, bounds.width(), mViewBounds.width());
+    float offsetTop = getOffset(bounds.top, bounds.height(), mViewBounds.height());
+    if (offsetLeft != bounds.left || offsetTop != bounds.top) {
+      mActiveTransform.postTranslate(offsetLeft - bounds.left, offsetTop - bounds.top);
+      return true;
+    }
+    return false;
+  }
+
+  private float getOffset(float offset, float imageDimension, float viewDimension) {
+    float diff = viewDimension - imageDimension;
+    return (diff > 0) ? diff / 2 : limit(offset, diff, 0);
+  }
+
+  private float limit(float value, float min, float max) {
+    return Math.min(Math.max(min, value), max);
+  }
+
+}
\ No newline at end of file
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/GestureListenerWrapper.java b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/GestureListenerWrapper.java
new file mode 100644
index 000000000..231c4274f
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/GestureListenerWrapper.java
@@ -0,0 +1,87 @@
+/*
+ * This file provided by Facebook is for non-commercial testing and evaluation
+ * purposes only.  Facebook reserves all rights not expressly granted.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+ * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
+ * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
+ * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
+ */
+package com.meetyou.frescopainter.zoom.zoomable;
+
+import android.view.GestureDetector;
+import android.view.MotionEvent;
+import android.view.View;
+
+/**
+ * Wrapper for SimpleOnGestureListener as GestureDetector does not allow changing its listener.
+ */
+public class GestureListenerWrapper extends GestureDetector.SimpleOnGestureListener {
+
+  private GestureDetector.SimpleOnGestureListener mDelegate;
+  private View.OnLongClickListener mOnLongClickListener;
+  private View mView;
+
+  public GestureListenerWrapper(View view) {
+    mView = view;
+    mDelegate = new GestureDetector.SimpleOnGestureListener();
+  }
+
+  public void setListener(GestureDetector.SimpleOnGestureListener listener) {
+    mDelegate = listener;
+  }
+
+  public void setOnLongClickListener(View.OnLongClickListener longClickListener){
+    mOnLongClickListener = longClickListener;
+  }
+
+  @Override
+  public void onLongPress(MotionEvent e) {
+    mDelegate.onLongPress(e);
+    if(mOnLongClickListener != null){
+      mOnLongClickListener.onLongClick(mView);
+    }
+  }
+
+  @Override
+  public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY) {
+    return mDelegate.onScroll(e1, e2, distanceX, distanceY);
+  }
+
+  @Override
+  public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {
+    return mDelegate.onFling(e1, e2, velocityX, velocityY);
+  }
+
+  @Override
+  public void onShowPress(MotionEvent e) {
+    mDelegate.onShowPress(e);
+  }
+
+  @Override
+  public boolean onDown(MotionEvent e) {
+    return mDelegate.onDown(e);
+  }
+
+  @Override
+  public boolean onDoubleTap(MotionEvent e) {
+    return mDelegate.onDoubleTap(e);
+  }
+
+  @Override
+  public boolean onDoubleTapEvent(MotionEvent e) {
+    return mDelegate.onDoubleTapEvent(e);
+  }
+
+  @Override
+  public boolean onSingleTapConfirmed(MotionEvent e) {
+    return mDelegate.onSingleTapConfirmed(e);
+  }
+
+  @Override
+  public boolean onSingleTapUp(MotionEvent e) {
+    return mDelegate.onSingleTapUp(e);
+  }
+}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/ZoomableController.java b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/ZoomableController.java
new file mode 100644
index 000000000..2fcfec246
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/ZoomableController.java
@@ -0,0 +1,100 @@
+/*
+ * This file provided by Facebook is for non-commercial testing and evaluation
+ * purposes only.  Facebook reserves all rights not expressly granted.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+ * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
+ * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
+ * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
+ */
+
+package com.meetyou.frescopainter.zoom.zoomable;
+
+import android.graphics.Matrix;
+import android.graphics.RectF;
+import android.view.MotionEvent;
+import android.view.View;
+
+/**
+ * Interface for implementing a controller that works with {@link ZoomableDraweeView}
+ * to control the zoom.
+ */
+public interface ZoomableController {
+
+  /**
+   * Listener interface.
+   */
+  public interface Listener {
+
+    /**
+     * Notifies the view that the transform changed.
+     *
+     * @param transform the new matrix
+     */
+    void onTransformChanged(Matrix transform);
+  }
+
+  /**
+   * Enables the controller. The controller is enabled when the image has been loaded.
+   *
+   * @param enabled whether to enable the controller
+   */
+  void setEnabled(boolean enabled);
+
+  /**
+   * Gets whether the controller is enabled. This should return the last value passed to
+   * {@link #setEnabled}.
+   *
+   * @return whether the controller is enabled.
+   */
+  boolean isEnabled();
+
+  /**
+   * Sets the listener for the controller to call back when the matrix changes.
+   *
+   * @param listener the listener
+   */
+  void setListener(Listener listener);
+
+  /**
+   * Gets the current scale factor. A convenience method for calculating the scale from the
+   * transform.
+   *
+   * @return the current scale factor
+   */
+  float getScaleFactor();
+
+  /**
+   * Gets the current transform.
+   *
+   * @return the transform
+   */
+  Matrix getTransform();
+
+  /**
+   * Sets the bounds of the image post transform prior to application of the zoomable
+   * transformation.
+   *
+   * @param imageBounds the bounds of the image
+   */
+  void setImageBounds(RectF imageBounds);
+
+  /**
+   * Sets the bounds of the view.
+   *
+   * @param viewBounds the bounds of the view
+   */
+  void setViewBounds(RectF viewBounds);
+
+  /**
+   * Allows the controller to handle a touch event.
+   *
+   * @param event the touch event
+   * @return whether the controller handled the event
+   */
+  boolean onTouchEvent(MotionEvent event);
+
+  void setOnLongDraweeListener(View.OnLongClickListener longDraweeListener);
+}
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/ZoomableDraweeView.java b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/ZoomableDraweeView.java
new file mode 100644
index 000000000..06e295690
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/ZoomableDraweeView.java
@@ -0,0 +1,241 @@
+/*
+ * This file provided by Facebook is for non-commercial testing and evaluation
+ * purposes only.  Facebook reserves all rights not expressly granted.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+ * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
+ * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
+ * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
+ */
+
+package com.meetyou.frescopainter.zoom.zoomable;
+
+import android.content.Context;
+import android.content.res.Resources;
+import android.graphics.Canvas;
+import android.graphics.Matrix;
+import android.graphics.PointF;
+import android.graphics.RectF;
+import android.graphics.drawable.Animatable;
+import android.util.AttributeSet;
+import android.view.GestureDetector;
+import android.view.MotionEvent;
+import android.view.ViewConfiguration;
+
+import com.facebook.common.internal.Preconditions;
+import com.facebook.common.logging.FLog;
+import com.facebook.drawee.controller.AbstractDraweeController;
+import com.facebook.drawee.controller.BaseControllerListener;
+import com.facebook.drawee.controller.ControllerListener;
+import com.facebook.drawee.drawable.ScalingUtils;
+import com.facebook.drawee.generic.GenericDraweeHierarchy;
+import com.facebook.drawee.generic.GenericDraweeHierarchyBuilder;
+import com.facebook.drawee.generic.GenericDraweeHierarchyInflater;
+import com.facebook.drawee.interfaces.DraweeController;
+import com.facebook.drawee.view.DraweeView;
+
+/**
+ * 经过改造的ZoomView，请不要随意调整代码
+ * by linhonghong
+ */
+public class ZoomableDraweeView extends DraweeView<GenericDraweeHierarchy>
+    implements ZoomableController.Listener{
+
+//  private static final Class<?> TAG = ZoomableDraweeView.class;
+
+  private static final float HUGE_IMAGE_SCALE_FACTOR_THRESHOLD = 1.1f;
+
+  private final RectF mImageBounds = new RectF();
+  private final RectF mViewBounds = new RectF();
+
+  private final ControllerListener mControllerListener = new BaseControllerListener<Object>() {
+    @Override
+    public void onFinalImageSet(
+        String id,
+        Object imageInfo,
+        Animatable animatable) {
+      ZoomableDraweeView.this.onFinalImageSet();
+    }
+
+    @Override
+    public void onRelease(String id) {
+      ZoomableDraweeView.this.onRelease();
+    }
+  };
+
+  private DraweeController mHugeImageController;
+  private ZoomableController mZoomableController = DefaultZoomableController.newInstance();
+
+  public ZoomableDraweeView(Context context) {
+    super(context);
+    init();
+  }
+
+  public ZoomableDraweeView(Context context, AttributeSet attrs) {
+    super(context, attrs);
+    init();
+  }
+
+  public ZoomableDraweeView(Context context, AttributeSet attrs, int defStyle) {
+    super(context, attrs, defStyle);
+    init();
+  }
+
+  private void init() {
+    mZoomableController.setListener(this);
+  }
+
+  public void setZoomableController(ZoomableController zoomableController) {
+    Preconditions.checkNotNull(zoomableController);
+    mZoomableController.setListener(null);
+    mZoomableController = zoomableController;
+    mZoomableController.setListener(this);
+  }
+
+  @Override
+  public void setController( DraweeController controller) {
+    setControllers(controller, null);
+  }
+
+  private void setControllersInternal(
+      DraweeController controller,
+      DraweeController hugeImageController) {
+    removeControllerListener(getController());
+    addControllerListener(controller);
+    mHugeImageController = hugeImageController;
+    super.setController(controller);
+  }
+
+  /**
+   * Sets the controllers for the normal and huge image.
+   *
+   * <p> IMPORTANT: in order to avoid a flicker when switching to the huge image, the huge image
+   * controller should have the normal-image-uri set as its low-res-uri.
+   *
+   * @param controller controller to be initially used
+   * @param hugeImageController controller to be used after the client starts zooming-in
+   */
+  public void setControllers(
+      DraweeController controller,
+      DraweeController hugeImageController) {
+    setControllersInternal(null, null);
+    mZoomableController.setEnabled(false);
+    setControllersInternal(controller, hugeImageController);
+  }
+
+  private void maybeSetHugeImageController() {
+    if (mHugeImageController != null &&
+        mZoomableController.getScaleFactor() > HUGE_IMAGE_SCALE_FACTOR_THRESHOLD) {
+      setControllersInternal(mHugeImageController, null);
+    }
+  }
+
+  private void removeControllerListener(DraweeController controller) {
+    if (controller instanceof AbstractDraweeController) {
+      ((AbstractDraweeController) controller)
+          .removeControllerListener(mControllerListener);
+    }
+  }
+
+  private void addControllerListener(DraweeController controller) {
+    if (controller instanceof AbstractDraweeController) {
+      ((AbstractDraweeController) controller)
+          .addControllerListener(mControllerListener);
+    }
+  }
+
+  @Override
+  protected void onDraw(Canvas canvas) {
+    int saveCount = canvas.save();
+    canvas.concat(mZoomableController.getTransform());
+    super.onDraw(canvas);
+    canvas.restoreToCount(saveCount);
+  }
+
+  public OnClickListener mOnClickListener;
+
+  public void setOnDraweeClickListener(OnClickListener l) {
+    mOnClickListener = l;
+  }
+
+  public void setOnLongDraweeClickListener(OnLongClickListener l){
+    mGestureListenerWrapper.setOnLongClickListener(l);
+  }
+
+  public long mCurrDownTime = 0;
+
+  //标志当前状态
+  GestureListenerWrapper mGestureListenerWrapper = new GestureListenerWrapper(this);
+  GestureDetector mGestureDetector = new GestureDetector(mGestureListenerWrapper);
+
+  @Override
+  public boolean onTouchEvent(MotionEvent event) {
+    mGestureDetector.onTouchEvent(event);
+    if(event.getAction() == MotionEvent.ACTION_DOWN){
+      mCurrDownTime = event.getEventTime();
+    }
+
+//    if(event.getAction() == MotionEvent.ACTION_MOVE){
+//      //如果在移动
+//      if(Math.abs(event.getRawX() - mX) >= 8 || Math.abs(event.getRawY() - mY) >= 8){
+//        removeLong();
+//      }
+//    }
+
+    if(event.getAction() == MotionEvent.ACTION_UP){
+      if(event.getEventTime() - mCurrDownTime <= ViewConfiguration.getTapTimeout()){
+        //点击
+        if(mOnClickListener != null) {
+          mOnClickListener.onClick(this);
+        }
+      }
+    }
+
+    if (mZoomableController.onTouchEvent(event)) {
+      if (mZoomableController.getScaleFactor() > 1.0f) {
+        getParent().requestDisallowInterceptTouchEvent(true);
+      }
+      return true;
+    }
+    return super.onTouchEvent(event);
+  }
+
+  public void clearZoom(){
+    if(mZoomableController != null && mZoomableController instanceof DefaultZoomableController){
+      PointF imagePoint = new PointF(getWidth() / 2, getHeight() / 2);
+      ((DefaultZoomableController)mZoomableController).zoomToImagePoint(1, imagePoint);
+    }
+  }
+
+  @Override
+  protected void onLayout(boolean changed, int left, int top, int right, int bottom) {
+    super.onLayout(changed, left, top, right, bottom);
+    updateZoomableControllerBounds();
+  }
+
+  private void onFinalImageSet() {
+    if (!mZoomableController.isEnabled()) {
+      updateZoomableControllerBounds();
+      mZoomableController.setEnabled(true);
+    }
+  }
+
+  private void onRelease() {
+    mZoomableController.setEnabled(false);
+  }
+
+  @Override
+  public void onTransformChanged(Matrix transform) {
+    maybeSetHugeImageController();
+    invalidate();
+  }
+
+  private void updateZoomableControllerBounds() {
+    getHierarchy().getActualImageBounds(mImageBounds);
+    mViewBounds.set(0, 0, getWidth(), getHeight());
+    mZoomableController.setImageBounds(mImageBounds);
+    mZoomableController.setViewBounds(mViewBounds);
+  }
+}
\ No newline at end of file
diff --git a/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/ZoomableDraweeViewSupport.java b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/ZoomableDraweeViewSupport.java
new file mode 100644
index 000000000..41e73aa6f
--- /dev/null
+++ b/frescopainter/src/main/java/com/meetyou/frescopainter/zoom/zoomable/ZoomableDraweeViewSupport.java
@@ -0,0 +1,54 @@
+///*
+// * This file provided by Facebook is for non-commercial testing and evaluation
+// * purposes only.  Facebook reserves all rights not expressly granted.
+// *
+// * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+// * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+// * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+// * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
+// * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
+// * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
+// */
+//
+//package com.meetyou.frescopainter.zoom.zoomable;
+//
+//import android.content.Context;
+//import android.util.AttributeSet;
+//
+//import com.facebook.drawee.generic.GenericDraweeHierarchy;
+//
+///**
+// * DraweeView that has zoomable capabilities.
+// * <p>
+// * Once the image loads, pinch-to-zoom and translation gestures are enabled.
+// */
+//public class ZoomableDraweeViewSupport extends ZoomableDraweeView {
+//
+//  private static final Class<?> TAG = ZoomableDraweeViewSupport.class;
+//
+//  public ZoomableDraweeViewSupport(Context context, GenericDraweeHierarchy hierarchy) {
+//    super(context, hierarchy);
+//  }
+//
+//  public ZoomableDraweeViewSupport(Context context) {
+//    super(context);
+//  }
+//
+//  public ZoomableDraweeViewSupport(Context context, AttributeSet attrs) {
+//    super(context, attrs);
+//  }
+//
+//  public ZoomableDraweeViewSupport(Context context, AttributeSet attrs, int defStyle) {
+//    super(context, attrs, defStyle);
+//  }
+//
+//  @Override
+//  protected Class<?> getLogTag() {
+//    return TAG;
+//  }
+//
+//  @Override
+//  protected ZoomableController createZoomableController() {
+//    return AnimatedZoomableControllerSupport.newInstance();
+//  }
+//}
diff --git a/frescopainter/src/main/res/values/strings.xml b/frescopainter/src/main/res/values/strings.xml
new file mode 100644
index 000000000..ac5ff9b64
--- /dev/null
+++ b/frescopainter/src/main/res/values/strings.xml
@@ -0,0 +1,3 @@
+<resources>
+    <string name="app_name">FrescoPainter</string>
+</resources>
diff --git a/imagepipeline-backends/imagepipeline-okhttp/gradle.properties b/imagepipeline-backends/imagepipeline-okhttp/gradle.properties
index 4a9d0e1b8..7daa80d69 100644
--- a/imagepipeline-backends/imagepipeline-okhttp/gradle.properties
+++ b/imagepipeline-backends/imagepipeline-okhttp/gradle.properties
@@ -1,3 +1,12 @@
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.0.10-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
 POM_NAME=ImagePipeline-OkHttp Integration
 POM_DESCRIPTION=An integration library to use OkHttp as the networking layer in ImagePipeline
 POM_ARTIFACT_ID=imagepipeline-okhttp
diff --git a/imagepipeline-backends/imagepipeline-okhttp3/build.gradle b/imagepipeline-backends/imagepipeline-okhttp3/build.gradle
index 19f78dfaf..4d7dfe605 100644
--- a/imagepipeline-backends/imagepipeline-okhttp3/build.gradle
+++ b/imagepipeline-backends/imagepipeline-okhttp3/build.gradle
@@ -4,7 +4,7 @@ project.group = GROUP
 version = VERSION_NAME
 
 dependencies {
-  compile "com.squareup.okhttp3:okhttp:${OKHTTP3_VERSION}"
+  provided "com.squareup.okhttp3:okhttp:${OKHTTP3_VERSION}"
 
   compile project(':fbcore')
   compile project(':imagepipeline')
diff --git a/imagepipeline-backends/imagepipeline-okhttp3/gradle.properties b/imagepipeline-backends/imagepipeline-okhttp3/gradle.properties
index 5c2644a0d..01a18d973 100644
--- a/imagepipeline-backends/imagepipeline-okhttp3/gradle.properties
+++ b/imagepipeline-backends/imagepipeline-okhttp3/gradle.properties
@@ -1,5 +1,16 @@
+
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.9.0-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
+
 POM_NAME=ImagePipeline-OkHttp 3 Integration
 POM_DESCRIPTION=An integration library to use OkHttp 3 as the networking layer in ImagePipeline
-POM_ARTIFACT_ID=imagepipeline-okhttp3
+POM_ARTIFACT_ID=fresco-imagepipeline-okhttp3
 POM_PACKAGING=aar
 
diff --git a/imagepipeline-backends/imagepipeline-okhttp3/src/main/java/com/facebook/imagepipeline/backends/okhttp3/OkHttpNetworkFetcher.java b/imagepipeline-backends/imagepipeline-okhttp3/src/main/java/com/facebook/imagepipeline/backends/okhttp3/OkHttpNetworkFetcher.java
index 4cab89293..dfcfd7339 100644
--- a/imagepipeline-backends/imagepipeline-okhttp3/src/main/java/com/facebook/imagepipeline/backends/okhttp3/OkHttpNetworkFetcher.java
+++ b/imagepipeline-backends/imagepipeline-okhttp3/src/main/java/com/facebook/imagepipeline/backends/okhttp3/OkHttpNetworkFetcher.java
@@ -20,7 +20,10 @@
 import com.facebook.imagepipeline.producers.FetchState;
 import com.facebook.imagepipeline.producers.ProducerContext;
 import java.io.IOException;
+import java.net.HttpURLConnection;
+import java.util.ArrayList;
 import java.util.HashMap;
+import java.util.List;
 import java.util.Map;
 import java.util.concurrent.Executor;
 import okhttp3.CacheControl;
@@ -58,6 +61,9 @@ public OkHttpNetworkFetchState(
 
   private Executor mCancellationExecutor;
 
+  //新增需求:如果文件404就不再请求
+  private List<String> m404Store = new ArrayList<String>();
+
   /**
    * @param okHttpClient client to use
    */
@@ -120,6 +126,7 @@ protected void fetchWithRequest(
       final OkHttpNetworkFetchState fetchState,
       final Callback callback,
       final Request request) {
+    final Uri uri = fetchState.getUri();
     final Call call = mCallFactory.newCall(request);
 
     fetchState.getContext().addCallbacks(
@@ -138,42 +145,56 @@ public void onCancellationRequested() {
           }
         });
 
-    call.enqueue(
-        new okhttp3.Callback() {
-          @Override
-          public void onResponse(Call call, Response response) throws IOException {
-            fetchState.responseTime = SystemClock.elapsedRealtime();
-            final ResponseBody body = response.body();
-            try {
-              if (!response.isSuccessful()) {
-                handleException(
-                    call,
-                    new IOException("Unexpected HTTP code " + response),
-                    callback);
-                return;
-              }
-
-              long contentLength = body.contentLength();
-              if (contentLength < 0) {
-                contentLength = 0;
+    if (m404Store.contains(uri.toString())) {
+      //已经请求过,为404
+      //请求失败
+      handleException(call, new Exception("文件不存在,404 not found"), callback);
+    } else {
+      //不是404
+      call.enqueue(
+          new okhttp3.Callback() {
+            @Override
+            public void onResponse(Call call, Response response) throws IOException {
+              fetchState.responseTime = SystemClock.elapsedRealtime();
+              int code = response.code();
+              if (code == HttpURLConnection.HTTP_NOT_FOUND
+                      && uri.toString().contains(".seeyouyima.com/avatar_")) {
+                //404,添加到列表队列
+                m404Store.add(uri.toString());
               }
-              callback.onResponse(body.byteStream(), (int) contentLength);
-            } catch (Exception e) {
-              handleException(call, e, callback);
-            } finally {
+              final ResponseBody body = response.body();
               try {
-                body.close();
+                if (!response.isSuccessful()) {
+                  handleException(
+                      call,
+                      new IOException("Unexpected HTTP code " + response),
+                      callback);
+                  return;
+                }
+
+                long contentLength = body.contentLength();
+                if (contentLength < 0) {
+                  contentLength = 0;
+                }
+                callback.onResponse(body.byteStream(), (int) contentLength);
               } catch (Exception e) {
-                FLog.w(TAG, "Exception when closing response body", e);
+                handleException(call, e, callback);
+              } finally {
+                try {
+                  body.close();
+                } catch (Exception e) {
+                  FLog.w(TAG, "Exception when closing response body", e);
+                }
               }
             }
-          }
 
-          @Override
-          public void onFailure(Call call, IOException e) {
-            handleException(call, e, callback);
-          }
-        });
+            @Override
+            public void onFailure(Call call, IOException e) {
+              handleException(call, e, callback);
+            }
+          });
+
+    }
   }
 
   /**
diff --git a/imagepipeline-backends/imagepipeline-volley/gradle.properties b/imagepipeline-backends/imagepipeline-volley/gradle.properties
index 795920fc3..27ca35a9e 100644
--- a/imagepipeline-backends/imagepipeline-volley/gradle.properties
+++ b/imagepipeline-backends/imagepipeline-volley/gradle.properties
@@ -1,3 +1,12 @@
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.0.10-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
 POM_NAME=ImagePipeline-Volley Integration
 POM_DESCRIPTION=An integration library to use Volley as the networking layer in ImagePipeline
 POM_ARTIFACT_ID=imagepipeline-volley
diff --git a/imagepipeline-base-test/gradle.properties b/imagepipeline-base-test/gradle.properties
index 443d9506b..515d19f34 100644
--- a/imagepipeline-base-test/gradle.properties
+++ b/imagepipeline-base-test/gradle.properties
@@ -1,3 +1,12 @@
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.0.29-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
 POM_NAME=ImagePipelineBaseTest
 POM_DESCRIPTION=Contains utility classes for test in imagepipeline base
 POM_ARTIFACT_ID=imagepipeline-base-test
diff --git a/imagepipeline-base/gradle.properties b/imagepipeline-base/gradle.properties
index a28ce93a0..63133377f 100644
--- a/imagepipeline-base/gradle.properties
+++ b/imagepipeline-base/gradle.properties
@@ -1,5 +1,15 @@
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.9.0-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
+
 POM_NAME=ImagePipelineBase
 POM_DESCRIPTION=The library with common code between imagepipeline modules
-POM_ARTIFACT_ID=imagepipeline-base
+POM_ARTIFACT_ID=fresco-imagepipeline-base
 POM_PACKAGING=aar
 
diff --git a/imagepipeline-base/src/main/java/com/facebook/imagepipeline/common/ImageDecodeOptionsBuilder.java b/imagepipeline-base/src/main/java/com/facebook/imagepipeline/common/ImageDecodeOptionsBuilder.java
index 1ef7c4cef..9bd7b2448 100644
--- a/imagepipeline-base/src/main/java/com/facebook/imagepipeline/common/ImageDecodeOptionsBuilder.java
+++ b/imagepipeline-base/src/main/java/com/facebook/imagepipeline/common/ImageDecodeOptionsBuilder.java
@@ -21,7 +21,7 @@
 public class ImageDecodeOptionsBuilder {
 
   private int mMinDecodeIntervalMs = 100;
-  private boolean mDecodePreviewFrame;
+  private boolean mDecodePreviewFrame = true;//备注修改了gif预览图
   private boolean mUseLastFrameForPreview;
   private boolean mDecodeAllFrames;
   private boolean mForceStaticImage;
diff --git a/imagepipeline-test/gradle.properties b/imagepipeline-test/gradle.properties
index af53f51f0..8b5e1a296 100644
--- a/imagepipeline-test/gradle.properties
+++ b/imagepipeline-test/gradle.properties
@@ -1,5 +1,14 @@
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.0.10-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
+
 POM_NAME=ImagePipelineTest
 POM_DESCRIPTION=The library which contains utility classes for tests
 POM_ARTIFACT_ID=imagepipeline-test
 POM_PACKAGING=aar
-
diff --git a/imagepipeline/gradle.properties b/imagepipeline/gradle.properties
index 7e2cf6cff..faf70543a 100644
--- a/imagepipeline/gradle.properties
+++ b/imagepipeline/gradle.properties
@@ -1,5 +1,16 @@
+
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.9.0-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
+
 POM_NAME=ImagePipeline
 POM_DESCRIPTION=The underlying image loading mechanism of the Fresco library
-POM_ARTIFACT_ID=imagepipeline
+POM_ARTIFACT_ID=fresco-imagepipeline
 POM_PACKAGING=aar
 
diff --git a/imagepipeline/src/main/java/com/facebook/imagepipeline/cache/BufferedDiskCache.java b/imagepipeline/src/main/java/com/facebook/imagepipeline/cache/BufferedDiskCache.java
index f13c32123..473c4867b 100644
--- a/imagepipeline/src/main/java/com/facebook/imagepipeline/cache/BufferedDiskCache.java
+++ b/imagepipeline/src/main/java/com/facebook/imagepipeline/cache/BufferedDiskCache.java
@@ -74,6 +74,14 @@ public boolean containsSync(CacheKey key) {
       return mStagingArea.containsKey(key) || mFileCache.hasKeySync(key);
   }
 
+  /**
+   * 不安全
+   * @return
+   */
+  public FileCache getFileCache(){
+    return mFileCache;
+  }
+
   /**
    * Performs a key-value look up in the disk cache. If no value is found in the staging area,
    * then disk cache checks are scheduled on a background thread. Any error manifests itself as a
@@ -162,6 +170,54 @@ private boolean checkInStagingAreaAndFileCache(final CacheKey key) {
     }
   }
 
+
+  /**
+   * 获得同步缓存
+   * @param key
+   * @return
+   */
+  public EncodedImage getSyncCache(final CacheKey key){
+    try {
+      EncodedImage result = mStagingArea.get(key);
+      if (result != null) {
+        //有缓存
+        FLog.v(TAG, "Found image for %s in staging area", key.toString());
+        mImageCacheStatsTracker.onStagingAreaHit(key);
+      } else {
+        //没有缓存
+        FLog.v(TAG, "Did not find image for %s in staging area", key.toString());
+        mImageCacheStatsTracker.onStagingAreaMiss();
+
+        try {
+          //从disk读取缓存图片
+          final PooledByteBuffer buffer = readFromDiskCache(key);
+          CloseableReference<PooledByteBuffer> ref = CloseableReference.of(buffer);
+          try {
+            result = new EncodedImage(ref);
+          } finally {
+            CloseableReference.closeSafely(ref);
+          }
+        } catch (Exception exception) {
+          return null;
+        }
+      }
+
+      if (Thread.interrupted()) {
+        FLog.v(TAG, "Host thread was interrupted, decreasing reference count");
+        if (result != null) {
+          result.close();
+        }
+        throw new InterruptedException();
+      } else {
+        return result;
+      }
+    }catch (Exception e){
+      e.printStackTrace();
+    }
+    return null;
+  }
+
+
   private Task<EncodedImage> getAsync(final CacheKey key, final AtomicBoolean isCancelled) {
     try {
       return Task.call(
diff --git a/imagepipeline/src/main/java/com/facebook/imagepipeline/core/ImagePipeline.java b/imagepipeline/src/main/java/com/facebook/imagepipeline/core/ImagePipeline.java
index f1732727a..4e379b168 100644
--- a/imagepipeline/src/main/java/com/facebook/imagepipeline/core/ImagePipeline.java
+++ b/imagepipeline/src/main/java/com/facebook/imagepipeline/core/ImagePipeline.java
@@ -90,6 +90,23 @@ public ImagePipeline(
     mSuppressBitmapPrefetchingSupplier = suppressBitmapPrefetchingSupplier;
   }
 
+  /**
+   * 不安全做法
+   * @param url
+   */
+  public BufferedDiskCache getMainBufferdDiskCache(){
+    return mMainBufferedDiskCache;
+  }
+
+  /**
+   * 不安全做法
+   * @param url
+   */
+  public BufferedDiskCache getSmallImageBufferedDiskCache(){
+    return mSmallImageBufferedDiskCache;
+  }
+
+
   /**
    * Generates unique id for RequestFuture.
    *
diff --git a/imagepipeline/src/main/java/com/facebook/imagepipeline/core/ImagePipelineFactory.java b/imagepipeline/src/main/java/com/facebook/imagepipeline/core/ImagePipelineFactory.java
index 2555401f1..77ac959c9 100644
--- a/imagepipeline/src/main/java/com/facebook/imagepipeline/core/ImagePipelineFactory.java
+++ b/imagepipeline/src/main/java/com/facebook/imagepipeline/core/ImagePipelineFactory.java
@@ -173,7 +173,7 @@ public AnimatedFactory getAnimatedFactory() {
     return mEncodedMemoryCache;
   }
 
-  private ImageDecoder getImageDecoder() {
+  public ImageDecoder getImageDecoder() {
     if (mImageDecoder == null) {
       if (mConfig.getImageDecoder() != null) {
         mImageDecoder = mConfig.getImageDecoder();
diff --git a/mvn.gradle b/mvn.gradle
new file mode 100644
index 000000000..7edc0fbfc
--- /dev/null
+++ b/mvn.gradle
@@ -0,0 +1,35 @@
+apply plugin: 'maven'
+//apply plugin: 'com.github.dcendents.android-maven'
+repositories {
+    mavenCentral()
+}
+
+//for project dependency
+project.group = GROUP_ID
+project.version = DEPLOY_VERSION
+
+uploadArchives {
+    def typePattern = ~"[0-9]\\.[0-9]\\.[0-9]\$"
+    def depolyTypeUrl
+    if(typePattern.matcher(DEPLOY_VERSION)){
+        println "warn ! find release version! will deploy release aar! version is $DEPLOY_VERSION  "
+        depolyTypeUrl= deployToUrl.replace("snapshots","releases")
+    }else{
+        depolyTypeUrl =deployToUrl
+    }
+    
+    println "depolyTypeUrl " + depolyTypeUrl
+
+    repositories.mavenDeployer {
+        repository(url: depolyTypeUrl) {
+            authentication(userName: deployUserName, password: deployPassword)
+        }
+        pom.project {
+            groupId GROUP_ID
+            artifactId POM_ARTIFACT_ID
+            packaging PACKAGE_FORMAT
+            version DEPLOY_VERSION
+
+        }
+    }
+}
\ No newline at end of file
diff --git a/release.gradle b/release.gradle
index d0ff72d8f..9aa2f8f8a 100644
--- a/release.gradle
+++ b/release.gradle
@@ -2,7 +2,7 @@
 apply from: rootProject.file('gradle/android-tasks.gradle')
 
 // Upload to Bintray
-apply from: project.rootProject.file('release-bintray.gradle')
+apply from: project.rootProject.file('mvn.gradle')
 
-// Upload to Sonatype
-apply from: project.rootProject.file('release-sonatype.gradle')
+//// Upload to Sonatype
+//apply from: project.rootProject.file('release-sonatype.gradle')
diff --git a/release.sh b/release.sh
index a77752627..28aa2a130 100755
--- a/release.sh
+++ b/release.sh
@@ -1,5 +1,3 @@
 #!/bin/bash
 
-rm -rf $HOME/.gradle/caches
-rm -rf .gradle
-./gradlew clean allclean build uploadArchives
+gradle uploadArchives
diff --git a/samples/comparison/build.gradle b/samples/comparison/build.gradle
index 1a2d1bf97..7d32834e7 100644
--- a/samples/comparison/build.gradle
+++ b/samples/comparison/build.gradle
@@ -19,7 +19,6 @@ dependencies {
     compile project(':imagepipeline')
     compile project(':imagepipeline-backends:imagepipeline-okhttp3')
     compile project(':animated-gif')
-    compile project(':tools:stetho')
 }
 
 android {
diff --git a/samples/demo/build.gradle b/samples/demo/build.gradle
index a4b6fda90..7f29d2bc4 100644
--- a/samples/demo/build.gradle
+++ b/samples/demo/build.gradle
@@ -88,4 +88,8 @@ dependencies {
     mavenWithAllAnimationsCompile "com.facebook.fresco:animated-gif:${VERSION_NAME}"
     mavenWithAllAnimationsCompile "com.facebook.fresco:animated-webp:${VERSION_NAME}"
     mavenWithAllAnimationsCompile "com.facebook.fresco:webpsupport:${VERSION_NAME}"
+    compile project(path: ':imagepipeline-backends:imagepipeline-okhttp3')
+    compile 'com.squareup.okhttp3:okhttp:3.2.0'
+    compile project(':frescopainter')
+    compile 'com.squareup.okhttp3:okhttp:3.3.1'
 }
diff --git a/samples/demo/src/main/AndroidManifest.xml b/samples/demo/src/main/AndroidManifest.xml
index 0d9f39702..5bb6d2d15 100644
--- a/samples/demo/src/main/AndroidManifest.xml
+++ b/samples/demo/src/main/AndroidManifest.xml
@@ -2,22 +2,30 @@
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="com.facebook.samples.demo" >
 
-  <uses-permission android:name="android.permission.INTERNET" />
+    <uses-permission android:name="android.permission.INTERNET" />
 
-  <uses-sdk
-      android:minSdkVersion="9"
-      android:targetSdkVersion="21"
-      />
+    <uses-sdk
+        android:minSdkVersion="9"
+        android:targetSdkVersion="21"
+        />
 
     <application
         android:name=".DemoApplication"
         android:allowBackup="true"
         android:icon="@mipmap/ic_launcher"
-        android:label="@string/app_name"
-        android:theme="@style/Theme.FrescoSample">
+        android:label="@string/app_name">
         <activity
             android:name=".MainActivity"
             android:label="@string/app_name" >
+        </activity>
+        <activity
+            android:name=".MeetyouTestActivity"
+            android:label="@string/app_name" >
+
+        </activity>
+        <activity
+            android:name=".PainterActivity"
+            android:label="@string/app_name" >
             <intent-filter>
                 <action android:name="android.intent.action.MAIN" />
 
diff --git a/samples/demo/src/main/assets/gif_test.gif b/samples/demo/src/main/assets/gif_test.gif
new file mode 100644
index 000000000..eb3c38ee8
Binary files /dev/null and b/samples/demo/src/main/assets/gif_test.gif differ
diff --git a/samples/demo/src/main/java/com/facebook/samples/demo/DebugOverlayHelper.java b/samples/demo/src/main/java/com/facebook/samples/demo/DebugOverlayHelper.java
deleted file mode 100644
index 0ec4deb58..000000000
--- a/samples/demo/src/main/java/com/facebook/samples/demo/DebugOverlayHelper.java
+++ /dev/null
@@ -1,68 +0,0 @@
-/*
- * This file provided by Facebook is for non-commercial testing and evaluation
- * purposes only.  Facebook reserves all rights not expressly granted.
- *
- * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
- * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
- * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
- * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
- * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
- * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
- */
-package com.facebook.samples.demo;
-
-import android.app.Dialog;
-import android.content.Context;
-import android.content.DialogInterface;
-import android.content.SharedPreferences;
-import android.os.Bundle;
-import android.support.v4.app.DialogFragment;
-import android.support.v7.app.AlertDialog;
-import android.support.v7.app.AppCompatActivity;
-
-/**
- * Shared preference helper to enable / disable the debug overlay
- */
-
-public class DebugOverlayHelper {
-
-  private static final String FRESCO_DEBUG_PREFS = "fresco_debug_prefs";
-  private static final String FRESCO_DEBUG_PREF_OVERLAY_ENABLED = "debug_overlay_enabled";
-
-  public static boolean isDebugOverlayEnabled(Context context) {
-    return context.getSharedPreferences(FRESCO_DEBUG_PREFS, Context.MODE_PRIVATE)
-        .getBoolean(FRESCO_DEBUG_PREF_OVERLAY_ENABLED, false);
-  }
-
-  public static void toggleDebugOverlayEnabled(Context context) {
-    SharedPreferences sharedPreferences =
-        context.getSharedPreferences(FRESCO_DEBUG_PREFS, Context.MODE_PRIVATE);
-    sharedPreferences
-        .edit()
-        .putBoolean(
-            FRESCO_DEBUG_PREF_OVERLAY_ENABLED,
-            !sharedPreferences.getBoolean(FRESCO_DEBUG_PREF_OVERLAY_ENABLED, false))
-        .apply();
-  }
-
-  public static void showRestartDialogFragment(AppCompatActivity activity) {
-    new RestartDialogFragment().show(activity.getSupportFragmentManager(), "debug_restart");
-  }
-
-  public static class RestartDialogFragment extends DialogFragment {
-    @Override
-    public Dialog onCreateDialog(Bundle savedInstanceState) {
-      // Use the Builder class for convenient dialog construction
-      AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());
-      builder.setMessage(R.string.debug_overlay_restart)
-          .setPositiveButton(R.string.kill_app, new DialogInterface.OnClickListener() {
-            @Override
-            public void onClick(DialogInterface dialog, int which) {
-              System.exit(0);
-            }
-          })
-      .setNegativeButton(R.string.later, null);
-      return builder.create();
-    }
-  }
-}
diff --git a/samples/demo/src/main/java/com/facebook/samples/demo/DemoApplication.java b/samples/demo/src/main/java/com/facebook/samples/demo/DemoApplication.java
index 674778f15..9d6d20f64 100644
--- a/samples/demo/src/main/java/com/facebook/samples/demo/DemoApplication.java
+++ b/samples/demo/src/main/java/com/facebook/samples/demo/DemoApplication.java
@@ -14,32 +14,32 @@
 import android.app.Application;
 
 import com.facebook.common.logging.FLog;
-import com.facebook.drawee.backends.pipeline.DraweeConfig;
-import com.facebook.drawee.backends.pipeline.Fresco;
+import com.facebook.imagepipeline.backends.okhttp3.OkHttpImagePipelineConfigFactory;
 import com.facebook.imagepipeline.core.ImagePipelineConfig;
 import com.facebook.imagepipeline.listener.RequestListener;
 import com.facebook.imagepipeline.listener.RequestLoggingListener;
+import com.meetyou.frescopainter.FrescoPainter;
 
 import java.util.HashSet;
 import java.util.Set;
 
+import okhttp3.OkHttpClient;
+
 /**
  * Demo Application implementation where we set up Fresco
  */
 public class DemoApplication extends Application {
-
     @Override
     public void onCreate() {
         super.onCreate();
         FLog.setMinimumLoggingLevel(FLog.VERBOSE);
         Set<RequestListener> listeners = new HashSet<>();
         listeners.add(new RequestLoggingListener());
-        ImagePipelineConfig config = ImagePipelineConfig.newBuilder(this)
+        ImagePipelineConfig config = OkHttpImagePipelineConfigFactory.newBuilder(this,new OkHttpClient())
                 .setRequestListeners(listeners)
+                .setDownsampleEnabled(true)
                 .build();
-        DraweeConfig draweeConfig = DraweeConfig.newBuilder()
-            .setDrawDebugOverlay(DebugOverlayHelper.isDebugOverlayEnabled(this))
-            .build();
-        Fresco.initialize(this, config, draweeConfig);
+        FrescoPainter.initialize(this,config);
+//        Fresco.initialize(this, config);
     }
 }
diff --git a/samples/demo/src/main/java/com/facebook/samples/demo/MainActivity.java b/samples/demo/src/main/java/com/facebook/samples/demo/MainActivity.java
index a215b2a9c..fce3758a9 100644
--- a/samples/demo/src/main/java/com/facebook/samples/demo/MainActivity.java
+++ b/samples/demo/src/main/java/com/facebook/samples/demo/MainActivity.java
@@ -12,14 +12,11 @@
 
 package com.facebook.samples.demo;
 
-import android.graphics.drawable.ColorDrawable;
+import android.app.Activity;
 import android.net.Uri;
 import android.os.Bundle;
 import android.support.annotation.IdRes;
-import android.support.v7.app.AppCompatActivity;
-import android.view.Menu;
-import android.view.MenuInflater;
-import android.view.MenuItem;
+import android.view.View;
 
 import com.facebook.drawee.backends.pipeline.Fresco;
 import com.facebook.drawee.drawable.ProgressBarDrawable;
@@ -28,76 +25,104 @@
 import com.facebook.imagepipeline.request.ImageRequest;
 import com.facebook.imagepipeline.request.ImageRequestBuilder;
 
-public class MainActivity extends AppCompatActivity {
+public class MainActivity extends Activity {
 
   @Override
   protected void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);
     setContentView(R.layout.activity_main);
 
-    findViewAndLoadUri(R.id.baseline_jpeg, "https://www.gstatic.com/webp/gallery/1.sm.jpg");
+    findViewAndLoadUri(R.id.baseline_jpeg, "https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3975589162,1369053045&fm=116&gp=0.jpg");
 
     ImageRequest request = ImageRequestBuilder.newBuilderWithSource(
-        Uri.parse("http://pooyak.com/p/progjpeg/jpegload.cgi?o=1"))
-        .setProgressiveRenderingEnabled(true)
-        .build();
-    DraweeController controller = Fresco.newDraweeControllerBuilder()
-        .setImageRequest(request)
-        .setRetainImageOnFailure(true)
-        .build();
-    findViewAndSetController(R.id.progressive_jpeg, controller);
-
-    findViewAndLoadUri(R.id.static_webp, "https://www.gstatic.com/webp/gallery/2.sm.webp");
-
-    findViewAndLoadUri(R.id.alpha_webp, "http://frescolib.org/static/translucent.webp")
-        .getHierarchy().setBackgroundImage(new ColorDrawable(0xFF302013));
-
-    findViewAndLoadAnimatedImageUri(
-        R.id.animated_gif,
-        "https://s3.amazonaws.com/giphygifs/media/4aBQ9oNjgEQ2k/giphy.gif");
-
-    findViewAndLoadAnimatedImageUri(
-        R.id.animated_webp,
-        "https://www.gstatic.com/webp/animated/1.webp");
-
-    findViewAndLoadAnimatedImageUri(
-        R.id.one_loop_animated_webp,
-        "https://dl.dropboxusercontent.com/u/6610969/webp_180_example.webp");
-
-    String dataUri = "data:image/webp;base64," +
-        "UklGRjgCAABXRUJQVlA4WAoAAAAQAAAAFwAAFwAAQUxQSC0AAAABJ6AgbQNm1+EkTnRExDkWahpJgRIk" +
-        "oOCVgAKy/mVdSxvR/wyEHWJ49xCbCAcAVlA4IOQBAACQCgCdASoYABgAPlEkjkWjoiEUBAA4BQS2AE6Z" +
-        "Qjgbyv8ZuWF3B3ANsBdoHoAeWj+s3wleTHcua7PMAYrNOLPHFqAbpKGWe8x3KqHen7YXTMnmq/c9GqBt" +
-        "ZtuQ0AAA/r031iZbkliICmd/QSg0OjEWbX/nv8v+g4UDPpobcehywI6oypX8hbuzcQndgaVt0zW5DiZP" +
-        "6Ueo/21IPqsuRm1WyZHL3bJIFStwH8BOWif7xVniUiHwD5HwW8AXIZiq2maDmyIvxn4a0fetR+flTrt/" +
-        "5/Vq3BVTeorYBHMN7L09DE9xDW/2+dj45/mCe9vjNUGRpT5EJhV8jDz/ZxPixLvN9Tl5iPD/neh1RCl6" +
-        "AOcx3JudnAseXqvm8dEtF+rA40Bg881EW88XwU1oXf/5RY/4ToF9NwcXPLC/AodLaAFPpiXt+C6cFDIj" +
-        "+uqi12PWFO+p7jn1P+sjCpbP/OBdHIoez8Rp6nslBEiFG19LKqv6dkGzLKtvt9dRIpz2sef2JFUVB+v+" +
-        "hvMMmQ4o6d8aMTGuv/4wZxogl/n/k3g83NO3bBnf7/TL8Baf97pQw43+FVR0hXfpvD0k51yE35e2jNF/" +
-        "98Uv3fAfPXw0T8irZQR4r1/ktG5xrypg/aKDooBtoI5aQAAA";
-    findViewAndLoadUri(R.id.data_webp, dataUri);
-  }
+            Uri.parse("https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3975589162,1369053045&fm=116&gp=0.jpg"))
+            .setProgressiveRenderingEnabled(true)
+            .build();
+
+    findViewById(R.id.baseline_jpeg).setOnClickListener(new View.OnClickListener() {
+      @Override
+      public void onClick(View v) {
+//        new Thread(new Runnable() {
+//          @Override
+//          public void run() {
+//            ImagePipeline imagePipeline = Fresco.getImagePipeline();
+//            ImageRequest request = ImageRequestBuilder.newBuilderWithSource(
+//                    Uri.parse("http://pic.duowan.com/newgame/1109/179919961792/179920848656.jpg"))
+//                    .setSync(true)
+//                    .build();
+//            try {
+//              Bitmap bitmap = imagePipeline.fetchBitmap(request, this);
+//              int i;
+//              i = 10;
+//            } catch (Exception e) {
+//              e.printStackTrace();
+//            }
+//          }
+//        }).start();
+
+//        ImageRequest request1 = ImageRequestBuilder.newBuilderWithSource(
+//                Uri.parse("http://img7.ptpcp.com/v2/thumb/jpg/NTkxYywwLDAsNCwzLDEsLTEsMSw=/u/www.ptbus.com/uploads/allimg/1312/12/1483-131212114031.jpg"))
+//                .setSync(true)
+//                .build();
+//        DataSource<CloseableReference<CloseableImage>>
+//                dataSource1 = imagePipeline.fetchDecodedImage(request, this);
+//        ImageRequest request2 = ImageRequestBuilder.newBuilderWithSource(
+//                Uri.parse("http://s.doyo.cn/img/50/79/02c09e9e788369003eff.jpg"))
+//                .setSync(true)
+//                .build();
+//        DataSource<CloseableReference<CloseableImage>>
+//                dataSource2 = imagePipeline.fetchDecodedImage(request, this);
+//        ImageRequest request3 = ImageRequestBuilder.newBuilderWithSource(
+//                Uri.parse("http://img5.imgtn.bdimg.com/it/u=2170541376,3396146853&fm=21&gp=0.jpg"))
+//                .setSync(true)
+//                .build();
+//        DataSource<CloseableReference<CloseableImage>>
+//                dataSource3 = imagePipeline.fetchDecodedImage(request, this);
+//        ImageRequest request4 = ImageRequestBuilder.newBuilderWithSource(
+//                Uri.parse("http://images.forwallpaper.com/files/images/6/6237/6237eaaa/410731/night-elf-druid.jpg"))
+//                .setSync(true)
+//                .build();
+//        DataSource<CloseableReference<CloseableImage>>
+//                dataSource4 = imagePipeline.fetchDecodedImage(request, this);
+
+      }
+    });
 
-  @Override
-  public boolean onCreateOptionsMenu(Menu menu) {
-    MenuInflater inflater = getMenuInflater();
-    inflater.inflate(R.menu.debug_menu, menu);
-    return super.onCreateOptionsMenu(menu);
-  }
 
-  @Override
-  public boolean onPrepareOptionsMenu(Menu menu) {
-    menu.findItem(R.id.debug_overlay).setChecked(DebugOverlayHelper.isDebugOverlayEnabled(this));
-    return super.onPrepareOptionsMenu(menu);
-  }
+    DraweeController controller = Fresco.newDraweeControllerBuilder()
+            .setImageRequest(request)
+            .build();
+    findViewAndSetController(R.id.progressive_jpeg, controller);
 
-  @Override
-  public boolean onOptionsItemSelected(MenuItem item) {
-    if (item.getItemId() == R.id.debug_overlay) {
-      DebugOverlayHelper.toggleDebugOverlayEnabled(this);
-      DebugOverlayHelper.showRestartDialogFragment(this);
-    }
-    return super.onOptionsItemSelected(item);
+//    findViewAndLoadUri(R.id.static_webp, "https://www.gstatic.com/webp/gallery/2.sm.webp");
+//
+//    findViewAndLoadUri(R.id.alpha_webp, "http://frescolib.org/static/translucent.webp")
+//            .getHierarchy().setBackgroundImage(new ColorDrawable(0xFF302013));
+//
+//    findViewAndLoadAnimatedImageUri(
+//            R.id.animated_gif,
+//            "https://s3.amazonaws.com/giphygifs/media/4aBQ9oNjgEQ2k/giphy.gif");
+//
+//    findViewAndLoadAnimatedImageUri(
+//            R.id.animated_webp,
+//            "https://www.gstatic.com/webp/animated/1.webp");
+//
+//    findViewAndLoadAnimatedImageUri(
+//            R.id.one_loop_animated_webp,
+//            "https://dl.dropboxusercontent.com/u/6610969/webp_180_example.webp");
+//
+//    String dataUri = "data:image/webp;base64," +
+//            "UklGRjgCAABXRUJQVlA4WAoAAAAQAAAAFwAAFwAAQUxQSC0AAAABJ6AgbQNm1+EkTnRExDkWahpJgRIk" +
+//            "oOCVgAKy/mVdSxvR/wyEHWJ49xCbCAcAVlA4IOQBAACQCgCdASoYABgAPlEkjkWjoiEUBAA4BQS2AE6Z" +
+//            "Qjgbyv8ZuWF3B3ANsBdoHoAeWj+s3wleTHcua7PMAYrNOLPHFqAbpKGWe8x3KqHen7YXTMnmq/c9GqBt" +
+//            "ZtuQ0AAA/r031iZbkliICmd/QSg0OjEWbX/nv8v+g4UDPpobcehywI6oypX8hbuzcQndgaVt0zW5DiZP" +
+//            "6Ueo/21IPqsuRm1WyZHL3bJIFStwH8BOWif7xVniUiHwD5HwW8AXIZiq2maDmyIvxn4a0fetR+flTrt/" +
+//            "5/Vq3BVTeorYBHMN7L09DE9xDW/2+dj45/mCe9vjNUGRpT5EJhV8jDz/ZxPixLvN9Tl5iPD/neh1RCl6" +
+//            "AOcx3JudnAseXqvm8dEtF+rA40Bg881EW88XwU1oXf/5RY/4ToF9NwcXPLC/AodLaAFPpiXt+C6cFDIj" +
+//            "+uqi12PWFO+p7jn1P+sjCpbP/OBdHIoez8Rp6nslBEiFG19LKqv6dkGzLKtvt9dRIpz2sef2JFUVB+v+" +
+//            "hvMMmQ4o6d8aMTGuv/4wZxogl/n/k3g83NO3bBnf7/TL8Baf97pQw43+FVR0hXfpvD0k51yE35e2jNF/" +
+//            "98Uv3fAfPXw0T8irZQR4r1/ktG5xrypg/aKDooBtoI5aQAAA";
+//    findViewAndLoadUri(R.id.data_webp, dataUri);
   }
 
   private SimpleDraweeView findAndPrepare(@IdRes int viewId) {
@@ -113,8 +138,8 @@ private SimpleDraweeView findViewAndLoadUri(@IdRes int viewId, String uri) {
   }
 
   private SimpleDraweeView findViewAndSetController(
-      @IdRes int viewId,
-      DraweeController controller) {
+          @IdRes int viewId,
+          DraweeController controller) {
     SimpleDraweeView view = findAndPrepare(viewId);
     view.setController(controller);
     return view;
@@ -122,9 +147,9 @@ private SimpleDraweeView findViewAndSetController(
 
   private SimpleDraweeView findViewAndLoadAnimatedImageUri(@IdRes int viewId, String uri) {
     DraweeController animatedController = Fresco.newDraweeControllerBuilder()
-        .setAutoPlayAnimations(true)
-        .setUri(Uri.parse(uri))
-        .build();
+            .setAutoPlayAnimations(true)
+            .setUri(Uri.parse(uri))
+            .build();
     return findViewAndSetController(viewId, animatedController);
   }
 }
diff --git a/samples/demo/src/main/java/com/facebook/samples/demo/MeetyouTestActivity.java b/samples/demo/src/main/java/com/facebook/samples/demo/MeetyouTestActivity.java
new file mode 100644
index 000000000..754112065
--- /dev/null
+++ b/samples/demo/src/main/java/com/facebook/samples/demo/MeetyouTestActivity.java
@@ -0,0 +1,68 @@
+package com.facebook.samples.demo;
+
+import android.app.Activity;
+import android.graphics.Bitmap;
+import android.os.Bundle;
+import android.view.View;
+import android.widget.ImageView;
+
+import com.meetyou.frescopainter.FrescoPainter;
+import com.meetyou.frescopainter.PainterCallBack;
+
+/**
+ * Created by Linhh on 16/9/10.
+ */
+public class MeetyouTestActivity  extends Activity {
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.activity_test);
+
+      findViewById(R.id.ivtest).setOnClickListener(new View.OnClickListener() {
+        @Override
+        public void onClick(View v) {
+          FrescoPainter.workspace().evictFromPainterCache("http://sc.seeyouyima.com/advertise/20160726/5796d7899b2fa_147_196.gif");
+        }
+      });
+
+        findViewById(R.id.btn).setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+              FrescoPainter.workspace().loadImageCallBackUi(
+                    "http://sc.seeyouyima.com/advertise/20160726/5796d7899b2fa_147_196.gif",
+                    new PainterCallBack() {
+                      @Override
+                      public void onSuccess(String url, Bitmap bitmap) {
+                        ((ImageView)findViewById(R.id.ivtest)).setImageBitmap(bitmap);
+
+                      }
+
+                      @Override
+                      public void onFailure(String url, Throwable throwable) {
+
+                      }
+                    });
+//                new Thread(new Runnable() {
+//                    @Override
+//                    public void run() {
+////                        FrescoPainterPen pen = FrescoPainterPen.newBuilderWithURL("http://img30.360buyimg.com/jgsq-productsoa/jfs/t3295/3/1848509641/48600/5a858445/57d61644N67602289.jpg")
+////                                .asCircle(true)
+////                                .setRadius(new PenRadius(1,20,30,40))
+////                                .setBorderWidth(5);
+//                        final Bitmap bitmap = FrescoPainter.workspace().loadBitmapSync(R.mipmap.ic_launcher,new ResizeOptions(20,20));
+//                        new Handler(Looper.getMainLooper()).post(new Runnable() {
+//                            @Override
+//                            public void run() {
+//                                ((ImageView)findViewById(R.id.ivtest)).setImageBitmap(bitmap);
+//                            }
+//                        });
+//                    }
+//                }).start();
+            }
+        });
+
+
+    }
+
+}
diff --git a/samples/demo/src/main/java/com/facebook/samples/demo/PainterActivity.java b/samples/demo/src/main/java/com/facebook/samples/demo/PainterActivity.java
new file mode 100644
index 000000000..519dc875a
--- /dev/null
+++ b/samples/demo/src/main/java/com/facebook/samples/demo/PainterActivity.java
@@ -0,0 +1,132 @@
+package com.facebook.samples.demo;
+
+import android.app.Activity;
+import android.os.Bundle;
+
+import com.facebook.drawee.drawable.ScalingUtils;
+import com.meetyou.frescopainter.FrescoImageView;
+import com.meetyou.frescopainter.FrescoPainter;
+import com.meetyou.frescopainter.FrescoPainterPen;
+
+/**
+ * Created by Linhh on 16/9/10.
+ */
+public class PainterActivity extends Activity {
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.activity_painter);
+        final FrescoImageView frescoImageView = (FrescoImageView)findViewById(R.id.frescoimage);
+//      final FrescoZoomView frescoImageView2 = (FrescoZoomView)findViewById(R.id.frescoimage2);
+//      frescoImageView.setOnLongDraweeClickListener(new View.OnLongClickListener() {
+//        @Override
+//        public boolean onLongClick(View v) {
+//          Toast.makeText(PainterActivity.this,"onLongClick",Toast.LENGTH_SHORT).show();
+//          return false;
+//        }
+//      });
+////      TextView textView = new TextView(this);
+////      textView.setText("ssssssss");
+//      RichDrawable gifDrawable = new RichDrawable(getDrawable(R.mipmap.apk_gif));
+//      gifDrawable.setPosition(RichDrawable.POS_CENTER);
+//      gifDrawable.setMargin(10,10,10,10);
+//      frescoImageView.setRichDrawable(gifDrawable);
+//      frescoImageView2.setRichDrawable(gifDrawable);
+//      FrescoPainterPen pen = FrescoPainterPen.newBuilderWithURL("http://sc.seeyouyima.com/avatar_52319959?imageView/1/w/120/h/120/q/100/&rx=34153&imageView2/1/w/80/h/80/format/webp")
+//          .setFailHolder(R.mipmap.ic_launcher).setFrescoPainterDraweeInterceptor(new FrescoPainterDraweeInterceptor() {
+//            @Override
+//            public Drawable onSetPlaceholderImage(int resourceId) {
+//              return null;
+//            }
+//
+//            @Override
+//            public Drawable onSetRetryImage(int resourceId) {
+//              return null;
+//            }
+//
+//            @Override
+//            public Drawable onSetFailureImage(int resourceId) {
+//              return null;
+//            }
+//
+//            @Override
+//            public Drawable onSetProgressBarImage(int resourceId) {
+//              return null;
+//            }
+//
+//            @Override
+//            public Drawable onSetBackground(int resourceId) {
+//              return null;
+//            }
+//          }).setScaleType(ScalingUtils.ScaleType.FIT_XY);
+//      FrescoPainter.workspace().paint(frescoImageView2, pen);
+//      frescoImageView.setOnDraweeClickListener(new View.OnClickListener() {
+//        @Override
+//        public void onClick(View v) {
+//          Toast.makeText(PainterActivity.this,"onClick",Toast.LENGTH_SHORT).show();
+////          FrescoPainter.workspace().removeFromDiskCache("http://img1.jiemian.com/101/original/20160926/147486461127815600");
+//        }
+//      });
+//        FrescoPainter.workspace().loadImageCallBackUi(
+//            "http://sc.seeyouyima.com/advertise/20160726/5796d7899b2fa_147_196.gif",
+//            new PainterCallBack() {
+//                @Override
+//                public void onSuccess(String url, Bitmap bitmap) {
+//                    FrescoPainterPen pen = FrescoPainterPen.newBuilderWithURL("http://sc.seeyouyima.com/advertise/20160726/5796d7899b2fa_147_196.gif")
+//                        .setScaleType(ScalingUtils.ScaleType.FIT_XY);
+//                    FrescoPainter.workspace().paint(frescoImageView, pen);
+//                }
+//
+//                @Override
+//                public void onFailure(String url, Throwable throwable) {
+//
+//                }
+//            });
+
+        FrescoPainterPen pen = FrescoPainterPen.
+                newBuilderWithURL("http://cdn.seeyouyima.com/taobao/web_brand_area_notice58febef3cf4f5_500_500.png")
+            .setScaleType(ScalingUtils.ScaleType.CENTER)
+                ;
+//        FrescoPainterPen pen = FrescoPainterPen.
+//            newBuilderWithAsset("/gif_test.gif")
+////            .setRadius(60)
+////            .setHeight(30)
+////            .setWidth(30)
+//            .setAnim(true)
+//            .setScaleType(ScalingUtils.ScaleType.FIT_XY)
+//            .setDefaultHolder(R.drawable.apk_music_off_line)
+//            .setFailHolder(R.drawable.apk_music_off_line);
+        FrescoPainter.workspace().paint(frescoImageView,pen);
+//        .setOnClickListener(new View.OnClickListener() {
+//            @Override
+//            public void onClick(View v) {
+//                new Thread(new Runnable() {
+//                    @Override
+//                    public void run() {
+//                        ImagePipeline imagePipeline = Fresco.getImagePipeline();
+//                        ImageRequest request = ImageRequestBuilder.newBuilderWithSource(
+//                                Uri.parse("http://pic.duowan.com/newgame/1109/179919961792/179920848656.jpg"))
+//                                .setSync(true)
+//                                .build();
+//                        try {
+//                            final Bitmap bitmap = imagePipeline.fetchBitmap(request, this);
+//                            new Handler(Looper.getMainLooper()).post(new Runnable() {
+//                                @Override
+//                                public void run() {
+//                                    ((ImageView)findViewById(R.id.ivtest)).setImageBitmap(bitmap);
+//                                }
+//                            });
+//                        } catch (Exception e) {
+//                            e.printStackTrace();
+//                        }
+//                    }
+//                }).start();
+//            }
+//        });
+
+
+    }
+
+}
+
diff --git a/samples/demo/src/main/res/drawable/apk_music_off_line.png b/samples/demo/src/main/res/drawable/apk_music_off_line.png
new file mode 100644
index 000000000..f31ccb578
Binary files /dev/null and b/samples/demo/src/main/res/drawable/apk_music_off_line.png differ
diff --git a/samples/demo/src/main/res/layout/activity_main.xml b/samples/demo/src/main/res/layout/activity_main.xml
index 62a50b143..573f21eeb 100644
--- a/samples/demo/src/main/res/layout/activity_main.xml
+++ b/samples/demo/src/main/res/layout/activity_main.xml
@@ -66,11 +66,11 @@
     </FrameLayout>
 
     <FrameLayout style="@style/sample_layout">
-      <com.facebook.drawee.view.SimpleDraweeView
-        android:id="@+id/attr_image_url"
-        style="@style/drawee"
-        fresco:actualImageUri="http://frescolib.org/static/favicon.png"
-        />
+      <!--<com.facebook.drawee.view.SimpleDraweeView-->
+        <!--android:id="@+id/attr_image_url"-->
+        <!--style="@style/drawee"-->
+        <!--fresco:actualImageUri="http://frescolib.org/static/favicon.png"-->
+        <!--/>-->
 
       <TextView
         android:text="@string/label_attr_image_uri"
@@ -135,28 +135,28 @@
     </FrameLayout>
 
     <FrameLayout style="@style/sample_layout">
-      <com.facebook.drawee.view.SimpleDraweeView
-        android:id="@+id/attr_image_data"
-        style="@style/drawee"
-        fresco:actualImageUri="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEZ0l
-        EQVR42u2bWUgVURjHzXZoxyyQqMhKbRdbsDBte7BsoaiwMkMyKoQi9fYSRA9hGq0PESRmD1kQZWELbWALQRFYUUFEaVC
-        0WCZlmqbT/4tv4uM0c+cGLbM9/LnO3P+9nvPzzJlvGcM0TQvzssJ8AD4AH4APwAfgA/AB/HE1z+sYCZVAd6F4C280dBq
-        6CkVZeBOgSqgcmmNLABjYNOgJpLHyg3iXQK+EN83E1w7KgeqF94itAGBAnaGt0FcxSFKugbcndEDxkWYbeKOgEwbew7Y
-        BgMEMgy6LwTVALUYAcDwRuie8n6A2IwB0DD3j99rYq3+u5L8DwCB6QOnQWzGwW9Bi6I0EgNf20Cbos/CehDLVFcCrqRD
-        6Jt7bAwXsBuCQsizpuAs0GPqgAFgvfM10ufD5RAMAu8S5Oiibz2fbDYBc9huUS6JOAVDEx43QQuFNFt+RyufO8TGtogT
-        hXWs3ABd4MK3QcAsABXxcTbdJCwDl+uWk/D7bAqANanSIAF5A/UMEcMepACi4eR8igMTfALDaKQDm8kb3MxAKAiBHTGq
-        OBYB9tgqElD1gBJ/bqNzq1hgAoFA5HNrJn9W9yQqA2yK0Pip89Jn9dgJA0d8MqFQMku7he6GuCoCn0FSO/TXx+YD4Xh3
-        ADWgy9Eh4a6FVUISdALQowdBLaJHi1QF8gd4J70MoSfHqAOqV+P8mNNI22aAAIHUeGmTgLTDwlhr9JQUATewxhfpqshM
-        AGQhRgLOZr216L4VvW93YWyi8FCVmsY80H8qAOrD3rPBWm2WJdgCQy6lvFV/XdK4TtE3cBfRNMBV6DV2DRrFXzQqTRch
-        LkE5BA21bEOEEpzcnRXQcC11Rlq/c3PrSMmbvBOi+4k1jH62ifpQUOaYihMEuVzZCzSQdJmh5nDJb1gNsD4BXQLGYBO3
-        yZWo2yF7KEs8IL0WLx0Qs4CwAnMvLZUzX+AKeaK0SCo/nIEj3PobGcZ1PcyqAi2LwVKyMDiEZ0jiqizRIhhwHQMYB8Rb
-        Z4A4RJEWZZIOOBdAqIzSLFVBDO7zbAKjZ4FCDkphZNpjkRgCxIoa3AjDTVQAocoMqxKTyzADgdQx3j4I2RpwAgFLfIRz
-        /14gJ0c9jFQDPOb+nlPaj8FZZtcbsDKCRgx9ZCKmQWaEAQK2w46JxonEg1cdxzVGTdJhg5FM/L4R0mOoCmY7tDmPwl5Q
-        JPeAiZxg3SCKEt0jxXofiHN0eV+p0P5YxTz6Os0Ja7inszRf7xfa/nen9KwAU86+k8pcobmQoJa8Ae7tD66BZrnxAgv/
-        6xVbpsCufEMEkpyiVW+rpNbkeACY3gOuATWLyVMaarrbH3QqgTKntbxGtsTovAJC3wfRg2aBbAch0OMbLACzb414D8Et
-        73GsAssSTXwHP7AH8QONuMXnSCi8AoDhgqdIVauDWWbhXVoCsBVCvYJLrH5Y2qQcchHp54mlxJRCi0HeZpx6X51S4kh9
-        sjPH/X8AH4APwAfgAfAA+AB+AU/Qd42W8mKN4nlcAAAAASUVORK5CYII="
-        />
+      <!--<com.facebook.drawee.view.SimpleDraweeView-->
+        <!--android:id="@+id/attr_image_data"-->
+        <!--style="@style/drawee"-->
+        <!--fresco:actualImageUri="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEZ0l-->
+        <!--EQVR42u2bWUgVURjHzXZoxyyQqMhKbRdbsDBte7BsoaiwMkMyKoQi9fYSRA9hGq0PESRmD1kQZWELbWALQRFYUUFEaVC-->
+        <!--0WCZlmqbT/4tv4uM0c+cGLbM9/LnO3P+9nvPzzJlvGcM0TQvzssJ8AD4AH4APwAfgA/AB/HE1z+sYCZVAd6F4C280dBq-->
+        <!--6CkVZeBOgSqgcmmNLABjYNOgJpLHyg3iXQK+EN83E1w7KgeqF94itAGBAnaGt0FcxSFKugbcndEDxkWYbeKOgEwbew7Y-->
+        <!--BgMEMgy6LwTVALUYAcDwRuie8n6A2IwB0DD3j99rYq3+u5L8DwCB6QOnQWzGwW9Bi6I0EgNf20Cbos/CehDLVFcCrqRD-->
+        <!--6Jt7bAwXsBuCQsizpuAs0GPqgAFgvfM10ufD5RAMAu8S5Oiibz2fbDYBc9huUS6JOAVDEx43QQuFNFt+RyufO8TGtogT-->
+        <!--hXWs3ABd4MK3QcAsABXxcTbdJCwDl+uWk/D7bAqANanSIAF5A/UMEcMepACi4eR8igMTfALDaKQDm8kb3MxAKAiBHTGq-->
+        <!--OBYB9tgqElD1gBJ/bqNzq1hgAoFA5HNrJn9W9yQqA2yK0Pip89Jn9dgJA0d8MqFQMku7he6GuCoCn0FSO/TXx+YD4Xh3-->
+        <!--ADWgy9Eh4a6FVUISdALQowdBLaJHi1QF8gd4J70MoSfHqAOqV+P8mNNI22aAAIHUeGmTgLTDwlhr9JQUATewxhfpqshM-->
+        <!--AGQhRgLOZr216L4VvW93YWyi8FCVmsY80H8qAOrD3rPBWm2WJdgCQy6lvFV/XdK4TtE3cBfRNMBV6DV2DRrFXzQqTRch-->
+        <!--LkE5BA21bEOEEpzcnRXQcC11Rlq/c3PrSMmbvBOi+4k1jH62ifpQUOaYihMEuVzZCzSQdJmh5nDJb1gNsD4BXQLGYBO3-->
+        <!--yZWo2yF7KEs8IL0WLx0Qs4CwAnMvLZUzX+AKeaK0SCo/nIEj3PobGcZ1PcyqAi2LwVKyMDiEZ0jiqizRIhhwHQMYB8Rb-->
+        <!--Z4A4RJEWZZIOOBdAqIzSLFVBDO7zbAKjZ4FCDkphZNpjkRgCxIoa3AjDTVQAocoMqxKTyzADgdQx3j4I2RpwAgFLfIRz-->
+        <!--/14gJ0c9jFQDPOb+nlPaj8FZZtcbsDKCRgx9ZCKmQWaEAQK2w46JxonEg1cdxzVGTdJhg5FM/L4R0mOoCmY7tDmPwl5Q-->
+        <!--JPeAiZxg3SCKEt0jxXofiHN0eV+p0P5YxTz6Os0Ja7inszRf7xfa/nen9KwAU86+k8pcobmQoJa8Ae7tD66BZrnxAgv/-->
+        <!--6xVbpsCufEMEkpyiVW+rpNbkeACY3gOuATWLyVMaarrbH3QqgTKntbxGtsTovAJC3wfRg2aBbAch0OMbLACzb414D8Et-->
+        <!--73GsAssSTXwHP7AH8QONuMXnSCi8AoDhgqdIVauDWWbhXVoCsBVCvYJLrH5Y2qQcchHp54mlxJRCi0HeZpx6X51S4kh9-->
+        <!--sjPH/X8AH4APwAfgAfAA+AB+AU/Qd42W8mKN4nlcAAAAASUVORK5CYII="-->
+        <!--/>-->
 
       <TextView
         android:text="@string/label_attr_image_uri"
diff --git a/samples/demo/src/main/res/layout/activity_painter.xml b/samples/demo/src/main/res/layout/activity_painter.xml
new file mode 100644
index 000000000..12659f4fd
--- /dev/null
+++ b/samples/demo/src/main/res/layout/activity_painter.xml
@@ -0,0 +1,10 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:orientation="vertical" android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:background="#eeeeee">
+    <com.meetyou.frescopainter.FrescoImageView
+        android:id="@+id/frescoimage"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent" />
+</LinearLayout>
\ No newline at end of file
diff --git a/samples/demo/src/main/res/layout/activity_test.xml b/samples/demo/src/main/res/layout/activity_test.xml
new file mode 100644
index 000000000..a4edf3b18
--- /dev/null
+++ b/samples/demo/src/main/res/layout/activity_test.xml
@@ -0,0 +1,15 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:orientation="vertical" android:layout_width="match_parent"
+    android:layout_height="match_parent">
+    <Button
+        android:id="@+id/btn"
+        android:layout_width="wrap_content"
+        android:layout_height="50dp"
+        android:text="load bitmap"
+        />
+    <ImageView
+        android:id="@+id/ivtest"
+        android:layout_width="300dp"
+        android:layout_height="300dp" />
+</LinearLayout>
\ No newline at end of file
diff --git a/samples/demo/src/main/res/menu/debug_menu.xml b/samples/demo/src/main/res/menu/debug_menu.xml
deleted file mode 100644
index f9f2f7b5c..000000000
--- a/samples/demo/src/main/res/menu/debug_menu.xml
+++ /dev/null
@@ -1,8 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<menu xmlns:android="http://schemas.android.com/apk/res/android">
-  <item
-      android:id="@+id/debug_overlay"
-      android:title="@string/debug_overlay"
-      android:checkable="true"
-      />
-</menu>
diff --git a/samples/demo/src/main/res/mipmap-hdpi/apk_gif.png b/samples/demo/src/main/res/mipmap-hdpi/apk_gif.png
new file mode 100644
index 000000000..8a6a12829
Binary files /dev/null and b/samples/demo/src/main/res/mipmap-hdpi/apk_gif.png differ
diff --git a/samples/demo/src/main/res/values/colors.xml b/samples/demo/src/main/res/values/colors.xml
index d0e8c2de0..80bf2e856 100644
--- a/samples/demo/src/main/res/values/colors.xml
+++ b/samples/demo/src/main/res/values/colors.xml
@@ -1,9 +1,5 @@
 <?xml version="1.0" encoding="utf-8"?>
 <resources>
-    <color name="primary">#009688</color>
-    <color name="primaryDark">#00796B</color>
-    <color name="accent">#FF6E40</color>
-
     <color name="failure">#ffff3333</color>
     <color name="transparent">#00000000</color>
 </resources>
diff --git a/samples/demo/src/main/res/values/strings.xml b/samples/demo/src/main/res/values/strings.xml
index e486ec88c..b019a83d1 100644
--- a/samples/demo/src/main/res/values/strings.xml
+++ b/samples/demo/src/main/res/values/strings.xml
@@ -9,9 +9,4 @@
   <string name="label_one_loop_animated_webp">Animated webp (1 loop)</string>
   <string name="label_data_webp">Webp (data uri)</string>
   <string name="label_attr_image_uri">Attribute actualImageUri</string>
-
-  <string name="debug_overlay">Debug overlay</string>
-  <string name="debug_overlay_restart">Toggling the debug overlay requires a restart of your application</string>
-  <string name="kill_app">Kill app now</string>
-  <string name="later">Later</string>
 </resources>
diff --git a/samples/demo/src/main/res/values/styles.xml b/samples/demo/src/main/res/values/styles.xml
index 46ef79c59..c4a30649a 100644
--- a/samples/demo/src/main/res/values/styles.xml
+++ b/samples/demo/src/main/res/values/styles.xml
@@ -1,13 +1,5 @@
 <?xml version="1.0" encoding="utf-8"?>
 <resources>
-
-  <style name="Theme.FrescoSample" parent="Theme.AppCompat">
-    <!-- Set AppCompat’s color theming attrs -->
-    <item name="colorPrimary">@color/primary</item>
-    <item name="colorPrimaryDark">@color/primaryDark</item>
-    <item name="colorAccent">@color/accent</item>
-  </style>
-
   <style name="sample_layout">
     <item name="android:layout_width">match_parent</item>
     <item name="android:layout_height">0dp</item>
diff --git a/settings.gradle b/settings.gradle
index b7cfd2859..089de1ed0 100644
--- a/settings.gradle
+++ b/settings.gradle
@@ -1,4 +1,5 @@
 include ':drawee'
+include ':frescopainter'
 include ':drawee-backends:drawee-pipeline'
 include ':drawee-backends:drawee-volley'
 include ':drawee-span'
@@ -7,7 +8,6 @@ include ':imagepipeline'
 include ':samples:animation'
 include ':samples:animation2'
 include ':samples:bitmapfactory'
-include ':samples:comparison'
 include ':samples:gestures'
 include ':samples:demo'
 include ':samples:media-variations'
@@ -15,7 +15,6 @@ include ':samples:uriapp'
 include ':samples:zoomable'
 include ':samples:zoomableapp'
 include ':samples:transition'
-include ':tools:stetho'
 include ':imagepipeline-backends:imagepipeline-okhttp'
 include ':imagepipeline-backends:imagepipeline-okhttp3'
 include ':imagepipeline-backends:imagepipeline-volley'
diff --git a/static-webp/gradle.properties b/static-webp/gradle.properties
index bee07746f..fbeadbfbb 100644
--- a/static-webp/gradle.properties
+++ b/static-webp/gradle.properties
@@ -1,5 +1,15 @@
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.9.0-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
+
 POM_NAME=WebpSupport
 POM_DESCRIPTION=Decoding WebP images on older versions of Android that cannot do so natively
-POM_ARTIFACT_ID=webpsupport
+POM_ARTIFACT_ID=fresco-webpsupport
 POM_PACKAGING=aar
 
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/AndroidManifest.xml b/static-webp/src/androidTest/java/com/facebook/webpsupport/AndroidManifest.xml
deleted file mode 100644
index bc36dc2a4..000000000
--- a/static-webp/src/androidTest/java/com/facebook/webpsupport/AndroidManifest.xml
+++ /dev/null
@@ -1,6 +0,0 @@
-<manifest xmlns:android="http://schemas.android.com/apk/res/android"
-          package="com.facebook" >
-
-  <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
-
-</manifest>
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/WebpBitmapFactoryTest.java b/static-webp/src/androidTest/java/com/facebook/webpsupport/WebpBitmapFactoryTest.java
deleted file mode 100644
index 095cdf1db..000000000
--- a/static-webp/src/androidTest/java/com/facebook/webpsupport/WebpBitmapFactoryTest.java
+++ /dev/null
@@ -1,326 +0,0 @@
-/*
- * Copyright (c) 2015-present, Facebook, Inc.
- * All rights reserved.
- *
- * This source code is licensed under the BSD-style license found in the
- * LICENSE file in the root directory of this source tree. An additional grant
- * of patent rights can be found in the PATENTS file in the same directory.
- */
-
-package com.facebook.webpsupport;
-
-import java.io.File;
-import java.io.FileDescriptor;
-import java.io.FileInputStream;
-import java.io.FileOutputStream;
-import java.io.IOException;
-import java.io.InputStream;
-import java.lang.Override;
-
-import android.app.Instrumentation;
-import android.graphics.Bitmap;
-import android.graphics.BitmapFactory;
-import android.graphics.Rect;
-import android.os.Environment;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
-import android.test.InstrumentationTestCase;
-import android.os.Build;
-
-import com.facebook.common.internal.ByteStreams;
-import com.facebook.common.internal.Throwables;
-import com.facebook.imagepipeline.core.ImagePipelineConfig;
-import com.facebook.imagepipeline.core.ImagePipelineFactory;
-
-import org.junit.After;
-import org.junit.Before;
-import org.junit.Test;
-import org.junit.runner.RunWith;
-
-@RunWith(AndroidJUnit4.class)
-public class WebpBitmapFactoryTest extends InstrumentationTestCase {
-  private Instrumentation mInstrumentation;
-
-  private WebpBitmapFactoryImpl mWebpBitmapFactory;
-
-  @Override
-  @Before
-  public void setUp() {
-    mInstrumentation = InstrumentationRegistry.getInstrumentation();
-    mWebpBitmapFactory = new WebpBitmapFactoryImpl();
-    ImagePipelineConfig.Builder configBuilder =
-        ImagePipelineConfig.newBuilder(mInstrumentation.getContext())
-            .experiment().setWebpBitmapFactory(mWebpBitmapFactory);
-    ImagePipelineFactory.initialize(configBuilder.build());
-  }
-
-  private FileDescriptor getImageFileDescriptor(String path) {
-    try {
-      File file = File.createTempFile("reqsquare", "tmp");
-      byte[] data = ByteStreams.toByteArray(getTestImageInputStream(path));
-      FileOutputStream fos = new FileOutputStream(file);
-      fos.write(data);
-      fos.close();
-      return new FileInputStream(file).getFD();
-    } catch (IOException e) {
-      throw Throwables.propagate(e);
-    }
-  }
-
-  private InputStream getTestImageInputStream(String path) {
-    try {
-      return mInstrumentation.getContext().getResources().getAssets().open(path);
-    } catch (IOException e) {
-      throw Throwables.propagate(e);
-    }
-  }
-
-  /**
-   * Return input stream for jpeg
-   * @return InputStream instance
-   */
-  private InputStream getTestJpegInputStream() {
-    return getTestImageInputStream("redsquare.jpg");
-  }
-
-  /**
-   * Return input stream for lossless webp
-   * @return InputStream instance
-   */
-  private InputStream getTestWebpInputStream() {
-    return getTestImageInputStream("redsquare.webp");
-  }
-
-  @Test
-  public void testJpegFallback() throws Throwable {
-    final Bitmap bitmap = mWebpBitmapFactory.decodeStream(
-        getTestJpegInputStream(),
-        null,
-        null);
-
-    assertNotNull("Bitmap should not be null", bitmap);
-    assertEquals("Width should be decoded properly", 20, bitmap.getWidth());
-    assertEquals("Height should be decoded properly", 20, bitmap.getHeight());
-
-    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) {
-      // TODO 8639341 - In GB colors are not decoded exactly as they are into the image
-      assertEquals("Bitmap pixels should be red", 0xFFFF0100, bitmap.getPixel(5, 8));
-    }
-  }
-
-  @Test
-  public void testWebpDecodeStream() throws Throwable {
-    final Bitmap bitmap = mWebpBitmapFactory.decodeStream(
-        getTestWebpInputStream(),
-        null,
-        null);
-
-    assertNotNull("Bitmap should not be null", bitmap);
-    assertEquals("Width should be decoded properly", 20, bitmap.getWidth());
-    assertEquals("Height should be decoded properly", 20, bitmap.getHeight());
-
-    assertEquals("Bitmap pixels should be red", 0xFFFF0100, bitmap.getPixel(5, 8));
-
-    // Alternatively, load image manually adb pull /mnt/sdcard/resulthooked.jpg
-    bitmap.compress(
-        Bitmap.CompressFormat.JPEG,
-        90,
-        new FileOutputStream(Environment.getExternalStorageDirectory() + "/resulthooked.jpg"));
-  }
-
-  @Test
-  public void testWebpJustDecodeBounds() throws Throwable {
-    BitmapFactory.Options options = new BitmapFactory.Options();
-    options.inJustDecodeBounds = true;
-
-    final Bitmap bitmap = mWebpBitmapFactory.decodeStream(
-        getTestWebpInputStream(),
-        null,
-        options);
-
-    assertNull("Bitmap should be null", bitmap);
-    assertEquals("Width should be decoded properly", 20, options.outWidth);
-    assertEquals("Height should be decoded properly", 20, options.outHeight);
-  }
-
-  @Test
-  public void testInBitmap() throws Throwable {
-    if (!WebpBitmapFactoryImpl.IN_BITMAP_SUPPORTED) {
-      return;
-    }
-    Bitmap inBitmap = Bitmap.createBitmap(20, 20, Bitmap.Config.ARGB_8888);
-
-    BitmapFactory.Options options = new BitmapFactory.Options();
-    options.inBitmap = inBitmap;
-
-    final Bitmap outBitmap = mWebpBitmapFactory.decodeStream(
-        getTestWebpInputStream(),
-        null,
-        options);
-
-    assertNotNull("Bitmap should not be null", outBitmap);
-    assertSame("Output bitmap shuold be the same as input bitmap", inBitmap, outBitmap);
-    assertEquals("Bitmap pixels should be red", 0xFFFF0100, outBitmap.getPixel(5, 8));
-  }
-
-  @Test
-  public void testByteArrayDecode() throws Throwable {
-    byte[] data = ByteStreams.toByteArray(getTestWebpInputStream());
-    final Bitmap bitmap = mWebpBitmapFactory.decodeByteArray(
-        data,
-        0,
-        data.length,
-        null);
-
-    testBitmapDefault(bitmap, 20, 20);
-  }
-
-  @Test
-  public void testOutMimeType() throws Throwable {
-    BitmapFactory.Options options = new BitmapFactory.Options();
-
-    if (options.outMimeType != null) {
-      // Not all devices are able to get this info from the image
-      assertEquals("Mime type should be detected properly", "image/webp", options.outMimeType);
-    }
-
-    WebpBitmapFactoryImpl.hookDecodeStream(getTestJpegInputStream(), null, options);
-    assertEquals("Mime type should be detected properly", "image/jpeg", options.outMimeType);
-  }
-
-  @Test
-  public void testInTempStorage() throws Throwable {
-    BitmapFactory.Options options = new BitmapFactory.Options();
-    options.inTempStorage = new byte[128 * 1024];
-
-    Bitmap bitmap = mWebpBitmapFactory.decodeStream(
-        getTestWebpInputStream(),
-        null,
-        options);
-    testBitmapDefault(bitmap, 20, 20);
-  }
-
-  @Test
-  public void testInSampleSize() throws Throwable {
-    BitmapFactory.Options options = new BitmapFactory.Options();
-    options.inSampleSize = 2;
-
-    final Bitmap bitmap = mWebpBitmapFactory.decodeStream(
-        getTestWebpInputStream(),
-        null,
-        options);
-
-    testBitmapDefault(bitmap, 10, 10);
-  }
-
-  @Test
-  public void testOutWidthHeight() throws Throwable {
-    BitmapFactory.Options options = new BitmapFactory.Options();
-
-    final Bitmap bitmap = mWebpBitmapFactory.decodeStream(
-        getTestWebpInputStream(),
-        null,
-        options);
-
-    assertNotNull("Bitmap should not be null", bitmap);
-    assertEquals("Width should be scaled", 20, options.outWidth);
-    assertEquals("Height should be scaled", 20, options.outHeight);
-  }
-
-  @Test
-  public void testOutPadding() throws Throwable {
-    Rect outPadding = new Rect();
-
-    mWebpBitmapFactory.decodeStream(
-        getTestWebpInputStream(),
-        outPadding,
-        null);
-
-    assertNotNull("Padding rect should not be null", outPadding);
-    assertEquals("Padding rect for webp should be not supported)", -1, outPadding.top);
-    assertEquals("Padding rect for webp should be not supported)", -1, outPadding.left);
-    assertEquals("Padding rect for webp should be not supported)", -1, outPadding.bottom);
-    assertEquals("Padding rect for webp should be not supported)", -1, outPadding.right);
-  }
-
-  @Test
-  public void testWebpFileDescriptorDecode() throws Throwable {
-    FileDescriptor fd = getImageFileDescriptor("redsquare.webp");
-    final Bitmap bitmap = mWebpBitmapFactory.decodeFileDescriptor(
-        fd,
-        null,
-        null);
-
-    testBitmapDefault(bitmap, 20, 20);
-  }
-
-  @Test
-  public void testJpegFileDescriptorDecode() throws Throwable {
-    FileDescriptor fd = getImageFileDescriptor("redsquare.jpg");
-    final Bitmap bitmap = mWebpBitmapFactory.decodeFileDescriptor(
-        fd,
-        null,
-        null);
-
-    testBitmapDefault(bitmap, 20, 20);
-  }
-
-  @Test
-  public void testInScaled() throws Throwable {
-    BitmapFactory.Options options = new BitmapFactory.Options();
-    options.inScaled = true;
-    options.inScreenDensity = 240;
-    options.inDensity = 480;
-    options.inTargetDensity = 240;
-
-    final Bitmap bitmap = mWebpBitmapFactory.decodeStream(
-        getTestWebpInputStream(),
-        null,
-        options);
-
-    testBitmapDefault(bitmap, 10, 10);
-  }
-
-  @Test
-  public void testInScaled2() throws Throwable {
-    BitmapFactory.Options options = new BitmapFactory.Options();
-    options.inScaled = true;
-    options.inScreenDensity = 480;
-    options.inDensity = 480;
-    options.inTargetDensity = 240;
-
-    final Bitmap bitmap = mWebpBitmapFactory.decodeStream(
-        getTestWebpInputStream(),
-        null,
-        options);
-
-    testBitmapDefault(bitmap, 20, 20);
-  }
-
-  @Test
-  public void testInScaled3() throws Throwable {
-    BitmapFactory.Options options = new BitmapFactory.Options();
-    options.inScaled = true;
-    options.inScreenDensity = 240;
-    options.inDensity = 0;
-    options.inTargetDensity = 240;
-
-    final Bitmap bitmap = mWebpBitmapFactory.decodeStream(
-        getTestWebpInputStream(),
-        null,
-        options);
-
-    testBitmapDefault(bitmap, 20, 20);
-  }
-
-  private void testBitmapDefault(Bitmap bitmap, int width, int height) {
-    assertNotNull("Bitmap should not be null", bitmap);
-    assertEquals("Width should be set properly", width, bitmap.getWidth());
-    assertEquals("Height should be set properly", height, bitmap.getHeight());
-
-    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) {
-      // TODO 8639341 - In GB colors are not decoded exactly as they are into the image
-      assertEquals("Bitmap pixels should be red", 0xFFFF0100, bitmap.getPixel(1, 1));
-    }
-  }
-}
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/WebpDecodingTest.java b/static-webp/src/androidTest/java/com/facebook/webpsupport/WebpDecodingTest.java
deleted file mode 100644
index fa4346f4d..000000000
--- a/static-webp/src/androidTest/java/com/facebook/webpsupport/WebpDecodingTest.java
+++ /dev/null
@@ -1,184 +0,0 @@
-/*
- * Copyright (c) 2015-present, Facebook, Inc.
- * All rights reserved.
- *
- * This source code is licensed under the BSD-style license found in the
- * LICENSE file in the root directory of this source tree. An additional grant
- * of patent rights can be found in the PATENTS file in the same directory.
- */
-
-package com.facebook.webpsupport;
-
-import java.io.FileDescriptor;
-import java.io.IOException;
-import java.io.InputStream;
-import java.lang.reflect.Method;
-
-import android.app.Instrumentation;
-import android.graphics.Bitmap;
-import android.os.MemoryFile;
-import android.support.test.InstrumentationRegistry;
-import android.support.test.runner.AndroidJUnit4;
-import android.test.InstrumentationTestCase;
-
-import com.facebook.common.internal.ByteStreams;
-import com.facebook.common.internal.Throwables;
-import com.facebook.imagepipeline.core.ImagePipelineConfig;
-import com.facebook.imagepipeline.core.ImagePipelineFactory;
-
-import org.junit.Before;
-import org.junit.Test;
-import org.junit.runner.RunWith;
-
-/**
- * This is the test in order to directly decoding all types of webp images
- */
-@RunWith(AndroidJUnit4.class)
-public class WebpDecodingTest extends InstrumentationTestCase {
-
-  private static Method sGetFileDescriptorMethod;
-
-  private Instrumentation mInstrumentation;
-
-  private WebpBitmapFactoryImpl mWebpBitmapFactory;
-
-  @Override
-  @Before
-  public void setUp() {
-    mInstrumentation = InstrumentationRegistry.getInstrumentation();
-    mWebpBitmapFactory = new WebpBitmapFactoryImpl();
-    ImagePipelineConfig.Builder configBuilder =
-        ImagePipelineConfig.newBuilder(mInstrumentation.getContext())
-            .experiment().setWebpBitmapFactory(mWebpBitmapFactory);
-    ImagePipelineFactory.initialize(configBuilder.build());
-  }
-
-  private MemoryFile getMemoryFile(String path) {
-    try {
-      byte[] data = ByteStreams.toByteArray(getTestImageInputStream(path));
-      MemoryFile memoryFile = new MemoryFile(null, data.length);
-      memoryFile.allowPurging(false);
-      memoryFile.writeBytes(data, 0, 0, data.length);
-      return memoryFile;
-    } catch (IOException e) {
-      throw Throwables.propagate(e);
-    }
-  }
-
-  private synchronized Method getFileDescriptorMethod() {
-    if (sGetFileDescriptorMethod == null) {
-      try {
-        sGetFileDescriptorMethod = MemoryFile.class.getDeclaredMethod("getFileDescriptor");
-      } catch (Exception e) {
-        throw Throwables.propagate(e);
-      }
-    }
-    return sGetFileDescriptorMethod;
-  }
-
-  private FileDescriptor getMemoryFileDescriptor(MemoryFile memoryFile) {
-    try {
-      Object rawFD = getFileDescriptorMethod().invoke(memoryFile);
-      return (FileDescriptor) rawFD;
-    } catch (Exception e) {
-      throw Throwables.propagate(e);
-    }
-  }
-
-  private InputStream getTestImageInputStream(String path) {
-    try {
-      return mInstrumentation.getContext().getResources().getAssets().open(path);
-    } catch (IOException e) {
-      throw Throwables.propagate(e);
-    }
-  }
-
-  @Test
-  public void test_webp_extended_decoding_inputstream_bitmap() throws Throwable {
-    final Bitmap bitmap = mWebpBitmapFactory.decodeStream(
-        getTestImageInputStream("webp_e.webp"),
-        null,
-        null);
-    assertBitmap(bitmap, 480, 320);
-  }
-
-  @Test
-  public void test_webp_extended_decoding_filedescriptor_bitmap() throws Throwable {
-    final MemoryFile memoryFile =  getMemoryFile("webp_e.webp");
-    final Bitmap bitmap = mWebpBitmapFactory.decodeFileDescriptor(
-        getMemoryFileDescriptor(memoryFile),
-        null,
-        null);
-    memoryFile.close();
-    assertBitmap(bitmap, 480, 320);
-  }
-
-  @Test
-  public void test_webp_extended_with_alpha_decoding_inputstream_bitmap() throws Throwable {
-    final Bitmap bitmap = mWebpBitmapFactory.decodeStream(
-        getTestImageInputStream("webp_ea.webp"),
-        null,
-        null);
-
-    assertBitmap(bitmap, 400 ,301);
-  }
-
-  @Test
-  public void test_webp_extended_with_alpha_decoding_filedescriptor_bitmap() throws Throwable {
-    final MemoryFile memoryFile =  getMemoryFile("webp_ea.webp");
-    final Bitmap bitmap = mWebpBitmapFactory.decodeFileDescriptor(
-        getMemoryFileDescriptor(memoryFile),
-        null,
-        null);
-    memoryFile.close();
-    assertBitmap(bitmap, 400 ,301);
-  }
-
-  @Test
-  public void test_webp_lossless_decoding_inputstream_bitmap() throws Throwable {
-    final Bitmap bitmap = mWebpBitmapFactory.decodeStream(
-        getTestImageInputStream("webp_ll.webp"),
-        null,
-        null);
-
-    assertBitmap(bitmap, 400, 301);
-  }
-
-  @Test
-  public void test_webp_lossless_decoding_filedescriptor_bitmap() throws Throwable {
-    final MemoryFile memoryFile =  getMemoryFile("webp_ll.webp");
-    final Bitmap bitmap = mWebpBitmapFactory.decodeFileDescriptor(
-        getMemoryFileDescriptor(memoryFile),
-        null,
-        null);
-    memoryFile.close();
-    assertBitmap(bitmap, 400, 301);
-  }
-
-  @Test
-  public void test_webp_plain_inputstream_bitmap() throws Throwable {
-    final Bitmap bitmap = mWebpBitmapFactory.decodeStream(
-        getTestImageInputStream("webp_plain.webp"),
-        null,
-        null);
-
-    assertBitmap(bitmap, 320, 214);
-  }
-
-  @Test
-  public void test_webp_plain_decoding_filedescriptor_bitmap() throws Throwable {
-    final MemoryFile memoryFile =  getMemoryFile("webp_plain.webp");
-    final Bitmap bitmap = mWebpBitmapFactory.decodeFileDescriptor(
-        getMemoryFileDescriptor(memoryFile),
-        null,
-        null);
-    memoryFile.close();
-    assertBitmap(bitmap, 320, 214);
-  }
-
-  private void assertBitmap(Bitmap bitmap, int width, int height) {
-    assertNotNull("Bitmap should not be null", bitmap);
-    assertEquals("Width should be decoded properly", width, bitmap.getWidth());
-    assertEquals("Height should be decoded properly", height, bitmap.getHeight());
-  }
-}
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/redsquare.jpg b/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/redsquare.jpg
deleted file mode 100644
index 60d17a036..000000000
Binary files a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/redsquare.jpg and /dev/null differ
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/redsquare.webp b/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/redsquare.webp
deleted file mode 100644
index f270ca780..000000000
Binary files a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/redsquare.webp and /dev/null differ
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_e.webp b/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_e.webp
deleted file mode 100644
index 4a714638f..000000000
Binary files a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_e.webp and /dev/null differ
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_ea.webp b/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_ea.webp
deleted file mode 100644
index f7dc20839..000000000
Binary files a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_ea.webp and /dev/null differ
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_ll.webp b/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_ll.webp
deleted file mode 100644
index ba3944709..000000000
Binary files a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_ll.webp and /dev/null differ
diff --git a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_plain.webp b/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_plain.webp
deleted file mode 100644
index 0da983e2c..000000000
Binary files a/static-webp/src/androidTest/java/com/facebook/webpsupport/assets/webp_plain.webp and /dev/null differ
diff --git a/tools/stetho/gradle.properties b/tools/stetho/gradle.properties
index d48035dcc..250b9b7ab 100644
--- a/tools/stetho/gradle.properties
+++ b/tools/stetho/gradle.properties
@@ -1,3 +1,12 @@
+systemProp.file.encoding=utf-8
+
+GROUP_ID=com.meiyou.fresco
+DEPLOY_VERSION=0.0.10-linhonghong-SNAPSHOT
+
+deployToUrl=http\://192.168.10.230\:8081/nexus/content/repositories/snapshots/
+deployUserName=admin
+deployPassword=admin123
+PACKAGE_FORMAT=aar
 POM_NAME=Facebook Stetho
 POM_DESCRIPTION=Fresco plugin for Stetho
 POM_ARTIFACT_ID=stetho
