diff --git a/imagepipeline/src/main/java/com/facebook/imagepipeline/producers/ResizeAndRotateProducer.java b/imagepipeline/src/main/java/com/facebook/imagepipeline/producers/ResizeAndRotateProducer.java
index e131ec6df..a4131465c 100644
--- a/imagepipeline/src/main/java/com/facebook/imagepipeline/producers/ResizeAndRotateProducer.java
+++ b/imagepipeline/src/main/java/com/facebook/imagepipeline/producers/ResizeAndRotateProducer.java
@@ -189,8 +189,14 @@ private void doTransform(EncodedImage encodedImage, boolean isLast) {
         return null;
       }
       String originalSize = encodedImage.getWidth() + "x" + encodedImage.getHeight();
-      String requestedSize =
-          imageRequest.getResizeOptions().width + "x" + imageRequest.getResizeOptions().height;
+
+      String requestedSize;
+      if (imageRequest.getResizeOptions() != null) {
+        requestedSize = imageRequest.getResizeOptions().width + "x" + imageRequest.getResizeOptions().height;
+      } else {
+        requestedSize = "-1x-1";
+      }
+
       String fraction = numerator > 0 ? numerator + "/8" : "";
       return ImmutableMap.of(
           ORIGINAL_SIZE_KEY, originalSize,
@@ -216,9 +222,14 @@ private static TriState shouldTransform(
   }
 
   @VisibleForTesting static float determineResizeRatio(
-      ResizeOptions resizeOptions,
-      int width,
-      int height) {
+          ResizeOptions resizeOptions,
+          int width,
+          int height) {
+
+    if (resizeOptions == null) {
+      return 1.0f;
+    }
+
     final float widthRatio = ((float) resizeOptions.width) / width;
     final float heightRatio = ((float) resizeOptions.height) / height;
     float ratio = Math.max(widthRatio, heightRatio);
