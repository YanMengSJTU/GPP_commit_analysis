diff --git a/imagepipeline-base/src/main/java/com/facebook/imageformat/ImageFormatCheckerUtils.java b/imagepipeline-base/src/main/java/com/facebook/imageformat/ImageFormatCheckerUtils.java
index 0e0c56094..5dd17932b 100644
--- a/imagepipeline-base/src/main/java/com/facebook/imageformat/ImageFormatCheckerUtils.java
+++ b/imagepipeline-base/src/main/java/com/facebook/imageformat/ImageFormatCheckerUtils.java
@@ -75,9 +75,10 @@ public static int containsPattern(
     }
 
     for (int i = 0; i < (byteArray.length - pattern.length); i++) {
-      if (byteArray[i] == pattern[i]) {
-        for (int j = 0; j < pattern.length; j++) {
-          if (byteArray[i + j] == pattern[j]) return i;
+      if (byteArray[i] == pattern[0]) {
+        for (int j = 1; j < pattern.length; j++) {
+          if (byteArray[i + j] != pattern[j]) break;
+          if (j == pattern.length - 1) return i;
         }
       }
     }
