diff --git a/animated-gif/src/main/jni/Application.mk b/animated-gif/src/main/jni/Application.mk
index 49be78eb8..6ce59152d 100644
--- a/animated-gif/src/main/jni/Application.mk
+++ b/animated-gif/src/main/jni/Application.mk
@@ -6,7 +6,7 @@ APP_ABI := armeabi-v7a arm64-v8a x86 x86_64
 APP_MK_DIR := $(dir $(lastword $(MAKEFILE_LIST)))
 NDK_MODULE_PATH := $(APP_MK_DIR)$(HOST_DIRSEP)$(APP_MK_DIR)../../../nativedeps/merge
 
-APP_STL := gnustl_static
+APP_STL := c++_static
 
 # Make sure every shared lib includes a .note.gnu.build-id header
 APP_LDFLAGS := -Wl,--build-id
@@ -19,5 +19,5 @@ NDK_TOOLCHAIN_VERSION := clang
 # We also need to make sure that our library does not use any stl functions
 # coming from other stl implementations as well
 
-# This hides all symbols exported from libgnustl_static
-FRESCO_CPP_LDFLAGS := -Wl,--gc-sections,--exclude-libs,libgnustl_static.a
+# This hides all symbols exported from libc++_static
+FRESCO_CPP_LDFLAGS := -Wl,--gc-sections,--exclude-libs,libc++_static.a
diff --git a/imagepipeline-backends/imagepipeline-okhttp3/src/main/java/com/facebook/imagepipeline/backends/okhttp3/OkHttpNetworkFetcher.java b/imagepipeline-backends/imagepipeline-okhttp3/src/main/java/com/facebook/imagepipeline/backends/okhttp3/OkHttpNetworkFetcher.java
index 756346b63..55c9c244b 100644
--- a/imagepipeline-backends/imagepipeline-okhttp3/src/main/java/com/facebook/imagepipeline/backends/okhttp3/OkHttpNetworkFetcher.java
+++ b/imagepipeline-backends/imagepipeline-okhttp3/src/main/java/com/facebook/imagepipeline/backends/okhttp3/OkHttpNetworkFetcher.java
@@ -19,12 +19,14 @@
 import com.facebook.imagepipeline.producers.NetworkFetcher;
 import com.facebook.imagepipeline.producers.ProducerContext;
 import java.io.IOException;
+import java.util.Collections;
 import java.util.HashMap;
 import java.util.Map;
 import java.util.concurrent.Executor;
 import javax.annotation.Nullable;
 import okhttp3.CacheControl;
 import okhttp3.Call;
+import okhttp3.Headers;
 import okhttp3.OkHttpClient;
 import okhttp3.Request;
 import okhttp3.Response;
diff --git a/imagepipeline/src/main/java/com/facebook/imagepipeline/request/ImageRequest.java b/imagepipeline/src/main/java/com/facebook/imagepipeline/request/ImageRequest.java
index 852b74cf3..93b69d2db 100644
--- a/imagepipeline/src/main/java/com/facebook/imagepipeline/request/ImageRequest.java
+++ b/imagepipeline/src/main/java/com/facebook/imagepipeline/request/ImageRequest.java
@@ -31,6 +31,7 @@
 import com.facebook.imagepipeline.listener.RequestListener;
 import com.facebook.imageutils.BitmapUtil;
 import java.io.File;
+import java.util.Map;
 import javax.annotation.Nullable;
 import javax.annotation.concurrent.Immutable;
 
diff --git a/imagepipeline/src/main/java/com/facebook/imagepipeline/request/ImageRequestBuilder.java b/imagepipeline/src/main/java/com/facebook/imagepipeline/request/ImageRequestBuilder.java
index 79ddf3df5..73a8dc115 100644
--- a/imagepipeline/src/main/java/com/facebook/imagepipeline/request/ImageRequestBuilder.java
+++ b/imagepipeline/src/main/java/com/facebook/imagepipeline/request/ImageRequestBuilder.java
@@ -21,6 +21,7 @@
 import com.facebook.imagepipeline.core.ImagePipelineConfig;
 import com.facebook.imagepipeline.core.ImagePipelineExperiments;
 import com.facebook.imagepipeline.listener.RequestListener;
+import java.util.Map;
 import javax.annotation.Nullable;
 
 /**
diff --git a/imagepipeline/src/main/jni/Application.mk b/imagepipeline/src/main/jni/Application.mk
index 751a31545..84b0e607c 100644
--- a/imagepipeline/src/main/jni/Application.mk
+++ b/imagepipeline/src/main/jni/Application.mk
@@ -6,7 +6,7 @@ APP_ABI := armeabi-v7a arm64-v8a x86 x86_64
 APP_MK_DIR := $(dir $(lastword $(MAKEFILE_LIST)))
 NDK_MODULE_PATH := $(APP_MK_DIR)$(HOST_DIRSEP)$(APP_MK_DIR)../../../nativedeps/merge
 
-APP_STL := gnustl_static
+APP_STL :=  c++_static
 
 # Make sure every shared lib includes a .note.gnu.build-id header
 APP_LDFLAGS := -Wl,--build-id
@@ -19,5 +19,5 @@ NDK_TOOLCHAIN_VERSION := clang
 # We also need to make sure that our library does not use any stl functions
 # coming from other stl implementations as well
 
-# This hides all symbols exported from libgnustl_static
+# This hides all symbols exported from libc++_static
 FRESCO_CPP_LDFLAGS := -Wl,--gc-sections
diff --git a/native-filters/src/main/jni/Application.mk b/native-filters/src/main/jni/Application.mk
index 3b14a1d7d..26cec7877 100644
--- a/native-filters/src/main/jni/Application.mk
+++ b/native-filters/src/main/jni/Application.mk
@@ -6,7 +6,7 @@ APP_ABI := armeabi-v7a arm64-v8a x86 x86_64
 APP_MK_DIR := $(dir $(lastword $(MAKEFILE_LIST)))
 NDK_MODULE_PATH := $(APP_MK_DIR)$(HOST_DIRSEP)$(APP_MK_DIR)../../../nativedeps/merge
 
-APP_STL := gnustl_static
+APP_STL := c++_static
 
 # Make sure every shared lib includes a .note.gnu.build-id header
 APP_LDFLAGS := -Wl,--build-id
@@ -18,5 +18,5 @@ NDK_TOOLCHAIN_VERSION := clang
 # We also need to make sure that our library does not use any stl functions
 # coming from other stl implementations as well
 
-# This hides all symbols exported from libgnustl_static
+# This hides all symbols exported from libc++_static
 FRESCO_CPP_LDFLAGS := -Wl,--gc-sections
\ No newline at end of file
diff --git a/native-imagetranscoder/src/main/jni/Application.mk b/native-imagetranscoder/src/main/jni/Application.mk
index 820bf9132..36591fc16 100644
--- a/native-imagetranscoder/src/main/jni/Application.mk
+++ b/native-imagetranscoder/src/main/jni/Application.mk
@@ -6,7 +6,7 @@ APP_ABI := armeabi-v7a arm64-v8a x86 x86_64
 APP_MK_DIR := $(dir $(lastword $(MAKEFILE_LIST)))
 NDK_MODULE_PATH := $(APP_MK_DIR)$(HOST_DIRSEP)$(APP_MK_DIR)../../../nativedeps/merge
 
-APP_STL := gnustl_static
+APP_STL := c++_static
 
 # Make sure every shared lib includes a .note.gnu.build-id header
 APP_LDFLAGS := -Wl,--build-id
@@ -19,5 +19,5 @@ NDK_TOOLCHAIN_VERSION := clang
 # We also need to make sure that our library does not use any stl functions
 # coming from other stl implementations as well
 
-# This hides all symbols exported from libgnustl_static
+# This hides all symbols exported from libc++_static
 FRESCO_CPP_LDFLAGS := -Wl,--gc-sections
\ No newline at end of file
diff --git a/static-webp/src/main/jni/Application.mk b/static-webp/src/main/jni/Application.mk
index 49be78eb8..6ce59152d 100644
--- a/static-webp/src/main/jni/Application.mk
+++ b/static-webp/src/main/jni/Application.mk
@@ -6,7 +6,7 @@ APP_ABI := armeabi-v7a arm64-v8a x86 x86_64
 APP_MK_DIR := $(dir $(lastword $(MAKEFILE_LIST)))
 NDK_MODULE_PATH := $(APP_MK_DIR)$(HOST_DIRSEP)$(APP_MK_DIR)../../../nativedeps/merge
 
-APP_STL := gnustl_static
+APP_STL := c++_static
 
 # Make sure every shared lib includes a .note.gnu.build-id header
 APP_LDFLAGS := -Wl,--build-id
@@ -19,5 +19,5 @@ NDK_TOOLCHAIN_VERSION := clang
 # We also need to make sure that our library does not use any stl functions
 # coming from other stl implementations as well
 
-# This hides all symbols exported from libgnustl_static
-FRESCO_CPP_LDFLAGS := -Wl,--gc-sections,--exclude-libs,libgnustl_static.a
+# This hides all symbols exported from libc++_static
+FRESCO_CPP_LDFLAGS := -Wl,--gc-sections,--exclude-libs,libc++_static.a
