diff --git a/imagepipeline/src/main/java/com/facebook/imagepipeline/core/ProducerSequenceFactory.java b/imagepipeline/src/main/java/com/facebook/imagepipeline/core/ProducerSequenceFactory.java
index 4b98cefe2..c5dbd6928 100644
--- a/imagepipeline/src/main/java/com/facebook/imagepipeline/core/ProducerSequenceFactory.java
+++ b/imagepipeline/src/main/java/com/facebook/imagepipeline/core/ProducerSequenceFactory.java
@@ -193,8 +193,8 @@ private static void validateEncodedImageRequest(ImageRequest imageRequest) {
       return getLocalResourceFetchSequence();
     } else {
       String uriString = uri.toString();
-      if (!TextUtils.isEmpty(uriString) && uriString.length() > 30) {
-        uriString = uriStirng.substring(0, 30);
+      if (!TextUtils.isEmpty(uriString)) {
+        uriString.substring(0, Math.min(30, uriString.length));
       }
       throw new RuntimeException(
           "Unsupported image type! Uri is: " + uriString);
