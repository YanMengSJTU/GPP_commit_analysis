diff --git a/build-config/gradle-push.gradle b/build-config/gradle-push.gradle
index 099fe85..8f4d549 100644
--- a/build-config/gradle-push.gradle
+++ b/build-config/gradle-push.gradle
@@ -12,26 +12,26 @@ def isLocal() {
 
 def getReleaseRepositoryUrl() {
     if (this.isLocal()) {
-        return hasProperty('RELEASE_REPOSITORY_LOCAL') ? RELEASE_REPOSITORY_LOCAL : "file://${System.env.HOME}/.m2/repository"
+        return hasProperty('RELEASE_REPOSITORY_LOCAL') ? RELEASE_REPOSITORY_LOCAL : "https://foursquare.artifactoryonline.com/foursquare/libs-public"
     } else {
-        return hasProperty('RELEASE_REPOSITORY_URL') ? RELEASE_REPOSITORY_URL : "https://oss.sonatype.org/service/local/staging/deploy/maven2/"
+        return hasProperty('RELEASE_REPOSITORY_URL') ? RELEASE_REPOSITORY_URL : "https://foursquare.artifactoryonline.com/foursquare/libs-public"
     }
 }
 
 def getSnapshotRepositoryUrl() {
     if (this.isLocal()) {
-        return hasProperty('SNAPSHOT_REPOSITORY_LOCAL') ? SNAPSHOT_REPOSITORY_LOCAL : "file://${System.env.HOME}/.m2/repository"
+        return hasProperty('SNAPSHOT_REPOSITORY_LOCAL') ? SNAPSHOT_REPOSITORY_LOCAL : "https://foursquare.artifactoryonline.com/foursquare/libs-public"
     } else {
-        return hasProperty('SNAPSHOT_REPOSITORY_URL') ? SNAPSHOT_REPOSITORY_URL : "https://oss.sonatype.org/content/repositories/snapshots/"
+        return hasProperty('SNAPSHOT_REPOSITORY_URL') ? SNAPSHOT_REPOSITORY_URL : "https://foursquare.artifactoryonline.com/foursquare/libs-public"
     }
 }
 
 def getRepositoryUsername() {
-    return hasProperty('SONATYPE_USERNAME') ? SONATYPE_USERNAME : ""
+    return hasProperty('ARTIFACTORY_USERNAME') ? ARTIFACTORY_USERNAME : ""
 }
 
 def getRepositoryPassword() {
-    return hasProperty('SONATYPE_PASSWORD') ? SONATYPE_PASSWORD : ""
+    return hasProperty('ARTIFACTORY_PASSWORD') ? ARTIFACTORY_PASSWORD : ""
 }
 
 android.libraryVariants.all { variant ->
diff --git a/build.gradle b/build.gradle
index b65f6a5..5d2fe5d 100644
--- a/build.gradle
+++ b/build.gradle
@@ -11,8 +11,11 @@ buildscript {
 
 allprojects {
     repositories {
-        google()
+        maven {
+            url "https://maven.google.com"
+        }
         jcenter()
+        mavenCentral()
     }
 
     tasks.withType(JavaCompile) {
@@ -22,14 +25,14 @@ allprojects {
 }
 
 ext {
-    compileSdkVersion = 28
+    compileSdkVersion = 27
     targetSdkVersion = compileSdkVersion
     minSdkVersion = 14
 
     buildToolsVersion = '28.0.3'
 
-    supportLibVersion = '28.0.0'
-    playServicesVersion = '15.0.1'
+    supportLibVersion = '27.1.1'
+    playServicesVersion = '16.0.0'
     workVersion = '1.0.0'
     stethoVersion = '1.5.0'
     junitVersion = '4.12'
diff --git a/gradle.properties b/gradle.properties
index f6e170b..b7979e3 100644
--- a/gradle.properties
+++ b/gradle.properties
@@ -1,3 +1,3 @@
-#VERSION_NAME=1.3.0-rc1
-VERSION_NAME=1.3.0-SNAPSHOT
+VERSION_NAME=1.3.0-rc1-fsq
+#VERSION_NAME=1.3.0-SNAPSHOT
 VERSION_CODE=1
\ No newline at end of file
diff --git a/library/build.gradle b/library/build.gradle
index 0ec5375..ec7f9de 100644
--- a/library/build.gradle
+++ b/library/build.gradle
@@ -4,6 +4,10 @@ apply from: '../build-config/gradle-quality.gradle'
 
 archivesBaseName = 'android-job'
 
+configurations.all {
+    resolutionStrategy.force "android.arch.core:common:1.1.0"
+}
+
 dependencies {
     compileOnly "com.google.android.gms:play-services-gcm:$playServicesVersion"
     compileOnly "android.arch.work:work-runtime:$workVersion"
@@ -34,7 +38,7 @@ android {
 
     resourcePrefix 'job_'
 
-    useLibrary 'android.test.mock'
+    //useLibrary 'android.test.mock'
 
     defaultConfig {
         minSdkVersion rootProject.ext.minSdkVersion
diff --git a/library/src/main/java/com/evernote/android/job/util/Device.java b/library/src/main/java/com/evernote/android/job/util/Device.java
index f7ef01a..073994d 100644
--- a/library/src/main/java/com/evernote/android/job/util/Device.java
+++ b/library/src/main/java/com/evernote/android/job/util/Device.java
@@ -15,6 +15,7 @@
  */
 package com.evernote.android.job.util;
 
+import android.annotation.SuppressLint;
 import android.annotation.TargetApi;
 import android.content.Context;
 import android.content.Intent;
@@ -116,15 +117,16 @@ public static boolean isIdle(Context context) {
         }
     }
 
+    @SuppressLint("WrongConstant")
     @SuppressWarnings("deprecation")
     private static boolean isRoaming(ConnectivityManager connectivityManager, NetworkInfo networkInfo) {
-        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.P) {
+        if (Build.VERSION.SDK_INT < 29) {
             return networkInfo.isRoaming();
         }
 
         try {
             NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());
-            return capabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_NOT_ROAMING);
+            return capabilities.hasCapability(18);
         } catch (Exception e) {
             return networkInfo.isRoaming();
         }
diff --git a/library/src/main/java/com/evernote/android/job/v26/JobProxy26.java b/library/src/main/java/com/evernote/android/job/v26/JobProxy26.java
index 6547bcc..583ebd6 100644
--- a/library/src/main/java/com/evernote/android/job/v26/JobProxy26.java
+++ b/library/src/main/java/com/evernote/android/job/v26/JobProxy26.java
@@ -67,8 +67,8 @@ protected boolean isJobInfoScheduled(@Nullable JobInfo info, @NonNull JobRequest
     protected int convertNetworkType(@NonNull JobRequest.NetworkType networkType) {
         switch (networkType) {
             case METERED:
-                if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.P) {
-                    return JobInfo.NETWORK_TYPE_CELLULAR;
+                if (Build.VERSION.SDK_INT >= 29) {
+                    return 4;
                 } else {
                     return JobInfo.NETWORK_TYPE_METERED;
                 }
