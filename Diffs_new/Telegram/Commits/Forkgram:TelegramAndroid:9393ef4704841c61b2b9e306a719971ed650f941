diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java b/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
index ee2e20fe7..7e5dbf1ad 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
@@ -260,15 +260,18 @@ public void run() {
     private final Comparator<TLRPC.TL_dialog> dialogComparator = new Comparator<TLRPC.TL_dialog>() {
         @Override
         public int compare(TLRPC.TL_dialog dialog1, TLRPC.TL_dialog dialog2) {
+            boolean reverseOrder = mainPreferences.getBoolean("reverseOrderPins", false);
             if (!dialog1.pinned && dialog2.pinned) {
                 return 1;
             } else if (dialog1.pinned && !dialog2.pinned) {
                 return -1;
             } else if (dialog1.pinned && dialog2.pinned) {
                 if (dialog1.pinnedNum < dialog2.pinnedNum) {
-                    return 1;
-                } else if (dialog1.pinnedNum > dialog2.pinnedNum) {
+                    if (!reverseOrder) return 1;
                     return -1;
+                } else if (dialog1.pinnedNum > dialog2.pinnedNum) {
+                    if (!reverseOrder) return -1;
+                    return 1;
                 } else {
                     return 0;
                 }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java
index c44d06884..ee0136074 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java
@@ -165,6 +165,7 @@
     private int inappCameraRow;
     private int forkSectionRow;
     private int syncPinsRow;
+    private int reverseOrderPinsRow;
 
     private final static int edit_name = 1;
     private final static int logout = 2;
@@ -287,6 +288,7 @@ public boolean onFragmentCreate() {
         squareAvatarsRow = rowCount++;
         inappCameraRow = rowCount++;
         syncPinsRow = rowCount++;
+        reverseOrderPinsRow = rowCount++;
         messagesSectionRow = rowCount++;
         messagesSectionRow2 = rowCount++;
         customTabsRow = rowCount++;
@@ -342,9 +344,9 @@ public void onFragmentDestroy() {
         imageUpdater.clear();
     }
 
-    public boolean toggleGlobalMainSetting(String option, View view) {
+    public boolean toggleGlobalMainSetting(String option, View view, boolean byDefault) {
         SharedPreferences preferences = MessagesController.getGlobalMainSettings();
-        boolean optionBool = preferences.getBoolean(option, true);
+        boolean optionBool = preferences.getBoolean(option, byDefault);
         SharedPreferences.Editor editor = preferences.edit();
         editor.putBoolean(option, !optionBool);
         editor.commit();
@@ -462,11 +464,15 @@ public void onItemClick(View view, final int position) {
                     });
                     showDialog(builder.create());
                 } else if (position == enableAnimationsRow) {
-                    toggleGlobalMainSetting("view_animations", view);
+                    toggleGlobalMainSetting("view_animations", view, true);
                 } else if (position == squareAvatarsRow) {
-                    toggleGlobalMainSetting("squareAvatars", view);
+                    toggleGlobalMainSetting("squareAvatars", view, true);
                 } else if (position == syncPinsRow) {
-                    toggleGlobalMainSetting("syncPins", view);
+                    toggleGlobalMainSetting("syncPins", view, true);
+                    MessagesController.getInstance(currentAccount).loadPinnedDialogs(0, null);
+                } else if (position == reverseOrderPinsRow) {
+                    toggleGlobalMainSetting("reverseOrderPins", view, false);
+                    MessagesController.getInstance(currentAccount).sortDialogs(null);
                 } else if (position == inappCameraRow) {
                     SharedConfig.toggleInappCamera();
                     if (view instanceof TextCheckCell) {
@@ -516,7 +522,7 @@ public void onClick(View widget) {
                 } else if (position == clearLogsRow) {
                     FileLog.cleanupLogs();
                 } else if (position == sendByEnterRow) {
-                    toggleGlobalMainSetting("send_by_enter", view);
+                    toggleGlobalMainSetting("send_by_enter", view, true);
                 } else if (position == raiseToSpeakRow) {
                     SharedConfig.toogleRaiseToSpeak();
                     if (view instanceof TextCheckCell) {
@@ -1286,6 +1292,8 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {
                         textCell.setTextAndCheck("Enable In-App Camera", preferences.getBoolean("inappCamera", true), false);
                     } else if (position == syncPinsRow) {
                         textCell.setTextAndCheck("Sync Pinned Dialogs", preferences.getBoolean("syncPins", true), false);
+                    } else if (position == reverseOrderPinsRow) {
+                        textCell.setTextAndCheck("Reverse Pinned Dialogs Order", preferences.getBoolean("reverseOrderPins", true), false);
                     } else if (position == sendByEnterRow) {
                         textCell.setTextAndCheck(LocaleController.getString("SendByEnter", R.string.SendByEnter), preferences.getBoolean("send_by_enter", false), true);
                     } else if (position == saveToGalleryRow) {
@@ -1356,7 +1364,10 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {
         @Override
         public boolean isEnabled(RecyclerView.ViewHolder holder) {
             int position = holder.getAdapterPosition();
-            boolean forkRows = position == squareAvatarsRow || position == inappCameraRow || position == syncPinsRow;
+            boolean forkRows = position == squareAvatarsRow 
+            || position == inappCameraRow 
+            || position == syncPinsRow
+            || position == reverseOrderPinsRow;
             return forkRows || position == textSizeRow || position == enableAnimationsRow || position == notificationRow || position == backgroundRow || position == numberRow ||
                     position == askQuestionRow || position == sendLogsRow || position == sendByEnterRow || position == autoplayGifsRow || position == privacyRow ||
                     position == clearLogsRow || position == languageRow || position == usernameRow || position == bioRow ||
@@ -1438,7 +1449,17 @@ public int getItemViewType(int position) {
             }
             if (position == settingsSectionRow || position == supportSectionRow || position == messagesSectionRow || position == contactsSectionRow) {
                 return 1;
-            } else if (position == enableAnimationsRow || position == squareAvatarsRow || position == inappCameraRow || position == syncPinsRow || position == sendByEnterRow || position == saveToGalleryRow || position == autoplayGifsRow || position == raiseToSpeakRow || position == customTabsRow || position == directShareRow) {
+            } else if (position == enableAnimationsRow 
+                    || position == squareAvatarsRow 
+                    || position == inappCameraRow 
+                    || position == syncPinsRow 
+                    || position == reverseOrderPinsRow
+                    || position == sendByEnterRow 
+                    || position == saveToGalleryRow 
+                    || position == autoplayGifsRow 
+                    || position == raiseToSpeakRow 
+                    || position == customTabsRow 
+                    || position == directShareRow) {
                 return 3;
             } else if (position == notificationRow || position == themeRow || position == backgroundRow || position == askQuestionRow || position == sendLogsRow || position == privacyRow || position == clearLogsRow || position == switchBackendButtonRow || position == telegramFaqRow || position == contactsReimportRow || position == textSizeRow || position == languageRow || position == contactsSortRow || position == stickersRow || position == privacyPolicyRow || position == emojiRow || position == dataRow) {
                 return 2;
