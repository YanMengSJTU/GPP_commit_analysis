diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
index b2feae7f7..6dd88d4c6 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
@@ -753,7 +753,8 @@ public boolean onTouch(View v, MotionEvent event) {
                 chatListView.setCacheColorHint(0);
                 try {
                     if (selectedBackground == 1000001) {
-                        ((SizeNotifierRelativeLayout) contentView).setBackgroundImage(R.drawable.background_hd);
+                        //((SizeNotifierRelativeLayout) contentView).setBackgroundImage(R.drawable.background_hd);
+                        ((SizeNotifierRelativeLayout) contentView).setBackgroundImage(themeManager.getDrawable("background_hd", false));
                     } else {
                         File toFile = new File(ApplicationLoader.applicationContext.getFilesDir(), "wallpaper.jpg");
                         if (toFile.exists()) {
@@ -771,7 +772,8 @@ public boolean onTouch(View v, MotionEvent event) {
                             }
                             isCustomTheme = true;
                         } else {
-                            ((SizeNotifierRelativeLayout) contentView).setBackgroundImage(R.drawable.background_hd);
+                            //((SizeNotifierRelativeLayout) contentView).setBackgroundImage(R.drawable.background_hd);
+                            ((SizeNotifierRelativeLayout) contentView).setBackgroundImage(themeManager.getDrawable("background_hd", false));
                         }
                     }
                 } catch (Exception e) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/SettingsWallpapersActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/SettingsWallpapersActivity.java
index 65b33bf40..86a782ab6 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/SettingsWallpapersActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/SettingsWallpapersActivity.java
@@ -29,6 +29,8 @@
 import android.widget.ProgressBar;
 import android.widget.TextView;
 
+import com.teamjihu.ThemeManager;
+
 import org.telegram.android.AndroidUtilities;
 import org.telegram.android.ImageLoader;
 import org.telegram.android.LocaleController;
@@ -67,6 +69,8 @@
     private TLRPC.PhotoSize loadingSize = null;
     private String currentPicturePath;
 
+    private ThemeManager themeManager;
+
     @Override
     public boolean onFragmentCreate() {
         super.onFragmentCreate();
@@ -97,6 +101,7 @@ public void onFragmentDestroy() {
     @Override
     public View createView(LayoutInflater inflater, ViewGroup container) {
         if (fragmentView == null) {
+            themeManager = new ThemeManager(getParentActivity());
             actionBarLayer.setCustomView(R.layout.settings_do_action_layout);
             Button cancelButton = (Button)actionBarLayer.findViewById(R.id.cancel_button);
             cancelButton.setOnClickListener(new View.OnClickListener() {
@@ -304,7 +309,8 @@ private void processSelectedBackground() {
                 FileLoader.getInstance().cancelLoadFile(loadingSize);
             }
             if (selectedBackground == 1000001) {
-                backgroundImage.setImageResource(R.drawable.background_hd);
+                //backgroundImage.setImageResource(R.drawable.background_hd);
+                backgroundImage.setImageDrawable(themeManager.getDrawable("background_hd", false));
                 backgroundImage.setBackgroundColor(0);
                 selectedColor = 0;
             } else if (selectedBackground == -1) {
