diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/Theme.java b/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/Theme.java
index 6ed023aa3..4100ecc92 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/Theme.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/Theme.java
@@ -14,25 +14,8 @@
 import android.content.SharedPreferences;
 import android.content.res.ColorStateList;
 import android.content.res.Resources;
-import android.graphics.Bitmap;
-import android.graphics.BitmapFactory;
-import android.graphics.Canvas;
-import android.graphics.Color;
-import android.graphics.ColorFilter;
-import android.graphics.Paint;
-import android.graphics.Path;
-import android.graphics.PixelFormat;
-import android.graphics.PorterDuff;
-import android.graphics.PorterDuffColorFilter;
-import android.graphics.PorterDuffXfermode;
-import android.graphics.RectF;
-import android.graphics.drawable.BitmapDrawable;
-import android.graphics.drawable.ColorDrawable;
-import android.graphics.drawable.Drawable;
-import android.graphics.drawable.NinePatchDrawable;
-import android.graphics.drawable.RippleDrawable;
-import android.graphics.drawable.ShapeDrawable;
-import android.graphics.drawable.StateListDrawable;
+import android.graphics.*;
+import android.graphics.drawable.*;
 import android.graphics.drawable.shapes.OvalShape;
 import android.graphics.drawable.shapes.RoundRectShape;
 import android.hardware.Sensor;
@@ -44,20 +27,10 @@
 import android.text.TextPaint;
 import android.text.TextUtils;
 import android.util.StateSet;
-
+import io.bettergram.messenger.R;
 import org.json.JSONArray;
 import org.json.JSONObject;
-import org.telegram.messenger.AndroidUtilities;
-import org.telegram.messenger.ApplicationLoader;
-import org.telegram.messenger.BuildVars;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.LocaleController;
-import org.telegram.messenger.MediaController;
-import org.telegram.messenger.MessagesController;
-import org.telegram.messenger.NotificationCenter;
-import io.bettergram.messenger.R;
-import org.telegram.messenger.SharedConfig;
-import org.telegram.messenger.Utilities;
+import org.telegram.messenger.*;
 import org.telegram.messenger.time.SunDate;
 import org.telegram.ui.Components.CombinedDrawable;
 import org.telegram.ui.Components.ThemeEditorView;
@@ -307,6 +280,8 @@ public int getMinimumHeight() {
     public static Drawable avatar_savedDrawable;
     public static Drawable avatar_photoDrawable;
 
+    public static Drawable dialog_favoriteDrawable;
+
     public static Drawable moveUpDrawable;
 
     public static Paint dialogs_tabletSeletedPaint;
@@ -1076,6 +1051,9 @@ public int getMinimumHeight() {
     public static final String key_dialog_activeStateOnlineColor = "dialog_activeStateOnlineColor";
     public static final String key_dialog_activeStateOfflineColor = "dialog_activeStateOfflineColor";
 
+    public static final String key_dialog_favoriteBackgroundColor = "dialog_favoriteBackgroundColor";
+    public static final String key_dialog_favoriteForegroundColor = "dialog_favoriteForegroundColor";
+
     //ununsed
     public static final String key_chat_outBroadcast = "chat_outBroadcast";
     public static final String key_chat_mediaBroadcast = "chat_mediaBroadcast";
@@ -1713,6 +1691,9 @@ public int getMinimumHeight() {
         defaultColors.put(key_dialog_activeStateOnlineColor, 0xff69bc35);
         defaultColors.put(key_dialog_activeStateOfflineColor, 0xffcdcdcd);
 
+        defaultColors.put(key_dialog_favoriteBackgroundColor, 0xFFFFFFFF);
+        defaultColors.put(key_dialog_favoriteForegroundColor, 0xffffc200);
+
         fallbackKeys.put(key_chat_adminText, key_chat_inTimeText);
         fallbackKeys.put(key_chat_adminSelectedText, key_chat_inTimeSelectedText);
         fallbackKeys.put(key_player_progressCachedBackground, key_player_progressBackground);
@@ -2768,6 +2749,8 @@ public static void createCommonResources(Context context) {
             avatar_savedDrawable = resources.getDrawable(R.drawable.bookmark_large);
             avatar_photoDrawable = resources.getDrawable(R.drawable.photo_w);
 
+            dialog_favoriteDrawable = resources.getDrawable(R.drawable.ic_ab_fave);
+
             applyCommonTheme();
         }
     }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java
index 43f2c0aca..48d6b8b0a 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java
@@ -22,9 +22,10 @@
 import org.telegram.tgnet.TLRPC;
 import org.telegram.ui.ActionBar.Theme;
 import org.telegram.ui.Adapters.DialogsAdapter;
-import org.telegram.ui.Components.OnlineIndicator;
 import org.telegram.ui.Components.AvatarDrawable;
 import org.telegram.ui.Components.GroupCreateCheckBox;
+import org.telegram.ui.Components.Indicator.FavoriteIndicator;
+import org.telegram.ui.Components.Indicator.OnlineIndicator;
 
 import java.util.List;
 
@@ -65,7 +66,8 @@
     private ImageReceiver avatarImage = new ImageReceiver(this);
     private AvatarDrawable avatarDrawable = new AvatarDrawable();
 
-    private OnlineIndicator onlineIndicator = new OnlineIndicator(this);
+    private OnlineIndicator onlineIndicator = new OnlineIndicator();
+    private FavoriteIndicator favoriteIndicator = new FavoriteIndicator();
 
     private TLRPC.User user = null;
     private TLRPC.Chat chat = null;
@@ -135,7 +137,8 @@ public DialogCell(Context context, boolean needCheck) {
         Theme.createDialogsResources(context);
         avatarImage.setRoundRadius(AndroidUtilities.dp(26));
 
-        onlineIndicator.radius(avatarImage.getRoundRadius());
+        onlineIndicator.anchorAvatarRadius(avatarImage.getRoundRadius());
+        favoriteIndicator.anchorAvatarRadius(avatarImage.getRoundRadius());
 
         if (needCheck) {
             checkBox = new GroupCreateCheckBox(context);
@@ -152,6 +155,7 @@ public void setDialog(TLRPC.TL_dialog dialog, int i, int type) {
         messageId = 0;
 
         onlineIndicator.dialog(currentDialogId);
+        favoriteIndicator.dialog(currentDialogId);
 
         update(0);
     }
@@ -161,6 +165,7 @@ public void setDialog(CustomDialog dialog) {
         messageId = 0;
 
         onlineIndicator.dialog(customDialog.id);
+        favoriteIndicator.dialog(customDialog.id);
 
         update(0);
     }
@@ -181,6 +186,7 @@ public void setDialog(long dialog_id, MessageObject messageObject, int date) {
         }
 
         onlineIndicator.dialog(dialog_id);
+        favoriteIndicator.dialog(dialog_id);
 
         update(0);
     }
@@ -757,6 +763,7 @@ public void buildLayout() {
         avatarImage.setImageCoords(avatarLeft, avatarTop, AndroidUtilities.dp(52), AndroidUtilities.dp(52));
 
         onlineIndicator.offsetX(avatarLeft).offsetY(avatarTop);
+        favoriteIndicator.offsetX(avatarLeft).offsetY(0);
 
         if (drawError) {
             int w = AndroidUtilities.dp(23 + 8);
@@ -1193,6 +1200,7 @@ protected void onDraw(Canvas canvas) {
         avatarImage.draw(canvas);
 
         onlineIndicator.draw(canvas);
+        favoriteIndicator.draw(canvas);
     }
 
     @Override
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/Indicator/FavoriteIndicator.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/Indicator/FavoriteIndicator.java
new file mode 100644
index 000000000..a5a6d3206
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/Indicator/FavoriteIndicator.java
@@ -0,0 +1,70 @@
+package org.telegram.ui.Components.Indicator;
+
+import android.graphics.Canvas;
+import android.graphics.drawable.Drawable;
+import android.support.v4.graphics.drawable.DrawableCompat;
+import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.MessagesController;
+import org.telegram.messenger.UserConfig;
+import org.telegram.tgnet.TLRPC;
+import org.telegram.ui.ActionBar.Theme;
+
+public class FavoriteIndicator {
+
+    private final int borderWidth = AndroidUtilities.dp(4);
+    private int currentAccount = UserConfig.selectedAccount;
+
+    private int offsetX, offsetY;
+    private int radius;
+
+    private long dialog_id;
+
+    public FavoriteIndicator dialog(long dialog_id) {
+        this.dialog_id = dialog_id;
+        return this;
+    }
+
+    public FavoriteIndicator offsetX(int offsetX) {
+        this.offsetX = offsetX;
+        return this;
+    }
+
+    public FavoriteIndicator offsetY(int offsetY) {
+        this.offsetY = offsetY;
+        return this;
+    }
+
+    public FavoriteIndicator anchorAvatarRadius(int radius) {
+        this.radius = radius;
+        return this;
+    }
+
+    public void draw(Canvas canvas) {
+        if (dialog_id == 0) {
+            return;
+        }
+       
+        TLRPC.TL_dialog dialog = MessagesController.getInstance(currentAccount).dialogs_dict.get(dialog_id);
+        if (dialog != null && dialog.favorite_date > 0) {
+            float x0 = offsetX + radius;
+            float y0 = offsetY + radius;
+            float dx = (float) (x0 + radius * Math.cos(-40 * Math.PI / 180));
+            float dy = (float) (y0 + radius * Math.sin(-40 * Math.PI / 180));
+            Drawable d_bg = Theme.dialog_favoriteDrawable;
+            DrawableCompat.setTint(d_bg, Theme.getColor(Theme.key_dialog_favoriteBackgroundColor));
+
+            float d_bg_size = radius * 0.75f + borderWidth;
+            float pivot_bg = d_bg_size / 2;
+            d_bg.setBounds((int) (dx - pivot_bg), (int) dy, (int) ((dx - pivot_bg) + d_bg_size), (int) (dy + d_bg_size));
+            d_bg.draw(canvas);
+
+            Drawable d_fg = Theme.dialog_favoriteDrawable;
+            DrawableCompat.setTint(d_fg, Theme.getColor(Theme.key_dialog_favoriteForegroundColor));
+            float d_fg_size = (radius * 0.75f) - borderWidth;
+            float pivot_fg = d_fg_size / 2;
+            int top_padding = borderWidth;
+            d_bg.setBounds((int) (dx - pivot_fg), (int) (dy + top_padding), (int) ((dx - pivot_fg) + d_fg_size), (int) ((dy + top_padding) + d_fg_size));
+            d_bg.draw(canvas);
+        }
+    }
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/OnlineIndicator.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/Indicator/OnlineIndicator.java
similarity index 83%
rename from TMessagesProj/src/main/java/org/telegram/ui/Components/OnlineIndicator.java
rename to TMessagesProj/src/main/java/org/telegram/ui/Components/Indicator/OnlineIndicator.java
index ed0738ab7..e827fd63e 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/OnlineIndicator.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/Indicator/OnlineIndicator.java
@@ -1,8 +1,7 @@
-package org.telegram.ui.Components;
+package org.telegram.ui.Components.Indicator;
 
 import android.graphics.Canvas;
 import android.graphics.Paint;
-import android.view.View;
 import org.telegram.messenger.AndroidUtilities;
 import org.telegram.ui.ActionBar.Theme;
 
@@ -13,8 +12,6 @@
 
     private Paint paint = Theme.dialog_activeStatePaint;
 
-    private View parent;
-
     private int offsetX, offsetY;
     private int radius;
 
@@ -22,8 +19,7 @@
 
     private int active = -1;
 
-    public OnlineIndicator(View parent) {
-        this.parent = parent;
+    public OnlineIndicator() {
     }
 
     public OnlineIndicator dialog(long dialog_id) {
@@ -41,7 +37,7 @@ public OnlineIndicator offsetY(int offsetY) {
         return this;
     }
 
-    public OnlineIndicator radius(int radius) {
+    public OnlineIndicator anchorAvatarRadius(int radius) {
         this.radius = radius;
         return this;
     }
@@ -66,11 +62,6 @@ public void draw(Canvas canvas) {
             canvas.drawCircle(offsetX + dx, offsetY + dy, circleSize + borderWidth, paint);
             paint.setColor(Theme.getColor(active == 1 ? Theme.key_dialog_activeStateOnlineColor : Theme.key_dialog_activeStateOfflineColor));
             canvas.drawCircle(offsetX + dx, offsetY + dy, circleSize, paint);
-
-            if (parent == null) {
-                throw new NullPointerException("\"parent\" cannot be null.");
-            }
-            parent.invalidate();
         }
     }
 }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java
index f7d9be6ca..4d54c1017 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java
@@ -26,7 +26,6 @@
 import android.os.Bundle;
 import android.support.v4.view.ViewCompat;
 import android.text.TextUtils;
-import android.util.Log;
 import android.util.TypedValue;
 import android.view.Gravity;
 import android.view.View;
