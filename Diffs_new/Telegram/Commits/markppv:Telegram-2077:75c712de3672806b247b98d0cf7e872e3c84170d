diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChatUsersActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChatUsersActivity.java
index fb139c3a8..61a8286c6 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChatUsersActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChatUsersActivity.java
@@ -386,14 +386,18 @@ public void onSearchCollapse() {
                     searchListViewAdapter.searchDialogs(null);
                     searching = false;
                     searchWas = false;
+                    showAll();
+                    if (doneItem != null) {
+                        doneItem.setVisibility(View.VISIBLE);
+                    }
+                }
+
+                private void showAll() {
                     listView.setAdapter(listViewAdapter);
                     listViewAdapter.notifyDataSetChanged();
                     listView.setFastScrollVisible(true);
                     listView.setVerticalScrollBarEnabled(false);
                     emptyView.setShowAtCenter(false);
-                    if (doneItem != null) {
-                        doneItem.setVisibility(View.VISIBLE);
-                    }
                 }
 
                 @Override
@@ -405,13 +409,14 @@ public void onTextChanged(EditText editText) {
                     if (text.length() != 0) {
                         searchWas = true;
                         if (listView != null && listView.getAdapter() != searchListViewAdapter) {
+                            emptyView.setShowAtCenter(true);
                             listView.setAdapter(searchListViewAdapter);
                             searchListViewAdapter.notifyDataSetChanged();
                             listView.setFastScrollVisible(false);
                             listView.setVerticalScrollBarEnabled(true);
                         }
-                    }
-                    searchListViewAdapter.searchDialogs(text);
+                        searchListViewAdapter.searchDialogs(text);
+                    } else showAll();
                 }
             });
             if (type == TYPE_KICKED) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ContactsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ContactsActivity.java
index de1f2b398..abaa3e88d 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ContactsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ContactsActivity.java
@@ -237,13 +237,7 @@ public void onSearchCollapse() {
                 searchListViewAdapter.searchDialogs(null);
                 searching = false;
                 searchWas = false;
-                listView.setAdapter(listViewAdapter);
-                listView.setSectionsType(1);
-                listViewAdapter.notifyDataSetChanged();
-                listView.setFastScrollVisible(true);
-                listView.setVerticalScrollBarEnabled(false);
-                listView.setEmptyView(null);
-                emptyView.setText(LocaleController.getString("NoContacts", R.string.NoContacts));
+                showAll();
                 if (floatingButtonContainer != null) {
                     floatingButtonContainer.setVisibility(View.VISIBLE);
                     floatingHidden = true;
@@ -274,8 +268,18 @@ public void onTextChanged(EditText editText) {
                         listView.setEmptyView(emptyView);
                         emptyView.setText(LocaleController.getString("NoResult", R.string.NoResult));
                     }
-                }
-                searchListViewAdapter.searchDialogs(text);
+                    searchListViewAdapter.searchDialogs(text);
+                } else showAll();
+            }
+
+            private void showAll() {
+                listView.setAdapter(listViewAdapter);
+                listView.setSectionsType(1);
+                listViewAdapter.notifyDataSetChanged();
+                listView.setFastScrollVisible(true);
+                listView.setVerticalScrollBarEnabled(false);
+                listView.setEmptyView(null);
+                emptyView.setText(LocaleController.getString("NoContacts", R.string.NoContacts));
             }
         });
         item.setSearchFieldHint(LocaleController.getString("Search", R.string.Search));
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LanguageSelectActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/LanguageSelectActivity.java
index 9cb3f5a98..13d3f4d22 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LanguageSelectActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LanguageSelectActivity.java
@@ -102,8 +102,7 @@ public void onSearchCollapse() {
                 searching = false;
                 searchWas = false;
                 if (listView != null) {
-                    emptyView.setVisibility(View.GONE);
-                    listView.setAdapter(listAdapter);
+                    showAll();
                 }
             }
 
@@ -116,7 +115,12 @@ public void onTextChanged(EditText editText) {
                     if (listView != null) {
                         listView.setAdapter(searchListViewAdapter);
                     }
-                }
+                } else showAll();
+            }
+
+            private void showAll() {
+                emptyView.setVisibility(View.GONE);
+                listView.setAdapter(listAdapter);
             }
         });
         item.setSearchFieldHint(LocaleController.getString("Search", R.string.Search));
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/NotificationsCustomSettingsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/NotificationsCustomSettingsActivity.java
index 24d178461..eedfde011 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/NotificationsCustomSettingsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/NotificationsCustomSettingsActivity.java
@@ -154,6 +154,10 @@ public void onSearchCollapse() {
                     searchListViewAdapter.searchDialogs(null);
                     searching = false;
                     searchWas = false;
+                    showAll();
+                }
+
+                private void showAll() {
                     emptyView.setText(LocaleController.getString("NoExceptions", R.string.NoExceptions));
                     listView.setAdapter(adapter);
                     adapter.notifyDataSetChanged();
@@ -171,14 +175,15 @@ public void onTextChanged(EditText editText) {
                     if (text.length() != 0) {
                         searchWas = true;
                         if (listView != null) {
+                            emptyView.setShowAtCenter(true);
                             emptyView.setText(LocaleController.getString("NoResult", R.string.NoResult));
                             listView.setAdapter(searchListViewAdapter);
                             searchListViewAdapter.notifyDataSetChanged();
                             listView.setFastScrollVisible(false);
                             listView.setVerticalScrollBarEnabled(true);
                         }
-                    }
-                    searchListViewAdapter.searchDialogs(text);
+                        searchListViewAdapter.searchDialogs(text);
+                    } else showAll();
                 }
             });
             searchItem.setSearchFieldHint(LocaleController.getString("Search", R.string.Search));
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PhonebookSelectActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/PhonebookSelectActivity.java
index 41a634eb0..db5f49060 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PhonebookSelectActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PhonebookSelectActivity.java
@@ -105,12 +105,7 @@ public void onSearchCollapse() {
                 searchListViewAdapter.search(null);
                 searching = false;
                 searchWas = false;
-                listView.setAdapter(listViewAdapter);
-                listView.setSectionsType(1);
-                listViewAdapter.notifyDataSetChanged();
-                listView.setFastScrollVisible(true);
-                listView.setVerticalScrollBarEnabled(false);
-                emptyView.setText(LocaleController.getString("NoContacts", R.string.NoContacts));
+                showAll();
             }
 
             @Override
@@ -121,8 +116,17 @@ public void onTextChanged(EditText editText) {
                 String text = editText.getText().toString();
                 if (text.length() != 0) {
                     searchWas = true;
-                }
-                searchListViewAdapter.search(text);
+                    searchListViewAdapter.search(text);
+                } else showAll();
+            }
+
+            private void showAll() {
+                listView.setAdapter(listViewAdapter);
+                listView.setSectionsType(1);
+                listViewAdapter.notifyDataSetChanged();
+                listView.setFastScrollVisible(true);
+                listView.setVerticalScrollBarEnabled(false);
+                emptyView.setText(LocaleController.getString("NoContacts", R.string.NoContacts));
             }
         });
         item.setSearchFieldHint(LocaleController.getString("Search", R.string.Search));
