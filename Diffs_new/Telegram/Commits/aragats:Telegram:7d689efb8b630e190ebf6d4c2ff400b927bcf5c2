diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LocationActivityAragats.java b/TMessagesProj/src/main/java/org/telegram/ui/LocationActivityAragats.java
index 8e95db31c..e46ccd9a4 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LocationActivityAragats.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LocationActivityAragats.java
@@ -107,6 +107,7 @@
 
     private Location myLocation;
     private Location userLocation;
+    private Location customLocation;
     private int markerTop;
 
     private Post post;
@@ -640,6 +641,10 @@ public void onItemClick(AdapterView<?> parent, View view, int position, long id)
                 userLocation = new Location("network");
                 userLocation.setLatitude(20.659322);
                 userLocation.setLongitude(-11.406250);
+                if (customLocation != null) {
+                    userLocation = customLocation;
+                    adapter.setCustomLocation(userLocation);
+                }
             }
 
             frameLayout.addView(actionBar);
@@ -869,13 +874,18 @@ private void positionMarker(Location location) {
         } else if (googleMap != null) {
             LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());
             if (adapter != null) {
-                if(searchPlacesEnable) {
+                if (searchPlacesEnable) {
                     adapter.searchGooglePlacesWithQuery(null, myLocation, Constants.RADIUS_CHECKIN, Constants.FOURSQUARE_CHECKIN);
                 }
                 adapter.setGpsLocation(myLocation);
             }
             if (!userLocationMoved) {
-                userLocation = new Location(location);
+                if (customLocation != null) {
+                    userLocation = customLocation; // again assign but already done earlier.
+                    latLng = new LatLng(customLocation.getLatitude(), customLocation.getLongitude());
+                } else {
+                    userLocation = new Location(location);
+                }
                 if (firstWas) {
                     CameraUpdate position = CameraUpdateFactory.newLatLng(latLng);
                     googleMap.animateCamera(position);
@@ -954,4 +964,13 @@ private void updateSearchInterface() {
         geo._long = userLocation.getLongitude();
         return geo;
     }
+
+
+    public void setCustomLocation(Location customLocation) {
+        this.customLocation = customLocation;
+    }
+
+    public Location getCustomLocation() {
+        return customLocation;
+    }
 }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PostsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/PostsActivity.java
index 44918d787..98ff12710 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PostsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PostsActivity.java
@@ -1079,6 +1079,10 @@ private void openLocationChooser() {
 //        args.putInt(Constants.RADIUS_ARG, Constants.RADIUS);
         args.putBoolean(Constants.SEARCH_PLACES_ENABLE_ARG, false);
         LocationActivityAragats fragment = new LocationActivityAragats(args);
+        Location customLocation = LocationManagerHelper.getInstance().getCustomLocation();
+        if (customLocation != null) {
+            fragment.setCustomLocation(customLocation);
+        }
         fragment.setDelegate(new LocationActivityAragats.LocationActivityDelegate() {
             @Override
             public void didSelectLocation(TLRPC.MessageMedia location) {
