diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
index 4aa44227f..1a0816e31 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
@@ -11386,9 +11386,11 @@ public void onResume() {
             chatActivityEnterView.setFieldFocused(true);
         }
         if (chatActivityEnterView != null) {
-            EditTextCaption editTextCaption = chatActivityEnterView.getEditField();
-            editTextCaption.clearFocus();
             chatActivityEnterView.onResume();
+            if(ChatObject.canWriteToChat(currentChat)) {
+                EditTextCaption editTextCaption = chatActivityEnterView.getEditField();
+                editTextCaption.clearFocus();
+            }
         }
         if (currentUser != null) {
             chatEnterTime = System.currentTimeMillis();
