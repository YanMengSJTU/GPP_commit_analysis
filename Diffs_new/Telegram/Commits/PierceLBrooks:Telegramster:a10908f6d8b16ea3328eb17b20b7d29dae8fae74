diff --git a/Telegram/TMessagesProj/jni/Android.mk b/Telegram/TMessagesProj/jni/Android.mk
index d518d87ff..f5d592a8d 100644
--- a/Telegram/TMessagesProj/jni/Android.mk
+++ b/Telegram/TMessagesProj/jni/Android.mk
@@ -106,78 +106,6 @@ LOCAL_PATH := $(MY_LOCAL_PATH) # restore local path after include
 
 include $(CLEAR_VARS)
 
-LOCAL_MODULE    := sfml-system
-LOCAL_SHORT_COMMANDS := true
-
-LOCAL_SRC_FILES := ./sfml/$(TARGET_ARCH_ABI)/libsfml-system-d.so
-
-include $(PREBUILT_SHARED_LIBRARY)
-
-include $(CLEAR_VARS)
-
-LOCAL_MODULE    := sfml-window
-LOCAL_SHORT_COMMANDS := true
-
-LOCAL_SRC_FILES := ./sfml/$(TARGET_ARCH_ABI)/libsfml-window-d.so
-
-include $(PREBUILT_SHARED_LIBRARY)
-
-include $(CLEAR_VARS)
-
-LOCAL_MODULE    := sfml-graphics
-LOCAL_SHORT_COMMANDS := true
-
-LOCAL_SRC_FILES := ./sfml/$(TARGET_ARCH_ABI)/libsfml-graphics-d.so
-
-include $(PREBUILT_SHARED_LIBRARY)
-
-include $(CLEAR_VARS)
-
-LOCAL_MODULE    := sfml-audio
-LOCAL_SHORT_COMMANDS := true
-
-LOCAL_SRC_FILES := ./sfml/$(TARGET_ARCH_ABI)/libsfml-audio-d.so
-
-include $(PREBUILT_SHARED_LIBRARY)
-
-include $(CLEAR_VARS)
-
-LOCAL_MODULE    := sfml-network
-LOCAL_SHORT_COMMANDS := true
-
-LOCAL_SRC_FILES := ./sfml/$(TARGET_ARCH_ABI)/libsfml-network-d.so
-
-include $(PREBUILT_SHARED_LIBRARY)
-
-include $(CLEAR_VARS)
-
-LOCAL_MODULE    := sfml-activity
-LOCAL_SHORT_COMMANDS := true
-
-LOCAL_SRC_FILES := ./sfml/$(TARGET_ARCH_ABI)/libsfml-activity-d.so
-
-include $(PREBUILT_SHARED_LIBRARY)
-
-include $(CLEAR_VARS)
-
-LOCAL_MODULE    := sfml-main
-LOCAL_SHORT_COMMANDS := true
-
-LOCAL_SRC_FILES := ./sfml/$(TARGET_ARCH_ABI)/libsfml-main-d.a
-
-include $(PREBUILT_STATIC_LIBRARY)
-
-include $(CLEAR_VARS)
-
-LOCAL_MODULE    := openal
-LOCAL_SHORT_COMMANDS := true
-
-LOCAL_SRC_FILES := ./sfml/$(TARGET_ARCH_ABI)/libopenal.so
-
-include $(PREBUILT_SHARED_LIBRARY)
-
-include $(CLEAR_VARS)
-
 LOCAL_CPPFLAGS := -Wall -std=c++14 -DANDROID -frtti -DHAVE_PTHREAD -finline-functions -ffast-math -O0
 LOCAL_C_INCLUDES += ./jni/boringssl/include/
 LOCAL_ARM_MODE := arm
@@ -360,8 +288,7 @@ LOCAL_CFLAGS 	+= -Drestrict='' -D__EMX__ -DOPUS_BUILD -DFIXED_POINT -DUSE_ALLOCA
 LOCAL_CFLAGS 	+= -DANDROID_NDK -DDISABLE_IMPORTGL -fno-strict-aliasing -fprefetch-loop-arrays -DAVOID_TABLES -DANDROID_TILE_BASED_DECODE -DANDROID_ARMV6_IDCT -ffast-math -D__STDC_CONSTANT_MACROS
 LOCAL_CPPFLAGS 	:= -DBSD=1 -ffast-math -Os -funroll-loops -std=c++14 -I./../submodules/SFML/SFML/include
 LOCAL_LDLIBS 	:= -ljnigraphics -llog -lz -latomic -lEGL -lGLESv2 -landroid
-LOCAL_STATIC_LIBRARIES := webp sqlite tgnet swscale avformat avcodec avresample avutil voip flac sfml-main
-LOCAL_SHARED_LIBRARIES := sfml-activity sfml-graphics sfml-window sfml-audio sfml-network sfml-system openal
+LOCAL_STATIC_LIBRARIES := webp sqlite tgnet swscale avformat avcodec avresample avutil voip flac
 
 LOCAL_SRC_FILES     := \
 ./opus/src/opus.c \
@@ -639,12 +566,7 @@ LOCAL_SRC_FILES     += \
 ./exoplayer/ffmpeg_jni.cc \
 ./fast-edge.cpp \
 ./genann.c \
-./secureid_ocr.cpp \
-./Log.cpp \
-./Logger.cpp \
-./native-lib.cpp \
-./native.cpp \
-./main.cpp
+./secureid_ocr.cpp
 
 include $(BUILD_SHARED_LIBRARY)
 
diff --git a/Telegram/TMessagesProj/jni/native.cpp b/Telegram/TMessagesProj/jni/native.cpp
deleted file mode 100644
index f92b24da2..000000000
--- a/Telegram/TMessagesProj/jni/native.cpp
+++ /dev/null
@@ -1,8 +0,0 @@
-
-#include "native.h"
-#include "native-lib.hpp"
-
-jint JNILoad(JavaVM *pjvm, void *reserved)
-{
-    return JNIOnLoad(pjvm, reserved);
-}
diff --git a/Telegram/TMessagesProj/jni/native.h b/Telegram/TMessagesProj/jni/native.h
deleted file mode 100644
index dbd081dd1..000000000
--- a/Telegram/TMessagesProj/jni/native.h
+++ /dev/null
@@ -1,13 +0,0 @@
-
-#ifndef TELEGRAMSTER_NATIVE_H
-#define TELEGRAMSTER_NATIVE_H
-
-#include <jni.h>
-
-#ifdef __cplusplus
-extern "C" jint JNILoad(JavaVM *pjvm, void *reserved);
-#else
-extern jint JNILoad(JavaVM *pjvm, void *reserved);
-#endif
-
-#endif
diff --git a/Telegram/build.gradle b/Telegram/build.gradle
index cd3647923..68d2f4493 100644
--- a/Telegram/build.gradle
+++ b/Telegram/build.gradle
@@ -1,15 +1,19 @@
 // Top-level build file where you can add configuration options common to all sub-projects/modules.
 buildscript {
     repositories {
+        google()
         jcenter()
         mavenCentral()
-        google()
     }
     dependencies {
-        classpath 'com.android.tools.build:gradle:3.1.4'
+        classpath 'com.android.tools.build:gradle:3.2.1'
         classpath 'com.google.gms:google-services:4.2.0'
     }
 }
-repositories {
-    google()
-}
\ No newline at end of file
+allprojects {
+    repositories {
+        google()
+        jcenter()
+        mavenCentral()
+    }
+}
diff --git a/Telegram/gradle/wrapper/gradle-wrapper.properties b/Telegram/gradle/wrapper/gradle-wrapper.properties
index 12d83c76d..cbc141052 100644
--- a/Telegram/gradle/wrapper/gradle-wrapper.properties
+++ b/Telegram/gradle/wrapper/gradle-wrapper.properties
@@ -3,4 +3,4 @@ distributionBase=GRADLE_USER_HOME
 distributionPath=wrapper/dists
 zipStoreBase=GRADLE_USER_HOME
 zipStorePath=wrapper/dists
-distributionUrl=https\://services.gradle.org/distributions/gradle-4.4-all.zip
+distributionUrl=https\://services.gradle.org/distributions/gradle-4.9-all.zip
diff --git a/Telegram/sfml/build.gradle b/Telegram/sfml/build.gradle
index de40ccfd7..18c1fd87a 100644
--- a/Telegram/sfml/build.gradle
+++ b/Telegram/sfml/build.gradle
@@ -34,5 +34,4 @@ android {
 
 dependencies {
     implementation fileTree(dir: 'libs', include: ['*.jar'])
-    implementation 'com.android.support:appcompat-v7:28.0.0'
 }
diff --git a/Telegram/sfml/src/main/java/com/piercelbrooks/sfml/SFMLActivity.java b/Telegram/sfml/src/main/java/com/piercelbrooks/sfml/SFMLActivity.java
index d64df2676..8db09170e 100644
--- a/Telegram/sfml/src/main/java/com/piercelbrooks/sfml/SFMLActivity.java
+++ b/Telegram/sfml/src/main/java/com/piercelbrooks/sfml/SFMLActivity.java
@@ -7,8 +7,6 @@
 import android.content.Context;
 import android.os.Bundle;
 import android.os.PersistableBundle;
-import android.support.annotation.NonNull;
-import android.support.annotation.Nullable;
 import android.util.Log;
 
 import java.util.concurrent.TimeUnit;
@@ -44,7 +42,7 @@ protected void onCreate(Bundle savedInstanceState) {
     }
 
     @Override
-    public void onCreate(@Nullable Bundle savedInstanceState, @Nullable PersistableBundle persistentState) {
+    public void onCreate(Bundle savedInstanceState, PersistableBundle persistentState) {
         commonOnCreate(savedInstanceState, persistentState);
         super.onCreate(savedInstanceState, persistentState);
     }
@@ -71,7 +69,7 @@ protected void finalize() throws Throwable {
         super.finalize();
     }
 
-    private void commonOnCreate(@Nullable Bundle savedInstanceState, @Nullable PersistableBundle persistentState) {
+    private void commonOnCreate(Bundle savedInstanceState, PersistableBundle persistentState) {
         loadLibraries();
     }
 
@@ -107,7 +105,7 @@ public String toString() {
     }
 
     @Override
-    public Object getSystemService(@NonNull String name) {
+    public Object getSystemService(String name) {
         return super.getSystemService(name);
     }
 
