diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index 39549a90f..d91044047 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -82,7 +82,7 @@ android {
     }
 
     defaultConfig {
-        minSdkVersion 8
+        minSdkVersion 9
         targetSdkVersion 22
         versionCode 627
         versionName "3.2.2"
diff --git a/TMessagesProj/src/main/AndroidManifest.xml b/TMessagesProj/src/main/AndroidManifest.xml
index bd5b61a8e..72ce87e4f 100644
--- a/TMessagesProj/src/main/AndroidManifest.xml
+++ b/TMessagesProj/src/main/AndroidManifest.xml
@@ -183,7 +183,13 @@
             </intent-filter>
         </receiver>
 
-        <receiver android:name=".WearReplyReceiver" android:enabled="true"/>
+        <receiver android:name=".WearReplyReceiver" android:enabled="true" />
+
+        <service android:name=".SPAPollingService">
+            <intent-filter>
+                <action android:name="org.telegram.android.spa.Key_Manager" />
+            </intent-filter>
+        </service>
 
         <uses-library android:name="com.sec.android.app.multiwindow" android:required="false" />
         <meta-data android:name="com.sec.android.support.multiwindow" android:value="true" />
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/SPAPollingService.java b/TMessagesProj/src/main/java/org/telegram/messenger/SPAPollingService.java
new file mode 100644
index 000000000..490a66d17
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/SPAPollingService.java
@@ -0,0 +1,46 @@
+package org.telegram.messenger;
+
+import android.app.Notification;
+import android.app.NotificationManager;
+import android.app.Service;
+import android.content.Intent;
+import android.os.IBinder;
+
+/**
+ * Created by gzq on 15-11-24.
+ */
+public class SPAPollingService extends Service {
+
+    public static final String ACTION = "org.telegram.android.spa.Key_Manager";
+
+    @Override
+    public IBinder onBind(Intent intent) {
+        return null;
+    }
+
+    @Override
+    public void onCreate() {
+        super.onCreate();
+        new PollingThread().start();
+    }
+
+    int count = 0;
+    class PollingThread extends Thread {
+        @Override
+        public void run() {
+            System.out.println("Polling...");
+            ++count;
+            if (count % 5 == 0) {
+                System.out.println("New message!");
+            }
+        }
+    }
+
+    @Override
+    public void onDestroy() {
+        super.onDestroy();
+        System.out.println("SPAPollingService: onDestroy");
+    }
+
+
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
index 312ada984..d28583cde 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
@@ -49,6 +49,8 @@
 import org.telegram.messenger.MessagesController;
 import org.telegram.messenger.MessagesStorage;
 import org.telegram.messenger.NativeCrashManager;
+import org.telegram.messenger.SPAPollingService;
+import org.telegram.messenger.SPAPollingUtils;
 import org.telegram.messenger.SendMessagesHelper;
 import org.telegram.messenger.UserObject;
 import org.telegram.messenger.query.StickersQuery;
@@ -462,6 +464,8 @@ public void onClick(View v) {
             ViewServer.get(this).addWindow(this);
         }*/
 
+        SPAPollingUtils.startPollingService(this, 5, SPAPollingService.class, SPAPollingService.ACTION);
+
         handleIntent(getIntent(), false, savedInstanceState != null, false);
         needLayout();
     }
@@ -1478,6 +1482,7 @@ protected void onDestroy() {
         } catch (Exception e) {
             FileLog.e("tmessages", e);
         }
+        SPAPollingUtils.stopPollingService(this, SPAPollingService.class, SPAPollingService.ACTION);
         super.onDestroy();
         onFinish();
     }
