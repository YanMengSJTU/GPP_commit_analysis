diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/PostsAdapter.java b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/PostsAdapter.java
index 9f7c5bb8e..bac84a88e 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/PostsAdapter.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/PostsAdapter.java
@@ -115,7 +115,8 @@ public void didClickedImage(PostCell cell) {
                     PostObject postObject = cell.getPostObject();
 //                    mContext - is getParentActivity form Post Activity. look at instance creation of PostAdapter
                     PhotoViewer.getInstance().setParentActivity((Activity)mContext);
-                    PhotoViewer.getInstance().openPhoto(postObject, postsActivity);
+//                    PhotoViewer.getInstance().openPhoto(postObject, postsActivity);
+                    PhotoViewer.getInstance().openPhotoNew(postObject, postsActivity, postsActivity);
                 }
 
                 @Override
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java b/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java
index 8f0ecaf72..6dbcb37a3 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java
@@ -2375,6 +2375,16 @@ private void onPhotoShow(final MessageObject messageObject, final TLRPC.FileLoca
         }
     }
 
+    //TODO-aragats new
+    private void setImagesPostNew() {
+        if (animationInProgress == 0) {
+            setIndexToImagePostNew(centerImage, currentIndex);
+            setIndexToImagePostNew(rightImage, currentIndex + 1);
+            setIndexToImagePostNew(leftImage, currentIndex - 1);
+        }
+    }
+
+
     private void setImages() {
         if (animationInProgress == 0) {
             setIndexToImage(centerImage, currentIndex);
@@ -2585,6 +2595,7 @@ private void setImageIndex(int index, boolean init) {
 
 
 
+    //TODO-aragats new
     private void setImageIndexPostNew(int index, boolean init) {
         if (currentIndex == index) {
             return;
@@ -2681,7 +2692,7 @@ private void setImageIndexPostNew(int index, boolean init) {
         }
 
         if (prevIndex == -1) {
-            setImages();
+            setImagesPostNew();
 
             for (int a = 0; a < 3; a++) {
                 checkProgress(a, false);
@@ -2697,7 +2708,7 @@ private void setImageIndexPostNew(int index, boolean init) {
                 RadialProgressView tempProgress = radialProgressViews[0];
                 radialProgressViews[0] = radialProgressViews[2];
                 radialProgressViews[2] = tempProgress;
-                setIndexToImage(leftImage, currentIndex - 1);
+                setIndexToImagePostNew(leftImage, currentIndex - 1);
 
                 checkProgress(1, false);
                 checkProgress(2, false);
@@ -2710,7 +2721,7 @@ private void setImageIndexPostNew(int index, boolean init) {
                 RadialProgressView tempProgress = radialProgressViews[0];
                 radialProgressViews[0] = radialProgressViews[1];
                 radialProgressViews[1] = tempProgress;
-                setIndexToImage(rightImage, currentIndex + 1);
+                setIndexToImagePostNew(rightImage, currentIndex + 1);
 
                 checkProgress(1, false);
                 checkProgress(2, false);
@@ -2919,6 +2930,47 @@ private void setIndexToImage(ImageReceiver imageReceiver, int index) {
         }
     }
 
+
+    //TODO-aragats new
+    private void setIndexToImagePostNew(ImageReceiver imageReceiver, int index) {
+        imageReceiver.setOrientation(0, false);
+        if (!imagesPostObjectArr.isEmpty()) {
+            imageReceiver.setParentMessageObject(null);
+            if (index >= 0 && index < imagesPostObjectArr.size() && imagesPostObjectArr.get(index) != null) {
+                PostObject postObject = imagesPostObjectArr.get(index);
+                int size = (int) (AndroidUtilities.getPhotoSize() / AndroidUtilities.density);
+                Bitmap placeHolder = null;
+                if (currentThumb != null && imageReceiver == centerImage) {
+                    placeHolder = currentThumb;
+                }
+                //aragats it returns null.b ut curretnThumb is not null. so we miss this part of code.
+                if (placeHolder == null) {
+                    placeHolder = postPlaceProvider.getThumbForPhoto(null, index);
+                }
+                String path = postObject.getImage().getUrl();
+                int imageSize = 0;
+                //TODO set Image for imageReceiver
+                imageReceiver.setImage(path, String.format(Locale.US, "%d_%d", size, size), placeHolder != null ? new BitmapDrawable(null, placeHolder) : null, null, imageSize);
+            } else {
+                imageReceiver.setImageBitmap((Bitmap) null);
+            }
+        }
+
+
+//        PostObject postObject = null;
+//        if (!imagesPostObjectArr.isEmpty() && index < imagesPostObjectArr.size() && index >= 0) {
+//            postObject = imagesPostObjectArr.get(index);
+//        }
+//
+//        //TODO set Image for imageReceiver
+//        if (postObject != null) {
+//            imageReceiver.setImage(postObject.getImage().getUrl(), null, new AvatarDrawable(), null, 0);
+//        } else {
+//            imageReceiver.setImageBitmap((Bitmap) null);
+//        }
+
+    }
+
     public boolean isShowingImage(MessageObject object) {
         return isVisible && !disableShowCheck && object != null && currentMessageObject != null && currentMessageObject.getId() == object.getId();
     }
@@ -3318,7 +3370,7 @@ public void run() {
                     }
                     animationInProgress = 0;
                     transitionAnimationStartTime = 0;
-                    setImages();
+                    setImagesPostNew();
                     containerView.invalidate();
                     animatingImageView.setVisibility(View.GONE);
                     if (showAfterAnimation != null) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PostPhotoViewerProvider.java b/TMessagesProj/src/main/java/org/telegram/ui/PostPhotoViewerProvider.java
index 8b6871fc9..82bd37f5d 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PostPhotoViewerProvider.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PostPhotoViewerProvider.java
@@ -14,7 +14,7 @@
 
     public PhotoViewer.PlaceProviderObject getPlaceForPhoto(PostObject postObject);
 
-//    Bitmap getThumbForPhoto(MessageObject messageObject, TLRPC.FileLocation fileLocation, int index);
+    Bitmap getThumbForPhoto(PostObject postObject, int index);
 
 //    void willSwitchFromPhoto(MessageObject messageObject, TLRPC.FileLocation fileLocation, int index);
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PostsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/PostsActivity.java
index 5fd0ce5c5..1d0bb16f8 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PostsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PostsActivity.java
@@ -15,6 +15,7 @@
 import android.content.Context;
 import android.content.DialogInterface;
 import android.content.res.Configuration;
+import android.graphics.Bitmap;
 import android.graphics.Outline;
 import android.os.Build;
 import android.os.Bundle;
@@ -137,6 +138,11 @@
 
     }
 
+    @Override
+    public Bitmap getThumbForPhoto(PostObject postObject, int index) {
+        return null;
+    }
+
     @Override
     public void willSwitchFromPhoto(PostObject postObject) {
 
