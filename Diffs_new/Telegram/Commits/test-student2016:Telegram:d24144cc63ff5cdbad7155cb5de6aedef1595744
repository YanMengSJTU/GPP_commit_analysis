diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java b/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
index 25e239b03..7ebae2e0b 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
@@ -292,9 +292,6 @@ public void onCreate() {
 
         startPushService();
 
-        //reza_ak
-        Intent backgroundService = new Intent(this, MQTTService.class);
-        startService(backgroundService);
     }
 
     public static void startPushService() {
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/SendMessagesHelper.java b/TMessagesProj/src/main/java/org/telegram/messenger/SendMessagesHelper.java
index db8c16b0a..8c62f3d89 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/SendMessagesHelper.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/SendMessagesHelper.java
@@ -1276,7 +1276,7 @@ private void sendMessage(String message, TLRPC.MessageMedia location, TLRPC.TL_p
                             jsonMessageObject.put("packet_type", "message");
                             jsonMessageObject.put("to", "98729");
                             jsonMessageObject.put("from", "+989122335645");
-                            jsonMessageObject.put("from_userid","6");
+                            jsonMessageObject.put("from_userid","6000000");
                             jsonMessageObject.put("messageBody", newMsg.message);
                             jsonMessageObject.put("messageType", MessageContentTypeProvider.MessageContentType.TEXT.ordinal());
                             jsonMessageObject.put("messageTypeDesc", "");
@@ -1290,7 +1290,7 @@ private void sendMessage(String message, TLRPC.MessageMedia location, TLRPC.TL_p
                             //jsonMessageObject.put("groupOwnerId",groupOwnerId);
                             jsonMessageObject.put("isGroupChat", 1);
                             jsonMessageObject.put("channel_view", "1");
-                            packetId = Utils.makePacketId("6");
+                            packetId = Utils.makePacketId("6000000");
                             jsonMessageObject.put("packetId", packetId);
 
                         } catch (Exception e) {
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/mqtt/MQTTService.java b/TMessagesProj/src/main/java/org/telegram/messenger/mqtt/MQTTService.java
index b74aac9e7..ab6aaef6b 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/mqtt/MQTTService.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/mqtt/MQTTService.java
@@ -107,7 +107,7 @@
     // constants used to tell the Activity UI the connection status
     public static final String MQTT_STATUS_INTENT = "com.rokhgroup.mqtt.STATUS";
     public static final String MQTT_STATUS_MSG    = "com.rokhgroup.mqtt.STATUS_MSG";
-String userIdPub="6";
+    String userIdPub="6000000";
     // constant used internally to schedule the next ping event
     public static final String MQTT_PING_ACTION = "com.rokhgroup.mqtt.PING";
 
@@ -295,7 +295,7 @@ public void onCreate()
 
         brokerHostName = Constant.MqttTcpHost;
         //reza_ak
-        mqttClientId ="6";
+        mqttClientId ="6000000";
                 //SHAMChatApplication.getConfig().getUserId();
         brokerPortNumber = Integer.valueOf(Constant.MqttTcpPort);
 
@@ -1227,7 +1227,7 @@ public void onReceive(Context context, Intent intent)
 
                 if (DEBUG) notifyUser2("ping to server");
                 //reza_ak
-                String userId	= "6";
+                String userId	= "6000000";
                         //SHAMChatApplication.getConfig().getUserId();
                 String topic = "events/"+userId;
                 String pingMessage = "ping";
@@ -1625,7 +1625,7 @@ public MqttCallbackHandler(Context context, String clientHandle)
             this.context = context;
             this.clientHandle = clientHandle;
             //reza_ak
-            CURRENT_USER_ID	= "6";
+            CURRENT_USER_ID	= "6000000";
                     //SHAMChatApplication.getConfig().getUserId();
         }
 
@@ -2046,7 +2046,7 @@ public boolean addChatMessageToDB(int direction, int messageStatus, int messageC
 
             String groupId = to;
 //reza_ak
-            String threadOwner = "6";
+            String threadOwner = "6000000";
                     //SHAMChatApplication.getConfig().getUserId();
 
             //String threadId = threadId;
@@ -2334,7 +2334,7 @@ private void doSubscribe(String clienthandle, String topic) {
             me = UserProvider.userFromCursor(cursor);
             cursor.close();*/
 
-            String clientId = "6";
+            String clientId = "6000000";
 
             String[] actionArgs = new String[1];
 
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/NewGroupMessageSentFailedEvent.java b/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/NewGroupMessageSentFailedEvent.java
index 71ada1402..1e31c230f 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/NewGroupMessageSentFailedEvent.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/NewGroupMessageSentFailedEvent.java
@@ -46,7 +46,7 @@ public NewGroupMessageSentFailedEvent(String jsonMessage)
 			//groupOwnerId = SampleMsg.getString("groupOwnerId");					
 			isGroupChat = SampleMsg.getInt("isGroupChat");					
 			//reza_ak
-			String threadOwner = "6";
+			String threadOwner = "6000000";
 			threadId = threadOwner + "-" + to; 
 				
 			} catch (JSONException e1) {
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/NewGroupMessageSentSuccessEvent.java b/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/NewGroupMessageSentSuccessEvent.java
index 58ea60a6c..e2c624d1c 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/NewGroupMessageSentSuccessEvent.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/NewGroupMessageSentSuccessEvent.java
@@ -50,7 +50,7 @@ public NewGroupMessageSentSuccessEvent(String jsonMessage)
 			//groupOwnerId = SampleMsg.getString("groupOwnerId");					
 			isGroupChat = SampleMsg.getInt("isGroupChat");					
 			//reza_ak
-			String threadOwner = "6";
+			String threadOwner = "6000000";
 			threadId = threadOwner + "-" + to; 
 				
 			} catch (JSONException e1) {
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/PublishToTopicJob.java b/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/PublishToTopicJob.java
index 5320f08ea..0cdfc92a1 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/PublishToTopicJob.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/PublishToTopicJob.java
@@ -105,7 +105,7 @@ public void initClass(String jsonMessageString, String topicName) {
 			//groupOwnerId = SampleMsg.getString("groupOwnerId");
 			isGroupChat = SampleMsg.getInt("isGroupChat");
 
-			String threadOwner = "6";
+			String threadOwner = "6000000";
 			threadId = threadOwner + "-" + to;
 
 		} catch (JSONException e1) {
@@ -153,7 +153,7 @@ public void onRun() throws Throwable {
 		String clientHandle = null;
 		//reza_ak
 		//Session = new RokhPref(SHAMChatApplication.getInstance().getApplicationContext());
-		clientHandle = "user6";
+		clientHandle = "user6000000";
 
 		int qos = 1;
 		boolean retained = false;
@@ -318,7 +318,7 @@ public boolean addChatMessageToDB(int direction, int messageStatus, int messageC
 		}
 
 //reza_ak
-		String threadOwner = "6";
+		String threadOwner = "6000000";
 
 		//String threadId = threadId;
 		//String groupId = null;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/RoomRestoreJob.java b/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/RoomRestoreJob.java
index 32afbe03b..006460441 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/RoomRestoreJob.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/RoomRestoreJob.java
@@ -29,7 +29,7 @@
     private static final AtomicInteger jobCounter = new AtomicInteger(0);
     private final int id;
 //reza_ak
-    final String  userId					= "6";
+    final String  userId = "6000000";
 
     String[] allTopics;
     int [] qosArray;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/SubscribeToEventsJob.java b/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/SubscribeToEventsJob.java
index d016e4921..a6250bd8d 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/SubscribeToEventsJob.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/shamChat/SubscribeToEventsJob.java
@@ -67,9 +67,9 @@ public void onRun() throws Throwable {
 		MqttAndroidClient mqttClient;
 		//reza_ak
 		//RokhPref Session = new RokhPref(ApplicationLoader.getInstance().getApplicationContext());
-		final String clientHandle = "user6";
+		final String clientHandle = "user6000000";
 		//reza_ak
-		String userId	= "6";
+		String userId	= "6000000";
 		//phoneNumber = phoneNumber.startsWith("+") ? phoneNumber.substring(1) : phoneNumber;
 		String topic = "events/"+userId;
 		final Context context = ApplicationLoader.getInstance().getApplicationContext();
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
index e42fabcfe..6a5caa0f4 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
@@ -53,6 +53,7 @@
 import org.telegram.messenger.SendMessagesHelper;
 import org.telegram.messenger.UserObject;
 import org.telegram.messenger.Utilities;
+import org.telegram.messenger.mqtt.MQTTService;
 import org.telegram.messenger.query.StickersQuery;
 import org.telegram.messenger.ApplicationLoader;
 import org.telegram.messenger.FileLog;
@@ -116,9 +117,12 @@
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
+
+
         ApplicationLoader.postInitApplication();
         NativeCrashManager.handleDumpFiles(this);
 
+
         if (!UserConfig.isClientActivated()) {
             Intent intent = getIntent();
             if (intent != null && intent.getAction() != null && (Intent.ACTION_SEND.equals(intent.getAction()) || intent.getAction().equals(Intent.ACTION_SEND_MULTIPLE))) {
@@ -137,6 +141,11 @@ protected void onCreate(Bundle savedInstanceState) {
                     return;
                 }
             }
+        } else {
+            //mast - start the mqtt background service to handle messaging stuff and stay running
+            //mast - mqtt our own background service
+            Intent backgroundService = new Intent(this, MQTTService.class);
+            startService(backgroundService);
         }
 
         requestWindowFeature(Window.FEATURE_NO_TITLE);
