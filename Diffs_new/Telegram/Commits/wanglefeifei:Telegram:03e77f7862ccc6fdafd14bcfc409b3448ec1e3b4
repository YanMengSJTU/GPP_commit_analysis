diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index 8e64ce6b9..0c1506192 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -11,6 +11,7 @@ configurations {
 }
 
 dependencies {
+    implementation(name: 'app-release', ext: 'aar')
     compileOnly 'org.checkerframework:checker-qual:2.5.0'
     compileOnly 'org.checkerframework:checker-compat-qual:2.5.0'
     implementation 'com.google.firebase:firebase-core:16.0.3'
@@ -44,6 +45,14 @@ android {
             path "jni/Android.mk"
         }
     }
+    repositories{
+        flatDir {
+            dirs 'libs'
+        }
+    }
+    packagingOptions {
+        exclude 'META-INF/DEPENDENCIES'
+    }
 
     lintOptions {
         disable 'MissingTranslation'
@@ -80,7 +89,7 @@ android {
             debuggable true
             jniDebuggable true
             signingConfig signingConfigs.debug
-            applicationIdSuffix ".beta"
+//            applicationIdSuffix ".beta"
             minifyEnabled true
             proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
         }
@@ -240,7 +249,7 @@ android {
         targetSdkVersion 27
         versionName "4.9.1"
 
-		vectorDrawables.generatedDensities = ['mdpi', 'hdpi', 'xhdpi', 'xxhdpi']
+        vectorDrawables.generatedDensities = ['mdpi', 'hdpi', 'xhdpi', 'xxhdpi']
 
         externalNativeBuild {
             ndkBuild {
diff --git a/TMessagesProj/libs/app-release.aar b/TMessagesProj/libs/app-release.aar
new file mode 100644
index 000000000..312f06f4b
Binary files /dev/null and b/TMessagesProj/libs/app-release.aar differ
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
index 96ee1a45a..37e852818 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
@@ -21,6 +21,7 @@
 import android.graphics.Shader;
 import android.graphics.drawable.BitmapDrawable;
 import android.net.Uri;
+import android.net.VpnService;
 import android.os.Build;
 import android.os.Bundle;
 import android.os.Parcelable;
@@ -99,6 +100,8 @@
 import java.util.List;
 import java.util.Map;
 
+import BnetSDK.BNetApplication;
+
 public class LaunchActivity extends Activity implements ActionBarLayout.ActionBarLayoutDelegate, NotificationCenter.NotificationCenterDelegate, DialogsActivity.DialogsActivityDelegate {
 
     private boolean finished;
@@ -147,6 +150,9 @@
 
     private Runnable lockRunnable;
 
+    private static final int VPN_REQUEST_CODE = 0x0F;
+    private BNetApplication bnetJoin;
+
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         ApplicationLoader.postInitApplication();
@@ -220,7 +226,7 @@ protected void onCreate(Bundle savedInstanceState) {
         if (resourceId > 0) {
             AndroidUtilities.statusBarHeight = getResources().getDimensionPixelSize(resourceId);
         }
-
+        bnetJoin = new BNetApplication(this);
         actionBarLayout = new ActionBarLayout(this);
 
         drawerLayoutContainer = new DrawerLayoutContainer(this);
@@ -590,7 +596,14 @@ protected void onLayout(boolean changed, int l, int t, int r, int b) {
         }
         MediaController.getInstance().setBaseActivity(this, true);
     }
-
+    private void startVpn() {
+        Intent vpnIntent = VpnService.prepare(this);
+        if (vpnIntent != null) {
+            startActivityForResult(vpnIntent, VPN_REQUEST_CODE);//wait user confirmation, will call onActivityResult
+        } else {
+            onActivityResult(VPN_REQUEST_CODE, RESULT_OK, null);
+        }
+    }
     public void switchToAccount(int account, boolean removeAll) {
         if (account == UserConfig.selectedAccount) {
             return;
@@ -2088,6 +2101,11 @@ protected void onActivityResult(int requestCode, int resultCode, Intent data) {
                 fragment.onActivityResultFragment(requestCode, resultCode, data);
             }
         }
+        if (requestCode == VPN_REQUEST_CODE && resultCode == RESULT_OK) {
+            if (bnetJoin != null) {
+                bnetJoin.StartVpvJoin();
+            }
+        }
     }
 
     @Override
