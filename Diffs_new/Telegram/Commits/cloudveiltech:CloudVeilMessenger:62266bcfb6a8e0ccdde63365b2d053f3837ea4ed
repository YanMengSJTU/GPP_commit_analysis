diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index d34d0437e..4342380a4 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -121,7 +121,7 @@ android {
         }
     }
 
-    defaultConfig.versionCode = 965
+    defaultConfig.versionCode = 966
 
     sourceSets.debug {
         manifest.srcFile 'config/debug/AndroidManifest.xml'
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
index 6cc5500bd..e9fd3c4b3 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
@@ -8676,8 +8676,9 @@ public void run() {
             messages = new ArrayList<>();
             ChannelCheckingService.startDataChecking(dialog_id, getParentActivity());
         }
-
-        chatAdapter.notifyDataSetChanged();
+        if(chatAdapter != null) {
+            chatAdapter.notifyDataSetChanged();
+        }
         //CloudVeil end
     }
 
