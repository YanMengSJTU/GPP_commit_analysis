diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/SharedConfig.java b/TMessagesProj/src/main/java/org/telegram/messenger/SharedConfig.java
index 1316065c0..18286519c 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/SharedConfig.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/SharedConfig.java
@@ -86,6 +86,7 @@
     public static boolean playOrderReversed;
     public static boolean hasCameraCache;
     public static boolean showNotificationsForAllAccounts = true;
+    public static boolean sortMusicsByName = true;
     public static int repeatMode;
     public static boolean allowBigEmoji;
     public static boolean useSystemEmoji;
@@ -251,6 +252,7 @@ public static void loadConfig() {
             distanceSystemType = preferences.getInt("distanceSystemType", 0);
             devicePerformanceClass = preferences.getInt("devicePerformanceClass", -1);
             loopStickers = preferences.getBoolean("loopStickers", true);
+            sortMusicsByName = preferences.getBoolean("sort_musics_by_name", true);
             keepMedia = preferences.getInt("keep_media", 2);
             lastKeepMediaCheckTime = preferences.getInt("lastKeepMediaCheckTime", 0);
 
@@ -617,6 +619,14 @@ public static void setDistanceSystemType(int type) {
         LocaleController.resetImperialSystemType();
     }
 
+    public static void toggleSortMusicsByName() {
+        sortMusicsByName = !sortMusicsByName;
+        SharedPreferences preferences = MessagesController.getGlobalMainSettings();
+        SharedPreferences.Editor editor = preferences.edit();
+        editor.putBoolean("sort_musics_by_name", sortMusicsByName);
+        editor.commit();
+    }
+
     public static void loadProxyList() {
         if (proxyListLoaded) {
             return;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/AudioSelectActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/AudioSelectActivity.java
index 8636611dc..9dadc9df4 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/AudioSelectActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/AudioSelectActivity.java
@@ -26,11 +26,14 @@
 import org.telegram.messenger.FileLoader;
 import org.telegram.messenger.FileLog;
 import org.telegram.messenger.R;
+import org.telegram.messenger.SharedConfig;
 import org.telegram.messenger.UserObject;
 import org.telegram.tgnet.TLRPC;
 import org.telegram.messenger.UserConfig;
 import org.telegram.messenger.Utilities;
 import org.telegram.ui.ActionBar.ActionBar;
+import org.telegram.ui.ActionBar.ActionBarMenu;
+import org.telegram.ui.ActionBar.ActionBarMenuItem;
 import org.telegram.ui.ActionBar.BaseFragment;
 import org.telegram.ui.ActionBar.Theme;
 import org.telegram.ui.ActionBar.ThemeDescription;
@@ -43,6 +46,8 @@
 
 import java.io.File;
 import java.util.ArrayList;
+import java.util.Collections;
+import java.util.Comparator;
 
 import androidx.recyclerview.widget.LinearLayoutManager;
 import androidx.recyclerview.widget.RecyclerView;
@@ -58,6 +63,10 @@
 
     private boolean loadingAudio;
 
+    private ActionBarMenuItem sortItem;
+    private final static int sort_button = 1;
+    private boolean sortByName;
+
     private ArrayList<MediaController.AudioEntry> audioEntries = new ArrayList<>();
     private LongSparseArray<MediaController.AudioEntry> selectedAudios = new LongSparseArray<>();
 
@@ -107,9 +116,21 @@ public View createView(Context context) {
             public void onItemClick(int id) {
                 if (id == -1) {
                     finishFragment();
+                } else if (id == sort_button) {
+                    SharedConfig.toggleSortMusicsByName();
+                    sortByName = SharedConfig.sortMusicsByName;
+//                    listViewAdapter.setSortType(sortByName ? 1 : 2);
+                    sortMusics(audioEntries);
+                    sortItem.setIcon(sortByName ? R.drawable.contacts_sort_name : R.drawable.contacts_sort_time);
+                    listViewAdapter.notifyDataSetChanged();
                 }
             }
         });
+        sortByName = SharedConfig.sortMusicsByName;
+        ActionBarMenu menu = actionBar.createMenu();
+        sortItem = menu.addItem(sort_button, sortByName ? R.drawable.contacts_sort_name : R.drawable.contacts_sort_time);
+        sortItem.setContentDescription(LocaleController.getString("AccDescrContactSorting", R.string.AccDescrContactSorting));
+
 
         fragmentView = new FrameLayout(context);
         FrameLayout frameLayout = (FrameLayout) fragmentView;
@@ -263,12 +284,33 @@ private void loadAudio() {
             }
             AndroidUtilities.runOnUIThread(() -> {
                 audioEntries = newAudioEntries;
+                sortMusics(audioEntries);
                 progressView.showTextView();
                 listViewAdapter.notifyDataSetChanged();
             });
         });
     }
 
+    private void sortMusics(ArrayList<MediaController.AudioEntry> newAudioEntries) {
+        if (newAudioEntries.size() > 0) {
+
+            Collections.sort(newAudioEntries, new Comparator<MediaController.AudioEntry>() {
+                @Override
+                public int compare(final MediaController.AudioEntry object1, final MediaController.AudioEntry object2) {
+
+                    if (sortByName){
+                        return object1.title.compareTo(object2.title);
+                    } else {
+                        return Integer.compare(object2.duration, object1.duration);
+                    }
+
+                }
+            });
+        }
+
+        audioEntries = newAudioEntries;
+    }
+
     private class ListAdapter extends RecyclerListView.SelectionAdapter {
 
         private Context mContext;
