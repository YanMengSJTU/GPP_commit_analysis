diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index f14f395f9..7b79221e7 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -17,7 +17,7 @@ tasks.withType(JavaCompile) {
 }
 
 dependencies {
-    compile 'com.android.support:support-v4:20.0.+'
+    compile 'com.android.support:support-v4:20.0.0'
     compile 'com.google.android.gms:play-services:3.2.+'
     compile 'net.hockeyapp.android:HockeySDK:3.0.1'
     compile 'com.googlecode.mp4parser:isoparser:1.0.+'
diff --git a/TMessagesProj/src/main/AndroidManifest.xml b/TMessagesProj/src/main/AndroidManifest.xml
index 3e89db70e..e4cf3870b 100644
--- a/TMessagesProj/src/main/AndroidManifest.xml
+++ b/TMessagesProj/src/main/AndroidManifest.xml
@@ -4,13 +4,14 @@
     android:installLocation="auto">
 
     <permission android:name="com.teamjihu.theme.telegram.v1" />
+    <permission android:name="com.teamjihu.emoticon.telegram.v2" />
 
     <supports-screens android:anyDensity="true"
-                      android:smallScreens="true"
-                      android:normalScreens="true"
-                      android:largeScreens="true"
-                      android:resizeable="true"
-                      android:xlargeScreens="true"/>
+        android:smallScreens="true"
+        android:normalScreens="true"
+        android:largeScreens="true"
+        android:resizeable="true"
+        android:xlargeScreens="true"/>
 
     <uses-feature android:glEsVersion="0x00020000" android:required="false"/>
     <uses-feature android:name="android.hardware.telephony" android:required="false" />
@@ -160,4 +161,4 @@
 
     </application>
 
-</manifest>
+</manifest>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/java/com/teamjihu/DownloadZzalTask.java b/TMessagesProj/src/main/java/com/teamjihu/DownloadZzalTask.java
new file mode 100644
index 000000000..7df35aa84
--- /dev/null
+++ b/TMessagesProj/src/main/java/com/teamjihu/DownloadZzalTask.java
@@ -0,0 +1,107 @@
+package com.teamjihu;
+
+import android.app.ProgressDialog;
+import android.graphics.Bitmap;
+import android.graphics.BitmapFactory;
+import android.os.AsyncTask;
+import android.util.Log;
+import android.webkit.MimeTypeMap;
+import android.widget.ImageView;
+import android.widget.Toast;
+
+import org.apache.http.HttpEntity;
+import org.apache.http.HttpResponse;
+import org.apache.http.NameValuePair;
+import org.apache.http.client.ClientProtocolException;
+import org.apache.http.client.HttpClient;
+import org.apache.http.client.entity.UrlEncodedFormEntity;
+import org.apache.http.client.methods.HttpPost;
+import org.apache.http.impl.client.DefaultHttpClient;
+import org.apache.http.message.BasicNameValuePair;
+import org.apache.http.protocol.HTTP;
+import org.apache.http.util.EntityUtils;
+import org.telegram.ui.ChatActivity;
+
+import java.io.File;
+import java.io.FileOutputStream;
+import java.io.FilenameFilter;
+import java.io.IOException;
+import java.io.InputStream;
+import java.io.OutputStream;
+import java.io.UnsupportedEncodingException;
+import java.net.URL;
+import java.util.ArrayList;
+
+/**
+ * Created by OOO on 2014-11-04.
+ */
+public class DownloadZzalTask extends AsyncTask<String, Void, ArrayList<String>> {
+    ChatActivity chatActivity;
+    String urldisplay;
+
+    public DownloadZzalTask(ChatActivity _chatActivity) {
+        chatActivity = _chatActivity;
+    }
+
+    protected ArrayList<String> doInBackground(String... urls) {
+        urldisplay = urls[0];
+        Bitmap mIcon11 = null;
+
+        File tempFile = null;
+        ArrayList<String> photos = new ArrayList<String>();
+        Bitmap bmp;
+
+        try {
+            tempFile = File.createTempFile("tempEmojiFile.jpg", null, chatActivity.getParentActivity().getCacheDir());
+            OutputStream outputStream = new FileOutputStream(tempFile);
+
+            InputStream is = new URL( urldisplay ).openStream();
+            String ext = MimeTypeMap.getFileExtensionFromUrl( urldisplay );
+            bmp = BitmapFactory.decodeStream(is);
+            is.close();
+
+            if ( ext.equals("png") )
+                bmp.compress(Bitmap.CompressFormat.PNG, 100, outputStream);
+            else
+                bmp.compress(Bitmap.CompressFormat.JPEG, 100, outputStream);
+
+            outputStream.flush();
+            outputStream.close();
+
+            photos.add(tempFile.getPath());
+
+
+            String[] urlParse = urldisplay.split("/");
+
+            HttpClient client = new DefaultHttpClient();
+            HttpPost post = new HttpPost("http://2runzzal.com/themegram/increaseTelegramCount");
+            ArrayList<NameValuePair> params = new ArrayList<NameValuePair>();
+            params.add(new BasicNameValuePair("name", urlParse[urlParse.length - 1]));
+
+            UrlEncodedFormEntity ent;
+            try {
+                ent = new UrlEncodedFormEntity(params, HTTP.UTF_8);
+                post.setEntity(ent);
+                HttpResponse responsePOST = client.execute(post);
+                HttpEntity resEntity = responsePOST.getEntity();
+
+            } catch (UnsupportedEncodingException e) {
+                e.printStackTrace();
+            } catch (ClientProtocolException e) {
+                e.printStackTrace();
+            } catch (IOException e) {
+                e.printStackTrace();
+            }
+        } catch ( IOException ie ) {
+            ie.printStackTrace();
+            Toast.makeText(chatActivity.getParentActivity(), "짤 전송에 실패하였습니다.", Toast.LENGTH_SHORT).show();
+        }
+
+        return photos;
+    }
+
+    protected void onPostExecute(ArrayList<String> photos) {
+        chatActivity.didSelectPhotos(photos);
+        Toast.makeText(chatActivity.getParentActivity(), "짤을 전송합니다.", Toast.LENGTH_SHORT).show();
+    }
+}
diff --git a/TMessagesProj/src/main/java/com/teamjihu/EmoticonManager.java b/TMessagesProj/src/main/java/com/teamjihu/EmoticonManager.java
new file mode 100644
index 000000000..c2e61915a
--- /dev/null
+++ b/TMessagesProj/src/main/java/com/teamjihu/EmoticonManager.java
@@ -0,0 +1,92 @@
+package com.teamjihu;
+
+import android.content.Context;
+import android.content.pm.PackageInfo;
+import android.content.pm.PackageManager;
+import android.content.pm.PermissionInfo;
+import android.content.res.Resources;
+import android.graphics.drawable.Drawable;
+
+import org.telegram.android.PhoneThemeShopEmoji;
+
+import java.util.ArrayList;
+import java.util.List;
+
+/**
+ * Created by OOO on 2014-10-29.
+ */
+public class EmoticonManager {
+    private static final String CUSTOM_EMOTICON_PERMISSION = "com.teamjihu.emoticon.telegram.v2";
+
+    private PackageManager mPackageManager = null;
+    private Context mContext = null;
+
+    public EmoticonManager(Context context) {
+        if(mContext != context) {
+            mContext = context;
+            mPackageManager = mContext.getPackageManager();
+        }
+    }
+
+    public ArrayList<PhoneThemeShopEmoji> GetEmoticonList() {
+        ArrayList<PhoneThemeShopEmoji> emoticons = new ArrayList<PhoneThemeShopEmoji>();
+        ArrayList<String> pkgs = new ArrayList<String>();
+        getEmoticonList(pkgs);
+
+        for(String pkgName : pkgs) {
+            try {
+                Resources res = mPackageManager.getResourcesForApplication(pkgName);
+                String emoticonPkgName = pkgName;
+                String emoticonTitle = res.getString(res.getIdentifier("emoticon_title", "string", pkgName));
+                int col = Integer.parseInt(res.getString(res.getIdentifier("col", "string", pkgName)));
+                int row = Integer.parseInt(res.getString(res.getIdentifier("row", "string", pkgName)));
+                int total = Integer.parseInt(res.getString(res.getIdentifier("total", "string", pkgName)));
+                Drawable icon = getIconImage(res, pkgName);
+                Drawable emoticonImage = getEmoticonImage(res, pkgName);
+
+                if ( icon == null || emoticonImage == null )
+                    continue;;
+
+                PhoneThemeShopEmoji item = new PhoneThemeShopEmoji(emoticonPkgName, emoticonTitle, icon, emoticonImage, col, row, total);
+                emoticons.add(item);
+            } catch (PackageManager.NameNotFoundException e) {
+            } catch(Resources.NotFoundException e) {
+            }
+        }
+        return emoticons;
+    }
+
+    public void getEmoticonList(ArrayList<String> pkgs){
+        List<PackageInfo> installedList = mPackageManager.getInstalledPackages(PackageManager.GET_PERMISSIONS);
+
+        for(PackageInfo pkgInfo : installedList){
+            if(pkgInfo.permissions == null)
+                continue;
+
+            for(PermissionInfo perm : pkgInfo.permissions){
+                if(CUSTOM_EMOTICON_PERMISSION.equals(perm.name)){
+                    pkgs.add(pkgInfo.packageName);
+                    break;
+                }
+            }
+        }
+    }
+
+    public Drawable getEmoticonImage(Resources res, String emoticonPkg) {
+        int id = res.getIdentifier("emoticon", "drawable", emoticonPkg);
+        try{
+            return res.getDrawable(id);
+        } catch(Resources.NotFoundException ex) {
+            return null;
+        }
+    }
+
+    public Drawable getIconImage(Resources res, String emoticonPkg) {
+        int id = res.getIdentifier("icon", "drawable", emoticonPkg);
+        try{
+            return res.getDrawable(id);
+        } catch(Resources.NotFoundException ex) {
+            return null;
+        }
+    }
+}
\ No newline at end of file
diff --git a/TMessagesProj/src/main/java/com/teamjihu/ThemeManager.java b/TMessagesProj/src/main/java/com/teamjihu/ThemeManager.java
index 0ef376227..8c2c9a6a4 100644
--- a/TMessagesProj/src/main/java/com/teamjihu/ThemeManager.java
+++ b/TMessagesProj/src/main/java/com/teamjihu/ThemeManager.java
@@ -14,9 +14,11 @@
 import android.view.View;
 
 public class ThemeManager {
-	private static final String CUSTOM_PERMISSION = "com.teamjihu.theme.telegram.v1";
+    private static final String CUSTOM_PERMISSION = "com.teamjihu.theme.telegram.v1";
     private static final String DEFAULT_THEME_PACKAGE = "org.telegram.messenger.phonethemeshop";
 
+    private static final String CUSTOM_EMOTICON_PERMISSION = "com.teamjihu.emoticon.telegram.v1";
+
     private static final String PREF_NAME = "THEME_PREF";
     private static final String PREF_THEME_PACKAGE = "PREF_THEME_PACKAGE";
 	private PackageManager mPackageManager = null;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/PhoneThemeShopEmoji.java b/TMessagesProj/src/main/java/org/telegram/android/PhoneThemeShopEmoji.java
index a91efdea1..624884076 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/PhoneThemeShopEmoji.java
+++ b/TMessagesProj/src/main/java/org/telegram/android/PhoneThemeShopEmoji.java
@@ -12,20 +12,27 @@
  * Created by OOO on 2014-10-28.
  */
 public class PhoneThemeShopEmoji {
+    public Drawable icon;
     public Drawable emojis;
     public int col;
     public int row;
     public int total;
+    public String pkg;
+    public String name;
     private int twidth;
     private int theight;
     private int width;
     private int height;
     private Bitmap bmp;
     private Paint paint = new Paint();
+    private final int MAX_WIDTH_HEIGHT = 120;
 
-    public PhoneThemeShopEmoji (Drawable _emojis, int _col, int _row, int _total ) {
+    public PhoneThemeShopEmoji (String _pkg, String _name, Drawable _icon, Drawable _emojis, int _col, int _row, int _total ) {
         paint.setFilterBitmap(true);
 
+        pkg = _pkg;
+        name = _name;
+        icon = _icon;
         emojis = _emojis;
         col = _col;
         row = _row;
@@ -51,9 +58,16 @@ private static Bitmap drawableToBitmap (Drawable drawable) {
     }
 
     public Bitmap getBitmap( int index ) {
-        Bitmap targetBitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);
+        int _width = MAX_WIDTH_HEIGHT;
+        int _height = MAX_WIDTH_HEIGHT;
 
-        targetBitmap = Bitmap.createBitmap(bmp, ( index % col ) * width, ( index / row ) * height, width, height);
+        if ( width > height )
+            _height = _height * height / width;
+        else
+            _width = _width * width / height;
+
+        Bitmap targetBitmap = Bitmap.createBitmap(bmp, ( index % col ) * width, ( index / col ) * height, width, height);
+        //targetBitmap = Bitmap.createScaledBitmap(targetBitmap, _width, _height, true);
 
         return targetBitmap;
     }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java
index 26a3a35df..397fe165a 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java
@@ -156,6 +156,12 @@ public ChatBaseCell(Context context) {
         avatarImage = new ImageReceiver(this);
     }
 
+    public ChatBaseCell(Context context, boolean init) {
+        super(context);
+        init2();
+        avatarImage = new ImageReceiver(this);
+    }
+
     @Override
     protected void onDetachedFromWindow() {
         super.onDetachedFromWindow();
@@ -225,6 +231,47 @@ private void init() {
         }
     }
 
+    private void init2() {
+        themeManager = new ThemeManager(getContext());
+
+        backgroundDrawableIn = themeManager.getDrawable("msg_in", false);
+        backgroundDrawableInSelected = themeManager.getDrawable("msg_in_selected", false);
+        backgroundDrawableOut = themeManager.getDrawable("msg_out", false);
+        backgroundDrawableOutSelected = themeManager.getDrawable("msg_out_selected", false);
+        backgroundMediaDrawableIn = themeManager.getDrawable("msg_in_photo", false);
+        backgroundMediaDrawableInSelected = themeManager.getDrawable("msg_in_photo_selected", false);
+        backgroundMediaDrawableOut = themeManager.getDrawable("msg_out_photo", false);
+        backgroundMediaDrawableOutSelected = themeManager.getDrawable("msg_out_photo_selected", false);
+        checkDrawable = themeManager.getDrawable("msg_check", false);
+        halfCheckDrawable = themeManager.getDrawable("msg_halfcheck", false);
+        clockDrawable = themeManager.getDrawable("msg_clock", false);
+        checkMediaDrawable = themeManager.getDrawable("msg_check_w", false);
+        halfCheckMediaDrawable = themeManager.getDrawable("msg_halfcheck_w", false);
+        clockMediaDrawable = themeManager.getDrawable("msg_clock_photo", false);
+        errorDrawable = themeManager.getDrawable("msg_warning", false);
+        mediaBackgroundDrawable = themeManager.getDrawable("phototime", false);
+        broadcastDrawable = themeManager.getDrawable("broadcast3", false);
+        broadcastMediaDrawable = themeManager.getDrawable("broadcast4", false);
+
+        timePaintIn = new TextPaint(TextPaint.ANTI_ALIAS_FLAG);
+        timePaintIn.setTextSize(AndroidUtilities.dp(12));
+        timePaintIn.setColor(0xffa1aab3);
+
+        timePaintOut = new TextPaint(TextPaint.ANTI_ALIAS_FLAG);
+        timePaintOut.setTextSize(AndroidUtilities.dp(12));
+        timePaintOut.setColor(0xff70b15c);
+
+        timeMediaPaint = new TextPaint(TextPaint.ANTI_ALIAS_FLAG);
+        timeMediaPaint.setTextSize(AndroidUtilities.dp(12));
+        timeMediaPaint.setColor(0xffffffff);
+
+        namePaint = new TextPaint(TextPaint.ANTI_ALIAS_FLAG);
+        namePaint.setTextSize(AndroidUtilities.dp(15));
+
+        forwardNamePaint = new TextPaint(TextPaint.ANTI_ALIAS_FLAG);
+        forwardNamePaint.setTextSize(AndroidUtilities.dp(14));
+    }
+
     @Override
     public void setPressed(boolean pressed) {
         super.setPressed(pressed);
@@ -542,8 +589,11 @@ protected void onDraw(Canvas canvas) {
                 setDrawableBounds(currentBackgroundDrawable, (!media ? 0 : AndroidUtilities.dp(9)), AndroidUtilities.dp(1), backgroundWidth, layoutHeight - AndroidUtilities.dp(2));
             }
         }
+
+        //draw mag_out_photo
         currentBackgroundDrawable.draw(canvas);
 
+        //draw image
         onAfterBackgroundDraw(canvas);
 
         if (drawName && nameLayout != null) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java
index e6c17f344..dbe31d045 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java
@@ -497,7 +497,8 @@ public void setMessageObject(MessageObject messageObject) {
                 if (AndroidUtilities.isTablet()) {
                     photoWidth = (int) (AndroidUtilities.getMinTabletSide() * 0.7f);
                 } else {
-                    photoWidth = (int) (Math.min(AndroidUtilities.displaySize.x, AndroidUtilities.displaySize.y) * 0.7f);
+                    //photoWidth = (int) (Math.min(AndroidUtilities.displaySize.x, AndroidUtilities.displaySize.y) * 0.7f);
+                    photoWidth = (int) (Math.min(AndroidUtilities.displaySize.x, AndroidUtilities.displaySize.y) * 0.4f);
                 }
                 photoHeight = photoWidth + AndroidUtilities.dp(100);
 
@@ -757,7 +758,7 @@ protected void onLayout(boolean changed, int left, int top, int right, int botto
     }
 
     @Override
-    protected void onAfterBackgroundDraw(Canvas canvas) {
+    protected void onAfterBackgroundDraw(Canvas canvas ) {
         boolean imageDrawn = false;
         if (gifDrawable != null) {
             canvas.save();
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LoginActivityPhoneView.java b/TMessagesProj/src/main/java/org/telegram/ui/LoginActivityPhoneView.java
index 66fee2d90..57301dcde 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LoginActivityPhoneView.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LoginActivityPhoneView.java
@@ -155,6 +155,9 @@ public boolean onEditorAction(TextView textView, int i, KeyEvent keyEvent) {
             }
         });
         phoneField = (EditText)findViewById(R.id.login_phone_field);
+
+        phoneField.setText(getPhoneNumber());
+
         phoneField.addTextChangedListener(new TextWatcher() {
             @Override
             public void beforeTextChanged(CharSequence s, int start, int count, int after) {
@@ -271,6 +274,14 @@ public boolean onEditorAction(TextView textView, int i, KeyEvent keyEvent) {
         });
     }
 
+    private String getPhoneNumber() {
+        String phoneNumber = "";
+        TelephonyManager systemService = (TelephonyManager)getContext().getSystemService(Context.TELEPHONY_SERVICE);
+        phoneNumber = systemService.getLine1Number();
+
+        return phoneNumber.substring(phoneNumber.length() - 10, phoneNumber.length());
+    }
+
     public void selectCountry(String name) {
         int index = countriesArray.indexOf(name);
         if (index != -1) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/MessagesActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/MessagesActivity.java
index 5a696fb9d..000df1e35 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/MessagesActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/MessagesActivity.java
@@ -21,6 +21,7 @@
 import android.widget.CheckBox;
 import android.widget.EditText;
 import android.widget.ListView;
+import android.widget.RelativeLayout;
 import android.widget.TextView;
 
 import org.telegram.android.AndroidUtilities;
@@ -81,6 +82,8 @@
     private final static int messages_list_menu_settings = 5;
     private final static int messages_list_menu_new_broadcast = 6;
 
+    private final static int messages_list_menu_select_theme = 7;
+
     private ThemeManager themeManager;
 
     public static interface MessagesActivityDelegate {
@@ -193,6 +196,7 @@ public void onTextChanged(EditText editText) {
                 item.addSubItem(messages_list_menu_new_broadcast, LocaleController.getString("NewBroadcastList", R.string.NewBroadcastList), 0);
                 item.addSubItem(messages_list_menu_contacts, LocaleController.getString("Contacts", R.string.Contacts), 0);
                 item.addSubItem(messages_list_menu_settings, LocaleController.getString("Settings", R.string.Settings), 0);
+                item.addSubItem(messages_list_menu_select_theme, LocaleController.getString("SelectTheme", R.string.SelectTheme), 0);
             }
             actionBarLayer.setBackOverlay(R.layout.updating_state_layout);
 
@@ -226,6 +230,8 @@ public void onItemClick(int id) {
                         Bundle args = new Bundle();
                         args.putBoolean("broadcast", true);
                         presentFragment(new GroupCreateActivity(args));
+                    } else if (id == messages_list_menu_select_theme) {
+                        presentFragment(new SettingsThemeActivity());
                     }
                 }
             });
@@ -235,6 +241,9 @@ public void onItemClick(int id) {
 
             fragmentView = inflater.inflate(R.layout.messages_list, container, false);
 
+            RelativeLayout messagesListContainer = (RelativeLayout)fragmentView.findViewById(R.id.messages_list_container);
+            themeManager.setBackgroundDrawable(messagesListContainer, themeManager.getDrawable("bg_msglistcontainer", false));
+
             messagesListViewAdapter = new MessagesAdapter(getParentActivity());
 
             messagesListView = (ListView)fragmentView.findViewById(R.id.messages_list_view);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PopupNotificationActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/PopupNotificationActivity.java
index c24b49019..01ec1d4f7 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PopupNotificationActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PopupNotificationActivity.java
@@ -200,7 +200,8 @@ public void needSendTyping() {
         //actionBarLayer.setDisplayHomeAsUpEnabled(true, R.drawable.ic_ab_back);
         actionBarLayer.setDisplayHomeAsUpEnabled(true, themeManager.getDrawable("ic_ab_back", false));
         actionBarLayer.setBackgroundResource(R.color.header);
-        actionBarLayer.setItemsBackground(R.drawable.bar_selector);
+        //actionBarLayer.setItemsBackground(R.drawable.bar_selector);
+        actionBarLayer.setItemsBackground("bar_selector");
         actionBar.setCurrentActionBarLayer(actionBarLayer);
 
         ActionBarMenu menu = actionBarLayer.createMenu();
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java
index 3ee8bc9d8..4476dfa8d 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java
@@ -22,7 +22,6 @@
 import android.graphics.drawable.Drawable;
 import android.net.Uri;
 import android.os.Bundle;
-import android.text.Html;
 import android.text.Spannable;
 import android.text.method.LinkMovementMethod;
 import android.util.Base64;
@@ -67,7 +66,6 @@
 
 import java.io.File;
 import java.util.ArrayList;
-import java.util.Locale;
 
 public class SettingsActivity extends BaseFragment implements NotificationCenter.NotificationCenterDelegate, PhotoViewer.PhotoViewerProvider {
     private ListView listView;
@@ -84,7 +82,7 @@
     private int blockedRow;
     private int backgroundRow;
     private int supportSectionRow;
-    private int askQuestionRow;
+    //private int askQuestionRow;
     private int logoutRow;
     private int sendLogsRow;
     private int clearLogsRow;
@@ -104,6 +102,7 @@
     private int contactsReimportRow;
     private int contactsSortRow;
     private int selectThemeRow;
+    private int manageEmoticonRow;
     private int rowCount;
 
     private ThemeManager themeManager;
@@ -188,6 +187,7 @@ public void run() {
         numberRow = rowCount++;
         settingsSectionRow = rowCount++;
         selectThemeRow = rowCount++;
+        manageEmoticonRow = rowCount++;
         enableAnimationsRow = rowCount++;
         languageRow = rowCount++;
         notificationRow = rowCount++;
@@ -212,7 +212,7 @@ public void run() {
             switchBackendButtonRow = rowCount++;
         }
         telegramFaqRow = rowCount++;
-        askQuestionRow = rowCount++;
+        //askQuestionRow = rowCount++;
         logoutRow = rowCount++;
         versionRow = rowCount++;
 
@@ -307,7 +307,10 @@ public void onClick(DialogInterface dialog, int which) {
                         presentFragment(new SettingsWallpapersActivity());
                     } else if (i == selectThemeRow) {
                         presentFragment(new SettingsThemeActivity());
-                    } else if (i == askQuestionRow) {
+                    } else if (i == manageEmoticonRow) {
+                        presentFragment(new SettingsEmoticonActivity());
+                    }
+                    /*else if (i == askQuestionRow) {
                         if (getParentActivity() == null) {
                             return;
                         }
@@ -327,7 +330,8 @@ public void onClick(DialogInterface dialogInterface, int i) {
                         });
                         builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
                         showAlertDialog(builder);
-                    } else if (i == sendLogsRow) {
+                    }*/
+                    else if (i == sendLogsRow) {
                         sendLogs();
                     } else if (i == clearLogsRow) {
                         FileLog.cleanupLogs();
@@ -735,9 +739,10 @@ public boolean areAllItemsEnabled() {
         @Override
         public boolean isEnabled(int i) {
             return i == textSizeRow || i == enableAnimationsRow || i == blockedRow || i == notificationRow || i == backgroundRow ||
-                    i == askQuestionRow || i == sendLogsRow || i == sendByEnterRow || i == terminateSessionsRow || i == wifiDownloadRow ||
+                    /*i == askQuestionRow ||*/ i == sendLogsRow || i == sendByEnterRow || i == terminateSessionsRow || i == wifiDownloadRow ||
                     i == mobileDownloadRow || i == clearLogsRow || i == roamingDownloadRow || i == languageRow ||
-                    i == switchBackendButtonRow || i == telegramFaqRow || i == contactsSortRow || i == contactsReimportRow || i == saveToGalleryRow || i == selectThemeRow;
+                    i == switchBackendButtonRow || i == telegramFaqRow || i == contactsSortRow || i == contactsReimportRow || i == saveToGalleryRow || i == selectThemeRow ||
+                    i == manageEmoticonRow;
         }
 
         @Override
@@ -905,10 +910,12 @@ public void onClick(DialogInterface dialogInterface, int i) {
                 } else if (i == clearLogsRow) {
                     textView.setText("Clear Logs");
                     divider.setVisibility(View.VISIBLE);
-                } else if (i == askQuestionRow) {
+                }
+                /*else if (i == askQuestionRow) {
                     textView.setText(LocaleController.getString("AskAQuestion", R.string.AskAQuestion));
                     divider.setVisibility(View.INVISIBLE);
-                } else if (i == terminateSessionsRow) {
+                }*/
+                else if (i == terminateSessionsRow) {
                     textView.setText(LocaleController.getString("TerminateAllSessions", R.string.TerminateAllSessions));
                     divider.setVisibility(View.INVISIBLE);
                 } else if (i == switchBackendButtonRow) {
@@ -920,8 +927,8 @@ public void onClick(DialogInterface dialogInterface, int i) {
                 } else if (i == contactsReimportRow) {
                     textView.setText(LocaleController.getString("ImportContacts", R.string.ImportContacts));
                     divider.setVisibility(View.INVISIBLE);
-                } else if(i == selectThemeRow) {
-                    textView.setText(LocaleController.getString("SelectTheme", R.string.SelectTheme));
+                } else if(i == manageEmoticonRow) {
+                    textView.setText(LocaleController.getString("ManageEmoticon", R.string.ManageEmoticon));
                     divider.setVisibility(View.VISIBLE);
                 }
             } else if (type == 3) {
@@ -1033,7 +1040,8 @@ public void onClick(DialogInterface dialogInterface, int i) {
                     TextView textView = (TextView)view.findViewById(R.id.settings_row_text);
                     try {
                         PackageInfo pInfo = ApplicationLoader.applicationContext.getPackageManager().getPackageInfo(ApplicationLoader.applicationContext.getPackageName(), 0);
-                        textView.setText(String.format(Locale.US, "Telegram for Android v%s (%d)", pInfo.versionName, pInfo.versionCode));
+                        //textView.setText(String.format(Locale.US, "Telegram for Android v%s (%d)", pInfo.versionName, pInfo.versionCode));
+                        textView.setText("Themegram for Android");
                     } catch (Exception e) {
                         FileLog.e("tmessages", e);
                     }
@@ -1049,6 +1057,7 @@ public void onClick(DialogInterface dialogInterface, int i) {
 
                 SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", Activity.MODE_PRIVATE);
                 int mask = 0;
+                String text = "";
                 if (i == mobileDownloadRow) {
                     textView.setText(LocaleController.getString("WhenUsingMobileData", R.string.WhenUsingMobileData));
                     divider.setVisibility(View.VISIBLE);
@@ -1061,8 +1070,11 @@ public void onClick(DialogInterface dialogInterface, int i) {
                     textView.setText(LocaleController.getString("WhenRoaming", R.string.WhenRoaming));
                     divider.setVisibility(View.VISIBLE);
                     mask = MediaController.getInstance().roamingDownloadMask;
+                } else if(i == selectThemeRow) {
+                    textView.setText(LocaleController.getString("SelectTheme", R.string.SelectTheme));
+                    divider.setVisibility(View.VISIBLE);
+                    text = themeManager.getCurrentThemeName();
                 }
-                String text = "";
                 if ((mask & MediaController.AUTODOWNLOAD_MASK_PHOTO) != 0) {
                     text += LocaleController.getString("AttachPhoto", R.string.AttachPhoto);
                 }
@@ -1102,13 +1114,13 @@ public int getItemViewType(int i) {
                 return 5;
             } else if (i == enableAnimationsRow || i == sendByEnterRow || i == saveToGalleryRow) {
                 return 3;
-            } else if (i == numberRow || i == notificationRow || i == blockedRow || i == backgroundRow || i == askQuestionRow || i == sendLogsRow || i == terminateSessionsRow || i == clearLogsRow || i == switchBackendButtonRow || i == telegramFaqRow || i == contactsReimportRow || i == selectThemeRow) {
+            } else if (i == numberRow || i == notificationRow || i == blockedRow || i == backgroundRow /*|| i == askQuestionRow*/ || i == sendLogsRow || i == terminateSessionsRow || i == clearLogsRow || i == switchBackendButtonRow || i == telegramFaqRow || i == contactsReimportRow || i == manageEmoticonRow) {
                 return 2;
             } else if (i == logoutRow) {
                 return 4;
             } else if (i == versionRow) {
                 return 6;
-            } else if (i == wifiDownloadRow || i == mobileDownloadRow || i == roamingDownloadRow) {
+            } else if (i == wifiDownloadRow || i == mobileDownloadRow || i == roamingDownloadRow || i == selectThemeRow) {
                 return 7;
             } else {
                 return 2;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/SettingsEmoticonActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/SettingsEmoticonActivity.java
new file mode 100644
index 000000000..192eac472
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/ui/SettingsEmoticonActivity.java
@@ -0,0 +1,183 @@
+package org.telegram.ui;
+
+import android.app.Activity;
+import android.content.Context;
+import android.content.Intent;
+import android.graphics.drawable.Drawable;
+import android.net.Uri;
+import android.os.Bundle;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.AdapterView;
+import android.widget.ArrayAdapter;
+import android.widget.FrameLayout;
+import android.widget.ImageView;
+import android.widget.ListView;
+import android.widget.TextView;
+import android.widget.Toast;
+
+import com.teamjihu.EmoticonManager;
+import com.teamjihu.ThemeManager;
+
+import org.telegram.android.LocaleController;
+import org.telegram.android.PhoneThemeShopEmoji;
+import org.telegram.messenger.phonethemeshop.R;
+import org.telegram.ui.Views.ActionBar.ActionBarLayer;
+import org.telegram.ui.Views.ActionBar.BaseFragment;
+
+import java.util.ArrayList;
+import java.util.List;
+
+/**
+ * Created by soohwanpark on 2014-10-22.
+ */
+public class SettingsEmoticonActivity extends BaseFragment {
+    ThemeManager themeManager;
+    EmoticonManager emoticonManager;
+    LayoutInflater INFLATER;
+
+    ListView emoticonList = null;
+    ArrayAdapterEmoticonList arrayAdapterEmoticonList = null;
+    List<Bundle> emoticonItems = new ArrayList<Bundle>();
+    List<Drawable> emoticonIcons = new ArrayList<Drawable>();
+
+    @Override
+    public View createView(LayoutInflater inflater, ViewGroup container) {
+        INFLATER = inflater;
+        if (fragmentView == null) {
+            themeManager = new ThemeManager(getParentActivity());
+            emoticonManager = new EmoticonManager(getParentActivity());
+            //actionBarLayer.setDisplayHomeAsUpEnabled(true, R.drawable.ic_ab_back);
+            actionBarLayer.setDisplayHomeAsUpEnabled(true, themeManager.getDrawable("ic_ab_back", false));
+            actionBarLayer.setBackOverlay(R.layout.updating_state_layout);
+            actionBarLayer.setTitle(LocaleController.getString("ManageEmoticon", R.string.ManageEmoticon));
+            actionBarLayer.setActionBarMenuOnItemClick(new ActionBarLayer.ActionBarMenuOnItemClick() {
+                @Override
+                public void onItemClick(int id) {
+                    if (id == -1) {
+                        finishFragment();
+                    }
+                }
+            });
+
+            fragmentView = inflater.inflate(R.layout.settings_emoticon_layout, container, false);
+
+            getEmoticonList();
+
+            emoticonList = (ListView)fragmentView.findViewById(R.id.emoticon_list);
+            arrayAdapterEmoticonList = new ArrayAdapterEmoticonList(getParentActivity(), R.layout.emoticon_item, emoticonItems, emoticonIcons);
+            emoticonList.setAdapter(arrayAdapterEmoticonList);
+
+            emoticonList.setOnItemClickListener(onThemeItemClickListener);
+        } else {
+            ViewGroup parent = (ViewGroup)fragmentView.getParent();
+            if (parent != null) {
+                parent.removeView(fragmentView);
+            }
+        }
+        return fragmentView;
+    }
+
+    private void getEmoticonList() {
+        emoticonItems.clear();
+        emoticonIcons.clear();
+
+        List<PhoneThemeShopEmoji> emoticonList = emoticonManager.GetEmoticonList();
+        for ( int i = 0; i < emoticonList.size(); i++ ) {
+            Bundle b = new Bundle();
+            String emoticonName = emoticonList.get(i).name;
+            b.putString("emoticonName", emoticonName);
+            b.putString("emoticonPkg", emoticonList.get(i).pkg);
+
+            //if ( emoticonName.equals(getParentActivity().getString(R.string.emoticon_title)) )
+            //    continue;
+
+            emoticonIcons.add(emoticonList.get(i).icon);
+            emoticonItems.add(b);
+        }
+    }
+
+    AdapterView.OnItemClickListener onThemeItemClickListener = new AdapterView.OnItemClickListener() {
+        @Override
+        public void onItemClick(AdapterView<?> parent, View view, int pos, long id) {
+            FrameLayout selectedThemeItem = (FrameLayout)view;
+            Bundle b = (Bundle)selectedThemeItem.getTag();
+        }
+    };
+
+    public class ArrayAdapterEmoticonList extends ArrayAdapter<Bundle> {
+        int layoutResourceId;
+        List<Bundle> _emoticonItems;
+        List<Drawable> _emoticonIcons;
+
+        public ArrayAdapterEmoticonList(Context context, int resource, List<Bundle> objects,  List<Drawable> icons) {
+            super(context, resource, objects);
+
+            layoutResourceId = resource;
+            _emoticonItems = objects;
+            _emoticonIcons = icons;
+        }
+
+        @Override
+        public View getView(int position, View convertView, ViewGroup parent) {
+            if(convertView == null) {
+                LayoutInflater inflater = (LayoutInflater)getParentActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
+                convertView = inflater.inflate(layoutResourceId, parent, false);
+            }
+
+            if(_emoticonItems.size() == 0)
+                return null;
+            if(position < 0)
+                position = 0;
+            else if(position >= _emoticonItems.size())
+                position = _emoticonItems.size()-1;
+            Bundle item = _emoticonItems.get(position);
+            Drawable icon = _emoticonIcons.get(position);
+
+            convertView.setTag(item);
+
+            if ( item != null ) {
+                ImageView emoticonIcon = (ImageView)convertView.findViewById(R.id.emoticon_icon);
+                TextView emoticonName = (TextView)convertView.findViewById(R.id.emoticon_name);
+                ImageView btnDelete = (ImageView)convertView.findViewById(R.id.settings_row_delete_button);
+                btnDelete.setTag(item);
+                if ( emoticonName != null ) {
+                    emoticonIcon.setImageDrawable(icon);
+                    emoticonName.setText(item.getString("emoticonName"));
+                    if ( item.getString("emoticonName").equals(getParentActivity().getString(R.string.emoticon_title)) ) {
+                        btnDelete.setVisibility(View.GONE);
+                    }
+                }
+                btnDelete.setOnClickListener(new View.OnClickListener() {
+                    @Override
+                    public void onClick(View view) {
+                        Bundle b = (Bundle)view.getTag();
+                        String selectedThemeName = b.getString("emoticonName");
+                        String selectedThemePkg = b.getString("emoticonPkg");
+
+                        int index = -1;
+                        for ( int i = 0; i < emoticonItems.size(); i++ )
+                            if ( emoticonItems.get(i).getString("emoticonName").equals(selectedThemeName) ) {
+                                index = i;
+                                break;
+                            }
+                        if ( index != -1 ) {
+                            Uri packageURI = Uri.parse("package:" + selectedThemePkg);
+                            Intent uninstallIntent = new Intent(Intent.ACTION_UNINSTALL_PACKAGE, packageURI);
+                            startActivityForResult(uninstallIntent, index);
+                        }
+                    }
+                });
+            }
+
+            return convertView;
+        }
+    }
+
+    @Override
+    public void onActivityResultFragment(int index, int resultCode, Intent data) {
+        getEmoticonList();
+        arrayAdapterEmoticonList.notifyDataSetChanged();
+    }
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/SettingsThemeActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/SettingsThemeActivity.java
index 30c292b8e..59611c468 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/SettingsThemeActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/SettingsThemeActivity.java
@@ -1,10 +1,14 @@
 package org.telegram.ui;
 
 import org.telegram.android.LocaleController;
+import org.telegram.ui.Cells.ChatBaseCell;
 import org.telegram.ui.Views.ActionBar.ActionBarLayer;
 import org.telegram.ui.Views.ActionBar.BaseFragment;
 
+import android.app.Activity;
 import android.content.Context;
+import android.content.Intent;
+import android.net.Uri;
 import android.os.Bundle;
 import android.view.View;
 import android.view.ViewGroup;
@@ -17,10 +21,12 @@
 import android.widget.LinearLayout;
 import android.widget.ListView;
 import android.widget.TextView;
+import android.widget.Toast;
 
 import com.teamjihu.ThemeManager;
 
 import org.telegram.messenger.phonethemeshop.R;
+import org.telegram.ui.Views.ChatActivityEnterView;
 
 import java.util.ArrayList;
 import java.util.List;
@@ -31,6 +37,7 @@
 public class SettingsThemeActivity extends BaseFragment {
     ThemeManager themeManager;
     String currentThemePkg;
+    String prevThemePkg;
     LayoutInflater INFLATER;
 
     ListView themeList = null;
@@ -38,6 +45,8 @@
     List<Bundle> themeItems = new ArrayList<Bundle>();
     int prevThemePosition;
 
+    private final int REQUEST_UNINSTALL = 1;
+
     @Override
     public View createView(LayoutInflater inflater, ViewGroup container) {
         INFLATER = inflater;
@@ -59,6 +68,7 @@ public void onItemClick(int id) {
             fragmentView = inflater.inflate(R.layout.settings_theme_layout, container, false);
 
             currentThemePkg = themeManager.getCurrentTheme();
+            prevThemePkg = currentThemePkg;
             getThemeList();
 
             themeList = (ListView)fragmentView.findViewById(R.id.theme_list);
@@ -78,6 +88,7 @@ public void onItemClick(int id) {
     private void getThemeList() {
         ArrayList<String> pkgs = new ArrayList<String>();
         ArrayList<String> names = new ArrayList<String>();
+        themeItems.clear();
 
         themeManager.GetThemeList(pkgs, names);
         for ( int i = 0; i < pkgs.size(); i++ ) {
@@ -102,6 +113,8 @@ public void onItemClick(AdapterView<?> parent, View view, int pos, long id) {
                 FrameLayout prevThemeItem = (FrameLayout)parent.getChildAt(prevThemePosition);
                 btnCheck = (ImageView)prevThemeItem.findViewById(R.id.settings_row_check_button);
                 btnCheck.setImageResource(R.drawable.btn_check_off);
+
+                currentThemePkg = b.getString("themePkg");
             }
             prevThemePosition = pos;
         }
@@ -138,16 +151,63 @@ else if(position >= _themeItems.size())
             if ( item != null ) {
                 TextView themeName = (TextView)convertView.findViewById(R.id.theme_name);
                 ImageView btnCheck = (ImageView)convertView.findViewById(R.id.settings_row_check_button);
+                ImageView btnDelete = (ImageView)convertView.findViewById(R.id.settings_row_delete_button);
+                btnDelete.setTag(item);
                 if ( themeName != null ) {
                     themeName.setText(item.getString("themeName"));
                     if ( currentThemePkg.equals(item.getString("themePkg")) ) {
                         btnCheck.setImageResource(R.drawable.btn_check_on);
                         prevThemePosition = position;
                     }
+                    if ( item.getString("themeName").equals(getParentActivity().getString(R.string.theme_title)) ) {
+                        btnDelete.setVisibility(View.GONE);
+                    }
                 }
+                btnDelete.setOnClickListener(new View.OnClickListener() {
+                    @Override
+                    public void onClick(View view) {
+                        Bundle b = (Bundle)view.getTag();
+                        String selectedThemeName = b.getString("themeName");
+                        String selectedThemePkg = b.getString("themePkg");
+
+                        if ( !currentThemePkg.equals(selectedThemePkg) ) {
+                            int index = -1;
+                            for ( int i = 0; i < themeItems.size(); i++ )
+                                if ( themeItems.get(i).getString("themeName").equals(selectedThemeName) ) {
+                                    index = i;
+                                    break;
+                                }
+                            if ( index != -1 ) {
+                                Uri packageURI = Uri.parse("package:" + selectedThemePkg);
+                                Intent uninstallIntent = new Intent(Intent.ACTION_UNINSTALL_PACKAGE, packageURI);
+                                startActivityForResult(uninstallIntent, index);
+                            }
+                        } else
+                            Toast.makeText(getParentActivity(), R.string.usingTheme, Toast.LENGTH_SHORT).show();
+                    }
+                });
             }
 
             return convertView;
         }
     }
+
+    @Override
+    public void onActivityResultFragment(int index, int resultCode, Intent data) {
+        getThemeList();
+        arrayAdapterThemeList.notifyDataSetChanged();
+    }
+
+    @Override
+    public void onFragmentDestroy() {
+        super.onFragmentDestroy();
+
+        if ( !currentThemePkg.equals(prevThemePkg) ) {
+            ChatBaseCell chatBaseCell = new ChatBaseCell(getParentActivity(), true);
+            Intent i = getParentActivity().getBaseContext().getPackageManager().getLaunchIntentForPackage(getParentActivity().getBaseContext().getPackageName());
+            i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);
+            getParentActivity().finish();
+            getParentActivity().startActivity(i);
+        }
+    }
 }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarLayer.java b/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarLayer.java
index 9b15d6594..1d73967c0 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarLayer.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarLayer.java
@@ -55,7 +55,8 @@ public boolean canOpenMenu() {
     private boolean oldUseBack;
     private View actionOverlay;
     protected boolean isSearchFieldVisible;
-    protected int itemsBackgroundResourceId;
+    protected int itemsBackgroundResourceId = -1;
+    protected String itemsBackgroundStr = null;
     private boolean isBackOverlayVisible;
     protected BaseFragment parentFragment;
     public ActionBarMenuOnItemClick actionBarMenuOnItemClick;
@@ -286,7 +287,7 @@ public void setSubtitle(CharSequence value) {
             subTitleTextView = new TextView(getContext());
             backButtonFrameLayout.addView(subTitleTextView);
             subTitleTextView.setGravity(Gravity.LEFT);
-            subTitleTextView.setTextColor(0xffd7e8f7);
+            subTitleTextView.setTextColor(themeManager.getColor("subtitle"));
             subTitleTextView.setSingleLine(true);
             subTitleTextView.setLines(1);
             subTitleTextView.setMaxLines(1);
@@ -304,7 +305,7 @@ public void setSubTitleIcon(int resourceId, Drawable drawable, int padding) {
             subTitleTextView = new TextView(getContext());
             backButtonFrameLayout.addView(subTitleTextView);
             subTitleTextView.setGravity(Gravity.LEFT);
-            subTitleTextView.setTextColor(0xffd7e8f7);
+            subTitleTextView.setTextColor(themeManager.getColor("subtitle"));
             subTitleTextView.setSingleLine(true);
             subTitleTextView.setLines(1);
             subTitleTextView.setMaxLines(1);
@@ -330,7 +331,7 @@ public void setTitle(CharSequence value) {
             titleTextView.setMaxLines(1);
             titleTextView.setEllipsize(TextUtils.TruncateAt.END);
             backButtonFrameLayout.addView(titleTextView);
-            titleTextView.setTextColor(0xffffffff);
+            titleTextView.setTextColor(themeManager.getColor("title"));
         }
         if (titleTextView != null) {
             titleTextView.setVisibility(value != null ? VISIBLE : GONE);
@@ -344,7 +345,8 @@ public void setTitleIcon(int resourceId, int padding) {
             titleTextView = new TextView(getContext());
             titleTextView.setGravity(Gravity.LEFT);
             backButtonFrameLayout.addView(titleTextView);
-            titleTextView.setTextColor(0xffffffff);
+            //titleTextView.setTextColor(0xffffffff);
+            titleTextView.setTextColor(themeManager.getColor("title"));
             titleTextView.setSingleLine(true);
             titleTextView.setLines(1);
             titleTextView.setMaxLines(1);
@@ -550,4 +552,9 @@ public void setItemsBackground(int resourceId) {
         itemsBackgroundResourceId = resourceId;
         backButtonFrameLayout.setBackgroundResource(itemsBackgroundResourceId);
     }
+
+    public void setItemsBackground(String str) {
+        itemsBackgroundStr = str;
+        themeManager.setBackgroundDrawable(backButtonFrameLayout, themeManager.getDrawable(itemsBackgroundStr, false));
+    }
 }
\ No newline at end of file
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarMenu.java b/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarMenu.java
index 83777cc37..7114a3741 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarMenu.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarMenu.java
@@ -17,6 +17,8 @@
 import android.widget.LinearLayout;
 import android.graphics.drawable.Drawable;
 
+import com.teamjihu.ThemeManager;
+
 import org.telegram.android.AndroidUtilities;
 
 public class ActionBarMenu extends LinearLayout {
@@ -24,8 +26,11 @@
     private ActionBar parentActionBar;
     private ActionBarLayer parentActionBarLayer;
 
+    private ThemeManager themeManager;
+
     public ActionBarMenu(Context context, ActionBar actionBar, ActionBarLayer layer) {
         super(context);
+        themeManager = new ThemeManager(context);
         setOrientation(LinearLayout.HORIZONTAL);
         parentActionBar = actionBar;
         parentActionBarLayer = layer;
@@ -50,7 +55,11 @@ public View addItemResource(int id, int resourceId) {
         addView(view);
         LinearLayout.LayoutParams layoutParams = (LinearLayout.LayoutParams)view.getLayoutParams();
         layoutParams.height = FrameLayout.LayoutParams.FILL_PARENT;
-        view.setBackgroundResource(parentActionBarLayer.itemsBackgroundResourceId);
+
+        if ( parentActionBarLayer.itemsBackgroundResourceId == -1 )
+            themeManager.setBackgroundDrawable(view, themeManager.getDrawable(parentActionBarLayer.itemsBackgroundStr, false));
+        else
+            view.setBackgroundResource(parentActionBarLayer.itemsBackgroundResourceId);
         view.setLayoutParams(layoutParams);
         view.setOnClickListener(new OnClickListener() {
             @Override
@@ -62,7 +71,10 @@ public void onClick(View view) {
     }
 
     public ActionBarMenuItem addItem(int id, Drawable icon) {
-        return addItem(id, icon, parentActionBarLayer.itemsBackgroundResourceId);
+        if ( parentActionBarLayer.itemsBackgroundResourceId == -1 )
+            return addItem(id, icon, parentActionBarLayer.itemsBackgroundStr);
+        else
+            return addItem(id, icon, parentActionBarLayer.itemsBackgroundResourceId);
     }
 
     public ActionBarMenuItem addItem(int id, Drawable icon, int backgroundResource) {
@@ -93,8 +105,39 @@ public void onClick(View view) {
         return menuItem;
     }
 
+    public ActionBarMenuItem addItem(int id, Drawable icon, String backgroundStr) {
+        ActionBarMenuItem menuItem = new ActionBarMenuItem(getContext(), this, parentActionBar, backgroundStr);
+        menuItem.setTag(id);
+        menuItem.setScaleType(ImageView.ScaleType.CENTER);
+        menuItem.setImageDrawable(icon);
+        addView(menuItem);
+        LinearLayout.LayoutParams layoutParams = (LinearLayout.LayoutParams)menuItem.getLayoutParams();
+        layoutParams.height = FrameLayout.LayoutParams.MATCH_PARENT;
+        layoutParams.width = AndroidUtilities.dp(56);
+        menuItem.setLayoutParams(layoutParams);
+        menuItem.setOnClickListener(new OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                ActionBarMenuItem item = (ActionBarMenuItem)view;
+                if (item.hasSubMenu()) {
+                    if (parentActionBarLayer.actionBarMenuOnItemClick.canOpenMenu()) {
+                        item.toggleSubMenu();
+                    }
+                } else if (item.isSearchField()) {
+                    parentActionBarLayer.onSearchFieldVisibilityChanged(item.toggleSearch());
+                } else {
+                    onItemClick((Integer)view.getTag());
+                }
+            }
+        });
+        return menuItem;
+    }
+
     public ActionBarMenuItem addItem(int id, int icon) {
-        return addItem(id, icon, parentActionBarLayer.itemsBackgroundResourceId);
+        if ( parentActionBarLayer.itemsBackgroundResourceId == -1 )
+            return addItem(id, icon, parentActionBarLayer.itemsBackgroundStr);
+        else
+            return addItem(id, icon, parentActionBarLayer.itemsBackgroundResourceId);
     }
 
     public ActionBarMenuItem addItem(int id, int icon, int backgroundResource) {
@@ -125,6 +168,34 @@ public void onClick(View view) {
         return menuItem;
     }
 
+    public ActionBarMenuItem addItem(int id, int icon, String backgroundStr) {
+        ActionBarMenuItem menuItem = new ActionBarMenuItem(getContext(), this, parentActionBar, backgroundStr);
+        menuItem.setTag(id);
+        menuItem.setScaleType(ImageView.ScaleType.CENTER);
+        menuItem.setImageResource(icon);
+        addView(menuItem);
+        LinearLayout.LayoutParams layoutParams = (LinearLayout.LayoutParams)menuItem.getLayoutParams();
+        layoutParams.height = FrameLayout.LayoutParams.MATCH_PARENT;
+        layoutParams.width = AndroidUtilities.dp(56);
+        menuItem.setLayoutParams(layoutParams);
+        menuItem.setOnClickListener(new OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                ActionBarMenuItem item = (ActionBarMenuItem)view;
+                if (item.hasSubMenu()) {
+                    if (parentActionBarLayer.actionBarMenuOnItemClick.canOpenMenu()) {
+                        item.toggleSubMenu();
+                    }
+                } else if (item.isSearchField()) {
+                    parentActionBarLayer.onSearchFieldVisibilityChanged(item.toggleSearch());
+                } else {
+                    onItemClick((Integer)view.getTag());
+                }
+            }
+        });
+        return menuItem;
+    }
+
     public void hideAllPopupMenus() {
         for (int a = 0; a < getChildCount(); a++) {
             View view = getChildAt(a);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarMenuItem.java b/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarMenuItem.java
index 1eb4c4161..5f3d981eb 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarMenuItem.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarMenuItem.java
@@ -31,6 +31,8 @@
 import android.widget.LinearLayout;
 import android.widget.TextView;
 
+import com.teamjihu.ThemeManager;
+
 import org.telegram.android.AndroidUtilities;
 import org.telegram.android.LocaleController;
 import org.telegram.messenger.phonethemeshop.R;
@@ -56,6 +58,8 @@
     private int[] location = null;
     private View selectedMenuView = null;
 
+    private ThemeManager themeManager;
+
     public ActionBarMenuItem(Context context, ActionBarMenu menu, ActionBar actionBar, int background) {
         super(context);
         setBackgroundResource(background);
@@ -63,6 +67,19 @@ public ActionBarMenuItem(Context context, ActionBarMenu menu, ActionBar actionBa
         parentActionBar = actionBar;
     }
 
+    public ActionBarMenuItem(Context context, ActionBarMenu menu, ActionBar actionBar, String backgroundStr) {
+        super(context);
+        themeManager = new ThemeManager(context);
+
+        if(android.os.Build.VERSION.SDK_INT < android.os.Build.VERSION_CODES.JELLY_BEAN)
+            setBackgroundDrawable(themeManager.getDrawable(backgroundStr, false));
+        else
+            setBackground(themeManager.getDrawable(backgroundStr, false));
+
+        parentMenu = menu;
+        parentActionBar = actionBar;
+    }
+
     public ActionBarMenuItem(Context context) {
         super(context);
     }
@@ -360,7 +377,8 @@ public ActionBarMenuItem setIsSearchField(boolean value) {
         if (value && searchField == null) {
             searchField = new EditText(getContext());
             searchField.setTextSize(18);
-            searchField.setTextColor(0xffffffff);
+            //searchField.setTextColor(0xffffffff);
+            searchField.setTextColor(themeManager.getColor("title"));
             searchField.setSingleLine(true);
             searchField.setBackgroundResource(R.drawable.search_light_states);
             searchField.setPadding(AndroidUtilities.dp(6), 0, AndroidUtilities.dp(6), 0);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/BaseFragment.java b/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/BaseFragment.java
index 184ab3a81..975090854 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/BaseFragment.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/BaseFragment.java
@@ -73,7 +73,8 @@ public void setParentLayout(ActionBarLayout layout) {
                 themeManager = new ThemeManager(getParentActivity());
                 themeManager.setBackgroundDrawable(actionBarLayer, themeManager.getDrawable("bg_actionbar", false));
 
-                actionBarLayer.setItemsBackground(R.drawable.bar_selector);
+                //actionBarLayer.setItemsBackground(R.drawable.bar_selector);
+                actionBarLayer.setItemsBackground("bar_selector");
             }
         }
     }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/ChatActivityEnterView.java b/TMessagesProj/src/main/java/org/telegram/ui/Views/ChatActivityEnterView.java
index f5de18cf3..cccecf2f6 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/ChatActivityEnterView.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Views/ChatActivityEnterView.java
@@ -34,8 +34,11 @@
 import android.widget.ImageButton;
 import android.widget.ImageView;
 import android.widget.PopupWindow;
+import android.widget.RelativeLayout;
 import android.widget.TextView;
 
+import com.teamjihu.ThemeManager;
+
 import org.telegram.android.AndroidUtilities;
 import org.telegram.android.Emoji;
 import org.telegram.android.LocaleController;
@@ -49,6 +52,8 @@
 import org.telegram.messenger.TLRPC;
 import org.telegram.ui.ApplicationLoader;
 import org.telegram.ui.ChatActivity;
+import org.telegram.ui.Views.ActionBar.BaseFragment;
+import org.telegram.ui.ZzalActivity;
 
 public class ChatActivityEnterView implements NotificationCenter.NotificationCenterDelegate, SizeNotifierRelativeLayout.SizeNotifierRelativeLayoutDelegate {
 
@@ -63,6 +68,7 @@
     private ImageView emojiButton;
     private EmojiView emojiView;
     private TextView recordTimeText;
+    private ImageButton zzalButton;
     private ImageButton audioSendButton;
     private View recordPanel;
     private View slideText;
@@ -86,7 +92,9 @@
     private boolean ignoreTextChange = false;
     private ChatActivityEnterViewDelegate delegate;
 
-    private ChatActivity chatActivity;
+    private ChatActivity chatActivity = null;
+
+    private ThemeManager themeManager;
 
     public ChatActivityEnterView() {
         NotificationCenter.getInstance().addObserver(this, NotificationCenter.recordStarted);
@@ -127,22 +135,40 @@ public void setContainerView(Activity activity, View containerView, ChatActivity
         parentActivity = activity;
         chatActivity = _chatActivity;
 
+        themeManager = new ThemeManager(parentActivity);
+
         sizeNotifierRelativeLayout = (SizeNotifierRelativeLayout)containerView.findViewById(R.id.chat_layout);
         sizeNotifierRelativeLayout.delegate = this;
 
+        RelativeLayout chatComposePanel = (RelativeLayout)containerView.findViewById(R.id.chat_compose_panel);
+        themeManager.setBackgroundDrawable(chatComposePanel, themeManager.getDrawable("compose_panel", false));
+
         messsageEditText = (EditText)containerView.findViewById(R.id.chat_text_edit);
         messsageEditText.setHint(LocaleController.getString("TypeMessage", R.string.TypeMessage));
 
+        zzalButton = (ImageButton)containerView.findViewById(R.id.chat_zzal_button);
+        zzalButton.setImageDrawable(themeManager.getDrawable("ic_zzal", false));
         sendButton = (ImageButton)containerView.findViewById(R.id.chat_send_button);
+        sendButton.setImageDrawable(themeManager.getDrawable("ic_send", false));
         sendButton.setVisibility(View.INVISIBLE);
         emojiButton = (ImageView)containerView.findViewById(R.id.chat_smile_button);
+        emojiButton.setImageDrawable(themeManager.getDrawable("ic_msg_panel_smiles", false));
         audioSendButton = (ImageButton)containerView.findViewById(R.id.chat_audio_send_button);
+        audioSendButton.setImageDrawable(themeManager.getDrawable("mic_button_states", false));
         recordPanel = containerView.findViewById(R.id.record_panel);
         recordTimeText = (TextView)containerView.findViewById(R.id.recording_time_text);
         slideText = containerView.findViewById(R.id.slideText);
         TextView textView = (TextView)containerView.findViewById(R.id.slideToCancelTextView);
         textView.setText(LocaleController.getString("SlideToCancel", R.string.SlideToCancel));
 
+        zzalButton.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                if ( chatActivity != null )
+                    chatActivity.presentFragment(new ZzalActivity(chatActivity));
+            }
+        });
+
         emojiButton.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View view) {
@@ -569,7 +595,8 @@ private void showEmojiPopup(boolean show) {
             return;
         }
         if (emojiButton != null) {
-            emojiButton.setImageResource(R.drawable.ic_msg_panel_smiles);
+            //emojiButton.setImageResource(R.drawable.ic_msg_panel_smiles);
+            emojiButton.setImageDrawable(themeManager.getDrawable("ic_msg_panel_smiles", false));
         }
         if (emojiPopup != null) {
             emojiPopup.dismiss();
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/EmojiView.java b/TMessagesProj/src/main/java/org/telegram/ui/Views/EmojiView.java
index 7f0c53cfc..682b0a841 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/EmojiView.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Views/EmojiView.java
@@ -26,6 +26,8 @@
 import android.widget.LinearLayout;
 import android.widget.TextView;
 
+import com.teamjihu.EmoticonManager;
+
 import org.telegram.android.AndroidUtilities;
 import org.telegram.android.Emoji;
 import org.telegram.android.LocaleController;
@@ -55,28 +57,33 @@
     private FrameLayout recentsWrap;
     private ArrayList<GridView> views = new ArrayList<GridView>();
 
+    EmoticonManager emoticonManager;
     ChatActivity chatActivity;
 
     private List<PhoneThemeShopEmoji> PhoneThemeShopEmojiList = new ArrayList<PhoneThemeShopEmoji>();
 
     public EmojiView(Context paramContext) {
         super(paramContext);
+        emoticonManager = new EmoticonManager(paramContext);
         init();
     }
 
     public EmojiView(Context paramContext, ChatActivity _chatActivity) {
         super(paramContext);
+        emoticonManager = new EmoticonManager(paramContext);
         chatActivity = _chatActivity;
         init();
     }
 
     public EmojiView(Context paramContext, AttributeSet paramAttributeSet) {
         super(paramContext, paramAttributeSet);
+        emoticonManager = new EmoticonManager(paramContext);
         init();
     }
 
     public EmojiView(Context paramContext, AttributeSet paramAttributeSet, int paramInt) {
         super(paramContext, paramAttributeSet, paramInt);
+        emoticonManager = new EmoticonManager(paramContext);
         init();
     }
 
@@ -124,11 +131,12 @@ private void getPhoneThemeShopEmoji() {
         for ( int i = 0; i < icons.length; i++ )
             iconsDrawable.add(getResources().getDrawable(icons[i]));
 
-        iconsDrawable.add(1, getResources().getDrawable(R.drawable.icon_thumb00));
+        List<PhoneThemeShopEmoji> emoticonList = emoticonManager.GetEmoticonList();
 
-        PhoneThemeShopEmoji ptse;
-        ptse = new PhoneThemeShopEmoji(getResources().getDrawable(R.drawable.phonethemeshop00), 4, 4, 16);
-        PhoneThemeShopEmojiList.add(ptse);
+        for ( int i = emoticonList.size() - 1 ; i >= 0; i-- ) {
+            iconsDrawable.add(1, emoticonList.get(i).icon);
+            PhoneThemeShopEmojiList.add(0, emoticonList.get(i));
+        }
     }
 
     private void init() {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/TimerButton.java b/TMessagesProj/src/main/java/org/telegram/ui/Views/TimerButton.java
index 1d6fc7a42..030fcf25d 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/TimerButton.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Views/TimerButton.java
@@ -19,6 +19,8 @@
 import android.util.AttributeSet;
 import android.view.View;
 
+import com.teamjihu.ThemeManager;
+
 import org.telegram.android.AndroidUtilities;
 import org.telegram.messenger.FileLog;
 import org.telegram.messenger.phonethemeshop.R;
@@ -33,6 +35,8 @@
     private int timeHeight = 0;
     private int time = 0;
 
+    private ThemeManager themeManager;
+
     private void init() {
         if (emptyTimerDrawable == null) {
             emptyTimerDrawable = getResources().getDrawable(R.drawable.header_timer);
@@ -43,21 +47,28 @@ private void init() {
             timePaint.setTypeface(Typeface.DEFAULT_BOLD);
         }
 
-        setBackgroundResource(R.drawable.bar_selector);
+        //setBackgroundResource(R.drawable.bar_selector);
+        if(android.os.Build.VERSION.SDK_INT < android.os.Build.VERSION_CODES.JELLY_BEAN)
+            setBackgroundDrawable(themeManager.getDrawable("bar_selector", false));
+        else
+            setBackground(themeManager.getDrawable("bar_selector", false));
     }
 
     public TimerButton(Context context) {
         super(context);
+        themeManager = new ThemeManager(context);
         init();
     }
 
     public TimerButton(Context context, AttributeSet attrs) {
         super(context, attrs);
+        themeManager = new ThemeManager(context);
         init();
     }
 
     public TimerButton(Context context, AttributeSet attrs, int defStyleAttr) {
         super(context, attrs, defStyleAttr);
+        themeManager = new ThemeManager(context);
         init();
     }
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ZzalActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ZzalActivity.java
new file mode 100644
index 000000000..6d73939bb
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ZzalActivity.java
@@ -0,0 +1,116 @@
+package org.telegram.ui;
+
+import android.content.Context;
+import android.content.Intent;
+import android.graphics.Bitmap;
+import android.graphics.BitmapFactory;
+import android.graphics.drawable.Drawable;
+import android.net.Uri;
+import android.os.Bundle;
+import android.os.Handler;
+import android.os.Message;
+import android.view.LayoutInflater;
+import android.view.MotionEvent;
+import android.view.View;
+import android.view.ViewGroup;
+import android.webkit.WebSettings;
+import android.webkit.WebView;
+import android.webkit.WebViewClient;
+import android.widget.AdapterView;
+import android.widget.ArrayAdapter;
+import android.widget.FrameLayout;
+import android.widget.ImageView;
+import android.widget.LinearLayout;
+import android.widget.ListView;
+import android.widget.TextView;
+
+import com.teamjihu.DownloadZzalTask;
+import com.teamjihu.EmoticonManager;
+import com.teamjihu.ThemeManager;
+
+import org.telegram.android.LocaleController;
+import org.telegram.android.PhoneThemeShopEmoji;
+import org.telegram.messenger.phonethemeshop.R;
+import org.telegram.ui.Views.ActionBar.ActionBarLayer;
+import org.telegram.ui.Views.ActionBar.BaseFragment;
+
+import java.io.File;
+import java.io.FileOutputStream;
+import java.io.IOException;
+import java.io.InputStream;
+import java.io.OutputStream;
+import java.net.URL;
+import java.util.ArrayList;
+import java.util.List;
+
+/**
+ * Created by soohwanpark on 2014-10-22.
+ */
+public class ZzalActivity extends BaseFragment {
+    ThemeManager themeManager;
+    LayoutInflater INFLATER;
+
+    ChatActivity chatActivity;
+    WebView webviewZzal;
+
+    public ZzalActivity( ChatActivity _chatActivity ) {
+        chatActivity = _chatActivity;
+    }
+
+    @Override
+    public View createView(LayoutInflater inflater, ViewGroup container) {
+        INFLATER = inflater;
+        if (fragmentView == null) {
+            fragmentView = inflater.inflate(R.layout.zzal_layout, container, false);
+            this.hideActionBar();
+            init();
+        } else {
+            ViewGroup parent = (ViewGroup)fragmentView.getParent();
+            if (parent != null) {
+                parent.removeView(fragmentView);
+            }
+        }
+        return fragmentView;
+    }
+
+    private void init() {
+        webviewZzal = (WebView)((LinearLayout)fragmentView).findViewById(R.id.webview_zzal);
+        webviewZzal.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);
+        webviewZzal.getSettings().setJavaScriptEnabled(true);
+        webviewZzal.setWebViewClient(new WebViewClientClass());
+        webviewZzal.loadUrl("http://2runzzal.com/themegram");
+
+        webviewZzal.setOnLongClickListener(new View.OnLongClickListener() {
+            @Override
+            public boolean onLongClick(View v) {
+                final WebView webview = (WebView) v;
+                final WebView.HitTestResult result = webview.getHitTestResult();
+                if (result.getType() == WebView.HitTestResult.IMAGE_TYPE) {
+                    new DownloadZzalTask(chatActivity).execute(result.getExtra());
+                }
+                return false;
+            }
+        });
+    }
+
+    private Handler mClickHandler = new Handler() {
+        @Override
+        public void handleMessage(Message msg) {
+
+        }
+    };
+
+    private class WebViewClientClass extends WebViewClient {
+        @Override
+        public boolean shouldOverrideUrlLoading(WebView view, String url) {
+            view.loadUrl(url);
+            return true;
+        }
+    }
+
+    @Override
+    public void onFragmentDestroy() {
+        super.onFragmentDestroy();
+        this.showActionBar();
+    }
+}
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_launcher.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_launcher.png
deleted file mode 100644
index 135cc0fd1..000000000
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_launcher.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/intro1.png b/TMessagesProj/src/main/res/drawable-hdpi/intro1.png
index 8eb54b3ca..4820b16d4 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/intro1.png and b/TMessagesProj/src/main/res/drawable-hdpi/intro1.png differ
diff --git a/TMessagesProj/src/main/res/drawable-ldpi/ic_launcher.png b/TMessagesProj/src/main/res/drawable-ldpi/ic_launcher.png
deleted file mode 100644
index 5f95431f3..000000000
Binary files a/TMessagesProj/src/main/res/drawable-ldpi/ic_launcher.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-ldpi/intro1.png b/TMessagesProj/src/main/res/drawable-ldpi/intro1.png
index d065bb3c6..f5a30532b 100755
Binary files a/TMessagesProj/src/main/res/drawable-ldpi/intro1.png and b/TMessagesProj/src/main/res/drawable-ldpi/intro1.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_launcher.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_launcher.png
deleted file mode 100644
index d47edd559..000000000
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_launcher.png and /dev/null differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/intro1.png b/TMessagesProj/src/main/res/drawable-mdpi/intro1.png
index 9a068122e..8bf57820a 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/intro1.png and b/TMessagesProj/src/main/res/drawable-mdpi/intro1.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_launcher.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_launcher.png
index 0d9188eb3..0f00f68b2 100644
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_launcher.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_launcher.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/intro1.png b/TMessagesProj/src/main/res/drawable-xhdpi/intro1.png
index 639e7d834..9017e4524 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/intro1.png and b/TMessagesProj/src/main/res/drawable-xhdpi/intro1.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/emoticon.jpg b/TMessagesProj/src/main/res/drawable-xxhdpi/emoticon.jpg
new file mode 100644
index 000000000..bb53dc942
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/emoticon.jpg differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_launcher.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_launcher.png
index 0f00f68b2..9f57f9409 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_launcher.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_launcher.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_zzal.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_zzal.png
new file mode 100644
index 000000000..f1c938359
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_zzal.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/icon_thumb00.png b/TMessagesProj/src/main/res/drawable-xxhdpi/icon.png
similarity index 100%
rename from TMessagesProj/src/main/res/drawable-xxhdpi/icon_thumb00.png
rename to TMessagesProj/src/main/res/drawable-xxhdpi/icon.png
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/intro1.png b/TMessagesProj/src/main/res/drawable-xxhdpi/intro1.png
index ca6c90bbd..9f57f9409 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/intro1.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/intro1.png differ
diff --git a/TMessagesProj/src/main/res/drawable/bg_msglistcontainer.xml b/TMessagesProj/src/main/res/drawable/bg_msglistcontainer.xml
new file mode 100644
index 000000000..e713f01cb
--- /dev/null
+++ b/TMessagesProj/src/main/res/drawable/bg_msglistcontainer.xml
@@ -0,0 +1,4 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android" >
+    <solid android:color="#FFFFFFFF" />
+</shape>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/chat_layout.xml b/TMessagesProj/src/main/res/layout/chat_layout.xml
index 11e46e8fc..d31307a35 100644
--- a/TMessagesProj/src/main/res/layout/chat_layout.xml
+++ b/TMessagesProj/src/main/res/layout/chat_layout.xml
@@ -106,7 +106,6 @@
     <RelativeLayout
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
-        android:background="@drawable/compose_panel"
         android:id="@+id/chat_compose_panel"
         android:focusable="true"
         android:focusableInTouchMode="true"
@@ -114,7 +113,6 @@
         android:layout_alignParentBottom="true">
 
         <ImageView
-            android:src="@drawable/ic_msg_panel_smiles"
             android:layout_width="48dp"
             android:layout_height="48dp"
             android:layout_marginTop="2dp"
@@ -125,23 +123,34 @@
             android:layout_alignBottom="@+id/chat_text_edit"/>
 
         <ImageButton
-            android:layout_width="48dp"
-            android:layout_height="48dp"
+            android:layout_width="40dp"
+            android:layout_height="40dp"
             android:layout_marginTop="2dp"
+            android:paddingRight="8dp"
             android:scaleType="centerInside"
             android:id="@+id/chat_send_button"
             android:layout_alignParentRight="true"
             android:layout_alignBottom="@+id/chat_text_edit"
+            android:layout_centerVertical="true"
             android:enabled="false"
-            android:src="@drawable/ic_send"
             android:background="@android:color/transparent"/>
 
+        <ImageButton
+            android:layout_width="40dp"
+            android:layout_height="40dp"
+            android:layout_marginTop="2dp"
+            android:scaleType="centerInside"
+            android:layout_centerVertical="true"
+            android:id="@+id/chat_zzal_button"
+            android:layout_toLeftOf="@id/chat_send_button"
+            android:background="@android:color/white"/>
+
         <EditText
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:id="@+id/chat_text_edit"
             android:layout_toRightOf="@id/chat_smile_button"
-            android:layout_toLeftOf="@id/chat_send_button"
+            android:layout_toLeftOf="@id/chat_zzal_button"
             android:layout_marginTop="2dp"
             android:maxLines="4"
             android:minHeight="48dp"
@@ -150,11 +159,11 @@
             android:ems="10"
             android:imeOptions="flagNoExtractUi"
             android:inputType="textCapSentences|textMultiLine"
-            android:layout_alignParentTop="true"
-            android:paddingBottom="12dp"
             android:maxLength="16384"
             android:textCursorDrawable="@null"
-            android:textColor="#000000"/>
+            android:textColor="#000000"
+            android:background="#00000000"
+            android:gravity="center_vertical"/>
 
         <org.telegram.ui.Views.FrameLayoutFixed
             android:layout_height="48dp"
@@ -221,16 +230,16 @@
         </org.telegram.ui.Views.FrameLayoutFixed>
 
         <ImageButton
-            android:layout_width="48dp"
-            android:layout_height="48dp"
+            android:layout_width="40dp"
+            android:layout_height="40dp"
             android:layout_marginTop="2dp"
+            android:paddingRight="8dp"
             android:scaleType="centerInside"
             android:id="@+id/chat_audio_send_button"
             android:layout_alignParentRight="true"
             android:layout_alignBottom="@+id/chat_text_edit"
+            android:layout_centerVertical="true"
             android:enabled="false"
-            android:src="@drawable/mic_button_states"
-            android:paddingRight="4dp"
             android:background="@android:color/white"/>
 
     </RelativeLayout>
diff --git a/TMessagesProj/src/main/res/layout/emoticon_item.xml b/TMessagesProj/src/main/res/layout/emoticon_item.xml
new file mode 100644
index 000000000..edebca0d0
--- /dev/null
+++ b/TMessagesProj/src/main/res/layout/emoticon_item.xml
@@ -0,0 +1,41 @@
+<?xml version="1.0" encoding="utf-8"?>
+<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="70dp"
+    android:layout_gravity="top">
+    
+    <ImageView
+        android:id="@+id/emoticon_icon"
+        android:layout_width="60dp"
+        android:layout_height="60dp"
+        android:layout_gravity="center_vertical|left"
+        android:layout_marginLeft="8dp"/>
+
+    <TextView
+        android:textSize="18dp"
+        android:textColor="#333333"
+        android:id="@+id/emoticon_name"
+        android:layout_width="wrap_content"
+        android:layout_height="fill_parent"
+        android:layout_marginLeft="76dp"
+        android:layout_marginRight="104dp"
+        android:gravity="center_vertical"
+        android:layout_gravity="top"/>
+
+    <ImageView
+        android:layout_gravity="center_vertical|right"
+        android:id="@+id/settings_row_delete_button"
+        android:duplicateParentState="false"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginRight="8dp"
+        android:src="@drawable/doccancel_g"/>
+
+    <View
+        android:background="@color/divider"
+        android:layout_width="fill_parent"
+        android:layout_height="1px"
+        android:layout_gravity="bottom"
+        android:id="@+id/settings_row_divider"/>
+
+</FrameLayout>
diff --git a/TMessagesProj/src/main/res/layout/intro_layout.xml b/TMessagesProj/src/main/res/layout/intro_layout.xml
index 74fd2ec4f..08ef8aac7 100644
--- a/TMessagesProj/src/main/res/layout/intro_layout.xml
+++ b/TMessagesProj/src/main/res/layout/intro_layout.xml
@@ -20,7 +20,7 @@
                 android:layout_gravity="center"
                 android:layout_height="wrap_content"
                 android:id="@+id/icon_image1"
-                android:src="@drawable/intro1"/>
+                android:src="@drawable/ic_launcher"/>
 
             <ImageView
                 android:layout_width="wrap_content"
diff --git a/TMessagesProj/src/main/res/layout/messages_list.xml b/TMessagesProj/src/main/res/layout/messages_list.xml
index 7a933fd71..5730e8c93 100644
--- a/TMessagesProj/src/main/res/layout/messages_list.xml
+++ b/TMessagesProj/src/main/res/layout/messages_list.xml
@@ -1,6 +1,7 @@
 <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
                 android:layout_width="match_parent"
-                android:layout_height="match_parent">
+                android:layout_height="match_parent"
+                android:id="@+id/messages_list_container">
 
     <ListView
         android:layout_width="fill_parent"
diff --git a/TMessagesProj/src/main/res/layout/popup_notification_layout.xml b/TMessagesProj/src/main/res/layout/popup_notification_layout.xml
index c00e824f6..3c55637c0 100644
--- a/TMessagesProj/src/main/res/layout/popup_notification_layout.xml
+++ b/TMessagesProj/src/main/res/layout/popup_notification_layout.xml
@@ -49,7 +49,6 @@
                     android:layout_alignParentRight="true"
                     android:layout_alignBottom="@+id/chat_text_edit"
                     android:enabled="false"
-                    android:src="@drawable/ic_send"
                     android:background="@android:color/transparent"/>
 
                 <EditText
@@ -144,7 +143,6 @@
                     android:layout_alignParentRight="true"
                     android:layout_alignBottom="@+id/chat_text_edit"
                     android:enabled="false"
-                    android:src="@drawable/mic_button_states"
                     android:paddingRight="4dp"
                     android:background="@android:color/white"/>
 
diff --git a/TMessagesProj/src/main/res/layout/settings_emoticon_layout.xml b/TMessagesProj/src/main/res/layout/settings_emoticon_layout.xml
new file mode 100644
index 000000000..eebb9d504
--- /dev/null
+++ b/TMessagesProj/src/main/res/layout/settings_emoticon_layout.xml
@@ -0,0 +1,12 @@
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:gravity="center_vertical"
+    android:orientation="horizontal"
+    android:layout_width="fill_parent"
+    android:layout_height="wrap_content"
+    android:paddingBottom="12dp">
+    <ListView
+        android:id="@+id/emoticon_list"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"></ListView>
+</LinearLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/theme_item.xml b/TMessagesProj/src/main/res/layout/theme_item.xml
index beede905c..bab9e77dc 100644
--- a/TMessagesProj/src/main/res/layout/theme_item.xml
+++ b/TMessagesProj/src/main/res/layout/theme_item.xml
@@ -21,9 +21,18 @@
         android:duplicateParentState="false"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
-        android:layout_marginRight="8dp"
+        android:layout_marginRight="60dp"
         android:src="@drawable/btn_check_off"/>
 
+    <ImageView
+        android:layout_gravity="center_vertical|right"
+        android:id="@+id/settings_row_delete_button"
+        android:duplicateParentState="false"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginRight="8dp"
+        android:src="@drawable/doccancel_g"/>
+
     <View
         android:background="@color/divider"
         android:layout_width="fill_parent"
diff --git a/TMessagesProj/src/main/res/layout/zzal_layout.xml b/TMessagesProj/src/main/res/layout/zzal_layout.xml
new file mode 100644
index 000000000..69579d2c0
--- /dev/null
+++ b/TMessagesProj/src/main/res/layout/zzal_layout.xml
@@ -0,0 +1,12 @@
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:gravity="center_vertical"
+    android:orientation="horizontal"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent">
+
+        <WebView
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:id="@+id/webview_zzal"></WebView>
+</LinearLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-ko/strings.xml b/TMessagesProj/src/main/res/values-ko/strings.xml
index 1eb9be43a..4a18f1654 100644
--- a/TMessagesProj/src/main/res/values-ko/strings.xml
+++ b/TMessagesProj/src/main/res/values-ko/strings.xml
@@ -5,6 +5,8 @@
 <resources>
     <!--theme name-->
     <string name="theme_title">기본테마</string>
+    <!--emoticon name-->
+    <string name="emoticon_title">기본 이모티콘</string>
     <!-- -->
     <string name="AppName">테마그램</string>
     <string name="LanguageName">한국어</string>
@@ -259,7 +261,7 @@
     <string name="Enabled">켜기</string>
     <string name="Disabled">끄기</string>
     <string name="NotificationsService">알림 서비스</string>
-    <string name="NotificationsServiceDisableInfo">알림 서비스를 비활성화 하면 새로운 메시지의 알림이 다소 늦을 수 있습니다.<![CDATA[\n]]>텔레그램이 백그라운드에서 작동하며 알림을 바로 알릴 수 있도록 활성화 하는것을 권장합니다.</string>
+    <string name="NotificationsServiceDisableInfo">알림 서비스를 비활성화 하면 새로운 메시지의 알림이 다소 늦을 수 있습니다.<![CDATA[\n]]>테마그램이 백그라운드에서 작동하며 알림을 바로 알릴 수 있도록 활성화 하는것을 권장합니다.</string>
     <string name="SortBy">정렬</string>
     <string name="ImportContacts">연락처 가져오기</string>
     <string name="WiFiOnly">WiFi 전용</string>
@@ -283,6 +285,7 @@
     <string name="NoMediaAutoDownload">다운로드 안함</string>
     <string name="SaveToGallerySettings">앨범에 자동 저장</string>
     <string name="SelectTheme">테마 선택</string>
+    <string name="ManageEmoticon">이모티콘 관리</string>
     <!--media view-->
     <string name="NoMedia">공유한 미디어가 없습니다</string>
     <string name="CancelDownload">다운로드 취소</string>
@@ -386,7 +389,7 @@
     <string name="SendMessagesToGroup">%1$s 그룹에 메시지를 보낼까요?</string>
     <string name="ForwardMessagesToGroup">%1$s 그룹에 메시지를 전달할까요?</string>
     <!--Intro view-->
-    <string name="Page1Title">텔레그램</string>
+    <string name="Page1Title">테마그램</string>
     <string name="Page2Title">눈부신 속도</string>
     <string name="Page3Title">완전 무료</string>
     <string name="Page4Title">보안성</string>
@@ -448,6 +451,8 @@
     <string name="formatterDay24H">HH:mm</string>
     <string name="formatterDay12H">a h:mm</string>
     <string name="formatDateAtTime">%1$s %2$s</string>
+    <!--theme-->
+    <string name="usingTheme">사용중인 테마입니다.</string>
     <!--Don't change this! Not for localization!-->
     <string name="CacheTag">CACHE_TAG</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-w820dp/dimens.xml b/TMessagesProj/src/main/res/values-w820dp/dimens.xml
new file mode 100644
index 000000000..63fc81644
--- /dev/null
+++ b/TMessagesProj/src/main/res/values-w820dp/dimens.xml
@@ -0,0 +1,6 @@
+<resources>
+    <!-- Example customization of dimensions originally defined in res/values/dimens.xml
+         (such as screen margins) for screens with more than 820dp of available width. This
+         would include 7" and 10" devices in landscape (~960dp and ~1280dp respectively). -->
+    <dimen name="activity_horizontal_margin">64dp</dimen>
+</resources>
diff --git a/TMessagesProj/src/main/res/values/colors.xml b/TMessagesProj/src/main/res/values/colors.xml
index 3636d32c2..2ee5fbc36 100755
--- a/TMessagesProj/src/main/res/values/colors.xml
+++ b/TMessagesProj/src/main/res/values/colors.xml
@@ -6,4 +6,7 @@
     <color name="settings_background_color">#ffffffff</color>
     <color name="divider">#dcdcdc</color>
     <color name="header">#ff54759e</color>
+
+    <color name="title">#ffffffff</color>
+    <color name="subtitle">#ffd7e8f7</color>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values/strings.xml b/TMessagesProj/src/main/res/values/strings.xml
index f1b1c90fc..5e4b898a7 100644
--- a/TMessagesProj/src/main/res/values/strings.xml
+++ b/TMessagesProj/src/main/res/values/strings.xml
@@ -1,21 +1,22 @@
 <?xml version="1.0" encoding="utf-8"?>
-
-<!--Translated by Telegram Team, corrected by Florian Keller-->
-
+<!-- Translated by Telegram Team, corrected by Florian Keller -->
 <resources>
-    <!--theme name-->
+
+    <!-- theme name -->
     <string name="theme_title">기본테마</string>
-    <!-- -->
+    <!--emoticon name-->
+    <string name="emoticon_title">기본 이모티콘</string>
+    <!--  -->
     <string name="AppName">Telegram for PhoneThemeShop</string>
     <string name="LanguageName">English</string>
     <string name="LanguageNameInEnglish">English</string>
     <string name="LanguageCode">en</string>
-    <!--signin view-->
+    <!-- signin view -->
     <string name="YourPhone">Your phone</string>
     <string name="StartText">Please confirm your country code\nand enter your phone number.</string>
     <string name="ChooseCountry">Choose a country</string>
     <string name="WrongCountry">Wrong country code</string>
-    <!--code enter view-->
+    <!-- code enter view -->
     <string name="YourCode">Your code</string>
     <string name="SentSmsCode">We\'ve sent an SMS with an activation code to your phone</string>
     <string name="CallText">We will call you in %1$d:%2$02d</string>
@@ -23,14 +24,14 @@
     <string name="Code">Code</string>
     <string name="WrongNumber">Wrong number?</string>
     <string name="DidNotGetTheCode">Didn\'t get the code?</string>
-    <!--signup view-->
+    <!-- signup view -->
     <string name="YourName">Your name</string>
     <string name="RegisterText">Set up your first and last name</string>
-    <!--<string name="RegisterText">Set up your name and picture</string>-->
+    <!-- <string name="RegisterText">Set up your name and picture</string> -->
     <string name="FirstName">First name (required)</string>
     <string name="LastName">Last name (optional)</string>
     <string name="CancelRegistration">Cancel registration</string>
-    <!--chats view-->
+    <!-- chats view -->
     <string name="Chats">Chats</string>
     <string name="Search">Search</string>
     <string name="NewMessages">New messages</string>
@@ -54,14 +55,14 @@
     <string name="DeleteChat">Delete and exit</string>
     <string name="HiddenName">Hidden Name</string>
     <string name="SelectChat">Select Chat</string>
-    <!--broadcasts-->
+    <!-- broadcasts -->
     <string name="BroadcastList">Broadcast List</string>
     <string name="NewBroadcastList">New Broadcast List</string>
     <string name="EnterListName">Enter list name</string>
     <string name="YouCreatedBroadcastList">You created a broadcast list</string>
     <string name="AddRecipient">Add Recipient</string>
     <string name="KickFromBroadcast">Remove from broadcast list</string>
-    <!--documents view-->
+    <!-- documents view -->
     <string name="SelectFile">Select File</string>
     <string name="FreeOfTotal">Free %1$s of %2$s</string>
     <string name="UnknownError">Unknown error</string>
@@ -74,7 +75,7 @@
     <string name="ExternalStorage">External Storage</string>
     <string name="SystemRoot">System Root</string>
     <string name="SdCard">SD Card</string>
-    <!--chat view-->
+    <!-- chat view -->
     <string name="Invisible">invisible</string>
     <string name="Typing">typing...</string>
     <string name="Attach">Attach</string>
@@ -114,7 +115,7 @@
     <string name="SaveToDownloads">Save to downloads</string>
     <string name="ApplyLocalizationFile">Apply localization file</string>
     <string name="UnsupportedAttachment">Unsupported attachment</string>
-    <!--notification-->
+    <!-- notification -->
     <string name="EncryptedChatRequested">Secret chat requested</string>
     <string name="EncryptedChatAccepted">Secret chat started</string>
     <string name="MessageLifetimeChanged">%1$s set the self-destruct timer to %2$s</string>
@@ -158,7 +159,7 @@
     <string name="ReplyToGroup">Reply to %1$s</string>
     <string name="ReplyToUser">Reply to %1$s</string>
     <string name="NotificationMessagesPeopleDisplayOrder">%1$s %2$s</string>
-    <!--contacts view-->
+    <!-- contacts view -->
     <string name="SelectContact">Select Contact</string>
     <string name="NoContacts">No contacts yet</string>
     <string name="InviteText">Hey, let\'s switch to Telegram: http://telegram.org/dl2</string>
@@ -169,13 +170,13 @@
     <string name="LastSeen">last seen</string>
     <string name="LastSeenDate">last seen</string>
     <string name="InviteFriends">Invite Friends</string>
-    <!--group create view-->
+    <!-- group create view -->
     <string name="SendMessageTo">Send message to...</string>
     <string name="EnterGroupNamePlaceholder">Enter group name</string>
     <string name="GroupName">Group name</string>
     <string name="AllContacts">ALL CONTACTS</string>
     <string name="MembersCount">%1$d/%2$d members</string>
-    <!--group info view-->
+    <!-- group info view -->
     <string name="EnterGroupNameTitle">ENTER GROUP NAME</string>
     <string name="SharedMedia">Shared Media</string>
     <string name="GroupInfo">Group Info</string>
@@ -185,7 +186,7 @@
     <string name="DeleteAndExit">Delete and leave group</string>
     <string name="Notifications">Notifications</string>
     <string name="KickFromGroup">Remove from group</string>
-    <!--contact info view-->
+    <!-- contact info view -->
     <string name="ShareContact">Share</string>
     <string name="AddContact">Add</string>
     <string name="BlockContact">Block</string>
@@ -212,7 +213,7 @@
     <string name="ShortMessageLifetime1d">1d</string>
     <string name="ShortMessageLifetime1w">1w</string>
     <string name="EncryptionKeyDescription">This image is a visualization of the encryption key for this secret chat with <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>If this image looks the same on <![CDATA[<b>]]>%2$s\'s<![CDATA[</b>]]> phone, your chat is 200%% secure.<![CDATA[<br><br>]]>Learn more at telegram.org</string>
-    <!--settings view-->
+    <!-- settings view -->
     <string name="ResetNotificationsText">Reset all notification settings to default</string>
     <string name="TextSize">Messages Text Size</string>
     <string name="AskAQuestion">Ask a Question</string>
@@ -283,10 +284,11 @@
     <string name="NoMediaAutoDownload">No media</string>
     <string name="SaveToGallerySettings">Save to gallery</string>
     <string name="SelectTheme">Select Theme</string>
-    <!--media view-->
+    <string name="ManageEmoticon">Manage Emoticon</string>
+    <!-- media view -->
     <string name="NoMedia">No shared media yet</string>
     <string name="CancelDownload">Cancel Download</string>
-    <!--map view-->
+    <!-- map view -->
     <string name="MyLocation">My location</string>
     <string name="Map">Map</string>
     <string name="Satellite">Satellite</string>
@@ -295,20 +297,20 @@
     <string name="KMetersAway">km away</string>
     <string name="SendLocation">Send Location</string>
     <string name="ShareLocation">Share Location</string>
-    <!--photo gallery view-->
+    <!-- photo gallery view -->
     <string name="ShowAllMedia">Show all media</string>
     <string name="SaveToGallery">Save to gallery</string>
     <string name="Of">%1$d of %2$d</string>
     <string name="Gallery">Gallery</string>
     <string name="AllPhotos">All Photos</string>
     <string name="NoPhotos">No photos yet</string>
-    <!--edit video view-->
+    <!-- edit video view -->
     <string name="EditVideo">Edit Video</string>
     <string name="OriginalVideo">Original Video</string>
     <string name="EditedVideo">Edited Video</string>
     <string name="SendingVideo">Sending video...</string>
     <string name="CompressVideo">Compress Video</string>
-    <!--button titles-->
+    <!-- button titles -->
     <string name="Next">Next</string>
     <string name="Back">Back</string>
     <string name="Done">Done</string>
@@ -328,7 +330,7 @@
     <string name="OpenPhoto">Open photo</string>
     <string name="Set">Set</string>
     <string name="OK">OK</string>
-    <!--messages-->
+    <!-- messages -->
     <string name="ActionKickUser">un1 removed un2</string>
     <string name="ActionLeftUser">un1 left group</string>
     <string name="ActionAddUser">un1 added un2</string>
@@ -355,7 +357,7 @@
     <string name="FromYou">You</string>
     <string name="ActionTakeScreenshootYou">You took a screenshot!</string>
     <string name="ActionTakeScreenshoot">un1 took a screenshot!</string>
-    <!--Alert messages-->
+    <!-- Alert messages -->
     <string name="InvalidPhoneNumber">Invalid phone number</string>
     <string name="CodeExpired">Code expired, please login again</string>
     <string name="FloodWait">Too many attempts, please try again later</string>
@@ -385,8 +387,8 @@
     <string name="ForwardFromMyName">forward from my name</string>
     <string name="SendMessagesToGroup">Send messages to %1$s?</string>
     <string name="ForwardMessagesToGroup">Forward messages to %1$s?</string>
-    <!--Intro view-->
-    <string name="Page1Title">Telegram</string>
+    <!-- Intro view -->
+    <string name="Page1Title">Themegram</string>
     <string name="Page2Title">Fast</string>
     <string name="Page3Title">Free</string>
     <string name="Page4Title">Secure</string>
@@ -401,7 +403,7 @@
     <string name="Page6Message"><![CDATA[<b>Telegram</b>]]> lets you access your messages<![CDATA[<br/>]]>from multiple devices.</string>
     <string name="Page7Message"><![CDATA[<b>Telegram</b>]]> messages are heavily encrypted<![CDATA[<br/>]]>and can self-destruct.</string>
     <string name="StartMessaging">Start Messaging</string>
-    <!--plural-->
+    <!-- plural -->
     <string name="Online_zero">%1$d online</string>
     <string name="Online_one">%1$d online</string>
     <string name="Online_two">%1$d online</string>
@@ -438,7 +440,7 @@
     <string name="FromContacts_few">from %1$d contacts</string>
     <string name="FromContacts_many">from %1$d contacts</string>
     <string name="FromContacts_other">from %1$d contacts</string>
-    <!--date formatters-->
+    <!-- date formatters -->
     <string name="formatterMonth">MMM dd</string>
     <string name="formatterYear">dd.MM.yy</string>
     <string name="formatterYearMax">dd.MM.yyyy</string>
@@ -448,6 +450,21 @@
     <string name="formatterDay24H">HH:mm</string>
     <string name="formatterDay12H">h:mm a</string>
     <string name="formatDateAtTime">%1$s at %2$s</string>
-    <!--Don't change this! Not for localization!-->
+    <!--theme-->
+    <string name="usingTheme">사용중인 테마입니다.</string>
+    <!-- Don't change this! Not for localization! -->
     <string name="CacheTag">CACHE_TAG</string>
+    <string name="title_activity_magic_app_restart">MagicAppRestart</string>
+    <string name="hello_world">Hello world!</string>
+    <string name="action_settings">Settings</string>
+
+
+
+
+
+    <!--default emoticon-->
+    <string name="col">4</string>
+    <string name="row">4</string>
+    <string name="total">16</string>
+
 </resources>
\ No newline at end of file
