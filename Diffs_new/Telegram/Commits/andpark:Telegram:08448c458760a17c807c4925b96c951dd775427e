diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatAudioCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatAudioCell.java
index 727fa748e..7417315a0 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatAudioCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatAudioCell.java
@@ -64,6 +64,8 @@
 
     private ThemeManager themeManager;
 
+    private ThemeManager themeManager;
+
     public ChatAudioCell(Context context) {
         super(context);
         themeManager = new ThemeManager(context);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java
index 51f245018..9edb6a287 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java
@@ -22,6 +22,8 @@
 
 import com.teamjihu.ThemeManager;
 
+import com.teamjihu.ThemeManager;
+
 import org.telegram.android.AndroidUtilities;
 import org.telegram.android.ContactsController;
 import org.telegram.android.LocaleController;
@@ -116,15 +118,13 @@
     private int last_delete_date = 0;
     private ThemeManager themeManager;
 
-
-    public ChatBaseCell(Context context) {
-        super(context);
     public ChatBaseCell(Context context, boolean init) {
         super(context);
         init2();
         avatarImage = new ImageReceiver(this);
     }
 
+private void init() {
         themeManager = new ThemeManager(getContext());
         if (backgroundDrawableIn == null) {
             /*
@@ -235,6 +235,47 @@ private void init2() {
         forwardNamePaint.setTextSize(AndroidUtilities.dp(14));
     }
 
+    private void init2() {
+        themeManager = new ThemeManager(getContext());
+
+        backgroundDrawableIn = themeManager.getDrawable("msg_in", false);
+        backgroundDrawableInSelected = themeManager.getDrawable("msg_in_selected", false);
+        backgroundDrawableOut = themeManager.getDrawable("msg_out", false);
+        backgroundDrawableOutSelected = themeManager.getDrawable("msg_out_selected", false);
+        backgroundMediaDrawableIn = themeManager.getDrawable("msg_in_photo", false);
+        backgroundMediaDrawableInSelected = themeManager.getDrawable("msg_in_photo_selected", false);
+        backgroundMediaDrawableOut = themeManager.getDrawable("msg_out_photo", false);
+        backgroundMediaDrawableOutSelected = themeManager.getDrawable("msg_out_photo_selected", false);
+        checkDrawable = themeManager.getDrawable("msg_check", false);
+        halfCheckDrawable = themeManager.getDrawable("msg_halfcheck", false);
+        clockDrawable = themeManager.getDrawable("msg_clock", false);
+        checkMediaDrawable = themeManager.getDrawable("msg_check_w", false);
+        halfCheckMediaDrawable = themeManager.getDrawable("msg_halfcheck_w", false);
+        clockMediaDrawable = themeManager.getDrawable("msg_clock_photo", false);
+        errorDrawable = themeManager.getDrawable("msg_warning", false);
+        mediaBackgroundDrawable = themeManager.getDrawable("phototime", false);
+        broadcastDrawable = themeManager.getDrawable("broadcast3", false);
+        broadcastMediaDrawable = themeManager.getDrawable("broadcast4", false);
+
+        timePaintIn = new TextPaint(TextPaint.ANTI_ALIAS_FLAG);
+        timePaintIn.setTextSize(AndroidUtilities.dp(12));
+        timePaintIn.setColor(0xffa1aab3);
+
+        timePaintOut = new TextPaint(TextPaint.ANTI_ALIAS_FLAG);
+        timePaintOut.setTextSize(AndroidUtilities.dp(12));
+        timePaintOut.setColor(0xff70b15c);
+
+        timeMediaPaint = new TextPaint(TextPaint.ANTI_ALIAS_FLAG);
+        timeMediaPaint.setTextSize(AndroidUtilities.dp(12));
+        timeMediaPaint.setColor(0xffffffff);
+
+        namePaint = new TextPaint(TextPaint.ANTI_ALIAS_FLAG);
+        namePaint.setTextSize(AndroidUtilities.dp(15));
+
+        forwardNamePaint = new TextPaint(TextPaint.ANTI_ALIAS_FLAG);
+        forwardNamePaint.setTextSize(AndroidUtilities.dp(14));
+    }
+
     @Override
     public void setPressed(boolean pressed) {
         super.setPressed(pressed);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
index e4df91380..94212c962 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
@@ -3266,6 +3266,12 @@ public void didPressedOther(ChatMediaCell cell) {
                     } else if (view instanceof ChatContactCell) {
                         ((ChatContactCell)view).setContactDelegate(new ChatContactCell.ChatContactCellDelegate() {
 
+
+
+
+
+
+
                             @Override
                             public void didClickAddButton(ChatContactCell cell, TLRPC.User user) {
                                 if (actionBarLayer.isActionModeShowed()) {
diff --git a/TMessagesProj/src/main/res/values/strings.xml b/TMessagesProj/src/main/res/values/strings.xml
index 46e201197..4b8c26f9d 100644
--- a/TMessagesProj/src/main/res/values/strings.xml
+++ b/TMessagesProj/src/main/res/values/strings.xml
@@ -55,8 +55,11 @@
     <string name="DeleteChat">Delete and exit</string>
     <string name="HiddenName">Hidden Name</string>
     <string name="SelectChat">Select Chat</string>
+<<<<<<< HEAD
     <string name="PhotoTip">Tap and hold to view</string>
     <string name="CompatibilityChat">%1$s is using an older version of Telegram, so secret photos will be shown in compatibility mode.\n\nOnce %2$s updates Telegram, photos with timers for 1 minute or less will start working in \'Tap and hold to view\' mode, and you will be notified whenever the other party takes a screenshot.</string>
+=======
+>>>>>>> d7477f865cf74dbc975075e5b7278dceba521321
     <!-- broadcasts -->
     <string name="BroadcastList">Broadcast List</string>
     <string name="NewBroadcastList">New Broadcast List</string>
@@ -166,7 +169,10 @@
     <string name="LastSeen">last seen</string>
     <string name="LastSeenDate">last seen</string>
     <string name="InviteFriends">Invite Friends</string>
+<<<<<<< HEAD
     <string name="GlobalSearch">GLOBAL SEARCH</string>
+=======
+>>>>>>> d7477f865cf74dbc975075e5b7278dceba521321
     <!-- group create view -->
     <string name="SendMessageTo">Send message to...</string>
     <string name="EnterGroupNamePlaceholder">Enter group name</string>
@@ -203,6 +209,7 @@
     <string name="MessageLifetime">Self-Destruct Timer</string>
     <string name="ShortMessageLifetimeForever">Off</string>
     <string name="EncryptionKeyDescription">This image is a visualization of the encryption key for this secret chat with <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>If this image looks the same on <![CDATA[<b>]]>%2$s\'s<![CDATA[</b>]]> phone, your chat is 200%% secure.<![CDATA[<br><br>]]>Learn more at telegram.org</string>
+<<<<<<< HEAD
     <string name="NumberUnknown">Unknown</string>
     <string name="Info">INFO</string>
     <string name="Phone">Phone</string>
@@ -219,6 +226,8 @@
     <string name="UsernameAvailable">%1$s is available.</string>
     <string name="UsernameEmpty">None</string>
     <string name="ErrorOccurred">An error occurred.</string>
+=======
+>>>>>>> d7477f865cf74dbc975075e5b7278dceba521321
     <!-- settings view -->
     <string name="ResetNotificationsText">Reset all notification settings to default</string>
     <string name="TextSize">Messages Text Size</string>
@@ -392,7 +401,10 @@
     <string name="ForwardFromMyName">forward from my name</string>
     <string name="SendMessagesToGroup">Send messages to %1$s?</string>
     <string name="ForwardMessagesToGroup">Forward messages to %1$s?</string>
+<<<<<<< HEAD
     <string name="FeatureUnavailable">Sorry, this feature is currently not available in your country.</string>
+=======
+>>>>>>> d7477f865cf74dbc975075e5b7278dceba521321
     <!-- Intro view -->
     <string name="Page1Title">Themegram</string>
     <string name="Page2Title">Fast</string>
@@ -446,6 +458,7 @@
     <string name="FromContacts_few">from %1$d contacts</string>
     <string name="FromContacts_many">from %1$d contacts</string>
     <string name="FromContacts_other">from %1$d contacts</string>
+<<<<<<< HEAD
     <string name="Seconds_zero">%1$d seconds</string>
     <string name="Seconds_one">%1$d second</string>
     <string name="Seconds_two">%1$d seconds</string>
@@ -476,6 +489,8 @@
     <string name="Weeks_few">%1$d weeks</string>
     <string name="Weeks_many">%1$d weeks</string>
     <string name="Weeks_other">%1$d weeks</string>
+=======
+>>>>>>> d7477f865cf74dbc975075e5b7278dceba521321
     <!-- date formatters -->
     <string name="formatterMonth">MMM dd</string>
     <string name="formatterYear">dd.MM.yy</string>
@@ -488,7 +503,12 @@
     <string name="formatDateAtTime">%1$s at %2$s</string>
     <!--theme-->
     <string name="usingTheme">사용중인 테마입니다.</string>
+<<<<<<< HEAD
 
+=======
+    <!-- Don't change this! Not for localization! -->
+    <string name="CacheTag">CACHE_TAG</string>
+>>>>>>> d7477f865cf74dbc975075e5b7278dceba521321
     <string name="title_activity_magic_app_restart">MagicAppRestart</string>
     <string name="hello_world">Hello world!</string>
     <string name="action_settings">Settings</string>
