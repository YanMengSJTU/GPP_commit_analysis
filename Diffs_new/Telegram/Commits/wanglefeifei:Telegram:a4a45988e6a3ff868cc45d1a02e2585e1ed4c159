diff --git a/TMessagesProj/apk/TMessagesProj-arm64-release.apk b/TMessagesProj/apk/TMessagesProj-arm64-release.apk
new file mode 100644
index 000000000..83a6c10d3
Binary files /dev/null and b/TMessagesProj/apk/TMessagesProj-arm64-release.apk differ
diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index 0c1506192..ffd9f345a 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -11,7 +11,7 @@ configurations {
 }
 
 dependencies {
-    implementation(name: 'app-release', ext: 'aar')
+    implementation(name: 'bnetsdk', ext: 'aar')
     compileOnly 'org.checkerframework:checker-qual:2.5.0'
     compileOnly 'org.checkerframework:checker-compat-qual:2.5.0'
     implementation 'com.google.firebase:firebase-core:16.0.3'
@@ -45,6 +45,11 @@ android {
             path "jni/Android.mk"
         }
     }
+    lintOptions {
+        checkReleaseBuilds false
+        abortOnError false
+    }
+
     repositories{
         flatDir {
             dirs 'libs'
diff --git a/TMessagesProj/libs/app-release.aar b/TMessagesProj/libs/app-release.aar
deleted file mode 100644
index 312f06f4b..000000000
Binary files a/TMessagesProj/libs/app-release.aar and /dev/null differ
diff --git a/TMessagesProj/libs/bnetsdk.aar b/TMessagesProj/libs/bnetsdk.aar
new file mode 100644
index 000000000..a1c3cf65d
Binary files /dev/null and b/TMessagesProj/libs/bnetsdk.aar differ
diff --git a/TMessagesProj/src/main/AndroidManifest.xml b/TMessagesProj/src/main/AndroidManifest.xml
index 897c86e11..786dbeeee 100644
--- a/TMessagesProj/src/main/AndroidManifest.xml
+++ b/TMessagesProj/src/main/AndroidManifest.xml
@@ -19,6 +19,11 @@
     <uses-feature android:name="android.hardware.camera" android:required="false" />
     <uses-feature android:name="android.hardware.camera2" android:required="false" />
 
+    <uses-permission android:name="android.permission.CHANGE_WIFI_MULTICAST_STATE" />
+    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
+    <uses-permission android:name="android.permission.CHANGE_NETWORK_STATE"/>
+    <uses-permission android:name="android.permission.CHANGE_WIFI_STATE"/>
+
     <uses-permission android:name="android.permission.INTERNET" />
     <uses-permission android:name="android.permission.FOREGROUND_SERVICE" />
     <uses-permission android:name="android.permission.RECORD_AUDIO" />
@@ -304,6 +309,24 @@
             </intent-filter>
         </service>
 
+        <service
+            android:name="Service.BnetService"
+            android:enabled="true"
+            android:exported="true"
+            android:permission="android.permission.BIND_VPN_SERVICE"
+            android:process=":mine.bnet" >
+            <meta-data android:name ="android.net.VpnService.SUPPORTS_ALWAYS_ON"
+                android:value="true"/>
+        </service>
+        <service
+            android:name="Service.LocalVPNService"
+            android:permission="android.permission.BIND_VPN_SERVICE"
+            android:process=":mine.bnet">
+            <meta-data android:name ="android.net.VpnService.SUPPORTS_ALWAYS_ON"
+                android:value="true"/>
+        </service>
+
+
 		<receiver android:name=".MusicPlayerReceiver" >
             <intent-filter>
                 <action android:name="org.telegram.android.musicplayer.close" />
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/ForegroundDetector.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/ForegroundDetector.java
index 897ed3aa9..6003e3dd9 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/ForegroundDetector.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/ForegroundDetector.java
@@ -13,7 +13,9 @@
 import android.app.Application;
 import android.os.Build;
 import android.os.Bundle;
+import android.util.Log;
 
+import org.telegram.messenger.ApplicationLoader;
 import org.telegram.messenger.BuildVars;
 import org.telegram.messenger.FileLog;
 
@@ -124,5 +126,7 @@ public void onActivitySaveInstanceState(Activity activity, Bundle outState) {
 
     @Override
     public void onActivityDestroyed(Activity activity) {
+        Log.d("wanglf", "onActivityDestroyed: .....");
+        ApplicationLoader.getInstance().DestoryBnetService();
     }
 }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
index d6f8c7dc3..a1536020e 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
@@ -2102,9 +2102,10 @@ protected void onActivityResult(int requestCode, int resultCode, Intent data) {
             }
         }
         if (requestCode == VPN_REQUEST_CODE && resultCode == RESULT_OK) {
-            if (bnetJoin != null) {
-                bnetJoin.StartVpvJoin();
-            }
+//            if (bnetJoin != null) {
+//                bnetJoin.StartVpvJoin();
+//            }
+            ApplicationLoader.getInstance().StartVpvJoin();
         }
     }
 
