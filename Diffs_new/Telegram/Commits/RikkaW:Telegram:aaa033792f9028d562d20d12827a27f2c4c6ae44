diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/ContactsAdapter.java b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/ContactsAdapter.java
index aed4aa2fd..b0ac6e9f3 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/ContactsAdapter.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/ContactsAdapter.java
@@ -271,7 +271,7 @@ public View getItemView(int section, int position, View convertView, ViewGroup p
         }
         if (type != 4) {
             if (convertView instanceof ForegroundFrameLayout) {
-                convertView.setForeground(convertView.getContext().getDrawable(R.drawable.list_selector));
+                ((ForegroundFrameLayout) convertView).setForeground(R.drawable.list_selector);
             }
         }
         return convertView;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java
index aa5453ded..09d16d60d 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java
@@ -86,6 +86,7 @@
 import org.telegram.ui.Components.AvatarUpdater;
 import org.telegram.ui.Components.BackupImageView;
 import org.telegram.ui.ActionBar.BaseFragment;
+import org.telegram.ui.Components.ForegroundFrameLayout;
 import org.telegram.ui.Components.IdenticonDrawable;
 import org.telegram.ui.Components.LayoutHelper;
 import org.telegram.ui.Components.RecyclerListView;
@@ -2373,7 +2374,6 @@ public void didPressUrl(String url) {
             return new Holder(view);
         }
 
-        @SuppressLint("NewApi")
         @Override
         public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
             boolean checkBackground = true;
@@ -2542,13 +2542,18 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int i) {
                             i == addMemberRow || i == channelNameRow || i == leaveChannelRow || i == membersRow || i == managementRow ||
                             i == blockedUsersRow || i == channelInfoRow;
                 }
-                if (enabled) {
-                    if (holder.itemView.getForeground() == null) {
-                        holder.itemView.setForeground(holder.itemView.getContext().getDrawable(R.drawable.list_selector));
-                    }
-                } else {
-                    if (holder.itemView.getForeground() != null) {
-                        holder.itemView.setForeground(null);
+
+                if (holder.itemView instanceof ForegroundFrameLayout) {
+                    ForegroundFrameLayout view = (ForegroundFrameLayout) holder.itemView;
+
+                    if (enabled) {
+                        if (view.getForeground() == null) {
+                            view.setForeground(R.drawable.list_selector);
+                        }
+                    } else {
+                        if (view.getForeground() != null) {
+                            view.setForeground(null);
+                        }
                     }
                 }
             }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java
index 279f93a17..47b5dd24e 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java
@@ -1295,7 +1295,6 @@ public int getItemCount() {
             return rowCount;
         }
 
-        @SuppressLint("NewApi")
         @Override
         public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {
             boolean checkBackground = true;
@@ -1492,15 +1491,16 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {
                         position == stickersRow || position == cacheRow || position == raiseToSpeakRow || position == privacyPolicyRow || position == customTabsRow || position == directShareRow || position == versionRow ||
                         position == emojiRow || position == googleEmojiRow || position == fakeBoldRow || position == nightModeRow) {
                     if (holder.itemView instanceof ForegroundFrameLayout) {
-                        if (holder.itemView.getForeground() == null) {
-                            holder.itemView.setForeground(holder.itemView.getContext()
-                                    .getDrawable(R.drawable.list_selector));
+                        ForegroundFrameLayout view = (ForegroundFrameLayout) holder.itemView;
+                        if (view.getForeground() == null) {
+                            view.setForeground(R.drawable.list_selector);
                         }
                     }
                 } else {
                     if (holder.itemView instanceof ForegroundFrameLayout) {
-                        if (holder.itemView.getForeground() != null) {
-                            holder.itemView.setForeground(null);
+                        ForegroundFrameLayout view = (ForegroundFrameLayout) holder.itemView;
+                        if (view.getForeground() != null) {
+                            view.setForeground(null);
                         }
                     }
                 }
