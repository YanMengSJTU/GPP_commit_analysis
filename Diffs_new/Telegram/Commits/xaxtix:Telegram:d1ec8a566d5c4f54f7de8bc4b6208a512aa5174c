diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java b/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java
index ebd60bbd2..a60ab4dba 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java
@@ -8845,8 +8845,13 @@ private void updateWidthHeightBitrateForCompression() {
                 break;
         }
         float scale = originalWidth > originalHeight ? maxSize / originalWidth : maxSize / originalHeight;
-        resultWidth = Math.round(originalWidth * scale / 2) * 2;
-        resultHeight = Math.round(originalHeight * scale / 2) * 2;
+        if (selectedCompression == compressionsCount - 1 && scale > 1f) {
+            resultWidth = originalWidth;
+            resultHeight = originalHeight;
+        } else {
+            resultWidth = Math.round(originalWidth * scale / 2) * 2;
+            resultHeight = Math.round(originalHeight * scale / 2) * 2;
+        }
         if (bitrate != 0) {
             if (selectedCompression == compressionsCount - 1) {
                 bitrate = originalBitrate;
