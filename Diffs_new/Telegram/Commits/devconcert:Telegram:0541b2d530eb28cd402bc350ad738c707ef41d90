diff --git a/TMessagesProj/src/main/java/org/telegram/android/ContactsController.java b/TMessagesProj/src/main/java/org/telegram/android/ContactsController.java
index 8bc38db50..ccb1d3676 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/ContactsController.java
+++ b/TMessagesProj/src/main/java/org/telegram/android/ContactsController.java
@@ -554,7 +554,8 @@ public void run() {
                                         FileLog.e("tmessages", "need delete contacts");
                                         for (HashMap.Entry<Integer, Contact> c : contactHashMap.entrySet()) {
                                             Contact contact = c.getValue();
-                                            FileLog.e("tmessages", "delete contact " + contact.first_name + " " + contact.last_name);
+                                            String name = getFirstNameOrLastNameByLanguage(contact.first_name, contact.last_name);
+                                            FileLog.e("tmessages", "delete contact " + name);
                                             for (String phone : contact.phones) {
                                                 FileLog.e("tmessages", phone);
                                             }
@@ -783,6 +784,18 @@ public void run() {
         }
     }
 
+    public static String getFirstNameOrLastNameByLanguage(String first_name, String last_name) {
+        String name = "";
+        String _first_name = (first_name == null) ? "" : first_name.trim();
+        String _last_name = (last_name == null) ? "" : last_name.trim();
+        if (LocaleController.getCurrentLanguageCode().equals("ko")) {
+            name = (_last_name.length() == 0) ? _first_name : _last_name + " " + _first_name;
+        } else {
+            name = _first_name + " " + _last_name;
+        }
+        return name;
+    }
+
     public void processLoadedContacts(final ArrayList<TLRPC.TL_contact> contactsArr, final ArrayList<TLRPC.User> usersArr, final int from) {
         //from: 0 - from server, 1 - from db, 2 - from imported contacts
         AndroidUtilities.RunOnUIThread(new Runnable() {
@@ -808,9 +821,9 @@ public void run() {
                     if (user != null) {
                         usersDict.put(user.id, user);
 
-//                        if (BuildVars.DEBUG_VERSION) {
-//                            FileLog.e("tmessages", "loaded user contact " + user.first_name + " " + user.last_name + " " + user.phone);
-//                        }
+                        if (BuildVars.DEBUG_VERSION) {
+                            FileLog.e("tmessages", "loaded user contact " + getFirstNameOrLastNameByLanguage(user.first_name, user.last_name) + " " + user.phone);
+                        }
                     }
                 }
 
@@ -861,14 +874,9 @@ public int compare(TLRPC.TL_contact tl_contact, TLRPC.TL_contact tl_contact2) {
                             public int compare(TLRPC.TL_contact tl_contact, TLRPC.TL_contact tl_contact2) {
                                 TLRPC.User user1 = usersDict.get(tl_contact.user_id);
                                 TLRPC.User user2 = usersDict.get(tl_contact2.user_id);
-                                String name1 = user1.first_name;
-                                if (name1 == null || name1.length() == 0) {
-                                    name1 = user1.last_name;
-                                }
-                                String name2 = user2.first_name;
-                                if (name2 == null || name2.length() == 0) {
-                                    name2 = user2.last_name;
-                                }
+
+                                String name1 = getFirstNameOrLastNameByLanguage(user1.first_name, user1.last_name);
+                                String name2 = getFirstNameOrLastNameByLanguage(user2.first_name, user2.last_name);
                                 return name1.compareTo(name2);
                             }
                         });
@@ -894,10 +902,8 @@ public int compare(TLRPC.TL_contact tl_contact, TLRPC.TL_contact tl_contact2) {
                                 contactsByPhonesDict.put(user.phone, value);
                             }
 
-                            String key = user.first_name;
-                            if (key == null || key.length() == 0) {
-                                key = user.last_name;
-                            }
+                            String key = getFirstNameOrLastNameByLanguage(user.first_name, user.last_name);
+
                             if (key.length() == 0) {
                                 key = "#";
                             } else {
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/Utilities.java b/TMessagesProj/src/main/java/org/telegram/messenger/Utilities.java
index 3f28eb248..537597f49 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/Utilities.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/Utilities.java
@@ -24,6 +24,7 @@
 import android.text.SpannableStringBuilder;
 import android.util.Base64;
 
+import org.telegram.android.ContactsController;
 import org.telegramkr.messenger.R;
 import net.hockeyapp.android.CrashManager;
 import net.hockeyapp.android.CrashManagerListener;
@@ -641,46 +642,35 @@ public static File generatePicturePath() {
         return null;
     }
 
-    public static CharSequence generateSearchName(String name, String name2, String q) {
-        if (name == null && name2 == null) {
+    public static CharSequence generateSearchName(String first_name, String last_name, String q) {
+        if (first_name == null && last_name == null) {
             return "";
         }
-        SpannableStringBuilder builder = new SpannableStringBuilder();
-        String wholeString = name;
-        if (wholeString == null || wholeString.length() == 0) {
-            wholeString = name2;
-        } else if (name2 != null && name2.length() != 0) {
-            wholeString += " " + name2;
-        }
-        wholeString = wholeString.trim();
-        String lower = " " + wholeString.toLowerCase();
-
-        int index = -1;
-        int lastIndex = 0;
-        while ((index = lower.indexOf(" " + q, lastIndex)) != -1) {
-            int idx = index - (index == 0 ? 0 : 1);
-            int end = q.length() + (index == 0 ? 0 : 1) + idx;
-
-            if (lastIndex != 0 && lastIndex != idx + 1) {
-                builder.append(wholeString.substring(lastIndex, idx));
-            } else if (lastIndex == 0 && idx != 0) {
-                builder.append(wholeString.substring(0, idx));
-            }
-
-            String query = wholeString.substring(idx, end);
-            if (query.startsWith(" ")) {
-                builder.append(" ");
-            }
-            query.trim();
-            builder.append(Html.fromHtml("<font color=\"#357aa8\">" + query + "</font>"));
 
-            lastIndex = end;
-        }
+        String wholeString = ContactsController.getFirstNameOrLastNameByLanguage(first_name, last_name);
 
-        if (lastIndex != -1 && lastIndex != wholeString.length()) {
-            builder.append(wholeString.substring(lastIndex, wholeString.length()));
+        SpannableStringBuilder builder = new SpannableStringBuilder();
+        String[] args = wholeString.split(" ");
+        for (String arg : args) {
+            String str = arg;
+            if (str != null) {
+                String lower = str.toLowerCase();
+                if (lower.startsWith(q)) {
+                    if (builder.length() != 0) {
+                        builder.append(" ");
+                    }
+                    String query = str.substring(0, q.length());
+                    builder.append(Html.fromHtml("<font color=\"#357aa8\">" + query + "</font>"));
+                    str = str.substring(q.length());
+                    builder.append(str);
+                } else {
+                    if (builder.length() != 0) {
+                        builder.append(" ");
+                    }
+                    builder.append(str);
+                }
+            }
         }
-
         return builder;
     }
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/ContactsActivityAdapter.java b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/ContactsActivityAdapter.java
index 195cc28f1..a8f5b8c52 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/ContactsActivityAdapter.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/ContactsActivityAdapter.java
@@ -24,6 +24,7 @@
 
 import java.util.ArrayList;
 import java.util.HashMap;
+import java.util.Locale;
 
 public class ContactsActivityAdapter extends SectionedBaseAdapter {
     private Context mContext;
@@ -150,13 +151,9 @@ public View getItemView(int section, int position, View convertView, ViewGroup p
                 divider.setVisibility(View.VISIBLE);
             }
         }
-        if (contact.first_name != null && contact.last_name != null) {
-            textView.setText(contact.first_name + " " + contact.last_name);
-        } else if (contact.first_name != null && contact.last_name == null) {
-            textView.setText(contact.first_name);
-        } else {
-            textView.setText(contact.last_name);
-        }
+
+        String name = ContactsController.getFirstNameOrLastNameByLanguage(contact.first_name, contact.last_name);
+        textView.setText(name);
         return convertView;
     }
 
