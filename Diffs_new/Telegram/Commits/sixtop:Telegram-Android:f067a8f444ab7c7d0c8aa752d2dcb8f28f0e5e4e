diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
index 8da6d01c2..fa6d223d9 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
@@ -2571,11 +2571,13 @@ public boolean processSendingText(CharSequence text) {
 
                 String textMessageString = message[0].toString();
 
-                boolean endsWithMono = false;
+                boolean endsWithRichText = false;
                 if (entities != null) {
                     TLRPC.MessageEntity last = entities.get(entities.size() - 1);
-                    if (last instanceof TLRPC.TL_messageEntityCode) {
-                        endsWithMono = last.offset + last.length == textMessageString.length();
+                    if (last instanceof TLRPC.TL_messageEntityCode
+                        || last instanceof TLRPC.TL_messageEntityUrl
+                        || last instanceof TLRPC.TL_messageEntityEmail) {
+                        endsWithRichText = last.offset + last.length == textMessageString.length();
                     }
                 }
 
@@ -2589,8 +2591,11 @@ public boolean processSendingText(CharSequence text) {
                         && !textMessageString.endsWith("â€¦")
                         && !textMessageString.endsWith("?")
                         && !textMessageString.endsWith("+")
+                        && !textMessageString.endsWith("=)")
+                        && !textMessageString.endsWith("=(")
+                        && !textMessageString.endsWith(".)")
                         && !skipDot
-                        && !endsWithMono
+                        && !endsWithRichText
                         && !textMessageString.startsWith("/")) {
                         textMessageString += ".";
                     }
@@ -4063,7 +4068,13 @@ public void onStickerSelected(TLRPC.Document sticker, Object parent, boolean cle
             emojiView.hideSearchKeyboard();
         }
         setStickersExpanded(false, true, false);
-        sendMessage();
+
+        // If this sticker was sent from Sticker Suggestion -> View Pack,
+        // Then don't sendMessage().
+        if (Emoji.isValidEmoji(messageEditText.getText().toString())) {
+            messageEditText.setText("");
+        }
+        sendMessage(true);
         SendMessagesHelper.getInstance(currentAccount).sendSticker(sticker, dialog_id, replyingMessageObject, parent);
         if (delegate != null) {
             delegate.onMessageSend(null);
