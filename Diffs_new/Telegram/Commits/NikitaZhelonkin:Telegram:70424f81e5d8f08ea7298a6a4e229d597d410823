diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java
index 8dd416087..1114ea5a1 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java
@@ -4403,7 +4403,7 @@ protected void onLongPress() {
             return;
         } else if (pressedLink instanceof URLSpanNoUnderline) {
             URLSpanNoUnderline url = (URLSpanNoUnderline) pressedLink;
-            if (url.getURL().startsWith("/")) {
+            if (url.getURL().startsWith("/") || url.getURL().startsWith("#") || url.getURL().startsWith("@") || url.getURL().startsWith("$")) {
                 delegate.didPressUrl(currentMessageObject, pressedLink, true);
                 return;
             }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChannelAdminLogActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChannelAdminLogActivity.java
index 5545c7d0c..044dd0d49 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChannelAdminLogActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChannelAdminLogActivity.java
@@ -2013,7 +2013,31 @@ public void didPressUrl(MessageObject messageObject, final CharacterStyle url, b
                             }
                         } else if (url instanceof URLSpanNoUnderline) {
                             String str = ((URLSpanNoUnderline) url).getURL();
-                            if (str.startsWith("@")) {
+                            if(longPress && (str.startsWith("@"))){
+                                BottomSheet.Builder builder = new BottomSheet.Builder(getParentActivity());
+                                builder.setTitle(str);
+                                builder.setItems(new CharSequence[]{LocaleController.getString("Open", R.string.Open), LocaleController.getString("Copy", R.string.Copy)}, (dialog, which) -> {
+                                    if (which == 0) {
+                                        MessagesController.getInstance(currentAccount).openByUserName(str.substring(1), ChannelAdminLogActivity.this, 0);
+                                    } else if (which == 1) {
+                                        AndroidUtilities.addToClipboard(str);
+                                    }
+                                });
+                                showDialog(builder.create());
+                            }else if(longPress && (str.startsWith("#"))){
+                                BottomSheet.Builder builder = new BottomSheet.Builder(getParentActivity());
+                                builder.setTitle(str);
+                                builder.setItems(new CharSequence[]{LocaleController.getString("Open", R.string.Open), LocaleController.getString("Copy", R.string.Copy)}, (dialog, which) -> {
+                                    if (which == 0) {
+                                        DialogsActivity fragment = new DialogsActivity(null);
+                                        fragment.setSearchString(str);
+                                        presentFragment(fragment);
+                                    } else if (which == 1) {
+                                        AndroidUtilities.addToClipboard(str);
+                                    }
+                                });
+                                showDialog(builder.create());
+                            } else if (str.startsWith("@")) {
                                 MessagesController.getInstance(currentAccount).openByUserName(str.substring(1), ChannelAdminLogActivity.this, 0);
                             } else if (str.startsWith("#")) {
                                 DialogsActivity fragment = new DialogsActivity(null);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
index 0e5bb04cb..cfcd67d05 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
@@ -13819,35 +13819,34 @@ public void didPressUrl(MessageObject messageObject, final CharacterStyle url, b
                             }
                         } else if (url instanceof URLSpanNoUnderline) {
                             String str = ((URLSpanNoUnderline) url).getURL();
-                            if (str.startsWith("@")) {
-                                String username = str.substring(1).toLowerCase();
-                                if (currentChat != null && !TextUtils.isEmpty(currentChat.username) && username.equals(currentChat.username.toLowerCase()) ||
-                                        currentUser != null && !TextUtils.isEmpty(currentUser.username) && username.equals(currentUser.username.toLowerCase())) {
-                                    Bundle args = new Bundle();
-                                    if (currentChat != null) {
-                                        args.putInt("chat_id", currentChat.id);
-                                    } else if (currentUser != null) {
-                                        args.putInt("user_id", currentUser.id);
-                                        if (currentEncryptedChat != null) {
-                                            args.putLong("dialog_id", dialog_id);
-                                        }
+                            if(longPress && (str.startsWith("@"))){
+                                BottomSheet.Builder builder = new BottomSheet.Builder(getParentActivity());
+                                builder.setTitle(str);
+                                builder.setItems(new CharSequence[]{LocaleController.getString("Open", R.string.Open), LocaleController.getString("Copy", R.string.Copy)}, (dialog, which) -> {
+                                    if (which == 0) {
+                                        String username = str.substring(1).toLowerCase();
+                                        openProfile(username);
+                                    } else if (which == 1) {
+                                        AndroidUtilities.addToClipboard(str);
                                     }
-                                    ProfileActivity fragment = new ProfileActivity(args);
-                                    fragment.setPlayProfileAnimation(true);
-                                    fragment.setChatInfo(chatInfo);
-                                    fragment.setUserInfo(userInfo);
-                                    presentFragment(fragment);
-                                } else {
-                                    MessagesController.getInstance(currentAccount).openByUserName(username, ChatActivity.this, 0);
-                                }
+                                });
+                                showDialog(builder.create());
+                            }else if(longPress && (str.startsWith("#") || str.startsWith("$"))){
+                                BottomSheet.Builder builder = new BottomSheet.Builder(getParentActivity());
+                                builder.setTitle(str);
+                                builder.setItems(new CharSequence[]{LocaleController.getString("Open", R.string.Open), LocaleController.getString("Copy", R.string.Copy)}, (dialog, which) -> {
+                                    if (which == 0) {
+                                        openTag(str);
+                                    } else if (which == 1) {
+                                        AndroidUtilities.addToClipboard(str);
+                                    }
+                                });
+                                showDialog(builder.create());
+                            } else if (str.startsWith("@")) {
+                                String username = str.substring(1).toLowerCase();
+                                openProfile(username);
                             } else if (str.startsWith("#") || str.startsWith("$")) {
-                                if (ChatObject.isChannel(currentChat)) {
-                                    openSearchWithText(str);
-                                } else {
-                                    DialogsActivity fragment = new DialogsActivity(null);
-                                    fragment.setSearchString(str);
-                                    presentFragment(fragment);
-                                }
+                                openTag(str);
                             } else if (str.startsWith("/")) {
                                 if (URLSpanBotCommand.enabled) {
                                     chatActivityEnterView.setCommand(messageObject, str, longPress, currentChat != null && currentChat.megagroup);
@@ -13896,6 +13895,39 @@ public void didPressUrl(MessageObject messageObject, final CharacterStyle url, b
                         }
                     }
 
+                    private void openProfile(String username) {
+                        if (currentChat != null && !TextUtils.isEmpty(currentChat.username) && username.equals(currentChat.username.toLowerCase()) ||
+                                currentUser != null && !TextUtils.isEmpty(currentUser.username) && username.equals(currentUser.username.toLowerCase())) {
+                            Bundle args = new Bundle();
+                            if (currentChat != null) {
+                                args.putInt("chat_id", currentChat.id);
+                            } else if (currentUser != null) {
+                                args.putInt("user_id", currentUser.id);
+                                if (currentEncryptedChat != null) {
+                                    args.putLong("dialog_id", dialog_id);
+                                }
+                            }
+                            ProfileActivity fragment = new ProfileActivity(args);
+                            fragment.setPlayProfileAnimation(true);
+                            fragment.setChatInfo(chatInfo);
+                            fragment.setUserInfo(userInfo);
+                            presentFragment(fragment);
+                        } else {
+                            MessagesController.getInstance(currentAccount).openByUserName(username, ChatActivity.this, 0);
+                        }
+                    }
+
+                    private void openTag(String tag){
+                        if (ChatObject.isChannel(currentChat)) {
+                            openSearchWithText(tag);
+                        } else {
+                            DialogsActivity fragment = new DialogsActivity(null);
+                            fragment.setSearchString(tag);
+                            presentFragment(fragment);
+                        }
+                    }
+
+
                     @Override
                     public void needOpenWebView(String url, String title, String description, String originalUrl, int w, int h) {
                         try {
