diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ApplicationLoader.java b/TMessagesProj/src/main/java/org/telegram/ui/ApplicationLoader.java
index 4d947129d..3d321b183 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ApplicationLoader.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ApplicationLoader.java
@@ -20,6 +20,7 @@
 import android.content.res.Configuration;
 import android.graphics.Bitmap;
 import android.os.AsyncTask;
+import android.os.Build;
 import android.os.Handler;
 import android.view.ViewConfiguration;
 
@@ -247,7 +248,13 @@ protected Boolean doInBackground(String... objects) {
                 }
                 return false;
             }
-        }.execute(null, null, null);
+        };
+        if(Build.VERSION.SDK_INT < 11) {
+            task.execute(null, null, null);
+        }
+        else{
+            task.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, null, null, null);
+        }
     }
 
     private void sendRegistrationIdToBackend(final boolean isNew) {
