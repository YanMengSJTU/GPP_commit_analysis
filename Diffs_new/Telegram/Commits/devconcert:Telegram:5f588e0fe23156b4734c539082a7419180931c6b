diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index c50a59d36..ba99f8c26 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -80,7 +80,7 @@ android {
     defaultConfig {
         minSdkVersion 8
         targetSdkVersion 19
-        versionCode 345
+        versionCode 346
         versionName "1.9.10"
     }
 }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
index cbf0df583..d8eddfed0 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
@@ -742,6 +742,7 @@ public boolean onTouch(View v, MotionEvent event) {
             chatListView.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {
                 @Override
                 public boolean onItemLongClick(AdapterView<?> adapter, View view, int position, long id) {
+                    ApplicationLoader.isChangeOption = false;
                     if (!actionBarLayer.isActionModeShowed()) {
                         createMenu(view, false);
                     }
@@ -852,8 +853,10 @@ public void onClick(DialogInterface dialogInterface, int i) {
             chatListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
                 @Override
                 public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {
+                    ApplicationLoader.isChangeOption = true;
                     if (actionBarLayer.isActionModeShowed()) {
                         processRowSelect(view);
+                        ApplicationLoader.isChangeOption = false;
                         return;
                     }
                     createMenu(view, true);
@@ -1331,6 +1334,7 @@ public void onActivityResultFragment(int requestCode, int resultCode, Intent dat
         if (resultCode == Activity.RESULT_OK) {
             ApplicationLoader.isChangeOption = false;
             if (requestCode == 0) {
+                ApplicationLoader.isChangeOption = true;
                 Utilities.addMediaToGallery(currentPicturePath);
                 processSendingPhoto(currentPicturePath, null);
                 currentPicturePath = null;
@@ -1339,8 +1343,11 @@ public void onActivityResultFragment(int requestCode, int resultCode, Intent dat
                     showAttachmentError();
                     return;
                 }
+                ApplicationLoader.isChangeOption = true;
                 processSendingPhoto(null, data.getData());
+                //ApplicationLoader.isChangeOption = false;
             } else if (requestCode == 2) {
+                ApplicationLoader.isChangeOption = true;
                 String videoPath = null;
                 if (data != null) {
                     Uri uri = data.getData();
@@ -1358,6 +1365,7 @@ public void onActivityResultFragment(int requestCode, int resultCode, Intent dat
                         }
                         Utilities.addMediaToGallery(currentPicturePath);
                         currentPicturePath = null;
+                        //ApplicationLoader.isChangeOption = false;
                     } else {
                         try {
                             videoPath = Utilities.getPath(uri);
@@ -1377,6 +1385,7 @@ public void onActivityResultFragment(int requestCode, int resultCode, Intent dat
                     if (paused) {
                         startVideoEdit = videoPath;
                     } else {
+                        //ApplicationLoader.isChangeOption = true;
                         Bundle args = new Bundle();
                         args.putString("videoPath", videoPath);
                         VideoEditorActivity fragment = new VideoEditorActivity(args);
@@ -2804,6 +2813,7 @@ public void createMenu(View v, boolean single) {
                 builder.setItems(items, new DialogInterface.OnClickListener() {
                     @Override
                     public void onClick(DialogInterface dialogInterface, int i) {
+                        ApplicationLoader.isChangeOption = false;
                         if (selectedObject == null) {
                             return;
                         }
@@ -3425,6 +3435,7 @@ public void didPressedImage(ChatMediaCell cell) {
                                     if (f == null || f != null && !f.exists()) {
                                         f = FileLoader.getPathToMessage(message.messageOwner);
                                     }
+                                    ApplicationLoader.isChangeOption = true;
                                     Intent intent = new Intent(Intent.ACTION_VIEW);
                                     intent.setDataAndType(Uri.fromFile(f), "video/mp4");
                                     getParentActivity().startActivity(intent);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
index 25bba8754..d8c5b0b92 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
@@ -1013,6 +1013,7 @@ protected void onSaveInstanceState(Bundle outState) {
 
     @Override
     public void onBackPressed() {
+        ApplicationLoader.isChangeOption = true;
         if (PhotoViewer.getInstance().isVisible()) {
             PhotoViewer.getInstance().closePhoto(true);
         } else {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/MessagesActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/MessagesActivity.java
index ddc949b23..774dc4002 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/MessagesActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/MessagesActivity.java
@@ -344,6 +344,7 @@ public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {
             messagesListView.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {
                 @Override
                 public boolean onItemLongClick(AdapterView<?> adapterView, View view, int i, long l) {
+                    //ApplicationLoader.isChangeOption = true;
                     if (onlySelect || searching && searchWas || getParentActivity() == null) {
                         return false;
                     }
@@ -374,12 +375,14 @@ public void onClick(DialogInterface dialog, int which) {
                                 if (which == 0) {
                                     MessagesController.getInstance().deleteDialog(selectedDialog, 0, true);
                                 } else if (which == 1) {
+                                    //ApplicationLoader.isChangeOption = true;
                                     AlertDialog.Builder builder = new AlertDialog.Builder(getParentActivity());
                                     builder.setMessage(LocaleController.getString("AreYouSureDeleteAndExit", R.string.AreYouSureDeleteAndExit));
                                     builder.setTitle(LocaleController.getString("AppName", R.string.AppName));
                                     builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
                                         @Override
                                         public void onClick(DialogInterface dialogInterface, int i) {
+                                            ApplicationLoader.isChangeOption = false;
                                             MessagesController.getInstance().deleteUserFromChat((int) -selectedDialog, MessagesController.getInstance().getUser(UserConfig.getClientUserId()), null);
                                             MessagesController.getInstance().deleteDialog(selectedDialog, 0, false);
                                             if (AndroidUtilities.isTablet()) {
@@ -387,7 +390,12 @@ public void onClick(DialogInterface dialogInterface, int i) {
                                             }
                                         }
                                     });
-                                    builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                                    builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), new DialogInterface.OnClickListener() {
+                                        @Override
+                                        public void onClick(DialogInterface dialogInterface, int i) {
+                                            ApplicationLoader.isChangeOption = false;
+                                        }
+                                    });
                                     showAlertDialog(builder);
                                 }
                             }
@@ -405,19 +413,30 @@ public void onClick(DialogInterface dialog, int which) {
                                     builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
                                         @Override
                                         public void onClick(DialogInterface dialogInterface, int i) {
+                                            ApplicationLoader.isChangeOption = true;
                                             MessagesController.getInstance().deleteDialog(selectedDialog, 0, false);
                                             if (AndroidUtilities.isTablet()) {
                                                 NotificationCenter.getInstance().postNotificationName(NotificationCenter.closeChats, selectedDialog);
                                             }
                                         }
                                     });
-                                    builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                                    builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), new DialogInterface.OnClickListener() {
+                                        @Override
+                                        public void onClick(DialogInterface dialogInterface, int i) {
+                                            ApplicationLoader.isChangeOption = false;
+                                        }
+                                    });
                                     showAlertDialog(builder);
                                 }
                             }
                         });
                     }
-                    builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                    builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), new DialogInterface.OnClickListener() {
+                        @Override
+                        public void onClick(DialogInterface dialogInterface, int i) {
+                            ApplicationLoader.isChangeOption = false;
+                        }
+                    });
                     showAlertDialog(builder);
                     return true;
                 }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PhotoPickerActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/PhotoPickerActivity.java
index c1b2bd2de..dcfbcae07 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PhotoPickerActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PhotoPickerActivity.java
@@ -107,8 +107,10 @@ public void onItemClick(int id) {
                         }
                     } else if (id == 1) {
                         if (delegate != null) {
+                            ApplicationLoader.isChangeOption = true;
                             finishFragment(false);
                             delegate.startPhotoSelectActivity();
+                            ApplicationLoader.isChangeOption = false;
                         }
                     }
                 }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/VideoEditorActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/VideoEditorActivity.java
index 23514cffd..8bb7e462b 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/VideoEditorActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/VideoEditorActivity.java
@@ -159,6 +159,7 @@ public VideoEditorActivity(Bundle args) {
 
     @Override
     public boolean onFragmentCreate() {
+        ApplicationLoader.isChangeOption = true;
         if (videoPath == null || !processOpenVideo()) {
             return false;
         }
@@ -194,6 +195,7 @@ public void onPrepared(MediaPlayer mp) {
 
     @Override
     public void onFragmentDestroy() {
+        ApplicationLoader.isChangeOption = false;
         if (videoTimelineView != null) {
             videoTimelineView.destroy();
         }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/BaseFragment.java b/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/BaseFragment.java
index dd2594b99..7be8e3c11 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/BaseFragment.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/BaseFragment.java
@@ -218,7 +218,7 @@ protected void showAlertDialog(AlertDialog.Builder builder) {
         visibleDialog.setOnDismissListener(new DialogInterface.OnDismissListener() {
             @Override
             public void onDismiss(DialogInterface dialog) {
-                ApplicationLoader.isChangeOption = true;
+                ApplicationLoader.isChangeOption = false;
                 visibleDialog = null;
                 onDialogDismiss();
             }
diff --git a/TMessagesProj/src/main/res/values-ko/strings.xml b/TMessagesProj/src/main/res/values-ko/strings.xml
index 20f559b99..912af7b8c 100644
--- a/TMessagesProj/src/main/res/values-ko/strings.xml
+++ b/TMessagesProj/src/main/res/values-ko/strings.xml
@@ -15,7 +15,7 @@ update date : 2014-10-03
     <!--code enter view-->
     <string name="YourCode">인증코드 입력</string>
     <string name="SentSmsCode">인증코드 메시지를 아래 번호로 전송했습니다<![CDATA[<br/>]]></string>
-    <string name="CallText">텔레그램이 다음 시간 후엔 전화를 겁니다:</string>
+    <string name="CallText">인증코드가 도착이 안하면\n텔레그램이 %1$d:%2$02d 후에 전화를 겁니다.</string>
     <string name="Calling">텔레그램이 전화 거는 중...</string>
     <string name="Code">코드</string>
     <string name="WrongNumber">전화번호가 틀렸나요?</string>
@@ -70,7 +70,7 @@ update date : 2014-10-03
     <string name="InternalStorage">내부 저장소</string>
     <string name="ExternalStorage">외부 저장소</string>
     <string name="SystemRoot">시스템 루트</string>
-    <string name="SdCard">SD 카드</string>
+    <string name="SdCard">SD 카드(메모리 카드)</string>
     <!--chat view-->
     <string name="Invisible">숨김</string>
     <string name="Typing">입력 중...</string>
@@ -249,7 +249,7 @@ update date : 2014-10-03
     <string name="AskAQuestionInfo">텔레그램에 관한 질문은 자원봉사자들이 답변해 드립니다. 신속한 답변을 위해 노력하지만 답변이 다소 늦을 수 있습니다.<![CDATA[<br><br>]]>일반적인 문제와 <![CDATA[<a href=\"http://telegram.org/faq#troubleshooting\">해결방법</a>]]>에 대해서는 \'<![CDATA[<a href=\"http://telegram.org/faq#general\">자주 묻는 질문</a>]]>\'을 확인해 보세요.</string>
     <string name="AskButton">질문하기</string>
     <string name="TelegramFaq">자주 묻는 질문</string>
-    <string name="TelegramFaqUrl">https://telegram.org/faq</string>
+    <string name="TelegramFaqUrl">https://telegram.org/faq/ko</string>
     <string name="DeleteLocalization">번역을 삭제할까요?</string>
     <string name="IncorrectLocalization">번역 파일이 올바르지 않습니다.</string>
     <string name="Enabled">켜기</string>
@@ -441,6 +441,17 @@ update date : 2014-10-03
     <string name="PasscodeLock_clean">지움</string>
     <string name="PasscodeLock_del">삭제</string>
 
+    <!--date formatters-->
+    <string name="formatterMonth">M\'월\' d\'일\'</string>
+    <string name="formatterYear">yyyy.MM.dd.</string>
+    <string name="formatterYearMax">yyyy. MM. dd.</string>
+    <string name="chatDate">M\'월\' d\'일\' EEEE</string>
+    <string name="chatFullDate">yyyy\'년\' M\'월\' d\'일\' EEEE</string>
+    <string name="formatterWeek">EEEE</string>
+    <string name="formatterDay24H">HH:mm</string>
+    <string name="formatterDay12H">a h:mm</string>
+    <string name="formatDateAtTime">%1$s %2$s</string>
+
     <!--Don't change this! Not for localization!-->
     <string name="CacheTag">CACHE_TAG</string>
 </resources>
