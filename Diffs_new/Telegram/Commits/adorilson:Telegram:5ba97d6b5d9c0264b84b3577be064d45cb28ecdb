diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index ebbc85a4d..9dd1c7725 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -83,7 +83,7 @@ android {
     }
 
     defaultConfig {
-        minSdkVersion 20
+        minSdkVersion 21
         targetSdkVersion 23
         versionCode 720
         versionName "3.4.2"
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/MediaController.java b/TMessagesProj/src/main/java/org/telegram/messenger/MediaController.java
index 040ae306f..5ecf08e70 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/MediaController.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/MediaController.java
@@ -2871,23 +2871,21 @@ private boolean convertVideo(final MessageObject messageObject) {
         int rotateRender = 0;
         File cacheFile = new File(messageObject.messageOwner.attachPath);
 
-        if (Build.VERSION.SDK_INT > 20) {
-            if (rotationValue == 90) {
-                int temp = resultHeight;
-                resultHeight = resultWidth;
-                resultWidth = temp;
-                rotationValue = 0;
-                rotateRender = 270;
-            } else if (rotationValue == 180) {
-                rotateRender = 180;
-                rotationValue = 0;
-            } else if (rotationValue == 270) {
-                int temp = resultHeight;
-                resultHeight = resultWidth;
-                resultWidth = temp;
-                rotationValue = 0;
-                rotateRender = 90;
-            }
+        if (rotationValue == 90) {
+            int temp = resultHeight;
+            resultHeight = resultWidth;
+            resultWidth = temp;
+            rotationValue = 0;
+            rotateRender = 270;
+        } else if (rotationValue == 180) {
+            rotateRender = 180;
+            rotationValue = 0;
+        } else if (rotationValue == 270) {
+            int temp = resultHeight;
+            resultHeight = resultWidth;
+            resultWidth = temp;
+            rotationValue = 0;
+            rotateRender = 90;
         }
 
         SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("videoconvert", Activity.MODE_PRIVATE);
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/support/widget/RecyclerView.java b/TMessagesProj/src/main/java/org/telegram/messenger/support/widget/RecyclerView.java
index 24d36af10..bdc7c4fa0 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/support/widget/RecyclerView.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/support/widget/RecyclerView.java
@@ -146,15 +146,6 @@
 
     private static final boolean DEBUG = false;
 
-    /**
-     * On Kitkat and JB MR2, there is a bug which prevents DisplayList from being invalidated if
-     * a View is two levels deep(wrt to ViewHolder.itemView). DisplayList can be invalidated by
-     * setting View's visibility to INVISIBLE when View is detached. On Kitkat and JB MR2, Recycler
-     * recursively traverses itemView and invalidates display list for each ViewGroup that matches
-     * this criteria.
-     */
-    private static final boolean FORCE_INVALIDATE_DISPLAY_LIST = Build.VERSION.SDK_INT == 20;
-
     private static final boolean DISPATCH_TEMP_DETACH = false;
     public static final int HORIZONTAL = 0;
     public static final int VERTICAL = 1;
@@ -4552,9 +4543,6 @@ View getViewForPosition(int position, boolean dryRun) {
                     holder = getRecycledViewPool().getRecycledView(type);
                     if (holder != null) {
                         holder.resetInternal();
-                        if (FORCE_INVALIDATE_DISPLAY_LIST) {
-                            invalidateDisplayListInt(holder);
-                        }
                     }
                 }
                 if (holder == null) {
@@ -4613,33 +4601,6 @@ private void attachAccessibilityDelegate(View itemView) {
             }
         }
 
-        private void invalidateDisplayListInt(ViewHolder holder) {
-            if (holder.itemView instanceof ViewGroup) {
-                invalidateDisplayListInt((ViewGroup) holder.itemView, false);
-            }
-        }
-
-        private void invalidateDisplayListInt(ViewGroup viewGroup, boolean invalidateThis) {
-            for (int i = viewGroup.getChildCount() - 1; i >= 0; i--) {
-                final View view = viewGroup.getChildAt(i);
-                if (view instanceof ViewGroup) {
-                    invalidateDisplayListInt((ViewGroup) view, true);
-                }
-            }
-            if (!invalidateThis) {
-                return;
-            }
-            // we need to force it to become invisible
-            if (viewGroup.getVisibility() == View.INVISIBLE) {
-                viewGroup.setVisibility(View.VISIBLE);
-                viewGroup.setVisibility(View.INVISIBLE);
-            } else {
-                final int visibility = viewGroup.getVisibility();
-                viewGroup.setVisibility(View.INVISIBLE);
-                viewGroup.setVisibility(visibility);
-            }
-        }
-
         /**
          * Recycle a detached view. The specified view will be added to a pool of views
          * for later rebinding and reuse.
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/BottomSheet.java b/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/BottomSheet.java
index de4dce5da..eb0b2ebde 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/BottomSheet.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/BottomSheet.java
@@ -592,9 +592,7 @@ public void onAnimationCancel(Animator animation) {
     }
 
     private void startOpenAnimation() {
-        if (Build.VERSION.SDK_INT >= 20) {
-            container.setLayerType(View.LAYER_TYPE_HARDWARE, null);
-        }
+        container.setLayerType(View.LAYER_TYPE_HARDWARE, null);
         if (containerView.getMeasuredHeight() == 0) {
             containerView.measure(View.MeasureSpec.makeMeasureSpec(AndroidUtilities.displaySize.x, View.MeasureSpec.AT_MOST), View.MeasureSpec.makeMeasureSpec(AndroidUtilities.displaySize.y, View.MeasureSpec.AT_MOST));
         }
