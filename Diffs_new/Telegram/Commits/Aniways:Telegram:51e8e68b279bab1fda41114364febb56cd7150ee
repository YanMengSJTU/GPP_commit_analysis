diff --git a/.gitignore b/.gitignore
index 681987bcf..f8962e8ef 100644
--- a/.gitignore
+++ b/.gitignore
@@ -13,3 +13,8 @@ TMessagesProj/src/main/java/org/telegram/messenger/BuildVars.java
 aniways/
 TMessagesProj/TMessagesProj-release.apk
 TMessagesProj/manifest-merger-release-report.txt
+
+TMessagesProj/mapping.txt
+TMessagesProj/proguard-rules.txt
+TMessagesProj/seeds.txt
+TMessagesProj/unused.txt
diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index b96d740a3..65af8388a 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -16,6 +16,9 @@ configurations {
 allprojects {
     repositories {
         mavenCentral()
+        maven {
+            url 'https://dl.bintray.com/intercom/intercom-maven'
+        }
         maven { url "https://raw.github.com/Raizlabs/maven-releases/master/releases" }
     }
 }
@@ -36,6 +39,9 @@ dependencies {
     compile 'net.hockeyapp.android:HockeySDK:3.5.+'
     compile 'com.googlecode.mp4parser:isoparser:1.0.+'
     compile project(':Android-SDK')
+    compile ('io.intercom.android:intercom-sdk:0.9.3@aar') {
+        transitive = true
+    }
     //debugCompile 'com.facebook.stetho:stetho:1.0.0'
 }
 
@@ -99,12 +105,18 @@ android {
             debuggable true
             jniDebuggable true
             signingConfig signingConfigs.debug
+            minifyEnabled true
+            shrinkResources true
+            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'
         }
 
         release {
             debuggable false
             jniDebuggable false
             signingConfig signingConfigs.release
+            minifyEnabled true
+            shrinkResources true
+            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'
         }
 
         foss {
diff --git a/TMessagesProj/proguard-rules.txt b/TMessagesProj/proguard-rules.txt
index 16a52b481..51f4944f1 100644
--- a/TMessagesProj/proguard-rules.txt
+++ b/TMessagesProj/proguard-rules.txt
@@ -25,47 +25,31 @@
 #-dontwarn com.google.analytics.tracking.**
 
 
--keep class org.telegram.SQLite** { *; }
--keep class android.** { *; }
--keep class android.app.** { *; }
--keep class com.google.android.apps** { *; }
+-keep class org.telegram.** { *; }
+-keep class com.aniways.** { *; }
 
+-keep class android.support.v4.** { *; }
+-keep interface android.support.v4.** { *; }
 
-##---------------Begin: proguard configuration for Google play serivces ----------
--keep class * extends java.util.ListResourceBundle {
-    protected Object[][] getContents();
-}
+-keep class !android.support.v7.internal.view.menu.**,android.support.** {*;}  # <-- important
 
--keep public class com.google.android.gms.common.internal.safeparcel.SafeParcelable {
-    public static final *** NULL;
-}
+# --------Start--------Hockey SDK-------------->
+-keep public class javax.net.ssl.**
+-keepclassmembers public class javax.net.ssl.** { *; }
 
--keepnames @com.google.android.gms.common.annotation.KeepName class *
--keepclassmembernames class * {
-    @com.google.android.gms.common.annotation.KeepName *;
-}
+-keep public class org.apache.http.**
+-keepclassmembers public class org.apache.http.** { *; }
 
--keepnames class * implements android.os.Parcelable {
-    public static final ** CREATOR;
-}
-##---------------End: proguard configuration for Google play serivces ----------
+-keepclassmembers class net.hockeyapp.android.UpdateFragment { *; }
 
-##---------------Begin: proguard configuration for Gson ----------
-# Gson uses generic type information stored in a class file when working with
-#fields. Proguard removes such information by default, so configure it to keep
-#all of it.
--keepattributes Signature
+-renamesourcefileattribute SourceFile
+-keepattributes SourceFile,LineNumberTable
+# --------End--------Hockey SDK-------------->
 
-# For using GSON @Expose annotation
--keepattributes *Annotation*
 
-# Gson specific classes
--keep class sun.misc.Unsafe { *; }
-#-keep class com.google.gson.stream.** { *; }
+-dontwarn javax.imageio.**
+-dontwarn java.awt.**
 
-# Application classes that will be serialized/deserialized over Gson
--keep class com.aniways.data.KeywordsFile** { *; }
--keep class com.aniways.data.AniwaysPrivateConfig** { *; }
-
-
-##---------------End: proguard configuration for Gson ----------
+-printseeds seeds.txt
+-printusage unused.txt
+-printmapping mapping.txt
\ No newline at end of file
diff --git a/TMessagesProj/src/main/AndroidManifest.xml b/TMessagesProj/src/main/AndroidManifest.xml
index 2bbc2d620..0a09f3788 100644
--- a/TMessagesProj/src/main/AndroidManifest.xml
+++ b/TMessagesProj/src/main/AndroidManifest.xml
@@ -46,7 +46,7 @@
         android:hardwareAccelerated="@bool/useHardwareAcceleration"
         android:icon="@drawable/ic_launcher"
         android:label="@string/AppName"
-        android:largeHeap="true"
+        android:largeHeap="true">
         android:theme="@style/Theme.TMessages.Start">
 
         <meta-data android:name="com.google.android.gms.version"
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java b/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
index 9f9bf2e89..69425886b 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
@@ -24,6 +24,7 @@
 import android.os.Build;
 import android.os.Handler;
 import android.os.PowerManager;
+import android.support.multidex.MultiDex;
 
 import com.aniways.Aniways;
 import com.aniways.Utils;
@@ -46,6 +47,9 @@
 import java.io.File;
 import java.util.concurrent.atomic.AtomicInteger;
 
+import io.intercom.android.sdk.Intercom;
+import io.intercom.android.sdk.identity.Registration;
+
 public class ApplicationLoader extends Application {
 
     private GoogleCloudMessaging gcm;
@@ -194,6 +198,10 @@ public void onCreate() {
             new ForegroundDetector(this);
         }
 
+        //initialize intercom
+        Intercom.initialize(this, "android_sdk-3ddd0c1f0818b525a23e65154b258887e4fc466f", "zc7rw85s");
+
+
         applicationHandler = new Handler(applicationContext.getMainLooper());
 
         startPushService();
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LoginActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/LoginActivity.java
index 1f35901f2..6a05b7cd7 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LoginActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LoginActivity.java
@@ -88,6 +88,9 @@
 import java.util.Timer;
 import java.util.TimerTask;
 
+import io.intercom.android.sdk.Intercom;
+import io.intercom.android.sdk.identity.Registration;
+
 public class LoginActivity extends BaseFragment {
 
     private int currentViewNum = 0;
@@ -1327,6 +1330,10 @@ public void run() {
                                             ConnectionsManager.getInstance().updateDcSettings(0);
                                         }
                                     });
+                                    Intercom.client().registerIdentifiedUser(
+                                            new Registration()
+                                                    .withUserId(requestPhone)
+                                                    .withUserAttributes(getCurrentUserAttributes()));
                                 } else {
                                     lastError = error.text;
 
@@ -2315,6 +2322,11 @@ public void run() {
                                             ConnectionsManager.getInstance().updateDcSettings(0);
                                         }
                                     });
+                                    Intercom.client().registerIdentifiedUser(
+                                            new Registration()
+                                                    .withUserId(requestPhone)
+                                                    .withUserAttributes(getCurrentUserAttributes()));
+
                                 } else {
                                     if (error.text.contains("PHONE_NUMBER_INVALID")) {
                                         needShowAlert(LocaleController.getString("AppName", R.string.AppName), LocaleController.getString("InvalidPhoneNumber", R.string.InvalidPhoneNumber));
@@ -2405,4 +2417,14 @@ public void restoreStateParams(Bundle bundle) {
             }
         }
     }
+
+    private Map<String, Object> getCurrentUserAttributes() {
+        Map<String,Object> userAttributes = new HashMap<>();
+
+        userAttributes.put("firstName", UserConfig.getCurrentUser().first_name);
+        userAttributes.put("lastName", UserConfig.getCurrentUser().last_name);
+        userAttributes.put("userName", UserConfig.getCurrentUser().username);
+
+        return userAttributes;
+    }
 }
diff --git a/intercom-sdk-0.9.3/build.gradle b/intercom-sdk-0.9.3/build.gradle
new file mode 100644
index 000000000..77782a84f
--- /dev/null
+++ b/intercom-sdk-0.9.3/build.gradle
@@ -0,0 +1,2 @@
+configurations.create("default")
+artifacts.add("default", file('intercom-sdk-0.9.3.aar'))
\ No newline at end of file
diff --git a/intercom-sdk-0.9.3/intercom-sdk-0.9.3.aar b/intercom-sdk-0.9.3/intercom-sdk-0.9.3.aar
new file mode 100644
index 000000000..3ee4d06f7
Binary files /dev/null and b/intercom-sdk-0.9.3/intercom-sdk-0.9.3.aar differ
diff --git a/settings.gradle b/settings.gradle
index efdf43a69..f727b8abc 100644
--- a/settings.gradle
+++ b/settings.gradle
@@ -1,2 +1,2 @@
-include ':TMessagesProj', ':Android-SDK'
-project(':Android-SDK').projectDir = new File('../Android-SDK')
\ No newline at end of file
+include ':TMessagesProj', ':Android-SDK', ':intercom-sdk-0.9.3'
+project(':Android-SDK').projectDir = new File('../Android-SDK')
