diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java b/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
index 418aceff2..ee2e20fe7 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
@@ -6497,6 +6497,9 @@ public boolean canPinDialog(boolean secret) {
                 count++;
             }
         }
+        if (!mainPreferences.getBoolean("syncPins", true)) {
+            return true;
+        }
         return count < maxPinnedDialogsCount;
     }
 
@@ -6647,11 +6650,13 @@ public boolean pinDialog(long did, boolean pin, TLRPC.InputPeer peer, long taskI
                     newTaskId = taskId;
                 }
 
-                ConnectionsManager.getInstance(currentAccount).sendRequest(req, (response, error) -> {
-                    if (newTaskId != 0) {
-                        MessagesStorage.getInstance(currentAccount).removePendingTask(newTaskId);
-                    }
-                });
+                if (mainPreferences.getBoolean("syncPins", true)) {
+                    ConnectionsManager.getInstance(currentAccount).sendRequest(req, (response, error) -> {
+                        if (newTaskId != 0) {
+                            MessagesStorage.getInstance(currentAccount).removePendingTask(newTaskId);
+                        }
+                    });
+                }
             }
         }
         MessagesStorage.getInstance(currentAccount).setDialogPinned(did, dialog.pinnedNum);
@@ -6659,6 +6664,9 @@ public boolean pinDialog(long did, boolean pin, TLRPC.InputPeer peer, long taskI
     }
 
     public void loadPinnedDialogs(final long newDialogId, final ArrayList<Long> order) {
+        if (!mainPreferences.getBoolean("syncPins", true)) {
+            return;
+        }
         if (UserConfig.getInstance(currentAccount).pinnedDialogsLoaded) {
             return;
         }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java
index bd06c41ec..c44d06884 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java
@@ -164,6 +164,7 @@
     private int squareAvatarsRow;
     private int inappCameraRow;
     private int forkSectionRow;
+    private int syncPinsRow;
 
     private final static int edit_name = 1;
     private final static int logout = 2;
@@ -285,6 +286,7 @@ public boolean onFragmentCreate() {
         forkSectionRow = rowCount++;
         squareAvatarsRow = rowCount++;
         inappCameraRow = rowCount++;
+        syncPinsRow = rowCount++;
         messagesSectionRow = rowCount++;
         messagesSectionRow2 = rowCount++;
         customTabsRow = rowCount++;
@@ -463,6 +465,8 @@ public void onItemClick(View view, final int position) {
                     toggleGlobalMainSetting("view_animations", view);
                 } else if (position == squareAvatarsRow) {
                     toggleGlobalMainSetting("squareAvatars", view);
+                } else if (position == syncPinsRow) {
+                    toggleGlobalMainSetting("syncPins", view);
                 } else if (position == inappCameraRow) {
                     SharedConfig.toggleInappCamera();
                     if (view instanceof TextCheckCell) {
@@ -1277,9 +1281,11 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {
                     if (position == enableAnimationsRow) {
                         textCell.setTextAndCheck(LocaleController.getString("EnableAnimations", R.string.EnableAnimations), preferences.getBoolean("view_animations", true), false);
                     } else if (position == squareAvatarsRow) {
-                        textCell.setTextAndCheck("Square avatars (restart required)", preferences.getBoolean("squareAvatars", true), false);
+                        textCell.setTextAndCheck("Square Avatars (restart required)", preferences.getBoolean("squareAvatars", true), false);
                     } else if (position == inappCameraRow) {
                         textCell.setTextAndCheck("Enable In-App Camera", preferences.getBoolean("inappCamera", true), false);
+                    } else if (position == syncPinsRow) {
+                        textCell.setTextAndCheck("Sync Pinned Dialogs", preferences.getBoolean("syncPins", true), false);
                     } else if (position == sendByEnterRow) {
                         textCell.setTextAndCheck(LocaleController.getString("SendByEnter", R.string.SendByEnter), preferences.getBoolean("send_by_enter", false), true);
                     } else if (position == saveToGalleryRow) {
@@ -1350,7 +1356,7 @@ public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {
         @Override
         public boolean isEnabled(RecyclerView.ViewHolder holder) {
             int position = holder.getAdapterPosition();
-            boolean forkRows = position == squareAvatarsRow || position == inappCameraRow;
+            boolean forkRows = position == squareAvatarsRow || position == inappCameraRow || position == syncPinsRow;
             return forkRows || position == textSizeRow || position == enableAnimationsRow || position == notificationRow || position == backgroundRow || position == numberRow ||
                     position == askQuestionRow || position == sendLogsRow || position == sendByEnterRow || position == autoplayGifsRow || position == privacyRow ||
                     position == clearLogsRow || position == languageRow || position == usernameRow || position == bioRow ||
@@ -1432,7 +1438,7 @@ public int getItemViewType(int position) {
             }
             if (position == settingsSectionRow || position == supportSectionRow || position == messagesSectionRow || position == contactsSectionRow) {
                 return 1;
-            } else if (position == enableAnimationsRow || position == squareAvatarsRow || position == inappCameraRow || position == sendByEnterRow || position == saveToGalleryRow || position == autoplayGifsRow || position == raiseToSpeakRow || position == customTabsRow || position == directShareRow) {
+            } else if (position == enableAnimationsRow || position == squareAvatarsRow || position == inappCameraRow || position == syncPinsRow || position == sendByEnterRow || position == saveToGalleryRow || position == autoplayGifsRow || position == raiseToSpeakRow || position == customTabsRow || position == directShareRow) {
                 return 3;
             } else if (position == notificationRow || position == themeRow || position == backgroundRow || position == askQuestionRow || position == sendLogsRow || position == privacyRow || position == clearLogsRow || position == switchBackendButtonRow || position == telegramFaqRow || position == contactsReimportRow || position == textSizeRow || position == languageRow || position == contactsSortRow || position == stickersRow || position == privacyPolicyRow || position == emojiRow || position == dataRow) {
                 return 2;
