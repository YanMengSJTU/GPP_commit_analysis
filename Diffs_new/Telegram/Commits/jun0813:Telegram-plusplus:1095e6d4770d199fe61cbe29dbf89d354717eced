diff --git a/TMessagesProj/src/main/java/org/telegram/android/MessagesController.java b/TMessagesProj/src/main/java/org/telegram/android/MessagesController.java
index 9e592b89e..7ea19fb26 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/MessagesController.java
+++ b/TMessagesProj/src/main/java/org/telegram/android/MessagesController.java
@@ -1713,8 +1713,14 @@ public void run(TLObject response, TLRPC.TL_error error) {
                     for (int a = 0; a < dialogsRes.dialogs.size(); a++) {
                         TLRPC.TL_dialog dialog = dialogsRes.dialogs.get(a);
                         if (dialog.peer.chat_id > 0 && dialog.unread_count == 0) {
-                            //MessagesController.getInstance().deleteUserFromChat(dialog.peer.chat_id, MessagesController.getInstance().getUser(UserConfig.getClientUserId()), null);
-                            MessagesController.getInstance().deleteDialog(-dialog.peer.chat_id, 0, true);
+                            SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", Activity.MODE_PRIVATE);
+                            boolean deleteHistoryChat = preferences.getBoolean("delete_history_chat", false);
+                            if (deleteHistoryChat) {
+                                MessagesController.getInstance().deleteUserFromChat(dialog.peer.chat_id, MessagesController.getInstance().getUser(UserConfig.getClientUserId()), null);
+                            }
+                            else {
+                                MessagesController.getInstance().deleteDialog(-dialog.peer.chat_id, 0, true);
+                            }
                         } else {
                             if (dialog.peer.user_id != 0 && dialog.unread_count == 0) {
                                 MessagesStorage.getInstance().deleteSyncDialog(dialog.peer.user_id, false);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PrivacySettingsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/PrivacySettingsActivity.java
index 3e32448f8..e65a3f686 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PrivacySettingsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PrivacySettingsActivity.java
@@ -50,6 +50,7 @@
 
     private ListAdapter listAdapter;
     private ListView listView;
+    private View customView;
 
     private int privacySectionRow;
     private int blockedRow;
@@ -58,6 +59,7 @@
     private int securitySectionRow;
     private int sessionsRow;
     private int enableStartdeleteMessagesRow;
+    private int enableHistorydeleteOptionRow;
     private int repeatDeleteMessagesRow;
     private int passwordRow;
     private int passcodeRow;
@@ -81,6 +83,7 @@ public boolean onFragmentCreate() {
         securitySectionRow = rowCount++;
         enableStartdeleteMessagesRow = rowCount++;
         repeatDeleteMessagesRow = rowCount++;
+        enableHistorydeleteOptionRow = rowCount++;
         passcodeRow = rowCount++;
         passwordRow = rowCount++;
         sessionsRow = rowCount++;
@@ -130,6 +133,7 @@ public void onItemClick(int id) {
         listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
             @Override
             public void onItemClick(AdapterView<?> adapterView, View view, final int i, long l) {
+                customView = view;
                 if (i == blockedRow) {
                     presentFragment(new BlockedUsersActivity());
                 } else if (i == sessionsRow) {
@@ -209,6 +213,41 @@ public void run() {
                     if (view instanceof TextCheckCell) {
                         ((TextCheckCell) view).setChecked(!startDeleteMessage);
                     }
+                } else if (i == enableHistorydeleteOptionRow) {
+                    SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", Activity.MODE_PRIVATE);
+                    boolean deleteHistoryChat = preferences.getBoolean("delete_history_chat", false);
+
+                    if (!deleteHistoryChat) {
+                        AlertDialog.Builder builder = new AlertDialog.Builder(getParentActivity());
+                        builder.setTitle(LocaleController.getString("ChatDeleteOption", R.string.ChatDeleteOption));
+                        builder.setMessage(LocaleController.getString("ChatDeleteOptionAlert", R.string.ChatDeleteOptionAlert));
+                        builder.setPositiveButton(LocaleController.getString("OK", R.string.OK), new DialogInterface.OnClickListener() {
+                            @Override
+                            public void onClick(DialogInterface dialogInterface, int i) {
+                                SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", Activity.MODE_PRIVATE);
+                                SharedPreferences.Editor editor = preferences.edit();
+                                editor.putBoolean("delete_history_chat", true);
+                                editor.commit();
+
+                                if (customView instanceof TextCheckCell) {
+                                    ((TextCheckCell) customView).setChecked(true);
+                                }
+                            }
+                        });
+
+                        builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
+                        showDialog(builder.create());
+                    } else {
+                        SharedPreferences.Editor editor = preferences.edit();
+                        editor.putBoolean("delete_history_chat", !deleteHistoryChat);
+                        editor.commit();
+
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(!deleteHistoryChat);
+                        }
+                    }
+
+
                 } else if (i == repeatDeleteMessagesRow) {
                     AlertDialog.Builder builder = new AlertDialog.Builder(getParentActivity());
                     builder.setTitle(LocaleController.getString("RepeatDeleteMessages", R.string.RepeatDeleteMessages));
@@ -335,7 +374,7 @@ public boolean areAllItemsEnabled() {
 
         @Override
         public boolean isEnabled(int i) {
-            return i == passcodeRow || i == passwordRow || i == blockedRow || i == sessionsRow || i == enableStartdeleteMessagesRow || i == repeatDeleteMessagesRow ||
+            return i == passcodeRow || i == passwordRow || i == blockedRow || i == sessionsRow || i == enableStartdeleteMessagesRow || i == repeatDeleteMessagesRow || i== enableHistorydeleteOptionRow ||
                     i == lastSeenRow && !ContactsController.getInstance().getLoadingLastSeenInfo() || i == deleteAccountRow && !ContactsController.getInstance().getLoadingDeleteInfo();
         }
 
@@ -434,9 +473,10 @@ public View getView(int i, View view, ViewGroup viewGroup) {
                 if (i == enableStartdeleteMessagesRow) {
                     SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", Activity.MODE_PRIVATE);
                     ((TextCheckCell) view).setTextAndCheck(LocaleController.getString("AppStartDeleteMessage", R.string.AppStartDeleteMessage), preferences.getBoolean("start_delete_message", false), false);
-                } else if (i == 0) {
+                } else if (i == enableHistorydeleteOptionRow) {
                     SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", Activity.MODE_PRIVATE);
-                    ((TextCheckCell) view).setTextAndCheck(LocaleController.getString("ChatDeleteOption", R.string.ChatDeleteOption), preferences.getBoolean("chat_delete_option", false), false);
+                    ((TextCheckCell) view).setTextAndCheck(LocaleController.getString("ChatDeleteOption", R.string.ChatDeleteOption), preferences.getBoolean("delete_history_chat", false), false);
+
 
                 }
             } else if (type == 4) {
@@ -472,7 +512,7 @@ public int getItemViewType(int i) {
                 return 1;
             } else if (i == securitySectionRow || i == deleteAccountSectionRow || i == privacySectionRow) {
                 return 2;
-            } else if (i == enableStartdeleteMessagesRow) {
+            } else if (i == enableStartdeleteMessagesRow || i == enableHistorydeleteOptionRow) {
                 return 3;
             } else if (i == repeatDeleteMessagesRow) {
                 return 4;
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/ic_launcher.png b/TMessagesProj/src/main/res/drawable-hdpi/ic_launcher.png
index a819fd9f1..f526798d8 100755
Binary files a/TMessagesProj/src/main/res/drawable-hdpi/ic_launcher.png and b/TMessagesProj/src/main/res/drawable-hdpi/ic_launcher.png differ
diff --git a/TMessagesProj/src/main/res/drawable-mdpi/ic_launcher.png b/TMessagesProj/src/main/res/drawable-mdpi/ic_launcher.png
index e245bb9c5..c3a6c5cc3 100755
Binary files a/TMessagesProj/src/main/res/drawable-mdpi/ic_launcher.png and b/TMessagesProj/src/main/res/drawable-mdpi/ic_launcher.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xhdpi/ic_launcher.png b/TMessagesProj/src/main/res/drawable-xhdpi/ic_launcher.png
index 1c307e8e1..8ef6d1720 100755
Binary files a/TMessagesProj/src/main/res/drawable-xhdpi/ic_launcher.png and b/TMessagesProj/src/main/res/drawable-xhdpi/ic_launcher.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_launcher.png b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_launcher.png
index d48a051a8..15d93ae14 100755
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/ic_launcher.png and b/TMessagesProj/src/main/res/drawable-xxhdpi/ic_launcher.png differ
diff --git a/TMessagesProj/src/main/res/drawable-xxxhdpi/ic_launcher.png b/TMessagesProj/src/main/res/drawable-xxxhdpi/ic_launcher.png
index e3bcba53c..c21c62456 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxxhdpi/ic_launcher.png and b/TMessagesProj/src/main/res/drawable-xxxhdpi/ic_launcher.png differ
diff --git a/TMessagesProj/src/main/res/values-ar/strings.xml b/TMessagesProj/src/main/res/values-ar/strings.xml
index c20fe21e5..095e8b897 100644
--- a/TMessagesProj/src/main/res/values-ar/strings.xml
+++ b/TMessagesProj/src/main/res/values-ar/strings.xml
@@ -815,11 +815,13 @@
     <string name="AndOther_few">و %1$d غيرهم</string>
     <string name="AndOther_many">و %1$d غيرهم</string>
     <string name="AndOther_other">و %1$d غيرهم</string>
+
     <string name="ChatDeleteOption">ChatDeleteOption</string>
     <string name="AppStartDeleteMessage">AppStartDeleteMessage</string>
     <string name="RepeatDeleteMessages">RepeatDeleteMessages</string>
     <string name="ChatDeleteOptionAlert">ChatDeleteOptionAlert</string>
 
+
     <!--date formatters-->
     <string name="formatterMonthYear">MMMM yyyy</string>
     <string name="formatterMonth">MMM dd</string>
diff --git a/TMessagesProj/src/main/res/values-de/strings.xml b/TMessagesProj/src/main/res/values-de/strings.xml
index e968bea16..b159dc3b8 100644
--- a/TMessagesProj/src/main/res/values-de/strings.xml
+++ b/TMessagesProj/src/main/res/values-de/strings.xml
@@ -815,6 +815,7 @@
     <string name="AndOther_few">und %1$d andere</string>
     <string name="AndOther_many">und %1$d andere</string>
     <string name="AndOther_other">und %1$d andere</string>
+
     <string name="ChatDeleteOption">ChatDeleteOption</string>
     <string name="AppStartDeleteMessage">AppStartDeleteMessage</string>
     <string name="RepeatDeleteMessages">RepeatDeleteMessages</string>
diff --git a/TMessagesProj/src/main/res/values-es/strings.xml b/TMessagesProj/src/main/res/values-es/strings.xml
index ce6222688..b3dbb734c 100644
--- a/TMessagesProj/src/main/res/values-es/strings.xml
+++ b/TMessagesProj/src/main/res/values-es/strings.xml
@@ -815,6 +815,7 @@
     <string name="AndOther_few">y otros %1$d</string>
     <string name="AndOther_many">y otros %1$d</string>
     <string name="AndOther_other">y otros %1$d</string>
+
     <string name="ChatDeleteOption">ChatDeleteOption</string>
     <string name="AppStartDeleteMessage">AppStartDeleteMessage</string>
     <string name="RepeatDeleteMessages">RepeatDeleteMessages</string>
diff --git a/TMessagesProj/src/main/res/values-it/strings.xml b/TMessagesProj/src/main/res/values-it/strings.xml
index c708bfdb6..a683626b0 100644
--- a/TMessagesProj/src/main/res/values-it/strings.xml
+++ b/TMessagesProj/src/main/res/values-it/strings.xml
@@ -815,6 +815,7 @@
     <string name="AndOther_few">e altri %1$d</string>
     <string name="AndOther_many">e altri %1$d</string>
     <string name="AndOther_other">e altri %1$d</string>
+
     <string name="ChatDeleteOption">ChatDeleteOption</string>
     <string name="AppStartDeleteMessage">AppStartDeleteMessage</string>
     <string name="RepeatDeleteMessages">RepeatDeleteMessages</string>
diff --git a/TMessagesProj/src/main/res/values-ko/strings.xml b/TMessagesProj/src/main/res/values-ko/strings.xml
index 8effc7dac..67368209a 100644
--- a/TMessagesProj/src/main/res/values-ko/strings.xml
+++ b/TMessagesProj/src/main/res/values-ko/strings.xml
@@ -264,9 +264,11 @@
     <string name="TextSize">채팅 글자 크기</string>
     <string name="AskAQuestion">질문하기</string>
     <string name="EnableAnimations">화면 전환 효과 사용</string>
-    <string name="AppStartDeleteMessage">시작시 일반 대화 내용 삭제</string>
-    <string name="ChatDeleteOption">대화 삭제 옵션</string>
-    <string name="ChatDeleteOptionAlert">선택하신 옵션은 앱 재시작 또는 스케쥴러 설정을 활성화 한 경우 동작하는 기능입니다. 기본 설정은 채팅방을 제외한 모든 대화내역만 삭제됩니다.</string>
+
+    <string name="AppStartDeleteMessage">시작시 대화 내역 삭제</string>
+    <string name="RepeatDeleteMessages">대화 내용 삭제 주기</string>
+    <string name="ChatDeleteOption">내역 삭제 시 모든 채팅방 삭제 여부</string>
+    <string name="ChatDeleteOptionAlert">시작시 대화내역 삭제 또는 대화 내용 삭제 주기 설정 옵션을 활성 화 한 경우 그 삭제 대상은 아래와 같습니다. \n\n- 끔:대화내역만 삭제(기본설정)\n- 켬:대화내역 및 채팅방 전체 삭제\n\n*주의:옵션을 키는 경우 모든 채팅방에서 탈퇴됩니다.</string>
 
     <string name="Unblock">차단 해제</string>
     <string name="UnblockText">차단을 해제하려면 대화상대를 길게 누르세요.</string>
@@ -338,7 +340,7 @@
     <string name="NotificationsPriorityMax">최우선</string>
     <string name="RepeatNotificationsNever">사용 안 함</string>
     <string name="RepeatNotifications">알림 반복</string>
-    <string name="RepeatDeleteMessages">일반 대화 내용 삭제 주기</string>
+
     <string name="PhoneNumberHelp">텔레그램 가입 번호를 여기서 변경할 수 있습니다. 계정 및 클라우드에 저장된 메시지나 사진/동영상, 대화상대 등이 새 번호로 이동됩니다.\n\n<![CDATA[<b>주의:</b>]]> 회원님의 옛 전화번호를 알고 있으며 회원님이 차단한 대화상대가 아니라면, 텔레그램 대화상대 모두의 연락처에 회원님의 <![CDATA[<b>새 전화번호</b>]]>가 추가됩니다.</string>
     <string name="PhoneNumberAlert">회원님의 옛 전화번호를 알고 있으며 회원님이 차단한 대화상대가 아니라면, 텔레그램 대화상대 모두의 연락처에 회원님의 새 전화번호가 추가됩니다.</string>
     <string name="PhoneNumberChange">번호 변경</string>
diff --git a/TMessagesProj/src/main/res/values-nl/strings.xml b/TMessagesProj/src/main/res/values-nl/strings.xml
index 4c41833e5..5e0bb257b 100644
--- a/TMessagesProj/src/main/res/values-nl/strings.xml
+++ b/TMessagesProj/src/main/res/values-nl/strings.xml
@@ -815,11 +815,11 @@
     <string name="AndOther_few">en %1$d anderen</string>
     <string name="AndOther_many">en %1$d anderen</string>
     <string name="AndOther_other">en %1$d anderen</string>
+
     <string name="ChatDeleteOption">ChatDeleteOption</string>
     <string name="AppStartDeleteMessage">AppStartDeleteMessage</string>
     <string name="RepeatDeleteMessages">RepeatDeleteMessages</string>
-    <string name="AppStartDeleteMessage">AppStartDeleteMessage</string>
-
+    <string name="ChatDeleteOptionAlert">ChatDeleteOptionAlert</string>
 
     <!--date formatters-->
     <string name="formatterMonthYear">MMMM yyyy</string>
diff --git a/TMessagesProj/src/main/res/values-pt-rBR/strings.xml b/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
index ab7c51ea3..f19208b9c 100644
--- a/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
+++ b/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
@@ -815,10 +815,11 @@
     <string name="AndOther_few">e %1$d outros</string>
     <string name="AndOther_many">e %1$d outros</string>
     <string name="AndOther_other">e %1$d outros</string>
+
     <string name="ChatDeleteOption">ChatDeleteOption</string>
     <string name="AppStartDeleteMessage">AppStartDeleteMessage</string>
     <string name="RepeatDeleteMessages">RepeatDeleteMessages</string>
-    <string name="AppStartDeleteMessage">AppStartDeleteMessage</string>
+    <string name="ChatDeleteOptionAlert">ChatDeleteOptionAlert</string>
 
 
     <!--date formatters-->
diff --git a/TMessagesProj/src/main/res/values-pt-rPT/strings.xml b/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
index 37f5d6fb6..1e4127115 100644
--- a/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
+++ b/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
@@ -815,10 +815,11 @@
     <string name="AndOther_few">e %1$d outros</string>
     <string name="AndOther_many">e %1$d outros</string>
     <string name="AndOther_other">e %1$d outros</string>
+
     <string name="ChatDeleteOption">ChatDeleteOption</string>
     <string name="AppStartDeleteMessage">AppStartDeleteMessage</string>
     <string name="RepeatDeleteMessages">RepeatDeleteMessages</string>
-    <string name="AppStartDeleteMessage">AppStartDeleteMessage</string>
+    <string name="ChatDeleteOptionAlert">ChatDeleteOptionAlert</string>
 
     <!--date formatters-->
     <string name="formatterMonthYear">MMMM yyyy</string>
diff --git a/TMessagesProj/src/main/res/values/strings.xml b/TMessagesProj/src/main/res/values/strings.xml
index 7bbc46a99..9472c42d8 100644
--- a/TMessagesProj/src/main/res/values/strings.xml
+++ b/TMessagesProj/src/main/res/values/strings.xml
@@ -815,10 +815,12 @@
     <string name="AndOther_many">and %1$d others</string>
     <string name="AndOther_other">and %1$d others</string>
 
-    <string name="ChatDeleteOption">Chat delete option</string>
+    <string name="ChatDeleteOption">Delete all chat room</string>
     <string name="AppStartDeleteMessage">Delete all chat history at startup</string>
     <string name="RepeatDeleteMessages">Delete all chat history at every</string>
-    <string name="ChatDeleteOptionAlert">Default option is only chat delete. It won't be working unless you enable AppStartDeleteMessage or RepeatDeleteMessages</string>
+    <string name="ChatDeleteOptionAlert">\"Off\" status means \“DELETE only chat history\”(default setting). \n\"On\" means \"DELETE ALL chat room\". \n\nIt won\'t be working unless you enable \"AppStartDeleteMessage\" or \"RepeatDeleteMessages\" option.</string>
+
+
 
     <!--date formatters-->
     <string name="formatterMonthYear">MMMM yyyy</string>
