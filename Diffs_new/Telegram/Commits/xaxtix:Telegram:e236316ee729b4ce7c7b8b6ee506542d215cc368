diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/Theme.java b/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/Theme.java
index f5881c026..51f6196f9 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/Theme.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/Theme.java
@@ -594,6 +594,7 @@ public void run() {
     public static final String key_avatar_backgroundCyan = "avatar_backgroundCyan";
     public static final String key_avatar_backgroundBlue = "avatar_backgroundBlue";
     public static final String key_avatar_backgroundPink = "avatar_backgroundPink";
+    public static final String key_avatar_backgroundAccent = "avatar_backgroundAccent";
     public static final String key_avatar_backgroundGroupCreateSpanBlue = "avatar_backgroundGroupCreateSpanBlue";
 
     public static final String key_avatar_backgroundInProfileBlue = "avatar_backgroundInProfileBlue";
@@ -609,9 +610,10 @@ public void run() {
     public static final String key_avatar_nameInMessageCyan = "avatar_nameInMessageCyan";
     public static final String key_avatar_nameInMessageBlue = "avatar_nameInMessageBlue";
     public static final String key_avatar_nameInMessagePink = "avatar_nameInMessagePink";
+    public static final String key_avatar_nameInMessageAccent = "avatar_nameInMessageAccent";
 
-    public static String[] keys_avatar_background = {key_avatar_backgroundRed, key_avatar_backgroundOrange, key_avatar_backgroundViolet, key_avatar_backgroundGreen, key_avatar_backgroundCyan, key_avatar_backgroundBlue, key_avatar_backgroundPink};
-    public static String[] keys_avatar_nameInMessage = {key_avatar_nameInMessageRed, key_avatar_nameInMessageOrange, key_avatar_nameInMessageViolet, key_avatar_nameInMessageGreen, key_avatar_nameInMessageCyan, key_avatar_nameInMessageBlue, key_avatar_nameInMessagePink};
+    public static String[] keys_avatar_background = {key_avatar_backgroundRed, key_avatar_backgroundOrange, key_avatar_backgroundViolet, key_avatar_backgroundGreen, key_avatar_backgroundCyan, key_avatar_backgroundBlue, key_avatar_backgroundPink,key_avatar_backgroundAccent};
+    public static String[] keys_avatar_nameInMessage = {key_avatar_nameInMessageRed, key_avatar_nameInMessageOrange, key_avatar_nameInMessageViolet, key_avatar_nameInMessageGreen, key_avatar_nameInMessageCyan, key_avatar_nameInMessageBlue, key_avatar_nameInMessagePink,key_avatar_nameInMessageAccent};
 
     public static final String key_actionBarDefault = "actionBarDefault";
     public static final String key_actionBarDefaultSelector = "actionBarDefaultSelector";
@@ -1086,6 +1088,18 @@ public void run() {
     // color keys below was generated and hardcoded for easy editing
     // this colors always ned transform
     private static final String[] accentColorKeys = new String[]{
+            key_windowBackgroundWhiteBlueText,
+            key_avatar_nameInMessageAccent,
+            key_avatar_backgroundAccent,
+            key_chat_recordedVoicePlayPausePressed,
+            key_dialogLinkSelection,
+            key_dialogInputFieldActivated,
+            key_chat_inAudioPerformerSelectedText,
+            key_chat_inAudioPerformerText,
+            key_chat_outAudioPerformerSelectedText,
+            key_chat_outAudioPerformerText,
+            key_chat_recordedVoiceProgress,
+            key_undo_cancelColor,
             key_chats_menuName,
             key_chats_menuPhone,
             key_avatar_backgroundGroupCreateSpanBlue,
@@ -1126,7 +1140,6 @@ public void run() {
             key_picker_enabledButton,
             key_chats_menuTopShadowCats,
             key_musicPicker_buttonBackground,
-            key_avatar_nameInMessageBlue,
             key_chats_menuTopShadow,
             key_chats_unreadCounter,
             key_inappPlayerPlayPause,
@@ -1285,11 +1298,16 @@ public void run() {
             key_chat_serviceBackground,
             key_chat_inBubbleSelected,
             key_chat_outSentClock,
-            key_windowBackgroundWhiteValueText
+            key_windowBackgroundWhiteValueText,
+            key_chat_emojiPanelIcon,
+            key_chat_emojiPanelIconSelected,
+            key_chat_emojiPanelStickerPackSelectorLine
     };
 
     //this colors draw over accent color, they totally replace
     private static String[] darkThemeSecondaryColorKeys = new String[]{
+            key_chat_messagePanelVoiceLockBackground,
+            key_chat_messagePanelVoiceLockShadow,
             key_chat_inFileBackgroundSelected,
             key_chat_outViews,
             key_chat_inAudioSelectedProgress,
@@ -1302,15 +1320,12 @@ public void run() {
             key_passport_authorizeBackground,
             key_chat_outLoaderPhoto,
             key_avatar_backgroundGroupCreateSpanBlue,
-            key_dialogLinkSelection,
-            key_avatar_nameInMessageCyan,
             key_chat_searchPanelIcons,
             key_chat_inAudioSeekbarSelected,
             key_chat_outVenueInfoText,
             key_chat_outContactPhoneText,
             key_actionBarActionModeDefaultSelector,
             key_chat_inVoiceSeekbarSelected,
-            key_chat_emojiPanelIconSelected,
             key_checkboxSquareBackground,
             key_chat_outFileBackgroundSelected,
             key_chat_outVoiceSeekbarSelected,
@@ -1319,7 +1334,6 @@ public void run() {
             key_chat_outFileInfoText,
             key_chat_outMenuSelected,
             key_chat_outLoaderPhotoSelected,
-            key_dialogInputFieldActivated,
             key_chat_outTimeText,
             key_chat_outReplyMediaMessageText,
             key_chat_outLoaderPhotoIcon,
@@ -1338,7 +1352,8 @@ public void run() {
             key_chat_outMenu,
             key_chat_inFileSelectedIcon,
             key_chat_outSentClock,
-            key_chat_searchPanelText
+            key_chat_searchPanelText,
+            key_chat_emojiPanelStickerPackSelector,
     };
 
     //this colors is accent only for dark theme
@@ -1348,7 +1363,6 @@ public void run() {
             key_chat_inFileProgressSelected,
             key_chat_outPreviewLine,
             key_dialogScrollGlow,
-            key_chat_emojiPanelStickerPackSelector,
             key_contextProgressInner1,
             key_chat_inLoaderPhotoIconSelected,
             key_chat_outPreviewInstantText,
@@ -1364,6 +1378,7 @@ public void run() {
             key_switchTrackBlueSelector,
             key_chat_outPreviewInstantSelectedText,
             key_chat_outReplyNameText,
+            key_actionBarTabUnactiveText
     };
 
     //this colors is background for tinting
@@ -1415,7 +1430,6 @@ public void run() {
             key_chat_replyPanelLine,
             key_dialogSearchHint,
             key_switchTrackBlueThumbChecked,
-            key_chat_emojiPanelIcon,
             key_chat_topPanelMessage,
             key_chat_emojiPanelTrendingDescription,
             key_chat_inLocationBackground,
@@ -1629,6 +1643,7 @@ public void run() {
         defaultColors.put(key_avatar_backgroundCyan, 0xff5fbed5);
         defaultColors.put(key_avatar_backgroundBlue, 0xff549cdd);
         defaultColors.put(key_avatar_backgroundPink, 0xfff2749a);
+        defaultColors.put(key_avatar_backgroundAccent, 0xff549cdd);
         defaultColors.put(key_avatar_backgroundGroupCreateSpanBlue, 0xffe6eff7);
 
         defaultColors.put(key_avatar_backgroundInProfileBlue, 0xff5085b1);
@@ -1644,6 +1659,7 @@ public void run() {
         defaultColors.put(key_avatar_nameInMessageCyan, 0xff379eb8);
         defaultColors.put(key_avatar_nameInMessageBlue, 0xff4e92cc);
         defaultColors.put(key_avatar_nameInMessagePink, 0xff4e92cc);
+        defaultColors.put(key_avatar_nameInMessageAccent, 0xff4e92cc);
 
         defaultColors.put(key_actionBarDefault, 0xff527da3);
         defaultColors.put(key_actionBarDefaultIcon, 0xffffffff);
@@ -2273,7 +2289,7 @@ public void run() {
             themesDict.put("Graphite", themeInfo);
         }
 
-        ThemeInfo arctic = themeInfo = new ThemeInfo();
+        themeInfo = new ThemeInfo();
         themeInfo.name = "Arctic";
         themeInfo.assetName = "arctic.attheme";
         themeInfo.previewBackgroundColor = 0xffffffff;
@@ -4671,6 +4687,8 @@ private static void overrideColorsToAccent(ThemeInfo themeInfo, HashMap<String,
         currentColors.put(key_chat_outSentCheckSelected, secondaryTextColor);
         currentColors.put(key_chat_outSentCheck, secondaryTextColor);
         currentColors.put(key_chat_outTimeText, secondaryTextColor);
+        currentColors.put(key_chat_outFileInfoText, secondaryTextColor);
+        currentColors.put(key_chat_outAudioDurationText, secondaryTextColor);
 
         if(themeInfo.isLight()){
             currentColors.put(key_chat_outGreenCall, secondaryTextColor);
@@ -4679,7 +4697,6 @@ private static void overrideColorsToAccent(ThemeInfo themeInfo, HashMap<String,
 
     private static int transformColorToAccent(AccentColorParams params, int color) {
         float[] hslTmp = ColorUtilities.hslTmp;
-        float[] hslTmp2 = ColorUtilities.hslTmp2;
         float[] hsvTmp = ColorUtilities.hsvTmp;
         float[] hsvTmp2 = ColorUtilities.hsvTmp2;
 
@@ -4696,7 +4713,6 @@ private static int transformColorToAccent(AccentColorParams params, int color) {
             if(hsvTmp[2] < hsvTmp2[2]) {
                 k = hsvTmp[2] / hsvTmp2[2];
             }
-           // float k = params.isDarkTheme ? params.accentBrightness / 255f : (1f - params.accentBrightness / 255f);
             hsvTmp[2] = clamp(hsvTmp[2] - difV * k,0f,1f);
             hsvTmp[1] = clamp(hsvTmp[1] - difS * k,0f,1f);
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/AvatarDrawable.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/AvatarDrawable.java
index 5325ed8db..2ddc33d52 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/AvatarDrawable.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/AvatarDrawable.java
@@ -83,7 +83,7 @@ public void setProfile(boolean value) {
     }
 
     public static int getColorIndex(int id) {
-        if (id >= 0 && id < 7) {
+        if (id >= 0 && id <= 7) {
             return id;
         }
         return Math.abs(id % Theme.keys_avatar_background.length);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/GroupCreateFinalActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/GroupCreateFinalActivity.java
index 23fa1f4c3..b2382e7e2 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/GroupCreateFinalActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/GroupCreateFinalActivity.java
@@ -391,7 +391,7 @@ public void invalidate(int l, int t, int r, int b) {
             }
         };
         avatarImage.setRoundRadius(AndroidUtilities.dp(32));
-        avatarDrawable.setInfo(5, null, null, chatType == ChatObject.CHAT_TYPE_BROADCAST);
+        avatarDrawable.setInfo(7, null, null, chatType == ChatObject.CHAT_TYPE_BROADCAST);
         avatarImage.setImageDrawable(avatarDrawable);
         avatarImage.setContentDescription(LocaleController.getString("ChoosePhoto", R.string.ChoosePhoto));
         editTextContainer.addView(avatarImage, LayoutHelper.createFrame(64, 64, Gravity.TOP | (LocaleController.isRTL ? Gravity.RIGHT : Gravity.LEFT), LocaleController.isRTL ? 0 : 16, 16, LocaleController.isRTL ? 16 : 0, 16));
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ThemeActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ThemeActivity.java
index 569a41914..ff3947ba6 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ThemeActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ThemeActivity.java
@@ -228,25 +228,25 @@
         });
         defaultPickerColors.put("dark.attheme",new int[]{
                 0xff3e6588,//default blue
-                0xff2a7e84,//cyan
-                0xff347b33,//green
-                0xffc77f39,//oragne
-                0xff7e3e58,//pink
-                0xff49536a,//steel
-                0xff81332f,//red
-                0xff4d4089,//purpule
-                0xff7f6a2b //yellow
+                0xff2d6a5a,//cyan
+                0xff336132,//green
+                0xff7c491c,//oragne
+                0xff663d4f,//pink
+                0xff465262,//steel
+                0xff7c2d30,//red
+                0xff5d527f,//purpule
+                0xff745627 //yellow
         });
         defaultPickerColors.put("darkblue.attheme",new int[]{
                 0xff3e618a,//default blue
-                0xff296254,//cyan
-                0xff2c6329,//green
-                0xff746127,//oragne
-                0xff6c354f,//pink
-                0xff56627d,//steel
-                0xff672a2f,//red
-                0xff48326c,//purpule
-                0xff5b4b2c //yellow
+                0xff2d6a5a,//cyan
+                0xff336132,//green
+                0xff7c491c,//oragne
+                0xff663d4f,//pink
+                0xff465262,//steel
+                0xff7c2d30,//red
+                0xff5d527f,//purpule
+                0xff745627 //yellow
         });
     }
 
@@ -1068,6 +1068,7 @@ private void openThemeCreate() {
 
         editText.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 16);
         editText.setTextColor(Theme.getColor(Theme.key_dialogTextBlack));
+        editText.setLineColors(Theme.getColor(Theme.key_windowBackgroundWhiteInputField), Theme.getColor(Theme.key_windowBackgroundWhiteInputFieldActivated), Theme.getColor(Theme.key_windowBackgroundWhiteRedText3));
         editText.setMaxLines(1);
         editText.setLines(1);
         editText.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_FLAG_CAP_SENTENCES);
