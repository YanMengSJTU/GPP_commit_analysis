diff --git a/TMessagesProj/src/main/java/org/telegram/android/PostsController.java b/TMessagesProj/src/main/java/org/telegram/android/PostsController.java
index 65c36d1ec..e8eb4103d 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/PostsController.java
+++ b/TMessagesProj/src/main/java/org/telegram/android/PostsController.java
@@ -12,18 +12,15 @@
 import android.content.SharedPreferences;
 import android.location.Location;
 
+import org.telegram.android.location.LocationManagerHelper;
 import org.telegram.messenger.ApplicationLoader;
-import org.telegram.messenger.TLRPC;
 import org.telegram.messenger.dto.Coordinates;
-import org.telegram.messenger.dto.Image;
 import org.telegram.messenger.dto.Post;
 import org.telegram.messenger.dto.PostResponse;
 import org.telegram.messenger.dto.User;
 import org.telegram.messenger.dto.Venue;
 import org.telegram.messenger.service.mock.PostServiceMock;
 import org.telegram.messenger.service.mock.UserServiceMock;
-import org.telegram.messenger.service.mock.VenueServiceMock;
-import org.telegram.ui.LocationActivityAragats;
 import org.telegram.utils.StringUtils;
 
 import java.util.ArrayList;
@@ -154,7 +151,7 @@ public void loadPosts(final int offset, final int count, boolean reload, boolean
             return;
         }
         loadingPosts = true;
-        Location location = LocationActivityAragats.getLastLocation();
+        Location location = LocationManagerHelper.getInstance().getLastLocation();
         if (location == null) {
             loadingPosts = false;
             NotificationCenter.getInstance().postNotificationName(NotificationCenter.undefinedLocation);
@@ -197,7 +194,7 @@ public void processLoadedPosts(PostResponse postResponse, final int offset, fina
 
 
     public void loadCurrentVenue(String loc) {
-        Location location = LocationActivityAragats.getLastLocation();
+        Location location = LocationManagerHelper.getInstance().getLastLocation();
         if(location == null) {
 //            NotificationCenter.getInstance().postNotificationName(NotificationCenter.undefinedLocation);
             return;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/location/LocationManagerHelper.java b/TMessagesProj/src/main/java/org/telegram/android/location/LocationManagerHelper.java
new file mode 100644
index 000000000..5592efb35
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/android/location/LocationManagerHelper.java
@@ -0,0 +1,88 @@
+package org.telegram.android.location;
+
+import android.content.Context;
+import android.location.Location;
+import android.location.LocationListener;
+import android.location.LocationManager;
+import android.os.Bundle;
+
+import org.telegram.messenger.ApplicationLoader;
+
+import java.util.List;
+
+/**
+ * Created by aragats on 15/09/15.
+ */
+public class LocationManagerHelper {
+
+    private static volatile LocationManagerHelper Instance = null;
+
+    private LocationListener locationListener;
+
+    public static LocationManagerHelper getInstance() {
+        LocationManagerHelper localInstance = Instance;
+        if (localInstance == null) {
+            synchronized (LocationManagerHelper.class) {
+                localInstance = Instance;
+                if (localInstance == null) {
+                    Instance = localInstance = new LocationManagerHelper();
+                }
+            }
+        }
+        return localInstance;
+    }
+
+    private LocationManagerHelper() {
+        // Define a listener that responds to location updates
+
+        locationListener = new LocationListener() {
+            public void onLocationChanged(Location location) {
+                // Called when a new location is found by the network location provider.
+//                makeUseOfNewLocation(location);
+                Location loc = getLastLocation();
+            }
+
+            public void onStatusChanged(String provider, int status, Bundle extras) {
+            }
+
+            public void onProviderEnabled(String provider) {
+            }
+
+            public void onProviderDisabled(String provider) {
+            }
+        };
+
+    }
+
+    //TODO move the method to other place.
+    public void runLocationListener() {
+        LocationManager locationManager = (LocationManager) ApplicationLoader.applicationContext.getSystemService(Context.LOCATION_SERVICE);
+
+// Register the listener with the Location Manager to receive location updates
+        locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListener);
+
+    }
+
+    public void stopLocationListener() {
+        LocationManager locationManager = (LocationManager) ApplicationLoader.applicationContext.getSystemService(Context.LOCATION_SERVICE);
+        locationManager.removeUpdates(locationListener);
+
+    }
+
+
+    // cache
+    //TODO-aragats method to get location
+    // TODO It does not work all time. It return only the last location, but not search current location ((( .
+    public Location getLastLocation() {
+        LocationManager lm = (LocationManager) ApplicationLoader.applicationContext.getSystemService(Context.LOCATION_SERVICE);
+        List<String> providers = lm.getProviders(true);
+        Location l = null;
+        for (int i = providers.size() - 1; i >= 0; i--) {
+            l = lm.getLastKnownLocation(providers.get(i));
+            if (l != null) {
+                break;
+            }
+        }
+        return l;
+    }
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LocationActivityAragats.java b/TMessagesProj/src/main/java/org/telegram/ui/LocationActivityAragats.java
index cec9d831e..021e0a6f8 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LocationActivityAragats.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LocationActivityAragats.java
@@ -15,9 +15,11 @@
 import android.content.Intent;
 import android.graphics.Outline;
 import android.location.Location;
+import android.location.LocationListener;
 import android.location.LocationManager;
 import android.net.Uri;
 import android.os.Build;
+import android.os.Bundle;
 import android.text.TextUtils;
 import android.util.TypedValue;
 import android.view.Gravity;
@@ -49,6 +51,7 @@
 import org.telegram.android.LocaleController;
 import org.telegram.android.MessagesController;
 import org.telegram.android.NotificationCenter;
+import org.telegram.android.location.LocationManagerHelper;
 import org.telegram.messenger.ApplicationLoader;
 import org.telegram.messenger.FileLog;
 import org.telegram.messenger.R;
@@ -621,7 +624,7 @@ public void onMyLocationChange(Location location) {
                     positionMarker(location);
                 }
             });
-            positionMarker(myLocation = getLastLocation());
+            positionMarker(myLocation = LocationManagerHelper.getInstance().getLastLocation());
         }
 
         return fragmentView;
@@ -744,21 +747,6 @@ public void run() {
         }
     }
 
-    // cache
-    //TODO-aragats method to get location
-    public static Location getLastLocation() {
-        LocationManager lm = (LocationManager) ApplicationLoader.applicationContext.getSystemService(Context.LOCATION_SERVICE);
-        List<String> providers = lm.getProviders(true);
-        Location l = null;
-        for (int i = providers.size() - 1; i >= 0; i--) {
-            l = lm.getLastKnownLocation(providers.get(i));
-            if (l != null) {
-                break;
-            }
-        }
-        return l;
-    }
-
     private void updateUserData() {
         if (post != null && avatarImageView != null) {
             //TODO location is from user. below photo and name.
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PostsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/PostsActivity.java
index 91f91c4a7..273ac4280 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PostsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PostsActivity.java
@@ -19,6 +19,9 @@
 import android.content.res.Configuration;
 import android.graphics.Bitmap;
 import android.graphics.Outline;
+import android.location.Location;
+import android.location.LocationListener;
+import android.location.LocationManager;
 import android.os.Build;
 import android.os.Bundle;
 import android.provider.Settings;
@@ -48,6 +51,7 @@
 import org.telegram.android.LocaleController;
 import org.telegram.android.NotificationCenter;
 import org.telegram.android.PostsController;
+import org.telegram.android.location.LocationManagerHelper;
 import org.telegram.android.support.widget.LinearLayoutManager;
 import org.telegram.android.support.widget.RecyclerView;
 import org.telegram.messenger.ApplicationLoader;
@@ -102,6 +106,8 @@
     // Swipe Refresh Layout
     private SwipeRefreshLayout swipeRefreshLayout;
 
+    private LocationManager locationManager;
+
 
     //TODO-legacy. update according to new version.
     @Override
@@ -221,6 +227,7 @@ public boolean onFragmentCreate() {
             NotificationCenter.getInstance().addObserver(this, NotificationCenter.didSetPasscode);
         }
 
+        LocationManagerHelper.getInstance().runLocationListener();
 
         if (!postsLoaded) {
             PostsController.getInstance().loadPosts(0, Constants.POST_COUNT, true, true);
@@ -250,6 +257,8 @@ public void onFragmentDestroy() {
             NotificationCenter.getInstance().removeObserver(this, NotificationCenter.messageSendError);
             NotificationCenter.getInstance().removeObserver(this, NotificationCenter.didSetPasscode);
         }
+        LocationManagerHelper.getInstance().stopLocationListener();
+
     }
 
     @Override
