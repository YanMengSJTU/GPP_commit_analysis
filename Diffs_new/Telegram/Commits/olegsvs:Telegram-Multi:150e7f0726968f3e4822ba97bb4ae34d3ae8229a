diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/UserItemsAdapter.java b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/UserItemsAdapter.java
index 6b50495be..a54954fdb 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/UserItemsAdapter.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/UserItemsAdapter.java
@@ -2,6 +2,7 @@
 
 import android.app.Activity;
 import android.content.Context;
+import android.util.Log;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
@@ -9,8 +10,13 @@
 import android.widget.ImageView;
 import android.widget.TextView;
 
+import org.telegram.messenger.ApplicationLoader2;
 import org.telegram.messenger.R;
+import org.telegram.messenger.UserConfig2;
+import org.telegram.tgnet.TLRPC;
 import org.telegram.ui.ChangeUserActivity;
+import org.telegram.ui.Components.AvatarDrawable;
+import org.telegram.ui.Components.BackupImageView;
 import org.telegram.ui.Components.UserItems;
 
 import java.util.ArrayList;
@@ -86,13 +92,9 @@ public View getView(int position, View convertView, ViewGroup parent) {
             holder=(ViewHolder)convertView.getTag();
 
         UserItems userItems = (UserItems) itemList.get(position);
-        if(userItems.getPhoto() == null) holder.imgViewPhoto.setImageBitmap(ChangeUserActivity.book_user);
-        else holder.imgViewPhoto.setImageBitmap(userItems.getPhoto());
+        holder.imgViewPhoto.setImageBitmap(userItems.getPhoto());
         holder.txtViewName.setText(userItems.getName());
         holder.txtViewPhone.setText(userItems.getPhone());
-
         return convertView;
     }
-
-
 }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChangeUserActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChangeUserActivity.java
index 76a033342..56b0d1283 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChangeUserActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChangeUserActivity.java
@@ -8,41 +8,29 @@
 import android.content.DialogInterface;
 import android.content.Intent;
 import android.content.SharedPreferences;
+import android.content.res.Resources;
 import android.graphics.Bitmap;
 import android.graphics.BitmapFactory;
 import android.graphics.BitmapShader;
 import android.graphics.Canvas;
-import android.graphics.Color;
 import android.graphics.Paint;
-import android.graphics.PorterDuff;
-import android.graphics.PorterDuffXfermode;
-import android.graphics.Rect;
-import android.graphics.RectF;
 import android.graphics.Shader;
 import android.graphics.drawable.BitmapDrawable;
 import android.graphics.drawable.Drawable;
-import android.os.Build;
 import android.os.Bundle;
-//import android.support.design.widget.FloatingActionButton;
-//import android.support.design.widget.Snackbar;
-import android.support.v4.graphics.drawable.RoundedBitmapDrawable;
-import android.support.v4.graphics.drawable.RoundedBitmapDrawableFactory;
+import android.util.DisplayMetrics;
 import android.util.Log;
-import android.view.KeyEvent;
 import android.view.View;
-import android.view.ViewGroup;
-import android.view.Window;
 import android.widget.AdapterView;
 import android.widget.ListView;
 import android.widget.Toast;
 
 import com.github.clans.fab.FloatingActionButton;
 
-import org.telegram.messenger.AndroidUtilities;
-import org.telegram.messenger.ApplicationLoader;
 import org.telegram.messenger.ApplicationLoader2;
 import org.telegram.messenger.ChangeUserHelper;
 import org.telegram.messenger.FileLoader;
+import org.telegram.messenger.FileLog;
 import org.telegram.messenger.R;
 import org.telegram.messenger.UserConfig2;
 import org.telegram.tgnet.TLRPC;
@@ -50,6 +38,7 @@
 import org.telegram.ui.Adapters.UserItemsAdapter;
 import org.telegram.ui.Components.UserItems;
 
+
 import java.io.File;
 import java.util.ArrayList;
 
@@ -59,7 +48,6 @@
     UserItemsAdapter adapter = null;
     private ArrayList<Object> itemList;
     private UserItems userItems ;
-    public static Bitmap book_user = null;
     static ProgressDialog prepareProgress;
     static Context ctx ;
 
@@ -73,7 +61,6 @@ public void onBackPressed()
     @Override
     protected void onCreate(Bundle savedInstanceState) {
 
-        book_user = drawableToBitmap(R.drawable.book_user);
         super.onCreate(savedInstanceState);
         setContentView(R.layout.activity_change_user);
         try {
@@ -92,7 +79,9 @@ public boolean onItemLongClick(AdapterView<?> arg0, View arg1,
                     return true;
                 }
             });
+
             prepareArrayLits();
+            Log.i("TGM", "onCreate: prepareArray");
             prepareProgress.dismiss();
             Thread prepareThread = new Thread(
                     new Runnable() {
@@ -136,12 +125,10 @@ public static void showPrepareDialog(Context ctx) {
     @Override
     protected void onDestroy() {
         super.onDestroy();
-//        itemList.clear();
          lvUserList = null;
          adapter = null;
          itemList = null;
          userItems = null;
-         Bitmap book_user = null;
          System.gc();
     }
 
@@ -150,7 +137,6 @@ private void deleteUser(int position) {
         sharedPref.edit().putInt("usersCount", getUsersCount() -1).commit();
         sharedPref.edit().apply();
         deleteDir(getApplicationInfo().dataDir + "/files_user_" + String.valueOf(position));
-//        Toast.makeText(this, getApplicationInfo().dataDir + "/files_user_" + String.valueOf(position), Toast.LENGTH_SHORT).show();
         adapter.remove(position);
         adapter.notifyDataSetChanged();
     }
@@ -201,6 +187,7 @@ public void addUser() {
     }
 
     public int getUsersCount() {
+        Log.i("TGM", "getUsersCount: called");
         SharedPreferences userPhone = getSharedPreferences("userID", Context.MODE_PRIVATE);
         return userPhone.getInt("usersCount",1);
     }
@@ -234,6 +221,7 @@ public void prepareArrayLits()
     {   itemList = new ArrayList<Object>();
         int usersCount = getUsersCount();
         for (int i = 0; i < usersCount ; i++) {
+            Log.i("TGM", "prepareArrayLits: " + i);
             String first_name = "null";
             if (getUserByTag("_user_" + i).last_name == null) first_name = getUserByTag("_user_" + i).first_name;
             else first_name = getUserByTag("_user_" + i).first_name + " " + getUserByTag("_user_" + i).last_name;
@@ -245,63 +233,30 @@ public void prepareArrayLits()
         }
         adapter = new UserItemsAdapter(this, itemList);
         lvUserList.setAdapter(adapter);
-//        System.gc();
+        Log.i("TGM", "prepareArrayLits: setAdapters");
     }
 
     private TLRPC.User getUserByTag(String tag) {
         ApplicationLoader2.convertConfig2(tag);
         TLRPC.User user = UserConfig2.getCurrentUser(tag);
+        Log.i("TGM", "getUserByTag: called " + tag.toString());
         return user;
     }
 
     public Bitmap getBitmap(TLRPC.User user) {
-        RectF bitmapRect;
-        TLRPC.FileLocation photo = null;
-        if (user.photo != null) {
-            photo =user.photo.photo_small;
-        }
-        Bitmap bitmap = null;
-        if (photo != null) {
-            try {
-                File path = FileLoader.getPathToAttach(photo, true);
-                bitmap = BitmapFactory.decodeFile(path.toString());
-                if (bitmap != null) {
-                    int size = AndroidUtilities.dp(58);
-                    Bitmap result = Bitmap.createBitmap(size, size, Bitmap.Config.ARGB_8888);
-                    result.eraseColor(Color.TRANSPARENT);
-                    Canvas canvas = new Canvas(result);
-                    BitmapShader shader = new BitmapShader(bitmap, Shader.TileMode.CLAMP, Shader.TileMode.CLAMP);
-                    Paint roundPaint =  new Paint(Paint.ANTI_ALIAS_FLAG);
-                    bitmapRect = new RectF();
-                    float scale = size / (float) bitmap.getWidth();
-                    canvas.save();
-                    canvas.scale(scale, scale);
-                    roundPaint.setShader(shader);
-                    bitmapRect.set(0, 0, bitmap.getWidth(), bitmap.getHeight());
-                    canvas.drawRoundRect(bitmapRect, bitmap.getWidth(), bitmap.getHeight(), roundPaint);
-                    canvas.restore();
-                    Drawable drawable = ApplicationLoader.applicationContext.getResources().getDrawable(R.drawable.book_logo);
-                    int w = AndroidUtilities.dp(15);
-                    drawable.setBounds(drawable.getBounds().left, drawable.getBounds().top, drawable.getBounds().right, drawable.getBounds().bottom);
-                    drawable.draw(canvas);
-                    try {
-                        canvas.setBitmap(null);
-                    } catch (Exception e) {
-                        //don't promt, this will crash on 2.x
-                    }
-                    bitmap = result;
-                    return bitmap;
-                }
-            } catch (Throwable e) {
-                Log.i("TGM", "getBitmap: " + e.toString());
-            }
+        Bitmap icon;
+        Log.i("TGM", "getBitmap: called");
+        if (user.photo != null && user.photo.photo_small != null) {
+            Log.i("TGM", "getBitmap: photo != null");
+            icon = createRoundBitmap(FileLoader.getPathToAttach(user.photo.photo_small, true));
+            return icon;
         }
-        return null;
+        return drawableToBitmap(R.drawable.logo_avatar);
     }
 
-    // Add one item into the Array List
     public void AddObjectToList(Bitmap image, String title, String desc)
     {
+        Log.i("TGM", "AddObjectToList: called");
         userItems = new UserItems();
         userItems.setPhone(desc);
         userItems.setPhoto(image);
@@ -310,6 +265,7 @@ public void AddObjectToList(Bitmap image, String title, String desc)
     }
 
     public Bitmap drawableToBitmap (int drawable) {
+        Log.i("TGM", "drawableToBitmap: called");
         Bitmap b = null;
         Drawable d = getResources().getDrawable(drawable);
         Drawable currentState = d.getCurrent();
@@ -317,4 +273,32 @@ public Bitmap drawableToBitmap (int drawable) {
             b = ((BitmapDrawable)currentState).getBitmap();
         return b;
     }
+
+    public Bitmap createRoundBitmap(File path) {
+        try {
+            Bitmap bitmap = BitmapFactory.decodeFile(path.toString());
+            if (bitmap != null) {
+                Bitmap circleBitmap = Bitmap.createBitmap(bitmap.getWidth(), bitmap.getHeight(), Bitmap.Config.ARGB_8888);
+
+                BitmapShader shader = new BitmapShader (bitmap,  Shader.TileMode.CLAMP, Shader.TileMode.CLAMP);
+                Paint paint = new Paint();
+                paint.setShader(shader);
+                paint.setAntiAlias(true);
+                Canvas c = new Canvas(circleBitmap);
+                c.drawCircle(bitmap.getWidth()/2, bitmap.getHeight()/2, bitmap.getWidth()/2, paint);
+                Bitmap resizedBitmap = Bitmap.createScaledBitmap(
+                        circleBitmap, (int) convertDpToPixel(50),(int) convertDpToPixel(50), false);
+                return resizedBitmap;
+            }
+        } catch (Throwable e) {
+            FileLog.e(e);
+        }
+        return null;
+    }
+
+    public static float convertDpToPixel(float dp){
+        DisplayMetrics metrics = Resources.getSystem().getDisplayMetrics();
+        float px = dp * ((float)metrics.densityDpi / DisplayMetrics.DENSITY_DEFAULT);
+        return px;
+    }
 }
diff --git a/TMessagesProj/src/main/res/layout/activity_change_user.xml b/TMessagesProj/src/main/res/layout/activity_change_user.xml
index 66f338bb9..3a2ff3e95 100644
--- a/TMessagesProj/src/main/res/layout/activity_change_user.xml
+++ b/TMessagesProj/src/main/res/layout/activity_change_user.xml
@@ -1,6 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
 xmlns:app="http://schemas.android.com/apk/res-auto"
+xmlns:fab="http://schemas.android.com/apk/res-auto"
 android:layout_width="match_parent"
 android:layout_height="match_parent">
 
@@ -10,16 +11,18 @@ android:layout_height="match_parent">
         android:layout_height="match_parent"
         android:layout_centerVertical="true"
         android:longClickable="true"
-        android:theme="@style/Theme.TMessages"
+        android:theme="@style/Theme.TMessages.ListView"
         android:layout_centerHorizontal="true" />
 
       <com.github.clans.fab.FloatingActionButton
           android:id="@+id/fab"
           android:layout_width="wrap_content"
           android:layout_height="wrap_content"
-          android:layout_gravity="bottom|end"
-          android:layout_margin="@dimen/fab_margin"
-          android:src="@drawable/attach_contact"
+          android:layout_gravity="bottom|right"
+          android:layout_marginBottom="8dp"
+          android:layout_marginRight="8dp"
+          android:theme="@style/Theme.TMessages"
+          android:src="@drawable/ic_add_white_18dp"
           android:layout_alignParentBottom="true"
           android:layout_alignParentRight="true" />
 
diff --git a/TMessagesProj/src/main/res/layout/user_list_item.xml b/TMessagesProj/src/main/res/layout/user_list_item.xml
index f7b5ffc00..6ecac27b3 100644
--- a/TMessagesProj/src/main/res/layout/user_list_item.xml
+++ b/TMessagesProj/src/main/res/layout/user_list_item.xml
@@ -8,8 +8,8 @@
     android:padding="5dip">
 
     <ImageView
-        android:layout_width="50dip"
-        android:layout_height="50dip"
+        android:layout_width="50dp"
+        android:layout_height="50dp"
         android:id="@+id/userPhoto"
         android:src="@drawable/book_user"
         android:layout_alignParentLeft="true"
@@ -24,7 +24,7 @@
         android:layout_width="wrap_content"
         android:id="@+id/userName"
         android:layout_toRightOf="@+id/userPhoto"
-        android:layout_marginLeft="2dip">
+        android:layout_marginLeft="10dip">
     </TextView>
 
     <TextView
@@ -34,7 +34,7 @@
         android:id="@+id/userPhone"
         android:layout_toRightOf="@+id/userPhoto"
         android:layout_below="@+id/userName"
-        android:layout_marginLeft="2dip">
+        android:layout_marginLeft="10dip">
     </TextView>
 
 </RelativeLayout>
\ No newline at end of file
