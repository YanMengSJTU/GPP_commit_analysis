diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index e5cdb81fc..7ce70abdf 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -83,7 +83,7 @@ android {
     }
 
     defaultConfig {
-        minSdkVersion 16
+        minSdkVersion 17
         targetSdkVersion 23
         versionCode 720
         versionName "3.4.2"
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/AndroidUtilities.java b/TMessagesProj/src/main/java/org/telegram/messenger/AndroidUtilities.java
index a4abfc646..e362af713 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/AndroidUtilities.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/AndroidUtilities.java
@@ -403,11 +403,7 @@ public static int getMinTabletSide() {
 
     public static int getPhotoSize() {
         if (photoSize == null) {
-            if (Build.VERSION.SDK_INT >= 16) {
-                photoSize = 1280;
-            } else {
-                photoSize = 800;
-            }
+            photoSize = 1280;
         }
         return photoSize;
     }
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/MediaController.java b/TMessagesProj/src/main/java/org/telegram/messenger/MediaController.java
index 94d69bcd8..01fc8c0a1 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/MediaController.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/MediaController.java
@@ -2958,11 +2958,6 @@ private boolean convertVideo(final MessageObject messageObject) {
                                 String codecName = codecInfo.getName();
                                 if (codecName.contains("OMX.qcom.")) {
                                     processorType = PROCESSOR_TYPE_QCOM;
-                                    if (Build.VERSION.SDK_INT == 16) {
-                                        if (manufacturer.equals("lge") || manufacturer.equals("nokia")) {
-                                            swapUV = 1;
-                                        }
-                                    }
                                 } else if (codecName.contains("OMX.Intel.")) {
                                     processorType = PROCESSOR_TYPE_INTEL;
                                 } else if (codecName.equals("OMX.MTK.VIDEO.ENCODER.AVC")) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java
index 603c4c228..135c8ed28 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java
@@ -240,7 +240,7 @@ public boolean onTouchEvent(MotionEvent event) {
                                     }
                                 } else {
                                     TLRPC.WebPage webPage = currentMessageObject.messageOwner.media.webpage;
-                                    if (Build.VERSION.SDK_INT >= 16 && webPage.embed_url != null && webPage.embed_url.length() != 0) {
+                                    if (webPage.embed_url != null && webPage.embed_url.length() != 0) {
                                         delegate.needOpenWebView(webPage.embed_url, webPage.site_name, webPage.url, webPage.embed_width, webPage.embed_height);
                                     } else {
                                         Uri uri = Uri.parse(webPage.url);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/SharedLinkCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/SharedLinkCell.java
index a1d260c67..39aa02ee1 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/SharedLinkCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/SharedLinkCell.java
@@ -387,7 +387,8 @@ public boolean onTouchEvent(MotionEvent event) {
                             } else if (linkPreviewPressed) {
                                 try {
                                     TLRPC.WebPage webPage = pressedLink == 0 && message.messageOwner.media != null ? message.messageOwner.media.webpage : null;
-                                    if (webPage != null && Build.VERSION.SDK_INT >= 16 && webPage.embed_url != null && webPage.embed_url.length() != 0) {
+                                    if (webPage != null && webPage.embed_url != null
+                                            && webPage.embed_url.length() != 0) {
                                         delegate.needOpenWebView(webPage);
                                     } else {
                                         Uri uri = Uri.parse(links.get(pressedLink));
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
index 86ba7ed75..d90474f38 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
@@ -2524,13 +2524,7 @@ public void startPhotoSelectActivity() {
 
                 @Override
                 public boolean didSelectVideo(String path) {
-                    if (Build.VERSION.SDK_INT >= 16) {
-                        return !openVideoEditor(path, true, true);
-                    } else {
-                        SendMessagesHelper.prepareSendingVideo(path, 0, 0, 0, 0, null, dialog_id, replyingMessageObject, chatActivityEnterView == null || chatActivityEnterView.asAdmin());
-                        showReplyPanel(false, null, null, null, false, true);
-                        return true;
-                    }
+                    return !openVideoEditor(path, true, true);
                 }
             });
             presentFragment(fragment);
@@ -3895,15 +3889,10 @@ public void sendButtonPressed(int index) {
                     if (videoPath == null) {
                         showAttachmentError();
                     }
-                    if (Build.VERSION.SDK_INT >= 16) {
-                        if (paused) {
-                            startVideoEdit = videoPath;
-                        } else {
-                            openVideoEditor(videoPath, false, false);
-                        }
+                    if (paused) {
+                        startVideoEdit = videoPath;
                     } else {
-                        SendMessagesHelper.prepareSendingVideo(videoPath, 0, 0, 0, 0, null, dialog_id, replyingMessageObject, chatActivityEnterView == null || chatActivityEnterView.asAdmin());
-                        showReplyPanel(false, null, null, null, false, true);
+                        openVideoEditor(videoPath, false, false);
                     }
                 } else {
                     SendMessagesHelper.prepareSendingPhoto(null, uri, dialog_id, replyingMessageObject, null, chatActivityEnterView == null || chatActivityEnterView.asAdmin());
@@ -3928,15 +3917,10 @@ public void sendButtonPressed(int index) {
                     }
                     currentPicturePath = null;
                 }
-                if (Build.VERSION.SDK_INT >= 16) {
-                    if (paused) {
-                        startVideoEdit = videoPath;
-                    } else {
-                        openVideoEditor(videoPath, false, false);
-                    }
+                if (paused) {
+                    startVideoEdit = videoPath;
                 } else {
-                    SendMessagesHelper.prepareSendingVideo(videoPath, 0, 0, 0, 0, null, dialog_id, replyingMessageObject, chatActivityEnterView == null || chatActivityEnterView.asAdmin());
-                    showReplyPanel(false, null, null, null, false, true);
+                    openVideoEditor(videoPath, false, false);
                 }
             } else if (requestCode == 21) {
                 if (data == null || data.getData() == null) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/AvatarDrawable.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/AvatarDrawable.java
index 22694ce13..cbf0cf5a9 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/AvatarDrawable.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/AvatarDrawable.java
@@ -193,17 +193,13 @@ public void setInfo(int id, String firstName, String lastName, boolean isBroadca
                 }
                 lastch = lastName.substring(a, a + 1);
             }
-            if (Build.VERSION.SDK_INT >= 16) {
-                stringBuilder.append("\u200C");
-            }
+            stringBuilder.append("\u200C");
             stringBuilder.append(lastch);
         } else if (firstName != null && firstName.length() > 0) {
             for (int a = firstName.length() - 1; a >= 0; a--) {
                 if (firstName.charAt(a) == ' ') {
                     if (a != firstName.length() - 1 && firstName.charAt(a + 1) != ' ') {
-                        if (Build.VERSION.SDK_INT >= 16) {
-                            stringBuilder.append("\u200C");
-                        }
+                        stringBuilder.append("\u200C");
                         stringBuilder.append(firstName.substring(a + 1, a + 2));
                         break;
                     }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/PagerSlidingTabStrip.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/PagerSlidingTabStrip.java
index 25396572e..edcfdecf1 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/PagerSlidingTabStrip.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/PagerSlidingTabStrip.java
@@ -101,11 +101,7 @@ public void notifyDataSetChanged() {
         getViewTreeObserver().addOnGlobalLayoutListener(new OnGlobalLayoutListener() {
             @Override
             public void onGlobalLayout() {
-                if (Build.VERSION.SDK_INT < 16) {
-                    getViewTreeObserver().removeGlobalOnLayoutListener(this);
-                } else {
-                    getViewTreeObserver().removeOnGlobalLayoutListener(this);
-                }
+                getViewTreeObserver().removeOnGlobalLayoutListener(this);
                 currentPosition = pager.getCurrentItem();
                 scrollToChild(currentPosition, 0);
             }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java
index 92873885e..d3154a400 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/DialogsActivity.java
@@ -823,11 +823,7 @@ public void onGlobalLayout() {
                     floatingButton.setTranslationY(floatingHidden ? AndroidUtilities.dp(100) : 0);
                     floatingButton.setClickable(!floatingHidden);
                     if (floatingButton != null) {
-                        if (Build.VERSION.SDK_INT < 16) {
-                            floatingButton.getViewTreeObserver().removeGlobalOnLayoutListener(this);
-                        } else {
-                            floatingButton.getViewTreeObserver().removeOnGlobalLayoutListener(this);
-                        }
+                        floatingButton.getViewTreeObserver().removeOnGlobalLayoutListener(this);
                     }
                 }
             });
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
index 996467731..2466a0759 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
@@ -1297,21 +1297,16 @@ public void didSelectDialog(DialogsActivity dialogsFragment, long dialog_id, boo
             ChatActivity fragment = new ChatActivity(args);
 
             if (videoPath != null) {
-                if(android.os.Build.VERSION.SDK_INT >= 16) {
-                    if (AndroidUtilities.isTablet()) {
-                        actionBarLayout.presentFragment(fragment, false, true, true);
-                    } else {
-                        actionBarLayout.addFragmentToStack(fragment, actionBarLayout.fragmentsStack.size() - 1);
-                    }
+                if (AndroidUtilities.isTablet()) {
+                    actionBarLayout.presentFragment(fragment, false, true, true);
+                } else {
+                    actionBarLayout.addFragmentToStack(fragment, actionBarLayout.fragmentsStack.size() - 1);
+                }
 
-                    if (!fragment.openVideoEditor(videoPath, dialogsFragment != null, false) && dialogsFragment != null) {
-                        if (!AndroidUtilities.isTablet()) {
-                            dialogsFragment.finishFragment(true);
-                        }
+                if (!fragment.openVideoEditor(videoPath, dialogsFragment != null, false) && dialogsFragment != null) {
+                    if (!AndroidUtilities.isTablet()) {
+                        dialogsFragment.finishFragment(true);
                     }
-                } else {
-                    actionBarLayout.presentFragment(fragment, dialogsFragment != null, dialogsFragment == null, true);
-                    SendMessagesHelper.prepareSendingVideo(videoPath, 0, 0, 0, 0, null, dialog_id, null, true);
                 }
             } else {
                 actionBarLayout.presentFragment(fragment, dialogsFragment != null, dialogsFragment == null, true);
@@ -1449,11 +1444,7 @@ public void fixLayout() {
             public void onGlobalLayout() {
                 needLayout();
                 if (actionBarLayout != null) {
-                    if (Build.VERSION.SDK_INT < 16) {
-                        actionBarLayout.getViewTreeObserver().removeGlobalOnLayoutListener(this);
-                    } else {
-                        actionBarLayout.getViewTreeObserver().removeOnGlobalLayoutListener(this);
-                    }
+                    actionBarLayout.getViewTreeObserver().removeOnGlobalLayoutListener(this);
                 }
             }
         });
@@ -1573,11 +1564,7 @@ protected void onDestroy() {
         try {
             if (onGlobalLayoutListener != null) {
                 final View view = getWindow().getDecorView().getRootView();
-                if (Build.VERSION.SDK_INT < 16) {
-                    view.getViewTreeObserver().removeGlobalOnLayoutListener(onGlobalLayoutListener);
-                } else {
-                    view.getViewTreeObserver().removeOnGlobalLayoutListener(onGlobalLayoutListener);
-                }
+                view.getViewTreeObserver().removeGlobalOnLayoutListener(onGlobalLayoutListener);
             }
         } catch (Exception e) {
             FileLog.e("tmessages", e);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ManageSpaceActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ManageSpaceActivity.java
index a2e77c3d8..8f3b61a59 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ManageSpaceActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ManageSpaceActivity.java
@@ -257,11 +257,7 @@ public void fixLayout() {
             public void onGlobalLayout() {
                 needLayout();
                 if (actionBarLayout != null) {
-                    if (Build.VERSION.SDK_INT < 16) {
-                        actionBarLayout.getViewTreeObserver().removeGlobalOnLayoutListener(this);
-                    } else {
-                        actionBarLayout.getViewTreeObserver().removeOnGlobalLayoutListener(this);
-                    }
+                    actionBarLayout.getViewTreeObserver().removeOnGlobalLayoutListener(this);
                 }
             }
         });
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/MediaActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/MediaActivity.java
index e267a2362..23b81fe96 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/MediaActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/MediaActivity.java
@@ -1097,7 +1097,7 @@ private void onItemClick(int index, View view, MessageObject message, int a) {
                     TLRPC.WebPage webPage = message.messageOwner.media.webpage;
                     String link = null;
                     if (webPage != null && !(webPage instanceof TLRPC.TL_webPageEmpty)) {
-                        if (Build.VERSION.SDK_INT >= 16 && webPage.embed_url != null && webPage.embed_url.length() != 0) {
+                        if (webPage.embed_url != null && webPage.embed_url.length() != 0) {
                             openWebView(webPage);
                             return;
                         } else {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java b/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java
index ed58e56cb..381ab590c 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java
@@ -1548,9 +1548,7 @@ private void closeCaptionEnter(boolean apply) {
         }
         cropItem.setVisibility(View.VISIBLE);
         captionItem.setVisibility(View.VISIBLE);
-        if (Build.VERSION.SDK_INT >= 16) {
-            tuneItem.setVisibility(View.VISIBLE);
-        }
+        tuneItem.setVisibility(View.VISIBLE);
         if (sendPhotoType == 0) {
             checkImageView.setVisibility(View.VISIBLE);
         }
@@ -2353,9 +2351,7 @@ private void onPhotoShow(final MessageObject messageObject, final TLRPC.FileLoca
                     captionEditText.onCreate();
                 }
             }
-            if (Build.VERSION.SDK_INT >= 16) {
-                tuneItem.setVisibility(cropItem.getVisibility());
-            }
+            tuneItem.setVisibility(cropItem.getVisibility());
             updateSelectedCount();
         }
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/VideoEditorActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/VideoEditorActivity.java
index 64db21a64..6ad6cabc8 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/VideoEditorActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/VideoEditorActivity.java
@@ -643,11 +643,7 @@ private void fixLayout() {
             public void onGlobalLayout() {
                 fixLayoutInternal();
                 if (fragmentView != null) {
-                    if (Build.VERSION.SDK_INT < 16) {
-                        fragmentView.getViewTreeObserver().removeGlobalOnLayoutListener(this);
-                    } else {
-                        fragmentView.getViewTreeObserver().removeOnGlobalLayoutListener(this);
-                    }
+                    fragmentView.getViewTreeObserver().removeOnGlobalLayoutListener(this);
                 }
             }
         });
