diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/ContactsController.java b/TMessagesProj/src/main/java/org/telegram/messenger/ContactsController.java
index 370350dad..6e5b7c084 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/ContactsController.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/ContactsController.java
@@ -1463,6 +1463,8 @@ public void processLoadedContacts(final ArrayList<TLRPC.TL_contact> contactsArr,
                 final HashMap<String, TLRPC.TL_contact> contactsByPhonesDictFinal = contactsByPhonesDict;
                 final HashMap<String, TLRPC.TL_contact> contactsByPhonesShortDictFinal = contactsByPhonesShortDict;
 
+                final int selfId = UserConfig.getInstance(currentAccount).clientUserId;
+
                 for (int a = 0; a < contactsArr.size(); a++) {
                     TLRPC.TL_contact value = contactsArr.get(a);
                     TLRPC.User user = usersDict.get(value.user_id);
@@ -1488,21 +1490,24 @@ public void processLoadedContacts(final ArrayList<TLRPC.TL_contact> contactsArr,
                     if (replace != null) {
                         key = replace;
                     }
-                    ArrayList<TLRPC.TL_contact> arr = sectionsDict.get(key);
-                    if (arr == null) {
-                        arr = new ArrayList<>();
-                        sectionsDict.put(key, arr);
-                        sortedSectionsArray.add(key);
-                    }
-                    arr.add(value);
-                    if (user.mutual_contact) {
-                        arr = sectionsDictMutual.get(key);
+                    if (value.user_id != selfId) {
+                        ArrayList<TLRPC.TL_contact> arr = sectionsDict.get(key);
                         if (arr == null) {
                             arr = new ArrayList<>();
-                            sectionsDictMutual.put(key, arr);
-                            sortedSectionsArrayMutual.add(key);
+                            sectionsDict.put(key, arr);
+                            sortedSectionsArray.add(key);
                         }
                         arr.add(value);
+
+                        if (user.mutual_contact) {
+                            arr = sectionsDictMutual.get(key);
+                            if (arr == null) {
+                                arr = new ArrayList<>();
+                                sectionsDictMutual.put(key, arr);
+                                sortedSectionsArrayMutual.add(key);
+                            }
+                            arr.add(value);
+                        }
                     }
                 }
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/SearchAdapter.java b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/SearchAdapter.java
index 784ef2d89..1ff196d1f 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/SearchAdapter.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/SearchAdapter.java
@@ -125,7 +125,7 @@ public void run() {
     private void processSearch(final String query) {
         AndroidUtilities.runOnUIThread(() -> {
             if (allowUsernameSearch) {
-                searchAdapterHelper.queryServerSearch(query, true, allowChats, allowBots, true, channelId, -1);
+                searchAdapterHelper.queryServerSearch(query, true, allowChats, allowBots, false, channelId, -1);
             }
             final int currentAccount = UserConfig.selectedAccount;
             final ArrayList<TLRPC.TL_contact> contactsCopy = new ArrayList<>(ContactsController.getInstance(currentAccount).contacts);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/SearchAdapterHelper.java b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/SearchAdapterHelper.java
index b37be7f9b..ca4114f43 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/SearchAdapterHelper.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/SearchAdapterHelper.java
@@ -237,6 +237,9 @@ public void queryServerSearch(final String query, final boolean allowUsername, f
                                         localServerSearch.add(chat);
                                         globalSearchMap.put(-chat.id, chat);
                                     } else if (user != null) {
+                                        if (!allowBots && user.bot || !allowSelf && user.self) {
+                                            continue;
+                                        }
                                         localServerSearch.add(user);
                                         globalSearchMap.put(user.id, user);
                                     }
