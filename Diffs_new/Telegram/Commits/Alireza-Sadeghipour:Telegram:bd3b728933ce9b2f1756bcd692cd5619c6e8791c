diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/DrawerLayoutContainer.java b/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/DrawerLayoutContainer.java
index d3ff223d5..382a03d5d 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/DrawerLayoutContainer.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/DrawerLayoutContainer.java
@@ -134,6 +134,7 @@ public void setDrawerLayout(ViewGroup layout) {
 
     public void setSecondDrawerLayout(ViewGroup layout) {
         secondDrawerLayout = layout;
+
         addView(secondDrawerLayout);
         if (Build.VERSION.SDK_INT >= 21) {
             secondDrawerLayout.setFitsSystemWindows(true);
@@ -143,13 +144,11 @@ public void setSecondDrawerLayout(ViewGroup layout) {
     public void moveDrawerByX(float dx) {
         Log.d("telegram", dx + "");
         setDrawerPosition(drawerPosition + dx);
-        if(drawerPosition == 0) {
-            setSecondDrawerPosition(secondDrawerPosition + dx);
-        }
+        setSecondDrawerPosition(secondDrawerPosition + dx);
+
     }
 
     public void setDrawerPosition(float value) {
-        Log.d("telegram", value + "!");
         drawerPosition = value;
         if (drawerPosition > drawerLayout.getMeasuredWidth()) {
             drawerPosition = drawerLayout.getMeasuredWidth();
@@ -166,20 +165,21 @@ public void setDrawerPosition(float value) {
     }
 
     public void setSecondDrawerPosition(float value) {
-        Log.d("telegram", value + "!!!");
+        Log.d("telegram", value + "!");
         secondDrawerPosition = value;
-//        if (drawerPosition > drawerLayout.getMeasuredWidth()) {
-//            drawerPosition = drawerLayout.getMeasuredWidth();
-//        } else if (drawerPosition < 0) {
-//            drawerPosition = 0;
-//        }
-        secondDrawerLayout.setTranslationX(0 - secondDrawerPosition);
+        if (0 - secondDrawerPosition > drawerLayout.getMeasuredWidth()) {
+            secondDrawerPosition = 0 - drawerLayout.getMeasuredWidth();
+        } else if (secondDrawerPosition > 0) {
+            secondDrawerPosition = 0;
+        }
+        Log.d("telegram", drawerLayout.getMeasuredWidth() + "!!");
+        secondDrawerLayout.setTranslationX(secondDrawerPosition);
 
         final int newVisibility = secondDrawerPosition < 0 ? VISIBLE : GONE;
         if (secondDrawerLayout.getVisibility() != newVisibility) {
             secondDrawerLayout.setVisibility(newVisibility);
         }
-        setScrimOpacity(0 - secondDrawerPosition / (float) secondDrawerLayout.getMeasuredWidth());
+        setScrimOpacity(0 - secondDrawerPosition / (float) drawerLayout.getMeasuredWidth());
     }
 
     public float getDrawerPosition() {
@@ -411,8 +411,10 @@ protected void onLayout(boolean changed, int l, int t, int r, int b) {
             try {
                 if (drawerLayout != child && secondDrawerLayout != child) {
                     child.layout(lp.leftMargin, lp.topMargin, lp.leftMargin + child.getMeasuredWidth(), lp.topMargin + child.getMeasuredHeight());
-                } else {
+                } else if(secondDrawerLayout != child){
                     child.layout(-child.getMeasuredWidth(), lp.topMargin, 0, lp.topMargin + child.getMeasuredHeight());
+                }else {
+                    child.layout(r, lp.topMargin, r + child.getMeasuredWidth(), lp.topMargin + child.getMeasuredHeight());
                 }
             } catch (Exception e) {
                 FileLog.e("tmessages", e);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
index cbb3e740f..41d45c368 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
@@ -330,13 +330,15 @@ public boolean hasOverlappingRendering() {
                 return false;
             }
         };
-        secondListView.setBackgroundColor(0x112233ff);
+        secondListView.setBackgroundColor(0xffffffff);
         secondListView.setAdapter(drawerLayoutAdapter = new DrawerLayoutAdapter(this));
         secondListView.setChoiceMode(AbsListView.CHOICE_MODE_SINGLE);
         secondListView.setDivider(null);
         secondListView.setDividerHeight(0);
         secondListView.setVerticalScrollBarEnabled(false);
 
+
+
         drawerLayoutContainer.setSecondDrawerLayout(secondListView);
 
 
