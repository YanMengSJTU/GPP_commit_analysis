diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/EmojiView.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/EmojiView.java
index 1e884ff76..e1ca8495a 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/EmojiView.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/EmojiView.java
@@ -4449,7 +4449,7 @@ private void search(final String query, final String offset, boolean searchUser)
                                 resultsMap.put(result.id, result);
                                 addedCount++;
                             }
-                            searchEndReached = oldCount == results.size();
+                            searchEndReached = TextUtils.isEmpty(res.next_offset);
                             if (addedCount != 0) {
                                 if (oldCount != 0) {
                                     notifyItemChanged(oldCount);
