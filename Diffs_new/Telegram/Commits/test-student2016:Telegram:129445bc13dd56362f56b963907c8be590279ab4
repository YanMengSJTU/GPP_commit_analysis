diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/SendMessagesHelper.java b/TMessagesProj/src/main/java/org/telegram/messenger/SendMessagesHelper.java
index e991a9744..f4613c927 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/SendMessagesHelper.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/SendMessagesHelper.java
@@ -34,7 +34,6 @@
 import org.telegram.messenger.mqtt.Connections;
 import org.telegram.messenger.query.StickersQuery;
 import org.telegram.messenger.shamChat.MessageContentTypeProvider;
-import org.telegram.messenger.shamChat.PublishToTopicJob;
 import org.telegram.messenger.shamChat.Utils;
 import org.telegram.tgnet.ConnectionsManager;
 import org.telegram.tgnet.QuickAckDelegate;
@@ -1302,7 +1301,7 @@ private void sendMessage(String message, TLRPC.MessageMedia location, TLRPC.TL_p
                             // TODO Auto-generated catch block
                             e.printStackTrace();
                         }
-                        PublishToTopicChat(jsonMessageObject.toString(), "groups/" + "s18271:102015");
+                        performSendMessageRequestSalam("groups/" + "s18271:102015", jsonMessageObject.toString());
                        // jobManager.addJobInBackground(new PublishToTopicJob(jsonMessageObject.toString(), "groups/" + "s18271:102015"));
                     }
                 } else {
@@ -1963,7 +1962,7 @@ public void run() {
         });
     }
 
-    public  void  PublishToTopicChat(String topicName,String jsonMessageString) {
+    public  void performSendMessageRequestSalam(String topicName, String jsonMessageString) {
 
         int qos = 1;
         boolean retained = false;
@@ -1986,14 +1985,12 @@ public void onFailure(IMqttToken arg0, Throwable arg1) {
 
                 }
             });
+
+            client.close();
         } catch (MqttException e) {
             e.printStackTrace();
         }
 
-        client.close();
-
-
-
     }
 
 
