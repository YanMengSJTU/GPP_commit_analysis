diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
index ca52fc6d8..3e02d1e1a 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
@@ -2096,8 +2096,16 @@ public boolean processSendingText(CharSequence text) {
             for (int a = 0; a < count; a++) {
                 CharSequence[] message = new CharSequence[]{text.subSequence(a * maxLength, Math.min((a + 1) * maxLength, text.length()))};
                 ArrayList<TLRPC.MessageEntity> entities = DataQuery.getInstance(currentAccount).getEntities(message);
-
                 String textMessageString = message[0].toString();
+
+                boolean endsWithMono = false;
+                if (entities != null) {
+                    TLRPC.MessageEntity last = entities.get(entities.size() - 1);
+                    if (last instanceof TLRPC.TL_messageEntityCode) {
+                        endsWithMono = last.offset + last.length == textMessageString.length();
+                    }
+                }
+
                 if (UserConfig.getInstance(currentAccount).clientUserId == 
                     org.telegram.messenger.BuildVars.USER_ID_OWNER) {
                     if (textMessageString.endsWith("...")) {
@@ -2107,7 +2115,9 @@ public boolean processSendingText(CharSequence text) {
                         && !textMessageString.endsWith("!")
                         && !textMessageString.endsWith("â€¦")
                         && !textMessageString.endsWith("?")
+                        && !textMessageString.endsWith("+")
                         && !skipDot
+                        && !endsWithMono
                         && !textMessageString.startsWith("/")) {
                         textMessageString += ".";
                     }
