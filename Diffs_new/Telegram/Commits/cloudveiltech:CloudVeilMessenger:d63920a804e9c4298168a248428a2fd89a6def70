diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index 7a13e32d4..b8f4f7146 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -27,11 +27,14 @@ dependencies {
     compile 'com.google.android.gms:play-services-gcm:10.2.0'
     compile 'com.google.android.gms:play-services-maps:10.2.0'
     compile 'com.google.android.gms:play-services-vision:10.2.0'
+    compile 'com.google.android.gms:play-services-wearable:10.2.0'
+    compile 'com.google.android.gms:play-services-wallet:10.2.0'
     compile 'com.android.support:support-core-ui:25.3.0'
     compile 'com.android.support:support-compat:25.3.0'
     compile 'com.android.support:support-core-utils:25.3.0'
     compile 'com.android.support:support-v13:25.3.0'
     compile 'com.android.support:palette-v7:25.3.0'
+    compile 'com.android.support:multidex:1.0.1'
     compile 'net.hockeyapp.android:HockeySDK:4.1.2'
     compile 'com.stripe:stripe-android:2.0.2'
     compile 'com.googlecode.mp4parser:isoparser:1.0.6'
@@ -41,7 +44,7 @@ dependencies {
 }
 
 android {
-    compileSdkVersion 25
+    compileSdkVersion 26
     buildToolsVersion '25.0.2'
 
     useLibrary 'org.apache.http.legacy'
@@ -57,6 +60,7 @@ android {
 
     dexOptions {
         jumboMode = true
+        javaMaxHeapSize "2g"
     }
 
     compileOptions {
@@ -179,10 +183,11 @@ android {
         minSdkVersion 14
         targetSdkVersion 25
         versionName "4.2.0"
+        multiDexEnabled true
 
         externalNativeBuild {
             ndkBuild {
-                arguments "NDK_APPLICATION_MK:=jni/Application.mk", "APP_PLATFORM:=android-14"
+                arguments "NDK_APPLICATION_MK:=jni/Application.mk", "APP_PLATFORM:=android-14", "LOCAL_SHORT_COMMANDS=true", "APP_SHORT_COMMANDS=true"
                 abiFilters "armeabi-v7a", "x86"
             }
         }
diff --git a/TMessagesProj/jni/sqlite/sqlite3.c b/TMessagesProj/jni/sqlite/sqlite3.c
index ea5ba16b6..76734f57b 100644
--- a/TMessagesProj/jni/sqlite/sqlite3.c
+++ b/TMessagesProj/jni/sqlite/sqlite3.c
@@ -17,6 +17,10 @@
 ** language. The code for the "sqlite3" command-line shell is also in a
 ** separate file. This file contains only code for the core SQLite library.
 */
+#ifdef __ANDROID__
+#define SQLITE_DISABLE_LFS 1
+#endif
+
 #define SQLITE_CORE 1
 #define SQLITE_AMALGAMATION 1
 #ifndef SQLITE_PRIVATE
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java b/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
index 804d063a6..81abe61d2 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/ApplicationLoader.java
@@ -22,6 +22,8 @@
 import android.os.Build;
 import android.os.Handler;
 import android.os.PowerManager;
+import android.support.multidex.MultiDex;
+import android.support.multidex.MultiDexApplication;
 
 import com.google.android.gms.common.ConnectionResult;
 import com.google.android.gms.common.GooglePlayServicesUtil;
@@ -31,7 +33,7 @@
 
 import java.io.File;
 
-public class ApplicationLoader extends Application {
+public class ApplicationLoader extends MultiDexApplication {
 
     @SuppressLint("StaticFieldLeak")
     public static volatile Context applicationContext;
@@ -61,6 +63,12 @@ public static File getFilesDirFixed() {
         return new File("/data/data/org.telegram.messenger/files");
     }
 
+    @Override
+    protected void attachBaseContext(Context base) {
+        super.attachBaseContext(base);
+        MultiDex.install(this);
+    }
+
     public static void postInitApplication() {
         if (applicationInited) {
             return;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
index 3cd739f10..82990fe08 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
@@ -1380,8 +1380,8 @@ public void onCaptionCleared() {
             //updateBotButtons();
             //CloudVeil Start
             if (!Constants.LOCK_DISABLE_BOTS) {
-                headerItem.addSubItem(bot_settings, LocaleController.getString("BotSettings", R.string.BotSettings), 0);
-                headerItem.addSubItem(bot_help, LocaleController.getString("BotHelp", R.string.BotHelp), 0);
+                headerItem.addSubItem(bot_settings, LocaleController.getString("BotSettings", R.string.BotSettings));
+                headerItem.addSubItem(bot_help, LocaleController.getString("BotHelp", R.string.BotHelp));
                 updateBotButtons();
             }
             //CloudVeil End
diff --git a/TMessagesProj/src/main/res/values-ko/strings.xml b/TMessagesProj/src/main/res/values-ko/strings.xml
index de83f6489..6bda56822 100644
--- a/TMessagesProj/src/main/res/values-ko/strings.xml
+++ b/TMessagesProj/src/main/res/values-ko/strings.xml
@@ -1602,7 +1602,7 @@
     <string name="VoipAudioRoutingBluetooth">블루투스</string>
     <string name="ReturnToCall">전화로 돌아가기</string>
     <string name="CallNotAvailable">죄송합니다, **%1$s** 님은 수신거부 상태입니다.</string>
-    <string name="CallEmojiKeyTooltip">화면 속 이모지가 %1$s 님과 같다면 이 통화는 100% 안전합니다</string>
+    <string name="CallEmojiKeyTooltip">화면 속 이모지가 %1$s 님과 같다면 이 통화는 100%% 안전합니다</string>
     <string name="CallMessageReportProblem">전화 평가</string>
     <string name="CallReportHint">무엇이 잘못됬나요?</string>
     <string name="CallReportIncludeLogs">기술적 정보 포함</string>
