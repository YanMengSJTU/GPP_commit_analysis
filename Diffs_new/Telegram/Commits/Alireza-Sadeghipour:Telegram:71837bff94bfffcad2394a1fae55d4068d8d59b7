diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/DrawerLayoutContainer.java b/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/DrawerLayoutContainer.java
index b514e8f21..d3ff223d5 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/DrawerLayoutContainer.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ActionBar/DrawerLayoutContainer.java
@@ -18,6 +18,7 @@
 import android.graphics.Paint;
 import android.graphics.drawable.Drawable;
 import android.os.Build;
+import android.util.Log;
 import android.view.Gravity;
 import android.view.MotionEvent;
 import android.view.VelocityTracker;
@@ -38,6 +39,7 @@
     private static final int MIN_DRAWER_MARGIN = 64;
 
     private ViewGroup drawerLayout;
+    private ViewGroup secondDrawerLayout;
     private ActionBarLayout parentActionBarLayout;
 
     private boolean maybeStartTracking;
@@ -59,6 +61,7 @@
     private boolean allowOpenDrawer;
 
     private float drawerPosition;
+    private float secondDrawerPosition;
     private boolean drawerOpened;
     private boolean allowDrawContent = true;
 
@@ -129,11 +132,24 @@ public void setDrawerLayout(ViewGroup layout) {
         }
     }
 
+    public void setSecondDrawerLayout(ViewGroup layout) {
+        secondDrawerLayout = layout;
+        addView(secondDrawerLayout);
+        if (Build.VERSION.SDK_INT >= 21) {
+            secondDrawerLayout.setFitsSystemWindows(true);
+        }
+    }
+
     public void moveDrawerByX(float dx) {
+        Log.d("telegram", dx + "");
         setDrawerPosition(drawerPosition + dx);
+        if(drawerPosition == 0) {
+            setSecondDrawerPosition(secondDrawerPosition + dx);
+        }
     }
 
     public void setDrawerPosition(float value) {
+        Log.d("telegram", value + "!");
         drawerPosition = value;
         if (drawerPosition > drawerLayout.getMeasuredWidth()) {
             drawerPosition = drawerLayout.getMeasuredWidth();
@@ -149,6 +165,23 @@ public void setDrawerPosition(float value) {
         setScrimOpacity(drawerPosition / (float) drawerLayout.getMeasuredWidth());
     }
 
+    public void setSecondDrawerPosition(float value) {
+        Log.d("telegram", value + "!!!");
+        secondDrawerPosition = value;
+//        if (drawerPosition > drawerLayout.getMeasuredWidth()) {
+//            drawerPosition = drawerLayout.getMeasuredWidth();
+//        } else if (drawerPosition < 0) {
+//            drawerPosition = 0;
+//        }
+        secondDrawerLayout.setTranslationX(0 - secondDrawerPosition);
+
+        final int newVisibility = secondDrawerPosition < 0 ? VISIBLE : GONE;
+        if (secondDrawerLayout.getVisibility() != newVisibility) {
+            secondDrawerLayout.setVisibility(newVisibility);
+        }
+        setScrimOpacity(0 - secondDrawerPosition / (float) secondDrawerLayout.getMeasuredWidth());
+    }
+
     public float getDrawerPosition() {
         return drawerPosition;
     }
@@ -376,7 +409,7 @@ protected void onLayout(boolean changed, int l, int t, int r, int b) {
             final LayoutParams lp = (LayoutParams) child.getLayoutParams();
 
             try {
-                if (drawerLayout != child) {
+                if (drawerLayout != child && secondDrawerLayout != child) {
                     child.layout(lp.leftMargin, lp.topMargin, lp.leftMargin + child.getMeasuredWidth(), lp.topMargin + child.getMeasuredHeight());
                 } else {
                     child.layout(-child.getMeasuredWidth(), lp.topMargin, 0, lp.topMargin + child.getMeasuredHeight());
@@ -427,7 +460,7 @@ protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
                 }
             }
 
-            if (drawerLayout != child) {
+            if (drawerLayout != child && secondDrawerLayout != child) {
                 final int contentWidthSpec = MeasureSpec.makeMeasureSpec(widthSize - lp.leftMargin - lp.rightMargin, MeasureSpec.EXACTLY);
                 final int contentHeightSpec = MeasureSpec.makeMeasureSpec(heightSize - lp.topMargin - lp.bottomMargin, MeasureSpec.EXACTLY);
                 child.measure(contentWidthSpec, contentHeightSpec);
@@ -446,7 +479,7 @@ protected boolean drawChild(Canvas canvas, View child, long drawingTime) {
             return false;
         }
         final int height = getHeight();
-        final boolean drawingContent = child != drawerLayout;
+        final boolean drawingContent = (child != drawerLayout && child != secondDrawerLayout);
         int lastVisibleChild = 0;
         int clipLeft = 0, clipRight = getWidth();
 
@@ -455,10 +488,10 @@ protected boolean drawChild(Canvas canvas, View child, long drawingTime) {
             final int childCount = getChildCount();
             for (int i = 0; i < childCount; i++) {
                 final View v = getChildAt(i);
-                if (v.getVisibility() == VISIBLE && v != drawerLayout) {
+                if (v.getVisibility() == VISIBLE && v != drawerLayout && v!= secondDrawerLayout) {
                     lastVisibleChild = i;
                 }
-                if (v == child || v.getVisibility() != VISIBLE || v != drawerLayout || v.getHeight() < height) {
+                if (v == child || v.getVisibility() != VISIBLE || v != drawerLayout || v != secondDrawerLayout || v.getHeight() < height) {
                     continue;
                 }
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
index f54fa86d8..cbb3e740f 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
@@ -323,6 +323,23 @@ public boolean hasOverlappingRendering() {
         listView.setDividerHeight(0);
         listView.setVerticalScrollBarEnabled(false);
         drawerLayoutContainer.setDrawerLayout(listView);
+
+        ListView secondListView = new ListView(this) {
+            @Override
+            public boolean hasOverlappingRendering() {
+                return false;
+            }
+        };
+        secondListView.setBackgroundColor(0x112233ff);
+        secondListView.setAdapter(drawerLayoutAdapter = new DrawerLayoutAdapter(this));
+        secondListView.setChoiceMode(AbsListView.CHOICE_MODE_SINGLE);
+        secondListView.setDivider(null);
+        secondListView.setDividerHeight(0);
+        secondListView.setVerticalScrollBarEnabled(false);
+
+        drawerLayoutContainer.setSecondDrawerLayout(secondListView);
+
+
         FrameLayout.LayoutParams layoutParams = (FrameLayout.LayoutParams) listView.getLayoutParams();
         Point screenSize = AndroidUtilities.getRealScreenSize();
         layoutParams.width = AndroidUtilities.isTablet() ? AndroidUtilities.dp(320) : Math.min(AndroidUtilities.dp(320), Math.min(screenSize.x, screenSize.y) - AndroidUtilities.dp(56));
