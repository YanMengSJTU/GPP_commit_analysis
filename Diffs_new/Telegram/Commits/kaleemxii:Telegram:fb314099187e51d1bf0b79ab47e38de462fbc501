diff --git a/TMessagesProj/src/main/java/org/telegram/ui/TelegramMessageWidget.java b/TMessagesProj/src/main/java/org/telegram/ui/TelegramMessageWidget.java
new file mode 100644
index 000000000..80788eb1e
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telegram/ui/TelegramMessageWidget.java
@@ -0,0 +1,47 @@
+package org.telegram.ui;
+
+import android.appwidget.AppWidgetManager;
+import android.appwidget.AppWidgetProvider;
+import android.content.Context;
+import android.widget.RemoteViews;
+
+import org.telegram.messenger.R;
+
+/**
+ * Implementation of App Widget functionality.
+ */
+public class TelegramMessageWidget extends AppWidgetProvider {
+
+    @Override
+    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {
+        // There may be multiple widgets active, so update all of them
+        final int N = appWidgetIds.length;
+        for (int i = 0; i < N; i++) {
+            updateAppWidget(context, appWidgetManager, appWidgetIds[i]);
+        }
+    }
+
+
+    @Override
+    public void onEnabled(Context context) {
+        // Enter relevant functionality for when the first widget is created
+    }
+
+    @Override
+    public void onDisabled(Context context) {
+        // Enter relevant functionality for when the last widget is disabled
+    }
+
+    static void updateAppWidget(Context context, AppWidgetManager appWidgetManager,
+                                int appWidgetId) {
+
+        CharSequence widgetText = context.getString(R.string.appwidget_text);
+        // Construct the RemoteViews object
+        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.telegram_message_widget);
+        views.setTextViewText(R.id.appwidget_text, widgetText);
+
+        // Instruct the widget manager to update the widget
+        appWidgetManager.updateAppWidget(appWidgetId, views);
+    }
+}
+
diff --git a/TMessagesProj/src/main/res/drawable-nodpi/example_appwidget_preview.png b/TMessagesProj/src/main/res/drawable-nodpi/example_appwidget_preview.png
new file mode 100644
index 000000000..894b069a4
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-nodpi/example_appwidget_preview.png differ
diff --git a/TMessagesProj/src/main/res/layout/telegram_message_widget.xml b/TMessagesProj/src/main/res/layout/telegram_message_widget.xml
new file mode 100644
index 000000000..3c26c28cc
--- /dev/null
+++ b/TMessagesProj/src/main/res/layout/telegram_message_widget.xml
@@ -0,0 +1,12 @@
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent" android:layout_height="match_parent"
+    android:padding="@dimen/widget_margin" android:background="#09C">
+
+    <TextView android:id="@+id/appwidget_text" android:layout_width="wrap_content"
+        android:layout_height="wrap_content" android:layout_centerHorizontal="true"
+        android:layout_centerVertical="true" android:text="@string/appwidget_text"
+        android:textColor="#ffffff" android:textSize="24sp" android:textStyle="bold|italic"
+        android:layout_margin="8dp" android:contentDescription="@string/appwidget_text"
+        android:background="#09C" />
+
+</RelativeLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-v14/dimens.xml b/TMessagesProj/src/main/res/values-v14/dimens.xml
new file mode 100644
index 000000000..50a85e6d3
--- /dev/null
+++ b/TMessagesProj/src/main/res/values-v14/dimens.xml
@@ -0,0 +1,10 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+
+    <!--
+Refer to App Widget Documentation for margin information
+http://developer.android.com/guide/topics/appwidgets/index.html#CreatingLayout
+    -->
+    <dimen name="widget_margin">0dp</dimen>
+
+</resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values/dimens.xml b/TMessagesProj/src/main/res/values/dimens.xml
new file mode 100644
index 000000000..6b4bb9003
--- /dev/null
+++ b/TMessagesProj/src/main/res/values/dimens.xml
@@ -0,0 +1,10 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+
+    <!--
+Refer to App Widget Documentation for margin information
+http://developer.android.com/guide/topics/appwidgets/index.html#CreatingLayout
+    -->
+    <dimen name="widget_margin">8dp</dimen>
+
+</resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/xml/telegram_message_widget_info.xml b/TMessagesProj/src/main/res/xml/telegram_message_widget_info.xml
new file mode 100644
index 000000000..92179d68d
--- /dev/null
+++ b/TMessagesProj/src/main/res/xml/telegram_message_widget_info.xml
@@ -0,0 +1,7 @@
+<?xml version="1.0" encoding="utf-8"?>
+<appwidget-provider xmlns:android="http://schemas.android.com/apk/res/android"
+    android:minWidth="250dp" android:minHeight="40dp" android:updatePeriodMillis="86400000"
+    android:previewImage="@drawable/example_appwidget_preview"
+    android:initialLayout="@layout/telegram_message_widget" android:resizeMode="horizontal|vertical"
+    android:widgetCategory="home_screen"
+    android:initialKeyguardLayout="@layout/telegram_message_widget"></appwidget-provider>
\ No newline at end of file
