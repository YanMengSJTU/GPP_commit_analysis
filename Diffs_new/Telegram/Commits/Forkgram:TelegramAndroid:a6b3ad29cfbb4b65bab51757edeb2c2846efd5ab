diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/SendMessagesHelper.java b/TMessagesProj/src/main/java/org/telegram/messenger/SendMessagesHelper.java
index de070b0c1..2e1e7da39 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/SendMessagesHelper.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/SendMessagesHelper.java
@@ -1032,7 +1032,15 @@ public void sendScreenshotMessage(TLRPC.User user, int messageId, TLRPC.Message
         performSendMessageRequest(req, newMsgObj, null);
     }
 
+    public void sendGifWithCaption(TLRPC.Document document, long peer, MessageObject replyingMessageObject, String caption) {
+        sendSticker(document, peer, replyingMessageObject, caption);
+    }
+
     public void sendSticker(TLRPC.Document document, long peer, MessageObject replyingMessageObject) {
+        sendSticker(document, peer, replyingMessageObject, null);
+    }
+
+    public void sendSticker(TLRPC.Document document, long peer, MessageObject replyingMessageObject, String caption) {
         if (document == null) {
             return;
         }
@@ -1081,7 +1089,7 @@ public void sendSticker(TLRPC.Document document, long peer, MessageObject replyi
             document = newDocument;
         }
         if (document instanceof TLRPC.TL_document) {
-            sendMessage((TLRPC.TL_document) document, null, null, peer, replyingMessageObject, null, null, null, null, 0);
+            sendMessage((TLRPC.TL_document) document, null, null, peer, replyingMessageObject, caption, null, null, null, 0);
         }
     }
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
index 141654bae..11070dbcc 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/ChatActivityEnterView.java
@@ -3142,8 +3142,9 @@ public void onGifSelected(TLRPC.Document gif) {
                 if (stickersExpanded) {
                     setStickersExpanded(false, true, false);
                 }
-                SendMessagesHelper.getInstance(currentAccount).sendSticker(gif, dialog_id, replyingMessageObject);
+                SendMessagesHelper.getInstance(currentAccount).sendGifWithCaption(gif, dialog_id, replyingMessageObject, messageEditText.getText().toString());
                 DataQuery.getInstance(currentAccount).addRecentGif(gif, (int) (System.currentTimeMillis() / 1000));
+                messageEditText.setText("");
                 if ((int) dialog_id == 0) {
                     MessagesController.getInstance(currentAccount).saveGif(gif);
                 }
