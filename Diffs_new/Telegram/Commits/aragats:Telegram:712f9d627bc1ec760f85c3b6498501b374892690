diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LocationActivityAragats.java b/TMessagesProj/src/main/java/org/telegram/ui/LocationActivityAragats.java
index 322e9b8fd..8e548985f 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LocationActivityAragats.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LocationActivityAragats.java
@@ -424,6 +424,10 @@ public void onScroll(AbsListView view, int firstVisibleItem, int visibleItemCoun
             listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
                 @Override
                 public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
+                    if (myLocation == null) {
+                        NotificationCenter.getInstance().postNotificationName(NotificationCenter.undefinedLocation);
+                        return;
+                    }
                     if (position == 1) {
                         if (delegate != null && userLocation != null) {
                             TLRPC.TL_messageMediaGeo location = new TLRPC.TL_messageMediaGeo();
@@ -623,7 +627,7 @@ public void onMyLocationChange(Location location) {
                 }
             });
             positionMarker(myLocation = LocationManagerHelper.getInstance().getLastLocation());
-            if(myLocation == null) {
+            if (myLocation == null) {
                 NotificationCenter.getInstance().postNotificationName(NotificationCenter.undefinedLocation);
             }
         }
@@ -870,7 +874,7 @@ private void updateSearchInterface() {
     }
 
 
-    private TLRPC.GeoPoint convertLocationToGeoPoint(Location userLocation){
+    private TLRPC.GeoPoint convertLocationToGeoPoint(Location userLocation) {
         TLRPC.GeoPoint geo = new TLRPC.TL_geoPoint();
         geo.lat = userLocation.getLatitude();
         geo._long = userLocation.getLongitude();
