diff --git a/TMessagesProj/src/main/java/org/telegram/android/PostsController.java b/TMessagesProj/src/main/java/org/telegram/android/PostsController.java
index 054b3a04e..9d778cddf 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/PostsController.java
+++ b/TMessagesProj/src/main/java/org/telegram/android/PostsController.java
@@ -14,24 +14,16 @@
 
 import org.telegram.android.location.LocationManagerHelper;
 
-import retrofit.Callback;
-import retrofit.Response;
-import retrofit.Retrofit;
 import ru.aragats.wgo.ApplicationLoader;
-import ru.aragats.wgo.rest.dto.PostRequest;
-import ru.aragats.wgo.rest.manager.RestManager;
-
-import org.telegram.messenger.dto.Coordinates;
-import org.telegram.messenger.dto.Post;
-import org.telegram.messenger.dto.PostResponse;
-import org.telegram.messenger.dto.User;
-import org.telegram.messenger.dto.Venue;
-import org.telegram.messenger.service.mock.PostServiceMock;
-import org.telegram.messenger.service.mock.UserServiceMock;
-import org.telegram.utils.StringUtils;
+
+import ru.aragats.wgo.rest.dto.Post;
+import ru.aragats.wgo.rest.dto.PostResponse;
+import ru.aragats.wgo.rest.dto.User;
+import ru.aragats.wgo.rest.dto.Venue;
+import ru.aragats.wgo.rest.mock.PostServiceMock;
+import ru.aragats.wgo.rest.mock.UserServiceMock;
 
 import java.util.ArrayList;
-import java.util.Arrays;
 import java.util.List;
 import java.util.concurrent.ConcurrentHashMap;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/android/PostsStorage.java b/TMessagesProj/src/main/java/org/telegram/android/PostsStorage.java
index c25daab71..98b228f2b 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/PostsStorage.java
+++ b/TMessagesProj/src/main/java/org/telegram/android/PostsStorage.java
@@ -19,7 +19,7 @@
 import org.telegram.messenger.ByteBufferDesc;
 import org.telegram.messenger.DispatchQueue;
 import org.telegram.messenger.FileLog;
-import org.telegram.messenger.dto.User;
+import ru.aragats.wgo.rest.dto.User;
 
 import java.io.File;
 import java.util.ArrayList;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/UserConfig.java b/TMessagesProj/src/main/java/org/telegram/messenger/UserConfig.java
index 99c3ed35d..ea104e1ec 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/UserConfig.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/UserConfig.java
@@ -13,8 +13,8 @@
 import android.util.Base64;
 
 import org.telegram.android.PostsStorage;
-import org.telegram.messenger.dto.User;
-import org.telegram.messenger.service.mock.UserServiceMock;
+import ru.aragats.wgo.rest.dto.User;
+import ru.aragats.wgo.rest.mock.UserServiceMock;
 
 import java.io.File;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/dto/Post.java b/TMessagesProj/src/main/java/org/telegram/messenger/dto/Post.java
deleted file mode 100644
index 88dc2f266..000000000
--- a/TMessagesProj/src/main/java/org/telegram/messenger/dto/Post.java
+++ /dev/null
@@ -1,102 +0,0 @@
-package org.telegram.messenger.dto;
-
-import android.text.StaticLayout;
-
-
-/**
- * Created by aragats on 27/12/14.
- */
-public class Post {
-
-    private String id;
-    private String message;
-    private Venue venue;
-    private Coordinates coordinates;
-    private Image previewImage;
-    private Image image;
-    private long createdDate;
-
-
-    public Post() {
-
-    }
-
-    public String getId() {
-        return id;
-    }
-
-    public void setId(String id) {
-        this.id = id;
-    }
-
-    public String getMessage() {
-        return message;
-    }
-
-    public void setMessage(String message) {
-        this.message = message;
-    }
-
-    public Venue getVenue() {
-        return venue;
-    }
-
-    public void setVenue(Venue venue) {
-        this.venue = venue;
-    }
-
-    public Coordinates getCoordinates() {
-        return coordinates;
-    }
-
-    public void setCoordinates(Coordinates coordinates) {
-        this.coordinates = coordinates;
-    }
-
-    public Image getPreviewImage() {
-        return previewImage;
-    }
-
-    public void setPreviewImage(Image previewImage) {
-        this.previewImage = previewImage;
-    }
-
-    public Image getImage() {
-        return image;
-    }
-
-    public void setImage(Image image) {
-        this.image = image;
-    }
-
-    public long getCreatedDate() {
-        return createdDate;
-    }
-
-    public void setCreatedDate(long createdDate) {
-        this.createdDate = createdDate;
-    }
-
-
-    public String getVenuePreviewImageUrl() {
-        if (this.getVenue() == null || this.getVenue().getImage() == null) {
-            return null;
-        }
-        return this.getVenue().getImage().getUrl();
-    }
-
-
-    public String getPreviewImageUrl() {
-        return this.getPreviewImage().getUrl();
-    }
-
-
-    public Coordinates getPostCoordinates() {
-        if (venue != null && venue.getCoordinates() != null) {
-            return venue.getCoordinates();
-        } else {
-            return coordinates;
-        }
-    }
-
-}
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/dto/PostResponse.java b/TMessagesProj/src/main/java/org/telegram/messenger/dto/PostResponse.java
deleted file mode 100644
index 9a2969ac0..000000000
--- a/TMessagesProj/src/main/java/org/telegram/messenger/dto/PostResponse.java
+++ /dev/null
@@ -1,22 +0,0 @@
-package org.telegram.messenger.dto;
-
-import java.util.ArrayList;
-import java.util.List;
-
-
-/**
- * Created by aragats on 09/05/15.
- */
-public class PostResponse {
-    private List<Post> posts = new ArrayList<>();
-
-
-
-    public List<Post> getPosts() {
-        return posts;
-    }
-
-    public void setPosts(List<Post> posts) {
-        this.posts = posts;
-    }
-}
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/object/PostObject.java b/TMessagesProj/src/main/java/org/telegram/messenger/object/PostObject.java
deleted file mode 100644
index b1278de23..000000000
--- a/TMessagesProj/src/main/java/org/telegram/messenger/object/PostObject.java
+++ /dev/null
@@ -1,269 +0,0 @@
-package org.telegram.messenger.object;
-
-import android.text.StaticLayout;
-
-import org.telegram.messenger.dto.Image;
-import org.telegram.messenger.dto.Post;
-
-import java.util.List;
-
-
-/**
- * Created by aragats on 27/12/14.
- */
-public class PostObject {
-
-
-    private Post post;
-
-
-    public PostObject() {
-
-    }
-
-    public PostObject(Post post) {
-        this.post = post;
-    }
-
-
-    public String getId() {
-        return this.post.getId();
-    }
-
-    public long getCreatedDate() {
-        return this.post.getCreatedDate();
-    }
-
-    public String getMessage() {
-        return this.post.getMessage();
-    }
-
-
-    public String getVenueName() {
-        return this.post.getVenue().getName();
-    }
-
-    public String getPreviewImageUrl() {
-        return this.post.getPreviewImage().getUrl();
-    }
-
-    public String getVenuePreviewImageUrl() {
-        return this.post.getVenue().getImage().getUrl();
-    }
-
-    public Image getPreviewImage() {
-        return this.post.getPreviewImage();
-    }
-
-    public Image getImage() {
-        return this.post.getImage();
-    }
-
-    public String getAddress() {
-        return this.post.getVenue().getAddress();
-    }
-
-    public List<Double> getCoordinates() {
-//        return this.post.getCoordinates().getCoordinates();
-        return this.post.getVenue().getCoordinates().getCoordinates();
-    }
-
-
-    public VenueObject getVenueObject(){
-        return new VenueObject(this.post.getVenue());
-    }
-
-    @Deprecated
-    public Post getPost() {
-        return post;
-    }
-
-    //    public PostObject(TLRPC.TL_dialog dialog) {
-//        peer = dialog.peer;
-//        top_message = dialog.top_message;
-//        unread_count = dialog.unread_count;
-//        notify_settings = dialog.notify_settings;
-//        last_message_date = dialog.last_message_date;
-//        id = dialog.id;
-//        last_read = dialog.last_read;
-//
-//    }
-//    //TODO change to private
-//    public TLRPC.Peer peer;
-//
-//    public int top_message;
-//    public int unread_count;
-//    public TLRPC.PeerNotifySettings notify_settings;
-//
-//    public int last_message_date;
-//    public int last_read;
-//
-//    public long id;
-//    private String message;
-//    private int date;
-//    private String user;
-//    private String venue;
-//    private String firstName;
-//    private String lastName;
-//    private String image;
-//    private int width;
-//    private int height;
-//
-//    //TODO should be enum.
-//    private int type;
-//
-//    private String attachPath;
-//
-//    private int size;
-//
-//    private String info;
-//
-//
-//    private String text;
-//
-//    private String fullImage;
-//
-//
-//
-//    public void setPostFromDialog(TLRPC.TL_dialog dialog) {
-//        peer = dialog.peer;
-//        top_message = dialog.top_message;
-//        unread_count = dialog.unread_count;
-//        notify_settings = dialog.notify_settings;
-//        last_message_date = dialog.last_message_date;
-//        id = dialog.id;
-//        last_read = dialog.last_read;
-//
-//    }
-//
-//
-//
-//    public long getId() {
-//        return id;
-//    }
-//
-//    public void setId(long id) {
-//        this.id = id;
-//    }
-//
-//
-//    public int getDate() {
-//        return date;
-//    }
-//
-//    public void setDate(int date) {
-//        this.date = date;
-//    }
-//
-//    public String getMessage() {
-//        return message;
-//    }
-//
-//    public void setMessage(String message) {
-//        this.message = message;
-//    }
-//
-//    public String getUser() {
-//        return user;
-//    }
-//
-//    public void setUser(String user) {
-//        this.user = user;
-//    }
-//
-//    public String getVenue() {
-//        return venue;
-//    }
-//
-//    public void setVenue(String venue) {
-//        this.venue = venue;
-//    }
-//
-//    public String getFirstName() {
-//        return firstName;
-//    }
-//
-//    public void setFirstName(String firstName) {
-//        this.firstName = firstName;
-//    }
-//
-//    public String getLastName() {
-//        return lastName;
-//    }
-//
-//    public void setLastName(String lastName) {
-//        this.lastName = lastName;
-//    }
-//
-//    public String getImage() {
-//        return image;
-//    }
-//
-//    public void setImage(String image) {
-//        this.image = image;
-//    }
-//
-//    public int getType() {
-//        return type;
-//    }
-//
-//    public void setType(int type) {
-//        this.type = type;
-//    }
-//
-//    public String getAttachPath() {
-//        return attachPath;
-//    }
-//
-//    public void setAttachPath(String attachPath) {
-//        this.attachPath = attachPath;
-//    }
-//
-//    public int getSize() {
-//        return size;
-//    }
-//
-//    public void setSize(int size) {
-//        this.size = size;
-//    }
-//
-//    public String getInfo() {
-//        return info;
-//    }
-//
-//    public void setInfo(String info) {
-//        this.info = info;
-//    }
-//
-//    public int getWidth() {
-//        return width;
-//    }
-//
-//    public void setWidth(int width) {
-//        this.width = width;
-//    }
-//
-//    public int getHeight() {
-//        return height;
-//    }
-//
-//    public void setHeight(int height) {
-//        this.height = height;
-//    }
-//
-//    public String getText() {
-//        return text;
-//    }
-//
-//    public void setText(String text) {
-//        this.text = text;
-//    }
-//
-//    public String getFullImage() {
-//        return fullImage;
-//    }
-//
-//    public void setFullImage(String fullImage) {
-//        this.fullImage = fullImage;
-//    }
-}
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/object/UserObject.java b/TMessagesProj/src/main/java/org/telegram/messenger/object/UserObject.java
deleted file mode 100644
index 201a5eb42..000000000
--- a/TMessagesProj/src/main/java/org/telegram/messenger/object/UserObject.java
+++ /dev/null
@@ -1,7 +0,0 @@
-package org.telegram.messenger.object;
-
-/**
- * Created by aragats on 27/12/14.
- */
-public class UserObject {
-}
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/object/VenueObject.java b/TMessagesProj/src/main/java/org/telegram/messenger/object/VenueObject.java
deleted file mode 100644
index dda842a7c..000000000
--- a/TMessagesProj/src/main/java/org/telegram/messenger/object/VenueObject.java
+++ /dev/null
@@ -1,121 +0,0 @@
-package org.telegram.messenger.object;
-
-
-import org.telegram.messenger.dto.Venue;
-
-/**
- * Created by aragats on 27/12/14.
- */
-public class VenueObject {
-
-    private Venue venue;
-
-    public VenueObject() {
-
-    }
-
-
-    public VenueObject(Venue venue) {
-        this.venue = venue;
-    }
-
-
-    public String getId() {
-        return this.venue.getId();
-    }
-
-
-    public String getAddress() {
-        return this.venue.getAddress();
-    }
-
-    public String getDistanceStr() {
-        return this.venue.getDistance() + " km";
-    }
-
-    public String getName() {
-        return this.venue.getName();
-    }
-
-    public Venue getVenue() {
-        return venue;
-    }
-
-    //
-//
-//
-//    public long id;
-//    private String name;
-//    private String distanceStr;
-//    private String address;
-//    private float distance;
-//
-//    private String image;
-//
-//
-//
-//    //TODO should be enum.
-//    private int type;
-//
-//
-//
-//
-//
-//    public long getId() {
-//        return id;
-//    }
-//
-//    public void setId(long id) {
-//        this.id = id;
-//    }
-//
-//
-//    public String getDistanceStr() {
-//        return distanceStr;
-//    }
-//
-//    public void setDistanceStr(String distanceStr) {
-//        this.distanceStr = distanceStr;
-//    }
-//
-//
-//    public String getName() {
-//        return name;
-//    }
-//
-//    public void setName(String name) {
-//        this.name = name;
-//    }
-//
-//    public int getType() {
-//        return type;
-//    }
-//
-//    public void setType(int type) {
-//        this.type = type;
-//    }
-//
-//    public String getAddress() {
-//        return address;
-//    }
-//
-//    public void setAddress(String address) {
-//        this.address = address;
-//    }
-//
-//    public float getDistance() {
-//        return distance;
-//    }
-//
-//    public void setDistance(float distance) {
-//        this.distance = distance;
-//    }
-//
-//    public String getImage() {
-//        return image;
-//    }
-//
-//    public void setImage(String image) {
-//        this.image = image;
-//    }
-}
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/PostsAdapter.java b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/PostsAdapter.java
index ded5ade67..fa063e878 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/PostsAdapter.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/PostsAdapter.java
@@ -16,7 +16,7 @@
 import org.telegram.android.AndroidUtilities;
 import org.telegram.android.PostsController;
 import org.telegram.android.support.widget.RecyclerView;
-import org.telegram.messenger.dto.Post;
+import ru.aragats.wgo.rest.dto.Post;
 import org.telegram.ui.Cells.PostCell;
 import org.telegram.ui.Cells.LoadingCell;
 import org.telegram.ui.LocationActivityAragats;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/PostsSearchAdapter.java b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/PostsSearchAdapter.java
index 7e456bb17..3b56aedf4 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/PostsSearchAdapter.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Adapters/PostsSearchAdapter.java
@@ -15,9 +15,9 @@
 import org.telegram.android.LocaleController;
 import org.telegram.android.NotificationCenter;
 import org.telegram.android.support.widget.RecyclerView;
-import org.telegram.messenger.dto.Post;
-import org.telegram.messenger.dto.PostResponse;
-import org.telegram.messenger.service.mock.PostServiceMock;
+import ru.aragats.wgo.rest.dto.Post;
+import ru.aragats.wgo.rest.dto.PostResponse;
+import ru.aragats.wgo.rest.mock.PostServiceMock;
 import org.telegram.ui.Cells.GreySectionCell;
 import org.telegram.ui.Cells.HashtagSearchCell;
 import org.telegram.ui.Cells.LoadingCell;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/DrawerProfileCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/DrawerProfileCell.java
index 95e91a01b..1b1039bfa 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/DrawerProfileCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/DrawerProfileCell.java
@@ -19,12 +19,10 @@
 import android.widget.ImageView;
 import android.widget.TextView;
 
-import org.telegram.PhoneFormat.PhoneFormat;
 import org.telegram.android.AndroidUtilities;
-import org.telegram.android.ContactsController;
 import org.telegram.android.LocaleController;
 import org.telegram.messenger.FileLog;
-import org.telegram.messenger.dto.User;
+import ru.aragats.wgo.rest.dto.User;
 import org.telegram.ui.Components.AvatarDrawable;
 import org.telegram.ui.Components.BackupImageView;
 import org.telegram.ui.Components.LayoutHelper;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/PostCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/PostCell.java
index 1e2d311b0..6d899b18a 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/PostCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/PostCell.java
@@ -31,9 +31,9 @@
 import org.telegram.android.PostsController;
 import org.telegram.android.location.LocationManagerHelper;
 import org.telegram.messenger.FileLog;
-import org.telegram.messenger.dto.Coordinates;
-import org.telegram.messenger.dto.Image;
-import org.telegram.messenger.dto.Post;
+import ru.aragats.wgo.rest.dto.Coordinates;
+import ru.aragats.wgo.rest.dto.Image;
+import ru.aragats.wgo.rest.dto.Post;
 import org.telegram.messenger.object.TextLayoutBlock;
 import org.telegram.ui.Components.AvatarDrawable;
 import org.telegram.ui.Components.URLSpanNoUnderline;
@@ -263,7 +263,7 @@ protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
             textHeight = this.textLayoutBlock.textLayout.getHeight();
         }
         int marginHeight = AndroidUtilities.dp(82);
-        if (StringUtils.isEmpty(post.getMessage())) {
+        if (StringUtils.isEmpty(post.getText())) {
             textHeight = 0;
             marginHeight = 0;
         }
@@ -825,7 +825,7 @@ protected void onDraw(Canvas canvas) {
 
         // TEXT
 
-        if (!StringUtils.isEmpty(post.getMessage())) {
+        if (!StringUtils.isEmpty(post.getText())) {
             canvas.save();
             canvas.translate(textLeft, textTop);
             try {
@@ -845,16 +845,16 @@ private void generateTextLayout(Post post) {
         if (post == null) {
             return;
         }
-        if (post.getMessage() == null) {
-            post.setMessage("");
+        if (post.getText() == null) {
+            post.setText("");
         }
 
-        CharSequence messageText = post.getMessage();
+        CharSequence messageText = post.getText();
 
         messageText = Emoji.replaceEmoji(messageText, textPaint.getFontMetricsInt(), AndroidUtilities.dp(20));
 
-        if (messageText instanceof Spannable && containsUrls(post.getMessage())) {
-            if (post.getMessage().length() < 100) {
+        if (messageText instanceof Spannable && containsUrls(post.getText())) {
+            if (post.getText().length() < 100) {
                 Linkify.addLinks((Spannable) messageText, Linkify.WEB_URLS | Linkify.PHONE_NUMBERS);
             } else {
                 Linkify.addLinks((Spannable) messageText, Linkify.WEB_URLS);
@@ -1068,7 +1068,7 @@ public int getIndex() {
 // Backup press URL method.
 //    public boolean onTouchEventMessage(MotionEvent event) {
 //        boolean result = false;
-//        if (textLayoutBlock != null && post.getMessage() != null && !isPressed && textLayoutBlock.textLayout != null) {
+//        if (textLayoutBlock != null && post.getText() != null && !isPressed && textLayoutBlock.textLayout != null) {
 //
 ////            CharSequence messageText = textLayoutBlock.messageText;
 //            CharSequence messageText = textLayoutBlock.textLayout.getText();
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/PostMediaCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/PostMediaCell.java
index 1c583399d..aa405688e 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/PostMediaCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/PostMediaCell.java
@@ -21,8 +21,8 @@
 import org.telegram.android.AndroidUtilities;
 import org.telegram.android.ImageReceiver;
 import org.telegram.android.MediaController;
-import org.telegram.messenger.dto.Image;
-import org.telegram.messenger.dto.Post;
+import ru.aragats.wgo.rest.dto.Image;
+import ru.aragats.wgo.rest.dto.Post;
 import org.telegram.ui.Components.AvatarDrawable;
 import org.telegram.ui.Components.RadialProgress;
 import org.telegram.ui.Components.ResourceLoader;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LocationActivityAragats.java b/TMessagesProj/src/main/java/org/telegram/ui/LocationActivityAragats.java
index b284d8836..ee2745580 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LocationActivityAragats.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/LocationActivityAragats.java
@@ -50,8 +50,8 @@
 import org.telegram.android.location.LocationManagerHelper;
 import org.telegram.messenger.FileLog;
 import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.dto.Post;
-import org.telegram.messenger.dto.Venue;
+import ru.aragats.wgo.rest.dto.Post;
+import ru.aragats.wgo.rest.dto.Venue;
 import org.telegram.ui.ActionBar.ActionBar;
 import org.telegram.ui.ActionBar.ActionBarMenu;
 import org.telegram.ui.ActionBar.ActionBarMenuItem;
@@ -762,7 +762,7 @@ private void updateUserData() {
 //                }
 //                avatarImageView.setImage(post.getImage().getUrl(), "50_50", avatarDrawable);
                 avatarImageView.setImage(post.getPreviewImage().getUrl(), null, new AvatarDrawable());
-                nameTextView.setText(post.getMessage());
+                nameTextView.setText(post.getText());
             } else {
                 avatarImageView.setImageDrawable(null);
             }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java b/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java
index 06a5edb9b..3d6ef4cf0 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java
@@ -61,7 +61,7 @@
 import org.telegram.messenger.FileLog;
 import org.telegram.messenger.TLRPC;
 import org.telegram.messenger.Utilities;
-import org.telegram.messenger.dto.Post;
+import ru.aragats.wgo.rest.dto.Post;
 import org.telegram.ui.ActionBar.ActionBar;
 import org.telegram.ui.ActionBar.ActionBarMenu;
 import org.telegram.ui.ActionBar.ActionBarMenuItem;
@@ -810,7 +810,7 @@ public void onClick(View v) {
                         //TODO-aragats new. It is important do not save again from the internet but use saved in cache. But actually it load the file from cache, because already loaded.
                         currentFileNames[0] = Utilities.MD5(currentPost.getImage().getUrl()) + ".jpg";
                         f = new File(FileLoader.getInstance().getDirectory(FileLoader.MEDIA_DIR_CACHE), currentFileNames[0]);
-//                        text = currentPost.getMessage();
+//                        text = currentPost.getText();
                     }
 
                     if (f != null && f.exists()) {
@@ -1665,7 +1665,7 @@ private void setImageIndex(int index, boolean init) {
             String dateString = LocaleController.formatString("formatDateAtTime", R.string.formatDateAtTime, LocaleController.formatterYear.format(new Date(date)), LocaleController.formatterDay.format(new Date(date)));
             dateTextView.setText(dateString);
 
-            CharSequence caption = currentPost.getMessage();
+            CharSequence caption = currentPost.getText();
             setCurrentCaption(caption);
 
             //TODO  It is title 1 of 1
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PostCreateActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/PostCreateActivity.java
index c8f8c9ec4..36ecfc9a0 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PostCreateActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PostCreateActivity.java
@@ -50,11 +50,13 @@
 import org.telegram.android.support.widget.RecyclerView;
 import org.telegram.messenger.FileLog;
 import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.dto.Coordinates;
-import org.telegram.messenger.dto.Image;
-import org.telegram.messenger.dto.Post;
-import org.telegram.messenger.dto.Venue;
-import org.telegram.messenger.service.mock.PostServiceMock;
+
+import ru.aragats.wgo.rest.dto.Coordinates;
+import ru.aragats.wgo.rest.dto.Image;
+import ru.aragats.wgo.rest.dto.Post;
+import ru.aragats.wgo.rest.dto.Venue;
+import ru.aragats.wgo.rest.mock.PostServiceMock;
+
 import org.telegram.ui.ActionBar.ActionBar;
 import org.telegram.ui.ActionBar.ActionBarMenu;
 import org.telegram.ui.ActionBar.ActionBarMenuItem;
@@ -75,6 +77,7 @@
 import java.io.File;
 import java.util.ArrayList;
 import java.util.Arrays;
+import java.util.List;
 
 import ru.aragats.wgo.ApplicationLoader;
 import ru.aragats.wgo.R;
@@ -249,7 +252,7 @@ public void onItemClick(final int id) {
                         } else {
                             text = "";
                         }
-                        post.setMessage(text);
+                        post.setText(text);
                     }
 
                     //TODO many check text, venue, coordinates and so on.
@@ -767,8 +770,8 @@ private void checkAndUpdateAvatar() {
 //            avatarImageView.setImage(newPhoto, "50_50", avatarDrawable);
 //            avatarImageView.setImage("/storage/emulated/0/Telegram/WGO Images/730111210_6623.jpg", "50_50", avatarDrawable);
             //TODO probably save venue. into field in Activity.
-            if (venue != null && venue.getImage() != null && !StringUtils.isEmpty(venue.getImage().getUrl())) {
-                avatarImageView.setImage(venue.getImage().getUrl(), "50_50", avatarDrawable);
+            if (venue != null && venue.getIcon() != null && !StringUtils.isEmpty(venue.getIcon().getUrl())) {
+                avatarImageView.setImage(venue.getIcon().getUrl(), "50_50", avatarDrawable);
             } else {
                 avatarImageView.setImageResource(R.drawable.pin);
 //                    avatarImageView.setImage(PostsController.getInstance().getCurrentVenue().getVenuePreviewImageUrl(), "50_50", avatarDrawable);
@@ -1389,7 +1392,7 @@ public void didSelectLocation(TLRPC.MessageMedia location) {
                     venue.setFoursquareId(location.venue_id);
                     Image image = new Image();
                     image.setUrl(location.iconUrl);
-                    venue.setImage(image);
+                    venue.setIcon(image);
                     venue.setName(location.title);
                     venue.setAddress(location.address);
                     if (StringUtils.isEmpty(venue.getAddress())) {
@@ -1456,8 +1459,10 @@ private void didSelectPhotos(ArrayList<String> photos) {
             image.setHeight(height);
             image.setBitmap(bitmap);
 //            image = ImageServiceMock.getRandomImage();
-            post.setImage(image);
-            post.setPreviewImage(image);
+            List<Image> images = new ArrayList<>();
+            images.add(image); // preview
+            images.add(image); // original
+            post.setImages(images);
 //            post.setVenue(VenueServiceMock.getRandomVenue());
             //TODO-temp
 //            PostCreateActivity.this.post = new PostObject(post);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PostsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/PostsActivity.java
index ad291f0bb..cd148eea3 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PostsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PostsActivity.java
@@ -19,7 +19,6 @@
 import android.content.res.Configuration;
 import android.graphics.Bitmap;
 import android.graphics.Outline;
-import android.location.LocationManager;
 import android.os.Build;
 import android.os.Bundle;
 import android.provider.Settings;
@@ -52,19 +51,11 @@
 import org.telegram.android.support.widget.LinearLayoutManager;
 import org.telegram.android.support.widget.RecyclerView;
 
-import retrofit.Callback;
-import retrofit.Response;
-import retrofit.Retrofit;
 import ru.aragats.wgo.ApplicationLoader;
 import ru.aragats.wgo.R;
-import ru.aragats.wgo.rest.client.WGOClient;
-import ru.aragats.wgo.rest.dto.PostRequest;
-import ru.aragats.wgo.rest.dto.PostResponse;
-import ru.aragats.wgo.rest.manager.RestManager;
-import ru.aragats.wgo.rest.task.RestTask;
 
 import org.telegram.messenger.FileLog;
-import org.telegram.messenger.dto.Post;
+import ru.aragats.wgo.rest.dto.Post;
 import org.telegram.ui.ActionBar.ActionBar;
 import org.telegram.ui.ActionBar.ActionBarMenu;
 import org.telegram.ui.ActionBar.ActionBarMenuItem;
diff --git a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/client/RestClient.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/client/RestClient.java
index 38d2bf840..de2ad76c9 100644
--- a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/client/RestClient.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/client/RestClient.java
@@ -7,7 +7,6 @@
 /**
  * Created by aragats on 05/12/15.
  */
-//http://blog.robinchutaux.com/blog/a-smart-way-to-use-retrofit/
 public class RestClient {
     private static final String BASE_URL = "http://192.168.0.100:8080/";
     private RestService restService;
diff --git a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/client/WGOClient.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/client/WGOClient.java
index 62ab43e5a..361816f66 100644
--- a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/client/WGOClient.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/client/WGOClient.java
@@ -14,10 +14,6 @@
 /**
  * Created by aragats on 05/12/15.
  */
-// !!! TODO important
-// TODO http://stackoverflow.com/questions/6343166/android-os-networkonmainthreadexception
-// Retrofit recommendations async.  http://stackoverflow.com/questions/29323095/retrofit-call-inside-asynctask
-    //TODO set time out  http://stackoverflow.com/questions/29380844/how-to-set-a-timeout-in-retrofit-library
 public class WGOClient {
 
     public String method() {
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/dto/Config.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Config.java
similarity index 74%
rename from TMessagesProj/src/main/java/org/telegram/messenger/dto/Config.java
rename to TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Config.java
index d834bf9dc..a86d54d6b 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/dto/Config.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Config.java
@@ -1,4 +1,4 @@
-package org.telegram.messenger.dto;
+package ru.aragats.wgo.rest.dto;
 
 /**
  * Created by aragats on 29/12/14.
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/dto/Coordinates.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Coordinates.java
similarity index 93%
rename from TMessagesProj/src/main/java/org/telegram/messenger/dto/Coordinates.java
rename to TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Coordinates.java
index 38fa0481b..940861852 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/dto/Coordinates.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Coordinates.java
@@ -1,4 +1,4 @@
-package org.telegram.messenger.dto;
+package ru.aragats.wgo.rest.dto;
 
 import java.util.ArrayList;
 import java.util.List;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/dto/Image.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Image.java
similarity index 72%
rename from TMessagesProj/src/main/java/org/telegram/messenger/dto/Image.java
rename to TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Image.java
index 294c485db..350c1b00d 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/dto/Image.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Image.java
@@ -1,4 +1,4 @@
-package org.telegram.messenger.dto;
+package ru.aragats.wgo.rest.dto;
 
 import android.graphics.Bitmap;
 
@@ -7,13 +7,14 @@
  */
 public class Image {
 
+    private String key;
     private String url;
     private int width;
     private int height;
     private long size;
-    //TODO enum
-    private String type;
-    // TODO TEMP. Use other Image class.
+    //TODO enum // contentType !!!
+    private String contentType;
+    // TODO TEMP. Use other Image class. make it Transient.
     private Bitmap bitmap;
 
     public String getUrl() {
@@ -48,12 +49,12 @@ public void setSize(long size) {
         this.size = size;
     }
 
-    public String getType() {
-        return type;
+    public String getContentType() {
+        return contentType;
     }
 
-    public void setType(String type) {
-        this.type = type;
+    public void setContentType(String contentType) {
+        this.contentType = contentType;
     }
 
     public Bitmap getBitmap() {
diff --git a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Post.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Post.java
index 633068e55..1c227d643 100644
--- a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Post.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Post.java
@@ -1,33 +1,114 @@
 package ru.aragats.wgo.rest.dto;
 
+
+import org.telegram.utils.CollectionUtils;
+
+import java.util.List;
+
 /**
- * Created by aragats on 05/12/15.
+ * Created by aragats on 27/12/14.
  */
 public class Post {
-    private int id;
-    private String name;
+
+    private String id;
+    private String text;
+    private Venue venue;
+    private Coordinates coordinates;
+    //wall, preview, original (almost). increase resolution. ????
+    private List<Image> images;
+    private long createdDate;
+
 
     public Post() {
-    }
 
-    public Post(int id, String name) {
-        this.id = id;
-        this.name = name;
     }
 
-    public int getId() {
+    public String getId() {
         return id;
     }
 
-    public void setId(int id) {
+    public void setId(String id) {
         this.id = id;
     }
 
-    public String getName() {
-        return name;
+    public String getText() {
+        return text;
+    }
+
+    public void setText(String text) {
+        this.text = text;
+    }
+
+    public Venue getVenue() {
+        return venue;
+    }
+
+    public void setVenue(Venue venue) {
+        this.venue = venue;
+    }
+
+    public Coordinates getCoordinates() {
+        return coordinates;
+    }
+
+    public void setCoordinates(Coordinates coordinates) {
+        this.coordinates = coordinates;
+    }
+
+    //TODO rethink about using such methods.
+    public Image getPreviewImage() {
+        if (!CollectionUtils.isEmpty(images)) {
+            return images.get(0);
+        }
+        return null;
+    }
+
+    public Image getImage() {
+        if (!CollectionUtils.isEmpty(images)) {
+            if (images.size() == 2) {
+                return images.get(1);
+            } else {
+                return images.get(0);
+            }
+        }
+        return null;
+    }
+
+    public long getCreatedDate() {
+        return createdDate;
+    }
+
+    public void setCreatedDate(long createdDate) {
+        this.createdDate = createdDate;
+    }
+
+
+    public String getVenuePreviewImageUrl() {
+        if (this.getVenue() == null || this.getVenue().getIcon() == null) {
+            return null;
+        }
+        return this.getVenue().getIcon().getUrl();
+    }
+
+
+    public String getPreviewImageUrl() {
+        return this.getPreviewImage().getUrl();
+    }
+
+
+    public Coordinates getPostCoordinates() {
+        if (venue != null && venue.getCoordinates() != null) {
+            return venue.getCoordinates();
+        } else {
+            return coordinates;
+        }
+    }
+
+    public List<Image> getImages() {
+        return images;
     }
 
-    public void setName(String name) {
-        this.name = name;
+    public void setImages(List<Image> images) {
+        this.images = images;
     }
 }
diff --git a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/PostRequest.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/PostRequest.java
index 514b2bf31..eecae0643 100644
--- a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/PostRequest.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/PostRequest.java
@@ -3,22 +3,36 @@
 /**
  * Created by aragats on 05/12/15.
  */
-public class PostRequest {
+public class PostRequest extends Request {
 
-    private String filePath;
+    private double lng;
+    private double lat;
+    private int distance;
 
-    public PostRequest() {
+    public double getLng() {
+        return lng;
     }
 
-    public PostRequest(String filePath) {
-        this.filePath = filePath;
+    public void setLng(double lng) {
+        this.lng = lng;
     }
 
-    public String getFilePath() {
-        return filePath;
+    public double getLat() {
+        return lat;
     }
 
-    public void setFilePath(String filePath) {
-        this.filePath = filePath;
+    public void setLat(double lat) {
+        this.lat = lat;
+    }
+
+    public int getDistance() {
+        return distance;
+    }
+
+    public void setDistance(int distance) {
+        this.distance = distance;
     }
 }
+
+
+
diff --git a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/PostResponse.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/PostResponse.java
index aa4af6826..50d09d2ac 100644
--- a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/PostResponse.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/PostResponse.java
@@ -3,12 +3,11 @@
 import java.util.ArrayList;
 import java.util.List;
 
+
 /**
- * Created by aragats on 05/12/15.
+ * Created by aragats on 09/05/15.
  */
 public class PostResponse {
-
-
     private List<Post> posts = new ArrayList<>();
     private String error;
 
@@ -29,4 +28,3 @@ public void setError(String error) {
         this.error = error;
     }
 }
-
diff --git a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Request.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Request.java
index 80f0ab110..e9612e173 100644
--- a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Request.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Request.java
@@ -4,4 +4,23 @@
  * Created by aragats on 05/12/15.
  */
 public class Request {
+
+    private String offset;
+    private int count;
+
+    public String getOffset() {
+        return offset;
+    }
+
+    public void setOffset(String offset) {
+        this.offset = offset;
+    }
+
+    public int getCount() {
+        return count;
+    }
+
+    public void setCount(int count) {
+        this.count = count;
+    }
 }
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/dto/User.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/User.java
similarity index 95%
rename from TMessagesProj/src/main/java/org/telegram/messenger/dto/User.java
rename to TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/User.java
index 8585abbe4..e06ace753 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/dto/User.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/User.java
@@ -1,4 +1,6 @@
-package org.telegram.messenger.dto;
+package ru.aragats.wgo.rest.dto;
+
+import ru.aragats.wgo.rest.dto.Image;
 
 /**
  * Created by aragats on 09/05/15.
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/dto/Venue.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Venue.java
similarity index 85%
rename from TMessagesProj/src/main/java/org/telegram/messenger/dto/Venue.java
rename to TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Venue.java
index 04745a4ee..58ee8d8d5 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/dto/Venue.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/Venue.java
@@ -1,4 +1,4 @@
-package org.telegram.messenger.dto;
+package ru.aragats.wgo.rest.dto;
 
 /**
  * Created by aragats on 09/05/15.
@@ -10,9 +10,10 @@
     //Text representation of address
     private String address;
     private Coordinates coordinates;
-    // distance in meters;
+    private Image icon;
+
+    // distance in meters; Transient.
     private int distance;
-    private Image image;
 
     public String getId() {
         return id;
@@ -62,11 +63,11 @@ public void setDistance(int distance) {
         this.distance = distance;
     }
 
-    public Image getImage() {
-        return image;
+    public Image getIcon() {
+        return icon;
     }
 
-    public void setImage(Image image) {
-        this.image = image;
+    public void setIcon(Image icon) {
+        this.icon = icon;
     }
 }
diff --git a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/VenuePostsRequest.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/VenuePostsRequest.java
new file mode 100644
index 000000000..66253187b
--- /dev/null
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/VenuePostsRequest.java
@@ -0,0 +1,18 @@
+package ru.aragats.wgo.rest.dto;
+
+/**
+ * Created by aragats on 12/12/15.
+ */
+public class VenuePostsRequest extends Request {
+
+    private String venueId;
+
+
+    public String getVenueId() {
+        return venueId;
+    }
+
+    public void setVenueId(String venueId) {
+        this.venueId = venueId;
+    }
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/dto/VenueResponse.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/VenueResponse.java
similarity index 90%
rename from TMessagesProj/src/main/java/org/telegram/messenger/dto/VenueResponse.java
rename to TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/VenueResponse.java
index 7f29f0221..5750d27f7 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/dto/VenueResponse.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/dto/VenueResponse.java
@@ -1,4 +1,4 @@
-package org.telegram.messenger.dto;
+package ru.aragats.wgo.rest.dto;
 
 import java.util.ArrayList;
 import java.util.List;
diff --git a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/manager/RestManager.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/manager/RestManager.java
index aca432476..189b1da3e 100644
--- a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/manager/RestManager.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/manager/RestManager.java
@@ -5,15 +5,16 @@
 import com.squareup.okhttp.RequestBody;
 
 import java.io.File;
+import java.util.List;
 
 import retrofit.Call;
 import retrofit.Callback;
-import retrofit.Response;
-import retrofit.Retrofit;
 import ru.aragats.wgo.rest.client.RestClient;
+import ru.aragats.wgo.rest.dto.Image;
 import ru.aragats.wgo.rest.dto.Post;
 import ru.aragats.wgo.rest.dto.PostRequest;
 import ru.aragats.wgo.rest.dto.PostResponse;
+import ru.aragats.wgo.rest.dto.VenuePostsRequest;
 
 /**
  * Created by aragats on 05/12/15.
@@ -41,29 +42,21 @@ private RestManager() {
     }
 
 
-    public void findPosts(PostRequest request, Callback<PostResponse> callback) {
-        findPostsCall(request).enqueue(callback);
+    public void findNearPosts(PostRequest request, Callback<PostResponse> callback) {
+        findNearPostsCall(request).enqueue(callback);
     }
 
-    public Call<PostResponse> findPostsCall(PostRequest request) {
-        return restClient.getRestService().find("sd");
+    private Call<PostResponse> findNearPostsCall(PostRequest request) {
+        return restClient.getRestService().findNearPosts(request.getLng(), request.getLat(),
+                request.getDistance(), request.getOffset(), request.getCount());
     }
 
 
-    public void addTest(PostRequest request, Callback<PostResponse> callback) {
-        addTest(request).enqueue(callback);
+    public void uploadImage(PostRequest request, Callback<List<Image>> callback) {
+        uploadImage(request).enqueue(callback);
     }
 
-    public Call<PostResponse> addTest(PostRequest request) {
-        return restClient.getRestService().addTest(new Post(1, "test"));
-    }
-
-
-    public void uploadTest(PostRequest request, Callback<PostResponse> callback) {
-        uploadTest(request).enqueue(callback);
-    }
-
-    public Call<PostResponse> uploadTest(PostRequest request) {
+    private Call<List<Image>> uploadImage(PostRequest request) {
 //        File file = new File("/storage/emulated/0/download/1289.jpeg");
         File file = new File("/storage/emulated/0/Download/amerIstotia1.jpg");
 //        File file = new File(request.getFilePath());
@@ -72,12 +65,31 @@ public void uploadTest(PostRequest request, Callback<PostResponse> callback) {
         RequestBody fileBody = RequestBody.create(MediaType.parse("image/jpeg"), file);
 //        MultipartBuilder multipartBuilder = new MultipartBuilder("95416089-b2fd-4eab-9a14-166bb9c5788b");
         MultipartBuilder multipartBuilder = new MultipartBuilder();
-        multipartBuilder.addFormDataPart("myfile", file.getName(), fileBody);
+        multipartBuilder.addFormDataPart("file", file.getName(), fileBody);
         multipartBuilder.addFormDataPart("description", "value");
         multipartBuilder.type(MultipartBuilder.FORM);
         RequestBody fileRequestBody = multipartBuilder.build();
 
-        return restClient.getRestService().uploadTest(fileRequestBody);
+        return restClient.getRestService().uploadImage(fileRequestBody);
+    }
+
+
+    // findPostsAtVenue
+    public void findPostsAtVenue(VenuePostsRequest request, Callback<PostResponse> callback) {
+        findPostsAtVenueCall(request).enqueue(callback);
+    }
+
+    private Call<PostResponse> findPostsAtVenueCall(VenuePostsRequest request) {
+        return restClient.getRestService().findPostsAtVenue(request.getVenueId(), request.getOffset(), request.getCount());
+    }
+
+    // addPost
+    public void addPost(Post post, Callback<String> callback) {
+        addPostCall(post).enqueue(callback);
+    }
+
+    private Call<String> addPostCall(Post post) {
+        return restClient.getRestService().addPost(post);
     }
 
 
@@ -93,4 +105,14 @@ public void uploadTest(PostRequest request, Callback<PostResponse> callback) {
 //        return restClient.getRestService().uploadTest(requestBody, "key-value");
 //    }
 
+
+    public void addTest(PostRequest request, Callback<PostResponse> callback) {
+        addTest(request).enqueue(callback);
+    }
+
+    public Call<PostResponse> addTest(PostRequest request) {
+        return restClient.getRestService().addTest(new Post());
+    }
+
+
 }
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/service/mock/CoordinatesServiceMock.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/CoordinatesServiceMock.java
similarity index 91%
rename from TMessagesProj/src/main/java/org/telegram/messenger/service/mock/CoordinatesServiceMock.java
rename to TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/CoordinatesServiceMock.java
index e999c86be..ca8aedb1c 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/service/mock/CoordinatesServiceMock.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/CoordinatesServiceMock.java
@@ -1,6 +1,6 @@
-package org.telegram.messenger.service.mock;
+package ru.aragats.wgo.rest.mock;
 
-import org.telegram.messenger.dto.Coordinates;
+import ru.aragats.wgo.rest.dto.Coordinates;
 
 import java.util.ArrayList;
 import java.util.Arrays;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/service/mock/ImageServiceMock.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/ImageServiceMock.java
similarity index 93%
rename from TMessagesProj/src/main/java/org/telegram/messenger/service/mock/ImageServiceMock.java
rename to TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/ImageServiceMock.java
index 525c8237f..7dcffdc68 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/service/mock/ImageServiceMock.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/ImageServiceMock.java
@@ -1,6 +1,6 @@
-package org.telegram.messenger.service.mock;
+package ru.aragats.wgo.rest.mock;
 
-import org.telegram.messenger.dto.Image;
+import ru.aragats.wgo.rest.dto.Image;
 
 import java.util.ArrayList;
 import java.util.List;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/service/mock/PostServiceMock.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/PostServiceMock.java
similarity index 86%
rename from TMessagesProj/src/main/java/org/telegram/messenger/service/mock/PostServiceMock.java
rename to TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/PostServiceMock.java
index 86d7e11f2..bacaa172f 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/service/mock/PostServiceMock.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/PostServiceMock.java
@@ -1,8 +1,8 @@
-package org.telegram.messenger.service.mock;
+package ru.aragats.wgo.rest.mock;
 
-import org.telegram.messenger.dto.Image;
-import org.telegram.messenger.dto.Post;
-import org.telegram.messenger.dto.PostResponse;
+import ru.aragats.wgo.rest.dto.Image;
+import ru.aragats.wgo.rest.dto.Post;
+import ru.aragats.wgo.rest.dto.PostResponse;
 import org.telegram.utils.StringUtils;
 
 import java.util.ArrayList;
@@ -52,7 +52,7 @@ public static PostResponse getPosts(String location, String query, final int off
     private static List<Post> searchPosts(String query) {
         List<Post> result = new ArrayList<>();
         for (Post post : posts) {
-            if (post.getMessage().contains(query)) {
+            if (post.getText().contains(query)) {
                 result.add(post);
             }
         }
@@ -70,10 +70,12 @@ public static Post generatePost(int i) {
         Post post = new Post();
         post.setId("" + i);
         post.setCreatedDate(new Date().getTime());
-        post.setMessage(generateString("ab c de fg rty  ui o ph jk", 150));
+        post.setText(generateString("ab c de fg rty  ui o ph jk", 150));
         Image image = ImageServiceMock.getRandomImage();
-        post.setPreviewImage(image);
-        post.setImage(image);
+        List<Image> images = new ArrayList<>();
+        images.add(image); // preview
+        images.add(image); // original
+        post.setImages(images);
         post.setVenue(VenueServiceMock.getRandomVenue());
         return post;
     }
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/service/mock/ServiceManager.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/ServiceManager.java
similarity index 92%
rename from TMessagesProj/src/main/java/org/telegram/messenger/service/mock/ServiceManager.java
rename to TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/ServiceManager.java
index 9a6e43a8e..7d91fa308 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/service/mock/ServiceManager.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/ServiceManager.java
@@ -1,4 +1,4 @@
-package org.telegram.messenger.service.mock;
+package ru.aragats.wgo.rest.mock;
 
 /**
  * Created by aragats on 09/05/15.
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/service/mock/UserServiceMock.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/UserServiceMock.java
similarity index 87%
rename from TMessagesProj/src/main/java/org/telegram/messenger/service/mock/UserServiceMock.java
rename to TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/UserServiceMock.java
index 97c13a32f..86993d657 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/service/mock/UserServiceMock.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/UserServiceMock.java
@@ -1,14 +1,14 @@
-package org.telegram.messenger.service.mock;
+package ru.aragats.wgo.rest.mock;
 
-import org.telegram.messenger.dto.Image;
-import org.telegram.messenger.dto.User;
+import ru.aragats.wgo.rest.dto.Image;
+import ru.aragats.wgo.rest.dto.User;
 
 import java.util.ArrayList;
 import java.util.List;
 import java.util.Random;
 
 
-import static org.telegram.messenger.service.mock.PostServiceMock.*;
+import static ru.aragats.wgo.rest.mock.PostServiceMock.*;
 
 /**
  * Created by aragats on 09/05/15.
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/service/mock/VenueServiceMock.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/VenueServiceMock.java
similarity index 81%
rename from TMessagesProj/src/main/java/org/telegram/messenger/service/mock/VenueServiceMock.java
rename to TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/VenueServiceMock.java
index d384e52c3..b08db73e6 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/service/mock/VenueServiceMock.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/mock/VenueServiceMock.java
@@ -1,9 +1,8 @@
-package org.telegram.messenger.service.mock;
+package ru.aragats.wgo.rest.mock;
 
-import org.telegram.messenger.dto.Image;
-import org.telegram.messenger.dto.Venue;
-import org.telegram.messenger.dto.VenueResponse;
-import org.telegram.messenger.object.VenueObject;
+import ru.aragats.wgo.rest.dto.Image;
+import ru.aragats.wgo.rest.dto.Venue;
+import ru.aragats.wgo.rest.dto.VenueResponse;
 import org.telegram.utils.StringUtils;
 
 import java.util.ArrayList;
@@ -56,20 +55,11 @@ public static VenueResponse getVenues(String location, String query, final int o
     }
 
 
-    public static List<VenueObject> convertVenue(List<Venue> venues) {
-        List<VenueObject> result = new ArrayList<>();
-        for (Venue venue : venues) {
-            result.add(new VenueObject(venue));
-        }
-        return result;
-    }
-
-
     public static Venue generateVenue(int i) {
         Venue result = new Venue();
         result.setId("" + i);
         Image image = ImageServiceMock.getRandomImage();
-        result.setImage(image);
+        result.setIcon(image);
         result.setAddress(PostServiceMock.generateString("ab c de fg rty  ui o ph jk", 60));
         result.setName(PostServiceMock.generateString("ab c de fg rty  ui o ph jk", 60));
         result.setCoordinates(CoordinatesServiceMock.getRandomCoordinates());
diff --git a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/service/RestService.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/service/RestService.java
index ea2b18d95..8dcc422da 100644
--- a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/service/RestService.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/service/RestService.java
@@ -2,6 +2,8 @@
 
 import com.squareup.okhttp.RequestBody;
 
+import java.util.List;
+
 import retrofit.Call;
 import retrofit.http.Body;
 import retrofit.http.GET;
@@ -9,7 +11,9 @@
 import retrofit.http.POST;
 import retrofit.http.PUT;
 import retrofit.http.Part;
+import retrofit.http.Path;
 import retrofit.http.Query;
+import ru.aragats.wgo.rest.dto.Image;
 import ru.aragats.wgo.rest.dto.Post;
 import ru.aragats.wgo.rest.dto.PostResponse;
 
@@ -17,8 +21,31 @@
  * Created by aragats on 05/12/15.
  */
 public interface RestService {
-    @GET("/api/posts/find")
-    Call<PostResponse> find(@Query("sort") String sort);
+
+
+    @GET("/api/posts/find/near")
+    Call<PostResponse> findNearPosts(@Query("lng") double longitude, @Query("lat") double latitude,
+                                     @Query("distance") int distance, @Query("offset") String offset,
+                                     @Query("count") double count);
+
+
+    @GET("/api/posts/find/near/venue/{venueId}")
+    Call<PostResponse> findPostsAtVenue(@Path(value = "venueId") String venueId,
+                                        @Query("offset") String offset,
+                                        @Query("count") double count);
+
+    @POST("/api/posts/upload")
+    Call<List<Image>> uploadImage(@Body RequestBody fileRequestBody);
+
+
+    @POST("/api/posts/add")
+    Call<String> addPost(@Body Post post);
+
+
+
+
+
+    ////////////////////////////////////////////////////////////////////////////////////////////////
 
     @POST("/api/posts/addTest")
     Call<PostResponse> addTest(@Body Post post);
@@ -29,9 +56,5 @@
 //    @POST("/api/posts/upload")
 //    Call<PostResponse> uploadTest(@Part("myfile\"; filename=\"image.png\" ") RequestBody file, @Part("description") String description);
 
-    @POST("/api/posts/upload")
-    Call<PostResponse> uploadTest(@Body RequestBody myfile);
-
-
 
 }
diff --git a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/service/WGOService.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/service/WGOService.java
index 811512d04..16efff16c 100644
--- a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/service/WGOService.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/service/WGOService.java
@@ -10,7 +10,6 @@
 /**
  * Created by aragats on 05/12/15.
  */
-//http://stackoverflow.com/questions/29323095/retrofit-call-inside-asynctask
 public interface WGOService {
     // sync
     @GET("/api/posts/all")
diff --git a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/task/RestTask.java b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/task/RestTask.java
index 044cf1cee..fbe454551 100644
--- a/TMessagesProj/src/main/java/ru/aragats/wgo/rest/task/RestTask.java
+++ b/TMessagesProj/src/main/java/ru/aragats/wgo/rest/task/RestTask.java
@@ -7,7 +7,6 @@
 /**
  * Created by aragats on 05/12/15.
  */
-//TODO Important http://stackoverflow.com/questions/6343166/android-os-networkonmainthreadexception
 public class RestTask extends AsyncTask<String, Void, String> {
 
     private Exception exception;
