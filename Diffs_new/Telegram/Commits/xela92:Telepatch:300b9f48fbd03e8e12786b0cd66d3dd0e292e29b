diff --git a/TMessagesProj/config/debug/AndroidManifest.xml b/TMessagesProj/config/debug/AndroidManifest.xml
index dc448b5fa..ba66cf61c 100644
--- a/TMessagesProj/config/debug/AndroidManifest.xml
+++ b/TMessagesProj/config/debug/AndroidManifest.xml
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
-    package="org.telegram.messenger"
+    package="org.telepatch.messenger"
     android:installLocation="auto">
 
     <uses-feature android:name="android.hardware.location.gps" android:required="false" />
@@ -9,21 +9,21 @@
     <uses-feature android:name="android.hardware.LOCATION" android:required="false" />
 
     <uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" />
-    <uses-permission android:name="org.telegram.messenger.permission.MAPS_RECEIVE"/>
-    <uses-permission android:name="org.telegram.messenger.permission.C2D_MESSAGE" />
+    <uses-permission android:name="org.telepatch.messenger.permission.MAPS_RECEIVE"/>
+    <uses-permission android:name="org.telepatch.messenger.permission.C2D_MESSAGE" />
     <uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES"/>
     <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
     <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
 
-    <permission android:name="org.telegram.messenger.permission.MAPS_RECEIVE" android:protectionLevel="signature"/>
-    <permission android:name="org.telegram.messenger.permission.C2D_MESSAGE" android:protectionLevel="signature" />
+    <permission android:name="org.telepatch.messenger.permission.MAPS_RECEIVE" android:protectionLevel="signature"/>
+    <permission android:name="org.telepatch.messenger.permission.C2D_MESSAGE" android:protectionLevel="signature" />
 
     <application
         android:allowBackup="false"
         android:icon="@drawable/ic_launcher"
         android:label="@string/AppName"
         android:theme="@style/Theme.TMessages.Start"
-        android:name="org.telegram.ui.ApplicationLoader"
+        android:name="org.telepatch.ui.ApplicationLoader"
         android:hardwareAccelerated="true"
         android:largeHeap="true">
 
@@ -32,12 +32,12 @@
         <activity android:name="net.hockeyapp.android.UpdateActivity" />
 
         <receiver
-            android:name="org.telegram.android.GcmBroadcastReceiver"
+            android:name="org.telepatch.android.GcmBroadcastReceiver"
             android:permission="com.google.android.c2dm.permission.SEND" >
             <intent-filter>
                 <action android:name="com.google.android.c2dm.intent.RECEIVE" />
                 <action android:name="com.google.android.c2dm.intent.REGISTRATION" />
-                <category android:name="org.telegram.messenger" />
+                <category android:name="org.telepatch.messenger" />
             </intent-filter>
         </receiver>
 
diff --git a/TMessagesProj/config/foss/AndroidManifest.xml b/TMessagesProj/config/foss/AndroidManifest.xml
index 17b3445ef..bfccd0f03 100644
--- a/TMessagesProj/config/foss/AndroidManifest.xml
+++ b/TMessagesProj/config/foss/AndroidManifest.xml
@@ -8,7 +8,7 @@
         android:icon="@drawable/ic_launcher"
         android:label="@string/AppName"
         android:theme="@style/Theme.TMessages.Start"
-        android:name="org.telegram.ui.ApplicationLoader"
+        android:name="org.telepatch.ui.ApplicationLoader"
         android:hardwareAccelerated="true"
         android:largeHeap="true">
 
diff --git a/TMessagesProj/config/release/AndroidManifest.xml b/TMessagesProj/config/release/AndroidManifest.xml
index 463616384..c8f8dc024 100644
--- a/TMessagesProj/config/release/AndroidManifest.xml
+++ b/TMessagesProj/config/release/AndroidManifest.xml
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
-    package="org.telegram.messenger"
+    package="org.telepatch.messenger"
     android:installLocation="auto">
 
     <uses-feature android:name="android.hardware.location.gps" android:required="false" />
@@ -9,21 +9,21 @@
     <uses-feature android:name="android.hardware.LOCATION" android:required="false" />
 
     <uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" />
-    <uses-permission android:name="org.telegram.messenger.permission.MAPS_RECEIVE"/>
-    <uses-permission android:name="org.telegram.messenger.permission.C2D_MESSAGE" />
+    <uses-permission android:name="org.telepatch.messenger.permission.MAPS_RECEIVE"/>
+    <uses-permission android:name="org.telepatch.messenger.permission.C2D_MESSAGE" />
     <uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES"/>
     <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
     <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
 
-    <permission android:name="org.telegram.messenger.permission.MAPS_RECEIVE" android:protectionLevel="signature"/>
-    <permission android:name="org.telegram.messenger.permission.C2D_MESSAGE" android:protectionLevel="signature" />
+    <permission android:name="org.telepatch.messenger.permission.MAPS_RECEIVE" android:protectionLevel="signature"/>
+    <permission android:name="org.telepatch.messenger.permission.C2D_MESSAGE" android:protectionLevel="signature" />
 
     <application
         android:allowBackup="false"
         android:icon="@drawable/ic_launcher"
         android:label="@string/AppName"
         android:theme="@style/Theme.TMessages.Start"
-        android:name="org.telegram.ui.ApplicationLoader"
+        android:name="org.telepatch.ui.ApplicationLoader"
         android:hardwareAccelerated="true"
         android:largeHeap="true">
 
@@ -32,12 +32,12 @@
         <activity android:name="net.hockeyapp.android.UpdateActivity" />
 
         <receiver
-            android:name="org.telegram.android.GcmBroadcastReceiver"
+            android:name="org.telepatch.android.GcmBroadcastReceiver"
             android:permission="com.google.android.c2dm.permission.SEND" >
             <intent-filter>
                 <action android:name="com.google.android.c2dm.intent.RECEIVE" />
                 <action android:name="com.google.android.c2dm.intent.REGISTRATION" />
-                <category android:name="org.telegram.messenger" />
+                <category android:name="org.telepatch.messenger" />
             </intent-filter>
         </receiver>
 
diff --git a/TMessagesProj/jni/audio.c b/TMessagesProj/jni/audio.c
index 3ca0f1fb2..0f36f4905 100644
--- a/TMessagesProj/jni/audio.c
+++ b/TMessagesProj/jni/audio.c
@@ -504,7 +504,7 @@ int writeFrame(uint8_t *framePcmBytes, unsigned int frameByteCount) {
     return 1;
 }
 
-JNIEXPORT int Java_org_telegram_android_MediaController_startRecord(JNIEnv *env, jclass class, jstring path) {
+JNIEXPORT int Java_org_telepatch_android_MediaController_startRecord(JNIEnv *env, jclass class, jstring path) {
     const char *pathStr = (*env)->GetStringUTFChars(env, path, 0);
     
     int result = initRecorder(pathStr);
@@ -516,12 +516,12 @@ JNIEXPORT int Java_org_telegram_android_MediaController_startRecord(JNIEnv *env,
     return result;
 }
 
-JNIEXPORT int Java_org_telegram_android_MediaController_writeFrame(JNIEnv *env, jclass class, jobject frame, jint len) {
+JNIEXPORT int Java_org_telepatch_android_MediaController_writeFrame(JNIEnv *env, jclass class, jobject frame, jint len) {
     jbyte *frameBytes = (*env)->GetDirectBufferAddress(env, frame);
     return writeFrame(frameBytes, len);
 }
 
-JNIEXPORT void Java_org_telegram_android_MediaController_stopRecord(JNIEnv *env, jclass class) {
+JNIEXPORT void Java_org_telepatch_android_MediaController_stopRecord(JNIEnv *env, jclass class) {
     cleanupRecorder();
 }
 
@@ -618,22 +618,22 @@ void fillBuffer(uint8_t *buffer, int capacity, int *args) {
     }
 }
 
-JNIEXPORT jlong Java_org_telegram_android_MediaController_getTotalPcmDuration(JNIEnv *env, jclass class) {
+JNIEXPORT jlong Java_org_telepatch_android_MediaController_getTotalPcmDuration(JNIEnv *env, jclass class) {
     return _totalPcmDuration;
 }
 
-JNIEXPORT void Java_org_telegram_android_MediaController_readOpusFile(JNIEnv *env, jclass class, jobject buffer, jint capacity, jintArray args) {
+JNIEXPORT void Java_org_telepatch_android_MediaController_readOpusFile(JNIEnv *env, jclass class, jobject buffer, jint capacity, jintArray args) {
     jint *argsArr = (*env)->GetIntArrayElements(env, args, 0);
     jbyte *bufferBytes = (*env)->GetDirectBufferAddress(env, buffer);
     fillBuffer(bufferBytes, capacity, argsArr);
     (*env)->ReleaseIntArrayElements(env, args, argsArr, 0);
 }
 
-JNIEXPORT int Java_org_telegram_android_MediaController_seekOpusFile(JNIEnv *env, jclass class, jfloat position) {
+JNIEXPORT int Java_org_telepatch_android_MediaController_seekOpusFile(JNIEnv *env, jclass class, jfloat position) {
     return seekPlayer(position);
 }
 
-JNIEXPORT int Java_org_telegram_android_MediaController_openOpusFile(JNIEnv *env, jclass class, jstring path) {
+JNIEXPORT int Java_org_telepatch_android_MediaController_openOpusFile(JNIEnv *env, jclass class, jstring path) {
     const char *pathStr = (*env)->GetStringUTFChars(env, path, 0);
     
     int result = initPlayer(pathStr);
@@ -645,11 +645,11 @@ JNIEXPORT int Java_org_telegram_android_MediaController_openOpusFile(JNIEnv *env
     return result;
 }
 
-JNIEXPORT void Java_org_telegram_android_MediaController_closeOpusFile(JNIEnv *env, jclass class) {
+JNIEXPORT void Java_org_telepatch_android_MediaController_closeOpusFile(JNIEnv *env, jclass class) {
     cleanupPlayer();
 }
 
-JNIEXPORT int Java_org_telegram_android_MediaController_isOpusFile(JNIEnv *env, jclass class, jstring path) {
+JNIEXPORT int Java_org_telepatch_android_MediaController_isOpusFile(JNIEnv *env, jclass class, jstring path) {
     const char *pathStr = (*env)->GetStringUTFChars(env, path, 0);
     
     int result = 0;
diff --git a/TMessagesProj/jni/gif.c b/TMessagesProj/jni/gif.c
index 06b7a6283..507e37c25 100644
--- a/TMessagesProj/jni/gif.c
+++ b/TMessagesProj/jni/gif.c
@@ -589,7 +589,7 @@ static jint open(GifFileType *GifFileIn, int Error, int startPos, JNIEnv *env, j
 	return (jint)(Error == 0 ? info : NULL);
 }
 
-JNIEXPORT jlong JNICALL Java_org_telegram_ui_Views_GifDrawable_getAllocationByteCount(JNIEnv *env, jclass class, jobject gifInfo) {
+JNIEXPORT jlong JNICALL Java_org_telepatch_ui_Views_GifDrawable_getAllocationByteCount(JNIEnv *env, jclass class, jobject gifInfo) {
 	GifInfo *info = (GifInfo *)gifInfo;
 	if (info == NULL) {
         return 0;
@@ -602,7 +602,7 @@ JNIEXPORT jlong JNICALL Java_org_telegram_ui_Views_GifDrawable_getAllocationByte
 	return sum;
 }
 
-JNIEXPORT void JNICALL Java_org_telegram_ui_Views_GifDrawable_reset(JNIEnv *env, jclass class, jobject gifInfo) {
+JNIEXPORT void JNICALL Java_org_telepatch_ui_Views_GifDrawable_reset(JNIEnv *env, jclass class, jobject gifInfo) {
 	GifInfo *info = (GifInfo *)gifInfo;
 	if (info == NULL) {
         return;
@@ -610,7 +610,7 @@ JNIEXPORT void JNICALL Java_org_telegram_ui_Views_GifDrawable_reset(JNIEnv *env,
 	reset(info);
 }
 
-JNIEXPORT void JNICALL Java_org_telegram_ui_Views_GifDrawable_setSpeedFactor(JNIEnv *env, jclass class, jobject gifInfo, jfloat factor) {
+JNIEXPORT void JNICALL Java_org_telepatch_ui_Views_GifDrawable_setSpeedFactor(JNIEnv *env, jclass class, jobject gifInfo, jfloat factor) {
 	GifInfo *info = (GifInfo *)gifInfo;
 	if (info == NULL) {
         return;
@@ -618,7 +618,7 @@ JNIEXPORT void JNICALL Java_org_telegram_ui_Views_GifDrawable_setSpeedFactor(JNI
 	info->speedFactor = factor;
 }
 
-JNIEXPORT void JNICALL Java_org_telegram_ui_Views_GifDrawable_seekToTime(JNIEnv *env, jclass class, jobject gifInfo, jint desiredPos, jintArray jPixels) {
+JNIEXPORT void JNICALL Java_org_telepatch_ui_Views_GifDrawable_seekToTime(JNIEnv *env, jclass class, jobject gifInfo, jint desiredPos, jintArray jPixels) {
 	GifInfo *info = (GifInfo *)gifInfo;
 	if (info == NULL || jPixels == NULL) {
         return;
@@ -665,7 +665,7 @@ JNIEXPORT void JNICALL Java_org_telegram_ui_Views_GifDrawable_seekToTime(JNIEnv
     }
 }
 
-JNIEXPORT void JNICALL Java_org_telegram_ui_Views_GifDrawable_seekToFrame(JNIEnv *env, jclass class, jobject gifInfo, jint desiredIdx, jintArray jPixels) {
+JNIEXPORT void JNICALL Java_org_telepatch_ui_Views_GifDrawable_seekToFrame(JNIEnv *env, jclass class, jobject gifInfo, jint desiredIdx, jintArray jPixels) {
 	GifInfo *info = (GifInfo *)gifInfo;
 	if (info == NULL|| jPixels==NULL) {
         return;
@@ -701,7 +701,7 @@ JNIEXPORT void JNICALL Java_org_telegram_ui_Views_GifDrawable_seekToFrame(JNIEnv
     }
 }
 
-JNIEXPORT void JNICALL Java_org_telegram_ui_Views_GifDrawable_renderFrame(JNIEnv *env, jclass class, jintArray jPixels, jobject gifInfo, jintArray metaData) {
+JNIEXPORT void JNICALL Java_org_telepatch_ui_Views_GifDrawable_renderFrame(JNIEnv *env, jclass class, jintArray jPixels, jobject gifInfo, jintArray metaData) {
 	GifInfo *info = (GifInfo *)gifInfo;
 	if (info == NULL || jPixels == NULL) {
         return;
@@ -752,7 +752,7 @@ JNIEXPORT void JNICALL Java_org_telegram_ui_Views_GifDrawable_renderFrame(JNIEnv
 	(*env)->ReleaseIntArrayElements(env, metaData, rawMetaData, 0);
 }
 
-JNIEXPORT void JNICALL Java_org_telegram_ui_Views_GifDrawable_free(JNIEnv *env, jclass class, jobject gifInfo) {
+JNIEXPORT void JNICALL Java_org_telepatch_ui_Views_GifDrawable_free(JNIEnv *env, jclass class, jobject gifInfo) {
 	if (gifInfo == NULL) {
         return;
     }
@@ -765,7 +765,7 @@ JNIEXPORT void JNICALL Java_org_telegram_ui_Views_GifDrawable_free(JNIEnv *env,
 	cleanUp(info);
 }
 
-JNIEXPORT jstring JNICALL Java_org_telegram_ui_Views_GifDrawable_getComment(JNIEnv *env, jclass class, jobject gifInfo) {
+JNIEXPORT jstring JNICALL Java_org_telepatch_ui_Views_GifDrawable_getComment(JNIEnv *env, jclass class, jobject gifInfo) {
 	if (gifInfo == NULL) {
         return NULL;
     }
@@ -773,14 +773,14 @@ JNIEXPORT jstring JNICALL Java_org_telegram_ui_Views_GifDrawable_getComment(JNIE
 	return (*env)->NewStringUTF(env, info->comment);
 }
 
-JNIEXPORT jint JNICALL Java_org_telegram_ui_Views_GifDrawable_getLoopCount(JNIEnv *env, jclass class, jobject gifInfo) {
+JNIEXPORT jint JNICALL Java_org_telepatch_ui_Views_GifDrawable_getLoopCount(JNIEnv *env, jclass class, jobject gifInfo) {
 	if (gifInfo == NULL) {
         return 0;
     }
 	return ((GifInfo *)gifInfo)->loopCount;
 }
 
-JNIEXPORT jint JNICALL Java_org_telegram_ui_Views_GifDrawable_getDuration(JNIEnv *env, jclass class, jobject gifInfo) {
+JNIEXPORT jint JNICALL Java_org_telepatch_ui_Views_GifDrawable_getDuration(JNIEnv *env, jclass class, jobject gifInfo) {
 	GifInfo *info = (GifInfo *)gifInfo;
 	if (info == NULL) {
         return 0;
@@ -793,7 +793,7 @@ JNIEXPORT jint JNICALL Java_org_telegram_ui_Views_GifDrawable_getDuration(JNIEnv
 	return sum;
 }
 
-JNIEXPORT jint JNICALL Java_org_telegram_ui_Views_GifDrawable_getCurrentPosition(JNIEnv *env, jclass class, jobject gifInfo) {
+JNIEXPORT jint JNICALL Java_org_telepatch_ui_Views_GifDrawable_getCurrentPosition(JNIEnv *env, jclass class, jobject gifInfo) {
 	GifInfo *info = (GifInfo *)gifInfo;
 	if (info == NULL) {
         return 0;
@@ -811,7 +811,7 @@ JNIEXPORT jint JNICALL Java_org_telegram_ui_Views_GifDrawable_getCurrentPosition
 	return (int) (sum + remainder);
 }
 
-JNIEXPORT void JNICALL Java_org_telegram_ui_Views_GifDrawable_saveRemainder(JNIEnv *env, jclass class, jobject gifInfo) {
+JNIEXPORT void JNICALL Java_org_telepatch_ui_Views_GifDrawable_saveRemainder(JNIEnv *env, jclass class, jobject gifInfo) {
 	GifInfo *info = (GifInfo *)gifInfo;
 	if (info == NULL) {
         return;
@@ -819,7 +819,7 @@ JNIEXPORT void JNICALL Java_org_telegram_ui_Views_GifDrawable_saveRemainder(JNIE
 	info->lastFrameReaminder = getRealTime() - info->nextStartTime;
 }
 
-JNIEXPORT void JNICALL Java_org_telegram_ui_Views_GifDrawable_restoreRemainder(JNIEnv *env, jclass class, jobject gifInfo) {
+JNIEXPORT void JNICALL Java_org_telepatch_ui_Views_GifDrawable_restoreRemainder(JNIEnv *env, jclass class, jobject gifInfo) {
 	GifInfo *info = (GifInfo *)gifInfo;
 	if (info == NULL || info->lastFrameReaminder == ULONG_MAX) {
         return;
@@ -828,7 +828,7 @@ JNIEXPORT void JNICALL Java_org_telegram_ui_Views_GifDrawable_restoreRemainder(J
 	info->lastFrameReaminder = ULONG_MAX;
 }
 
-JNIEXPORT jint JNICALL Java_org_telegram_ui_Views_GifDrawable_openFile(JNIEnv *env, jclass class, jintArray metaData, jstring jfname) {
+JNIEXPORT jint JNICALL Java_org_telepatch_ui_Views_GifDrawable_openFile(JNIEnv *env, jclass class, jintArray metaData, jstring jfname) {
 	if (jfname == NULL) {
 		setMetaData(0, 0, 0, D_GIF_ERR_OPEN_FAILED, env, metaData);
 		return (jint) NULL;
diff --git a/TMessagesProj/jni/image.c b/TMessagesProj/jni/image.c
index cdd66a47a..bf1105df0 100644
--- a/TMessagesProj/jni/image.c
+++ b/TMessagesProj/jni/image.c
@@ -202,7 +202,7 @@ METHODDEF(void) my_error_exit(j_common_ptr cinfo) {
     longjmp(myerr->setjmp_buffer, 1);
 }
 
-JNIEXPORT void Java_org_telegram_messenger_Utilities_blurBitmap(JNIEnv *env, jclass class, jobject bitmap, int radius) {
+JNIEXPORT void Java_org_telepatch_messenger_Utilities_blurBitmap(JNIEnv *env, jclass class, jobject bitmap, int radius) {
     if (!bitmap) {
         return;
     }
@@ -229,7 +229,7 @@ JNIEXPORT void Java_org_telegram_messenger_Utilities_blurBitmap(JNIEnv *env, jcl
     AndroidBitmap_unlockPixels(env, bitmap);
 }
 
-JNIEXPORT void Java_org_telegram_messenger_Utilities_loadBitmap(JNIEnv *env, jclass class, jstring path, jintArray bitmap, int scale, int format, int width, int height) {
+JNIEXPORT void Java_org_telepatch_messenger_Utilities_loadBitmap(JNIEnv *env, jclass class, jstring path, jintArray bitmap, int scale, int format, int width, int height) {
     
     int i;
     
diff --git a/TMessagesProj/jni/jni.c b/TMessagesProj/jni/jni.c
index 4a43f84dc..254e7317d 100644
--- a/TMessagesProj/jni/jni.c
+++ b/TMessagesProj/jni/jni.c
@@ -30,7 +30,7 @@ void JNI_OnUnload(JavaVM *vm, void *reserved) {
     gifOnJNIUnload(vm, reserved);
 }
 
-JNIEXPORT void Java_org_telegram_messenger_Utilities_aesIgeEncryption(JNIEnv *env, jclass class, jobject buffer, jbyteArray key, jbyteArray iv, jboolean encrypt, int offset, int length) {
+JNIEXPORT void Java_org_telepatch_messenger_Utilities_aesIgeEncryption(JNIEnv *env, jclass class, jobject buffer, jbyteArray key, jbyteArray iv, jboolean encrypt, int offset, int length) {
     jbyte *what = (*env)->GetDirectBufferAddress(env, buffer) + offset;
     unsigned char *keyBuff = (unsigned char *)(*env)->GetByteArrayElements(env, key, NULL);
     unsigned char *ivBuff = (unsigned char *)(*env)->GetByteArrayElements(env, iv, NULL);
@@ -56,7 +56,7 @@ uint64_t gcd(uint64_t a, uint64_t b){
     return b == 0 ? a : b;
 }
 
-JNIEXPORT jlong Java_org_telegram_messenger_Utilities_doPQNative(JNIEnv* env, jclass class, jlong _what) {
+JNIEXPORT jlong Java_org_telepatch_messenger_Utilities_doPQNative(JNIEnv* env, jclass class, jlong _what) {
     uint64_t what = _what;
     int it = 0, i, j;
     uint64_t g = 0;
diff --git a/TMessagesProj/jni/sqlite.c b/TMessagesProj/jni/sqlite.c
index 124b3df2f..cfcd858db 100755
--- a/TMessagesProj/jni/sqlite.c
+++ b/TMessagesProj/jni/sqlite.c
@@ -6,6 +6,6 @@ void throw_sqlite3_exception(JNIEnv *env, sqlite3 *handle, int errcode) {
 		errcode = sqlite3_errcode(handle);
 	}
 	const char *errmsg = sqlite3_errmsg(handle);
-	jclass exClass = (*env)->FindClass(env, "org/telegram/SQLite/SQLiteException");
+	jclass exClass = (*env)->FindClass(env, "org/telepatch/SQLite/SQLiteException");
 	(*env)->ThrowNew(env, exClass, errmsg);
 }
diff --git a/TMessagesProj/jni/sqlite_cursor.c b/TMessagesProj/jni/sqlite_cursor.c
index de3f7469d..552a30e6a 100755
--- a/TMessagesProj/jni/sqlite_cursor.c
+++ b/TMessagesProj/jni/sqlite_cursor.c
@@ -1,17 +1,17 @@
 #include "sqlite.h"
 
-int Java_org_telegram_SQLite_SQLiteCursor_columnType(JNIEnv *env, jobject object, int statementHandle, int columnIndex) {
+int Java_org_telepatch_SQLite_SQLiteCursor_columnType(JNIEnv *env, jobject object, int statementHandle, int columnIndex) {
 	sqlite3_stmt *handle = (sqlite3_stmt *)statementHandle;
 	return sqlite3_column_type(handle, columnIndex);
 }
 
-int Java_org_telegram_SQLite_SQLiteCursor_columnIsNull(JNIEnv *env, jobject object, int statementHandle, int columnIndex) {
+int Java_org_telepatch_SQLite_SQLiteCursor_columnIsNull(JNIEnv *env, jobject object, int statementHandle, int columnIndex) {
 	sqlite3_stmt *handle = (sqlite3_stmt *)statementHandle;
 	int valType = sqlite3_column_type(handle, columnIndex);
 	return SQLITE_NULL == valType;
 }
 
-int Java_org_telegram_SQLite_SQLiteCursor_columnIntValue(JNIEnv *env, jobject object, int statementHandle, int columnIndex) {
+int Java_org_telepatch_SQLite_SQLiteCursor_columnIntValue(JNIEnv *env, jobject object, int statementHandle, int columnIndex) {
 	sqlite3_stmt *handle = (sqlite3_stmt *)statementHandle;
 	int valType = sqlite3_column_type(handle, columnIndex);
 	if (SQLITE_NULL == valType) {
@@ -20,7 +20,7 @@ int Java_org_telegram_SQLite_SQLiteCursor_columnIntValue(JNIEnv *env, jobject ob
 	return sqlite3_column_int(handle, columnIndex);
 }
 
-long long Java_org_telegram_SQLite_SQLiteCursor_columnLongValue(JNIEnv *env, jobject object, int statementHandle, int columnIndex) {
+long long Java_org_telepatch_SQLite_SQLiteCursor_columnLongValue(JNIEnv *env, jobject object, int statementHandle, int columnIndex) {
 	sqlite3_stmt *handle = (sqlite3_stmt *)statementHandle;
 	int valType = sqlite3_column_type(handle, columnIndex);
 	if (SQLITE_NULL == valType) {
@@ -29,7 +29,7 @@ long long Java_org_telegram_SQLite_SQLiteCursor_columnLongValue(JNIEnv *env, job
 	return sqlite3_column_int64(handle, columnIndex);
 }
 
-double Java_org_telegram_SQLite_SQLiteCursor_columnDoubleValue(JNIEnv *env, jobject object, int statementHandle, int columnIndex) {
+double Java_org_telepatch_SQLite_SQLiteCursor_columnDoubleValue(JNIEnv *env, jobject object, int statementHandle, int columnIndex) {
 	sqlite3_stmt *handle = (sqlite3_stmt *)statementHandle;
 	int valType = sqlite3_column_type(handle, columnIndex);
 	if (SQLITE_NULL == valType) {
@@ -38,7 +38,7 @@ double Java_org_telegram_SQLite_SQLiteCursor_columnDoubleValue(JNIEnv *env, jobj
 	return sqlite3_column_double(handle, columnIndex);
 }
 
-jstring Java_org_telegram_SQLite_SQLiteCursor_columnStringValue(JNIEnv *env, jobject object, int statementHandle, int columnIndex) {
+jstring Java_org_telepatch_SQLite_SQLiteCursor_columnStringValue(JNIEnv *env, jobject object, int statementHandle, int columnIndex) {
 	sqlite3_stmt *handle = (sqlite3_stmt *)statementHandle;
 	const char *str = sqlite3_column_text(handle, columnIndex);
 	if (str != 0) {
@@ -47,7 +47,7 @@ jstring Java_org_telegram_SQLite_SQLiteCursor_columnStringValue(JNIEnv *env, job
 	return 0;
 }
 
-jbyteArray Java_org_telegram_SQLite_SQLiteCursor_columnByteArrayValue(JNIEnv *env, jobject object, int statementHandle, int columnIndex) {
+jbyteArray Java_org_telepatch_SQLite_SQLiteCursor_columnByteArrayValue(JNIEnv *env, jobject object, int statementHandle, int columnIndex) {
     sqlite3_stmt *handle = (sqlite3_stmt *)statementHandle;
 	void *buf = sqlite3_column_blob(handle, columnIndex);
 	int length = sqlite3_column_bytes(handle, columnIndex);
@@ -59,11 +59,11 @@ jbyteArray Java_org_telegram_SQLite_SQLiteCursor_columnByteArrayValue(JNIEnv *en
 	return 0;
 }
 
-int Java_org_telegram_SQLite_SQLiteCursor_columnByteArrayLength(JNIEnv *env, jobject object, int statementHandle, int columnIndex) {
+int Java_org_telepatch_SQLite_SQLiteCursor_columnByteArrayLength(JNIEnv *env, jobject object, int statementHandle, int columnIndex) {
 	return sqlite3_column_bytes((sqlite3_stmt *)statementHandle, columnIndex);
 }
 
-int Java_org_telegram_SQLite_SQLiteCursor_columnByteBufferValue(JNIEnv *env, jobject object, int statementHandle, int columnIndex, jobject buffer) {
+int Java_org_telepatch_SQLite_SQLiteCursor_columnByteBufferValue(JNIEnv *env, jobject object, int statementHandle, int columnIndex, jobject buffer) {
     if (!buffer) {
         return 0;
     }
diff --git a/TMessagesProj/jni/sqlite_database.c b/TMessagesProj/jni/sqlite_database.c
index a249cff43..48223aa2c 100755
--- a/TMessagesProj/jni/sqlite_database.c
+++ b/TMessagesProj/jni/sqlite_database.c
@@ -1,6 +1,6 @@
 #include "sqlite.h"
 
-void Java_org_telegram_SQLite_SQLiteDatabase_closedb(JNIEnv *env, jobject object, int sqliteHandle) {
+void Java_org_telepatch_SQLite_SQLiteDatabase_closedb(JNIEnv *env, jobject object, int sqliteHandle) {
 	sqlite3 *handle = (sqlite3 *)sqliteHandle;
 	int err = sqlite3_close(handle);
 	if (SQLITE_OK != err) {
@@ -8,17 +8,17 @@ void Java_org_telegram_SQLite_SQLiteDatabase_closedb(JNIEnv *env, jobject object
 	}
 }
 
-void Java_org_telegram_SQLite_SQLiteDatabase_beginTransaction(JNIEnv *env, jobject object, int sqliteHandle) {
+void Java_org_telepatch_SQLite_SQLiteDatabase_beginTransaction(JNIEnv *env, jobject object, int sqliteHandle) {
     sqlite3 *handle = (sqlite3 *)sqliteHandle;
     sqlite3_exec(handle, "BEGIN", 0, 0, 0);
 }
 
-void Java_org_telegram_SQLite_SQLiteDatabase_commitTransaction(JNIEnv *env, jobject object, int sqliteHandle) {
+void Java_org_telepatch_SQLite_SQLiteDatabase_commitTransaction(JNIEnv *env, jobject object, int sqliteHandle) {
     sqlite3 *handle = (sqlite3 *)sqliteHandle;
     sqlite3_exec(handle, "COMMIT", 0, 0, 0);
 }
 
-int Java_org_telegram_SQLite_SQLiteDatabase_opendb(JNIEnv *env, jobject object, jstring fileName, jstring tempDir) {
+int Java_org_telepatch_SQLite_SQLiteDatabase_opendb(JNIEnv *env, jobject object, jstring fileName, jstring tempDir) {
     char const *fileNameStr = (*env)->GetStringUTFChars(env, fileName, 0);
     char const *tempDirStr = (*env)->GetStringUTFChars(env, tempDir, 0);
     
diff --git a/TMessagesProj/jni/sqlite_statement.c b/TMessagesProj/jni/sqlite_statement.c
index 1090de3db..b84b4e844 100755
--- a/TMessagesProj/jni/sqlite_statement.c
+++ b/TMessagesProj/jni/sqlite_statement.c
@@ -3,12 +3,12 @@
 jfieldID queryArgsCountField;
 
 jint sqliteOnJNILoad(JavaVM *vm, void *reserved, JNIEnv *env) {
-	jclass class = (*env)->FindClass(env, "org/telegram/SQLite/SQLitePreparedStatement");
+	jclass class = (*env)->FindClass(env, "org/telepatch/SQLite/SQLitePreparedStatement");
 	queryArgsCountField = (*env)->GetFieldID(env, class, "queryArgsCount", "I");
 	return JNI_VERSION_1_4;
 }
 
-int Java_org_telegram_SQLite_SQLitePreparedStatement_step(JNIEnv* env, jobject object, int statementHandle) {
+int Java_org_telepatch_SQLite_SQLitePreparedStatement_step(JNIEnv* env, jobject object, int statementHandle) {
 	sqlite3_stmt *handle = (sqlite3_stmt *)statementHandle;
     
     int errcode = sqlite3_step(handle);
@@ -22,7 +22,7 @@ int Java_org_telegram_SQLite_SQLitePreparedStatement_step(JNIEnv* env, jobject o
 	throw_sqlite3_exception(env, sqlite3_db_handle(handle), errcode);
 }
 
-int Java_org_telegram_SQLite_SQLitePreparedStatement_prepare(JNIEnv *env, jobject object, int sqliteHandle, jstring sql) {
+int Java_org_telepatch_SQLite_SQLitePreparedStatement_prepare(JNIEnv *env, jobject object, int sqliteHandle, jstring sql) {
 	sqlite3* handle = (sqlite3 *)sqliteHandle;
 
     char const *sqlStr = (*env)->GetStringUTFChars(env, sql, 0);
@@ -44,7 +44,7 @@ int Java_org_telegram_SQLite_SQLitePreparedStatement_prepare(JNIEnv *env, jobjec
     return (int)stmt_handle;
 }
 
-void Java_org_telegram_SQLite_SQLitePreparedStatement_reset(JNIEnv *env, jobject object, int statementHandle) {
+void Java_org_telepatch_SQLite_SQLitePreparedStatement_reset(JNIEnv *env, jobject object, int statementHandle) {
 	sqlite3_stmt *handle = (sqlite3_stmt *)statementHandle;
 
 	int errcode = sqlite3_reset(handle);
@@ -53,7 +53,7 @@ void Java_org_telegram_SQLite_SQLitePreparedStatement_reset(JNIEnv *env, jobject
     }
 }
 
-void Java_org_telegram_SQLite_SQLitePreparedStatement_finalize(JNIEnv *env, jobject object, int statementHandle) {
+void Java_org_telepatch_SQLite_SQLitePreparedStatement_finalize(JNIEnv *env, jobject object, int statementHandle) {
 	sqlite3_stmt *handle = (sqlite3_stmt *)statementHandle;
 
 	int errcode = sqlite3_finalize (handle);
@@ -62,7 +62,7 @@ void Java_org_telegram_SQLite_SQLitePreparedStatement_finalize(JNIEnv *env, jobj
     }
 }
 
-void Java_org_telegram_SQLite_SQLitePreparedStatement_bindByteBuffer(JNIEnv *env, jobject object, int statementHandle, int index, jobject value, int length) {
+void Java_org_telepatch_SQLite_SQLitePreparedStatement_bindByteBuffer(JNIEnv *env, jobject object, int statementHandle, int index, jobject value, int length) {
 	sqlite3_stmt *handle = (sqlite3_stmt *)statementHandle;
     jbyte *buf = (*env)->GetDirectBufferAddress(env, value);
     
@@ -72,7 +72,7 @@ void Java_org_telegram_SQLite_SQLitePreparedStatement_bindByteBuffer(JNIEnv *env
     }
 }
 
-void Java_org_telegram_SQLite_SQLitePreparedStatement_bindString(JNIEnv *env, jobject object, int statementHandle, int index, jstring value) {
+void Java_org_telepatch_SQLite_SQLitePreparedStatement_bindString(JNIEnv *env, jobject object, int statementHandle, int index, jstring value) {
 	sqlite3_stmt *handle = (sqlite3_stmt*)statementHandle;
 
 	char const *valueStr = (*env)->GetStringUTFChars(env, value, 0);
@@ -87,7 +87,7 @@ void Java_org_telegram_SQLite_SQLitePreparedStatement_bindString(JNIEnv *env, jo
     }
 }
 
-void Java_org_telegram_SQLite_SQLitePreparedStatement_bindInt(JNIEnv *env, jobject object, int statementHandle, int index, int value) {
+void Java_org_telepatch_SQLite_SQLitePreparedStatement_bindInt(JNIEnv *env, jobject object, int statementHandle, int index, int value) {
 	sqlite3_stmt *handle = (sqlite3_stmt*)statementHandle;
 
 	int errcode = sqlite3_bind_int(handle, index, value);
@@ -96,7 +96,7 @@ void Java_org_telegram_SQLite_SQLitePreparedStatement_bindInt(JNIEnv *env, jobje
     }
 }
 
-void Java_org_telegram_SQLite_SQLitePreparedStatement_bindLong(JNIEnv *env, jobject object, int statementHandle, int index, long long value) {
+void Java_org_telepatch_SQLite_SQLitePreparedStatement_bindLong(JNIEnv *env, jobject object, int statementHandle, int index, long long value) {
 	sqlite3_stmt *handle = (sqlite3_stmt*)statementHandle;
     
 	int errcode = sqlite3_bind_int64(handle, index, value);
@@ -105,7 +105,7 @@ void Java_org_telegram_SQLite_SQLitePreparedStatement_bindLong(JNIEnv *env, jobj
     }
 }
 
-void Java_org_telegram_SQLite_SQLitePreparedStatement_bindDouble(JNIEnv* env, jobject object, int statementHandle, int index, double value) {
+void Java_org_telepatch_SQLite_SQLitePreparedStatement_bindDouble(JNIEnv* env, jobject object, int statementHandle, int index, double value) {
 	sqlite3_stmt *handle = (sqlite3_stmt*)statementHandle;
 
 	int errcode = sqlite3_bind_double(handle, index, value);
@@ -114,7 +114,7 @@ void Java_org_telegram_SQLite_SQLitePreparedStatement_bindDouble(JNIEnv* env, jo
     }
 }
 
-void Java_org_telegram_SQLite_SQLitePreparedStatement_bindNull(JNIEnv* env, jobject object, int statementHandle, int index) {
+void Java_org_telepatch_SQLite_SQLitePreparedStatement_bindNull(JNIEnv* env, jobject object, int statementHandle, int index) {
 	sqlite3_stmt *handle = (sqlite3_stmt*)statementHandle;
 
 	int errcode = sqlite3_bind_null(handle, index);
diff --git a/TMessagesProj/jni/video.c b/TMessagesProj/jni/video.c
index 90c3410e7..75fb48336 100644
--- a/TMessagesProj/jni/video.c
+++ b/TMessagesProj/jni/video.c
@@ -66,7 +66,7 @@ int isSemiPlanarYUV(int colorFormat) {
     }
 }
 
-JNIEXPORT int Java_org_telegram_messenger_Utilities_convertVideoFrame(JNIEnv *env, jclass class, jobject src, jobject dest, int destFormat, int width, int height, int padding, int swap) {
+JNIEXPORT int Java_org_telepatch_messenger_Utilities_convertVideoFrame(JNIEnv *env, jclass class, jobject src, jobject dest, int destFormat, int width, int height, int padding, int swap) {
     if (!src || !dest || !destFormat) {
         return 0;
     }
diff --git a/TMessagesProj/libs/armeabi-v7a/libtmessages.so b/TMessagesProj/libs/armeabi-v7a/libtmessages.so
index 7eb3f14a8..2b18d50bc 100755
Binary files a/TMessagesProj/libs/armeabi-v7a/libtmessages.so and b/TMessagesProj/libs/armeabi-v7a/libtmessages.so differ
diff --git a/TMessagesProj/libs/armeabi/libtmessages.so b/TMessagesProj/libs/armeabi/libtmessages.so
index f4eb4a87f..1bdfa9a08 100755
Binary files a/TMessagesProj/libs/armeabi/libtmessages.so and b/TMessagesProj/libs/armeabi/libtmessages.so differ
diff --git a/TMessagesProj/libs/x86/libtmessages.so b/TMessagesProj/libs/x86/libtmessages.so
index 45ba4cace..08335d35a 100755
Binary files a/TMessagesProj/libs/x86/libtmessages.so and b/TMessagesProj/libs/x86/libtmessages.so differ
diff --git a/TMessagesProj/src/.DS_Store b/TMessagesProj/src/.DS_Store
new file mode 100644
index 000000000..0a24dc3c3
Binary files /dev/null and b/TMessagesProj/src/.DS_Store differ
diff --git a/TMessagesProj/src/main/.DS_Store b/TMessagesProj/src/main/.DS_Store
new file mode 100644
index 000000000..b8d9580f3
Binary files /dev/null and b/TMessagesProj/src/main/.DS_Store differ
diff --git a/TMessagesProj/src/main/AndroidManifest.xml b/TMessagesProj/src/main/AndroidManifest.xml
index b6a7aa8a3..df95bd1b0 100644
--- a/TMessagesProj/src/main/AndroidManifest.xml
+++ b/TMessagesProj/src/main/AndroidManifest.xml
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
-    package="org.telegram.messenger"
+    package="org.telepatch.messenger"
     android:installLocation="auto">
 
     <supports-screens android:anyDensity="true"
@@ -45,12 +45,12 @@
         android:icon="@drawable/ic_launcher"
         android:label="@string/AppName"
         android:theme="@style/Theme.TMessages.Start"
-        android:name="org.telegram.ui.ApplicationLoader"
+        android:name="org.telepatch.ui.ApplicationLoader"
         android:hardwareAccelerated="true"
         android:largeHeap="true">
 
         <activity
-            android:name="org.telegram.ui.LaunchActivity"
+            android:name="org.telepatch.ui.LaunchActivity"
             android:windowSoftInputMode="adjustResize"
             android:hardwareAccelerated="true"
             android:launchMode="singleTask"
@@ -93,15 +93,15 @@
             <intent-filter>
                 <action android:name="android.intent.action.VIEW"/>
                 <category android:name="android.intent.category.DEFAULT"/>
-                <data android:mimeType="vnd.android.cursor.item/vnd.org.telegram.messenger.android.profile"/>
+                <data android:mimeType="vnd.android.cursor.item/vnd.org.telepatch.messenger.android.profile"/>
             </intent-filter>
         </activity>
         <activity
-            android:name="org.telegram.ui.IntroActivity"
+            android:name="org.telepatch.ui.IntroActivity"
             android:configChanges="keyboard|keyboardHidden|orientation|screenSize">
         </activity>
         <activity
-            android:name="org.telegram.ui.PopupNotificationActivity"
+            android:name="org.telepatch.ui.PopupNotificationActivity"
             android:configChanges="keyboard|keyboardHidden|navigation|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"
             android:excludeFromRecents="true"
             android:launchMode="singleTask"
@@ -110,13 +110,13 @@
             android:theme="@style/Theme.TMessages.PopupNotification">
         </activity>
 
-        <receiver android:name="org.telegram.android.SmsListener">
+        <receiver android:name="org.telepatch.android.SmsListener">
             <intent-filter>
                 <action android:name="android.provider.Telephony.SMS_RECEIVED" />
             </intent-filter>
         </receiver>
 
-        <service android:name="org.telegram.android.AuthenticatorService"
+        <service android:name="org.telepatch.android.AuthenticatorService"
             android:exported="true">
             <intent-filter>
                 <action android:name="android.accounts.AccountAuthenticator"/>
@@ -125,7 +125,7 @@
                 android:resource="@xml/auth"/>
         </service>
 
-        <service android:name="org.telegram.android.ContactsSyncAdapterService"
+        <service android:name="org.telepatch.android.ContactsSyncAdapterService"
             android:exported="true">
             <intent-filter>
                 <action android:name="android.content.SyncAdapter" />
@@ -136,18 +136,18 @@
                 android:resource="@xml/contacts" />
         </service>
 
-        <service android:name="org.telegram.android.NotificationsService" android:enabled="true"/>
-        <service android:name="org.telegram.android.NotificationRepeat" android:exported="false"/>
-        <service android:name="org.telegram.android.VideoEncodingService" android:enabled="true"/>
+        <service android:name="org.telepatch.android.NotificationsService" android:enabled="true"/>
+        <service android:name="org.telepatch.android.NotificationRepeat" android:exported="false"/>
+        <service android:name="org.telepatch.android.VideoEncodingService" android:enabled="true"/>
 
-        <receiver android:name="org.telegram.android.AppStartReceiver" android:enabled="true">
+        <receiver android:name="org.telepatch.android.AppStartReceiver" android:enabled="true">
             <intent-filter>
-                <action android:name="org.telegram.start" />
+                <action android:name="org.telepatch.start" />
                 <action android:name="android.intent.action.BOOT_COMPLETED" />
             </intent-filter>
         </receiver>
 
-        <receiver android:name="org.telegram.android.WearReplyReceiver" android:enabled="true"/>
+        <receiver android:name="org.telepatch.android.WearReplyReceiver" android:enabled="true"/>
 
         <uses-library android:name="com.sec.android.app.multiwindow" android:required="false" />
         <meta-data android:name="com.sec.android.support.multiwindow" android:value="true" />
diff --git a/TMessagesProj/src/main/java/.DS_Store b/TMessagesProj/src/main/java/.DS_Store
new file mode 100644
index 000000000..639db1e94
Binary files /dev/null and b/TMessagesProj/src/main/java/.DS_Store differ
diff --git a/TMessagesProj/src/main/java/jawnae/pyronet/ByteStream.java b/TMessagesProj/src/main/java/jawnae/pyronet/ByteStream.java
index 39966ac18..d066700b9 100755
--- a/TMessagesProj/src/main/java/jawnae/pyronet/ByteStream.java
+++ b/TMessagesProj/src/main/java/jawnae/pyronet/ByteStream.java
@@ -18,8 +18,8 @@
 
 package jawnae.pyronet;
 
-import org.telegram.messenger.BuffersStorage;
-import org.telegram.messenger.ByteBufferDesc;
+import org.telepatch.messenger.BuffersStorage;
+import org.telepatch.messenger.ByteBufferDesc;
 
 import java.nio.ByteBuffer;
 import java.util.ArrayList;
diff --git a/TMessagesProj/src/main/java/jawnae/pyronet/PyroClient.java b/TMessagesProj/src/main/java/jawnae/pyronet/PyroClient.java
index 1044c9c6e..af1d64469 100755
--- a/TMessagesProj/src/main/java/jawnae/pyronet/PyroClient.java
+++ b/TMessagesProj/src/main/java/jawnae/pyronet/PyroClient.java
@@ -18,7 +18,7 @@
 
 package jawnae.pyronet;
 
-import org.telegram.messenger.ByteBufferDesc;
+import org.telepatch.messenger.ByteBufferDesc;
 
 import java.io.EOFException;
 import java.io.IOException;
diff --git a/TMessagesProj/src/main/java/jawnae/pyronet/PyroClientAdapter.java b/TMessagesProj/src/main/java/jawnae/pyronet/PyroClientAdapter.java
index f6fe88c07..9b41c111f 100755
--- a/TMessagesProj/src/main/java/jawnae/pyronet/PyroClientAdapter.java
+++ b/TMessagesProj/src/main/java/jawnae/pyronet/PyroClientAdapter.java
@@ -18,8 +18,8 @@
 
 package jawnae.pyronet;
 
-import org.telegram.messenger.BuildVars;
-import org.telegram.messenger.FileLog;
+import org.telepatch.messenger.BuildVars;
+import org.telepatch.messenger.FileLog;
 
 import java.io.IOException;
 import java.nio.ByteBuffer;
diff --git a/TMessagesProj/src/main/java/org/.DS_Store b/TMessagesProj/src/main/java/org/.DS_Store
new file mode 100644
index 000000000..78b473502
Binary files /dev/null and b/TMessagesProj/src/main/java/org/.DS_Store differ
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/BuildVars.java b/TMessagesProj/src/main/java/org/telegram/messenger/BuildVars.java
deleted file mode 100644
index a327cbfd6..000000000
--- a/TMessagesProj/src/main/java/org/telegram/messenger/BuildVars.java
+++ /dev/null
@@ -1,18 +0,0 @@
-/*
- * This is the source code of Telegram for Android v. 1.3.x.
- * It is licensed under GNU GPL v. 2 or later.
- * You should have received a copy of the license in this archive (see LICENSE).
- *
- * Copyright Nikolai Kudashov, 2013-2014.
- */
-
-package org.telegram.messenger;
-
-public class BuildVars {
-    public static boolean DEBUG_VERSION = false;
-    public static int APP_ID = 0; //obtaion your own APP_ID at https://core.telegram.org/api/obtaining_api_id
-    public static String APP_HASH = ""; //obtaion your own APP_HASH at https://core.telegram.org/api/obtaining_api_id
-    public static String HOCKEY_APP_HASH = "your-hockeyapp-api-key-here";
-    public static String GCM_SENDER_ID = "760348033672";
-    public static String SEND_LOGS_EMAIL = "email@gmail.com";
-}
diff --git a/TMessagesProj/src/main/java/org/telepatch/.DS_Store b/TMessagesProj/src/main/java/org/telepatch/.DS_Store
new file mode 100644
index 000000000..b9b027bbb
Binary files /dev/null and b/TMessagesProj/src/main/java/org/telepatch/.DS_Store differ
diff --git a/TMessagesProj/src/main/java/org/telegram/PhoneFormat/CallingCodeInfo.java b/TMessagesProj/src/main/java/org/telepatch/PhoneFormat/CallingCodeInfo.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/PhoneFormat/CallingCodeInfo.java
rename to TMessagesProj/src/main/java/org/telepatch/PhoneFormat/CallingCodeInfo.java
index 666d508a0..e59b106a8 100644
--- a/TMessagesProj/src/main/java/org/telegram/PhoneFormat/CallingCodeInfo.java
+++ b/TMessagesProj/src/main/java/org/telepatch/PhoneFormat/CallingCodeInfo.java
@@ -22,7 +22,7 @@
 // OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
-package org.telegram.PhoneFormat;
+package org.telepatch.PhoneFormat;
 
 import java.util.ArrayList;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/PhoneFormat/PhoneFormat.java b/TMessagesProj/src/main/java/org/telepatch/PhoneFormat/PhoneFormat.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/PhoneFormat/PhoneFormat.java
rename to TMessagesProj/src/main/java/org/telepatch/PhoneFormat/PhoneFormat.java
index 512b962a0..38c360e85 100644
--- a/TMessagesProj/src/main/java/org/telegram/PhoneFormat/PhoneFormat.java
+++ b/TMessagesProj/src/main/java/org/telepatch/PhoneFormat/PhoneFormat.java
@@ -22,9 +22,9 @@
 // OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
-package org.telegram.PhoneFormat;
+package org.telepatch.PhoneFormat;
 
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.ui.ApplicationLoader;
 
 import java.io.ByteArrayOutputStream;
 import java.io.InputStream;
diff --git a/TMessagesProj/src/main/java/org/telegram/PhoneFormat/PhoneRule.java b/TMessagesProj/src/main/java/org/telepatch/PhoneFormat/PhoneRule.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/PhoneFormat/PhoneRule.java
rename to TMessagesProj/src/main/java/org/telepatch/PhoneFormat/PhoneRule.java
index 3a1513d09..dbbfe454c 100644
--- a/TMessagesProj/src/main/java/org/telegram/PhoneFormat/PhoneRule.java
+++ b/TMessagesProj/src/main/java/org/telepatch/PhoneFormat/PhoneRule.java
@@ -22,7 +22,7 @@
 // OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
-package org.telegram.PhoneFormat;
+package org.telepatch.PhoneFormat;
 
 public class PhoneRule {
     public int minVal;
diff --git a/TMessagesProj/src/main/java/org/telegram/PhoneFormat/RuleSet.java b/TMessagesProj/src/main/java/org/telepatch/PhoneFormat/RuleSet.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/PhoneFormat/RuleSet.java
rename to TMessagesProj/src/main/java/org/telepatch/PhoneFormat/RuleSet.java
index 5b7ecacf1..7122c9351 100644
--- a/TMessagesProj/src/main/java/org/telegram/PhoneFormat/RuleSet.java
+++ b/TMessagesProj/src/main/java/org/telepatch/PhoneFormat/RuleSet.java
@@ -22,7 +22,7 @@
 // OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
-package org.telegram.PhoneFormat;
+package org.telepatch.PhoneFormat;
 
 import java.util.ArrayList;
 import java.util.regex.Matcher;
diff --git a/TMessagesProj/src/main/java/org/telegram/SQLite/SQLiteCursor.java b/TMessagesProj/src/main/java/org/telepatch/SQLite/SQLiteCursor.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/SQLite/SQLiteCursor.java
rename to TMessagesProj/src/main/java/org/telepatch/SQLite/SQLiteCursor.java
index 48bd87778..20404805e 100755
--- a/TMessagesProj/src/main/java/org/telegram/SQLite/SQLiteCursor.java
+++ b/TMessagesProj/src/main/java/org/telepatch/SQLite/SQLiteCursor.java
@@ -1,14 +1,14 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.SQLite;
+package org.telepatch.SQLite;
 
-import org.telegram.messenger.FileLog;
+import org.telepatch.messenger.FileLog;
 
 import java.nio.ByteBuffer;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/SQLite/SQLiteDatabase.java b/TMessagesProj/src/main/java/org/telepatch/SQLite/SQLiteDatabase.java
similarity index 93%
rename from TMessagesProj/src/main/java/org/telegram/SQLite/SQLiteDatabase.java
rename to TMessagesProj/src/main/java/org/telepatch/SQLite/SQLiteDatabase.java
index 451673154..47c56047d 100755
--- a/TMessagesProj/src/main/java/org/telegram/SQLite/SQLiteDatabase.java
+++ b/TMessagesProj/src/main/java/org/telepatch/SQLite/SQLiteDatabase.java
@@ -1,15 +1,15 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.SQLite;
+package org.telepatch.SQLite;
 
-import org.telegram.messenger.FileLog;
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.ui.ApplicationLoader;
 
 public class SQLiteDatabase {
 	private final int sqliteHandle;
diff --git a/TMessagesProj/src/main/java/org/telegram/SQLite/SQLiteException.java b/TMessagesProj/src/main/java/org/telepatch/SQLite/SQLiteException.java
similarity index 85%
rename from TMessagesProj/src/main/java/org/telegram/SQLite/SQLiteException.java
rename to TMessagesProj/src/main/java/org/telepatch/SQLite/SQLiteException.java
index d27cfb6a0..03ab075c3 100755
--- a/TMessagesProj/src/main/java/org/telegram/SQLite/SQLiteException.java
+++ b/TMessagesProj/src/main/java/org/telepatch/SQLite/SQLiteException.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.SQLite;
+package org.telepatch.SQLite;
 
 public class SQLiteException extends Exception {
 	private static final long serialVersionUID = -2398298479089615621L;
diff --git a/TMessagesProj/src/main/java/org/telegram/SQLite/SQLiteNoRowException.java b/TMessagesProj/src/main/java/org/telepatch/SQLite/SQLiteNoRowException.java
similarity index 76%
rename from TMessagesProj/src/main/java/org/telegram/SQLite/SQLiteNoRowException.java
rename to TMessagesProj/src/main/java/org/telepatch/SQLite/SQLiteNoRowException.java
index 042f0070f..d9b3b85b4 100755
--- a/TMessagesProj/src/main/java/org/telegram/SQLite/SQLiteNoRowException.java
+++ b/TMessagesProj/src/main/java/org/telepatch/SQLite/SQLiteNoRowException.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.SQLite;
+package org.telepatch.SQLite;
 
 public class SQLiteNoRowException extends Exception {
 	private static final long serialVersionUID = 4098095358028103112L;
diff --git a/TMessagesProj/src/main/java/org/telegram/SQLite/SQLitePreparedStatement.java b/TMessagesProj/src/main/java/org/telepatch/SQLite/SQLitePreparedStatement.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/SQLite/SQLitePreparedStatement.java
rename to TMessagesProj/src/main/java/org/telepatch/SQLite/SQLitePreparedStatement.java
index 6335d93b8..2812ad040 100755
--- a/TMessagesProj/src/main/java/org/telegram/SQLite/SQLitePreparedStatement.java
+++ b/TMessagesProj/src/main/java/org/telepatch/SQLite/SQLitePreparedStatement.java
@@ -1,14 +1,14 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.SQLite;
+package org.telepatch.SQLite;
 
-import org.telegram.messenger.FileLog;
+import org.telepatch.messenger.FileLog;
 
 import java.nio.ByteBuffer;
 
diff --git a/TMessagesProj/src/main/java/org/telepatch/android/.DS_Store b/TMessagesProj/src/main/java/org/telepatch/android/.DS_Store
new file mode 100644
index 000000000..2bf5c4576
Binary files /dev/null and b/TMessagesProj/src/main/java/org/telepatch/android/.DS_Store differ
diff --git a/TMessagesProj/src/main/java/org/telegram/android/AndroidUtilities.java b/TMessagesProj/src/main/java/org/telepatch/android/AndroidUtilities.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/android/AndroidUtilities.java
rename to TMessagesProj/src/main/java/org/telepatch/android/AndroidUtilities.java
index 3b346fd00..930cf68ad 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/AndroidUtilities.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/AndroidUtilities.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.app.Activity;
 import android.app.AlertDialog;
@@ -26,12 +26,12 @@
 import android.widget.EditText;
 import android.widget.TextView;
 
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.R;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.UserConfig;
-import org.telegram.ui.ApplicationLoader;
-import org.telegram.ui.Views.NumberPicker;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.ui.ApplicationLoader;
+import org.telepatch.ui.Views.NumberPicker;
 
 import java.io.File;
 import java.lang.reflect.Field;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/AppStartReceiver.java b/TMessagesProj/src/main/java/org/telepatch/android/AppStartReceiver.java
similarity index 81%
rename from TMessagesProj/src/main/java/org/telegram/android/AppStartReceiver.java
rename to TMessagesProj/src/main/java/org/telepatch/android/AppStartReceiver.java
index a52ccccc4..c5a2d6193 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/AppStartReceiver.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/AppStartReceiver.java
@@ -1,18 +1,18 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.content.BroadcastReceiver;
 import android.content.Context;
 import android.content.Intent;
 
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.ui.ApplicationLoader;
 
 public class AppStartReceiver extends BroadcastReceiver {
     public void onReceive(Context context, Intent intent) {
diff --git a/TMessagesProj/src/main/java/org/telegram/android/AuthenticatorService.java b/TMessagesProj/src/main/java/org/telepatch/android/AuthenticatorService.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/android/AuthenticatorService.java
rename to TMessagesProj/src/main/java/org/telepatch/android/AuthenticatorService.java
index 1d9c4bdcc..ac7ed7ec1 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/AuthenticatorService.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/AuthenticatorService.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.accounts.AbstractAccountAuthenticator;
 import android.accounts.Account;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/ContactsController.java b/TMessagesProj/src/main/java/org/telepatch/android/ContactsController.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/android/ContactsController.java
rename to TMessagesProj/src/main/java/org/telepatch/android/ContactsController.java
index d6f71a5c4..5479f5378 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/ContactsController.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/ContactsController.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.accounts.Account;
 import android.accounts.AccountManager;
@@ -19,17 +19,17 @@
 import android.provider.ContactsContract;
 import android.util.SparseArray;
 
-import org.telegram.PhoneFormat.PhoneFormat;
-import org.telegram.messenger.BuildVars;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.R;
-import org.telegram.messenger.RPCRequest;
-import org.telegram.messenger.TLObject;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.UserConfig;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.PhoneFormat.PhoneFormat;
+import org.telepatch.messenger.BuildVars;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.RPCRequest;
+import org.telepatch.messenger.TLObject;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.ApplicationLoader;
 
 import java.util.ArrayList;
 import java.util.Collections;
@@ -120,7 +120,7 @@ public void cleanup() {
 
     public void checkAppAccount() {
         AccountManager am = AccountManager.get(ApplicationLoader.applicationContext);
-        Account[] accounts = am.getAccountsByType("org.telegram.account");
+        Account[] accounts = am.getAccountsByType("org.telepatch.account");
         boolean recreateAccount = false;
         if (UserConfig.isClientActivated()) {
             if (accounts.length == 1) {
@@ -145,7 +145,7 @@ public void checkAppAccount() {
             }
             if (UserConfig.isClientActivated()) {
                 try {
-                    currentAccount = new Account(UserConfig.getCurrentUser().phone, "org.telegram.account");
+                    currentAccount = new Account(UserConfig.getCurrentUser().phone, "org.telepatch.account");
                     am.addAccountExplicitly(currentAccount, "", null);
                 } catch (Exception e) {
                     FileLog.e("tmessages", e);
@@ -157,7 +157,7 @@ public void checkAppAccount() {
     public void deleteAllAppAccounts() {
         try {
             AccountManager am = AccountManager.get(ApplicationLoader.applicationContext);
-            Account[] accounts = am.getAccountsByType("org.telegram.account");
+            Account[] accounts = am.getAccountsByType("org.telepatch.account");
             for (Account c : accounts) {
                 am.removeAccount(c, null, null);
             }
@@ -412,12 +412,12 @@ public void run() {
                 /*if (schedule) {
                     try {
                         AccountManager am = AccountManager.get(ApplicationLoader.applicationContext);
-                        Account[] accounts = am.getAccountsByType("org.telegram.account");
+                        Account[] accounts = am.getAccountsByType("org.telepatch.account");
                         boolean recreateAccount = false;
                         if (UserConfig.isClientActivated()) {
                             if (accounts.length != 1) {
                                 FileLog.e("tmessages", "detected account deletion!");
-                                currentAccount = new Account(UserConfig.getCurrentUser().phone, "org.telegram.account");
+                                currentAccount = new Account(UserConfig.getCurrentUser().phone, "org.telepatch.account");
                                 am.addAccountExplicitly(currentAccount, "", null);
                                 AndroidUtilities.RunOnUIThread(new Runnable() {
                                     @Override
@@ -1381,9 +1381,9 @@ public long addContactToPhoneBook(TLRPC.User user, boolean check) {
 
         builder = ContentProviderOperation.newInsert(ContactsContract.Data.CONTENT_URI);
         builder.withValueBackReference(ContactsContract.Data.RAW_CONTACT_ID, 0);
-        builder.withValue(ContactsContract.Data.MIMETYPE, "vnd.android.cursor.item/vnd.org.telegram.messenger.android.profile");
+        builder.withValue(ContactsContract.Data.MIMETYPE, "vnd.android.cursor.item/vnd.org.telepatch.messenger.android.profile");
         builder.withValue(ContactsContract.Data.DATA1, "+" + user.phone);
-        builder.withValue(ContactsContract.Data.DATA2, "Telegram Profile");
+        builder.withValue(ContactsContract.Data.DATA2, "telepatch Profile");
         builder.withValue(ContactsContract.Data.DATA3, "+" + user.phone);
         builder.withValue(ContactsContract.Data.DATA4, user.id);
         query.add(builder.build());
diff --git a/TMessagesProj/src/main/java/org/telegram/android/ContactsSyncAdapterService.java b/TMessagesProj/src/main/java/org/telepatch/android/ContactsSyncAdapterService.java
similarity index 90%
rename from TMessagesProj/src/main/java/org/telegram/android/ContactsSyncAdapterService.java
rename to TMessagesProj/src/main/java/org/telepatch/android/ContactsSyncAdapterService.java
index 852a84838..15069350d 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/ContactsSyncAdapterService.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/ContactsSyncAdapterService.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.accounts.Account;
 import android.accounts.OperationCanceledException;
@@ -19,7 +19,7 @@
 import android.os.Bundle;
 import android.os.IBinder;
 
-import org.telegram.messenger.FileLog;
+import org.telepatch.messenger.FileLog;
 
 public class ContactsSyncAdapterService extends Service {
     private static SyncAdapterImpl sSyncAdapter = null;
@@ -60,6 +60,6 @@ private SyncAdapterImpl getSyncAdapter() {
 
     private static void performSync(Context context, Account account, Bundle extras, String authority, ContentProviderClient provider, SyncResult syncResult)
             throws OperationCanceledException {
-        FileLog.d("telegram", "performSync: " + account.toString());
+        FileLog.d("telepatch", "performSync: " + account.toString());
     }
 }
diff --git a/TMessagesProj/src/main/java/org/telegram/android/DownloadObject.java b/TMessagesProj/src/main/java/org/telepatch/android/DownloadObject.java
similarity index 67%
rename from TMessagesProj/src/main/java/org/telegram/android/DownloadObject.java
rename to TMessagesProj/src/main/java/org/telepatch/android/DownloadObject.java
index f0de07a35..4f494a46c 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/DownloadObject.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/DownloadObject.java
@@ -1,14 +1,14 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
-import org.telegram.messenger.TLObject;
+import org.telepatch.messenger.TLObject;
 
 public class DownloadObject {
     public TLObject object;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/Emoji.java b/TMessagesProj/src/main/java/org/telepatch/android/Emoji.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/android/Emoji.java
rename to TMessagesProj/src/main/java/org/telepatch/android/Emoji.java
index 6093f75f8..9c1d99e67 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/Emoji.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/Emoji.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import java.io.File;
 import java.io.InputStream;
@@ -26,9 +26,9 @@
 import android.view.ViewGroup;
 import android.widget.TextView;
 
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.ApplicationLoader;
 
 public class Emoji {
 	private static HashMap<Long, DrawableInfo> rects = new HashMap<Long, DrawableInfo>();
diff --git a/TMessagesProj/src/main/java/org/telegram/android/FastDateFormat.java b/TMessagesProj/src/main/java/org/telepatch/android/FastDateFormat.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/android/FastDateFormat.java
rename to TMessagesProj/src/main/java/org/telepatch/android/FastDateFormat.java
index 0d0a029ae..003ed6fdd 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/FastDateFormat.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/FastDateFormat.java
@@ -1,11 +1,11 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
-package org.telegram.android;
+package org.telepatch.android;
 
 import java.io.IOException;
 import java.io.ObjectInputStream;
diff --git a/TMessagesProj/src/main/java/org/telepatch/android/FutureSearch.java b/TMessagesProj/src/main/java/org/telepatch/android/FutureSearch.java
new file mode 100644
index 000000000..aa1231091
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telepatch/android/FutureSearch.java
@@ -0,0 +1,72 @@
+package org.telepatch.android;
+
+import org.telepatch.messenger.TLRPC;
+
+import java.util.concurrent.CountDownLatch;
+import java.util.concurrent.ExecutionException;
+import java.util.concurrent.Future;
+import java.util.concurrent.TimeUnit;
+import java.util.concurrent.TimeoutException;
+
+public class FutureSearch implements Future<TLRPC.messages_Messages> {
+
+    private final CountDownLatch countDownLatch;
+    private volatile boolean cancelled = false;
+    private TLRPC.messages_Messages result = null;
+
+
+
+    public FutureSearch() {
+
+         countDownLatch = new CountDownLatch(1);
+
+
+    }
+   @Override
+    public boolean isCancelled() {
+        if (isDone()) {
+            return false;
+        } else {
+            countDownLatch.countDown();
+            cancelled = true;
+            return !isDone();
+        }
+    }
+
+    @Override
+    public boolean isDone() {
+        return countDownLatch.getCount() == 0;
+    }
+
+    @Override
+    public TLRPC.messages_Messages get() throws InterruptedException, ExecutionException {
+        countDownLatch.await();
+        return result;
+    }
+
+    @Override
+    public TLRPC.messages_Messages get(long l, TimeUnit timeUnit) throws InterruptedException, ExecutionException, TimeoutException {
+        countDownLatch.await(l, timeUnit);
+        return result;
+    }
+
+    public void onMessagesSearchResult(final TLRPC.messages_Messages result) {
+        if (result == null) {
+            cancel(true);
+        } else {
+            this.result = result;
+            countDownLatch.countDown();
+        }
+
+
+    }
+    @Override
+    public boolean cancel(boolean b) {
+        cancelled = b;
+        if (b == true) {
+            countDownLatch.countDown();
+        }
+        return b;
+    }
+
+    }
\ No newline at end of file
diff --git a/TMessagesProj/src/main/java/org/telegram/android/GcmBroadcastReceiver.java b/TMessagesProj/src/main/java/org/telepatch/android/GcmBroadcastReceiver.java
similarity index 92%
rename from TMessagesProj/src/main/java/org/telegram/android/GcmBroadcastReceiver.java
rename to TMessagesProj/src/main/java/org/telepatch/android/GcmBroadcastReceiver.java
index 04f282cb6..25d895cfe 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/GcmBroadcastReceiver.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/GcmBroadcastReceiver.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.app.Activity;
 import android.content.BroadcastReceiver;
@@ -14,9 +14,9 @@
 import android.content.Intent;
 
 import org.json.JSONObject;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLog;
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.ui.ApplicationLoader;
 
 public class GcmBroadcastReceiver extends BroadcastReceiver {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/android/ImageLoader.java b/TMessagesProj/src/main/java/org/telepatch/android/ImageLoader.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/android/ImageLoader.java
rename to TMessagesProj/src/main/java/org/telepatch/android/ImageLoader.java
index cdee9073b..96bde14a7 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/ImageLoader.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/ImageLoader.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.app.ActivityManager;
 import android.content.BroadcastReceiver;
@@ -25,13 +25,13 @@
 import android.os.ParcelFileDescriptor;
 import android.provider.MediaStore;
 
-import org.telegram.messenger.DispatchQueue;
-import org.telegram.messenger.FileLoader;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.UserConfig;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.messenger.DispatchQueue;
+import org.telepatch.messenger.FileLoader;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.ApplicationLoader;
 
 import java.io.ByteArrayOutputStream;
 import java.io.File;
@@ -66,7 +66,7 @@
     private int lastImageNum = 0;
     private long lastProgressUpdateTime = 0;
 
-    private File telegramPath = null;
+    private File telepatchPath = null;
 
     private class HttpTask extends AsyncTask<Void, Void, Boolean> {
 
@@ -553,8 +553,8 @@ public void fileDidLoaded(final String location, final File finalFile, final Fil
                     @Override
                     public void run() {
                         if (location != null) {
-                            if (MediaController.getInstance().canSaveToGallery() && telegramPath != null && finalFile != null && finalFile.exists() && (location.endsWith(".mp4") || location.endsWith(".jpg"))) {
-                                if (finalFile.toString().startsWith(telegramPath.toString())) {
+                            if (MediaController.getInstance().canSaveToGallery() && telepatchPath != null && finalFile != null && finalFile.exists() && (location.endsWith(".mp4") || location.endsWith(".jpg"))) {
+                                if (finalFile.toString().startsWith(telepatchPath.toString())) {
                                     Utilities.addMediaToGallery(finalFile.toString());
                                 }
                             }
@@ -639,8 +639,8 @@ public void run() {
 
         try {
             if (Environment.MEDIA_MOUNTED.equals(Environment.getExternalStorageState())) {
-                telegramPath = new File(Environment.getExternalStorageDirectory(), "Telegram");
-                telegramPath.mkdirs();
+                telepatchPath = new File(Environment.getExternalStorageDirectory(), "telepatch");
+                telepatchPath.mkdirs();
 
                 boolean canRename = false;
 
@@ -648,7 +648,7 @@ public void run() {
                     for (int a = 0; a < 5; a++) {
                         File srcFile = new File(cachePath, "temp.file");
                         srcFile.createNewFile();
-                        File dstFile = new File(telegramPath, "temp.file");
+                        File dstFile = new File(telepatchPath, "temp.file");
                         canRename = srcFile.renameTo(dstFile);
                         srcFile.delete();
                         dstFile.delete();
@@ -661,9 +661,9 @@ public void run() {
                 }
 
                 if (canRename) {
-                    if (telegramPath.isDirectory()) {
+                    if (telepatchPath.isDirectory()) {
                         try {
-                            File imagePath = new File(telegramPath, "Telegram Images");
+                            File imagePath = new File(telepatchPath, "telepatch Images");
                             imagePath.mkdir();
                             if (imagePath.isDirectory()) {
                                 mediaDirs.put(FileLoader.MEDIA_DIR_IMAGE, imagePath);
@@ -674,7 +674,7 @@ public void run() {
                         }
 
                         try {
-                            File videoPath = new File(telegramPath, "Telegram Video");
+                            File videoPath = new File(telepatchPath, "telepatch Video");
                             videoPath.mkdir();
                             if (videoPath.isDirectory()) {
                                 mediaDirs.put(FileLoader.MEDIA_DIR_VIDEO, videoPath);
@@ -685,7 +685,7 @@ public void run() {
                         }
 
                         try {
-                            File audioPath = new File(telegramPath, "Telegram Audio");
+                            File audioPath = new File(telepatchPath, "telepatch Audio");
                             audioPath.mkdir();
                             if (audioPath.isDirectory()) {
                                 new File(audioPath, ".nomedia").createNewFile();
@@ -697,7 +697,7 @@ public void run() {
                         }
 
                         try {
-                            File documentPath = new File(telegramPath, "Telegram Documents");
+                            File documentPath = new File(telepatchPath, "telepatch Documents");
                             documentPath.mkdir();
                             if (documentPath.isDirectory()) {
                                 new File(documentPath, ".nomedia").createNewFile();
diff --git a/TMessagesProj/src/main/java/org/telegram/android/ImageReceiver.java b/TMessagesProj/src/main/java/org/telepatch/android/ImageReceiver.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/android/ImageReceiver.java
rename to TMessagesProj/src/main/java/org/telepatch/android/ImageReceiver.java
index 415bbc5e4..c43168609 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/ImageReceiver.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/ImageReceiver.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.graphics.Bitmap;
 import android.graphics.BitmapShader;
@@ -20,9 +20,9 @@
 import android.graphics.drawable.Drawable;
 import android.view.View;
 
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.Utilities;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.Utilities;
 
 public class ImageReceiver {
     private TLRPC.FileLocation last_path = null;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/LocaleController.java b/TMessagesProj/src/main/java/org/telepatch/android/LocaleController.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/android/LocaleController.java
rename to TMessagesProj/src/main/java/org/telepatch/android/LocaleController.java
index 06a4cb05e..6bb844739 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/LocaleController.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/LocaleController.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.app.Activity;
 import android.content.BroadcastReceiver;
@@ -18,12 +18,12 @@
 import android.text.format.DateFormat;
 import android.util.Xml;
 
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.R;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.ApplicationLoader;
 import org.xmlpull.v1.XmlPullParser;
 
 import java.io.File;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/LruCache.java b/TMessagesProj/src/main/java/org/telepatch/android/LruCache.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/android/LruCache.java
rename to TMessagesProj/src/main/java/org/telepatch/android/LruCache.java
index 7455bbceb..2199b961c 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/LruCache.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/LruCache.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.graphics.drawable.BitmapDrawable;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/android/MediaController.java b/TMessagesProj/src/main/java/org/telepatch/android/MediaController.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/android/MediaController.java
rename to TMessagesProj/src/main/java/org/telepatch/android/MediaController.java
index ad08add77..72bf8b849 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/MediaController.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/MediaController.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.annotation.TargetApi;
 import android.app.Activity;
@@ -42,21 +42,21 @@
 import android.view.View;
 import android.view.WindowManager;
 
-import org.telegram.android.video.InputSurface;
-import org.telegram.android.video.MP4Builder;
-import org.telegram.android.video.Mp4Movie;
-import org.telegram.android.video.OutputSurface;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.DispatchQueue;
-import org.telegram.messenger.FileLoader;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.R;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.UserConfig;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.ApplicationLoader;
-import org.telegram.ui.Cells.ChatMediaCell;
-import org.telegram.ui.Views.GifDrawable;
+import org.telepatch.android.video.InputSurface;
+import org.telepatch.android.video.MP4Builder;
+import org.telepatch.android.video.Mp4Movie;
+import org.telepatch.android.video.OutputSurface;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.DispatchQueue;
+import org.telepatch.messenger.FileLoader;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.ApplicationLoader;
+import org.telepatch.ui.Cells.ChatMediaCell;
+import org.telepatch.ui.Views.GifDrawable;
 
 import java.io.File;
 import java.io.FileInputStream;
@@ -223,6 +223,10 @@ public PhotoEntry(int bucketId, int imageId, long dateTaken, String path, int or
     private int recordBufferSize;
     private boolean sendAfterDone;
 
+    //TODO miei campi
+    private boolean needsVibration = true;
+
+
     private DispatchQueue recordQueue;
     private DispatchQueue fileEncodingQueue;
     private Runnable recordRunnable = new Runnable() {
@@ -435,7 +439,13 @@ public void onReceive(Context context, Intent intent) {
             };
         }
     }
-
+//TODO metodi per sapere se deve vibrare o no per azioni multimediali (registrazione)
+    public void setNeedsVibration(boolean needs) {
+        needsVibration = needs;
+    }
+    public boolean needsVibration(){
+        return needsVibration;
+    }
     private void startProgressTimer() {
         synchronized (progressTimerSync) {
             if (progressTimer != null) {
@@ -1531,8 +1541,12 @@ public void run() {
                     stopRecordingInternal(false);
                 }
                 try {
-                    Vibrator v = (Vibrator) ApplicationLoader.applicationContext.getSystemService(Context.VIBRATOR_SERVICE);
-                    v.vibrate(20);
+                    if (needsVibration()) {
+                        Vibrator v = (Vibrator) ApplicationLoader.applicationContext.getSystemService(Context.VIBRATOR_SERVICE);
+                        v.vibrate(20);
+                    } else {
+                        setNeedsVibration(true);
+                    }
                 } catch (Exception e) {
                     FileLog.e("tmessages", e);
                 }
@@ -1815,10 +1829,10 @@ public void toggleSaveToGallery() {
 
     public void checkSaveToGalleryFiles() {
         try {
-            File telegramPath = new File(Environment.getExternalStorageDirectory(), "Telegram");
-            File imagePath = new File(telegramPath, "Telegram Images");
+            File telepatchPath = new File(Environment.getExternalStorageDirectory(), "telepatch");
+            File imagePath = new File(telepatchPath, "telepatch Images");
             imagePath.mkdir();
-            File videoPath = new File(telegramPath, "Telegram Video");
+            File videoPath = new File(telepatchPath, "telepatch Video");
             videoPath.mkdir();
 
             if (saveToGallery) {
diff --git a/TMessagesProj/src/main/java/org/telegram/android/MessageObject.java b/TMessagesProj/src/main/java/org/telepatch/android/MessageObject.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/android/MessageObject.java
rename to TMessagesProj/src/main/java/org/telepatch/android/MessageObject.java
index 953bdb110..b03dd00af 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/MessageObject.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/MessageObject.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.graphics.Bitmap;
 import android.graphics.Paint;
@@ -19,13 +19,13 @@
 import android.text.TextUtils;
 import android.text.util.Linkify;
 
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLoader;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.R;
-import org.telegram.messenger.UserConfig;
-import org.telegram.ui.Views.URLSpanNoUnderline;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLoader;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.ui.Views.URLSpanNoUnderline;
 
 import java.util.AbstractMap;
 import java.util.ArrayList;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/MessagesController.java b/TMessagesProj/src/main/java/org/telepatch/android/MessagesController.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/android/MessagesController.java
rename to TMessagesProj/src/main/java/org/telepatch/android/MessagesController.java
index 80838222c..649f5018b 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/MessagesController.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/MessagesController.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.app.Activity;
 import android.app.AlertDialog;
@@ -17,22 +17,23 @@
 import android.content.pm.PackageInfo;
 import android.os.Build;
 import android.text.Html;
+import android.util.Log;
 import android.util.SparseArray;
 
-import org.telegram.messenger.BuffersStorage;
-import org.telegram.messenger.ByteBufferDesc;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLoader;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.MessageKeyData;
-import org.telegram.messenger.R;
-import org.telegram.messenger.RPCRequest;
-import org.telegram.messenger.TLClassStore;
-import org.telegram.messenger.TLObject;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.UserConfig;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.messenger.BuffersStorage;
+import org.telepatch.messenger.ByteBufferDesc;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLoader;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.MessageKeyData;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.RPCRequest;
+import org.telepatch.messenger.TLClassStore;
+import org.telepatch.messenger.TLObject;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.ApplicationLoader;
 
 import java.math.BigInteger;
 import java.util.ArrayList;
@@ -110,6 +111,10 @@
     public static final int UPDATE_MASK_READ_DIALOG_MESSAGE = 256;
     public static final int UPDATE_MASK_ALL = UPDATE_MASK_AVATAR | UPDATE_MASK_STATUS | UPDATE_MASK_NAME | UPDATE_MASK_CHAT_AVATAR | UPDATE_MASK_CHAT_NAME | UPDATE_MASK_CHAT_MEMBERS | UPDATE_MASK_USER_PRINT | UPDATE_MASK_USER_PHONE | UPDATE_MASK_READ_DIALOG_MESSAGE;
 
+
+    //TODO miei campi
+    private TLRPC.messages_Messages messages;
+
     public static class PrintingUser {
         public long lastTime;
         public int userId;
@@ -166,7 +171,7 @@ public void addSupportUser() {
         TLRPC.TL_userForeign user = new TLRPC.TL_userForeign();
         user.phone = "333";
         user.id = 333000;
-        user.first_name = "Telegram";
+        user.first_name = "telepatch";
         user.last_name = "";
         user.status = null;
         user.photo = new TLRPC.TL_userProfilePhotoEmpty();
@@ -175,7 +180,7 @@ public void addSupportUser() {
         user = new TLRPC.TL_userForeign();
         user.phone = "42777";
         user.id = 777000;
-        user.first_name = "Telegram";
+        user.first_name = "telepatch";
         user.last_name = "Notifications";
         user.status = null;
         user.photo = new TLRPC.TL_userProfilePhotoEmpty();
@@ -200,6 +205,117 @@ public void addSupportUser() {
         return inputUser;
     }
 
+//TODO ricerca messaggi
+    /**
+     * this method does a call to Telegram servers and does a search based on a query.
+     * @param query
+     * @param uid
+     * @return TLRPC.messages_Messages the messages found
+     */
+    public void searchMessage(String query, final long uid, final FutureSearch future) {
+        Log.i("xela92", "sono online? " + ConnectionsManager.isNetworkOnline());
+        if (!ConnectionsManager.isNetworkOnline()) {
+            future.onMessagesSearchResult(null);
+            return;
+        }
+        int lower_part = (int) uid;
+        TLRPC.TL_messages_search req = new TLRPC.TL_messages_search();
+        req.q = query;
+        //Log.i("xela92", "SEPARATORE con uid: "+uid);
+        if (uid < 0) {
+            req.peer = new TLRPC.TL_inputPeerChat();
+            req.peer.chat_id = -lower_part;
+            // Log.i("xela92", "chat_id ricerca: "+req.peer.chat_id);
+        } else {
+            TLRPC.User user = users.get(lower_part);
+            if (user instanceof TLRPC.TL_userForeign || user instanceof TLRPC.TL_userRequest) {
+                req.peer = new TLRPC.TL_inputPeerForeign();
+                req.peer.access_hash = user.access_hash;
+            } else {
+                req.peer = new TLRPC.TL_inputPeerContact();
+            }
+            req.peer.user_id = lower_part;
+            //Log.i("xela92", "user_id: "+req.peer.user_id);
+        }
+        req.filter = new TLRPC.TL_inputMessagesFilterEmpty();
+        req.offset = 0;
+        req.limit = 100;
+        req.max_id = Integer.MAX_VALUE;
+
+        long reqId = ConnectionsManager.getInstance().performRpc(req, new RPCRequest.RPCRequestDelegate() {
+            @Override
+            public void run(TLObject response, TLRPC.TL_error error) {
+
+                if (error == null) {
+                    TLRPC.messages_Messages res = (TLRPC.messages_Messages) response;
+
+                    int res_count = 0;
+
+                    //Log.i("xela92", "ecco gli id dei messaggi trovati: " + m.id);
+                    for (TLRPC.Message m : res.messages) {
+                        //Log.i("xela92", "ecco il contenuto dei messaggi trovati: " + m.message);
+                        res_count++;
+                    }
+                    Log.i("xela92", "TOTALE messaggi " + res_count);
+                    messages = res;
+
+
+
+                    future.onMessagesSearchResult(messages);
+                    //processLoadedMessages(res, uid, 0, res_count, Integer.MAX_VALUE, false, 0, 0, 0, 0, 0, false);
+                    //NotificationCenter.getInstance().postNotificationName(dialogsNeedReload);
+
+                } else {
+                    Log.e("xela92", "errore nella query " + error.text + " " + error.code);
+                }
+            }
+
+
+        });
+        ConnectionsManager.getInstance().bindRequestToGuid(reqId, 0);
+
+    }
+
+    /**
+     * returns last searched messages
+     * @return TLRPC.messages_Messages last messages from server
+     */
+    public TLRPC.messages_Messages getLastSearchedMessages() {
+        return messages;
+    }
+
+
+    //TODO WIP
+
+    /**
+     * This will retrieve messages around that Message ID and show them in gui (still WIP)
+     * @param id
+     * @param uid
+     */
+    public void getMessagesAroundID(final ArrayList<Integer> id, final long uid) {
+        TLRPC.TL_messages_getMessages req = new TLRPC.TL_messages_getMessages();
+        req.id = id;
+        long reqId = ConnectionsManager.getInstance().performRpc(req, new RPCRequest.RPCRequestDelegate() {
+            @Override
+            public void run(TLObject response, TLRPC.TL_error error) {
+
+                if (error == null) {
+                    TLRPC.messages_Messages res = (TLRPC.messages_Messages) response;
+                    for (TLRPC.Message m : res.messages) {
+                        Log.i("xela92", "Messaggio solitario: " + m.message);
+                    }
+
+                } else {
+                    Log.e("xela92", "errore nella query " + error.text + " " + error.code);
+                }
+            }
+
+
+        });
+        ConnectionsManager.getInstance().bindRequestToGuid(reqId, 0);
+
+    }
+
     @Override
     public void didReceivedNotification(int id, Object... args) {
         if (id == NotificationCenter.FileDidUpload) {
diff --git a/TMessagesProj/src/main/java/org/telegram/android/MessagesStorage.java b/TMessagesProj/src/main/java/org/telepatch/android/MessagesStorage.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/android/MessagesStorage.java
rename to TMessagesProj/src/main/java/org/telepatch/android/MessagesStorage.java
index 4b8598b7a..55bba3721 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/MessagesStorage.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/MessagesStorage.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.content.Context;
 import android.content.SharedPreferences;
@@ -14,22 +14,22 @@
 import android.text.TextUtils;
 import android.util.SparseArray;
 
-import org.telegram.PhoneFormat.PhoneFormat;
-import org.telegram.SQLite.SQLiteCursor;
-import org.telegram.SQLite.SQLiteDatabase;
-import org.telegram.SQLite.SQLitePreparedStatement;
-import org.telegram.messenger.BuffersStorage;
-import org.telegram.messenger.ByteBufferDesc;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.DispatchQueue;
-import org.telegram.messenger.FileLoader;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.TLClassStore;
-import org.telegram.messenger.TLObject;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.UserConfig;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.PhoneFormat.PhoneFormat;
+import org.telepatch.SQLite.SQLiteCursor;
+import org.telepatch.SQLite.SQLiteDatabase;
+import org.telepatch.SQLite.SQLitePreparedStatement;
+import org.telepatch.messenger.BuffersStorage;
+import org.telepatch.messenger.ByteBufferDesc;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.DispatchQueue;
+import org.telepatch.messenger.FileLoader;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.TLClassStore;
+import org.telepatch.messenger.TLObject;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.ApplicationLoader;
 
 import java.io.File;
 import java.util.ArrayList;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/NativeLoader.java b/TMessagesProj/src/main/java/org/telepatch/android/NativeLoader.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/android/NativeLoader.java
rename to TMessagesProj/src/main/java/org/telepatch/android/NativeLoader.java
index 7a7499b05..da41816f7 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/NativeLoader.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/NativeLoader.java
@@ -1,18 +1,18 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.content.Context;
 import android.content.pm.ApplicationInfo;
 import android.os.Build;
 
-import org.telegram.messenger.FileLog;
+import org.telepatch.messenger.FileLog;
 
 import java.io.File;
 import java.io.FileOutputStream;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/NotificationCenter.java b/TMessagesProj/src/main/java/org/telepatch/android/NotificationCenter.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/android/NotificationCenter.java
rename to TMessagesProj/src/main/java/org/telepatch/android/NotificationCenter.java
index 1b9896166..1392841b2 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/NotificationCenter.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/NotificationCenter.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import java.util.ArrayList;
 import java.util.HashMap;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/NotificationRepeat.java b/TMessagesProj/src/main/java/org/telepatch/android/NotificationRepeat.java
similarity index 83%
rename from TMessagesProj/src/main/java/org/telegram/android/NotificationRepeat.java
rename to TMessagesProj/src/main/java/org/telepatch/android/NotificationRepeat.java
index f44a1f0c4..6450a1aa2 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/NotificationRepeat.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/NotificationRepeat.java
@@ -1,17 +1,17 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.app.IntentService;
 import android.content.Intent;
 
-import org.telegram.messenger.Utilities;
+import org.telepatch.messenger.Utilities;
 
 public class NotificationRepeat extends IntentService {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/android/NotificationsController.java b/TMessagesProj/src/main/java/org/telepatch/android/NotificationsController.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/android/NotificationsController.java
rename to TMessagesProj/src/main/java/org/telepatch/android/NotificationsController.java
index 3aa873fac..08a65d527 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/NotificationsController.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/NotificationsController.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.app.AlarmManager;
 import android.app.PendingIntent;
@@ -27,14 +27,15 @@
 
 import org.json.JSONArray;
 import org.json.JSONObject;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.R;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.UserConfig;
-import org.telegram.ui.ApplicationLoader;
-import org.telegram.ui.LaunchActivity;
-import org.telegram.ui.PopupNotificationActivity;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.ApplicationLoader;
+import org.telepatch.ui.LaunchActivity;
+import org.telepatch.ui.PopupNotificationActivity;
 
 import java.util.ArrayList;
 import java.util.Calendar;
@@ -57,6 +58,11 @@
     private int personal_count = 0;
     private boolean notifyCheck = false;
 
+    //TODO miei campi
+
+    private SharedPreferences preferences;
+
+
     private static volatile NotificationsController Instance = null;
     public static NotificationsController getInstance() {
         NotificationsController localInstance = Instance;
@@ -203,7 +209,10 @@ private String getStringForMessage(MessageObject messageObject, boolean shortMes
                     } else {
                         if (messageObject.messageOwner.media instanceof TLRPC.TL_messageMediaEmpty) {
                             if (!shortMessage && messageObject.messageOwner.message != null && messageObject.messageOwner.message.length() != 0) {
-                                msg = LocaleController.formatString("NotificationMessageGroupText", R.string.NotificationMessageGroupText, ContactsController.formatName(user.first_name, user.last_name), chat.title, messageObject.messageOwner.message);
+                                //TODO ho modificato il comportamento, voglio che sia nel titolo "tizio @ gruppo", non nel testo
+                                msg = LocaleController.formatString("NotificationMessageGroupText", R.string.NotificationMessageText, ContactsController.formatName(user.first_name, user.last_name), chat.title, messageObject.messageOwner.message);
+
+                                //msg = LocaleController.formatString("NotificationMessageGroupText", R.string.NotificationMessageGroupText, ContactsController.formatName(user.first_name, user.last_name), chat.title, messageObject.messageOwner.message);
                             } else {
                                 msg = LocaleController.formatString("NotificationMessageGroupNoText", R.string.NotificationMessageGroupNoText, ContactsController.formatName(user.first_name, user.last_name), chat.title);
                             }
@@ -255,6 +264,9 @@ protected void repeatNotificationMaybe() {
         }
     }
 
+    /**
+     *  Qui lui crea le notifiche
+     */
     private void showOrUpdateNotification(boolean notifyAboutLast) {
         if (!UserConfig.isClientActivated() || pushMessages.isEmpty()) {
             dismissNotification();
@@ -613,7 +625,12 @@ public void showWearNotifications(boolean notifyAboutLast) {
 
     private void dismissNotification() {
         try {
-            notificationManager.cancel(1);
+            //TODO eliminazione notifica corretta se hai le multiple
+            if (preferences.getBoolean("multiple_notify", true)) {
+                notificationManager.cancel((int)openned_dialog_id);
+            } else {
+                notificationManager.cancel(1);
+            }
             pushMessages.clear();
             pushMessagesDict.clear();
             NotificationCenter.getInstance().postNotificationName(NotificationCenter.pushMessagesUpdated);
@@ -721,7 +738,8 @@ public void processNewMessages(ArrayList<MessageObject> messageObjects, boolean
 
             Boolean value = settingsCache.get(dialog_id);
             boolean isChat = (int)dialog_id < 0;
-            popup = (int)dialog_id == 0 ? 0 : preferences.getInt(isChat ? "popupGroup" : "popupAll", 0);
+            //TODO per ora disattivo i popup che non funzionano bene.
+            //popup = (int)dialog_id == 0 ? 0 : preferences.getInt(isChat ? "popupGroup" : "popupAll", 0);
             if (value == null) {
                 int notify_override = preferences.getInt("notify2_" + dialog_id, 0);
                 value = !(notify_override == 2 || (!preferences.getBoolean("EnableAll", true) || isChat && !preferences.getBoolean("EnableGroup", true)) && notify_override == 0);
diff --git a/TMessagesProj/src/main/java/org/telegram/android/NotificationsService.java b/TMessagesProj/src/main/java/org/telepatch/android/NotificationsService.java
similarity index 81%
rename from TMessagesProj/src/main/java/org/telegram/android/NotificationsService.java
rename to TMessagesProj/src/main/java/org/telepatch/android/NotificationsService.java
index a790c7983..3e86e3d0c 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/NotificationsService.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/NotificationsService.java
@@ -1,20 +1,20 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.app.Service;
 import android.content.Intent;
 import android.content.SharedPreferences;
 import android.os.IBinder;
 
-import org.telegram.messenger.FileLog;
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.ui.ApplicationLoader;
 
 public class NotificationsService extends Service {
 
@@ -39,7 +39,7 @@ public void onDestroy() {
 
         SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications", MODE_PRIVATE);
         if (preferences.getBoolean("pushService", true)) {
-            Intent intent = new Intent("org.telegram.start");
+            Intent intent = new Intent("org.telepatch.start");
             sendBroadcast(intent);
         }
     }
diff --git a/TMessagesProj/src/main/java/org/telegram/android/PhotoObject.java b/TMessagesProj/src/main/java/org/telepatch/android/PhotoObject.java
similarity index 92%
rename from TMessagesProj/src/main/java/org/telegram/android/PhotoObject.java
rename to TMessagesProj/src/main/java/org/telepatch/android/PhotoObject.java
index fb7ac51c8..92abb5f34 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/PhotoObject.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/PhotoObject.java
@@ -1,19 +1,19 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.graphics.Bitmap;
 import android.graphics.BitmapFactory;
 
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.Utilities;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.Utilities;
 
 import java.util.ArrayList;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/android/ScreenReceiver.java b/TMessagesProj/src/main/java/org/telepatch/android/ScreenReceiver.java
similarity index 80%
rename from TMessagesProj/src/main/java/org/telegram/android/ScreenReceiver.java
rename to TMessagesProj/src/main/java/org/telepatch/android/ScreenReceiver.java
index 7a357627d..662472818 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/ScreenReceiver.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/ScreenReceiver.java
@@ -1,20 +1,20 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.content.BroadcastReceiver;
 import android.content.Context;
 import android.content.Intent;
 
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLog;
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.ui.ApplicationLoader;
 
 public class ScreenReceiver extends BroadcastReceiver {
     @Override
diff --git a/TMessagesProj/src/main/java/org/telegram/android/SendMessagesHelper.java b/TMessagesProj/src/main/java/org/telepatch/android/SendMessagesHelper.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/android/SendMessagesHelper.java
rename to TMessagesProj/src/main/java/org/telepatch/android/SendMessagesHelper.java
index 770a38c55..3861197e2 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/SendMessagesHelper.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/SendMessagesHelper.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.graphics.Bitmap;
 import android.media.MediaMetadataRetriever;
@@ -17,18 +17,18 @@
 import android.provider.MediaStore;
 import android.webkit.MimeTypeMap;
 
-import org.telegram.messenger.BuffersStorage;
-import org.telegram.messenger.ByteBufferDesc;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLoader;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.MessageKeyData;
-import org.telegram.messenger.RPCRequest;
-import org.telegram.messenger.TLObject;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.UserConfig;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.messenger.BuffersStorage;
+import org.telepatch.messenger.ByteBufferDesc;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLoader;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.MessageKeyData;
+import org.telepatch.messenger.RPCRequest;
+import org.telepatch.messenger.TLObject;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.ApplicationLoader;
 
 import java.io.File;
 import java.util.ArrayList;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/SmsListener.java b/TMessagesProj/src/main/java/org/telepatch/android/SmsListener.java
similarity index 93%
rename from TMessagesProj/src/main/java/org/telegram/android/SmsListener.java
rename to TMessagesProj/src/main/java/org/telepatch/android/SmsListener.java
index ce57865a2..c41d81569 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/SmsListener.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/SmsListener.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.content.BroadcastReceiver;
 import android.content.Context;
@@ -15,7 +15,7 @@
 import android.os.Bundle;
 import android.telephony.SmsMessage;
 
-import org.telegram.messenger.FileLog;
+import org.telepatch.messenger.FileLog;
 
 import java.util.regex.Matcher;
 import java.util.regex.Pattern;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/VideoEncodingService.java b/TMessagesProj/src/main/java/org/telepatch/android/VideoEncodingService.java
similarity index 93%
rename from TMessagesProj/src/main/java/org/telegram/android/VideoEncodingService.java
rename to TMessagesProj/src/main/java/org/telepatch/android/VideoEncodingService.java
index e057c682a..dc5df2a94 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/VideoEncodingService.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/VideoEncodingService.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.app.Service;
 import android.content.Intent;
@@ -14,9 +14,9 @@
 import android.support.v4.app.NotificationCompat;
 import android.support.v4.app.NotificationManagerCompat;
 
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.R;
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.R;
+import org.telepatch.ui.ApplicationLoader;
 
 public class VideoEncodingService extends Service implements NotificationCenter.NotificationCenterDelegate {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/android/WearReplyReceiver.java b/TMessagesProj/src/main/java/org/telepatch/android/WearReplyReceiver.java
similarity index 92%
rename from TMessagesProj/src/main/java/org/telegram/android/WearReplyReceiver.java
rename to TMessagesProj/src/main/java/org/telepatch/android/WearReplyReceiver.java
index 9e32dc6a6..508e11f53 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/WearReplyReceiver.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/WearReplyReceiver.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android;
+package org.telepatch.android;
 
 import android.content.BroadcastReceiver;
 import android.content.Context;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/video/InputSurface.java b/TMessagesProj/src/main/java/org/telepatch/android/video/InputSurface.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/android/video/InputSurface.java
rename to TMessagesProj/src/main/java/org/telepatch/android/video/InputSurface.java
index 914e8be6d..105cae3db 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/video/InputSurface.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/video/InputSurface.java
@@ -14,7 +14,7 @@
  * limitations under the License.
  */
 
-package org.telegram.android.video;
+package org.telepatch.android.video;
 
 import android.annotation.TargetApi;
 import android.opengl.EGL14;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/video/MP4Builder.java b/TMessagesProj/src/main/java/org/telepatch/android/video/MP4Builder.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/android/video/MP4Builder.java
rename to TMessagesProj/src/main/java/org/telepatch/android/video/MP4Builder.java
index 9d9eca96d..d57950ab8 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/video/MP4Builder.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/video/MP4Builder.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android.video;
+package org.telepatch.android.video;
 
 import android.annotation.TargetApi;
 import android.media.MediaCodec;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/video/Mp4Movie.java b/TMessagesProj/src/main/java/org/telepatch/android/video/Mp4Movie.java
similarity index 95%
rename from TMessagesProj/src/main/java/org/telegram/android/video/Mp4Movie.java
rename to TMessagesProj/src/main/java/org/telepatch/android/video/Mp4Movie.java
index 5fea2eb3d..713c86e34 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/video/Mp4Movie.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/video/Mp4Movie.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android.video;
+package org.telepatch.android.video;
 
 import android.annotation.TargetApi;
 import android.media.MediaCodec;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/video/OutputSurface.java b/TMessagesProj/src/main/java/org/telepatch/android/video/OutputSurface.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/android/video/OutputSurface.java
rename to TMessagesProj/src/main/java/org/telepatch/android/video/OutputSurface.java
index c3e2d5fde..05864415e 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/video/OutputSurface.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/video/OutputSurface.java
@@ -14,7 +14,7 @@
  * limitations under the License.
  */
 
-package org.telegram.android.video;
+package org.telepatch.android.video;
 
 import android.annotation.TargetApi;
 import android.graphics.SurfaceTexture;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/video/Sample.java b/TMessagesProj/src/main/java/org/telepatch/android/video/Sample.java
similarity index 83%
rename from TMessagesProj/src/main/java/org/telegram/android/video/Sample.java
rename to TMessagesProj/src/main/java/org/telepatch/android/video/Sample.java
index f6d7954ff..6545fefa5 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/video/Sample.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/video/Sample.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android.video;
+package org.telepatch.android.video;
 
 public class Sample {
     private long offset = 0;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/video/TextureRenderer.java b/TMessagesProj/src/main/java/org/telepatch/android/video/TextureRenderer.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/android/video/TextureRenderer.java
rename to TMessagesProj/src/main/java/org/telepatch/android/video/TextureRenderer.java
index 9b29f40c1..d3de11670 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/video/TextureRenderer.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/video/TextureRenderer.java
@@ -14,7 +14,7 @@
  * limitations under the License.
  */
 
-package org.telegram.android.video;
+package org.telepatch.android.video;
 
 import java.nio.ByteBuffer;
 import java.nio.ByteOrder;
diff --git a/TMessagesProj/src/main/java/org/telegram/android/video/Track.java b/TMessagesProj/src/main/java/org/telepatch/android/video/Track.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/android/video/Track.java
rename to TMessagesProj/src/main/java/org/telepatch/android/video/Track.java
index 3131a00ce..2af16c3a9 100644
--- a/TMessagesProj/src/main/java/org/telegram/android/video/Track.java
+++ b/TMessagesProj/src/main/java/org/telepatch/android/video/Track.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.android.video;
+package org.telepatch.android.video;
 
 import android.annotation.TargetApi;
 import android.media.MediaCodec;
@@ -16,7 +16,6 @@
 import com.coremedia.iso.boxes.SampleDescriptionBox;
 import com.coremedia.iso.boxes.SoundMediaHeaderBox;
 import com.coremedia.iso.boxes.VideoMediaHeaderBox;
-import com.coremedia.iso.boxes.h264.AvcConfigurationBox;
 import com.coremedia.iso.boxes.sampleentry.AudioSampleEntry;
 import com.coremedia.iso.boxes.sampleentry.VisualSampleEntry;
 import com.googlecode.mp4parser.boxes.mp4.ESDescriptorBox;
@@ -24,6 +23,7 @@
 import com.googlecode.mp4parser.boxes.mp4.objectdescriptors.DecoderConfigDescriptor;
 import com.googlecode.mp4parser.boxes.mp4.objectdescriptors.ESDescriptor;
 import com.googlecode.mp4parser.boxes.mp4.objectdescriptors.SLConfigDescriptor;
+import com.mp4parser.iso14496.part15.AvcConfigurationBox;
 
 import java.nio.ByteBuffer;
 import java.util.ArrayList;
diff --git a/TMessagesProj/src/main/java/org/telepatch/messenger/.DS_Store b/TMessagesProj/src/main/java/org/telepatch/messenger/.DS_Store
new file mode 100644
index 000000000..84e25914f
Binary files /dev/null and b/TMessagesProj/src/main/java/org/telepatch/messenger/.DS_Store differ
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/AbsSerializedData.java b/TMessagesProj/src/main/java/org/telepatch/messenger/AbsSerializedData.java
similarity index 93%
rename from TMessagesProj/src/main/java/org/telegram/messenger/AbsSerializedData.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/AbsSerializedData.java
index 0f0bb480c..b2c8044e6 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/AbsSerializedData.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/AbsSerializedData.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 public abstract class AbsSerializedData {
     public abstract void writeInt32(int x);
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/Action.java b/TMessagesProj/src/main/java/org/telepatch/messenger/Action.java
similarity index 84%
rename from TMessagesProj/src/main/java/org/telegram/messenger/Action.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/Action.java
index 61ed9b70d..03e3d9470 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/Action.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/Action.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import java.util.HashMap;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/BuffersStorage.java b/TMessagesProj/src/main/java/org/telepatch/messenger/BuffersStorage.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/messenger/BuffersStorage.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/BuffersStorage.java
index db28c5c73..50a310ee3 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/BuffersStorage.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/BuffersStorage.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import java.util.ArrayList;
 
diff --git a/TMessagesProj/src/main/java/org/telepatch/messenger/BuildVars.java b/TMessagesProj/src/main/java/org/telepatch/messenger/BuildVars.java
new file mode 100644
index 000000000..b24587068
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/BuildVars.java
@@ -0,0 +1,18 @@
+/*
+ * This is the source code of telepatch for Android v. 1.3.x.
+ * It is licensed under GNU GPL v. 2 or later.
+ * You should have received a copy of the license in this archive (see LICENSE).
+ *
+ * Copyright Nikolai Kudashov, 2013-2014.
+ */
+
+package org.telepatch.messenger;
+
+public class BuildVars {
+    public static boolean DEBUG_VERSION = false;
+    public static int APP_ID = 18739; //obtaion your own APP_ID at https://core.telepatch.org/api/obtaining_api_id
+    public static String APP_HASH = "09ae56ae034b0320c7187f8aeef74ca0"; //obtaion your own APP_HASH at https://core.telepatch.org/api/obtaining_api_id
+    public static String HOCKEY_APP_HASH = "your-hockeyapp-api-key-here";
+    public static String GCM_SENDER_ID = "760348033672";
+    public static String SEND_LOGS_EMAIL = "florenti.alex@gmail.com";
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/ByteBufferDesc.java b/TMessagesProj/src/main/java/org/telepatch/messenger/ByteBufferDesc.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/messenger/ByteBufferDesc.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/ByteBufferDesc.java
index f36049bc8..4698700a6 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/ByteBufferDesc.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/ByteBufferDesc.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import java.nio.ByteBuffer;
 import java.nio.ByteOrder;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/ConnectionContext.java b/TMessagesProj/src/main/java/org/telepatch/messenger/ConnectionContext.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/messenger/ConnectionContext.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/ConnectionContext.java
index 5277acd52..1ece823ae 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/ConnectionContext.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/ConnectionContext.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import java.util.ArrayList;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/ConnectionsManager.java b/TMessagesProj/src/main/java/org/telepatch/messenger/ConnectionsManager.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/messenger/ConnectionsManager.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/ConnectionsManager.java
index 81ed6d884..25b5b0207 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/ConnectionsManager.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/ConnectionsManager.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import android.content.Context;
 import android.content.SharedPreferences;
@@ -17,12 +17,12 @@
 import android.os.PowerManager;
 import android.util.Base64;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.ContactsController;
-import org.telegram.android.LocaleController;
-import org.telegram.android.MessagesController;
-import org.telegram.android.NotificationCenter;
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.ContactsController;
+import org.telepatch.android.LocaleController;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.ui.ApplicationLoader;
 
 import java.io.File;
 import java.util.ArrayList;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/Datacenter.java b/TMessagesProj/src/main/java/org/telepatch/messenger/Datacenter.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/messenger/Datacenter.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/Datacenter.java
index 4c1914128..8914b2d71 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/Datacenter.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/Datacenter.java
@@ -1,17 +1,17 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import android.content.Context;
 import android.content.SharedPreferences;
 
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.ui.ApplicationLoader;
 
 import java.util.ArrayList;
 import java.util.Collections;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/DispatchQueue.java b/TMessagesProj/src/main/java/org/telepatch/messenger/DispatchQueue.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/messenger/DispatchQueue.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/DispatchQueue.java
index 2c68fdf6e..468fc7fbd 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/DispatchQueue.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/DispatchQueue.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import android.os.Handler;
 import android.os.Looper;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/ExportAuthorizationAction.java b/TMessagesProj/src/main/java/org/telepatch/messenger/ExportAuthorizationAction.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/messenger/ExportAuthorizationAction.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/ExportAuthorizationAction.java
index 51367696d..cef5608f6 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/ExportAuthorizationAction.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/ExportAuthorizationAction.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import java.util.HashMap;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/FileLoadOperation.java b/TMessagesProj/src/main/java/org/telepatch/messenger/FileLoadOperation.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/messenger/FileLoadOperation.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/FileLoadOperation.java
index 364e21be2..20b53220c 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/FileLoadOperation.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/FileLoadOperation.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import java.io.RandomAccessFile;
 import java.io.File;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/FileLoader.java b/TMessagesProj/src/main/java/org/telepatch/messenger/FileLoader.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/messenger/FileLoader.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/FileLoader.java
index 0a134c094..62786f3f7 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/FileLoader.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/FileLoader.java
@@ -1,14 +1,14 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
-import org.telegram.android.AndroidUtilities;
+import org.telepatch.android.AndroidUtilities;
 
 import java.io.File;
 import java.util.ArrayList;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/FileLog.java b/TMessagesProj/src/main/java/org/telepatch/messenger/FileLog.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/messenger/FileLog.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/FileLog.java
index ab0a52c9c..4630b6ec9 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/FileLog.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/FileLog.java
@@ -1,18 +1,18 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import android.net.Uri;
 import android.util.Log;
 
-import org.telegram.android.FastDateFormat;
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.android.FastDateFormat;
+import org.telepatch.ui.ApplicationLoader;
 
 import java.io.File;
 import java.io.FileOutputStream;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/FileUploadOperation.java b/TMessagesProj/src/main/java/org/telepatch/messenger/FileUploadOperation.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/messenger/FileUploadOperation.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/FileUploadOperation.java
index 96e6c7d68..391e6b0ef 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/FileUploadOperation.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/FileUploadOperation.java
@@ -1,17 +1,17 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import android.app.Activity;
 import android.content.SharedPreferences;
 
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.ui.ApplicationLoader;
 
 import java.io.File;
 import java.io.FileInputStream;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/HandshakeAction.java b/TMessagesProj/src/main/java/org/telepatch/messenger/HandshakeAction.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/messenger/HandshakeAction.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/HandshakeAction.java
index 770dbd6f3..d90427508 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/HandshakeAction.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/HandshakeAction.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import java.math.BigInteger;
 import java.nio.ByteBuffer;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/MessageKeyData.java b/TMessagesProj/src/main/java/org/telepatch/messenger/MessageKeyData.java
similarity index 73%
rename from TMessagesProj/src/main/java/org/telegram/messenger/MessageKeyData.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/MessageKeyData.java
index 6aef7a298..bf7b8f1fa 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/MessageKeyData.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/MessageKeyData.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 public class MessageKeyData {
     public byte[] aesKey;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/NetworkMessage.java b/TMessagesProj/src/main/java/org/telepatch/messenger/NetworkMessage.java
similarity index 76%
rename from TMessagesProj/src/main/java/org/telegram/messenger/NetworkMessage.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/NetworkMessage.java
index a44ef7664..ea4ba4ebd 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/NetworkMessage.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/NetworkMessage.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 public class NetworkMessage {
     public TLRPC.TL_protoMessage protoMessage;
diff --git a/TMessagesProj/src/main/java/org/telepatch/messenger/NotificationsManager.java b/TMessagesProj/src/main/java/org/telepatch/messenger/NotificationsManager.java
new file mode 100644
index 000000000..58cb55b98
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/NotificationsManager.java
@@ -0,0 +1,97 @@
+package org.telepatch.messenger;
+
+/**
+ * this is our Notifications Manager, that will replace NotificationsController.
+ */
+
+public class NotificationsManager implements NotificationsManagerSoul{
+    private static NotificationsManager instance;
+    private int last_notify_id;
+    //TODO
+    /* l'idea e' questa: crei un qualche cosa tipo una mappa notify_id + pila messaggi (in array)
+       poi quando vai a mostrare la notifica semplicemente carichi l'array. Easy.
+     */
+
+    /**
+     * constructor
+     */
+    public NotificationsManager() {
+
+    }
+
+    /**
+     * singleton
+     * @return NotificationsManager the instance
+     */
+    public static NotificationsManager getInstance() {
+        if (instance == null) {
+                instance = new NotificationsManager();
+        }
+        return instance;
+    }
+
+    /**
+     * creates or updates a notification with ID = notify_id
+     * @param notify_id
+     */
+    public void createOrUpdateNotification(int notify_id) {
+        last_notify_id = notify_id;
+
+    }
+
+    /**
+     * prepares text to be shown in notification.
+     * @return
+     */
+    public String prepareNotificationText() {
+        return "";
+    }
+
+    /**
+     * to be evaluated
+     */
+    public void retrieveAvatar() {
+
+    }
+
+    /**
+     * getter for last_notify_id
+     * @return last_notify_id the last notification's ID
+     */
+    public int getLastNotificationID() {
+        return last_notify_id;
+    }
+
+    /**
+     * getter to retrieve latest message received and that should be displayed in the stack of a notification
+     * @param notify_id
+     * @return String last message
+     */
+    public String getLastMessageForNotifyID(int notify_id) {
+        return "";
+    }
+
+    /**
+     * setter to add a message in a stack of messages for a notification
+     * @param notify_id
+     */
+    public void addMessageToStackForNotifyID(int notify_id) {
+
+
+    }
+
+    //public *decidi tu cosa preferisci che gestisca la stack dei messaggi* getMessagesStackList() {}
+
+    /**
+     * removes a messages stack (list in notification) for notify_id
+     * @param notify_id
+     */
+    public void removeMessagesStackForNotifyID(int notify_id) {
+    }
+
+
+
+
+
+
+}
\ No newline at end of file
diff --git a/TMessagesProj/src/main/java/org/telepatch/messenger/NotificationsManagerSoul.java b/TMessagesProj/src/main/java/org/telepatch/messenger/NotificationsManagerSoul.java
new file mode 100644
index 000000000..cf4f7fe76
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/NotificationsManagerSoul.java
@@ -0,0 +1,57 @@
+package org.telepatch.messenger;
+
+/**
+ * this is our Notifications Manager, that will replace NotificationsController.
+ */
+
+public interface NotificationsManagerSoul {
+
+    /**
+     * creates or updates a notification with ID = notify_id
+     * @param notify_id
+     */
+    public void createOrUpdateNotification(int notify_id);
+
+    /**
+     * prepares text to be shown in notification.
+     * @return
+     */
+    public String prepareNotificationText();
+
+    /**
+     * to be evaluated
+     */
+    public void retrieveAvatar();
+
+    /**
+     * getter for last_notify_id
+     * @return last_notify_id the last notification's ID
+     */
+    public int getLastNotificationID();
+
+    /**
+     * getter to retrieve latest message received and that should be displayed in the stack of a notification
+     * @param notify_id
+     * @return String last message
+     */
+    public String getLastMessageForNotifyID(int notify_id);
+
+    /**
+     * setter to add a message in a stack of messages for a notification
+     * @param notify_id
+     */
+    public void addMessageToStackForNotifyID(int notify_id);
+
+    //public *decidi tu cosa preferisci che gestisca la stack dei messaggi* getMessagesStackList() {}
+
+    /**
+     * removes a messages stack (list in notification) for notify_id
+     * @param notify_id
+     */
+    public void removeMessagesStackForNotifyID(int notify_id);
+
+
+
+
+
+}
\ No newline at end of file
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/RPCRequest.java b/TMessagesProj/src/main/java/org/telepatch/messenger/RPCRequest.java
similarity index 95%
rename from TMessagesProj/src/main/java/org/telegram/messenger/RPCRequest.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/RPCRequest.java
index 84fa468cb..c0f1c2f2a 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/RPCRequest.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/RPCRequest.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import java.util.ArrayList;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/SerializedData.java b/TMessagesProj/src/main/java/org/telepatch/messenger/SerializedData.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/messenger/SerializedData.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/SerializedData.java
index 59b59e6d5..fe842f166 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/SerializedData.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/SerializedData.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import java.io.ByteArrayInputStream;
 import java.io.ByteArrayOutputStream;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/ServerSalt.java b/TMessagesProj/src/main/java/org/telepatch/messenger/ServerSalt.java
similarity index 74%
rename from TMessagesProj/src/main/java/org/telegram/messenger/ServerSalt.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/ServerSalt.java
index 33ca53ea2..c67e4c048 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/ServerSalt.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/ServerSalt.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 public class ServerSalt {
     public int validSince;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/TLClassStore.java b/TMessagesProj/src/main/java/org/telepatch/messenger/TLClassStore.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/messenger/TLClassStore.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/TLClassStore.java
index aa690ca1e..ecf102c63 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/TLClassStore.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/TLClassStore.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import java.util.HashMap;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/TLObject.java b/TMessagesProj/src/main/java/org/telepatch/messenger/TLObject.java
similarity index 90%
rename from TMessagesProj/src/main/java/org/telegram/messenger/TLObject.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/TLObject.java
index 8ee8bc002..83b8470b7 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/TLObject.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/TLObject.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 public class TLObject {
     public boolean disableFree = false;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/TLRPC.java b/TMessagesProj/src/main/java/org/telepatch/messenger/TLRPC.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/messenger/TLRPC.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/TLRPC.java
index af8559cb4..52a154df8 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/TLRPC.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/TLRPC.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import java.util.ArrayList;
 import java.util.Locale;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/TcpConnection.java b/TMessagesProj/src/main/java/org/telepatch/messenger/TcpConnection.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/messenger/TcpConnection.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/TcpConnection.java
index a2afb811c..9b2c4cb95 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/TcpConnection.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/TcpConnection.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import java.io.IOException;
 import java.net.InetSocketAddress;
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/UserConfig.java b/TMessagesProj/src/main/java/org/telepatch/messenger/UserConfig.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/messenger/UserConfig.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/UserConfig.java
index f27723f54..3c1b74d59 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/UserConfig.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/UserConfig.java
@@ -1,19 +1,19 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import android.content.Context;
 import android.content.SharedPreferences;
 import android.util.Base64;
 
-import org.telegram.android.MessagesStorage;
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.android.MessagesStorage;
+import org.telepatch.ui.ApplicationLoader;
 
 import java.io.File;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/Utilities.java b/TMessagesProj/src/main/java/org/telepatch/messenger/Utilities.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/messenger/Utilities.java
rename to TMessagesProj/src/main/java/org/telepatch/messenger/Utilities.java
index 5fbf42267..2127a9331 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/Utilities.java
+++ b/TMessagesProj/src/main/java/org/telepatch/messenger/Utilities.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.messenger;
+package org.telepatch.messenger;
 
 import android.app.Activity;
 import android.content.ContentUris;
@@ -27,7 +27,7 @@
 import net.hockeyapp.android.CrashManagerListener;
 import net.hockeyapp.android.UpdateManager;
 
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.ui.ApplicationLoader;
 
 import java.io.ByteArrayInputStream;
 import java.io.ByteArrayOutputStream;
@@ -498,7 +498,7 @@ public static void addMediaToGallery(Uri uri) {
     private static File getAlbumDir() {
         File storageDir = null;
         if (Environment.MEDIA_MOUNTED.equals(Environment.getExternalStorageState())) {
-            storageDir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES), "Telegram");
+            storageDir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES), "telepatch");
             if (storageDir != null) {
                 if (!storageDir.mkdirs()) {
                     if (!storageDir.exists()){
diff --git a/TMessagesProj/src/main/java/org/telepatch/ui/.DS_Store b/TMessagesProj/src/main/java/org/telepatch/ui/.DS_Store
new file mode 100644
index 000000000..9f7abd5ca
Binary files /dev/null and b/TMessagesProj/src/main/java/org/telepatch/ui/.DS_Store differ
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/BaseContactsSearchAdapter.java b/TMessagesProj/src/main/java/org/telepatch/ui/Adapters/BaseContactsSearchAdapter.java
similarity index 86%
rename from TMessagesProj/src/main/java/org/telegram/ui/Adapters/BaseContactsSearchAdapter.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Adapters/BaseContactsSearchAdapter.java
index e639fb166..432f6ebbe 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/BaseContactsSearchAdapter.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Adapters/BaseContactsSearchAdapter.java
@@ -1,18 +1,18 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Adapters;
+package org.telepatch.ui.Adapters;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.RPCRequest;
-import org.telegram.messenger.TLObject;
-import org.telegram.messenger.TLRPC;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.RPCRequest;
+import org.telepatch.messenger.TLObject;
+import org.telepatch.messenger.TLRPC;
 
 import java.util.ArrayList;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/BaseFragmentAdapter.java b/TMessagesProj/src/main/java/org/telepatch/ui/Adapters/BaseFragmentAdapter.java
similarity index 90%
rename from TMessagesProj/src/main/java/org/telegram/ui/Adapters/BaseFragmentAdapter.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Adapters/BaseFragmentAdapter.java
index 184e06a1e..1181a3777 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/BaseFragmentAdapter.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Adapters/BaseFragmentAdapter.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Adapters;
+package org.telepatch.ui.Adapters;
 
 import android.database.DataSetObserver;
 import android.view.View;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/ContactsActivityAdapter.java b/TMessagesProj/src/main/java/org/telepatch/ui/Adapters/ContactsActivityAdapter.java
similarity index 94%
rename from TMessagesProj/src/main/java/org/telegram/ui/Adapters/ContactsActivityAdapter.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Adapters/ContactsActivityAdapter.java
index 1bc0b293f..5df7f0a19 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/ContactsActivityAdapter.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Adapters/ContactsActivityAdapter.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Adapters;
+package org.telepatch.ui.Adapters;
 
 import android.content.Context;
 import android.view.LayoutInflater;
@@ -14,14 +14,14 @@
 import android.view.ViewGroup;
 import android.widget.TextView;
 
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.TLRPC;
-import org.telegram.android.ContactsController;
-import org.telegram.android.MessagesController;
-import org.telegram.messenger.R;
-import org.telegram.ui.Cells.ChatOrUserCell;
-import org.telegram.ui.Views.SectionedBaseAdapter;
-import org.telegram.ui.Views.SettingsSectionLayout;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.android.ContactsController;
+import org.telepatch.android.MessagesController;
+import org.telepatch.messenger.R;
+import org.telepatch.ui.Cells.ChatOrUserCell;
+import org.telepatch.ui.Views.SectionedBaseAdapter;
+import org.telepatch.ui.Views.SettingsSectionLayout;
 
 import java.util.ArrayList;
 import java.util.HashMap;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/ContactsActivitySearchAdapter.java b/TMessagesProj/src/main/java/org/telepatch/ui/Adapters/ContactsActivitySearchAdapter.java
similarity index 93%
rename from TMessagesProj/src/main/java/org/telegram/ui/Adapters/ContactsActivitySearchAdapter.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Adapters/ContactsActivitySearchAdapter.java
index d58d86bdf..64cefed4b 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Adapters/ContactsActivitySearchAdapter.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Adapters/ContactsActivitySearchAdapter.java
@@ -1,29 +1,29 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Adapters;
+package org.telepatch.ui.Adapters;
 
 import android.content.Context;
 import android.text.Html;
 import android.view.View;
 import android.view.ViewGroup;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.R;
-import org.telegram.messenger.TLRPC;
-import org.telegram.android.ContactsController;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.MessagesController;
-import org.telegram.messenger.UserConfig;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.Cells.ChatOrUserCell;
-import org.telegram.ui.Views.SettingsSectionLayout;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.android.ContactsController;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.MessagesController;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.Cells.ChatOrUserCell;
+import org.telepatch.ui.Views.SettingsSectionLayout;
 
 import java.util.ArrayList;
 import java.util.HashMap;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ApplicationLoader.java b/TMessagesProj/src/main/java/org/telepatch/ui/ApplicationLoader.java
similarity index 93%
rename from TMessagesProj/src/main/java/org/telegram/ui/ApplicationLoader.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/ApplicationLoader.java
index d4e3ee6c8..57e1493ca 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ApplicationLoader.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/ApplicationLoader.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.AlarmManager;
 import android.app.Application;
@@ -28,20 +28,20 @@
 import com.google.android.gms.common.GooglePlayServicesUtil;
 import com.google.android.gms.gcm.GoogleCloudMessaging;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.ContactsController;
-import org.telegram.android.MediaController;
-import org.telegram.android.NotificationsService;
-import org.telegram.android.SendMessagesHelper;
-import org.telegram.messenger.BuildVars;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.LocaleController;
-import org.telegram.android.MessagesController;
-import org.telegram.android.NativeLoader;
-import org.telegram.android.ScreenReceiver;
-import org.telegram.messenger.UserConfig;
-import org.telegram.messenger.Utilities;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.ContactsController;
+import org.telepatch.android.MediaController;
+import org.telepatch.android.NotificationsService;
+import org.telepatch.android.SendMessagesHelper;
+import org.telepatch.messenger.BuildVars;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.LocaleController;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.NativeLoader;
+import org.telepatch.android.ScreenReceiver;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.messenger.Utilities;
 
 import java.util.concurrent.atomic.AtomicInteger;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/BaseCell.java b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/BaseCell.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/ui/Cells/BaseCell.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Cells/BaseCell.java
index c0170b66f..871ff1370 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/BaseCell.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/BaseCell.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui.Cells;
+package org.telepatch.ui.Cells;
 
 import android.content.Context;
 import android.graphics.drawable.Drawable;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatActionCell.java b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatActionCell.java
similarity index 95%
rename from TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatActionCell.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatActionCell.java
index 02849344c..5a97daf1a 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatActionCell.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatActionCell.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Cells;
+package org.telepatch.ui.Cells;
 
 import android.content.Context;
 import android.graphics.Bitmap;
@@ -21,16 +21,16 @@
 import android.view.MotionEvent;
 import android.view.SoundEffectConstants;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.ImageReceiver;
-import org.telegram.android.MessageObject;
-import org.telegram.android.MessagesController;
-import org.telegram.android.PhotoObject;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.R;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.UserConfig;
-import org.telegram.ui.PhotoViewer;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.ImageReceiver;
+import org.telepatch.android.MessageObject;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.PhotoObject;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.ui.PhotoViewer;
 
 public class ChatActionCell extends BaseCell {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatAudioCell.java b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatAudioCell.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatAudioCell.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatAudioCell.java
index 4569a7094..11ded6ced 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatAudioCell.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatAudioCell.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Cells;
+package org.telepatch.ui.Cells;
 
 import android.content.Context;
 import android.graphics.Canvas;
@@ -17,16 +17,16 @@
 import android.view.MotionEvent;
 import android.view.SoundEffectConstants;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.messenger.FileLoader;
-import org.telegram.android.MediaController;
-import org.telegram.messenger.TLRPC;
-import org.telegram.android.MessagesController;
-import org.telegram.messenger.R;
-import org.telegram.android.MessageObject;
-import org.telegram.android.ImageReceiver;
-import org.telegram.ui.Views.ProgressView;
-import org.telegram.ui.Views.SeekBar;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.messenger.FileLoader;
+import org.telepatch.android.MediaController;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.android.MessagesController;
+import org.telepatch.messenger.R;
+import org.telepatch.android.MessageObject;
+import org.telepatch.android.ImageReceiver;
+import org.telepatch.ui.Views.ProgressView;
+import org.telepatch.ui.Views.SeekBar;
 
 import java.io.File;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatBaseCell.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatBaseCell.java
index b3ad22bf6..4a80913c2 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatBaseCell.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Cells;
+package org.telepatch.ui.Cells;
 
 import android.annotation.SuppressLint;
 import android.content.Context;
@@ -20,14 +20,14 @@
 import android.view.MotionEvent;
 import android.view.SoundEffectConstants;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.ContactsController;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.TLRPC;
-import org.telegram.android.MessagesController;
-import org.telegram.messenger.R;
-import org.telegram.android.MessageObject;
-import org.telegram.android.ImageReceiver;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.ContactsController;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.android.MessagesController;
+import org.telepatch.messenger.R;
+import org.telepatch.android.MessageObject;
+import org.telepatch.android.ImageReceiver;
 
 public class ChatBaseCell extends BaseCell {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatContactCell.java b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatContactCell.java
similarity index 95%
rename from TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatContactCell.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatContactCell.java
index 4803d4114..2d7a23f17 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatContactCell.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatContactCell.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Cells;
+package org.telepatch.ui.Cells;
 
 import android.content.Context;
 import android.graphics.Canvas;
@@ -18,16 +18,16 @@
 import android.view.MotionEvent;
 import android.view.SoundEffectConstants;
 
-import org.telegram.PhoneFormat.PhoneFormat;
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.ContactsController;
-import org.telegram.android.ImageReceiver;
-import org.telegram.android.LocaleController;
-import org.telegram.android.MessageObject;
-import org.telegram.android.MessagesController;
-import org.telegram.messenger.R;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.UserConfig;
+import org.telepatch.PhoneFormat.PhoneFormat;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.ContactsController;
+import org.telepatch.android.ImageReceiver;
+import org.telepatch.android.LocaleController;
+import org.telepatch.android.MessageObject;
+import org.telepatch.android.MessagesController;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.UserConfig;
 
 public class ChatContactCell extends ChatBaseCell {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatMediaCell.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatMediaCell.java
index bd4bf6e3c..94049f034 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatMediaCell.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Cells;
+package org.telepatch.ui.Cells;
 
 import android.content.Context;
 import android.graphics.Canvas;
@@ -22,19 +22,19 @@
 import android.view.SoundEffectConstants;
 import android.view.animation.DecelerateInterpolator;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.ImageLoader;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLoader;
-import org.telegram.android.MediaController;
-import org.telegram.messenger.R;
-import org.telegram.messenger.Utilities;
-import org.telegram.android.MessageObject;
-import org.telegram.android.PhotoObject;
-import org.telegram.ui.PhotoViewer;
-import org.telegram.ui.Views.GifDrawable;
-import org.telegram.android.ImageReceiver;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.ImageLoader;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLoader;
+import org.telepatch.android.MediaController;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.android.MessageObject;
+import org.telepatch.android.PhotoObject;
+import org.telepatch.ui.PhotoViewer;
+import org.telepatch.ui.Views.GifDrawable;
+import org.telepatch.android.ImageReceiver;
 
 import java.io.File;
 import java.util.Locale;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatMessageCell.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatMessageCell.java
index a28e59ba2..da00738dd 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMessageCell.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatMessageCell.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui.Cells;
+package org.telepatch.ui.Cells;
 
 import android.content.Context;
 import android.graphics.Canvas;
@@ -14,9 +14,9 @@
 import android.text.style.ClickableSpan;
 import android.view.MotionEvent;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.MessageObject;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.MessageObject;
 
 public class ChatMessageCell extends ChatBaseCell {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatOrUserCell.java b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatOrUserCell.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatOrUserCell.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatOrUserCell.java
index 7008878d8..89302ad53 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatOrUserCell.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/ChatOrUserCell.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui.Cells;
+package org.telepatch.ui.Cells;
 
 import android.content.Context;
 import android.graphics.Canvas;
@@ -17,16 +17,16 @@
 import android.text.TextPaint;
 import android.text.TextUtils;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.PhoneFormat.PhoneFormat;
-import org.telegram.android.ContactsController;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.android.MessagesController;
-import org.telegram.messenger.R;
-import org.telegram.messenger.UserConfig;
-import org.telegram.android.ImageReceiver;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.PhoneFormat.PhoneFormat;
+import org.telepatch.android.ContactsController;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.android.MessagesController;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.android.ImageReceiver;
 
 public class ChatOrUserCell extends BaseCell {
     private static TextPaint namePaint;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/DialogCell.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Cells/DialogCell.java
index f13332df1..52d172794 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Cells/DialogCell.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui.Cells;
+package org.telepatch.ui.Cells;
 
 import android.content.Context;
 import android.graphics.Canvas;
@@ -18,18 +18,18 @@
 import android.text.TextPaint;
 import android.text.TextUtils;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.PhoneFormat.PhoneFormat;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.TLRPC;
-import org.telegram.android.ContactsController;
-import org.telegram.android.Emoji;
-import org.telegram.android.MessagesController;
-import org.telegram.messenger.R;
-import org.telegram.messenger.UserConfig;
-import org.telegram.android.MessageObject;
-import org.telegram.android.ImageReceiver;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.PhoneFormat.PhoneFormat;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.android.ContactsController;
+import org.telepatch.android.Emoji;
+import org.telepatch.android.MessagesController;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.android.MessageObject;
+import org.telepatch.android.ImageReceiver;
 
 public class DialogCell extends BaseCell {
     private static TextPaint namePaint;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/ChatActivity.java
similarity index 95%
rename from TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/ChatActivity.java
index c4af50a4c..e235f3711 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/ChatActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.animation.Animator;
 import android.animation.AnimatorSet;
@@ -26,10 +26,13 @@
 import android.os.Build;
 import android.os.Bundle;
 import android.provider.MediaStore;
+import android.support.v4.app.NotificationManagerCompat;
 import android.text.Html;
 import android.text.TextUtils;
+import android.util.Log;
 import android.util.SparseArray;
 import android.view.Gravity;
+import android.view.KeyEvent;
 import android.view.LayoutInflater;
 import android.view.MotionEvent;
 import android.view.View;
@@ -38,6 +41,7 @@
 import android.webkit.MimeTypeMap;
 import android.widget.AbsListView;
 import android.widget.AdapterView;
+import android.widget.EditText;
 import android.widget.FrameLayout;
 import android.widget.ImageView;
 import android.widget.LinearLayout;
@@ -45,47 +49,50 @@
 import android.widget.TextView;
 import android.widget.Toast;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.PhoneFormat.PhoneFormat;
-import org.telegram.android.LocaleController;
-import org.telegram.android.MediaController;
-import org.telegram.android.MessagesStorage;
-import org.telegram.android.NotificationsController;
-import org.telegram.android.SendMessagesHelper;
-import org.telegram.messenger.FileLoader;
-import org.telegram.messenger.TLRPC;
-import org.telegram.android.ContactsController;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.MessageObject;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.android.MessagesController;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.messenger.UserConfig;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.Adapters.BaseFragmentAdapter;
-import org.telegram.ui.Cells.ChatActionCell;
-import org.telegram.ui.Cells.ChatAudioCell;
-import org.telegram.ui.Cells.ChatBaseCell;
-import org.telegram.ui.Cells.ChatContactCell;
-import org.telegram.ui.Cells.ChatMediaCell;
-import org.telegram.ui.Cells.ChatMessageCell;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.ActionBarMenu;
-import org.telegram.ui.Views.ActionBar.ActionBarMenuItem;
-import org.telegram.ui.Views.BackupImageView;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.ChatActivityEnterView;
-import org.telegram.android.ImageReceiver;
-import org.telegram.ui.Views.LayoutListView;
-import org.telegram.ui.Views.SizeNotifierRelativeLayout;
-import org.telegram.ui.Views.TimerButton;
-import org.telegram.ui.Views.TypingDotsDrawable;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.PhoneFormat.PhoneFormat;
+import org.telepatch.android.FutureSearch;
+import org.telepatch.android.LocaleController;
+import org.telepatch.android.MediaController;
+import org.telepatch.android.MessagesStorage;
+import org.telepatch.android.NotificationsController;
+import org.telepatch.android.SendMessagesHelper;
+import org.telepatch.messenger.FileLoader;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.android.ContactsController;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.MessageObject;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Cells.ChatActionCell;
+import org.telepatch.ui.Cells.ChatAudioCell;
+import org.telepatch.ui.Cells.ChatBaseCell;
+import org.telepatch.ui.Cells.ChatContactCell;
+import org.telepatch.ui.Cells.ChatMediaCell;
+import org.telepatch.ui.Cells.ChatMessageCell;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenu;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenuItem;
+import org.telepatch.ui.Views.BackupImageView;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.ChatActivityEnterView;
+import org.telepatch.android.ImageReceiver;
+import org.telepatch.ui.Views.LayoutListView;
+import org.telepatch.ui.Views.SizeNotifierRelativeLayout;
+import org.telepatch.ui.Views.TimerButton;
+import org.telepatch.ui.Views.TypingDotsDrawable;
 
 import java.io.File;
 import java.util.ArrayList;
 import java.util.Collections;
 import java.util.HashMap;
+import java.util.concurrent.ExecutionException;
+import java.util.concurrent.Future;
 import java.util.concurrent.Semaphore;
 
 public class ChatActivity extends BaseFragment implements NotificationCenter.NotificationCenterDelegate, MessagesActivity.MessagesActivityDelegate,
@@ -183,6 +190,12 @@
     private final static int attach_location = 10;
     private final static int chat_menu_avatar = 11;
 
+    //TODO implemento i controlli di ricerca
+    private final static int chat_menu_search = 12;
+    private static boolean searching;
+    private ActionBarMenuItem item_search;
+    public static final int dialogsNeedReload = 4;
+
     AdapterView.OnItemLongClickListener onItemLongClickListener = new AdapterView.OnItemLongClickListener() {
         @Override
         public boolean onItemLongClick(AdapterView<?> adapter, View view, int position, long id) {
@@ -200,7 +213,8 @@ public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {
                 processRowSelect(view);
                 return;
             }
-            createMenu(view, true);
+            //TODO qui elimino il menu del single click sul messaggio
+            //createMenu(view, true);
         }
     };
 
@@ -328,6 +342,11 @@ public void run() {
         } else {
             return false;
         }
+
+        //TODO qui elimino la notifica una volta entrato nella chat
+        NotificationManagerCompat nmc = NotificationManagerCompat.from(ApplicationLoader.applicationContext);
+        nmc.cancel((int)dialog_id);
+
         chatActivityEnterView = new ChatActivityEnterView();
         chatActivityEnterView.setDialogId(dialog_id);
         chatActivityEnterView.setDelegate(new ChatActivityEnterView.ChatActivityEnterViewDelegate() {
@@ -612,7 +631,9 @@ public void startDocumentSelectActivity() {
                                 }
                             }
                         }
-                        MessagesController.getInstance().deleteMessages(ids, random_ids, currentEncryptedChat);
+                        //MessagesController.getInstance().deleteMessages(ids, random_ids, currentEncryptedChat);
+                        //TODO qui utilizzo un mio metodo per cancellare i messaggi, cosi' prima mostro un alert
+                        deleteMessages(ids, random_ids, currentEncryptedChat);
                         actionBarLayer.hideActionMode();
                     } else if (id == forward) {
                         Bundle args = new Bundle();
@@ -641,6 +662,56 @@ public void startDocumentSelectActivity() {
                 timeItem = menu.addItemResource(chat_enc_timer, R.layout.chat_header_enc_layout);
             }
 
+            //TODO aggiungo il pulsante di ricerca
+            item_search = menu.addItem(chat_menu_search, R.drawable.ic_ab_search);
+            item_search.setIsSearchField(true).setActionBarMenuItemSearchListener(new ActionBarMenuItem.ActionBarMenuItemSearchListener() {
+                @Override
+                public void onSearchExpand() {
+                    searching = true;
+                }
+
+                @Override
+                public void onSearchCollapse() {
+                    searching = false;
+                    //MessagesController.getInstance().loadMessages(dialog_id, 0, 20, maxMessageId, !cacheEndReaced, minDate, classGuid, false, false);
+                    //NotificationCenter.getInstance().postNotificationName(dialogsNeedReload);
+
+                }
+
+                @Override
+                public void onTextChanged(final EditText editText) {
+                    editText.requestFocus();
+                    editText.setOnKeyListener(new View.OnKeyListener() {
+
+                        public boolean onKey(View v, int keyCode, KeyEvent event) {
+                            boolean result = false;
+                            // se l'evento e' un "tasto premuto" sul tasto enter
+                            if ((event.getAction() == KeyEvent.ACTION_DOWN)
+                                    && (keyCode == KeyEvent.KEYCODE_ENTER)) {
+
+                                //fai azione
+                                if (!editText.getText().toString().equals("")) {
+                                    searchMessages(dialog_id, editText.getText().toString(), new FutureSearch());
+                                    try {
+                                        presentFragment(new SearchResultsActivity(doSearchAndBlock(dialog_id, editText.getText().toString()), getArguments()));
+                                    } catch (ExecutionException e) {
+                                        e.printStackTrace();
+                                    } catch (InterruptedException e) {
+                                        e.printStackTrace();
+                                    } catch (NullPointerException e) {
+                                        Log.e("xela92", "NullPointerException. Forse la connessione di rete e' assente? La ricerca è stata annullata. ");
+                                        e.printStackTrace();
+                                    }
+                                }
+                                result = true;
+                            }
+                            return result;
+                        }
+                    });
+                }
+
+            });
+
             ActionBarMenuItem item = menu.addItem(chat_menu_attach, R.drawable.ic_ab_attach);
             item.addSubItem(attach_photo, LocaleController.getString("ChatTakePhoto", R.string.ChatTakePhoto), R.drawable.ic_attach_photo);
             item.addSubItem(attach_gallery, LocaleController.getString("ChatGallery", R.string.ChatGallery), R.drawable.ic_attach_gallery);
@@ -1038,7 +1109,17 @@ public void onClick(DialogInterface dialogInterface, int i) {
         }
         return fragmentView;
     }
+//TODO cuore della ricerca con blocco
+    private Future<TLRPC.messages_Messages> doSearch(long id, String query) {
+        FutureSearch future = new FutureSearch();
+        searchMessages(id, query, future);
+        return future;
+    }
 
+    //TODO effettua la ricerca con blocco
+    public TLRPC.messages_Messages doSearchAndBlock(long id, String query) throws ExecutionException, InterruptedException {
+        return doSearch(id, query).get();
+    }
     private boolean sendSecretMessageRead(MessageObject messageObject) {
         if (messageObject == null || messageObject.isOut() || !messageObject.isSecretMedia() || messageObject.messageOwner.destroyTime != 0 || messageObject.messageOwner.ttl <= 0) {
             return false;
@@ -1073,6 +1154,17 @@ private void scrollToLastMessage() {
         }
     }
 
+    //TODO Metodo di ricerca
+    public void searchMessages(final long id, final String query, final FutureSearch future) {
+
+        if (query == null) {
+            return;
+        }
+        String tQuery = query.trim().toLowerCase();
+        MessagesController.getInstance().searchMessage(tQuery, id, future);
+
+
+    }
     private void showPagedownButton(boolean show, boolean animated) {
         if (pagedownButton == null) {
             return;
@@ -1859,8 +1951,11 @@ public void run() {
         } else if (id == NotificationCenter.updateInterfaces) {
             int updateMask = (Integer)args[0];
             if ((updateMask & MessagesController.UPDATE_MASK_NAME) != 0 || (updateMask & MessagesController.UPDATE_MASK_STATUS) != 0 || (updateMask & MessagesController.UPDATE_MASK_CHAT_NAME) != 0 || (updateMask & MessagesController.UPDATE_MASK_CHAT_MEMBERS) != 0) {
-                updateSubtitle();
-                updateOnlineCount();
+                //TODO non aggiorno niente se sto effettuando una ricerca
+                if (!searching) {
+                    updateSubtitle();
+                    updateOnlineCount();
+                }
             }
             if ((updateMask & MessagesController.UPDATE_MASK_AVATAR) != 0 || (updateMask & MessagesController.UPDATE_MASK_CHAT_AVATAR) != 0 || (updateMask & MessagesController.UPDATE_MASK_NAME) != 0) {
                 checkAndUpdateAvatar();
@@ -1869,7 +1964,10 @@ public void run() {
             if ((updateMask & MessagesController.UPDATE_MASK_USER_PRINT) != 0) {
                 CharSequence printString = MessagesController.getInstance().printingStrings.get(dialog_id);
                 if (lastPrintString != null && printString == null || lastPrintString == null && printString != null || lastPrintString != null && printString != null && !lastPrintString.equals(printString)) {
-                    updateSubtitle();
+                    //TODO non aggiorno niente se sto effettuando una ricerca
+                    if (!searching) {
+                        updateSubtitle();
+                    }
                 }
             }
             if ((updateMask & MessagesController.UPDATE_MASK_USER_PHONE) != 0) {
@@ -2051,7 +2149,8 @@ public void run() {
                         }
                     }
                 }
-                if (updateChat) {
+                //TODO non aggiorno niente se sto effettuando una ricerca
+                if (updateChat && !searching) {
                     updateSubtitle();
                     checkAndUpdateAvatar();
                 }
@@ -2726,6 +2825,29 @@ public void onClick(DialogInterface dialogInterface, int i) {
         updateVisibleRows();
     }
 
+    public void deleteMessages(ArrayList<Integer> ids, ArrayList<Long> random_ids, TLRPC.EncryptedChat currentEncryptedChat) {
+        final ArrayList<Integer> finalIds = ids;
+        final ArrayList<Long> finalRandomIds = random_ids;
+        final TLRPC.EncryptedChat finalCurrentEncryptedChat = currentEncryptedChat;
+        AlertDialog.Builder alertDelete = new AlertDialog.Builder(getParentActivity());
+        alertDelete.setTitle(R.string.Alert);
+        alertDelete.setMessage(R.string.MessagesDeleteAlert);
+        alertDelete.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {
+            @Override
+            public void onClick(DialogInterface dialogInterface, int i) {
+                MessagesController.getInstance().deleteMessages(finalIds, finalRandomIds, finalCurrentEncryptedChat);
+            }
+        });
+        alertDelete.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {
+            @Override
+            public void onClick(DialogInterface dialogInterface, int i) {
+                updateVisibleRows();
+            }
+        });
+        showAlertDialog(alertDelete);
+
+    }
+
     private void processSelectedOption(int option) {
         if (selectedObject == null) {
             return;
@@ -2743,7 +2865,8 @@ private void processSelectedOption(int option) {
                 random_ids = new ArrayList<Long>();
                 random_ids.add(selectedObject.messageOwner.random_id);
             }
-            MessagesController.getInstance().deleteMessages(ids, random_ids, currentEncryptedChat);
+            deleteMessages(ids, random_ids, currentEncryptedChat);
+            //MessagesController.getInstance().deleteMessages(ids, random_ids, currentEncryptedChat);
         } else if (option == 2) {
             forwaringMessage = selectedObject;
             Bundle args = new Bundle();
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChatProfileActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/ChatProfileActivity.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/ui/ChatProfileActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/ChatProfileActivity.java
index f8f556b48..02cc470d3 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChatProfileActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/ChatProfileActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.AlertDialog;
 import android.content.Context;
@@ -23,26 +23,26 @@
 import android.widget.ListView;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.LocaleController;
-import org.telegram.android.MessagesStorage;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.MessagesController;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.messenger.UserConfig;
-import org.telegram.messenger.Utilities;
-import org.telegram.android.MessageObject;
-import org.telegram.ui.Adapters.BaseFragmentAdapter;
-import org.telegram.ui.Cells.ChatOrUserCell;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.ActionBarMenu;
-import org.telegram.ui.Views.AvatarUpdater;
-import org.telegram.ui.Views.BackupImageView;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.SettingsSectionLayout;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.LocaleController;
+import org.telepatch.android.MessagesStorage;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.android.MessageObject;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Cells.ChatOrUserCell;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenu;
+import org.telepatch.ui.Views.AvatarUpdater;
+import org.telepatch.ui.Views.BackupImageView;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.SettingsSectionLayout;
 
 import java.util.ArrayList;
 import java.util.Collections;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ChatProfileChangeNameActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/ChatProfileChangeNameActivity.java
similarity index 94%
rename from TMessagesProj/src/main/java/org/telegram/ui/ChatProfileChangeNameActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/ChatProfileChangeNameActivity.java
index a77ea02e4..25b47f725 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ChatProfileChangeNameActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/ChatProfileChangeNameActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.Activity;
 import android.content.SharedPreferences;
@@ -24,13 +24,13 @@
 import android.widget.LinearLayout;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.TLRPC;
-import org.telegram.android.MessagesController;
-import org.telegram.messenger.R;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.SettingsSectionLayout;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.android.MessagesController;
+import org.telepatch.messenger.R;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.SettingsSectionLayout;
 
 public class ChatProfileChangeNameActivity extends BaseFragment {
     private EditText firstNameField;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ContactAddActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/ContactAddActivity.java
similarity index 93%
rename from TMessagesProj/src/main/java/org/telegram/ui/ContactAddActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/ContactAddActivity.java
index b136ba519..b19106722 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ContactAddActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/ContactAddActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.Activity;
 import android.content.SharedPreferences;
@@ -21,16 +21,16 @@
 import android.widget.EditText;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.PhoneFormat.PhoneFormat;
-import org.telegram.android.ContactsController;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.TLRPC;
-import org.telegram.android.MessagesController;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.ui.Views.BackupImageView;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.PhoneFormat.PhoneFormat;
+import org.telepatch.android.ContactsController;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.ui.Views.BackupImageView;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
 
 public class ContactAddActivity extends BaseFragment implements NotificationCenter.NotificationCenterDelegate {
     private int user_id;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ContactsActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/ContactsActivity.java
similarity index 95%
rename from TMessagesProj/src/main/java/org/telegram/ui/ContactsActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/ContactsActivity.java
index a65ce45d2..32a974df2 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ContactsActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/ContactsActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.Activity;
 import android.app.AlertDialog;
@@ -28,28 +28,28 @@
 import android.widget.FrameLayout;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.LocaleController;
-import org.telegram.android.MessagesStorage;
-import org.telegram.messenger.TLObject;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.android.ContactsController;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.MessagesController;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.messenger.RPCRequest;
-import org.telegram.messenger.UserConfig;
-import org.telegram.ui.Adapters.ContactsActivityAdapter;
-import org.telegram.ui.Adapters.ContactsActivitySearchAdapter;
-import org.telegram.ui.Cells.ChatOrUserCell;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.ActionBarMenu;
-import org.telegram.ui.Views.ActionBar.ActionBarMenuItem;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.PinnedHeaderListView;
-import org.telegram.ui.Views.SectionedBaseAdapter;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.LocaleController;
+import org.telepatch.android.MessagesStorage;
+import org.telepatch.messenger.TLObject;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.android.ContactsController;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.RPCRequest;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.ui.Adapters.ContactsActivityAdapter;
+import org.telepatch.ui.Adapters.ContactsActivitySearchAdapter;
+import org.telepatch.ui.Cells.ChatOrUserCell;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenu;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenuItem;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.PinnedHeaderListView;
+import org.telepatch.ui.Views.SectionedBaseAdapter;
 
 import java.util.ArrayList;
 import java.util.HashMap;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/CountrySelectActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/CountrySelectActivity.java
similarity index 95%
rename from TMessagesProj/src/main/java/org/telegram/ui/CountrySelectActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/CountrySelectActivity.java
index 9a733f9f8..3fabd19f5 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/CountrySelectActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/CountrySelectActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.content.Context;
 import android.view.LayoutInflater;
@@ -19,19 +19,19 @@
 import android.widget.EditText;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.R;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.Adapters.BaseFragmentAdapter;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.ActionBarMenu;
-import org.telegram.ui.Views.ActionBar.ActionBarMenuItem;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.PinnedHeaderListView;
-import org.telegram.ui.Views.SectionedBaseAdapter;
-import org.telegram.ui.Views.SettingsSectionLayout;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenu;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenuItem;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.PinnedHeaderListView;
+import org.telepatch.ui.Views.SectionedBaseAdapter;
+import org.telepatch.ui.Views.SettingsSectionLayout;
 
 import java.io.BufferedReader;
 import java.io.InputStream;
diff --git a/TMessagesProj/src/main/java/org/telepatch/ui/DeletePasswordActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/DeletePasswordActivity.java
new file mode 100644
index 000000000..acd247aed
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/DeletePasswordActivity.java
@@ -0,0 +1,39 @@
+package org.telepatch.ui;
+
+import android.app.Activity;
+import android.content.SharedPreferences;
+import android.os.Bundle;
+import android.view.View;
+import android.widget.Button;
+
+import org.telepatch.messenger.R;
+
+/**
+ * Created by user on 21/07/14.
+ */
+public class DeletePasswordActivity extends Activity {
+
+        private SharedPreferences pwd_preferences = ApplicationLoader.applicationContext.getSharedPreferences("password", Activity.MODE_PRIVATE);
+        private SharedPreferences.Editor editor;
+
+        @Override
+
+        public void onCreate(Bundle savedInstanceState){
+            super.onCreate(savedInstanceState);
+            setContentView(R.layout.password_remove_layout);
+            setTitle("Telepatch - " + ApplicationLoader.applicationContext.getResources().getString(R.string.del_pwd));
+            Button okButton = (Button) findViewById(R.id.del_button);
+            okButton.setOnClickListener(new View.OnClickListener() {
+                @Override
+                public void onClick(View view) {
+                    editor = pwd_preferences.edit();
+                    editor.putBoolean("EnablePwdRequest", false);
+                    editor.putInt("password", 0);
+                    editor.commit();
+                    finish();
+                }
+            });
+        }
+
+    }
+
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/DocumentSelectActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/DocumentSelectActivity.java
similarity index 95%
rename from TMessagesProj/src/main/java/org/telegram/ui/DocumentSelectActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/DocumentSelectActivity.java
index 293fc3a45..6e4c4f681 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/DocumentSelectActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/DocumentSelectActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.AlertDialog;
 import android.content.BroadcastReceiver;
@@ -24,16 +24,16 @@
 import android.widget.ListView;
 import android.widget.TextView;
 
-import org.telegram.messenger.FileLog;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.R;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.Adapters.BaseFragmentAdapter;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.ActionBarMenu;
-import org.telegram.ui.Views.ActionBar.ActionBarMenuItem;
-import org.telegram.ui.Views.BackupImageView;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenu;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenuItem;
+import org.telepatch.ui.Views.BackupImageView;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
 
 import java.io.BufferedReader;
 import java.io.File;
@@ -407,13 +407,13 @@ private void listRoots() {
         items.add(fs);
 
         try {
-            File telegramPath = new File(Environment.getExternalStorageDirectory(), "Telegram");
-            if (telegramPath.exists()) {
+            File telepatchPath = new File(Environment.getExternalStorageDirectory(), "telepatch");
+            if (telepatchPath.exists()) {
                 fs = new ListItem();
-                fs.title = "Telegram";
-                fs.subtitle = telegramPath.toString();
+                fs.title = "telepatch";
+                fs.subtitle = telepatchPath.toString();
                 fs.icon = R.drawable.ic_directory;
-                fs.file = telegramPath;
+                fs.file = telepatchPath;
                 items.add(fs);
             }
         } catch (Exception e) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/GroupCreateActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/GroupCreateActivity.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/ui/GroupCreateActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/GroupCreateActivity.java
index a8eccbdb4..e19999065 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/GroupCreateActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/GroupCreateActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.Activity;
 import android.content.Context;
@@ -33,25 +33,25 @@
 import android.widget.ImageView;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.PhoneFormat.PhoneFormat;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.android.ContactsController;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.MessagesController;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.messenger.UserConfig;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.ActionBarMenu;
-import org.telegram.ui.Views.BackupImageView;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.PinnedHeaderListView;
-import org.telegram.ui.Views.SectionedBaseAdapter;
-import org.telegram.ui.Views.SettingsSectionLayout;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.PhoneFormat.PhoneFormat;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.android.ContactsController;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenu;
+import org.telepatch.ui.Views.BackupImageView;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.PinnedHeaderListView;
+import org.telepatch.ui.Views.SectionedBaseAdapter;
+import org.telepatch.ui.Views.SettingsSectionLayout;
 
 import java.util.ArrayList;
 import java.util.HashMap;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/GroupCreateFinalActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/GroupCreateFinalActivity.java
similarity index 94%
rename from TMessagesProj/src/main/java/org/telegram/ui/GroupCreateFinalActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/GroupCreateFinalActivity.java
index 331dc705f..d94928a6b 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/GroupCreateFinalActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/GroupCreateFinalActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.AlertDialog;
 import android.app.ProgressDialog;
@@ -21,24 +21,24 @@
 import android.widget.ImageButton;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.android.LocaleController;
-import org.telegram.android.MessagesStorage;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.MessagesController;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.ui.Cells.ChatOrUserCell;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.ActionBarMenu;
-import org.telegram.ui.Views.AvatarUpdater;
-import org.telegram.ui.Views.BackupImageView;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.PinnedHeaderListView;
-import org.telegram.ui.Views.SectionedBaseAdapter;
-import org.telegram.ui.Views.SettingsSectionLayout;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.android.LocaleController;
+import org.telepatch.android.MessagesStorage;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.ui.Cells.ChatOrUserCell;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenu;
+import org.telepatch.ui.Views.AvatarUpdater;
+import org.telepatch.ui.Views.BackupImageView;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.PinnedHeaderListView;
+import org.telepatch.ui.Views.SectionedBaseAdapter;
+import org.telepatch.ui.Views.SettingsSectionLayout;
 
 import java.util.ArrayList;
 import java.util.concurrent.Semaphore;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/IdenticonActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/IdenticonActivity.java
similarity index 90%
rename from TMessagesProj/src/main/java/org/telegram/ui/IdenticonActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/IdenticonActivity.java
index affe474ea..aa4045b9b 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/IdenticonActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/IdenticonActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.content.Context;
 import android.os.Bundle;
@@ -20,14 +20,14 @@
 import android.widget.LinearLayout;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.TLRPC;
-import org.telegram.android.MessagesController;
-import org.telegram.messenger.R;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.IdenticonView;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.android.MessagesController;
+import org.telepatch.messenger.R;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.IdenticonView;
 
 public class IdenticonActivity extends BaseFragment {
     private int chat_id;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/IntroActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/IntroActivity.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/ui/IntroActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/IntroActivity.java
index ebcf31338..1a911c03e 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/IntroActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/IntroActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.Activity;
 import android.content.Intent;
@@ -25,10 +25,10 @@
 import android.widget.ImageView;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.R;
-import org.telegram.messenger.Utilities;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.Utilities;
 
 public class IntroActivity extends Activity {
     private ViewPager viewPager;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LanguageSelectActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/LanguageSelectActivity.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/ui/LanguageSelectActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/LanguageSelectActivity.java
index 0ab87bc8b..c12a3e79e 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LanguageSelectActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/LanguageSelectActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.AlertDialog;
 import android.content.Context;
@@ -21,16 +21,16 @@
 import android.widget.ListView;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.R;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.Adapters.BaseFragmentAdapter;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.ActionBarMenu;
-import org.telegram.ui.Views.ActionBar.ActionBarMenuItem;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenu;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenuItem;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
 
 import java.util.ArrayList;
 import java.util.Timer;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/LaunchActivity.java
similarity index 95%
rename from TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/LaunchActivity.java
index 9806c5d89..fd4647bce 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LaunchActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/LaunchActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.Activity;
 import android.content.ContentResolver;
@@ -33,19 +33,19 @@
 import android.widget.TextView;
 import android.widget.Toast;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.PhoneFormat.PhoneFormat;
-import org.telegram.android.SendMessagesHelper;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.LocaleController;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.UserConfig;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.Views.ActionBar.ActionBarLayout;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.PhoneFormat.PhoneFormat;
+import org.telepatch.android.SendMessagesHelper;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.LocaleController;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayout;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
 
 import java.io.BufferedReader;
 import java.io.InputStream;
@@ -289,6 +289,13 @@ public void onClick(View v) {
                             SettingsWallpapersActivity settings = new SettingsWallpapersActivity();
                             actionBarLayout.addFragmentToStack(settings);
                             settings.restoreSelfArgs(savedInstanceState);
+                            //TODO qui e' dove ad un fragment faccio corrispondere una azione
+                        } else if (fragmentName.equals("theme_chooser")) {
+                            SettingsThemeChooserActivity chooser = new SettingsThemeChooserActivity();
+                            actionBarLayout.addFragmentToStack(chooser);
+                        } else if (fragmentName.equals("password_activity")) {
+                            SettingsPasswordActivity password = new SettingsPasswordActivity();
+                            actionBarLayout.addFragmentToStack(password);
                         }
                     }
                 }
@@ -301,6 +308,11 @@ public void onClick(View v) {
         needLayout();
     }
 
+    //TODO questo metodo deve restare vuoto, viene Overridato da PopupMainActivity se necessario.
+    public void setUpWindow() {
+
+    }
+
     private void handleIntent(Intent intent, boolean isNew, boolean restore) {
         boolean pushOpened = false;
 
@@ -512,7 +524,7 @@ private void handleIntent(Intent intent, boolean isNew, boolean restore) {
                     } catch (Exception e) {
                         FileLog.e("tmessages", e);
                     }
-                } else if (intent.getAction().equals("org.telegram.messenger.OPEN_ACCOUNT")) {
+                } else if (intent.getAction().equals("org.telepatch.messenger.OPEN_ACCOUNT")) {
                     open_settings = 1;
                 }
             }
@@ -937,7 +949,13 @@ protected void onSaveInstanceState(Bundle outState) {
                 } else if (lastFragment instanceof ChatProfileActivity && args != null) {
                     outState.putBundle("args", args);
                     outState.putString("fragment", "chat_profile");
-                }
+                //TODO qui e' dove nomino i fragments
+            } else if (lastFragment instanceof SettingsThemeChooserActivity) {
+                outState.putString("fragment", "theme_chooser");
+            } else if (lastFragment instanceof SettingsPasswordActivity) {
+                outState.putString("fragment", "password_activity");
+            }
+
                 lastFragment.saveSelfArgs(outState);
             }
         } catch (Exception e) {
@@ -950,7 +968,16 @@ public void onBackPressed() {
         if (PhotoViewer.getInstance().isVisible()) {
             PhotoViewer.getInstance().closePhoto(true);
         } else {
-            if (AndroidUtilities.isTablet()) {
+            //TODO qui gestisco il relock (password request)
+            if (mainFragmentsStack.size() > 0) {
+                if (mainFragmentsStack.get(mainFragmentsStack.size() - 1) instanceof MessagesActivity) {
+                    PasswordRequestActivity pwd = new PasswordRequestActivity();
+                    pwd.lock();
+                }
+            }
+
+
+                if (AndroidUtilities.isTablet()) {
                 if (layersActionBarLayout.getVisibility() == View.VISIBLE) {
                     layersActionBarLayout.onBackPressed();
                 } else {
@@ -966,6 +993,18 @@ public void onBackPressed() {
             } else {
                 actionBarLayout.onBackPressed();
             }
+
+            //TODO dopo il quick reply se ho premuto back mi riporta sulla lista dei messaggi e non sul vecchio messaggio.
+
+            if (getIntent().getExtras() != null) {
+                if (getIntent().getExtras().getBoolean("isQuickReply")) {
+                    BaseFragment fragment = mainFragmentsStack.get(mainFragmentsStack.size() - 1);
+                    fragment.onPause();
+                    fragment.onFragmentDestroy();
+                    mainFragmentsStack.remove(fragment);
+                    finish();
+                }
+            }
         }
     }
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LocationActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/LocationActivity.java
similarity index 95%
rename from TMessagesProj/src/main/java/org/telegram/ui/LocationActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/LocationActivity.java
index e3e065e87..67de047d0 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LocationActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/LocationActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.content.Context;
 import android.location.Location;
@@ -27,20 +27,20 @@
 import com.google.android.gms.maps.model.Marker;
 import com.google.android.gms.maps.model.MarkerOptions;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.ContactsController;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.TLRPC;
-import org.telegram.android.MessageObject;
-import org.telegram.android.MessagesController;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.ActionBarMenu;
-import org.telegram.ui.Views.ActionBar.ActionBarMenuItem;
-import org.telegram.ui.Views.BackupImageView;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.ContactsController;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.android.MessageObject;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenu;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenuItem;
+import org.telepatch.ui.Views.BackupImageView;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
 
 import java.util.List;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LoginActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/LoginActivity.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/ui/LoginActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/LoginActivity.java
index 990fbc452..5ffbc564f 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LoginActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/LoginActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.animation.Animator;
 import android.app.AlertDialog;
@@ -22,14 +22,14 @@
 import android.widget.ScrollView;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.R;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.ActionBarMenu;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.SlideView;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.R;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenu;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.SlideView;
 
 import java.util.Map;
 import java.util.Set;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LoginActivityPhoneView.java b/TMessagesProj/src/main/java/org/telepatch/ui/LoginActivityPhoneView.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/ui/LoginActivityPhoneView.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/LoginActivityPhoneView.java
index 79d0926cf..3fd8b47c9 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LoginActivityPhoneView.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/LoginActivityPhoneView.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.content.Context;
 import android.os.Bundle;
@@ -21,18 +21,18 @@
 import android.widget.EditText;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.PhoneFormat.PhoneFormat;
-import org.telegram.messenger.BuildVars;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.TLObject;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.R;
-import org.telegram.messenger.RPCRequest;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.SlideView;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.PhoneFormat.PhoneFormat;
+import org.telepatch.messenger.BuildVars;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.TLObject;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.RPCRequest;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.SlideView;
 
 import java.io.BufferedReader;
 import java.io.InputStreamReader;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LoginActivityRegisterView.java b/TMessagesProj/src/main/java/org/telepatch/ui/LoginActivityRegisterView.java
similarity index 93%
rename from TMessagesProj/src/main/java/org/telegram/ui/LoginActivityRegisterView.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/LoginActivityRegisterView.java
index be477fe5f..150ab948f 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LoginActivityRegisterView.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/LoginActivityRegisterView.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.content.Context;
 import android.os.Bundle;
@@ -17,18 +17,18 @@
 import android.widget.EditText;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.TLObject;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.android.ContactsController;
-import org.telegram.android.MessagesController;
-import org.telegram.android.MessagesStorage;
-import org.telegram.messenger.R;
-import org.telegram.messenger.RPCRequest;
-import org.telegram.messenger.UserConfig;
-import org.telegram.ui.Views.SlideView;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.TLObject;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.android.ContactsController;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.MessagesStorage;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.RPCRequest;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.ui.Views.SlideView;
 
 import java.util.ArrayList;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/LoginActivitySmsView.java b/TMessagesProj/src/main/java/org/telepatch/ui/LoginActivitySmsView.java
similarity index 95%
rename from TMessagesProj/src/main/java/org/telegram/ui/LoginActivitySmsView.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/LoginActivitySmsView.java
index d9187fba1..3ca686109 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/LoginActivitySmsView.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/LoginActivitySmsView.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.content.Context;
 import android.content.Intent;
@@ -21,21 +21,21 @@
 import android.widget.EditText;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.PhoneFormat.PhoneFormat;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.TLObject;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.android.ContactsController;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.MessagesController;
-import org.telegram.android.MessagesStorage;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.messenger.RPCRequest;
-import org.telegram.messenger.UserConfig;
-import org.telegram.ui.Views.SlideView;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.PhoneFormat.PhoneFormat;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.TLObject;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.android.ContactsController;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.MessagesStorage;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.RPCRequest;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.ui.Views.SlideView;
 
 import java.util.ArrayList;
 import java.util.Locale;
@@ -106,7 +106,7 @@ public void onClick(View v) {
 
                     Intent mailer = new Intent(Intent.ACTION_SEND);
                     mailer.setType("message/rfc822");
-                    mailer.putExtra(Intent.EXTRA_EMAIL, new String[]{"sms@telegram.org"});
+                    mailer.putExtra(Intent.EXTRA_EMAIL, new String[]{"sms@telepatch.org"});
                     mailer.putExtra(Intent.EXTRA_SUBJECT, "Android registration/login issue " + version + " " + requestPhone);
                     mailer.putExtra(Intent.EXTRA_TEXT, "Phone: " + requestPhone + "\nApp version: " + version + "\nOS version: SDK " + Build.VERSION.SDK_INT + "\nDevice Name: " + Build.MANUFACTURER + Build.MODEL + "\nLocale: " + Locale.getDefault() + "\nError: " + lastError);
                     getContext().startActivity(Intent.createChooser(mailer, "Send email..."));
diff --git a/TMessagesProj/src/main/java/org/telepatch/ui/MainActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/MainActivity.java
new file mode 100644
index 000000000..eb15d3c8f
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/MainActivity.java
@@ -0,0 +1,90 @@
+package org.telepatch.ui;
+
+import android.app.Activity;
+import android.content.Intent;
+import android.content.SharedPreferences;
+import android.os.Bundle;
+
+
+/**
+ * Created by user on 17/07/14.
+ */
+public class MainActivity extends Activity {
+
+    private SharedPreferences pwd_settings;
+    private PasswordRequestActivity pwd;
+
+
+    @Override
+    public void onCreate(Bundle savedInstanceState) {
+    super.onCreate(savedInstanceState);
+        pwd_settings = getSharedPreferences("password", MODE_PRIVATE);
+        if (pwd_settings.getBoolean("EnablePwdRequest", false)) {
+            pwd = new PasswordRequestActivity();
+
+        if (pwd.isLocked()) {
+            Intent i = new Intent(this, PasswordRequestActivity.class);
+            i.putExtra("isFromMain", true);
+            startActivity(i);
+        }
+    }
+        //Log.i("xela92", "bloccato? oncreate? " +pwd.isLocked());
+
+    }
+
+    @Override
+    public void onResume() {
+        super.onResume();
+        //Log.i("xela92", "bloccato? onresume?" +pwd.isLocked());
+        if (pwd == null || !pwd.isLocked()) {
+            Intent start;
+            if (getIntent().getExtras() != null) {
+                if (getIntent().getExtras().getBoolean("isQuickReply")) {
+                    start = new Intent(ApplicationLoader.applicationContext, PopupMainActivity.class);
+                } else {
+                    start = new Intent(ApplicationLoader.applicationContext, LaunchActivity.class);
+                }
+            } else {
+                start = new Intent(ApplicationLoader.applicationContext, LaunchActivity.class);
+                //vero, ma inutile!
+                //start.putExtra("isFromMain", true);
+            }
+
+            prepareExtras(getIntent(), start);
+            finish();
+            startActivity(start);
+        } else {
+            Intent i = new Intent(this, PasswordRequestActivity.class);
+            i.putExtra("isFromMain", true);
+            startActivity(i);
+        }
+
+    }
+
+
+
+    public void prepareExtras(Intent from, Intent to) {
+        if (from.getExtras() != null) {
+            int chat_id = from.getExtras().getInt("chatId");
+            int user_id = from.getExtras().getInt("userId");
+            int enc_id = from.getExtras().getInt("encId");
+            boolean isQuickReply = from.getExtras().getBoolean("isQuickReply");
+                if (chat_id != 0) {
+                    to.putExtra("chatId", chat_id);
+                }
+                if (user_id != 0) {
+                    to.putExtra("userId", user_id);
+                }
+            to.putExtra("encId", enc_id);
+            to.putExtra("isQuickReply", isQuickReply);
+            to.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);
+            to.setAction("com.tmessages.openchat" + Math.random() + Integer.MAX_VALUE);
+        }
+
+
+    }
+
+
+
+}
+
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/MediaActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/MediaActivity.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/ui/MediaActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/MediaActivity.java
index 0eb4b6c5b..21e7f2740 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/MediaActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/MediaActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.Activity;
 import android.content.Context;
@@ -24,18 +24,18 @@
 import android.widget.GridView;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.FileLoader;
-import org.telegram.messenger.TLRPC;
-import org.telegram.android.MessageObject;
-import org.telegram.android.MessagesController;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.ui.Adapters.BaseFragmentAdapter;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.BackupImageView;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.FileLoader;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.android.MessageObject;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.BackupImageView;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
 
 import java.util.ArrayList;
 import java.util.HashMap;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/MessagesActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/MessagesActivity.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/ui/MessagesActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/MessagesActivity.java
index 477a519a5..341fb46e2 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/MessagesActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/MessagesActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.AlertDialog;
 import android.content.Context;
@@ -24,26 +24,26 @@
 import android.widget.ListView;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.TLObject;
-import org.telegram.messenger.TLRPC;
-import org.telegram.android.ContactsController;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.MessagesController;
-import org.telegram.android.MessagesStorage;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.messenger.UserConfig;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.Adapters.BaseContactsSearchAdapter;
-import org.telegram.ui.Cells.ChatOrUserCell;
-import org.telegram.ui.Cells.DialogCell;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.ActionBarMenu;
-import org.telegram.ui.Views.ActionBar.ActionBarMenuItem;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.SettingsSectionLayout;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.TLObject;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.android.ContactsController;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.MessagesStorage;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.Adapters.BaseContactsSearchAdapter;
+import org.telepatch.ui.Cells.ChatOrUserCell;
+import org.telepatch.ui.Cells.DialogCell;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenu;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenuItem;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.SettingsSectionLayout;
 
 import java.util.ArrayList;
 import java.util.Timer;
@@ -225,6 +225,9 @@ public void onItemClick(int id) {
             searchWas = false;
 
             fragmentView = inflater.inflate(R.layout.messages_list, container, false);
+            //TODO qui imposto il colore di sfondo della lista messaggi
+            //fragmentView.setBackgroundResource(R.color.theme_red);
+
 
             messagesListViewAdapter = new MessagesAdapter(getParentActivity());
 
diff --git a/TMessagesProj/src/main/java/org/telepatch/ui/PasswordRequestActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/PasswordRequestActivity.java
new file mode 100644
index 000000000..d85f65336
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/PasswordRequestActivity.java
@@ -0,0 +1,89 @@
+package org.telepatch.ui;
+
+import android.app.Activity;
+import android.content.Context;
+import android.content.Intent;
+import android.content.SharedPreferences;
+import android.os.Bundle;
+import android.text.Editable;
+import android.text.TextWatcher;
+import android.util.Log;
+import android.widget.EditText;
+
+import org.telepatch.messenger.R;
+
+/**
+ * Created by user on 17/07/14.
+ */
+public class PasswordRequestActivity extends Activity {
+    private SharedPreferences pwd_preferences = ApplicationLoader.applicationContext.getSharedPreferences("password", Activity.MODE_PRIVATE);
+    private int storedPassword;
+    private static boolean locked = true;
+    private Context context = this;
+
+    @Override
+    public void onCreate(Bundle savedInstanceState) {
+      super.onCreate(savedInstanceState);
+        setContentView(R.layout.password_request_layout);
+
+        this.setTitle("Telepatch - " + ApplicationLoader.applicationContext.getResources().getString(R.string.pwd_request_title));
+
+        final EditText editText = (EditText) findViewById(R.id.password);
+                storedPassword = pwd_preferences.getInt("password", 0);
+            editText.addTextChangedListener(new TextWatcher() {
+                @Override
+                public void beforeTextChanged(CharSequence charSequence, int i, int i2, int i3) {
+                }
+
+                @Override
+                public void onTextChanged(CharSequence charSequence, int i, int i2, int i3) {
+
+                }
+
+                @Override
+                public void afterTextChanged(Editable editable) {
+                    if (storedPassword == editable.toString().hashCode()) {
+                        Bundle extras = getIntent().getExtras();
+                        if (extras != null) {
+                            if (extras.getBoolean("isDeletePassword", false)) {
+                                Intent delete = new Intent(context, DeletePasswordActivity.class);
+                                startActivity(delete);
+                            }
+                            if (extras.getBoolean("isSetPassword", false)) {
+                                Intent set = new Intent(context, PasswordSetActivity.class);
+                                startActivity(set);
+                            }
+                        }
+                        Log.i("xela92", "autenticato");
+                        unlock();
+                        finish();
+                    }
+
+                }
+            });
+    }
+
+    public boolean isLocked() {
+        return locked;
+    }
+
+    public void lock() {
+        locked = true;
+    }
+
+    public void unlock() {
+        locked = false;
+    }
+    @Override
+    public void onBackPressed() {
+        if (getIntent().getExtras() != null) {
+            if (getIntent().getExtras().getBoolean("isFromMain")) {
+                //Log.i("xela92", "viene dalla main");
+                moveTaskToBack(true);
+            } else {
+                super.onBackPressed();
+            }
+        }
+    }
+}
+
diff --git a/TMessagesProj/src/main/java/org/telepatch/ui/PasswordSetActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/PasswordSetActivity.java
new file mode 100644
index 000000000..af7532688
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/PasswordSetActivity.java
@@ -0,0 +1,80 @@
+package org.telepatch.ui;
+
+import android.app.Activity;
+import android.app.AlertDialog;
+import android.content.Context;
+import android.content.DialogInterface;
+import android.content.SharedPreferences;
+import android.os.Bundle;
+import android.view.View;
+import android.widget.Button;
+import android.widget.EditText;
+
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.R;
+
+/**
+ * Created by user on 17/07/14.
+ */
+public class PasswordSetActivity extends Activity {
+    private SharedPreferences pwd_preferences = ApplicationLoader.applicationContext.getSharedPreferences("password", Activity.MODE_PRIVATE);
+    private SharedPreferences.Editor editor;
+    private Context context = this;
+
+
+    @Override
+    public void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.password_set_layout);
+        setTitle("Telepatch - " + ApplicationLoader.applicationContext.getResources().getString(R.string.pwd_set_title));
+        final EditText firstEditText = (EditText) findViewById(R.id.password_set);
+        final EditText secondEditText = (EditText) findViewById(R.id.password_set_check);
+        Button okButton = (Button) findViewById(R.id.ok_button);
+        okButton.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                if (firstEditText.getText().toString().equals(secondEditText.getText().toString()) && firstEditText.getText().length() > 0) {
+                    editor = pwd_preferences.edit();
+                    editor.putInt("password", firstEditText.getText().toString().hashCode());
+                    editor.putBoolean("EnablePwdRequest", true);
+                    editor.commit();
+                    finish();
+                } else if (!firstEditText.getText().toString().equals(secondEditText.getText().toString())) {
+                    if (firstEditText.getText().toString().equals("") || secondEditText.getText().toString().equals("")) {
+                        AlertDialog.Builder builder = new AlertDialog.Builder(context);
+                        builder.setTitle(LocaleController.getString("empty title", R.string.pwd_empty_title));
+                        builder.setMessage(LocaleController.getString("empty", R.string.pwd_empty));
+                        builder.setPositiveButton(LocaleController.getString("ok", R.string.OK), new DialogInterface.OnClickListener(
+                        ) {
+                            @Override
+                            public void onClick(DialogInterface dialogInterface, int i) { }
+                        });
+                        builder.show();
+                    } else {
+                        AlertDialog.Builder builder = new AlertDialog.Builder(context);
+                        builder.setTitle(LocaleController.getString("error title", R.string.pwd_set_error_title));
+                        builder.setMessage(LocaleController.getString("error", R.string.pwd_set_error));
+                        builder.setPositiveButton(LocaleController.getString("ok", R.string.OK), new DialogInterface.OnClickListener(
+                        ) {
+                            @Override
+                            public void onClick(DialogInterface dialogInterface, int i) { }
+                        });
+                        builder.show();
+                    }
+                } else if (firstEditText.getText().toString().equals("") || secondEditText.getText().toString().equals("")) {
+                    AlertDialog.Builder builder = new AlertDialog.Builder(context);
+                    builder.setTitle(LocaleController.getString("empty title", R.string.pwd_empty_title));
+                    builder.setMessage(LocaleController.getString("empty", R.string.pwd_empty));
+                    builder.setPositiveButton(LocaleController.getString("ok", R.string.OK), new DialogInterface.OnClickListener(
+                    ) {
+                        @Override
+                        public void onClick(DialogInterface dialogInterface, int i) { }
+                    });
+                    builder.show();
+                }
+            }
+        });
+
+    }
+
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PhotoCropActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/PhotoCropActivity.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/ui/PhotoCropActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/PhotoCropActivity.java
index d65194d49..27f6d75c9 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PhotoCropActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/PhotoCropActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.content.Context;
 import android.graphics.Bitmap;
@@ -24,12 +24,12 @@
 import android.widget.FrameLayout;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.ImageLoader;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.R;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.ImageLoader;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.R;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
 
 import java.io.File;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PhotoPickerActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/PhotoPickerActivity.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/ui/PhotoPickerActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/PhotoPickerActivity.java
index 8b93ea57c..9fac0875f 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PhotoPickerActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/PhotoPickerActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.Activity;
 import android.content.Context;
@@ -24,18 +24,18 @@
 import android.widget.ImageView;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.LocaleController;
-import org.telegram.android.MediaController;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.messenger.TLRPC;
-import org.telegram.android.MessageObject;
-import org.telegram.ui.Adapters.BaseFragmentAdapter;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.ActionBarMenu;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.BackupImageView;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.LocaleController;
+import org.telepatch.android.MediaController;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.android.MessageObject;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenu;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.BackupImageView;
 
 import java.util.ArrayList;
 import java.util.HashMap;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java b/TMessagesProj/src/main/java/org/telepatch/ui/PhotoViewer.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/PhotoViewer.java
index c566a2ba3..c12d02d4a 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PhotoViewer.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/PhotoViewer.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.animation.Animator;
 import android.animation.AnimatorListenerAdapter;
@@ -46,27 +46,27 @@
 import android.widget.Scroller;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.ContactsController;
-import org.telegram.android.MessagesStorage;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLoader;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.LocaleController;
-import org.telegram.android.MediaController;
-import org.telegram.android.MessagesController;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.UserConfig;
-import org.telegram.messenger.Utilities;
-import org.telegram.android.MessageObject;
-import org.telegram.ui.Views.ActionBar.ActionBar;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.ActionBarMenu;
-import org.telegram.ui.Views.ActionBar.ActionBarMenuItem;
-import org.telegram.ui.Views.ClippingImageView;
-import org.telegram.android.ImageReceiver;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.ContactsController;
+import org.telepatch.android.MessagesStorage;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLoader;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.LocaleController;
+import org.telepatch.android.MediaController;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.android.MessageObject;
+import org.telepatch.ui.Views.ActionBar.ActionBar;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenu;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenuItem;
+import org.telepatch.ui.Views.ClippingImageView;
+import org.telepatch.android.ImageReceiver;
 
 import java.io.File;
 import java.util.ArrayList;
diff --git a/TMessagesProj/src/main/java/org/telepatch/ui/PopupMainActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/PopupMainActivity.java
new file mode 100644
index 000000000..f35507ea8
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/PopupMainActivity.java
@@ -0,0 +1,64 @@
+package org.telepatch.ui;
+
+import android.graphics.Point;
+import android.view.Display;
+import android.view.Window;
+import android.view.WindowManager;
+
+public class PopupMainActivity extends LaunchActivity {
+
+    /**
+     * This method overrides the MainActivity method to set up the actual window for the popup.
+     * This is really the only method needed to turn the app into popup form. Any other methods would change the behavior of the UI.
+     * Call this method at the beginning of the main activity.
+     * You can't call setContentView(...) before calling the window service because it will throw an error every time.
+     */
+    @Override
+    public void setUpWindow() {
+
+        // Creates the layout for the window and the look of it
+        overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);
+        requestWindowFeature(Window.FEATURE_ACTION_BAR);
+        //getWindow().setFlags(WindowManager.LayoutParams.FLAG_DIM_BEHIND,WindowManager.LayoutParams.FLAG_DIM_BEHIND);
+
+        getWindow().setFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL, WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL);
+        getWindow().setFlags(WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH, WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH);
+
+        // Params for the window.
+        // You can easily set the alpha and the dim behind the window from here
+        WindowManager.LayoutParams params = getWindow().getAttributes();
+        params.alpha = 0.9f;    // lower than one makes it more transparent
+
+        getWindow().setAttributes(params);
+
+
+        // Gets the display size so that you can set the window to a percent of that
+        Display display = getWindowManager().getDefaultDisplay();
+        Point size = new Point();
+        display.getSize(size);
+        int width = size.x;
+        int height = size.y;
+
+
+        // You could also easily used an integer value from the shared preferences to set the percent
+        if (height > width) {
+            getWindow().setLayout((int) (width * .9), (int) (height * .6));
+        } else {
+            getWindow().setLayout((int) (width * .8), (int) (height * .6));
+        }
+    }
+
+    @Override
+    public void onBackPressed() {
+        if (PhotoViewer.getInstance().isVisible()) {
+            PhotoViewer.getInstance().closePhoto(true);
+        } else {
+            overridePendingTransition(android.R.anim.bounce_interpolator, 0);
+            super.onBackPressed();
+            overridePendingTransition(android.R.anim.decelerate_interpolator, 0);
+        }
+
+    }
+
+
+}
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PopupNotificationActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/PopupNotificationActivity.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/ui/PopupNotificationActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/PopupNotificationActivity.java
index 3e7a73393..858bd60fa 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PopupNotificationActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/PopupNotificationActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.Activity;
 import android.app.KeyguardManager;
@@ -29,29 +29,29 @@
 import android.widget.RelativeLayout;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.ContactsController;
-import org.telegram.android.LocaleController;
-import org.telegram.android.MediaController;
-import org.telegram.android.MessagesController;
-import org.telegram.PhoneFormat.PhoneFormat;
-import org.telegram.android.NotificationsController;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLoader;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.messenger.TLRPC;
-import org.telegram.android.MessageObject;
-import org.telegram.android.PhotoObject;
-import org.telegram.ui.Views.ActionBar.ActionBar;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.ActionBarMenu;
-import org.telegram.ui.Views.BackupImageView;
-import org.telegram.ui.Views.ChatActivityEnterView;
-import org.telegram.ui.Views.FrameLayoutFixed;
-import org.telegram.ui.Views.PopupAudioView;
-import org.telegram.ui.Views.TypingDotsDrawable;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.ContactsController;
+import org.telepatch.android.LocaleController;
+import org.telepatch.android.MediaController;
+import org.telepatch.android.MessagesController;
+import org.telepatch.PhoneFormat.PhoneFormat;
+import org.telepatch.android.NotificationsController;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLoader;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.android.MessageObject;
+import org.telepatch.android.PhotoObject;
+import org.telepatch.ui.Views.ActionBar.ActionBar;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenu;
+import org.telepatch.ui.Views.BackupImageView;
+import org.telepatch.ui.Views.ChatActivityEnterView;
+import org.telepatch.ui.Views.FrameLayoutFixed;
+import org.telepatch.ui.Views.PopupAudioView;
+import org.telepatch.ui.Views.TypingDotsDrawable;
 
 import java.io.File;
 import java.util.ArrayList;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ProfileNotificationsActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/ProfileNotificationsActivity.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/ui/ProfileNotificationsActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/ProfileNotificationsActivity.java
index 2a6ff7931..baf69a0d5 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ProfileNotificationsActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/ProfileNotificationsActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.Activity;
 import android.app.AlertDialog;
@@ -26,20 +26,20 @@
 import android.widget.ListView;
 import android.widget.TextView;
 
-import org.telegram.android.MessagesController;
-import org.telegram.android.MessagesStorage;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.LocaleController;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.messenger.RPCRequest;
-import org.telegram.messenger.TLObject;
-import org.telegram.messenger.TLRPC;
-import org.telegram.ui.Adapters.BaseFragmentAdapter;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.ColorPickerView;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.MessagesStorage;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.LocaleController;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.RPCRequest;
+import org.telepatch.messenger.TLObject;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.ColorPickerView;
 
 public class ProfileNotificationsActivity extends BaseFragment implements NotificationCenter.NotificationCenterDelegate {
 
diff --git a/TMessagesProj/src/main/java/org/telepatch/ui/SearchResultsActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/SearchResultsActivity.java
new file mode 100644
index 000000000..930a26b76
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/SearchResultsActivity.java
@@ -0,0 +1,203 @@
+package org.telepatch.ui;
+
+import android.content.Context;
+import android.content.res.Configuration;
+import android.os.Bundle;
+import android.util.Log;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.view.ViewTreeObserver;
+import android.widget.AdapterView;
+import android.widget.ListView;
+import android.widget.TextView;
+
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+
+import java.util.ArrayList;
+
+
+
+public class SearchResultsActivity extends BaseFragment
+{
+    private ListAdapter listAdapter;
+    private ArrayList<String> listArray;
+    private ListView listView;
+    private TLRPC.messages_Messages mess;
+    private int count;
+    private Bundle args;
+
+    /**
+     * constructor. Args is deprecated? May be useful later.
+     * @param mess Messages array
+     * @param args
+     */
+    public SearchResultsActivity(TLRPC.messages_Messages mess, Bundle args) {
+        this.args = args;
+        if (mess == null) {
+            Log.e("xela92", "messaggi non pervenuti");
+        } else {
+            count = 0;
+            this.mess = mess;
+            listArray = new ArrayList<String>();
+            for (TLRPC.Message m : getMessages().messages) {
+                listArray.add(m.message);
+                count++;
+            }
+
+        }
+
+
+
+
+    }
+
+    @Override
+    public View createView(final LayoutInflater inflater, final ViewGroup container) {
+        if (fragmentView == null) {
+            actionBarLayer.setDisplayHomeAsUpEnabled(true, R.drawable.ic_ab_back);
+            actionBarLayer.setBackOverlay(R.layout.updating_state_layout);
+            actionBarLayer.setTitle(LocaleController.getString("SearchResults", R.string.search_results));
+            actionBarLayer.setActionBarMenuOnItemClick(new ActionBarLayer.ActionBarMenuOnItemClick() {
+                @Override
+                public void onItemClick(int id) {
+                    if (id == -1) {
+                        finishFragment();
+                    }
+                }
+            });
+
+            fragmentView = inflater.inflate(R.layout.settings_layout, container, false);
+
+            listAdapter = new ListAdapter(ApplicationLoader.applicationContext);
+            listView = (ListView) fragmentView.findViewById(R.id.listView);
+            //listView.setBackgroundDrawable(ApplicationLoader.cachedWallpaper);
+            listView.setAdapter(listAdapter);
+            listView.setVisibility(View.VISIBLE);
+
+
+            listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
+                @Override
+                public void onItemClick(AdapterView<?> adapterView, View view, final int i, long l) {
+                    //TODO Vai al punto dove si trova quel messaggio
+                    ArrayList<Integer> id = new ArrayList<Integer>();
+
+                    //finishFragment();
+
+                }
+            });
+
+        } else {
+            ViewGroup parent = (ViewGroup) fragmentView.getParent();
+            if (parent != null) {
+                parent.removeView(fragmentView);
+            }
+        }
+        return fragmentView;
+    }
+
+    @Override
+    public boolean onFragmentCreate() {
+        super.onFragmentCreate();
+
+        return true;
+    }
+
+    @Override
+    public void onFragmentDestroy() {
+        super.onFragmentDestroy();
+    }
+
+
+    public void onConfigurationChanged(Configuration newConfig) {
+        super.onConfigurationChanged(newConfig);
+        fixLayout();
+    }
+
+    /**
+     * Gets Messages from search results
+     * @return Messages messages array from search results
+     */
+    private TLRPC.messages_Messages getMessages() {
+        return mess;
+    }
+
+    private void fixLayout() {
+        ViewTreeObserver obs = fragmentView.getViewTreeObserver();
+        obs.addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() {
+            @Override
+            public boolean onPreDraw() {
+                fragmentView.getViewTreeObserver().removeOnPreDrawListener(this);
+
+                if (listView != null) {
+                }
+                return false;
+            }
+        });
+    }
+
+    @Override
+    public void onResume() {
+        super.onResume();
+
+        fixLayout();
+
+    }
+
+    private class ListAdapter extends BaseFragmentAdapter {
+        private Context mContext;
+
+        public ListAdapter(Context context) {
+            mContext = context;
+        }
+
+        public View getView(int i, View view, ViewGroup viewGroup) {
+            if (view == null) {
+                LayoutInflater li = (LayoutInflater) ApplicationLoader.applicationContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
+                view = li.inflate(R.layout.settings_row_button_layout, viewGroup, false);
+            }
+            TextView textView = (TextView)view.findViewById(R.id.settings_row_text);
+            View divider = view.findViewById(R.id.settings_row_divider);
+            if (listArray.get(i).length() >= 70) {
+              textView.setText(listArray.get(i).substring(0, 70).concat("[...]"));
+            } else {
+               textView.setText(listArray.get(i));
+            }
+
+
+            return view;
+
+        }
+        @Override
+        public int getCount() {
+            return count;
+        }
+
+        @Override
+        public int getItemViewType(int i) {
+            if (this.getItem(i) instanceof String) {
+                return 0;
+            } else {
+                return 1;
+            }
+        }
+        @Override
+        public boolean isEmpty() {
+            return false;
+        }
+
+
+    }
+
+}
+
+
+
+
+
+
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/SecretPhotoViewer.java b/TMessagesProj/src/main/java/org/telepatch/ui/SecretPhotoViewer.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/ui/SecretPhotoViewer.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/SecretPhotoViewer.java
index a0164a47a..a8b3b65a8 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/SecretPhotoViewer.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/SecretPhotoViewer.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.Activity;
 import android.content.Context;
@@ -29,16 +29,16 @@
 import android.view.WindowManager;
 import android.widget.FrameLayout;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.ImageLoader;
-import org.telegram.android.ImageReceiver;
-import org.telegram.android.MessageObject;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLoader;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.R;
-import org.telegram.messenger.TLRPC;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.ImageLoader;
+import org.telepatch.android.ImageReceiver;
+import org.telepatch.android.MessageObject;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLoader;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.TLRPC;
 
 import java.io.File;
 import java.util.ArrayList;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsActivity.java
similarity index 94%
rename from TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/SettingsActivity.java
index 1c10cb54c..f33adb678 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/SettingsActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.Activity;
 import android.app.AlertDialog;
@@ -34,33 +34,33 @@
 import android.widget.TextView;
 import android.widget.Toast;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.ContactsController;
-import org.telegram.PhoneFormat.PhoneFormat;
-import org.telegram.android.MediaController;
-import org.telegram.messenger.BuildVars;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.FileLoader;
-import org.telegram.messenger.SerializedData;
-import org.telegram.messenger.TLClassStore;
-import org.telegram.messenger.TLObject;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.MessagesController;
-import org.telegram.android.MessagesStorage;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.messenger.RPCRequest;
-import org.telegram.messenger.UserConfig;
-import org.telegram.android.MessageObject;
-import org.telegram.ui.Adapters.BaseFragmentAdapter;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.AvatarUpdater;
-import org.telegram.ui.Views.BackupImageView;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.NumberPicker;
-import org.telegram.ui.Views.SettingsSectionLayout;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.ContactsController;
+import org.telepatch.PhoneFormat.PhoneFormat;
+import org.telepatch.android.MediaController;
+import org.telepatch.messenger.BuildVars;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.FileLoader;
+import org.telepatch.messenger.SerializedData;
+import org.telepatch.messenger.TLClassStore;
+import org.telepatch.messenger.TLObject;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.MessagesStorage;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.RPCRequest;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.android.MessageObject;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.AvatarUpdater;
+import org.telepatch.ui.Views.BackupImageView;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.NumberPicker;
+import org.telepatch.ui.Views.SettingsSectionLayout;
 
 import java.io.File;
 import java.util.ArrayList;
@@ -95,13 +95,19 @@
     private int wifiDownloadRow;
     private int roamingDownloadRow;
     private int saveToGalleryRow;
-    private int telegramFaqRow;
+    private int telepatchFaqRow;
     private int languageRow;
     private int versionRow;
     private int contactsSectionRow;
     private int contactsReimportRow;
     private int contactsSortRow;
     private int rowCount;
+    //TODO SG e voce "Temi"
+    public int clickCount = 0;
+    private int themeRow;
+    private int pwdRow;
+    //TODO voce Telepatch Add-Ons
+    private int telepatchAddOnsRow;
 
     private static class LinkMovementMethodMy extends LinkMovementMethod {
         @Override
@@ -188,6 +194,12 @@ public void run() {
         notificationRow = rowCount++;
         blockedRow = rowCount++;
         backgroundRow = rowCount++;
+        //TODO Theme and Password
+        themeRow = rowCount++;
+        pwdRow = rowCount++;
+        backgroundRow = rowCount++;
+        //TODO telepatch add ons
+        telepatchAddOnsRow = rowCount++;
         terminateSessionsRow = rowCount++;
         mediaDownloadSection = rowCount++;
         mobileDownloadRow = rowCount++;
@@ -206,7 +218,7 @@ public void run() {
             clearLogsRow = rowCount++;
             switchBackendButtonRow = rowCount++;
         }
-        telegramFaqRow = rowCount++;
+        telepatchFaqRow = rowCount++;
         askQuestionRow = rowCount++;
         logoutRow = rowCount++;
         versionRow = rowCount++;
@@ -284,8 +296,16 @@ public void onClick(DialogInterface dialog, int which) {
                         presentFragment(new SettingsNotificationsActivity());
                     } else if (i == blockedRow) {
                         presentFragment(new SettingsBlockedUsersActivity());
+                        //TODO Theme & PWD
+                    } else if (i == themeRow) {
+                        presentFragment(new SettingsThemeChooserActivity());
+                    } else if (i == pwdRow) {
+                        presentFragment(new SettingsPasswordActivity());
                     } else if (i == backgroundRow) {
                         presentFragment(new SettingsWallpapersActivity());
+                        //TODO Telepatch Add Ons
+                    } else if (i == telepatchAddOnsRow) {
+                        presentFragment(new SettingsTelepatchAddOnsActivity());
                     } else if (i == askQuestionRow) {
                         if (getParentActivity() == null) {
                             return;
@@ -381,9 +401,9 @@ public void onClick(DialogInterface dialogInterface, int i) {
                         });
                         builder.setNegativeButton(LocaleController.getString("Cancel", R.string.Cancel), null);
                         showAlertDialog(builder);
-                    } else if (i == telegramFaqRow) {
+                    } else if (i == telepatchFaqRow) {
                         try {
-                            Intent pickIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(LocaleController.getString("TelegramFaqUrl", R.string.TelegramFaqUrl)));
+                            Intent pickIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(LocaleController.getString("telepatchFaqUrl", R.string.telepatchFaqUrl)));
                             getParentActivity().startActivity(pickIntent);
                         } catch (Exception e) {
                             FileLog.e("tmessages", e);
@@ -715,10 +735,11 @@ public boolean areAllItemsEnabled() {
 
         @Override
         public boolean isEnabled(int i) {
-            return i == textSizeRow || i == enableAnimationsRow || i == blockedRow || i == notificationRow || i == backgroundRow ||
+            //TODO mie row
+            return i == textSizeRow || i == enableAnimationsRow || i == blockedRow || i == notificationRow || i == themeRow || i == pwdRow || i == telepatchAddOnsRow|| i == backgroundRow ||
                     i == askQuestionRow || i == sendLogsRow || i == sendByEnterRow || i == terminateSessionsRow || i == wifiDownloadRow ||
                     i == mobileDownloadRow || i == clearLogsRow || i == roamingDownloadRow || i == languageRow || i == usernameRow ||
-                    i == switchBackendButtonRow || i == telegramFaqRow || i == contactsSortRow || i == contactsReimportRow || i == saveToGalleryRow;
+                    i == switchBackendButtonRow || i == telepatchFaqRow || i == contactsSortRow || i == contactsReimportRow || i == saveToGalleryRow;
         }
 
         @Override
@@ -860,6 +881,16 @@ public void onClick(DialogInterface dialogInterface, int i) {
                 } else if (i == blockedRow) {
                     textView.setText(LocaleController.getString("BlockedUsers", R.string.BlockedUsers));
                     divider.setVisibility(backgroundRow != 0 ? View.VISIBLE : View.INVISIBLE);
+                    //TODO miei controlli su mie row
+                } else if (i == themeRow){
+                    textView.setText(R.string.themeChooser);
+                    divider.setVisibility(View.VISIBLE);
+                } else if (i == pwdRow) {
+                    textView.setText(R.string.pwd_request_title);
+                    divider.setVisibility(View.VISIBLE);
+                } else if (i == telepatchAddOnsRow) {
+                    textView.setText(R.string.telepatchAddOns);
+                    divider.setVisibility(View.VISIBLE);
                 } else if (i == backgroundRow) {
                     textView.setText(LocaleController.getString("ChatBackground", R.string.ChatBackground));
                     divider.setVisibility(View.VISIBLE);
@@ -878,8 +909,8 @@ public void onClick(DialogInterface dialogInterface, int i) {
                 } else if (i == switchBackendButtonRow) {
                     textView.setText("Switch Backend");
                     divider.setVisibility(View.VISIBLE);
-                } else if (i == telegramFaqRow) {
-                    textView.setText(LocaleController.getString("TelegramFAQ", R.string.TelegramFaq));
+                } else if (i == telepatchFaqRow) {
+                    textView.setText(LocaleController.getString("telepatchFAQ", R.string.telepatchFaq));
                     divider.setVisibility(View.VISIBLE);
                 } else if (i == contactsReimportRow) {
                     textView.setText(LocaleController.getString("ImportContacts", R.string.ImportContacts));
@@ -1012,7 +1043,7 @@ public void onClick(DialogInterface dialogInterface, int i) {
                     TextView textView = (TextView)view.findViewById(R.id.settings_row_text);
                     try {
                         PackageInfo pInfo = ApplicationLoader.applicationContext.getPackageManager().getPackageInfo(ApplicationLoader.applicationContext.getPackageName(), 0);
-                        textView.setText(String.format(Locale.US, "Telegram for Android v%s (%d)", pInfo.versionName, pInfo.versionCode));
+                        textView.setText(String.format(Locale.US, "telepatch for Android v%s (%d)", pInfo.versionName, pInfo.versionCode));
                     } catch (Exception e) {
                         FileLog.e("tmessages", e);
                     }
@@ -1081,7 +1112,8 @@ public int getItemViewType(int i) {
                 return 5;
             } else if (i == enableAnimationsRow || i == sendByEnterRow || i == saveToGalleryRow) {
                 return 3;
-            } else if (i == notificationRow || i == blockedRow || i == backgroundRow || i == askQuestionRow || i == sendLogsRow || i == terminateSessionsRow || i == clearLogsRow || i == switchBackendButtonRow || i == telegramFaqRow || i == contactsReimportRow) {
+                //TODO aggiunte mie row
+            } else if (i == notificationRow || i == blockedRow || i == backgroundRow || i == telepatchAddOnsRow || i == themeRow || i == pwdRow || i == askQuestionRow || i == sendLogsRow || i == terminateSessionsRow || i == clearLogsRow || i == switchBackendButtonRow || i == telepatchFaqRow || i == contactsReimportRow) {
                 return 2;
             } else if (i == logoutRow) {
                 return 4;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/SettingsBlockedUsersActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsBlockedUsersActivity.java
similarity index 94%
rename from TMessagesProj/src/main/java/org/telegram/ui/SettingsBlockedUsersActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/SettingsBlockedUsersActivity.java
index 49f3f8791..70b7fdcb0 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/SettingsBlockedUsersActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsBlockedUsersActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.AlertDialog;
 import android.content.Context;
@@ -20,17 +20,17 @@
 import android.widget.ListView;
 import android.widget.TextView;
 
-import org.telegram.PhoneFormat.PhoneFormat;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.TLRPC;
-import org.telegram.android.MessagesController;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.ui.Adapters.BaseFragmentAdapter;
-import org.telegram.ui.Cells.ChatOrUserCell;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.ActionBarMenu;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.PhoneFormat.PhoneFormat;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Cells.ChatOrUserCell;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenu;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
 
 public class SettingsBlockedUsersActivity extends BaseFragment implements NotificationCenter.NotificationCenterDelegate, ContactsActivity.ContactsActivityDelegate {
     private ListView listView;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/SettingsChangeNameActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsChangeNameActivity.java
similarity index 93%
rename from TMessagesProj/src/main/java/org/telegram/ui/SettingsChangeNameActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/SettingsChangeNameActivity.java
index 2d616aff7..f99c35b0c 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/SettingsChangeNameActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsChangeNameActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.Activity;
 import android.content.SharedPreferences;
@@ -23,18 +23,18 @@
 import android.widget.LinearLayout;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.TLObject;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.android.MessagesController;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.messenger.RPCRequest;
-import org.telegram.messenger.UserConfig;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.SettingsSectionLayout;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.TLObject;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.RPCRequest;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.SettingsSectionLayout;
 
 public class SettingsChangeNameActivity extends BaseFragment {
     private EditText firstNameField;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/SettingsChangeUsernameActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsChangeUsernameActivity.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/ui/SettingsChangeUsernameActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/SettingsChangeUsernameActivity.java
index 3f893ca79..76cf2a57e 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/SettingsChangeUsernameActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsChangeUsernameActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.Activity;
 import android.app.AlertDialog;
@@ -29,20 +29,20 @@
 import android.widget.LinearLayout;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.LocaleController;
-import org.telegram.android.MessagesController;
-import org.telegram.android.MessagesStorage;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.R;
-import org.telegram.messenger.RPCRequest;
-import org.telegram.messenger.TLObject;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.UserConfig;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.SettingsSectionLayout;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.LocaleController;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.MessagesStorage;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.RPCRequest;
+import org.telepatch.messenger.TLObject;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.SettingsSectionLayout;
 
 import java.util.ArrayList;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/SettingsNotificationsActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsNotificationsActivity.java
similarity index 93%
rename from TMessagesProj/src/main/java/org/telegram/ui/SettingsNotificationsActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/SettingsNotificationsActivity.java
index 0e2f2c0ba..cb134f314 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/SettingsNotificationsActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsNotificationsActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.Activity;
 import android.app.AlertDialog;
@@ -27,22 +27,22 @@
 import android.widget.TextView;
 import android.widget.Toast;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.LocaleController;
-import org.telegram.android.NotificationsController;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.TLObject;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.MessagesController;
-import org.telegram.messenger.R;
-import org.telegram.messenger.RPCRequest;
-import org.telegram.ui.Adapters.BaseFragmentAdapter;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.ColorPickerView;
-import org.telegram.ui.Views.SettingsSectionLayout;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.LocaleController;
+import org.telepatch.android.NotificationsController;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.TLObject;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.MessagesController;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.RPCRequest;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.ColorPickerView;
+import org.telepatch.ui.Views.SettingsSectionLayout;
 
 public class SettingsNotificationsActivity extends BaseFragment implements NotificationCenter.NotificationCenterDelegate {
     private ListView listView;
@@ -76,6 +76,11 @@
     private int resetNotificationsRow;
     private int rowCount = 0;
 
+    //TODO mie rows
+
+    private int messageQuickReply;
+    private int messageMultipleNotification;
+
     @Override
     public boolean onFragmentCreate() {
         notificationsServiceRow = rowCount++;
@@ -166,6 +171,24 @@ public void onItemClick(AdapterView<?> adapterView, View view, final int i, long
                         editor.commit();
                         listView.invalidateViews();
                         updateServerNotificationsSettings(i == groupPreviewRow);
+                        //TODO qui metto il toggle delle notifiche multiple
+                    } else if (i == messageMultipleNotification) {
+                        SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications", Activity.MODE_PRIVATE);
+                        SharedPreferences.Editor editor = preferences.edit();
+                        boolean enabled;
+                        enabled = preferences.getBoolean("multiple_notify", true);
+                        editor.putBoolean("multiple_notify", !enabled);
+                        editor.commit();
+                        listView.invalidateViews();
+                        //TODO qui metto il toggle della quickReply
+                    } else if (i == messageQuickReply) {
+                        SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications", Activity.MODE_PRIVATE);
+                        SharedPreferences.Editor editor = preferences.edit();
+                        boolean enabled;
+                        enabled = preferences.getBoolean("QuickReplyEnabled", true);
+                        editor.putBoolean("QuickReplyEnabled", !enabled);
+                        editor.commit();
+                        listView.invalidateViews();
                     } else if (i == messageSoundRow || i == groupSoundRow) {
                         try {
                             SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("Notifications", Activity.MODE_PRIVATE);
@@ -579,6 +602,16 @@ public View getView(int i, View view, ViewGroup viewGroup) {
                     }
                     textView.setText(LocaleController.getString("Alert", R.string.Alert));
                     divider.setVisibility(View.VISIBLE);
+                    //TODO qui metto le multiple notifications nell'adapter
+                } else if (i == messageMultipleNotification) {
+                    enabled = preferences.getBoolean("multiple_notify", true);
+                    textView.setText(R.string.multiple_notify);
+                    divider.setVisibility(View.VISIBLE);
+                    //TODO qui metto le quickReply nell'adapter
+                } else if (i == messageQuickReply) {
+                    enabled = preferences.getBoolean("QuickReplyEnabled", true);
+                    textView.setText(R.string.QuickReplyLabel);
+                    divider.setVisibility(View.VISIBLE);
                 } else if (i == messagePreviewRow || i == groupPreviewRow) {
                     if (i == messagePreviewRow) {
                         enabled = preferences.getBoolean("EnablePreviewAll", true);
diff --git a/TMessagesProj/src/main/java/org/telepatch/ui/SettingsPasswordActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsPasswordActivity.java
new file mode 100644
index 000000000..dbf347723
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsPasswordActivity.java
@@ -0,0 +1,183 @@
+package org.telepatch.ui;
+
+import android.app.Activity;
+import android.content.Context;
+import android.content.Intent;
+import android.content.SharedPreferences;
+import android.content.res.Configuration;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.view.ViewTreeObserver;
+import android.widget.AdapterView;
+import android.widget.ListView;
+import android.widget.TextView;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.R;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+
+/**
+ * Created by user on 19/07/14.
+ */
+public class SettingsPasswordActivity extends BaseFragment {
+
+
+        private int passRow;
+        private ListView listView;
+        private ListAdapter listAdapter;
+
+
+        //TODO qui inizio a implementare la logica reale.
+        private int setPasswordRow;
+        private int deletePasswordRequestRow;
+        private SharedPreferences pwd_preferences = ApplicationLoader.applicationContext.getSharedPreferences("password", Activity.MODE_PRIVATE);
+
+        @Override
+        public View createView(final LayoutInflater inflater, final ViewGroup container) {
+            if (fragmentView == null) {
+                actionBarLayer.setDisplayHomeAsUpEnabled(true, R.drawable.ic_ab_back);
+                actionBarLayer.setBackOverlay(R.layout.updating_state_layout);
+                actionBarLayer.setTitle(LocaleController.getString("password protection", R.string.pwd_settings_title));
+                actionBarLayer.setActionBarMenuOnItemClick(new ActionBarLayer.ActionBarMenuOnItemClick() {
+                    @Override
+                    public void onItemClick(int id) {
+                        if (id == -1) {
+                            finishFragment();
+                        }
+                    }
+                });
+
+                fragmentView = inflater.inflate(R.layout.settings_layout, container, false);
+                listAdapter = new ListAdapter(getParentActivity());
+                listView = (ListView) fragmentView.findViewById(R.id.listView);
+                listView.setAdapter(listAdapter);
+                listView.setVisibility(View.VISIBLE);
+                listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
+                    @Override
+                    public void onItemClick(AdapterView<?> adapterView, View view, final int i, long l) {
+                        if (i == setPasswordRow) {
+                            if (pwd_preferences.getBoolean("EnablePwdRequest", false)) {
+                                Intent pwd = new Intent(getParentActivity(), PasswordRequestActivity.class);
+                                pwd.putExtra("isSetPassword", true);
+                                getParentActivity().startActivity(pwd);
+                            } else {
+                                Intent pwd = new Intent(getParentActivity(), PasswordSetActivity.class);
+                                getParentActivity().startActivity(pwd);
+                            }
+                        } else if (i == deletePasswordRequestRow) {
+                            if (pwd_preferences.getBoolean("EnablePwdRequest", false)) {
+                                Intent pwd = new Intent(getParentActivity(), PasswordRequestActivity.class);
+                                pwd.putExtra("isDeletePassword", true);
+                                getParentActivity().startActivity(pwd);
+                            }
+                        }
+                    }
+                });
+
+            } else {
+                ViewGroup parent = (ViewGroup) fragmentView.getParent();
+                if (parent != null) {
+                    parent.removeView(fragmentView);
+                }
+            }
+            return fragmentView;
+        }
+
+        @Override
+        public boolean onFragmentCreate() {
+            super.onFragmentCreate();
+            passRow = 0;
+            setPasswordRow = passRow++;
+            deletePasswordRequestRow = passRow++;
+            return true;
+        }
+
+        @Override
+        public void onFragmentDestroy() {
+            super.onFragmentDestroy();
+        }
+
+        public void onConfigurationChanged(Configuration newConfig) {
+            super.onConfigurationChanged(newConfig);
+            fixLayout();
+        }
+
+
+
+        private void fixLayout() {
+            ViewTreeObserver obs = fragmentView.getViewTreeObserver();
+            obs.addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() {
+                @Override
+                public boolean onPreDraw() {
+                    fragmentView.getViewTreeObserver().removeOnPreDrawListener(this);
+
+                    if (listView != null) {
+                    }
+                    return false;
+                }
+            });
+        }
+
+        @Override
+        public void onResume() {
+            super.onResume();
+
+            fixLayout();
+        }
+        private class ListAdapter extends BaseFragmentAdapter {
+            private Context mContext;
+
+            public ListAdapter(Context context) {
+                mContext = context;
+            }
+
+            public View getView(int i, View view, ViewGroup viewGroup) {
+                if (view == null) {
+                    LayoutInflater li = (LayoutInflater) ApplicationLoader.applicationContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
+                    view = li.inflate(R.layout.settings_row_button_layout, viewGroup, false);
+                    TextView textView = (TextView)view.findViewById(R.id.settings_row_text);
+                    View divider = view.findViewById(R.id.settings_row_divider);
+                    if (i == setPasswordRow) {
+                        textView.setText(R.string.set_pwd);
+                        divider.setVisibility(View.VISIBLE);
+                    } else if (i == deletePasswordRequestRow) {
+                        textView.setText(R.string.del_pwd);
+                        divider.setVisibility(View.VISIBLE);
+                    }
+                }
+                return view;
+
+            }
+            @Override
+            public int getCount() {
+                return passRow;
+            }
+
+            @Override
+            public long getItemId(int i) {
+                return i;
+            }
+
+            @Override
+            public int getItemViewType(int i) {
+                if (i == setPasswordRow || i == deletePasswordRequestRow) {
+                    return 0;
+                } else {
+                    return 1;
+                }
+            }
+            @Override
+            public boolean isEmpty() {
+                return false;
+            }
+
+
+        }
+
+    }
+
+
+
+
diff --git a/TMessagesProj/src/main/java/org/telepatch/ui/SettingsTelepatchAddOnsActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsTelepatchAddOnsActivity.java
new file mode 100644
index 000000000..a2336fabe
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsTelepatchAddOnsActivity.java
@@ -0,0 +1,207 @@
+package org.telepatch.ui;
+
+import android.content.Context;
+import android.content.SharedPreferences;
+import android.content.res.Configuration;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.view.ViewTreeObserver;
+import android.widget.AdapterView;
+import android.widget.ImageView;
+import android.widget.ListView;
+import android.widget.TextView;
+
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.R;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+
+public class SettingsTelepatchAddOnsActivity extends BaseFragment {
+    private int addOnsRow;
+    private ListView listView;
+    private ListAdapter listAdapter;
+
+
+    //TODO qui inizio a implementare la logica reale.
+    private int micHackRow;
+    //private int vibCustomRow;
+    private SharedPreferences addons_preferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", 0);
+
+    @Override
+    public View createView(final LayoutInflater inflater, final ViewGroup container) {
+        if (fragmentView == null) {
+            actionBarLayer.setDisplayHomeAsUpEnabled(true, R.drawable.ic_ab_back);
+            actionBarLayer.setBackOverlay(R.layout.updating_state_layout);
+            actionBarLayer.setTitle(LocaleController.getString("Telepatch Add-Ons", R.string.telepatchAddOns));
+
+            actionBarLayer.setActionBarMenuOnItemClick(new ActionBarLayer.ActionBarMenuOnItemClick() {
+                @Override
+                public void onItemClick(int id) {
+                    if (id == -1) {
+                        finishFragment();
+                    }
+                }
+            });
+
+            fragmentView = inflater.inflate(R.layout.settings_layout, container, false);
+            listAdapter = new ListAdapter(getParentActivity());
+            listView = (ListView) fragmentView.findViewById(R.id.listView);
+            listView.setAdapter(listAdapter);
+            listView.setVisibility(View.VISIBLE);
+            listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
+                boolean enabled = false;
+                @Override
+                public void onItemClick(AdapterView<?> adapterView, View view, final int i, long l) {
+                    if (i == micHackRow) {
+                        enabled = addons_preferences.getBoolean("microphoneHack", true);
+                        addons_preferences.edit().putBoolean("microphoneHack", !enabled).commit();
+                        listView.invalidateViews();
+                   /* } else if (i == vibCustomRow) {
+                        presentFragment(new VibratorCustomizer());
+                    }
+                    */
+                    }
+                }
+
+                });
+
+
+
+
+
+        } else {
+            ViewGroup parent = (ViewGroup) fragmentView.getParent();
+            if (parent != null) {
+                parent.removeView(fragmentView);
+            }
+        }
+        return fragmentView;
+    }
+
+    @Override
+    public boolean onFragmentCreate() {
+        super.onFragmentCreate();
+        addOnsRow = 0;
+        micHackRow = addOnsRow++;
+       // vibCustomRow = addOnsRow++;
+        return true;
+    }
+
+    @Override
+    public void onFragmentDestroy() {
+        super.onFragmentDestroy();
+    }
+
+    public void onConfigurationChanged(Configuration newConfig) {
+        super.onConfigurationChanged(newConfig);
+        fixLayout();
+    }
+
+
+
+    private void fixLayout() {
+        ViewTreeObserver obs = fragmentView.getViewTreeObserver();
+        obs.addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() {
+            @Override
+            public boolean onPreDraw() {
+                fragmentView.getViewTreeObserver().removeOnPreDrawListener(this);
+
+                if (listView != null) {
+                }
+                return false;
+            }
+        });
+    }
+
+    @Override
+    public void onResume() {
+        super.onResume();
+
+        fixLayout();
+    }
+    private class ListAdapter extends BaseFragmentAdapter {
+        private Context mContext;
+
+        public ListAdapter(Context context) {
+            mContext = context;
+        }
+
+        public View getView(int i, View view, ViewGroup viewGroup) {
+
+            if (getItemViewType(i) == 0 ) {
+
+                if (view == null) {
+                    LayoutInflater li = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
+                    view = li.inflate(R.layout.settings_row_check_layout, viewGroup, false);
+                }
+                ImageView checkButton = (ImageView) view.findViewById(R.id.settings_row_check_button);
+                TextView textView = (TextView) view.findViewById(R.id.settings_row_text);
+                View divider = view.findViewById(R.id.settings_row_divider);
+                boolean enabled = false;
+                if (i == micHackRow) {
+                    checkButton.setVisibility(View.VISIBLE);
+                    enabled = addons_preferences.getBoolean("microphoneHack", true);
+                    textView.setText(R.string.mic_hack);
+                    divider.setVisibility(View.VISIBLE);
+                }
+
+                if (enabled) {
+                    checkButton.setImageResource(R.drawable.btn_check_on);
+                } else {
+                    checkButton.setImageResource(R.drawable.btn_check_off);
+                }
+            } else {
+                if (view == null) {
+                    LayoutInflater li = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
+                    view = li.inflate(R.layout.settings_row_check_layout, viewGroup, false);
+                }
+                ImageView checkButton = (ImageView) view.findViewById(R.id.settings_row_check_button);
+                TextView textView = (TextView) view.findViewById(R.id.settings_row_text);
+                View divider = view.findViewById(R.id.settings_row_divider);
+
+              /*  if (i == vibCustomRow) {
+                    checkButton.setVisibility(View.INVISIBLE);
+                    textView.setText(R.string.vibrate_customizer_title);
+                    divider.setVisibility(View.VISIBLE);
+                } */
+            }
+
+            return view;
+
+        }
+        @Override
+        public int getCount() {
+            return addOnsRow;
+        }
+
+        @Override
+        public long getItemId(int i) {
+            return i;
+        }
+        @Override
+        public boolean isEnabled(int i) {
+            return i == micHackRow;
+            //|| i == vibCustomRow;
+        }
+
+        @Override
+        public int getItemViewType(int i) {
+            if (i == micHackRow) {
+                return 0;
+           /* } else if (i == vibCustomRow){
+                return 1;
+            */}  else {
+                return 2;
+            }
+        }
+        @Override
+        public boolean isEmpty() {
+            return false;
+        }
+
+
+    }
+
+}
\ No newline at end of file
diff --git a/TMessagesProj/src/main/java/org/telepatch/ui/SettingsThemeChooserActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsThemeChooserActivity.java
new file mode 100644
index 000000000..b004e208a
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsThemeChooserActivity.java
@@ -0,0 +1,276 @@
+package org.telepatch.ui;
+
+import android.app.Activity;
+import android.app.AlarmManager;
+import android.app.PendingIntent;
+import android.content.Context;
+import android.content.Intent;
+import android.content.SharedPreferences;
+import android.content.res.Configuration;
+import android.text.Spannable;
+import android.text.method.LinkMovementMethod;
+import android.view.LayoutInflater;
+import android.view.MotionEvent;
+import android.view.View;
+import android.view.ViewGroup;
+import android.view.ViewTreeObserver;
+import android.widget.AdapterView;
+import android.widget.ListView;
+import android.widget.TextView;
+
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.R;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.AvatarUpdater;
+
+
+/**
+ * Created by user on 12/07/14.
+ */
+
+class LinkMovementMethodMy extends LinkMovementMethod {
+    @Override
+    public boolean onTouchEvent(TextView widget, Spannable buffer, MotionEvent event) {
+        try {
+            return super.onTouchEvent(widget, buffer, event);
+        } catch (Exception e) {
+            FileLog.e("tmessages", e);
+        }
+        return false;
+    }
+}
+
+
+    public class SettingsThemeChooserActivity extends BaseFragment {
+
+        private int themeRow;
+        private ListView listView;
+        private ListAdapter listAdapter;
+        private AvatarUpdater avatarUpdater = new AvatarUpdater();
+
+
+        //TODO qui inizio a implementare la logica reale.
+        private int themeDefaultRow;
+        private int themeRedRow;
+        private int themeGreenRow;
+        private int themeYellowRow;
+        private int themeFucsiaRow;
+        private int themeVioletRow;
+        private int themeBlueRow;
+        private int themePurpleRow;
+        private int themeMaterialGreenRow;
+
+
+        @Override
+        public View createView(final LayoutInflater inflater, final ViewGroup container) {
+            if (fragmentView == null) {
+                actionBarLayer.setDisplayHomeAsUpEnabled(true, R.drawable.ic_ab_back);
+                actionBarLayer.setBackOverlay(R.layout.updating_state_layout);
+                actionBarLayer.setTitle(LocaleController.getString("themeChooser", R.string.themeChooser));
+                actionBarLayer.setActionBarMenuOnItemClick(new ActionBarLayer.ActionBarMenuOnItemClick() {
+                    @Override
+                    public void onItemClick(int id) {
+                        if (id == -1) {
+                            finishFragment();
+                        }
+                    }
+                });
+
+                fragmentView = inflater.inflate(R.layout.settings_layout, container, false);
+                listAdapter = new ListAdapter(getParentActivity());
+                listView = (ListView) fragmentView.findViewById(R.id.listView);
+                listView.setAdapter(listAdapter);
+                listView.setVisibility(View.VISIBLE);
+                SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", Activity.MODE_PRIVATE);
+                final SharedPreferences.Editor editor = preferences.edit();
+                listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
+                    @Override
+                    public void onItemClick(AdapterView<?> adapterView, View view, final int i, long l) {
+                        Context context = ApplicationLoader.applicationContext;
+                        if (i == themeDefaultRow) {
+                            editor.putInt("theme", 0);
+                            editor.commit();
+                            restartApp();
+                        } else if (i == themeRedRow) {
+                            editor.putInt("theme", 1);
+                            editor.commit();
+                            restartApp();
+                        } else if (i == themeGreenRow) {
+                            editor.putInt("theme", 2);
+                            editor.commit();
+                            restartApp();
+                        } else if (i == themeFucsiaRow) {
+                            editor.putInt("theme", 3);
+                            editor.commit();
+                            restartApp();
+                        } else if (i == themeYellowRow) {
+                            editor.putInt("theme", 4);
+                            editor.commit();
+                            restartApp();
+                        } else if (i == themeVioletRow) {
+                            editor.putInt("theme", 5);
+                            editor.commit();
+                            restartApp();
+                        } else if (i == themeBlueRow) {
+                            editor.putInt("theme", 6);
+                            editor.commit();
+                            restartApp();
+                        } else if (i == themePurpleRow) {
+                            editor.putInt("theme", 7);
+                            editor.commit();
+                            restartApp();
+                        } else if (i == themeMaterialGreenRow) {
+                            editor.putInt("theme", 8);
+                            editor.commit();
+                            restartApp();
+                        }
+
+                    }
+                });
+
+            } else {
+                ViewGroup parent = (ViewGroup) fragmentView.getParent();
+                if (parent != null) {
+                    parent.removeView(fragmentView);
+                }
+            }
+            return fragmentView;
+        }
+
+        @Override
+        public boolean onFragmentCreate() {
+            super.onFragmentCreate();
+            themeRow = 0;
+            themeDefaultRow = themeRow++;
+            themeRedRow = themeRow++;
+            themeGreenRow = themeRow++;
+            themeFucsiaRow = themeRow++;
+            themeYellowRow = themeRow++;
+            themeVioletRow = themeRow++;
+            themeBlueRow = themeRow++;
+            themePurpleRow = themeRow++;
+            themeMaterialGreenRow = themeRow++;
+            return true;
+        }
+
+        @Override
+        public void onFragmentDestroy() {
+            super.onFragmentDestroy();
+        }
+
+
+        public void restartApp() {
+            Context context = ApplicationLoader.applicationContext;
+            Intent mStartActivity = new Intent(context, LaunchActivity.class);
+            int mPendingIntentId = 123456;
+            PendingIntent mPendingIntent = PendingIntent.getActivity(context, mPendingIntentId, mStartActivity, PendingIntent.FLAG_CANCEL_CURRENT);
+            AlarmManager mgr = (AlarmManager)context.getSystemService(Context.ALARM_SERVICE);
+            mgr.set(AlarmManager.RTC, System.currentTimeMillis() + 100, mPendingIntent);
+            System.exit(0);
+        }
+
+        public void onConfigurationChanged(Configuration newConfig) {
+            super.onConfigurationChanged(newConfig);
+            fixLayout();
+        }
+
+
+        private void fixLayout() {
+            ViewTreeObserver obs = fragmentView.getViewTreeObserver();
+            obs.addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() {
+                @Override
+                public boolean onPreDraw() {
+                    fragmentView.getViewTreeObserver().removeOnPreDrawListener(this);
+
+                    if (listView != null) {
+                    }
+                    return false;
+                }
+            });
+        }
+
+        @Override
+        public void onResume() {
+            super.onResume();
+
+            fixLayout();
+        }
+        private class ListAdapter extends BaseFragmentAdapter {
+            private Context mContext;
+
+            public ListAdapter(Context context) {
+                mContext = context;
+            }
+
+            public View getView(int i, View view, ViewGroup viewGroup) {
+                if (view == null) {
+                    LayoutInflater li = (LayoutInflater) ApplicationLoader.applicationContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
+                    view = li.inflate(R.layout.settings_row_button_layout, viewGroup, false);
+                    TextView textView = (TextView)view.findViewById(R.id.settings_row_text);
+                    View divider = view.findViewById(R.id.settings_row_divider);
+                    if (i == themeDefaultRow) {
+                        textView.setText(R.string.theme_default);
+                        divider.setVisibility(View.VISIBLE);
+                    } else if (i == themeRedRow) {
+                        textView.setText(R.string.theme_red);
+                        divider.setVisibility(View.VISIBLE);
+                    } else if (i == themeGreenRow) {
+                        textView.setText(R.string.theme_green);
+                        divider.setVisibility(View.VISIBLE);
+                    } else if (i == themeFucsiaRow) {
+                        textView.setText(R.string.theme_fucsia);
+                        divider.setVisibility(View.VISIBLE);
+                    } else if (i == themeYellowRow) {
+                        textView.setText(R.string.theme_yellow);
+                        divider.setVisibility(View.VISIBLE);
+                    } else if (i == themeVioletRow) {
+                        textView.setText(R.string.theme_violet);
+                        divider.setVisibility(View.VISIBLE);
+                    } else if (i == themeBlueRow) {
+                        textView.setText(R.string.theme_blue);
+                        divider.setVisibility(View.VISIBLE);
+                    } else if (i == themePurpleRow) {
+                        textView.setText(R.string.theme_purple);
+                        divider.setVisibility(View.VISIBLE);
+                    } else if (i == themeMaterialGreenRow) {
+                        textView.setText(R.string.theme_material_green);
+                        divider.setVisibility(View.VISIBLE);
+                    }
+                }
+                return view;
+
+            }
+            @Override
+            public int getCount() {
+                return themeRow;
+            }
+
+            @Override
+            public long getItemId(int i) {
+                return i;
+            }
+
+            @Override
+            public int getItemViewType(int i) {
+                if (i == themeDefaultRow || i == themeRedRow || i == themeGreenRow
+                    || i == themeFucsiaRow || i == themeYellowRow || i == themeVioletRow
+                        ||i == themeBlueRow ||i == themePurpleRow || i == themeMaterialGreenRow) {
+                    return 0;
+                } else {
+                    return 1;
+                }
+            }
+            @Override
+            public boolean isEmpty() {
+                return false;
+            }
+
+
+        }
+
+    }
+
+
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/SettingsWallpapersActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsWallpapersActivity.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/ui/SettingsWallpapersActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/SettingsWallpapersActivity.java
index 8731ed5d9..3068a877b 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/SettingsWallpapersActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/SettingsWallpapersActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.Activity;
 import android.app.AlertDialog;
@@ -29,23 +29,23 @@
 import android.widget.ProgressBar;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.ImageLoader;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.TLObject;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLoader;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.MessagesStorage;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.messenger.RPCRequest;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.Adapters.BaseFragmentAdapter;
-import org.telegram.ui.Views.BackupImageView;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.HorizontalListView;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.ImageLoader;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.TLObject;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLoader;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.MessagesStorage;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.RPCRequest;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Views.BackupImageView;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.HorizontalListView;
 
 import java.io.File;
 import java.io.FileOutputStream;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/UserProfileActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/UserProfileActivity.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/ui/UserProfileActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/UserProfileActivity.java
index 236ce54b8..3d6fc4c41 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/UserProfileActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/UserProfileActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.app.AlertDialog;
 import android.content.Context;
@@ -23,25 +23,25 @@
 import android.widget.ListView;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.PhoneFormat.PhoneFormat;
-import org.telegram.android.LocaleController;
-import org.telegram.android.SendMessagesHelper;
-import org.telegram.messenger.TLRPC;
-import org.telegram.android.ContactsController;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.MessagesController;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.android.MessageObject;
-import org.telegram.ui.Adapters.BaseFragmentAdapter;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.ActionBarMenu;
-import org.telegram.ui.Views.ActionBar.ActionBarMenuItem;
-import org.telegram.ui.Views.BackupImageView;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.IdenticonView;
-import org.telegram.ui.Views.SettingsSectionLayout;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.PhoneFormat.PhoneFormat;
+import org.telepatch.android.LocaleController;
+import org.telepatch.android.SendMessagesHelper;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.android.ContactsController;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.android.MessageObject;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenu;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenuItem;
+import org.telepatch.ui.Views.BackupImageView;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.IdenticonView;
+import org.telepatch.ui.Views.SettingsSectionLayout;
 
 import java.util.ArrayList;
 
diff --git a/TMessagesProj/src/main/java/org/telepatch/ui/VibratorCustomizer.java b/TMessagesProj/src/main/java/org/telepatch/ui/VibratorCustomizer.java
new file mode 100644
index 000000000..b90d95ce0
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/VibratorCustomizer.java
@@ -0,0 +1,186 @@
+package org.telepatch.ui;
+
+import android.content.Context;
+import android.content.SharedPreferences;
+import android.os.Vibrator;
+import android.util.Log;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.view.animation.Animation;
+import android.view.animation.AnimationUtils;
+import android.widget.Button;
+import android.widget.TextView;
+
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.R;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+
+public class VibratorCustomizer extends BaseFragment {
+
+    private Vibrator vib;
+    private String pattern_text;
+    private int[] pattern_ms;
+    private TextView pattern_tv;
+    private boolean canContinue = true;
+    private int count = 0;
+    private final static int VIB_LONG = 1000;
+    private final static int VIB_SHORT = 500;
+    private final static int VIB_PAUSE = 500;
+    private Animation anim = AnimationUtils.loadAnimation(ApplicationLoader.applicationContext, R.anim.button_press_zoom);
+    private SharedPreferences vib_prefs;
+
+
+    public VibratorCustomizer() {
+        vib = (Vibrator) ApplicationLoader.applicationContext.getSystemService(Context.VIBRATOR_SERVICE);
+        pattern_text = "";
+        pattern_ms = new int[10];
+        vib_prefs = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", 0);
+    }
+
+    @Override
+public View createView(final LayoutInflater inflater, final ViewGroup container){
+    if (fragmentView == null) {
+        actionBarLayer.setDisplayHomeAsUpEnabled(true, R.drawable.ic_ab_back);
+        actionBarLayer.setBackOverlay(R.layout.updating_state_layout);
+        actionBarLayer.setTitle(LocaleController.formatString("Vibrator Customizer", R.string.vibrate_customizer_title));
+        actionBarLayer.setActionBarMenuOnItemClick(new ActionBarLayer.ActionBarMenuOnItemClick() {
+            @Override
+            public void onItemClick(int id) {
+                if (id == -1) {
+                    finishFragment();
+                }
+            }
+        });
+        fragmentView = inflater.inflate(R.layout.vibrator_customizer_layout, container, false);
+        pattern_tv = (TextView) fragmentView.findViewById(R.id.vibration_pattern_tv);
+        Button circle_big = (Button) fragmentView.findViewById(R.id.vibrate_circle_big);
+        circle_big.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                view.startAnimation(anim);
+                if (count == 4) {
+                    canContinue = false;
+                    Log.i("xela92", "ecco i valori in ordine: ");
+                    for (int i = 0; i <= 8 ; i++) {
+                        Log.i("xela92", " " + pattern_ms[i]);
+                    }
+                }
+                if (canContinue) {
+                    pattern_ms[count] = VIB_LONG;
+                    pattern_ms[count+1] = 0;
+                    if (pattern_text.equals("")) {
+                        pattern_text = pattern_text.concat(LocaleController.formatString("long", R.string.longpress));
+                    } else {
+                        pattern_text = pattern_text.concat(" - ").concat(LocaleController.formatString("long", R.string.longpress));
+                    }
+                    pattern_tv.setText(pattern_text);
+                    Log.i("xela92", pattern_text + "[ " + pattern_ms[count] +" ]");
+                    vib.cancel();
+                    vib.vibrate(1000);
+                    count+=2;
+                }
+
+
+            }
+        });
+        Button circle_little = (Button) fragmentView.findViewById(R.id.vibrate_circle_little);
+        circle_little.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                view.startAnimation(anim);
+                if (count == 8) {
+                    canContinue = false;
+                    Log.i("xela92", "ecco i valori in ordine: ");
+                    for (int i = 0; i <= 8; i++) {
+                        Log.i("xela92", " " + pattern_ms[i]);
+                    }
+                }
+                if (canContinue) {
+                    pattern_ms[count] = VIB_SHORT;
+                    pattern_ms[count+1] = 0;
+                    if (pattern_text.equals("")) {
+                        pattern_text = pattern_text.concat(LocaleController.formatString("short", R.string.shortpress));
+                    } else {
+                        pattern_text = pattern_text.concat(" - ").concat(LocaleController.formatString("short", R.string.shortpress));
+                    }
+                    pattern_tv.setText(pattern_text);
+                    Log.i("xela92", pattern_text + "[ " + pattern_ms[count] +" ]");
+                    vib.cancel();
+                    vib.vibrate(500);
+                    count+=2;
+                }
+
+
+            }
+        });
+
+
+        Button buttonPause = (Button) fragmentView.findViewById(R.id.vibrate_circle_pause);
+
+        buttonPause.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                if (count == 8) {
+                    canContinue = false;
+                    Log.i("xela92", "ecco i valori in ordine: ");
+                    for (int i = 0; i <= 4; i++) {
+                        Log.i("xela92", " " + pattern_ms[i]);
+                    }
+                }
+                if (canContinue) {
+                    pattern_ms[count] = VIB_PAUSE;
+                    if (pattern_text.equals("")) {
+                        pattern_text = pattern_text.concat(LocaleController.formatString("pause", R.string.vibrate_pause));
+                    } else {
+                        pattern_text = pattern_text.concat(" - ").concat(LocaleController.formatString("pause", R.string.vibrate_pause));
+                    }
+                    pattern_tv.setText(pattern_text);
+                    Log.i("xela92", pattern_text + "[ " + pattern_ms[count] +" ]");
+                    vib.cancel();
+                    count++;
+                }
+            }
+        });
+        Button buttonUndo = (Button) fragmentView.findViewById(R.id.cancel_button);
+
+        buttonUndo.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                count = 0;
+                pattern_text = "";
+                pattern_tv.setText(pattern_text);
+                canContinue = true;
+            }
+        });
+        Button buttonSave = (Button) fragmentView.findViewById(R.id.save_button);
+        buttonSave.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                    SharedPreferences.Editor editor = vib_prefs.edit();
+                    String pattern_to_save = "";
+                    for (int i : pattern_ms) {
+                        pattern_to_save = pattern_to_save.concat(i+" ");
+                    }
+                    Log.i("xela92", "pattern to save: "+pattern_to_save);
+                    editor.putString("vibration", pattern_to_save);
+                    editor.commit();
+
+            }
+        });
+    } else {
+        ViewGroup parent = (ViewGroup) fragmentView.getParent();
+        if (parent != null) {
+            parent.removeView(fragmentView);
+        }
+    }
+    return fragmentView;
+
+}
+
+
+
+
+
+}
\ No newline at end of file
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/VideoEditorActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/VideoEditorActivity.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/ui/VideoEditorActivity.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/VideoEditorActivity.java
index 18ed3fd96..59c5d039a 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/VideoEditorActivity.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/VideoEditorActivity.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui;
+package org.telepatch.ui;
 
 import android.annotation.TargetApi;
 import android.app.Activity;
@@ -40,17 +40,17 @@
 import com.googlecode.mp4parser.util.Matrix;
 import com.googlecode.mp4parser.util.Path;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.LocaleController;
-import org.telegram.android.MediaController;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.R;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.Views.ActionBar.ActionBarLayer;
-import org.telegram.ui.Views.ActionBar.ActionBarMenu;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
-import org.telegram.ui.Views.VideoSeekBarView;
-import org.telegram.ui.Views.VideoTimelineView;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.LocaleController;
+import org.telepatch.android.MediaController;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.Views.ActionBar.ActionBarLayer;
+import org.telepatch.ui.Views.ActionBar.ActionBarMenu;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.ui.Views.VideoSeekBarView;
+import org.telepatch.ui.Views.VideoTimelineView;
 
 import java.io.File;
 import java.util.List;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBar.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBar.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBar.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBar.java
index d616b9dde..419f99184 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBar.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBar.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Views.ActionBar;
+package org.telepatch.ui.Views.ActionBar;
 
 import android.animation.Animator;
 import android.animation.ObjectAnimator;
@@ -19,8 +19,8 @@
 import android.view.ViewGroup;
 import android.widget.FrameLayout;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.messenger.R;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.messenger.R;
 
 import java.util.ArrayList;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarLayer.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBarLayer.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarLayer.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBarLayer.java
index 1dfef5f50..2e606da70 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarLayer.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBarLayer.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Views.ActionBar;
+package org.telepatch.ui.Views.ActionBar;
 
 import android.content.Context;
 import android.content.res.Configuration;
@@ -21,8 +21,8 @@
 import android.widget.ImageView;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.messenger.R;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.messenger.R;
 
 public class ActionBarLayer extends FrameLayout {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarLayout.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBarLayout.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarLayout.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBarLayout.java
index e4ce88d0c..4f0765935 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarLayout.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBarLayout.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Views.ActionBar;
+package org.telepatch.ui.Views.ActionBar;
 
 import android.animation.Animator;
 import android.animation.AnimatorSet;
@@ -30,10 +30,10 @@
 import android.view.animation.AnimationUtils;
 import android.widget.FrameLayout;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.R;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.R;
 
 import java.util.ArrayList;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarMenu.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBarMenu.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarMenu.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBarMenu.java
index ae1288bdb..63b30719a 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarMenu.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBarMenu.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Views.ActionBar;
+package org.telepatch.ui.Views.ActionBar;
 
 import android.content.Context;
 import android.util.AttributeSet;
@@ -16,7 +16,7 @@
 import android.widget.ImageView;
 import android.widget.LinearLayout;
 
-import org.telegram.android.AndroidUtilities;
+import org.telepatch.android.AndroidUtilities;
 
 public class ActionBarMenu extends LinearLayout {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarMenuItem.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBarMenuItem.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarMenuItem.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBarMenuItem.java
index c3a3937d8..039e749b6 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarMenuItem.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBarMenuItem.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Views.ActionBar;
+package org.telepatch.ui.Views.ActionBar;
 
 import android.content.Context;
 import android.graphics.Rect;
@@ -30,9 +30,9 @@
 import android.widget.LinearLayout;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.R;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.R;
 
 import java.lang.reflect.Field;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarPopupWindow.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBarPopupWindow.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarPopupWindow.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBarPopupWindow.java
index 698ab7c39..9cfb13b02 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/ActionBarPopupWindow.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/ActionBarPopupWindow.java
@@ -1,5 +1,5 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
@@ -8,7 +8,7 @@
 
 //Thanks to https://github.com/JakeWharton/ActionBarSherlock/
 
-package org.telegram.ui.Views.ActionBar;
+package org.telepatch.ui.Views.ActionBar;
 
 import android.content.Context;
 import android.util.AttributeSet;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/BaseFragment.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/BaseFragment.java
similarity index 74%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/BaseFragment.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/BaseFragment.java
index 51e4b430b..2f1adeef7 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/ActionBar/BaseFragment.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ActionBar/BaseFragment.java
@@ -1,25 +1,29 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui.Views.ActionBar;
+package org.telepatch.ui.Views.ActionBar;
 
 import android.app.Activity;
 import android.app.AlertDialog;
 import android.content.DialogInterface;
 import android.content.Intent;
+import android.content.SharedPreferences;
 import android.os.Bundle;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
 
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.R;
+import org.telepatch.android.MediaController;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.R;
+import org.telepatch.ui.ApplicationLoader;
+import org.telepatch.ui.Views.ChatActivityEnterView;
 
 public class BaseFragment {
     private boolean isFinished = false;
@@ -68,7 +72,33 @@ public void setParentLayout(ActionBarLayout layout) {
                 }
                 actionBarLayer = parentLayout.getInternalActionBar().createLayer();
                 actionBarLayer.parentFragment = this;
-                actionBarLayer.setBackgroundResource(R.color.header);
+                //actionBarLayer.setBackgroundResource(R.color.header);
+                //TODO gestione dei temi
+                SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", Activity.MODE_PRIVATE);
+                int theme = preferences.getInt("theme", 0);
+                int theme_selected = R.color.theme_default;
+                if (theme == 0) {
+                    theme_selected = R.color.theme_default;
+                } else if (theme == 1) {
+                    theme_selected = R.color.theme_red;
+                } else if (theme == 2) {
+                    theme_selected = R.color.theme_green;
+                } else if (theme == 3) {
+                    theme_selected = R.color.theme_fucsia;
+                } else if (theme == 4) {
+                    theme_selected = R.color.theme_yellow;
+                } else if (theme == 5) {
+                    theme_selected = R.color.theme_violet;
+                } else if (theme == 6) {
+                    theme_selected = R.color.theme_blue;
+                } else if (theme == 7) {
+                    theme_selected = R.color.theme_purple;
+                } else if (theme == 8) {
+                    theme_selected = R.color.theme_material_green;
+                }
+
+
+                actionBarLayer.setBackgroundResource(theme_selected);
                 actionBarLayer.setItemsBackground(R.drawable.bar_selector);
             }
         }
@@ -111,6 +141,11 @@ public void onResume() {
     public void onPause() {
         if (actionBarLayer != null) {
             actionBarLayer.onPause();
+            //TODO evitiamo che con la mod della registrazione messaggi se faccio uno swipe back mi mandi il messaggio
+            if (ChatActivityEnterView.isRecording()) {
+                MediaController.getInstance().stopRecording(false);
+                MediaController.getInstance().setNeedsVibration(false);
+            }
             actionBarLayer.closeSearchField();
         }
         try {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/AvatarUpdater.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/AvatarUpdater.java
similarity index 92%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/AvatarUpdater.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/AvatarUpdater.java
index 1fe286753..fd629ef16 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/AvatarUpdater.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/AvatarUpdater.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.app.Activity;
 import android.content.Intent;
@@ -15,17 +15,17 @@
 import android.os.Bundle;
 import android.provider.MediaStore;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.ImageLoader;
-import org.telegram.messenger.TLRPC;
-import org.telegram.messenger.FileLoader;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.UserConfig;
-import org.telegram.messenger.Utilities;
-import org.telegram.ui.LaunchActivity;
-import org.telegram.ui.PhotoCropActivity;
-import org.telegram.ui.Views.ActionBar.BaseFragment;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.ImageLoader;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.messenger.FileLoader;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.UserConfig;
+import org.telepatch.messenger.Utilities;
+import org.telepatch.ui.LaunchActivity;
+import org.telepatch.ui.PhotoCropActivity;
+import org.telepatch.ui.Views.ActionBar.BaseFragment;
 
 import java.io.File;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/BackupImageView.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/BackupImageView.java
similarity index 94%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/BackupImageView.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/BackupImageView.java
index b584dcdaf..1d8fafee0 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/BackupImageView.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/BackupImageView.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.content.Context;
 import android.graphics.Bitmap;
@@ -16,8 +16,8 @@
 import android.util.AttributeSet;
 import android.view.View;
 
-import org.telegram.android.ImageReceiver;
-import org.telegram.messenger.TLRPC;
+import org.telepatch.android.ImageReceiver;
+import org.telepatch.messenger.TLRPC;
 
 public class BackupImageView extends View {
     public ImageReceiver imageReceiver;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/ChatActivityEnterView.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ChatActivityEnterView.java
similarity index 89%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/ChatActivityEnterView.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/ChatActivityEnterView.java
index 5dbd1fdbb..b54637e8f 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/ChatActivityEnterView.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ChatActivityEnterView.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.animation.Animator;
 import android.animation.AnimatorListenerAdapter;
@@ -36,18 +36,18 @@
 import android.widget.PopupWindow;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.Emoji;
-import org.telegram.android.LocaleController;
-import org.telegram.android.MediaController;
-import org.telegram.android.MessagesController;
-import org.telegram.android.SendMessagesHelper;
-import org.telegram.messenger.ConnectionsManager;
-import org.telegram.messenger.FileLog;
-import org.telegram.android.NotificationCenter;
-import org.telegram.messenger.R;
-import org.telegram.messenger.TLRPC;
-import org.telegram.ui.ApplicationLoader;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.Emoji;
+import org.telepatch.android.LocaleController;
+import org.telepatch.android.MediaController;
+import org.telepatch.android.MessagesController;
+import org.telepatch.android.SendMessagesHelper;
+import org.telepatch.messenger.ConnectionsManager;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.android.NotificationCenter;
+import org.telepatch.messenger.R;
+import org.telepatch.messenger.TLRPC;
+import org.telepatch.ui.ApplicationLoader;
 
 public class ChatActivityEnterView implements NotificationCenter.NotificationCenterDelegate, SizeNotifierRelativeLayout.SizeNotifierRelativeLayoutDelegate {
 
@@ -78,13 +78,19 @@
     private String lastTimeString = null;
     private float startedDraggingX = -1;
     private float distCanMove = AndroidUtilities.dp(80);
-    private boolean recordingAudio = false;
+    //TODO mod: reso statico il campo
+    private static boolean recordingAudio = false;
 
     private Activity parentActivity;
     private long dialog_id;
     private boolean ignoreTextChange = false;
     private ChatActivityEnterViewDelegate delegate;
 
+    //TODO miei fields
+    private SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", Activity.MODE_PRIVATE);
+    private ImageButton audioCancelButton;
+
+
     public ChatActivityEnterView() {
         NotificationCenter.getInstance().addObserver(this, NotificationCenter.recordStarted);
         NotificationCenter.getInstance().addObserver(this, NotificationCenter.recordStartError);
@@ -133,6 +139,9 @@ public void setContainerView(Activity activity, View containerView) {
         sendButton.setVisibility(View.INVISIBLE);
         emojiButton = (ImageView)containerView.findViewById(R.id.chat_smile_button);
         audioSendButton = (ImageButton)containerView.findViewById(R.id.chat_audio_send_button);
+        //TODO inizializzo i buttons
+        audioCancelButton = (ImageButton)containerView.findViewById(R.id.chat_audio_cancel_button);
+        audioCancelButton.setVisibility(View.INVISIBLE);
         recordPanel = containerView.findViewById(R.id.record_panel);
         recordTimeText = (TextView)containerView.findViewById(R.id.recording_time_text);
         slideText = containerView.findViewById(R.id.slideText);
@@ -201,22 +210,57 @@ public void onClick(View view) {
         audioSendButton.setOnTouchListener(new View.OnTouchListener() {
             @Override
             public boolean onTouch(View view, MotionEvent motionEvent) {
-                if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {
+                //TODO mic hack
+                final boolean isMicHackEnabled = preferences.getBoolean("microphoneHack", true);
+                int stopAction = MotionEvent.ACTION_UP;
+                if (isMicHackEnabled) {
+                    messsageEditText.setEnabled(true);
+                    stopAction = MotionEvent.ACTION_DOWN;
+                }
+                if (motionEvent.getAction() == MotionEvent.ACTION_DOWN && !recordingAudio) {
+                    if (isMicHackEnabled) {
+                        audioSendButton.setImageDrawable(ApplicationLoader.applicationContext.getResources().getDrawable(R.drawable.send_button_states));
+                        messsageEditText.setEnabled(false);
+                        audioCancelButton.setVisibility(View.VISIBLE);
+                        audioCancelButton.setOnTouchListener(new View.OnTouchListener() {
+                            @Override
+                            public boolean onTouch(View view, MotionEvent motionEvent) {
+                                audioCancelButton.setVisibility(View.INVISIBLE);
+                                MediaController.getInstance().stopRecording(false);
+                                if (recordingAudio) {
+                                    recordingAudio = false;
+                                }
+                                audioSendButton.setImageDrawable(ApplicationLoader.applicationContext.getResources().getDrawable(R.drawable.mic_button_states));
+                                updateAudioRecordInterface();
+                                return true;
+                            }
+                        });
+                    }
+
                     startedDraggingX = -1;
                     MediaController.getInstance().startRecording(dialog_id);
-                    updateAudioRecordIntefrace();
+                    updateAudioRecordInterface();
                     audioSendButton.getParent().requestDisallowInterceptTouchEvent(true);
-                } else if (motionEvent.getAction() == MotionEvent.ACTION_UP || motionEvent.getAction() == MotionEvent.ACTION_CANCEL) {
-                    startedDraggingX = -1;
-                    MediaController.getInstance().stopRecording(true);
-                    recordingAudio = false;
-                    updateAudioRecordIntefrace();
-                } else if (motionEvent.getAction() == MotionEvent.ACTION_MOVE && recordingAudio) {
+                    //TODO mod: utilizzo stopAction invece di action_up
+                } else if (motionEvent.getAction() == stopAction || motionEvent.getAction() == MotionEvent.ACTION_CANCEL) {
+                    //TODO Evito problemi controllando se il record e' partito
+                    if (recordingAudio) {
+                        startedDraggingX = -1;
+                        MediaController.getInstance().stopRecording(true);
+                        recordingAudio = false;
+                        if (isMicHackEnabled) {
+                            audioSendButton.setImageDrawable(ApplicationLoader.applicationContext.getResources().getDrawable(R.drawable.mic_button_states));
+                            messsageEditText.setEnabled(true);
+
+                        }
+                        updateAudioRecordInterface();
+                    }
+                } else if (motionEvent.getAction() == MotionEvent.ACTION_MOVE && recordingAudio && !isMicHackEnabled) {
                     float x = motionEvent.getX();
                     if (x < -distCanMove) {
                         MediaController.getInstance().stopRecording(false);
                         recordingAudio = false;
-                        updateAudioRecordIntefrace();
+                        updateAudioRecordInterface();
                     }
                     if(android.os.Build.VERSION.SDK_INT > 13) {
                         x = x + audioSendButton.getX();
@@ -305,6 +349,11 @@ public void afterTextChanged(Editable editable) {
 
         checkSendButton(false);
     }
+    //TODO ritorna recordingAudio
+    public static boolean isRecording() {
+        return recordingAudio;
+    }
+
 
     private void sendMessage() {
         if (processSendingText(messsageEditText.getText().toString())) {
@@ -447,7 +496,7 @@ public void onAnimationEnd(Animator animation) {
         }
     }
 
-    private void updateAudioRecordIntefrace() {
+    private void updateAudioRecordInterface() {
         if (recordingAudio) {
             try {
                 if (mWakeLock == null) {
@@ -749,12 +798,12 @@ public void didReceivedNotification(int id, Object... args) {
         } else if (id == NotificationCenter.recordStartError || id == NotificationCenter.recordStopped) {
             if (recordingAudio) {
                 recordingAudio = false;
-                updateAudioRecordIntefrace();
+                updateAudioRecordInterface();
             }
         } else if (id == NotificationCenter.recordStarted) {
             if (!recordingAudio) {
                 recordingAudio = true;
-                updateAudioRecordIntefrace();
+                updateAudioRecordInterface();
             }
         } else if (id == NotificationCenter.audioDidSent) {
             if (delegate != null) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/ClippingImageView.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ClippingImageView.java
similarity index 95%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/ClippingImageView.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/ClippingImageView.java
index 543272ba2..fa8c55ba4 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/ClippingImageView.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ClippingImageView.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.content.Context;
 import android.graphics.Bitmap;
@@ -15,7 +15,7 @@
 import android.graphics.Rect;
 import android.view.View;
 
-import org.telegram.messenger.FileLog;
+import org.telepatch.messenger.FileLog;
 
 public class ClippingImageView extends View {
     private int clipBottom;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/ColorPickerView.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ColorPickerView.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/ColorPickerView.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/ColorPickerView.java
index 7135cbfbc..fad02a927 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/ColorPickerView.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ColorPickerView.java
@@ -14,7 +14,7 @@
  * limitations under the License.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.content.Context;
 import android.graphics.Canvas;
@@ -29,7 +29,7 @@
 import android.view.MotionEvent;
 import android.view.View;
 
-import org.telegram.android.AndroidUtilities;
+import org.telepatch.android.AndroidUtilities;
 
 public class ColorPickerView extends View {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/EmojiView.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/EmojiView.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/EmojiView.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/EmojiView.java
index 5664a1cc0..ac3f5b4b9 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/EmojiView.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/EmojiView.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.content.Context;
 import android.database.DataSetObserver;
@@ -24,10 +24,10 @@
 import android.widget.LinearLayout;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.Emoji;
-import org.telegram.android.LocaleController;
-import org.telegram.messenger.R;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.Emoji;
+import org.telepatch.android.LocaleController;
+import org.telepatch.messenger.R;
 
 import java.util.ArrayList;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/FrameLayoutFixed.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/FrameLayoutFixed.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/FrameLayoutFixed.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/FrameLayoutFixed.java
index 73bcd9dcd..bae0320f6 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/FrameLayoutFixed.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/FrameLayoutFixed.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.content.Context;
 import android.graphics.drawable.Drawable;
@@ -14,7 +14,7 @@
 import android.view.View;
 import android.widget.FrameLayout;
 
-import org.telegram.messenger.FileLog;
+import org.telepatch.messenger.FileLog;
 
 import java.util.ArrayList;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/GifDrawable.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/GifDrawable.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/GifDrawable.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/GifDrawable.java
index 5af31e03e..d7617391b 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/GifDrawable.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/GifDrawable.java
@@ -22,7 +22,7 @@ of this software and associated documentation files (the "Software"), to deal
 THE SOFTWARE.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.graphics.Bitmap;
 import android.graphics.Canvas;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/HorizontalListView.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/HorizontalListView.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/HorizontalListView.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/HorizontalListView.java
index 0bef5eb8e..5ca656be6 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/HorizontalListView.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/HorizontalListView.java
@@ -1,11 +1,11 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import java.util.HashMap;
 import java.util.LinkedList;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/IdenticonView.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/IdenticonView.java
similarity index 94%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/IdenticonView.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/IdenticonView.java
index 52e18d260..2f50fbca1 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/IdenticonView.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/IdenticonView.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.content.Context;
 import android.graphics.Canvas;
@@ -14,7 +14,7 @@
 import android.util.AttributeSet;
 import android.view.View;
 
-import org.telegram.messenger.Utilities;
+import org.telepatch.messenger.Utilities;
 
 public class IdenticonView extends View {
     private byte[] data;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/LayoutListView.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/LayoutListView.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/LayoutListView.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/LayoutListView.java
index 4d5617a80..20b31663e 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/LayoutListView.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/LayoutListView.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.content.Context;
 import android.util.AttributeSet;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/NumberPicker.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/NumberPicker.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/NumberPicker.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/NumberPicker.java
index bd5e23b29..0fad4dd15 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/NumberPicker.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/NumberPicker.java
@@ -14,7 +14,7 @@
  * limitations under the License.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.content.Context;
 import android.content.res.ColorStateList;
@@ -38,7 +38,7 @@
 import android.widget.LinearLayout;
 import android.widget.TextView;
 
-import org.telegram.messenger.R;
+import org.telepatch.messenger.R;
 
 import java.util.Locale;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/PagerSlidingTabStrip.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/PagerSlidingTabStrip.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/PagerSlidingTabStrip.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/PagerSlidingTabStrip.java
index 42b79cfbc..b70667ce6 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/PagerSlidingTabStrip.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/PagerSlidingTabStrip.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import java.util.Locale;
 
@@ -33,7 +33,7 @@
 import android.widget.LinearLayout;
 import android.widget.TextView;
 
-import org.telegram.messenger.R;
+import org.telepatch.messenger.R;
 
 public class PagerSlidingTabStrip extends HorizontalScrollView {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/PinnedHeaderListView.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/PinnedHeaderListView.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/PinnedHeaderListView.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/PinnedHeaderListView.java
index 6d31c0b40..ed8479983 100755
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/PinnedHeaderListView.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/PinnedHeaderListView.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.content.Context;
 import android.graphics.Canvas;
@@ -17,7 +17,7 @@
 import android.widget.*;
 import android.widget.AbsListView.OnScrollListener;
 
-import org.telegram.messenger.FileLog;
+import org.telepatch.messenger.FileLog;
 
 public class PinnedHeaderListView extends ListView implements OnScrollListener, View.OnTouchListener {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/PopupAudioView.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/PopupAudioView.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/PopupAudioView.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/PopupAudioView.java
index 2af5b6c6b..192f45c6f 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/PopupAudioView.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/PopupAudioView.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.4.x.
+ * This is the source code of telepatch for Android v. 1.4.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.content.Context;
 import android.graphics.Canvas;
@@ -17,12 +17,12 @@
 import android.view.MotionEvent;
 import android.view.SoundEffectConstants;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.MediaController;
-import org.telegram.messenger.FileLoader;
-import org.telegram.messenger.R;
-import org.telegram.android.MessageObject;
-import org.telegram.ui.Cells.BaseCell;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.MediaController;
+import org.telepatch.messenger.FileLoader;
+import org.telepatch.messenger.R;
+import org.telepatch.android.MessageObject;
+import org.telepatch.ui.Cells.BaseCell;
 
 import java.io.File;
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/ProgressView.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ProgressView.java
similarity index 90%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/ProgressView.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/ProgressView.java
index 671c858f2..2c7ec31a3 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/ProgressView.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/ProgressView.java
@@ -1,17 +1,17 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.graphics.Canvas;
 import android.graphics.Paint;
 
-import org.telegram.android.AndroidUtilities;
+import org.telepatch.android.AndroidUtilities;
 
 public class ProgressView {
     private Paint innerPaint;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/Scroller.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/Scroller.java
similarity index 99%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/Scroller.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/Scroller.java
index b87b9b7cb..5a85c789d 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/Scroller.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/Scroller.java
@@ -14,7 +14,7 @@
  * limitations under the License.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.content.Context;
 import android.hardware.SensorManager;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/SectionedBaseAdapter.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/SectionedBaseAdapter.java
similarity index 97%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/SectionedBaseAdapter.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/SectionedBaseAdapter.java
index 1c9f97d68..a6048427f 100755
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/SectionedBaseAdapter.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/SectionedBaseAdapter.java
@@ -1,19 +1,19 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.database.DataSetObserver;
 import android.util.SparseArray;
 import android.view.View;
 import android.view.ViewGroup;
 
-import org.telegram.ui.Adapters.BaseFragmentAdapter;
+import org.telepatch.ui.Adapters.BaseFragmentAdapter;
 
 public abstract class SectionedBaseAdapter extends BaseFragmentAdapter implements PinnedHeaderListView.PinnedSectionedHeaderAdapter {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/SeekBar.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/SeekBar.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/SeekBar.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/SeekBar.java
index 37543fc27..a545f4ee2 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/SeekBar.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/SeekBar.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.content.Context;
 import android.graphics.Canvas;
@@ -14,8 +14,8 @@
 import android.graphics.drawable.Drawable;
 import android.view.MotionEvent;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.messenger.R;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.messenger.R;
 
 public class SeekBar {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/SettingsSectionLayout.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/SettingsSectionLayout.java
similarity index 93%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/SettingsSectionLayout.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/SettingsSectionLayout.java
index 547e5352f..781c18dd6 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/SettingsSectionLayout.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/SettingsSectionLayout.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.content.Context;
 import android.graphics.Typeface;
@@ -17,8 +17,8 @@
 import android.widget.LinearLayout;
 import android.widget.TextView;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.android.LocaleController;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.android.LocaleController;
 
 public class SettingsSectionLayout extends LinearLayout {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/SizeNotifierRelativeLayout.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/SizeNotifierRelativeLayout.java
similarity index 93%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/SizeNotifierRelativeLayout.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/SizeNotifierRelativeLayout.java
index ffe96479a..dd776f19f 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/SizeNotifierRelativeLayout.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/SizeNotifierRelativeLayout.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.content.Context;
 import android.graphics.Canvas;
@@ -14,8 +14,8 @@
 import android.graphics.drawable.Drawable;
 import android.widget.RelativeLayout;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.messenger.FileLog;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.messenger.FileLog;
 
 public class SizeNotifierRelativeLayout extends RelativeLayout {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/SlideView.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/SlideView.java
similarity index 94%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/SlideView.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/SlideView.java
index 3462651ed..d71ddd7c0 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/SlideView.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/SlideView.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.2.
+ * This is the source code of telepatch for Android v. 1.3.2.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.content.Context;
 import android.os.Bundle;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/TimerButton.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/TimerButton.java
similarity index 94%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/TimerButton.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/TimerButton.java
index 9c6c43048..0f01188ea 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/TimerButton.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/TimerButton.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.3.x.
+ * This is the source code of telepatch for Android v. 1.3.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.content.Context;
 import android.graphics.Canvas;
@@ -19,9 +19,9 @@
 import android.util.AttributeSet;
 import android.view.View;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.R;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.R;
 
 public class TimerButton extends View {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/TypingDotsDrawable.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/TypingDotsDrawable.java
similarity index 96%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/TypingDotsDrawable.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/TypingDotsDrawable.java
index ff9d59c4d..a1b922cd0 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/TypingDotsDrawable.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/TypingDotsDrawable.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.graphics.Canvas;
 import android.graphics.ColorFilter;
@@ -14,7 +14,7 @@
 import android.graphics.drawable.Drawable;
 import android.view.animation.DecelerateInterpolator;
 
-import org.telegram.android.AndroidUtilities;
+import org.telepatch.android.AndroidUtilities;
 
 public class TypingDotsDrawable extends Drawable {
     private boolean isChat = false;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/URLSpanNoUnderline.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/URLSpanNoUnderline.java
similarity index 84%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/URLSpanNoUnderline.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/URLSpanNoUnderline.java
index c2d7b1e0f..0131fe8cf 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/URLSpanNoUnderline.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/URLSpanNoUnderline.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.text.TextPaint;
 import android.text.style.URLSpan;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/VideoSeekBarView.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/VideoSeekBarView.java
similarity index 95%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/VideoSeekBarView.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/VideoSeekBarView.java
index f414b650c..e74df38e8 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/VideoSeekBarView.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/VideoSeekBarView.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.content.Context;
 import android.graphics.Canvas;
@@ -16,8 +16,8 @@
 import android.view.MotionEvent;
 import android.view.View;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.messenger.R;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.messenger.R;
 
 public class VideoSeekBarView extends View {
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Views/VideoTimelineView.java b/TMessagesProj/src/main/java/org/telepatch/ui/Views/VideoTimelineView.java
similarity index 98%
rename from TMessagesProj/src/main/java/org/telegram/ui/Views/VideoTimelineView.java
rename to TMessagesProj/src/main/java/org/telepatch/ui/Views/VideoTimelineView.java
index 451a7e14d..c3722c6c4 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Views/VideoTimelineView.java
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/Views/VideoTimelineView.java
@@ -1,12 +1,12 @@
 /*
- * This is the source code of Telegram for Android v. 1.7.x.
+ * This is the source code of telepatch for Android v. 1.7.x.
  * It is licensed under GNU GPL v. 2 or later.
  * You should have received a copy of the license in this archive (see LICENSE).
  *
  * Copyright Nikolai Kudashov, 2013-2014.
  */
 
-package org.telegram.ui.Views;
+package org.telepatch.ui.Views;
 
 import android.annotation.TargetApi;
 import android.content.Context;
@@ -21,9 +21,9 @@
 import android.view.MotionEvent;
 import android.view.View;
 
-import org.telegram.android.AndroidUtilities;
-import org.telegram.messenger.FileLog;
-import org.telegram.messenger.R;
+import org.telepatch.android.AndroidUtilities;
+import org.telepatch.messenger.FileLog;
+import org.telepatch.messenger.R;
 
 import java.util.ArrayList;
 
diff --git a/TMessagesProj/src/main/java/org/telepatch/ui/sgActivity.java b/TMessagesProj/src/main/java/org/telepatch/ui/sgActivity.java
new file mode 100644
index 000000000..2b08fb6d4
--- /dev/null
+++ b/TMessagesProj/src/main/java/org/telepatch/ui/sgActivity.java
@@ -0,0 +1,24 @@
+/*
+ * This is the source code of Telegram for Android v. 1.3.2.
+ * It is licensed under GNU GPL v. 2 or later.
+ * You should have received a copy of the license in this archive (see LICENSE).
+ *
+ * Copyright Nikolai Kudashov, 2013.
+ */
+
+package org.telepatch.ui;
+
+import android.app.Activity;
+import android.os.Bundle;
+
+import org.telepatch.messenger.R;
+
+public class sgActivity extends Activity{
+    @Override
+    public void onCreate(Bundle savedInstanceState) {
+        setContentView(R.layout.sgactivity_layout);
+
+        super.onCreate(savedInstanceState);
+    }
+}
+
diff --git a/TMessagesProj/src/main/res/.DS_Store b/TMessagesProj/src/main/res/.DS_Store
new file mode 100644
index 000000000..08b4cf8b3
Binary files /dev/null and b/TMessagesProj/src/main/res/.DS_Store differ
diff --git a/TMessagesProj/src/main/res/anim/.DS_Store b/TMessagesProj/src/main/res/anim/.DS_Store
new file mode 100644
index 000000000..50cff57bc
Binary files /dev/null and b/TMessagesProj/src/main/res/anim/.DS_Store differ
diff --git a/TMessagesProj/src/main/res/anim/button_press_zoom.xml b/TMessagesProj/src/main/res/anim/button_press_zoom.xml
new file mode 100644
index 000000000..c4b69e9f2
--- /dev/null
+++ b/TMessagesProj/src/main/res/anim/button_press_zoom.xml
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="utf-8"?>
+<set xmlns:android="http://schemas.android.com/apk/res/android">
+    <scale
+        android:fromXScale="1.0"
+        android:fromYScale="1.0"
+        android:toXScale="1.2"
+        android:toYScale="1.2"
+        android:pivotX="50%"
+        android:pivotY="50%"
+        android:duration="300" />
+
+    <alpha
+        android:duration="300"
+        android:fromAlpha="1.0"
+        android:toAlpha="0.4" />
+
+
+</set>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/.DS_Store b/TMessagesProj/src/main/res/drawable-hdpi/.DS_Store
new file mode 100644
index 000000000..7464d5b44
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/.DS_Store differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/sg.png b/TMessagesProj/src/main/res/drawable-hdpi/sg.png
new file mode 100644
index 000000000..8d3b666fc
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/sg.png differ
diff --git a/TMessagesProj/src/main/res/drawable-hdpi/telepatch_mini.png b/TMessagesProj/src/main/res/drawable-hdpi/telepatch_mini.png
new file mode 100644
index 000000000..07a5907d2
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable-hdpi/telepatch_mini.png differ
diff --git a/TMessagesProj/src/main/res/drawable/.DS_Store b/TMessagesProj/src/main/res/drawable/.DS_Store
new file mode 100644
index 000000000..a3b77c528
Binary files /dev/null and b/TMessagesProj/src/main/res/drawable/.DS_Store differ
diff --git a/TMessagesProj/src/main/res/drawable/bar_selector_picker.xml b/TMessagesProj/src/main/res/drawable/bar_selector_picker.xml
index 3a705f195..05dab9c81 100644
--- a/TMessagesProj/src/main/res/drawable/bar_selector_picker.xml
+++ b/TMessagesProj/src/main/res/drawable/bar_selector_picker.xml
@@ -1,5 +1,5 @@
 <!--
-  ~ This is the source code of Telegram for Android v. 1.4.x.
+  ~ This is the source code of telepatch for Android v. 1.4.x.
   ~ It is licensed under GNU GPL v. 2 or later.
   ~ You should have received a copy of the license in this archive (see LICENSE).
   ~
diff --git a/TMessagesProj/src/main/res/drawable/bar_selector_white.xml b/TMessagesProj/src/main/res/drawable/bar_selector_white.xml
index 313bf1833..6f142321f 100644
--- a/TMessagesProj/src/main/res/drawable/bar_selector_white.xml
+++ b/TMessagesProj/src/main/res/drawable/bar_selector_white.xml
@@ -1,5 +1,5 @@
 <!--
-  ~ This is the source code of Telegram for Android v. 1.4.x.
+  ~ This is the source code of telepatch for Android v. 1.4.x.
   ~ It is licensed under GNU GPL v. 2 or later.
   ~ You should have received a copy of the license in this archive (see LICENSE).
   ~
diff --git a/TMessagesProj/src/main/res/drawable/circle_shape.xml b/TMessagesProj/src/main/res/drawable/circle_shape.xml
new file mode 100644
index 000000000..1d4f2bef6
--- /dev/null
+++ b/TMessagesProj/src/main/res/drawable/circle_shape.xml
@@ -0,0 +1,9 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:shape="oval">
+
+    <solid
+        android:color="#ff54759e"/>
+
+</shape>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/drawable/send_button_states.xml b/TMessagesProj/src/main/res/drawable/send_button_states.xml
new file mode 100644
index 000000000..90174a3d0
--- /dev/null
+++ b/TMessagesProj/src/main/res/drawable/send_button_states.xml
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="UTF-8"?>
+
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+    <item android:drawable="@drawable/ic_send_disabled" android:state_enabled="false" />
+    <item android:drawable="@drawable/ic_send" />
+</selector>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout-ar/chat_profile_avatar_layout.xml b/TMessagesProj/src/main/res/layout-ar/chat_profile_avatar_layout.xml
index 5a1b3f9a9..4bb023ec4 100644
--- a/TMessagesProj/src/main/res/layout-ar/chat_profile_avatar_layout.xml
+++ b/TMessagesProj/src/main/res/layout-ar/chat_profile_avatar_layout.xml
@@ -62,7 +62,7 @@
         android:layout_width="64dp"
         android:layout_height="64dp">
 
-        <org.telegram.ui.Views.BackupImageView
+        <org.telepatch.ui.Views.BackupImageView
             android:id="@+id/settings_avatar_image"
             android:layout_width="fill_parent"
             android:layout_height="fill_parent"/>
diff --git a/TMessagesProj/src/main/res/layout-ar/contact_add_layout.xml b/TMessagesProj/src/main/res/layout-ar/contact_add_layout.xml
index 1fc9c0185..a359d507d 100644
--- a/TMessagesProj/src/main/res/layout-ar/contact_add_layout.xml
+++ b/TMessagesProj/src/main/res/layout-ar/contact_add_layout.xml
@@ -51,7 +51,7 @@
 
             </LinearLayout>
 
-            <org.telegram.ui.Views.BackupImageView
+            <org.telepatch.ui.Views.BackupImageView
                 android:id="@+id/settings_avatar_image"
                 android:layout_width="64dp"
                 android:layout_height="64dp"
diff --git a/TMessagesProj/src/main/res/layout-ar/contacts_layout.xml b/TMessagesProj/src/main/res/layout-ar/contacts_layout.xml
index eccbfa38f..6ded7ff25 100644
--- a/TMessagesProj/src/main/res/layout-ar/contacts_layout.xml
+++ b/TMessagesProj/src/main/res/layout-ar/contacts_layout.xml
@@ -3,7 +3,7 @@
     android:layout_width="fill_parent"
     android:layout_height="fill_parent">
 
-    <org.telegram.ui.Views.PinnedHeaderListView
+    <org.telepatch.ui.Views.PinnedHeaderListView
             android:layout_width="fill_parent"
             android:layout_height="fill_parent"
             android:id="@+id/listView"
diff --git a/TMessagesProj/src/main/res/layout-ar/country_select_layout.xml b/TMessagesProj/src/main/res/layout-ar/country_select_layout.xml
index 45a52826a..ffef5ee8a 100644
--- a/TMessagesProj/src/main/res/layout-ar/country_select_layout.xml
+++ b/TMessagesProj/src/main/res/layout-ar/country_select_layout.xml
@@ -3,7 +3,7 @@
     android:layout_height="fill_parent"
     android:background="#fafafa">
 
-    <org.telegram.ui.Views.PinnedHeaderListView
+    <org.telepatch.ui.Views.PinnedHeaderListView
         android:layout_width="fill_parent"
         android:layout_height="fill_parent"
         android:id="@+id/listView"
diff --git a/TMessagesProj/src/main/res/layout-ar/document_item.xml b/TMessagesProj/src/main/res/layout-ar/document_item.xml
index 96d3d776e..9062e8398 100644
--- a/TMessagesProj/src/main/res/layout-ar/document_item.xml
+++ b/TMessagesProj/src/main/res/layout-ar/document_item.xml
@@ -1,5 +1,5 @@
 <!--
-  ~ This is the source code of Telegram for Android v. 1.3.2.
+  ~ This is the source code of telepatch for Android v. 1.3.2.
   ~ It is licensed under GNU GPL v. 2 or later.
   ~ You should have received a copy of the license in this archive (see LICENSE).
   ~
@@ -65,7 +65,7 @@
 
     </LinearLayout>
 
-    <org.telegram.ui.Views.BackupImageView
+    <org.telepatch.ui.Views.BackupImageView
         android:id="@+id/docs_item_thumb"
         android:layout_width="55dp"
         android:layout_height="42dp"
diff --git a/TMessagesProj/src/main/res/layout-ar/group_create_final_layout.xml b/TMessagesProj/src/main/res/layout-ar/group_create_final_layout.xml
index f821e53ec..ff5f8ba68 100644
--- a/TMessagesProj/src/main/res/layout-ar/group_create_final_layout.xml
+++ b/TMessagesProj/src/main/res/layout-ar/group_create_final_layout.xml
@@ -18,7 +18,7 @@
             android:layout_marginRight="16dp"
             android:layout_gravity="top|right">
 
-            <org.telegram.ui.Views.BackupImageView
+            <org.telepatch.ui.Views.BackupImageView
                 android:id="@+id/settings_avatar_image"
                 android:layout_width="fill_parent"
                 android:layout_height="fill_parent"/>
@@ -56,7 +56,7 @@
         android:layout_width="match_parent"
         android:layout_height="match_parent">
 
-        <org.telegram.ui.Views.PinnedHeaderListView
+        <org.telepatch.ui.Views.PinnedHeaderListView
             android:layout_width="fill_parent"
             android:layout_height="fill_parent"
             android:id="@+id/listView"
diff --git a/TMessagesProj/src/main/res/layout-ar/group_create_layout.xml b/TMessagesProj/src/main/res/layout-ar/group_create_layout.xml
index 1de70d4f7..60cc5e692 100644
--- a/TMessagesProj/src/main/res/layout-ar/group_create_layout.xml
+++ b/TMessagesProj/src/main/res/layout-ar/group_create_layout.xml
@@ -36,7 +36,7 @@
         android:layout_width="match_parent"
         android:layout_height="match_parent">
 
-        <org.telegram.ui.Views.PinnedHeaderListView
+        <org.telepatch.ui.Views.PinnedHeaderListView
             android:layout_width="fill_parent"
             android:layout_height="fill_parent"
             android:id="@+id/listView"
diff --git a/TMessagesProj/src/main/res/layout-ar/group_create_row_layout.xml b/TMessagesProj/src/main/res/layout-ar/group_create_row_layout.xml
index 3505f73aa..669e3f844 100644
--- a/TMessagesProj/src/main/res/layout-ar/group_create_row_layout.xml
+++ b/TMessagesProj/src/main/res/layout-ar/group_create_row_layout.xml
@@ -6,7 +6,7 @@
     android:layout_height="66dp"
     android:layout_gravity="top">
 
-    <org.telegram.ui.Views.BackupImageView
+    <org.telepatch.ui.Views.BackupImageView
         android:layout_width="50dp"
         android:layout_height="50dp"
         android:id="@+id/messages_list_row_avatar"
diff --git a/TMessagesProj/src/main/res/layout-ar/launch_layout_tablet.xml b/TMessagesProj/src/main/res/layout-ar/launch_layout_tablet.xml
index a86e2e185..48515832e 100644
--- a/TMessagesProj/src/main/res/layout-ar/launch_layout_tablet.xml
+++ b/TMessagesProj/src/main/res/layout-ar/launch_layout_tablet.xml
@@ -1,5 +1,5 @@
 <!--
-  ~ This is the source code of Telegram for Android v. 1.7.x.
+  ~ This is the source code of telepatch for Android v. 1.7.x.
   ~ It is licensed under GNU GPL v. 2 or later.
   ~ You should have received a copy of the license in this archive (see LICENSE).
   ~
diff --git a/TMessagesProj/src/main/res/layout-ar/location_view_layout.xml b/TMessagesProj/src/main/res/layout-ar/location_view_layout.xml
index 68445322f..21372e0d9 100644
--- a/TMessagesProj/src/main/res/layout-ar/location_view_layout.xml
+++ b/TMessagesProj/src/main/res/layout-ar/location_view_layout.xml
@@ -19,7 +19,7 @@
         android:background="@drawable/location_panel"
         android:id="@+id/location_bottom_view">
 
-        <org.telegram.ui.Views.BackupImageView
+        <org.telepatch.ui.Views.BackupImageView
             android:layout_width="64dp"
             android:layout_height="64dp"
             android:id="@+id/location_avatar_view"
diff --git a/TMessagesProj/src/main/res/layout-ar/settings_name_layout.xml b/TMessagesProj/src/main/res/layout-ar/settings_name_layout.xml
index f6e3dc5bd..754a76753 100644
--- a/TMessagesProj/src/main/res/layout-ar/settings_name_layout.xml
+++ b/TMessagesProj/src/main/res/layout-ar/settings_name_layout.xml
@@ -59,7 +59,7 @@
         android:layout_width="64dp"
         android:layout_height="64dp">
 
-        <org.telegram.ui.Views.BackupImageView
+        <org.telepatch.ui.Views.BackupImageView
             android:id="@+id/settings_avatar_image"
             android:layout_width="fill_parent"
             android:layout_height="fill_parent"/>
diff --git a/TMessagesProj/src/main/res/layout-ar/settings_row_color_layout.xml b/TMessagesProj/src/main/res/layout-ar/settings_row_color_layout.xml
index 389e955b8..a6e208a2b 100644
--- a/TMessagesProj/src/main/res/layout-ar/settings_row_color_layout.xml
+++ b/TMessagesProj/src/main/res/layout-ar/settings_row_color_layout.xml
@@ -1,5 +1,5 @@
 <!--
-  ~ This is the source code of Telegram for Android v. 1.4.x.
+  ~ This is the source code of telepatch for Android v. 1.4.x.
   ~ It is licensed under GNU GPL v. 2 or later.
   ~ You should have received a copy of the license in this archive (see LICENSE).
   ~
diff --git a/TMessagesProj/src/main/res/layout-ar/user_profile_avatar_layout.xml b/TMessagesProj/src/main/res/layout-ar/user_profile_avatar_layout.xml
index 34a2b99cf..ab5aa4f1f 100644
--- a/TMessagesProj/src/main/res/layout-ar/user_profile_avatar_layout.xml
+++ b/TMessagesProj/src/main/res/layout-ar/user_profile_avatar_layout.xml
@@ -39,7 +39,7 @@
 
     </LinearLayout>
 
-    <org.telegram.ui.Views.BackupImageView
+    <org.telepatch.ui.Views.BackupImageView
         android:id="@+id/settings_avatar_image"
         android:layout_width="64dp"
         android:layout_height="64dp"
diff --git a/TMessagesProj/src/main/res/layout-ar/user_profile_identicon_layout.xml b/TMessagesProj/src/main/res/layout-ar/user_profile_identicon_layout.xml
index c35c5daa2..5ac5e1701 100644
--- a/TMessagesProj/src/main/res/layout-ar/user_profile_identicon_layout.xml
+++ b/TMessagesProj/src/main/res/layout-ar/user_profile_identicon_layout.xml
@@ -15,7 +15,7 @@
         android:gravity="center_vertical|right"
         android:layout_gravity="top|right"/>
 
-    <org.telegram.ui.Views.IdenticonView
+    <org.telepatch.ui.Views.IdenticonView
         android:id="@+id/identicon_view"
         android:layout_width="32dp"
         android:layout_height="32dp"
diff --git a/TMessagesProj/src/main/res/layout/.DS_Store b/TMessagesProj/src/main/res/layout/.DS_Store
new file mode 100644
index 000000000..9efafa577
Binary files /dev/null and b/TMessagesProj/src/main/res/layout/.DS_Store differ
diff --git a/TMessagesProj/src/main/res/layout/chat_header_enc_layout.xml b/TMessagesProj/src/main/res/layout/chat_header_enc_layout.xml
index 66a9281eb..5917abf7a 100644
--- a/TMessagesProj/src/main/res/layout/chat_header_enc_layout.xml
+++ b/TMessagesProj/src/main/res/layout/chat_header_enc_layout.xml
@@ -5,7 +5,7 @@
     android:layout_height="wrap_content"
     android:layout_alignParentRight="true">
 
-    <org.telegram.ui.Views.TimerButton
+    <org.telepatch.ui.Views.TimerButton
         xmlns:android="http://schemas.android.com/apk/res/android"
         android:layout_height="fill_parent"
         android:layout_width="48dp"
diff --git a/TMessagesProj/src/main/res/layout/chat_header_layout.xml b/TMessagesProj/src/main/res/layout/chat_header_layout.xml
index 35e9b977d..6d4268d7d 100644
--- a/TMessagesProj/src/main/res/layout/chat_header_layout.xml
+++ b/TMessagesProj/src/main/res/layout/chat_header_layout.xml
@@ -6,7 +6,7 @@
     android:layout_height="wrap_content"
     android:layout_alignParentRight="true">
 
-    <org.telegram.ui.Views.BackupImageView
+    <org.telepatch.ui.Views.BackupImageView
             android:layout_height="48dp"
             android:layout_width="48dp"
             android:id="@+id/chat_avatar_image"/>
diff --git a/TMessagesProj/src/main/res/layout/chat_layout.xml b/TMessagesProj/src/main/res/layout/chat_layout.xml
index 11e46e8fc..ffd7bfe35 100644
--- a/TMessagesProj/src/main/res/layout/chat_layout.xml
+++ b/TMessagesProj/src/main/res/layout/chat_layout.xml
@@ -1,15 +1,27 @@
-<org.telegram.ui.Views.SizeNotifierRelativeLayout
+<org.telepatch.ui.Views.SizeNotifierRelativeLayout
     xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
     android:id="@+id/chat_layout">
 
-    <org.telegram.ui.Views.FrameLayoutFixed
+    <org.telepatch.ui.Views.FrameLayoutFixed
         android:layout_height="fill_parent"
         android:layout_width="fill_parent"
         android:paddingBottom="48dp"
         android:id="@+id/empty_view">
 
+        <ImageButton
+            android:layout_width="48dp"
+            android:layout_height="48dp"
+            android:scaleType="centerInside"
+            android:id="@+id/chat_audio_cancel_button"
+            android:enabled="false"
+            android:src="@drawable/photocancel"
+            android:layout_gravity="left"
+            android:paddingRight="4dp"
+            android:background="@android:color/white"
+            android:layout_marginLeft="90dp" />
+
         <TextView
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
@@ -27,9 +39,9 @@
             layout="@layout/encrypted_chat_placeholder"
             android:layout_gravity="center"/>
 
-    </org.telegram.ui.Views.FrameLayoutFixed>
+    </org.telepatch.ui.Views.FrameLayoutFixed>
 
-    <org.telegram.ui.Views.LayoutListView
+    <org.telepatch.ui.Views.LayoutListView
         android:layout_width="fill_parent"
         android:layout_height="fill_parent"
         android:id="@+id/chat_list_view"
@@ -156,7 +168,7 @@
             android:textCursorDrawable="@null"
             android:textColor="#000000"/>
 
-        <org.telegram.ui.Views.FrameLayoutFixed
+        <org.telepatch.ui.Views.FrameLayoutFixed
             android:layout_height="48dp"
             android:layout_width="fill_parent"
             android:layout_marginTop="2dp"
@@ -218,7 +230,7 @@
 
             </LinearLayout>
 
-        </org.telegram.ui.Views.FrameLayoutFixed>
+        </org.telepatch.ui.Views.FrameLayoutFixed>
 
         <ImageButton
             android:layout_width="48dp"
@@ -284,4 +296,4 @@
         android:layout_marginBottom="4dp"
         android:id="@+id/pagedown_button"/>
 
-</org.telegram.ui.Views.SizeNotifierRelativeLayout>
\ No newline at end of file
+</org.telepatch.ui.Views.SizeNotifierRelativeLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/chat_profile_avatar_layout.xml b/TMessagesProj/src/main/res/layout/chat_profile_avatar_layout.xml
index 85f4a3d4d..fc2988b04 100644
--- a/TMessagesProj/src/main/res/layout/chat_profile_avatar_layout.xml
+++ b/TMessagesProj/src/main/res/layout/chat_profile_avatar_layout.xml
@@ -11,7 +11,7 @@
         android:layout_width="64dp"
         android:layout_height="64dp">
 
-        <org.telegram.ui.Views.BackupImageView
+        <org.telepatch.ui.Views.BackupImageView
             android:id="@+id/settings_avatar_image"
             android:layout_width="fill_parent"
             android:layout_height="fill_parent"/>
diff --git a/TMessagesProj/src/main/res/layout/contact_add_layout.xml b/TMessagesProj/src/main/res/layout/contact_add_layout.xml
index c4c917e6d..c17b4e5a1 100644
--- a/TMessagesProj/src/main/res/layout/contact_add_layout.xml
+++ b/TMessagesProj/src/main/res/layout/contact_add_layout.xml
@@ -19,7 +19,7 @@
             android:paddingTop="12dp"
             android:paddingBottom="12dp">
 
-            <org.telegram.ui.Views.BackupImageView
+            <org.telepatch.ui.Views.BackupImageView
                 android:id="@+id/settings_avatar_image"
                 android:layout_width="64dp"
                 android:layout_height="64dp"/>
diff --git a/TMessagesProj/src/main/res/layout/contacts_layout.xml b/TMessagesProj/src/main/res/layout/contacts_layout.xml
index 8b281bc3e..3a85771dd 100644
--- a/TMessagesProj/src/main/res/layout/contacts_layout.xml
+++ b/TMessagesProj/src/main/res/layout/contacts_layout.xml
@@ -3,7 +3,7 @@
     android:layout_width="fill_parent"
     android:layout_height="fill_parent">
 
-    <org.telegram.ui.Views.PinnedHeaderListView
+    <org.telepatch.ui.Views.PinnedHeaderListView
             android:layout_width="fill_parent"
             android:layout_height="fill_parent"
             android:id="@+id/listView"
diff --git a/TMessagesProj/src/main/res/layout/country_select_layout.xml b/TMessagesProj/src/main/res/layout/country_select_layout.xml
index 2ce0b92bd..2e9c9950a 100644
--- a/TMessagesProj/src/main/res/layout/country_select_layout.xml
+++ b/TMessagesProj/src/main/res/layout/country_select_layout.xml
@@ -4,7 +4,7 @@
     android:layout_height="fill_parent"
     android:background="#fafafa">
 
-    <org.telegram.ui.Views.PinnedHeaderListView
+    <org.telepatch.ui.Views.PinnedHeaderListView
         android:layout_width="fill_parent"
         android:layout_height="fill_parent"
         android:id="@+id/listView"
diff --git a/TMessagesProj/src/main/res/layout/document_item.xml b/TMessagesProj/src/main/res/layout/document_item.xml
index f2511bcef..cee3e4428 100644
--- a/TMessagesProj/src/main/res/layout/document_item.xml
+++ b/TMessagesProj/src/main/res/layout/document_item.xml
@@ -55,7 +55,7 @@
 
     </LinearLayout>
 
-    <org.telegram.ui.Views.BackupImageView
+    <org.telepatch.ui.Views.BackupImageView
         android:id="@+id/docs_item_thumb"
         android:layout_width="55dp"
         android:layout_height="42dp"
diff --git a/TMessagesProj/src/main/res/layout/group_create_final_layout.xml b/TMessagesProj/src/main/res/layout/group_create_final_layout.xml
index ba3f3ce36..38dd321f9 100644
--- a/TMessagesProj/src/main/res/layout/group_create_final_layout.xml
+++ b/TMessagesProj/src/main/res/layout/group_create_final_layout.xml
@@ -18,7 +18,7 @@
             android:layout_marginLeft="16dp"
             android:layout_gravity="top">
 
-            <org.telegram.ui.Views.BackupImageView
+            <org.telepatch.ui.Views.BackupImageView
                 android:id="@+id/settings_avatar_image"
                 android:layout_width="fill_parent"
                 android:layout_height="fill_parent"/>
@@ -57,7 +57,7 @@
         android:layout_width="match_parent"
         android:layout_height="match_parent">
 
-        <org.telegram.ui.Views.PinnedHeaderListView
+        <org.telepatch.ui.Views.PinnedHeaderListView
             android:layout_width="fill_parent"
             android:layout_height="fill_parent"
             android:id="@+id/listView"
diff --git a/TMessagesProj/src/main/res/layout/group_create_layout.xml b/TMessagesProj/src/main/res/layout/group_create_layout.xml
index 763c3ea26..9ba77206f 100644
--- a/TMessagesProj/src/main/res/layout/group_create_layout.xml
+++ b/TMessagesProj/src/main/res/layout/group_create_layout.xml
@@ -34,7 +34,7 @@
         android:layout_width="match_parent"
         android:layout_height="match_parent">
 
-        <org.telegram.ui.Views.PinnedHeaderListView
+        <org.telepatch.ui.Views.PinnedHeaderListView
             android:layout_width="fill_parent"
             android:layout_height="fill_parent"
             android:id="@+id/listView"
diff --git a/TMessagesProj/src/main/res/layout/group_create_row_layout.xml b/TMessagesProj/src/main/res/layout/group_create_row_layout.xml
index d72de6d6b..722c3fcda 100644
--- a/TMessagesProj/src/main/res/layout/group_create_row_layout.xml
+++ b/TMessagesProj/src/main/res/layout/group_create_row_layout.xml
@@ -6,7 +6,7 @@
     android:layout_height="66dp"
     android:layout_gravity="top">
 
-    <org.telegram.ui.Views.BackupImageView
+    <org.telepatch.ui.Views.BackupImageView
         android:layout_width="50dp"
         android:layout_height="50dp"
         android:id="@+id/messages_list_row_avatar"
diff --git a/TMessagesProj/src/main/res/layout/identicon_layout.xml b/TMessagesProj/src/main/res/layout/identicon_layout.xml
index 1b4dac4d7..b6fde7380 100644
--- a/TMessagesProj/src/main/res/layout/identicon_layout.xml
+++ b/TMessagesProj/src/main/res/layout/identicon_layout.xml
@@ -15,7 +15,7 @@
         android:paddingTop="20dp"
         android:paddingBottom="20dp">
 
-        <org.telegram.ui.Views.IdenticonView
+        <org.telepatch.ui.Views.IdenticonView
             android:layout_width="fill_parent"
             android:layout_height="fill_parent"
             android:id="@+id/identicon_view"/>
diff --git a/TMessagesProj/src/main/res/layout/location_view_layout.xml b/TMessagesProj/src/main/res/layout/location_view_layout.xml
index a5285024c..6f816ffcf 100644
--- a/TMessagesProj/src/main/res/layout/location_view_layout.xml
+++ b/TMessagesProj/src/main/res/layout/location_view_layout.xml
@@ -19,7 +19,7 @@
         android:background="@drawable/location_panel"
         android:id="@+id/location_bottom_view">
 
-        <org.telegram.ui.Views.BackupImageView
+        <org.telepatch.ui.Views.BackupImageView
             android:layout_width="64dp"
             android:layout_height="64dp"
             android:id="@+id/location_avatar_view"
diff --git a/TMessagesProj/src/main/res/layout/login_layout.xml b/TMessagesProj/src/main/res/layout/login_layout.xml
index 70818ccca..c8becd84e 100644
--- a/TMessagesProj/src/main/res/layout/login_layout.xml
+++ b/TMessagesProj/src/main/res/layout/login_layout.xml
@@ -5,12 +5,12 @@
     android:background="#fafafa"
     android:fillViewport="true">
 
-    <org.telegram.ui.Views.FrameLayoutFixed
+    <org.telepatch.ui.Views.FrameLayoutFixed
         android:layout_width="fill_parent"
         android:layout_height="wrap_content"
         android:layout_gravity="top|left">
 
-        <org.telegram.ui.LoginActivityPhoneView
+        <org.telepatch.ui.LoginActivityPhoneView
             android:orientation="vertical"
             android:layout_width="fill_parent"
             android:layout_height="wrap_content"
@@ -108,9 +108,9 @@
                 android:layout_marginBottom="10dp"
                 android:lineSpacingExtra="2dp"/>
 
-        </org.telegram.ui.LoginActivityPhoneView>
+        </org.telepatch.ui.LoginActivityPhoneView>
 
-        <org.telegram.ui.LoginActivitySmsView
+        <org.telepatch.ui.LoginActivitySmsView
             android:layout_width="fill_parent"
             android:layout_height="fill_parent"
             android:layout_marginLeft="16dp"
@@ -192,9 +192,9 @@
 
             </LinearLayout>
 
-        </org.telegram.ui.LoginActivitySmsView>
+        </org.telepatch.ui.LoginActivitySmsView>
 
-        <org.telegram.ui.LoginActivityRegisterView
+        <org.telepatch.ui.LoginActivityRegisterView
             android:layout_width="match_parent"
             android:layout_height="match_parent"
             android:layout_marginTop="30dp"
@@ -255,7 +255,7 @@
                 <!--android:layout_below="@+id/login_register_info"-->
                 <!--android:id="@+id/login_avatar_button">-->
 
-                <!--<org.telegram.ui.Views.BackupImageView-->
+                <!--<org.telepatch.ui.Views.BackupImageView-->
                     <!--android:id="@+id/settings_avatar_image"-->
                     <!--android:layout_width="fill_parent"-->
                     <!--android:layout_height="fill_parent"-->
@@ -289,8 +289,8 @@
 
             </LinearLayout>
 
-        </org.telegram.ui.LoginActivityRegisterView>
+        </org.telepatch.ui.LoginActivityRegisterView>
 
-    </org.telegram.ui.Views.FrameLayoutFixed>
+    </org.telepatch.ui.Views.FrameLayoutFixed>
 
 </ScrollView>
diff --git a/TMessagesProj/src/main/res/layout/media_photo_layout.xml b/TMessagesProj/src/main/res/layout/media_photo_layout.xml
index c3a16aae9..0e2dbf7cd 100644
--- a/TMessagesProj/src/main/res/layout/media_photo_layout.xml
+++ b/TMessagesProj/src/main/res/layout/media_photo_layout.xml
@@ -3,7 +3,7 @@
     android:layout_width="100dp"
     android:layout_height="100dp">
 
-    <org.telegram.ui.Views.BackupImageView
+    <org.telepatch.ui.Views.BackupImageView
         android:id="@+id/media_photo_image"
         android:layout_width="fill_parent"
         android:layout_height="fill_parent"/>
diff --git a/TMessagesProj/src/main/res/layout/media_video_layout.xml b/TMessagesProj/src/main/res/layout/media_video_layout.xml
index 810f77f3b..f64b8873c 100644
--- a/TMessagesProj/src/main/res/layout/media_video_layout.xml
+++ b/TMessagesProj/src/main/res/layout/media_video_layout.xml
@@ -3,7 +3,7 @@
     android:layout_width="100dp"
     android:layout_height="100dp">
 
-    <org.telegram.ui.Views.BackupImageView
+    <org.telepatch.ui.Views.BackupImageView
         android:id="@+id/media_photo_image"
         android:layout_width="fill_parent"
         android:layout_height="fill_parent"/>
diff --git a/TMessagesProj/src/main/res/layout/password_remove_layout.xml b/TMessagesProj/src/main/res/layout/password_remove_layout.xml
new file mode 100644
index 000000000..bf9a3b1c0
--- /dev/null
+++ b/TMessagesProj/src/main/res/layout/password_remove_layout.xml
@@ -0,0 +1,16 @@
+<?xml version="1.0" encoding="utf-8"?>
+
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:orientation="vertical" android:layout_width="match_parent"
+    android:layout_height="match_parent">
+
+
+    <Button
+        android:id="@+id/del_button"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_gravity="center"
+        android:text="@string/pwd_del_button"
+        android:layout_marginTop="40dp" />
+
+</LinearLayout>
diff --git a/TMessagesProj/src/main/res/layout/password_request_layout.xml b/TMessagesProj/src/main/res/layout/password_request_layout.xml
new file mode 100644
index 000000000..daee6c51b
--- /dev/null
+++ b/TMessagesProj/src/main/res/layout/password_request_layout.xml
@@ -0,0 +1,21 @@
+<?xml version="1.0" encoding="utf-8"?>
+
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:orientation="vertical" android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:weightSum="1">
+
+    <EditText
+        android:layout_height="wrap_content"
+        android:layout_gravity="center"
+        android:gravity="center"
+        android:layout_marginTop="150dp"
+        android:focusable="true"
+        android:password="true"
+        android:layout_width="300dp"
+        android:id="@+id/password"
+        android:hint="password"
+        android:maxLines="1">
+    </EditText>
+
+</LinearLayout>
diff --git a/TMessagesProj/src/main/res/layout/password_set_layout.xml b/TMessagesProj/src/main/res/layout/password_set_layout.xml
new file mode 100644
index 000000000..609e87150
--- /dev/null
+++ b/TMessagesProj/src/main/res/layout/password_set_layout.xml
@@ -0,0 +1,40 @@
+<?xml version="1.0" encoding="utf-8"?>
+
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:orientation="vertical" android:layout_width="match_parent"
+    android:layout_height="match_parent">
+
+    <EditText
+        android:layout_height="wrap_content"
+        android:layout_gravity="center"
+        android:gravity="center"
+        android:layout_marginTop="150dp"
+        android:focusable="true"
+        android:password="true"
+        android:layout_width="300dp"
+        android:id="@+id/password_set"
+        android:hint="@string/pwd_hint"
+        android:maxLines="1">
+    </EditText>
+
+    <EditText
+        android:layout_height="wrap_content"
+        android:layout_gravity="center"
+        android:gravity="center"
+        android:focusable="true"
+        android:password="true"
+        android:layout_width="300dp"
+        android:id="@+id/password_set_check"
+        android:hint="@string/pwd_check_hint"
+        android:maxLines="1">
+    </EditText>
+
+    <Button
+        android:id="@+id/ok_button"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_gravity="center"
+        android:text="@string/pwd_ok_button"
+        android:layout_marginTop="40dp" />
+
+</LinearLayout>
diff --git a/TMessagesProj/src/main/res/layout/photo_picker_album_layout.xml b/TMessagesProj/src/main/res/layout/photo_picker_album_layout.xml
index 1773bc96d..ee0d69aab 100644
--- a/TMessagesProj/src/main/res/layout/photo_picker_album_layout.xml
+++ b/TMessagesProj/src/main/res/layout/photo_picker_album_layout.xml
@@ -4,7 +4,7 @@
     android:layout_height="100dp"
     android:layout_gravity="top">
 
-    <org.telegram.ui.Views.BackupImageView
+    <org.telepatch.ui.Views.BackupImageView
         android:id="@+id/media_photo_image"
         android:layout_width="fill_parent"
         android:layout_height="fill_parent"/>
diff --git a/TMessagesProj/src/main/res/layout/photo_picker_photo_layout.xml b/TMessagesProj/src/main/res/layout/photo_picker_photo_layout.xml
index a0a6f9142..47f86d6a8 100644
--- a/TMessagesProj/src/main/res/layout/photo_picker_photo_layout.xml
+++ b/TMessagesProj/src/main/res/layout/photo_picker_photo_layout.xml
@@ -4,7 +4,7 @@
     android:layout_height="100dp"
     android:layout_gravity="top">
 
-    <org.telegram.ui.Views.BackupImageView
+    <org.telepatch.ui.Views.BackupImageView
         android:id="@+id/media_photo_image"
         android:layout_width="fill_parent"
         android:layout_height="fill_parent"/>
diff --git a/TMessagesProj/src/main/res/layout/popup_image_layout.xml b/TMessagesProj/src/main/res/layout/popup_image_layout.xml
index f9e1beb95..0540e2583 100644
--- a/TMessagesProj/src/main/res/layout/popup_image_layout.xml
+++ b/TMessagesProj/src/main/res/layout/popup_image_layout.xml
@@ -7,7 +7,7 @@
     android:padding="10dp"
     android:background="@drawable/list_selector">
 
-    <org.telegram.ui.Views.BackupImageView
+    <org.telepatch.ui.Views.BackupImageView
         android:layout_width="match_parent"
         android:layout_height="match_parent"
         android:id="@+id/message_image"
diff --git a/TMessagesProj/src/main/res/layout/popup_notification_layout.xml b/TMessagesProj/src/main/res/layout/popup_notification_layout.xml
index c00e824f6..07012cd87 100644
--- a/TMessagesProj/src/main/res/layout/popup_notification_layout.xml
+++ b/TMessagesProj/src/main/res/layout/popup_notification_layout.xml
@@ -1,4 +1,4 @@
-<org.telegram.ui.Views.SizeNotifierRelativeLayout
+<org.telepatch.ui.Views.SizeNotifierRelativeLayout
     xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
@@ -71,7 +71,7 @@
                     android:textCursorDrawable="@null"
                     android:textColor="#000000"/>
 
-                <org.telegram.ui.Views.FrameLayoutFixed
+                <org.telepatch.ui.Views.FrameLayoutFixed
                     android:layout_height="48dp"
                     android:layout_width="fill_parent"
                     android:layout_marginTop="2dp"
@@ -133,7 +133,7 @@
 
                     </LinearLayout>
 
-                </org.telegram.ui.Views.FrameLayoutFixed>
+                </org.telepatch.ui.Views.FrameLayoutFixed>
 
                 <ImageButton
                     android:layout_width="48dp"
@@ -154,4 +154,4 @@
 
     </RelativeLayout>
 
-</org.telegram.ui.Views.SizeNotifierRelativeLayout>
\ No newline at end of file
+</org.telepatch.ui.Views.SizeNotifierRelativeLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/settings_color_dialog_layout.xml b/TMessagesProj/src/main/res/layout/settings_color_dialog_layout.xml
index 075480742..bcec5eebb 100644
--- a/TMessagesProj/src/main/res/layout/settings_color_dialog_layout.xml
+++ b/TMessagesProj/src/main/res/layout/settings_color_dialog_layout.xml
@@ -5,7 +5,7 @@
     android:layout_height="match_parent"
     android:layout_gravity="center">
 
-    <org.telegram.ui.Views.ColorPickerView
+    <org.telepatch.ui.Views.ColorPickerView
         android:id="@+id/color_picker"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
diff --git a/TMessagesProj/src/main/res/layout/settings_name_layout.xml b/TMessagesProj/src/main/res/layout/settings_name_layout.xml
index 278f37dc0..68283ce5c 100644
--- a/TMessagesProj/src/main/res/layout/settings_name_layout.xml
+++ b/TMessagesProj/src/main/res/layout/settings_name_layout.xml
@@ -11,7 +11,7 @@
         android:layout_width="64dp"
         android:layout_height="64dp">
 
-        <org.telegram.ui.Views.BackupImageView
+        <org.telepatch.ui.Views.BackupImageView
             android:id="@+id/settings_avatar_image"
             android:layout_width="fill_parent"
             android:layout_height="fill_parent"/>
diff --git a/TMessagesProj/src/main/res/layout/settings_wallpapers_layout.xml b/TMessagesProj/src/main/res/layout/settings_wallpapers_layout.xml
index 120b2bd32..6e0b34ae6 100644
--- a/TMessagesProj/src/main/res/layout/settings_wallpapers_layout.xml
+++ b/TMessagesProj/src/main/res/layout/settings_wallpapers_layout.xml
@@ -19,7 +19,7 @@
         android:visibility="visible"
         android:layout_marginBottom="52dp"/>
 
-    <org.telegram.ui.Views.HorizontalListView
+    <org.telepatch.ui.Views.HorizontalListView
         android:layout_width="fill_parent"
         android:layout_height="102dp"
         android:layout_gravity="bottom"
diff --git a/TMessagesProj/src/main/res/layout/settings_wallpapers_other_row.xml b/TMessagesProj/src/main/res/layout/settings_wallpapers_other_row.xml
index 2412415d3..d72783720 100644
--- a/TMessagesProj/src/main/res/layout/settings_wallpapers_other_row.xml
+++ b/TMessagesProj/src/main/res/layout/settings_wallpapers_other_row.xml
@@ -3,7 +3,7 @@
     android:layout_height="102dp"
     android:layout_width="100dp">
 
-    <org.telegram.ui.Views.BackupImageView
+    <org.telepatch.ui.Views.BackupImageView
         android:layout_height="100dp"
         android:layout_width="100dp"
         android:id="@+id/image"
diff --git a/TMessagesProj/src/main/res/layout/sgactivity_layout.xml b/TMessagesProj/src/main/res/layout/sgactivity_layout.xml
new file mode 100644
index 000000000..fbaafea16
--- /dev/null
+++ b/TMessagesProj/src/main/res/layout/sgactivity_layout.xml
@@ -0,0 +1,8 @@
+
+<ImageView
+    android:layout_width="fill_parent"
+    android:layout_height="fill_parent"
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:id="@+id/imageView"
+    android:src="@drawable/sg"
+    android:scaleType="center" />
diff --git a/TMessagesProj/src/main/res/layout/updating_state_layout.xml b/TMessagesProj/src/main/res/layout/updating_state_layout.xml
index 9157620e5..0b34fe5cf 100644
--- a/TMessagesProj/src/main/res/layout/updating_state_layout.xml
+++ b/TMessagesProj/src/main/res/layout/updating_state_layout.xml
@@ -1,4 +1,4 @@
-<org.telegram.ui.Views.FrameLayoutFixed
+<org.telepatch.ui.Views.FrameLayoutFixed
     xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="400dp"
     android:layout_height="fill_parent"
@@ -27,4 +27,4 @@
         android:paddingRight="2dp"
         android:id="@+id/status_text"/>
 
-</org.telegram.ui.Views.FrameLayoutFixed>
\ No newline at end of file
+</org.telepatch.ui.Views.FrameLayoutFixed>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/user_profile_avatar_layout.xml b/TMessagesProj/src/main/res/layout/user_profile_avatar_layout.xml
index 5f8796188..953651f05 100644
--- a/TMessagesProj/src/main/res/layout/user_profile_avatar_layout.xml
+++ b/TMessagesProj/src/main/res/layout/user_profile_avatar_layout.xml
@@ -7,7 +7,7 @@
     android:paddingTop="13dp"
     android:paddingBottom="12dp">
 
-    <org.telegram.ui.Views.BackupImageView
+    <org.telepatch.ui.Views.BackupImageView
         android:id="@+id/settings_avatar_image"
         android:layout_width="64dp"
         android:layout_height="64dp"/>
diff --git a/TMessagesProj/src/main/res/layout/user_profile_identicon_layout.xml b/TMessagesProj/src/main/res/layout/user_profile_identicon_layout.xml
index ae0129fed..de125f5eb 100644
--- a/TMessagesProj/src/main/res/layout/user_profile_identicon_layout.xml
+++ b/TMessagesProj/src/main/res/layout/user_profile_identicon_layout.xml
@@ -15,7 +15,7 @@
         android:gravity="center_vertical"
         android:layout_gravity="top"/>
 
-    <org.telegram.ui.Views.IdenticonView
+    <org.telepatch.ui.Views.IdenticonView
         android:id="@+id/identicon_view"
         android:layout_width="32dp"
         android:layout_height="32dp"
diff --git a/TMessagesProj/src/main/res/layout/vibrator_customizer_layout.xml b/TMessagesProj/src/main/res/layout/vibrator_customizer_layout.xml
new file mode 100644
index 000000000..a960d2a0b
--- /dev/null
+++ b/TMessagesProj/src/main/res/layout/vibrator_customizer_layout.xml
@@ -0,0 +1,72 @@
+<RelativeLayout  xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:layout_gravity="top"
+    android:background="#fafafa"
+    android:orientation="vertical"
+    android:weightSum="1">
+
+    <Button
+        android:layout_marginTop="10dp"
+        android:layout_marginLeft="10dp"
+        android:layout_width="160dp"
+        android:layout_height="160dp"
+        android:text="@string/press_vibrate_long"
+        android:background="@drawable/circle_shape"
+        android:id="@+id/vibrate_circle_big"
+        android:layout_alignParentLeft="true" />
+
+
+    <Button
+        android:layout_width="110dp"
+        android:layout_height="110dp"
+        android:text="@string/press_vibrate_short"
+        android:layout_marginTop="10dp"
+        android:background="@drawable/circle_shape"
+        android:id="@+id/vibrate_circle_little"
+        android:layout_marginLeft="30dp"
+        android:layout_alignBaseline="@id/vibrate_circle_big"
+        android:layout_toRightOf="@id/vibrate_circle_big"
+         />
+
+    <Button
+        android:layout_width="80dp"
+        android:layout_height="80dp"
+        android:layout_marginLeft="145dp"
+        android:layout_marginTop="20dp"
+        android:id="@+id/vibrate_circle_pause"
+        android:text="@string/vibrate_pause"
+        android:background="@drawable/circle_shape"
+        android:layout_below="@id/vibrate_circle_big" />
+
+    <TextView
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_below="@id/vibrate_circle_pause"
+        android:layout_marginTop="20dp"
+        android:textSize="24dp"
+        android:layout_centerHorizontal="true"
+        android:id="@+id/vibration_pattern_tv"
+        />
+
+    <Button
+        android:layout_width="wrap_content"
+        android:layout_marginTop="20dp"
+        android:layout_height="wrap_content"
+        android:text="@string/vibration_pattern_save"
+        android:id="@+id/save_button"
+        android:layout_below="@+id/vibration_pattern_tv"
+        android:layout_toLeftOf="@+id/cancel_button"
+        android:layout_toStartOf="@+id/cancel_button" />
+
+    <Button
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="@string/vibration_pattern_cancel"
+        android:id="@+id/cancel_button"
+        android:layout_marginRight="60dp"
+        android:layout_marginLeft="20dp"
+        android:layout_alignParentRight="true"
+        android:layout_alignTop="@id/save_button"
+        android:layout_centerHorizontal="true" />
+</RelativeLayout>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/layout/video_editor_layout.xml b/TMessagesProj/src/main/res/layout/video_editor_layout.xml
index 0eacd6abd..3e90e70d8 100644
--- a/TMessagesProj/src/main/res/layout/video_editor_layout.xml
+++ b/TMessagesProj/src/main/res/layout/video_editor_layout.xml
@@ -33,7 +33,7 @@
         android:layout_height="wrap_content"
         android:id="@+id/control_layout">
 
-        <org.telegram.ui.Views.VideoSeekBarView
+        <org.telepatch.ui.Views.VideoSeekBarView
             android:layout_height="36dp"
             android:layout_width="match_parent"
             android:id="@+id/video_seekbar"
@@ -41,7 +41,7 @@
             android:layout_marginLeft="8dp"
             android:layout_marginRight="8dp"/>
 
-        <org.telegram.ui.Views.VideoTimelineView
+        <org.telepatch.ui.Views.VideoTimelineView
             android:layout_width="match_parent"
             android:layout_height="74dp"
             android:layout_marginTop="36dp"
diff --git a/TMessagesProj/src/main/res/values-ar/strings.xml b/TMessagesProj/src/main/res/values-ar/strings.xml
index 64851a0e8..9cabadc5c 100644
--- a/TMessagesProj/src/main/res/values-ar/strings.xml
+++ b/TMessagesProj/src/main/res/values-ar/strings.xml
@@ -3,7 +3,7 @@
 <!--Translation by Khalid Alaraifi-->
 
 <resources>
-    <string name="AppName">Telegram</string>
+    <string name="AppName">telepatch</string>
     <string name="LanguageName">العربية</string>
     <string name="LanguageNameInEnglish">Arabic</string>
     <string name="LanguageCode">ar</string>
@@ -154,7 +154,7 @@
     <!--contacts view-->
     <string name="SelectContact">اختر جهة اتصال</string>
     <string name="NoContacts">لا توجد جهات اتصال بعد</string>
-    <string name="InviteText">http://telegram.org/dl2 مرحبا! هيا نستخدم تيليجرام: </string>
+    <string name="InviteText">http://telepatch.org/dl2 مرحبا! هيا نستخدم تيليجرام: </string>
     <string name="TodayAt">اليوم الساعة</string>
     <string name="YesterdayAt">أمس الساعة</string>
     <string name="Online">متصل</string>
@@ -198,7 +198,7 @@
     <string name="EncryptionKey">مفتاح التشفير</string>
     <string name="MessageLifetime">عداد التدمير الذاتي</string>
     <string name="ShortMessageLifetimeForever">إيقاف</string>
-    <string name="EncryptionKeyDescription">هذه الصورة هي تصور لمفتاح التشفير لهذه المحادثة السرية مع <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>إذا كانت مطابقة للصورة التي في جهاز <![CDATA[<b>]]>%2$s<![CDATA[</b>]]>, فمحادثتكم آمنة ٢٠٠٪.<![CDATA[<br><br>]]>للمزيد نرجو الذهاب إلى telegram.org</string>
+    <string name="EncryptionKeyDescription">هذه الصورة هي تصور لمفتاح التشفير لهذه المحادثة السرية مع <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>إذا كانت مطابقة للصورة التي في جهاز <![CDATA[<b>]]>%2$s<![CDATA[</b>]]>, فمحادثتكم آمنة ٢٠٠٪.<![CDATA[<br><br>]]>للمزيد نرجو الذهاب إلى telepatch.org</string>
     <string name="NumberUnknown">غير معروف</string>
     <string name="Info">معلومات</string>
     <string name="Phone">هاتف</string>
@@ -252,10 +252,10 @@
     <string name="ContactJoined">اشترك صديق في تيليجرام</string>
     <string name="Pebble">PEBBLE</string>
     <string name="Language">اللغة</string>
-    <string name="AskAQuestionInfo">نرجو الأخذ بالعلم أن الدعم الفني في تيليجرام يقوم به مجموعة من المتطوعين. نحاول الرد بسرعة قدر المستطاع، لكن ربما نستغرق القليل من الوقت.<![CDATA[<br><br>]]>يرجى الإطلاع على <![CDATA[<a href=\"http://telegram.org/faq/ar\">الأسئلة الشائعة عن تيليجرام</a>]]>: يوجد بها حلول للمشاكل وإجابات لمعظم الأسئلة.</string>
+    <string name="AskAQuestionInfo">نرجو الأخذ بالعلم أن الدعم الفني في تيليجرام يقوم به مجموعة من المتطوعين. نحاول الرد بسرعة قدر المستطاع، لكن ربما نستغرق القليل من الوقت.<![CDATA[<br><br>]]>يرجى الإطلاع على <![CDATA[<a href=\"http://telepatch.org/faq/ar\">الأسئلة الشائعة عن تيليجرام</a>]]>: يوجد بها حلول للمشاكل وإجابات لمعظم الأسئلة.</string>
     <string name="AskButton">اسأل أحد المتطوعين</string>
-    <string name="TelegramFaq">الأسئلة الشائعة عن تيليجرام</string>
-    <string name="TelegramFaqUrl">https://telegram.org/faq/ar</string>
+    <string name="telepatchFaq">الأسئلة الشائعة عن تيليجرام</string>
+    <string name="telepatchFaqUrl">https://telepatch.org/faq/ar</string>
     <string name="DeleteLocalization">حذف التعريب؟</string>
     <string name="IncorrectLocalization">ملف التعريب غير صحيح</string>
     <string name="Enabled">تمكين</string>
@@ -346,7 +346,7 @@
     <string name="ActionYouCreateGroup">لقد قمت بإنشاء المجموعة</string>
     <string name="ActionKickUserYou">un1 قام بإخراجك</string>
     <string name="ActionAddUserYou">un1 قام بإضافتك</string>
-    <string name="UnsuppotedMedia">نسخة تيليجرام الموجودة لديك لا تدعم هذه الرسالة. الرجاء التحديث لأحدث نسخة: http://telegram.org/update</string>
+    <string name="UnsuppotedMedia">نسخة تيليجرام الموجودة لديك لا تدعم هذه الرسالة. الرجاء التحديث لأحدث نسخة: http://telepatch.org/update</string>
     <string name="AttachPhoto">صورة</string>
     <string name="AttachVideo">مقطع مرئي</string>
     <string name="AttachLocation">موقع</string>
@@ -365,7 +365,7 @@
     <string name="InvalidLastName">اسم العائلة غير صحيح</string>
     <string name="Loading">جاري التحميل ...</string>
     <string name="NoPlayerInstalled">ليس لديك أي مشغل مقاطع مرئية، يرجى تنزيل أية مشغل</string>
-    <string name="NoMailInstalled">يرجى إرسال رسالة بواسطة البريد الإلكتروني إلى sms@telegram.org لتخبرنا عن مشكلتك.</string>
+    <string name="NoMailInstalled">يرجى إرسال رسالة بواسطة البريد الإلكتروني إلى sms@telepatch.org لتخبرنا عن مشكلتك.</string>
     <string name="NoHandleAppInstalled">لا يوجد لديك تطبيق يمكنه فتح \'%1$s\'، يرجى تنزيل تطبيق مناسب للإستمرار</string>
     <string name="InviteUser">هذا المستخدم ليس لديه تيليجرام بعد ، هل ترغب في دعوته الآن؟</string>
     <string name="AreYouSure">هل أنت متأكد؟</string>
diff --git a/TMessagesProj/src/main/res/values-de/strings.xml b/TMessagesProj/src/main/res/values-de/strings.xml
index 9d8888043..ed996a855 100644
--- a/TMessagesProj/src/main/res/values-de/strings.xml
+++ b/TMessagesProj/src/main/res/values-de/strings.xml
@@ -1,9 +1,9 @@
 <?xml version="1.0" encoding="utf-8"?>
 
-<!--Translation by iLLogical2007, DanielGroeger and everyone from https://github.com/DrKLO/Telegram/pull/129 whom I didn't notice -->
+<!--Translation by iLLogical2007, DanielGroeger and everyone from https://github.com/DrKLO/telepatch/pull/129 whom I didn't notice -->
 
 <resources>
-    <string name="AppName">Telegram</string>
+    <string name="AppName">telepatch</string>
     <string name="LanguageName">Deutsch</string>
     <string name="LanguageNameInEnglish">German</string>
     <string name="LanguageCode">de</string>
@@ -52,7 +52,7 @@
     <string name="HiddenName">Versteckter Name</string>
     <string name="SelectChat">Chat auswählen</string>
     <string name="PhotoTip">Tippen und Halten</string>
-    <string name="CompatibilityChat">%1$s benutzt eine ältere Version von Telegram, sodass Fotos in Geheimen Chats im Kompatibilitätsmodus angezeigt werden.\n\nSobald %2$s Telegram aktualisiert, werden Fotos mit Timern von 1 Minute und kürzer per \"Tippen und Halten\" angezeigt. Du wirst benachrichtigt, sobald dein Chatpartner ein Bildschirmfoto macht.</string>
+    <string name="CompatibilityChat">%1$s benutzt eine ältere Version von telepatch, sodass Fotos in Geheimen Chats im Kompatibilitätsmodus angezeigt werden.\n\nSobald %2$s telepatch aktualisiert, werden Fotos mit Timern von 1 Minute und kürzer per \"Tippen und Halten\" angezeigt. Du wirst benachrichtigt, sobald dein Chatpartner ein Bildschirmfoto macht.</string>
     <!--broadcasts-->
     <string name="BroadcastList">Broadcast Liste</string>
     <string name="NewBroadcastList">Neue Broadcast Liste</string>
@@ -79,7 +79,7 @@
     <string name="Attach">Anhängen</string>
     <string name="IsTyping">schreibt...</string>
     <string name="AreTyping">tippen…</string>
-    <string name="GotAQuestion">Hast du eine Frage\nzu Telegram?</string>
+    <string name="GotAQuestion">Hast du eine Frage\nzu telepatch?</string>
     <string name="ChatTakePhoto">Foto aufnehmen</string>
     <string name="ChatGallery">Galerie</string>
     <string name="ChatLocation">Standort</string>
@@ -144,8 +144,8 @@
     <string name="NotificationGroupKickMember">%1$s hat %3$s aus der Gruppe %2$s entfernt</string>
     <string name="NotificationGroupKickYou">%1$s hat dich aus der Gruppe %2$s entfernt</string>
     <string name="NotificationGroupLeftMember">%1$s hat die Gruppe %2$s verlassen</string>
-    <string name="NotificationContactJoined">%1$s benutzt jetzt Telegram!</string>
-    <string name="NotificationUnrecognizedDevice">%1$s,\nWir haben eine Anmeldung von einem neuen Gerät am %2$s festgestellt.\n\nGerät: %3$s\nStandort: %4$s\n\nWenn du das nicht selbst gewesen bist, melde alle anderen Sitzungen in den Telegram Einstellungen unverzüglich ab.\n\nMit freundlichen Grüßen,\nDas Telegram Team</string>
+    <string name="NotificationContactJoined">%1$s benutzt jetzt telepatch!</string>
+    <string name="NotificationUnrecognizedDevice">%1$s,\nWir haben eine Anmeldung von einem neuen Gerät am %2$s festgestellt.\n\nGerät: %3$s\nStandort: %4$s\n\nWenn du das nicht selbst gewesen bist, melde alle anderen Sitzungen in den telepatch Einstellungen unverzüglich ab.\n\nMit freundlichen Grüßen,\nDas telepatch Team</string>
     <string name="NotificationContactNewPhoto">%1$s hat das Profilbild geändert</string>
     <string name="Reply">Beantworten</string>
     <string name="ReplyToGroup">%1$s antworten</string>
@@ -154,7 +154,7 @@
     <!--contacts view-->
     <string name="SelectContact">Kontakt auswählen</string>
     <string name="NoContacts">Noch keine Kontakte</string>
-    <string name="InviteText">Hey, lass uns zu Telegram wechseln: http://telegram.org/dl2</string>
+    <string name="InviteText">Hey, lass uns zu telepatch wechseln: http://telepatch.org/dl2</string>
     <string name="TodayAt">heute um</string>
     <string name="YesterdayAt">gestern um</string>
     <string name="Online">online</string>
@@ -198,7 +198,7 @@
     <string name="EncryptionKey">Geheimer Schlüssel</string>
     <string name="MessageLifetime">Selbstzerstörungs-Timer</string>
     <string name="ShortMessageLifetimeForever">Aus</string>
-    <string name="EncryptionKeyDescription">Das ist eine Darstellung des Schlüssels für den Geheimen Chat mit <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>Wenn dieses Bild auf <![CDATA[<b>]]>%2$s\s<![CDATA[</b>]]>s Telefon genau so aussieht, ist euer Chat zu 200%% sicher.<![CDATA[<br><br>]]>Erfahre mehr auf telegram.org</string>
+    <string name="EncryptionKeyDescription">Das ist eine Darstellung des Schlüssels für den Geheimen Chat mit <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>Wenn dieses Bild auf <![CDATA[<b>]]>%2$s\s<![CDATA[</b>]]>s Telefon genau so aussieht, ist euer Chat zu 200%% sicher.<![CDATA[<br><br>]]>Erfahre mehr auf telepatch.org</string>
     <string name="NumberUnknown">Unbekannt</string>
     <string name="Info">INFO</string>
     <string name="Phone">Telefon</string>
@@ -210,7 +210,7 @@
     <string name="UsernameInvalidShort">Ein Benutzername benötigt mindestens 5 Zeichen.</string>
     <string name="UsernameInvalidLong">Ein Benutzername darf maximal 32 Zeichen haben.</string>
     <string name="UsernameInvalidStartNumber">Benutzernamen dürfen leider nicht mit einer Zahl anfangen.</string>
-    <string name="UsernameHelp">Wähle einen Benutzernamen, wenn du von anderen bei<![CDATA[<b>]]>Telegram<![CDATA[</b>]]>gefunden werden willst — ohne, dass sie deine Nummer kennen müssen.<![CDATA[<br><br>]]>Erlaubt sind <![CDATA[<b>]]>a-z<![CDATA[<b>]]>, <![CDATA[<b>]]>0-9<![CDATA[<b>]]> und Unterstriche. Die Mindestlänge beträgt <![CDATA[<b>]]>5<![CDATA[<b>]]> Zeichen.</string>
+    <string name="UsernameHelp">Wähle einen Benutzernamen, wenn du von anderen bei<![CDATA[<b>]]>telepatch<![CDATA[</b>]]>gefunden werden willst — ohne, dass sie deine Nummer kennen müssen.<![CDATA[<br><br>]]>Erlaubt sind <![CDATA[<b>]]>a-z<![CDATA[<b>]]>, <![CDATA[<b>]]>0-9<![CDATA[<b>]]> und Unterstriche. Die Mindestlänge beträgt <![CDATA[<b>]]>5<![CDATA[<b>]]> Zeichen.</string>
     <string name="UsernameChecking">Prüfe Benutzername...</string>
     <string name="UsernameAvailable">%1$s ist verfügbar.</string>
     <string name="UsernameEmpty">Keiner</string>
@@ -249,13 +249,13 @@
     <string name="SendByEnter">Mit Enter senden</string>
     <string name="TerminateAllSessions">Alle anderen Sitzungen beenden</string>
     <string name="Events">EREIGNISSE</string>
-    <string name="ContactJoined">Kontakt ist Telegram beigetreten</string>
+    <string name="ContactJoined">Kontakt ist telepatch beigetreten</string>
     <string name="Pebble">PEBBLE</string>
     <string name="Language">Sprache</string>
-    <string name="AskAQuestionInfo">Bedenke bitte, dass der Telegram Support von einem ehrenamtlichen Team betreut wird. Wir versuchen so schnell wie möglich zu antworten, dies kann jedoch manchmal ein bisschen dauern.<![CDATA[<br><br>]]>Bitte schau auch in den <![CDATA[<a href=\"http://telegram.org/faq/de\">Fragen und Antworten </a>]]> nach. Dort findest du Antworten auf die meisten Fragen und wichtige Tipps zur <![CDATA[<a href=\"https://telegram.org/faq/de#problembehandlung\">Problembehandlung</a>]]>.</string>
+    <string name="AskAQuestionInfo">Bedenke bitte, dass der telepatch Support von einem ehrenamtlichen Team betreut wird. Wir versuchen so schnell wie möglich zu antworten, dies kann jedoch manchmal ein bisschen dauern.<![CDATA[<br><br>]]>Bitte schau auch in den <![CDATA[<a href=\"http://telepatch.org/faq/de\">Fragen und Antworten </a>]]> nach. Dort findest du Antworten auf die meisten Fragen und wichtige Tipps zur <![CDATA[<a href=\"https://telepatch.org/faq/de#problembehandlung\">Problembehandlung</a>]]>.</string>
     <string name="AskButton">Frage einen Freiwilligen</string>
-    <string name="TelegramFaq">Fragen und Antworten</string>
-    <string name="TelegramFaqUrl">https://telegram.org/faq/de</string>
+    <string name="telepatchFaq">Fragen und Antworten</string>
+    <string name="telepatchFaqUrl">https://telepatch.org/faq/de</string>
     <string name="DeleteLocalization">Lokalisierung löschen?</string>
     <string name="IncorrectLocalization">Falsche Sprachdatei</string>
     <string name="Enabled">Aktiviert</string>
@@ -277,7 +277,7 @@
     <string name="Short">Kurz</string>
     <string name="Long">Lang</string>
     <string name="SystemDefault">Systemvorgabe</string>
-    <string name="SettingsDefault">Telegramvorgabe</string>
+    <string name="SettingsDefault">telepatchvorgabe</string>
     <string name="AutomaticMediaDownload">AUTOMATISCHER MEDIENDOWNLOAD</string>
     <string name="WhenUsingMobileData">über Mobilfunk</string>
     <string name="WhenConnectedOnWiFi">über W-LAN</string>
@@ -346,7 +346,7 @@
     <string name="ActionYouCreateGroup">Du hast die Gruppe erstellt</string>
     <string name="ActionKickUserYou">un1 hat dich aus der Gruppe entfernt</string>
     <string name="ActionAddUserYou">un1 hat dich hinzugefügt</string>
-    <string name="UnsuppotedMedia">Diese Nachricht wird von deiner Telegram-Version nicht unterstützt. Bitte aktualisiere die App um sie zu sehen: http://telegram.org/update</string>
+    <string name="UnsuppotedMedia">Diese Nachricht wird von deiner telepatch-Version nicht unterstützt. Bitte aktualisiere die App um sie zu sehen: http://telepatch.org/update</string>
     <string name="AttachPhoto">Foto</string>
     <string name="AttachVideo">Video</string>
     <string name="AttachLocation">Standort</string>
@@ -365,9 +365,9 @@
     <string name="InvalidLastName">Ungültiger Nachname</string>
     <string name="Loading">Lädt…</string>
     <string name="NoPlayerInstalled">Du hast keinen Videoplayer. Bitte installiere einen um fortzufahren.</string>
-    <string name="NoMailInstalled">Bitte sende uns eine Email an sms@telegram.org mit einer Beschreibung des Problems.</string>
+    <string name="NoMailInstalled">Bitte sende uns eine Email an sms@telepatch.org mit einer Beschreibung des Problems.</string>
     <string name="NoHandleAppInstalled">Du hast keine Applikationen, die den Dateityp \'%1$s\' öffnen könnten. Bitte installiere eine entsprechende Anwendung um fortzufahren.</string>
-    <string name="InviteUser">Dieser Benutzer hat noch kein Telegram. Möchtest du ihn einladen?</string>
+    <string name="InviteUser">Dieser Benutzer hat noch kein telepatch. Möchtest du ihn einladen?</string>
     <string name="AreYouSure">Bist du sicher?</string>
     <string name="AddContactQ">Kontakt hinzufügen?</string>
     <string name="AddToTheGroup">%1$s zur Gruppe hinzufügen?\n\nAnzahl der letzten Nachrichten für die Weiterleitung:</string>
@@ -388,7 +388,7 @@
     <string name="ForwardMessagesToGroup">Weiterleiten an %1$s?</string>
     <string name="FeatureUnavailable">Sorry, this feature is currently not available in your country.</string>
     <!--Intro view-->
-    <string name="Page1Title">Telegram</string>
+    <string name="Page1Title">telepatch</string>
     <string name="Page2Title">Schnell</string>
     <string name="Page3Title">Kostenlos</string>
     <string name="Page4Title">Sicher</string>
@@ -396,12 +396,12 @@
     <string name="Page6Title">Cloud-Basiert</string>
     <string name="Page7Title">Vertraulich</string>
     <string name="Page1Message">Die <![CDATA[<b>schnellste</b>]]> Messaging App der Welt.<![CDATA[<br/><b>Kostenlos</b>]]> und <![CDATA[<b>sicher</b>]]>.</string>
-    <string name="Page2Message"><![CDATA[<b>Telegram</b>]]> stellt Nachrichten schneller<![CDATA[<br/>]]>zu als andere Anwendungen.</string>
-    <string name="Page3Message"><![CDATA[<b>Telegram</b>]]> ist für immer kostenlos.<![CDATA[<br/>]]>Keine Werbung. Keine Abo-Gebühr.</string>
-    <string name="Page4Message"><![CDATA[<b>Telegram</b>]]> schützt deine Nachrichten <![CDATA[<br/>]]>vor Hacker-Angriffen.</string>
-    <string name="Page5Message"><![CDATA[<b>Telegram</b>]]> unterstützt unbegrenzt große <![CDATA[<br/>]]>Chats und Mediendateien.</string>
-    <string name="Page6Message"><![CDATA[<b>Telegram</b>]]> lässt sich von verschiedenen Geräten<![CDATA[<br/>]]>gleichzeitig nutzen.</string>
-    <string name="Page7Message"><![CDATA[<b>Telegram</b>]]>-Nachrichten sind stark verschlüsselt<![CDATA[<br/>]]>und können sich selbst zerstören.</string>
+    <string name="Page2Message"><![CDATA[<b>telepatch</b>]]> stellt Nachrichten schneller<![CDATA[<br/>]]>zu als andere Anwendungen.</string>
+    <string name="Page3Message"><![CDATA[<b>telepatch</b>]]> ist für immer kostenlos.<![CDATA[<br/>]]>Keine Werbung. Keine Abo-Gebühr.</string>
+    <string name="Page4Message"><![CDATA[<b>telepatch</b>]]> schützt deine Nachrichten <![CDATA[<br/>]]>vor Hacker-Angriffen.</string>
+    <string name="Page5Message"><![CDATA[<b>telepatch</b>]]> unterstützt unbegrenzt große <![CDATA[<br/>]]>Chats und Mediendateien.</string>
+    <string name="Page6Message"><![CDATA[<b>telepatch</b>]]> lässt sich von verschiedenen Geräten<![CDATA[<br/>]]>gleichzeitig nutzen.</string>
+    <string name="Page7Message"><![CDATA[<b>telepatch</b>]]>-Nachrichten sind stark verschlüsselt<![CDATA[<br/>]]>und können sich selbst zerstören.</string>
     <string name="StartMessaging">Jetzt beginnen</string>
     <!--plural-->
     <string name="Online_zero">%1$d online</string>
diff --git a/TMessagesProj/src/main/res/values-es/strings.xml b/TMessagesProj/src/main/res/values-es/strings.xml
index ce8ca4e7f..e8f93bd93 100644
--- a/TMessagesProj/src/main/res/values-es/strings.xml
+++ b/TMessagesProj/src/main/res/values-es/strings.xml
@@ -3,7 +3,7 @@
 <!--Translation by Borja Campina, Edited by Victor Espinoza and Francisco Vila-->
 
 <resources>
-    <string name="AppName">Telegram</string>
+    <string name="AppName">telepatch</string>
     <string name="LanguageName">Español</string>
     <string name="LanguageNameInEnglish">Spanish</string>
     <string name="LanguageCode">es</string>
@@ -52,7 +52,7 @@
     <string name="HiddenName">Nombre oculto</string>
     <string name="SelectChat">Elige el chat</string>
     <string name="PhotoTip">Mantén pulsado para ver</string>
-    <string name="CompatibilityChat">%1$s usa una versión antigua de Telegram, así que las fotos secretas serán mostradas en un modo de compatibilidad.\n\nCuando %2$s actualice Telegram, las fotos con autodestrucción de 1 minuto o menos funcionarán con el modo \'Mantén pulsado para ver\', y te notificaremos siempre que la otra parte haga una captura de pantalla.</string>
+    <string name="CompatibilityChat">%1$s usa una versión antigua de telepatch, así que las fotos secretas serán mostradas en un modo de compatibilidad.\n\nCuando %2$s actualice telepatch, las fotos con autodestrucción de 1 minuto o menos funcionarán con el modo \'Mantén pulsado para ver\', y te notificaremos siempre que la otra parte haga una captura de pantalla.</string>
     <!--broadcasts-->
     <string name="BroadcastList">Lista de difusión</string>
     <string name="NewBroadcastList">Nueva difusión</string>
@@ -79,7 +79,7 @@
     <string name="Attach">Adjuntar</string>
     <string name="IsTyping">está escribiendo...</string>
     <string name="AreTyping">están escribiendo...</string>
-    <string name="GotAQuestion">¿Tienes preguntas\nsobre Telegram?</string>
+    <string name="GotAQuestion">¿Tienes preguntas\nsobre telepatch?</string>
     <string name="ChatTakePhoto">Hacer foto</string>
     <string name="ChatGallery">Galería</string>
     <string name="ChatLocation">Ubicación</string>
@@ -144,8 +144,8 @@
     <string name="NotificationGroupKickMember">%1$s expulsó a %3$s del grupo %2$s</string>
     <string name="NotificationGroupKickYou">%1$s te expulsó del grupo %2$s</string>
     <string name="NotificationGroupLeftMember">%1$s dejó el grupo %2$s</string>
-    <string name="NotificationContactJoined">¡%1$s se unió a Telegram!</string>
-    <string name="NotificationUnrecognizedDevice">%1$s,\nDetectamos un inicio de sesión en tu cuenta desde un nuevo dispositivo, el %2$s\n\nDispositivo: %3$s\nUbicación: %4$s\n\nSi no eras tú, puedes ir a Ajustes - Cerrar todas las otras sesiones.\n\nAtentamente,\nEl equipo de Telegram</string>
+    <string name="NotificationContactJoined">¡%1$s se unió a telepatch!</string>
+    <string name="NotificationUnrecognizedDevice">%1$s,\nDetectamos un inicio de sesión en tu cuenta desde un nuevo dispositivo, el %2$s\n\nDispositivo: %3$s\nUbicación: %4$s\n\nSi no eras tú, puedes ir a Ajustes - Cerrar todas las otras sesiones.\n\nAtentamente,\nEl equipo de telepatch</string>
     <string name="NotificationContactNewPhoto">%1$s actualizó su foto de perfil</string>
     <string name="Reply">Responder</string>
     <string name="ReplyToGroup">Responder a %1$s</string>
@@ -154,7 +154,7 @@
     <!--contacts view-->
     <string name="SelectContact">Elegir contacto</string>
     <string name="NoContacts">Aún sin contactos</string>
-    <string name="InviteText">Oye, cambiémonos a Telegram: http://telegram.org/dl2</string>
+    <string name="InviteText">Oye, cambiémonos a telepatch: http://telepatch.org/dl2</string>
     <string name="TodayAt">hoy a las</string>
     <string name="YesterdayAt">ayer a las</string>
     <string name="Online">en línea</string>
@@ -198,7 +198,7 @@
     <string name="EncryptionKey">Clave de cifrado</string>
     <string name="MessageLifetime">Autodestrucción</string>
     <string name="ShortMessageLifetimeForever">Apagada</string>
-    <string name="EncryptionKeyDescription">Esta imagen es una visualización de la clave de cifrado para el chat secreto con <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>Si esta imagen se ve igual en el teléfono de <![CDATA[<b>]]>%2$s<![CDATA[</b>]]>, tu chat es seguro en un 200%%.<![CDATA[<br><br>]]>Aprende más en telegram.org</string>
+    <string name="EncryptionKeyDescription">Esta imagen es una visualización de la clave de cifrado para el chat secreto con <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>Si esta imagen se ve igual en el teléfono de <![CDATA[<b>]]>%2$s<![CDATA[</b>]]>, tu chat es seguro en un 200%%.<![CDATA[<br><br>]]>Aprende más en telepatch.org</string>
     <string name="NumberUnknown">Desconocido</string>
     <string name="Info">INFORMACIÓN</string>
     <string name="Phone">Teléfono</string>
@@ -210,7 +210,7 @@
     <string name="UsernameInvalidShort">Un apodo debe tener al menos 5 caracteres.</string>
     <string name="UsernameInvalidLong">El apodo no debe exceder los 32 caracteres.</string>
     <string name="UsernameInvalidStartNumber">Lo siento, un apodo no puede comenzar con un número.</string>
-    <string name="UsernameHelp">Puedes elegir un apodo en <![CDATA[<b>]]>Telegram<![CDATA[</b>]]>. Si lo haces, otras personas te podrán encontrar por ese apodo y contactarte sin saber tu número de teléfono.<![CDATA[<br><br>]]>Puedes usar <![CDATA[<b>]]>a–z<![CDATA[</b>]]>, <![CDATA[<b>]]>0–9<![CDATA[</b>]]> y guiones bajos. La longitud mínima es de <![CDATA[<b>]]>5<![CDATA[</b>]]> caracteres.</string>
+    <string name="UsernameHelp">Puedes elegir un apodo en <![CDATA[<b>]]>telepatch<![CDATA[</b>]]>. Si lo haces, otras personas te podrán encontrar por ese apodo y contactarte sin saber tu número de teléfono.<![CDATA[<br><br>]]>Puedes usar <![CDATA[<b>]]>a–z<![CDATA[</b>]]>, <![CDATA[<b>]]>0–9<![CDATA[</b>]]> y guiones bajos. La longitud mínima es de <![CDATA[<b>]]>5<![CDATA[</b>]]> caracteres.</string>
     <string name="UsernameChecking">Verificando apodo...</string>
     <string name="UsernameAvailable">%1$s está disponible.</string>
     <string name="UsernameEmpty">Ninguno</string>
@@ -249,13 +249,13 @@
     <string name="SendByEnter">Enviar con \'Intro\'</string>
     <string name="TerminateAllSessions">Cerrar todas las otras sesiones</string>
     <string name="Events">EVENTOS</string>
-    <string name="ContactJoined">Un contacto se unió a Telegram</string>
+    <string name="ContactJoined">Un contacto se unió a telepatch</string>
     <string name="Pebble">PEBBLE</string>
     <string name="Language">Idioma</string>
-    <string name="AskAQuestionInfo">Por favor, considera que el soporte de Telegram está hecho por voluntarios. Respondemos lo antes posible, pero puede tomar tiempo.<![CDATA[<br><br>]]>Si quieres, mira las <![CDATA[<a href=“http://telegram.org/faq/es”>preguntas frecuentes de Telegram</a>]]>: tienen <![CDATA[<a href=“http://telegram.org/faq/es#solucin-de-problemas”>soluciones a problemas</a>]]>, y respuestas para la mayoría de las preguntas.</string>
+    <string name="AskAQuestionInfo">Por favor, considera que el soporte de telepatch está hecho por voluntarios. Respondemos lo antes posible, pero puede tomar tiempo.<![CDATA[<br><br>]]>Si quieres, mira las <![CDATA[<a href=“http://telepatch.org/faq/es”>preguntas frecuentes de telepatch</a>]]>: tienen <![CDATA[<a href=“http://telepatch.org/faq/es#solucin-de-problemas”>soluciones a problemas</a>]]>, y respuestas para la mayoría de las preguntas.</string>
     <string name="AskButton">Preguntar</string>
-    <string name="TelegramFaq">Preguntas frecuentes</string>
-    <string name="TelegramFaqUrl">https://telegram.org/faq/es</string>
+    <string name="telepatchFaq">Preguntas frecuentes</string>
+    <string name="telepatchFaqUrl">https://telepatch.org/faq/es</string>
     <string name="DeleteLocalization">¿Eliminar traducción?</string>
     <string name="IncorrectLocalization">Archivo de traducción incorrecto</string>
     <string name="Enabled">Activadas</string>
@@ -277,7 +277,7 @@
     <string name="Short">Corto</string>
     <string name="Long">Largo</string>
     <string name="SystemDefault">Según el sistema</string>
-    <string name="SettingsDefault">Según Telegram</string>
+    <string name="SettingsDefault">Según telepatch</string>
     <string name="AutomaticMediaDownload">DESCARGA AUTOMÁTICA DE MULTIMEDIA</string>
     <string name="WhenUsingMobileData">Con uso de datos móviles</string>
     <string name="WhenConnectedOnWiFi">Con conexión a Wi-Fi</string>
@@ -346,7 +346,7 @@
     <string name="ActionYouCreateGroup">Creaste el grupo</string>
     <string name="ActionKickUserYou">un1 te expulsó</string>
     <string name="ActionAddUserYou">un1 te añadió</string>
-    <string name="UnsuppotedMedia">Este mensaje no lo admite tu versión de Telegram. Actualiza la app para verlo: http://telegram.org/update</string>
+    <string name="UnsuppotedMedia">Este mensaje no lo admite tu versión de telepatch. Actualiza la app para verlo: http://telepatch.org/update</string>
     <string name="AttachPhoto">Foto</string>
     <string name="AttachVideo">Vídeo</string>
     <string name="AttachLocation">Ubicación</string>
@@ -365,9 +365,9 @@
     <string name="InvalidLastName">Apellidos inválidos</string>
     <string name="Loading">Cargando...</string>
     <string name="NoPlayerInstalled">No tienes reproductor de vídeo. Por favor, instala uno para continuar.</string>
-    <string name="NoMailInstalled">Por favor, envíanos un correo electrónico a sms@telegram.org y cuéntanos tu problema.</string>
+    <string name="NoMailInstalled">Por favor, envíanos un correo electrónico a sms@telepatch.org y cuéntanos tu problema.</string>
     <string name="NoHandleAppInstalled">No tienes aplicaciones que puedan manejar el tipo de archivo \'%1$s\'. Por favor, instala una para continuar.</string>
-    <string name="InviteUser">Este usuario no tiene Telegram aún. ¿Enviarle una invitación?</string>
+    <string name="InviteUser">Este usuario no tiene telepatch aún. ¿Enviarle una invitación?</string>
     <string name="AreYouSure">¿Quieres hacerlo?</string>
     <string name="AddContactQ">¿Añadir contacto?</string>
     <string name="AddToTheGroup">¿Añadir a %1$s al grupo?\n\nNúmero de los últimos mensajes para reenviar:</string>
@@ -388,7 +388,7 @@
     <string name="ForwardMessagesToGroup">¿Reenviar mensajes a %1$s?</string>
     <string name="FeatureUnavailable">Sorry, this feature is currently not available in your country.</string>
     <!--Intro view-->
-    <string name="Page1Title">Telegram</string>
+    <string name="Page1Title">telepatch</string>
     <string name="Page2Title">Rápida</string>
     <string name="Page3Title">Gratis</string>
     <string name="Page4Title">Segura</string>
@@ -396,12 +396,12 @@
     <string name="Page6Title">Basada en la nube</string>
     <string name="Page7Title">Privada</string>
     <string name="Page1Message">La aplicación de mensajería más<![CDATA[<br/><b>veloz</b>]]> del mundo. Es <![CDATA[<b>gratis</b>]]> y <![CDATA[<b>segura</b>]]>.</string>
-    <string name="Page2Message"><![CDATA[<b>Telegram</b>]]> entrega mensajes más<![CDATA[<br/>]]>rápido que cualquier otra aplicación.</string>
-    <string name="Page3Message"><![CDATA[<b>Telegram</b>]]> es gratis para siempre.<![CDATA[<br/>]]>Sin publicidad ni suscripciones.</string>
-    <string name="Page4Message"><![CDATA[<b>Telegram</b>]]> mantiene tus mensajes<![CDATA[<br/>]]>a salvo del ataque de hackers.</string>
-    <string name="Page5Message"><![CDATA[<b>Telegram</b>]]> no tiene límites en<![CDATA[<br/>]]>el tamaño de tus chats y archivos.</string>
-    <string name="Page6Message"><![CDATA[<b>Telegram</b>]]> te permite acceder a tus<![CDATA[<br/>]]>mensajes desde múltiples dispositivos.</string>
-    <string name="Page7Message"><![CDATA[<b>Telegram</b>]]> posee mensajes fuertemente<![CDATA[<br/>]]>cifrados y se pueden autodestruir.</string>
+    <string name="Page2Message"><![CDATA[<b>telepatch</b>]]> entrega mensajes más<![CDATA[<br/>]]>rápido que cualquier otra aplicación.</string>
+    <string name="Page3Message"><![CDATA[<b>telepatch</b>]]> es gratis para siempre.<![CDATA[<br/>]]>Sin publicidad ni suscripciones.</string>
+    <string name="Page4Message"><![CDATA[<b>telepatch</b>]]> mantiene tus mensajes<![CDATA[<br/>]]>a salvo del ataque de hackers.</string>
+    <string name="Page5Message"><![CDATA[<b>telepatch</b>]]> no tiene límites en<![CDATA[<br/>]]>el tamaño de tus chats y archivos.</string>
+    <string name="Page6Message"><![CDATA[<b>telepatch</b>]]> te permite acceder a tus<![CDATA[<br/>]]>mensajes desde múltiples dispositivos.</string>
+    <string name="Page7Message"><![CDATA[<b>telepatch</b>]]> posee mensajes fuertemente<![CDATA[<br/>]]>cifrados y se pueden autodestruir.</string>
     <string name="StartMessaging">Empieza a conversar</string>
     <!--plural-->
     <string name="Online_zero">%1$d en línea</string>
diff --git a/TMessagesProj/src/main/res/values-it/strings.xml b/TMessagesProj/src/main/res/values-it/strings.xml
index 835962588..ef2f1ac9e 100644
--- a/TMessagesProj/src/main/res/values-it/strings.xml
+++ b/TMessagesProj/src/main/res/values-it/strings.xml
@@ -1,9 +1,9 @@
 <?xml version="1.0" encoding="utf-8"?>
 
-<!--https://www.transifex.com/projects/p/telegram/language/it/members/-->
+<!--https://www.transifex.com/projects/p/telepatch/language/it/members/-->
 
 <resources>
-    <string name="AppName">Telegram</string>
+    <string name="AppName">telepatch</string>
     <string name="LanguageName">Italiano</string>
     <string name="LanguageNameInEnglish">Italian</string>
     <string name="LanguageCode">it</string>
@@ -52,7 +52,7 @@
     <string name="HiddenName">Nome nascosto</string>
     <string name="SelectChat">Seleziona chat</string>
     <string name="PhotoTip">Tieni premuto per vedere</string>
-    <string name="CompatibilityChat">%1$s sta usando una versione vecchia di Telegram, quindi le foto segrete verranno visualizzate in modalità di compatibilità.\n\nUna volta che %2$s avrà aggiornato Telegram, le foto con il timer minore di 1 minuto funzioneranno in modalità \'Tieni premuto per vedere\' , e verrai notificato ogni volta che l\'altro esegue uno screenshot.</string>
+    <string name="CompatibilityChat">%1$s sta usando una versione vecchia di telepatch, quindi le foto segrete verranno visualizzate in modalità di compatibilità.\n\nUna volta che %2$s avrà aggiornato telepatch, le foto con il timer minore di 1 minuto funzioneranno in modalità \'Tieni premuto per vedere\' , e verrai notificato ogni volta che l\'altro esegue uno screenshot.</string>
     <!--broadcasts-->
     <string name="BroadcastList">Lista broadcast</string>
     <string name="NewBroadcastList">Nuova lista broadcast</string>
@@ -79,7 +79,7 @@
     <string name="Attach">Allega</string>
     <string name="IsTyping">sta scrivendo…</string>
     <string name="AreTyping">stanno scrivendo…</string>
-    <string name="GotAQuestion">Hai una domanda\nsu Telegram?</string>
+    <string name="GotAQuestion">Hai una domanda\nsu telepatch?</string>
     <string name="ChatTakePhoto">Scatta una foto</string>
     <string name="ChatGallery">Galleria</string>
     <string name="ChatLocation">Posizione</string>
@@ -144,8 +144,8 @@
     <string name="NotificationGroupKickMember">%1$s ha rimosso %3$s dal gruppo %2$s</string>
     <string name="NotificationGroupKickYou">%1$s ti ha rimosso dal gruppo %2$s</string>
     <string name="NotificationGroupLeftMember">%1$s ha lasciato il gruppo %2$s</string>
-    <string name="NotificationContactJoined">%1$s ha iniziato a usare Telegram!</string>
-    <string name="NotificationUnrecognizedDevice">%1$s,\nAbbiamo rilevato un accesso al tuo account da un nuovo dispositivo %2$s\n\nDispositivo: %3$s\nPosizione: %4$s\n\nSe non sei stato tu, puoi andare su Impostazioni - Termina tutte le sessioni.\n\nGrazie,\nil team di Telegram</string>
+    <string name="NotificationContactJoined">%1$s ha iniziato a usare telepatch!</string>
+    <string name="NotificationUnrecognizedDevice">%1$s,\nAbbiamo rilevato un accesso al tuo account da un nuovo dispositivo %2$s\n\nDispositivo: %3$s\nPosizione: %4$s\n\nSe non sei stato tu, puoi andare su Impostazioni - Termina tutte le sessioni.\n\nGrazie,\nil team di telepatch</string>
     <string name="NotificationContactNewPhoto">%1$s ha aggiornato la foto del profilo</string>
     <string name="Reply">Rispondi</string>
     <string name="ReplyToGroup">Rispondi a %1$s</string>
@@ -154,7 +154,7 @@
     <!--contacts view-->
     <string name="SelectContact">Seleziona contatto</string>
     <string name="NoContacts">Ancora nessun contatto</string>
-    <string name="InviteText">Ehi, è il momento di passare a Telegram: http://telegram.org/dl2</string>
+    <string name="InviteText">Ehi, è il momento di passare a telepatch: http://telepatch.org/dl2</string>
     <string name="TodayAt">oggi alle</string>
     <string name="YesterdayAt">ieri alle</string>
     <string name="Online">in linea</string>
@@ -198,7 +198,7 @@
     <string name="EncryptionKey">Chiave di cifratura</string>
     <string name="MessageLifetime">Timer di autodistruzione</string>
     <string name="ShortMessageLifetimeForever">Spento</string>
-    <string name="EncryptionKeyDescription">Questa immagine è una visualizzazione della chiave di cifratura per questa chat segreta con <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>Se questa immagine è uguale sul telefono di <![CDATA[<b>]]>%2$s<![CDATA[</b>]]>, la chat è sicura al 200%%.<![CDATA[<br><br>]]>Per saperne di più, visita Telegram.org</string>
+    <string name="EncryptionKeyDescription">Questa immagine è una visualizzazione della chiave di cifratura per questa chat segreta con <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>Se questa immagine è uguale sul telefono di <![CDATA[<b>]]>%2$s<![CDATA[</b>]]>, la chat è sicura al 200%%.<![CDATA[<br><br>]]>Per saperne di più, visita telepatch.org</string>
     <string name="NumberUnknown">Sconosciuto</string>
     <string name="Info">INFO</string>
     <string name="Phone">Telefono</string>
@@ -210,7 +210,7 @@
     <string name="UsernameInvalidShort">Il minimo per un nome utente è 5 caratteri.</string>
     <string name="UsernameInvalidLong">Il massimo per un nome utente è 32 caratteri.</string>
     <string name="UsernameInvalidStartNumber">Un nome utente non può iniziare con numeri.</string>
-    <string name="UsernameHelp">Puoi scegliere un nome utente su <![CDATA[<b>]]>Telegram<![CDATA[</b>]]>. Se lo fai, le altre persone potranno trovarti tramite questo nome utente e contattarti senza conoscere il tuo numero di telefono.<![CDATA[<br><br>]]>Puoi usare <![CDATA[<b>]]>a–z<![CDATA[</b>]]>, <![CDATA[<b>]]>0–9<![CDATA[</b>]]> e underscore. La lunghezza minima è di <![CDATA[<b>]]>5<![CDATA[</b>]]>  caratteri.</string>
+    <string name="UsernameHelp">Puoi scegliere un nome utente su <![CDATA[<b>]]>telepatch<![CDATA[</b>]]>. Se lo fai, le altre persone potranno trovarti tramite questo nome utente e contattarti senza conoscere il tuo numero di telefono.<![CDATA[<br><br>]]>Puoi usare <![CDATA[<b>]]>a–z<![CDATA[</b>]]>, <![CDATA[<b>]]>0–9<![CDATA[</b>]]> e underscore. La lunghezza minima è di <![CDATA[<b>]]>5<![CDATA[</b>]]>  caratteri.</string>
     <string name="UsernameChecking">Controllando il nome utente...</string>
     <string name="UsernameAvailable">%1$s è disponibile.</string>
     <string name="UsernameEmpty">Nessuno</string>
@@ -249,13 +249,13 @@
     <string name="SendByEnter">Spedisci con Invio</string>
     <string name="TerminateAllSessions">Chiudi tutte le altre sessioni</string>
     <string name="Events">EVENTI</string>
-    <string name="ContactJoined">Un contatto si è collegato a Telegram</string>
+    <string name="ContactJoined">Un contatto si è collegato a telepatch</string>
     <string name="Pebble">PEBBLE</string>
     <string name="Language">Lingua</string>
-    <string name="AskAQuestionInfo">Nota che il supporto di Telegram è fornito da volontari. Proviamo a rispondere non appena possibile, ma potrebbe richiedere del tempo.<![CDATA[<br><br>]]>Dai un\'occhiata alle <![CDATA[<a href=\"https://telegram.org/faq/it#domande-generali\">Domande frequenti</a>]]>: troverai risposte alla maggior parte delle domande e suggerimenti importanti per <![CDATA[<a href=\"https://telegram.org/faq/it#risoluzione-dei-problemi\">l\'individuazione del problema</a>]]>.</string>
+    <string name="AskAQuestionInfo">Nota che il supporto di telepatch è fornito da volontari. Proviamo a rispondere non appena possibile, ma potrebbe richiedere del tempo.<![CDATA[<br><br>]]>Dai un\'occhiata alle <![CDATA[<a href=\"https://telepatch.org/faq/it#domande-generali\">Domande frequenti</a>]]>: troverai risposte alla maggior parte delle domande e suggerimenti importanti per <![CDATA[<a href=\"https://telepatch.org/faq/it#risoluzione-dei-problemi\">l\'individuazione del problema</a>]]>.</string>
     <string name="AskButton">Chiedi a un volontario</string>
-    <string name="TelegramFaq">Domande frequenti</string>
-    <string name="TelegramFaqUrl">https://telegram.org/faq/it</string>
+    <string name="telepatchFaq">Domande frequenti</string>
+    <string name="telepatchFaqUrl">https://telepatch.org/faq/it</string>
     <string name="DeleteLocalization">Eliminare la localizzazione?</string>
     <string name="IncorrectLocalization">File della localizzazione non valido</string>
     <string name="Enabled">Abilitato</string>
@@ -346,7 +346,7 @@
     <string name="ActionYouCreateGroup">Hai creato il gruppo</string>
     <string name="ActionKickUserYou">un1 ti ha rimosso</string>
     <string name="ActionAddUserYou">un1 ti ha aggiunto</string>
-    <string name="UnsuppotedMedia">Questo messaggio non è supportato sulla tua versione di Telegram. Aggiorna l\'applicazione per visualizzarlo: http://telegram.org/update</string>
+    <string name="UnsuppotedMedia">Questo messaggio non è supportato sulla tua versione di telepatch. Aggiorna l\'applicazione per visualizzarlo: http://telepatch.org/update</string>
     <string name="AttachPhoto">Foto</string>
     <string name="AttachVideo">Video</string>
     <string name="AttachLocation">Posizione</string>
@@ -365,9 +365,9 @@
     <string name="InvalidLastName">Cognome non valido</string>
     <string name="Loading">Caricamento…</string>
     <string name="NoPlayerInstalled">Non hai un lettore video, per favore installane uno per continuare</string>
-    <string name="NoMailInstalled">Invia un’email a sms@telegram.org spiegandoci il problema.</string>
+    <string name="NoMailInstalled">Invia un’email a sms@telepatch.org spiegandoci il problema.</string>
     <string name="NoHandleAppInstalled">Non hai nessuna applicazione che può gestire il tipo di file \'%1$s\': installane una per proseguire</string>
-    <string name="InviteUser">Questo utente non ha ancora Telegram, vuoi invitarlo?</string>
+    <string name="InviteUser">Questo utente non ha ancora telepatch, vuoi invitarlo?</string>
     <string name="AreYouSure">Sei sicuro?</string>
     <string name="AddContactQ">Vuoi aggiungere il contatto?</string>
     <string name="AddToTheGroup">Aggiungere %1$s al gruppo?\n\nNumero di messaggi recenti da inoltrare:</string>
@@ -388,7 +388,7 @@
     <string name="ForwardMessagesToGroup">Inoltra messaggi a %1$s?</string>
     <string name="FeatureUnavailable">Ci spiace, questa funzione non è disponibile nel tuo paese.</string>
     <!--Intro view-->
-    <string name="Page1Title">Telegram</string>
+    <string name="Page1Title">telepatch</string>
     <string name="Page2Title">Veloce</string>
     <string name="Page3Title">Gratuito</string>
     <string name="Page4Title">Sicuro</string>
@@ -396,12 +396,12 @@
     <string name="Page6Title">Basato sul cloud</string>
     <string name="Page7Title">Privato</string>
     <string name="Page1Message">L\'app di messaggi <![CDATA[<b>più veloce</b>]]> al mondo.<![CDATA[<br/>]]>È <![CDATA[<b>gratuita</b>]]> e <![CDATA[<b>sicura</b>]]>.</string>
-    <string name="Page2Message"><![CDATA[<b>Telegram</b>]]> consegna i messaggi più<![CDATA[<br/>]]>velocemente di qualsiasi altra app.</string>
-    <string name="Page3Message"><![CDATA[<b>Telegram</b>]]> sarà sempre gratuito.<![CDATA[<br/>]]>Nessuna pubblicità. Nessun abbonamento.</string>
-    <string name="Page4Message"><![CDATA[<b>Telegram</b>]]> protegge i tuoi messaggi<![CDATA[<br/>]]>dagli attacchi degli hacker.</string>
-    <string name="Page5Message"><![CDATA[<b>Telegram</b>]]> non ha limiti sulle dimensioni<![CDATA[<br/>]]>dei tuoi file multimediali e delle chat.</string>
-    <string name="Page6Message"><![CDATA[<b>Telegram</b>]]> ti consente di accedere<![CDATA[<br/>]]>ai messaggi da più dispositivi.</string>
-    <string name="Page7Message"><![CDATA[<b>Telegram</b>]]> cifra in maniera sicura i messaggi<![CDATA[<br/>]]>e può far sì che si autodistruggano.</string>
+    <string name="Page2Message"><![CDATA[<b>telepatch</b>]]> consegna i messaggi più<![CDATA[<br/>]]>velocemente di qualsiasi altra app.</string>
+    <string name="Page3Message"><![CDATA[<b>telepatch</b>]]> sarà sempre gratuito.<![CDATA[<br/>]]>Nessuna pubblicità. Nessun abbonamento.</string>
+    <string name="Page4Message"><![CDATA[<b>telepatch</b>]]> protegge i tuoi messaggi<![CDATA[<br/>]]>dagli attacchi degli hacker.</string>
+    <string name="Page5Message"><![CDATA[<b>telepatch</b>]]> non ha limiti sulle dimensioni<![CDATA[<br/>]]>dei tuoi file multimediali e delle chat.</string>
+    <string name="Page6Message"><![CDATA[<b>telepatch</b>]]> ti consente di accedere<![CDATA[<br/>]]>ai messaggi da più dispositivi.</string>
+    <string name="Page7Message"><![CDATA[<b>telepatch</b>]]> cifra in maniera sicura i messaggi<![CDATA[<br/>]]>e può far sì che si autodistruggano.</string>
     <string name="StartMessaging">Inizia a inviare messaggi</string>
     <!--plural-->
     <string name="Online_zero">%1$d in linea</string>
diff --git a/TMessagesProj/src/main/res/values-ko/strings.xml b/TMessagesProj/src/main/res/values-ko/strings.xml
index c6314c7f0..2aa5a1949 100644
--- a/TMessagesProj/src/main/res/values-ko/strings.xml
+++ b/TMessagesProj/src/main/res/values-ko/strings.xml
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
 
-<!--https://www.transifex.com/projects/p/telegram/language/ko/members/-->
+<!--https://www.transifex.com/projects/p/telepatch/language/ko/members/-->
 
 <resources>
     <string name="AppName">텔레그램</string>
@@ -154,7 +154,7 @@
     <!--contacts view-->
     <string name="SelectContact">대화상대 선택</string>
     <string name="NoContacts">대화상대가 없습니다</string>
-    <string name="InviteText">텔레그램으로 초대합니다! http://telegram.org/dl2</string>
+    <string name="InviteText">텔레그램으로 초대합니다! http://telepatch.org/dl2</string>
     <string name="TodayAt">오늘</string>
     <string name="YesterdayAt">어제</string>
     <string name="Online">온라인</string>
@@ -198,7 +198,7 @@
     <string name="EncryptionKey">암호화 키</string>
     <string name="MessageLifetime">자동삭제 타이머</string>
     <string name="ShortMessageLifetimeForever">해제</string>
-    <string name="EncryptionKeyDescription">이 이미지는 <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>님과의 비밀대화에 사용 중인 암호화 키의 모습입니다.<![CDATA[<br><br>]]>이 이미지가 <![CDATA[<b>]]>%2$s<![CDATA[</b>]]>님의 암호화 키와 똑같다면 대화는 200%% 안전합니다.<![CDATA[<br><br>]]>더 자세한 사항은 telegram.org 를 참고해 주세요.</string>
+    <string name="EncryptionKeyDescription">이 이미지는 <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>님과의 비밀대화에 사용 중인 암호화 키의 모습입니다.<![CDATA[<br><br>]]>이 이미지가 <![CDATA[<b>]]>%2$s<![CDATA[</b>]]>님의 암호화 키와 똑같다면 대화는 200%% 안전합니다.<![CDATA[<br><br>]]>더 자세한 사항은 telepatch.org 를 참고해 주세요.</string>
     <string name="NumberUnknown">알 수 없음</string>
     <string name="Info">정보</string>
     <string name="Phone">전화번호</string>
@@ -252,10 +252,10 @@
     <string name="ContactJoined">친구의 텔레그램 가입 알림</string>
     <string name="Pebble">PEBBLE 스마트워치 지원</string>
     <string name="Language">언어</string>
-    <string name="AskAQuestionInfo">텔레그램에 관한 질문은 자원봉사자들이 답변해 드립니다. 신속한 답변을 위해 노력하지만 답변이 다소 늦을 수 있습니다.<![CDATA[<br><br>]]>일반적인 문제와 <![CDATA[<a href=\"http://telegram.org/faq/ko#g\">해결방법</a>]]>에 대해서는 \'<![CDATA[<a href=\"http://telegram.org/faq/ko#a\">자주 묻는 질문</a>]]>\'을 확인해 보세요.</string>
+    <string name="AskAQuestionInfo">텔레그램에 관한 질문은 자원봉사자들이 답변해 드립니다. 신속한 답변을 위해 노력하지만 답변이 다소 늦을 수 있습니다.<![CDATA[<br><br>]]>일반적인 문제와 <![CDATA[<a href=\"http://telepatch.org/faq/ko#g\">해결방법</a>]]>에 대해서는 \'<![CDATA[<a href=\"http://telepatch.org/faq/ko#a\">자주 묻는 질문</a>]]>\'을 확인해 보세요.</string>
     <string name="AskButton">질문하기</string>
-    <string name="TelegramFaq">자주 묻는 질문</string>
-    <string name="TelegramFaqUrl">https://telegram.org/faq/ko</string>
+    <string name="telepatchFaq">자주 묻는 질문</string>
+    <string name="telepatchFaqUrl">https://telepatch.org/faq/ko</string>
     <string name="DeleteLocalization">언어를 삭제할까요?</string>
     <string name="IncorrectLocalization">언어 파일이 올바르지 않습니다.</string>
     <string name="Enabled">켜기</string>
@@ -346,7 +346,7 @@
     <string name="ActionYouCreateGroup">그룹을 만들었습니다</string>
     <string name="ActionKickUserYou">un1님이 추방했습니다</string>
     <string name="ActionAddUserYou">un1님이 그룹에 초대했습니다</string>
-    <string name="UnsuppotedMedia">이 메시지는 사용 중인 텔레그램의 버전이 낮아 지원하지 않습니다. 앱을 업데이트 하세요: http://telegram.org/update</string>
+    <string name="UnsuppotedMedia">이 메시지는 사용 중인 텔레그램의 버전이 낮아 지원하지 않습니다. 앱을 업데이트 하세요: http://telepatch.org/update</string>
     <string name="AttachPhoto">사진</string>
     <string name="AttachVideo">동영상</string>
     <string name="AttachLocation">위치</string>
@@ -365,7 +365,7 @@
     <string name="InvalidLastName">올바른 성을 입력해 주세요</string>
     <string name="Loading">불러오는 중...</string>
     <string name="NoPlayerInstalled">동영상 재생 앱이 없습니다. 계속하려면 앱을 설치해 주세요.</string>
-    <string name="NoMailInstalled">sms@telegram.org 이메일 주소로 이 문제를 보내주세요.</string>
+    <string name="NoMailInstalled">sms@telepatch.org 이메일 주소로 이 문제를 보내주세요.</string>
     <string name="NoHandleAppInstalled">\'%1$s\' 파일 형식을 처리할 앱이 없습니다. 계속하려면 앱을 설치해 주세요.</string>
     <string name="InviteUser">친구가 아직 텔레그램을 사용하지 않네요. 초대해 보세요!</string>
     <string name="AreYouSure">확실합니까?</string>
diff --git a/TMessagesProj/src/main/res/values-nl/strings.xml b/TMessagesProj/src/main/res/values-nl/strings.xml
index eafe28483..4911c3573 100644
--- a/TMessagesProj/src/main/res/values-nl/strings.xml
+++ b/TMessagesProj/src/main/res/values-nl/strings.xml
@@ -1,9 +1,9 @@
 <?xml version="1.0" encoding="utf-8"?>
 
-<!--https://www.transifex.com/projects/p/telegram/language/nl/members/-->
+<!--https://www.transifex.com/projects/p/telepatch/language/nl/members/-->
 
 <resources>
-    <string name="AppName">Telegram</string>
+    <string name="AppName">telepatch</string>
     <string name="LanguageName">Nederlands</string>
     <string name="LanguageNameInEnglish">Dutch</string>
     <string name="LanguageCode">nl</string>
@@ -52,7 +52,7 @@
     <string name="HiddenName">Verborgen naam</string>
     <string name="SelectChat">Kies een gesprek</string>
     <string name="PhotoTip">Druk en houd ingedrukt</string>
-    <string name="CompatibilityChat">%1$s gebruikt een oudere versie van Telegram, dus worden geheime foto\'s weergegeven in de compatibiliteitsmodus.\n\nZodra %2$s Telegram updatet werken foto\'s met timers voor 1 minuut of minder in de \'Druk en houd ingedrukt\'-modus en krijg je een bericht wanneer de andere partij een schermafbeelding maakt.</string>
+    <string name="CompatibilityChat">%1$s gebruikt een oudere versie van telepatch, dus worden geheime foto\'s weergegeven in de compatibiliteitsmodus.\n\nZodra %2$s telepatch updatet werken foto\'s met timers voor 1 minuut of minder in de \'Druk en houd ingedrukt\'-modus en krijg je een bericht wanneer de andere partij een schermafbeelding maakt.</string>
     <!--broadcasts-->
     <string name="BroadcastList">Verzendlijst</string>
     <string name="NewBroadcastList">Nieuwe verzendlijst</string>
@@ -79,7 +79,7 @@
     <string name="Attach">Bijvoegen</string>
     <string name="IsTyping">is aan het typen…</string>
     <string name="AreTyping">zijn aan het typen…</string>
-    <string name="GotAQuestion">Heb je een vraag\nover Telegram?</string>
+    <string name="GotAQuestion">Heb je een vraag\nover telepatch?</string>
     <string name="ChatTakePhoto">Foto maken</string>
     <string name="ChatGallery">Galerij</string>
     <string name="ChatLocation">Locatie</string>
@@ -144,8 +144,8 @@
     <string name="NotificationGroupKickMember">%1$s heeft %3$s verwijderd uit de groep %2$s</string>
     <string name="NotificationGroupKickYou">%1$s heeft je verwijderd uit de groep %2$s</string>
     <string name="NotificationGroupLeftMember">%1$s heeft de groep %2$s verlaten</string>
-    <string name="NotificationContactJoined">%1$s heeft nu Telegram!</string>
-    <string name="NotificationUnrecognizedDevice">%1$s,\nEr is op je account ingelogd vanaf een nieuw apparaat op %2$s\n\nApparaat: %3$s\nLocatie: %4$s\n\nAls jij dit niet was, kun je alle sessies beëindigen via Instellingen – Beëindig alle andere sessies.\n\nBedankt,\nHet Telegram-team</string>
+    <string name="NotificationContactJoined">%1$s heeft nu telepatch!</string>
+    <string name="NotificationUnrecognizedDevice">%1$s,\nEr is op je account ingelogd vanaf een nieuw apparaat op %2$s\n\nApparaat: %3$s\nLocatie: %4$s\n\nAls jij dit niet was, kun je alle sessies beëindigen via Instellingen – Beëindig alle andere sessies.\n\nBedankt,\nHet telepatch-team</string>
     <string name="NotificationContactNewPhoto">%1$s heeft zijn/haar profielfoto gewijzigd</string>
     <string name="Reply">Antwoord</string>
     <string name="ReplyToGroup">Antwoord op %1$s</string>
@@ -154,7 +154,7 @@
     <!--contacts view-->
     <string name="SelectContact">Kies een contact</string>
     <string name="NoContacts">Nog geen contacten</string>
-    <string name="InviteText">Hey! Zullen we overstappen op Telegram? http://telegram.org/dl2</string>
+    <string name="InviteText">Hey! Zullen we overstappen op telepatch? http://telepatch.org/dl2</string>
     <string name="TodayAt">vandaag om</string>
     <string name="YesterdayAt">gisteren om</string>
     <string name="Online">online</string>
@@ -198,7 +198,7 @@
     <string name="EncryptionKey">Encryptiesleutel</string>
     <string name="MessageLifetime">Zelfvernietigingstimer</string>
     <string name="ShortMessageLifetimeForever">Uit</string>
-    <string name="EncryptionKeyDescription">Dit is een weergave van de encryptiesleutel voor deze geheime chat met <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>Als deze afbeelding er bij <![CDATA[<b>]]>%2$s<![CDATA[</b>]]> hetzelfde uitziet, is jullie gesprek 200%% beveiligd.<![CDATA[<br><br>]]>Lees meer op telegram.org.</string>
+    <string name="EncryptionKeyDescription">Dit is een weergave van de encryptiesleutel voor deze geheime chat met <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>Als deze afbeelding er bij <![CDATA[<b>]]>%2$s<![CDATA[</b>]]> hetzelfde uitziet, is jullie gesprek 200%% beveiligd.<![CDATA[<br><br>]]>Lees meer op telepatch.org.</string>
     <string name="NumberUnknown">Onbekend</string>
     <string name="Info">INFORMATIE</string>
     <string name="Phone">Telefoon</string>
@@ -210,7 +210,7 @@
     <string name="UsernameInvalidShort">Je naam moet minimaal 5 tekens hebben.</string>
     <string name="UsernameInvalidLong">Je naam mag niet langer zijn dan 32 tekens.</string>
     <string name="UsernameInvalidStartNumber">Sorry, begincijfers zijn niet toegestaan.</string>
-    <string name="UsernameHelp">Je kan een gebruikersnaam kiezen voor <![CDATA[<b>]]>Telegram<![CDATA[</b>]]>. Hiermee kunnen anderen je vinden  en contact met je opnemen zonder je telefoonnummer te weten.<![CDATA[<br><br>]]>Je mag <![CDATA[<b>]]>a–z<![CDATA[</b>]]>, <![CDATA[<b>]]>0–9<![CDATA[</b>]]> en liggend streepje gebruiken. De minimale lengte is <![CDATA[<b>]]>5<![CDATA[</b>]]> tekens.</string>
+    <string name="UsernameHelp">Je kan een gebruikersnaam kiezen voor <![CDATA[<b>]]>telepatch<![CDATA[</b>]]>. Hiermee kunnen anderen je vinden  en contact met je opnemen zonder je telefoonnummer te weten.<![CDATA[<br><br>]]>Je mag <![CDATA[<b>]]>a–z<![CDATA[</b>]]>, <![CDATA[<b>]]>0–9<![CDATA[</b>]]> en liggend streepje gebruiken. De minimale lengte is <![CDATA[<b>]]>5<![CDATA[</b>]]> tekens.</string>
     <string name="UsernameChecking">Gebruikersnaam controleren.</string>
     <string name="UsernameAvailable">%1$s is beschikbaar.</string>
     <string name="UsernameEmpty">Geen</string>
@@ -249,13 +249,13 @@
     <string name="SendByEnter">Verzenden met Enter</string>
     <string name="TerminateAllSessions">Beëindig alle andere sessies</string>
     <string name="Events">GEBEURTENISSEN</string>
-    <string name="ContactJoined">Contact lid van Telegram</string>
+    <string name="ContactJoined">Contact lid van telepatch</string>
     <string name="Pebble">PEBBLE</string>
     <string name="Language">Taal</string>
-    <string name="AskAQuestionInfo">De ondersteuning van Telegram wordt gedaan door vrijwilligers.<![CDATA[<br>]]>We doen ons best om zo snel mogelijk te antwoorden.<![CDATA[<br><br>]]>Bekijk ook de <![CDATA[<a href=\"http://telegram.org/faq#general\">veelgestelde vragen</a>]]>. Hier staan de antwoorden op de meeste vragen en belangrijke tips voor <![CDATA[<a href=\"http://telegram.org/faq#troubleshooting\">het oplossen van problemen</a>]]>.</string>
+    <string name="AskAQuestionInfo">De ondersteuning van telepatch wordt gedaan door vrijwilligers.<![CDATA[<br>]]>We doen ons best om zo snel mogelijk te antwoorden.<![CDATA[<br><br>]]>Bekijk ook de <![CDATA[<a href=\"http://telepatch.org/faq#general\">veelgestelde vragen</a>]]>. Hier staan de antwoorden op de meeste vragen en belangrijke tips voor <![CDATA[<a href=\"http://telepatch.org/faq#troubleshooting\">het oplossen van problemen</a>]]>.</string>
     <string name="AskButton">Vraag een vrijwilliger</string>
-    <string name="TelegramFaq">Veelgestelde vragen</string>
-    <string name="TelegramFaqUrl">https://telegram.org/faq</string>
+    <string name="telepatchFaq">Veelgestelde vragen</string>
+    <string name="telepatchFaqUrl">https://telepatch.org/faq</string>
     <string name="DeleteLocalization">Verwijder vertaling?</string>
     <string name="IncorrectLocalization">Ongeldig vertalingsbestand</string>
     <string name="Enabled">Inschakelen</string>
@@ -346,7 +346,7 @@
     <string name="ActionYouCreateGroup">Je hebt de groep gemaakt</string>
     <string name="ActionKickUserYou">un1 heeft je verwijderd</string>
     <string name="ActionAddUserYou">un1 heeft je toegevoegd</string>
-    <string name="UnsuppotedMedia">Dit bericht wordt niet ondersteund door jouw versie van Telegram. Werk Telegram bij om dit bericht te bekijken: http://telegram.org/update</string>
+    <string name="UnsuppotedMedia">Dit bericht wordt niet ondersteund door jouw versie van telepatch. Werk telepatch bij om dit bericht te bekijken: http://telepatch.org/update</string>
     <string name="AttachPhoto">Foto</string>
     <string name="AttachVideo">Video</string>
     <string name="AttachLocation">Locatie</string>
@@ -365,9 +365,9 @@
     <string name="InvalidLastName">Ongeldige achternaam</string>
     <string name="Loading">Bezig met laden…</string>
     <string name="NoPlayerInstalled">Je hebt geen mediaspeler. Installeer een mediaspeler om door te gaan.</string>
-    <string name="NoMailInstalled">Mail ons op sms@telegram.org en vertel ons over je probleem.</string>
+    <string name="NoMailInstalled">Mail ons op sms@telepatch.org en vertel ons over je probleem.</string>
     <string name="NoHandleAppInstalled">Je hebt geen apps die bestandstype \'%1$s\' kunnen verwerken, gelieve een compitabele app te installeren</string>
-    <string name="InviteUser">Deze gebruiker heeft nog geen Telegram. Wil je een uitnodiging sturen?</string>
+    <string name="InviteUser">Deze gebruiker heeft nog geen telepatch. Wil je een uitnodiging sturen?</string>
     <string name="AreYouSure">Weet je het zeker?</string>
     <string name="AddContactQ">Contact toevoegen?</string>
     <string name="AddToTheGroup">%1$s toevoegen aan de groep?\n\nAantal recente berichten om door te sturen:</string>
@@ -388,7 +388,7 @@
     <string name="ForwardMessagesToGroup">Berichten naar %1$s doorsturen?</string>
     <string name="FeatureUnavailable">Sorry, deze functie is momenteel niet beschikbaar in jouw land.</string>
     <!--Intro view-->
-    <string name="Page1Title">Telegram</string>
+    <string name="Page1Title">telepatch</string>
     <string name="Page2Title">Snel</string>
     <string name="Page3Title">Gratis</string>
     <string name="Page4Title">Veilig</string>
@@ -396,12 +396,12 @@
     <string name="Page6Title">In de cloud</string>
     <string name="Page7Title">Privé</string>
     <string name="Page1Message">\'s Werelds <![CDATA[<b>snelste</b>]]> berichtendienst.<![CDATA[<br/>]]>Het is <![CDATA[<b>gratis</b>]]> en <![CDATA[<b>veilig</b>]]>.</string>
-    <string name="Page2Message"><![CDATA[<b>Telegram</b>]]> bezorgt berichten sneller dan<![CDATA[<br/>]]>elke andere applicatie.</string>
-    <string name="Page3Message"><![CDATA[<b>Telegram</b>]]> is altijd gratis. Geen advertenties.<![CDATA[<br/>]]>Geen abonnementskosten.</string>
-    <string name="Page4Message"><![CDATA[<b>Telegram</b>]]> beveiligd je berichten<![CDATA[<br/>]]>tegen aanvallen van hackers.</string>
-    <string name="Page5Message"><![CDATA[<b>Telegram</b>]]> beperkt je niet in de grootte van<![CDATA[<br/>]]>je media of gesprekken.</string>
-    <string name="Page6Message"><![CDATA[<b>Telegram</b>]]> biedt toegang tot je berichten<![CDATA[<br/>]]>vanaf meerdere apparaten.</string>
-    <string name="Page7Message"><![CDATA[<b>Telegram</b>]]> berichten zijn sterk versleuteld<![CDATA[<br/>]]>en kunnen zichzelf vernietigen.</string>
+    <string name="Page2Message"><![CDATA[<b>telepatch</b>]]> bezorgt berichten sneller dan<![CDATA[<br/>]]>elke andere applicatie.</string>
+    <string name="Page3Message"><![CDATA[<b>telepatch</b>]]> is altijd gratis. Geen advertenties.<![CDATA[<br/>]]>Geen abonnementskosten.</string>
+    <string name="Page4Message"><![CDATA[<b>telepatch</b>]]> beveiligd je berichten<![CDATA[<br/>]]>tegen aanvallen van hackers.</string>
+    <string name="Page5Message"><![CDATA[<b>telepatch</b>]]> beperkt je niet in de grootte van<![CDATA[<br/>]]>je media of gesprekken.</string>
+    <string name="Page6Message"><![CDATA[<b>telepatch</b>]]> biedt toegang tot je berichten<![CDATA[<br/>]]>vanaf meerdere apparaten.</string>
+    <string name="Page7Message"><![CDATA[<b>telepatch</b>]]> berichten zijn sterk versleuteld<![CDATA[<br/>]]>en kunnen zichzelf vernietigen.</string>
     <string name="StartMessaging">Begin met chatten</string>
     <!--plural-->
     <string name="Online_zero">%1$d online</string>
diff --git a/TMessagesProj/src/main/res/values-pt-rBR/strings.xml b/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
index df6d5c489..9353d42e1 100644
--- a/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
+++ b/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
@@ -1,9 +1,9 @@
 <?xml version="1.0" encoding="utf-8"?>
 
-<!--https://www.transifex.com/projects/p/telegram/language/pt_BR/members/-->
+<!--https://www.transifex.com/projects/p/telepatch/language/pt_BR/members/-->
 
 <resources>
-    <string name="AppName">Telegram</string>
+    <string name="AppName">telepatch</string>
     <string name="LanguageName">Português (Brasil)</string>
     <string name="LanguageNameInEnglish">Portuguese (Brazil)</string>
     <string name="LanguageCode">pt_BR</string>
@@ -52,7 +52,7 @@
     <string name="HiddenName">Nome oculto</string>
     <string name="SelectChat">Selecione uma Conversa</string>
     <string name="PhotoTip">Toque e segure para ver</string>
-    <string name="CompatibilityChat">%1$s está usando uma versão mais antiga do Telegram, por isso fotos secretas serão mostradas em modo de compatibilidade.\n\nAssim que %2$s atualize o Telegram, fotos com timers de 1 minuto ou menos passarão a funcionar no modo ‘Toque e segure para ver’, e você será notificado caso a outra pessoa salve a tela.</string>
+    <string name="CompatibilityChat">%1$s está usando uma versão mais antiga do telepatch, por isso fotos secretas serão mostradas em modo de compatibilidade.\n\nAssim que %2$s atualize o telepatch, fotos com timers de 1 minuto ou menos passarão a funcionar no modo ‘Toque e segure para ver’, e você será notificado caso a outra pessoa salve a tela.</string>
     <!--broadcasts-->
     <string name="BroadcastList">Lista de Broadcast</string>
     <string name="NewBroadcastList">Nova Lista de Broadcast</string>
@@ -79,7 +79,7 @@
     <string name="Attach">Anexar</string>
     <string name="IsTyping">está escrevendo...</string>
     <string name="AreTyping">estão escrevendo...</string>
-    <string name="GotAQuestion">Tem alguma dúvida\nsobre o Telegram?</string>
+    <string name="GotAQuestion">Tem alguma dúvida\nsobre o telepatch?</string>
     <string name="ChatTakePhoto">Tirar foto</string>
     <string name="ChatGallery">Galeria</string>
     <string name="ChatLocation">Localização</string>
@@ -144,8 +144,8 @@
     <string name="NotificationGroupKickMember">%1$s removeu %3$s do grupo %2$s</string>
     <string name="NotificationGroupKickYou">%1$s removeu você do grupo %2$s</string>
     <string name="NotificationGroupLeftMember">%1$s saiu do grupo %2$s</string>
-    <string name="NotificationContactJoined">%1$s entrou para o Telegram!</string>
-    <string name="NotificationUnrecognizedDevice">%1$s,\nNós detectamos um login na sua conta de um novo dispositivo %2$s\n\nDispositivo: %3$s\nLocalização: %4$s\nSe não foi você, você pode ir em Configurações - Terminar todas as sessões.\n\nAtenciosamente,\nTime do Telegram</string>
+    <string name="NotificationContactJoined">%1$s entrou para o telepatch!</string>
+    <string name="NotificationUnrecognizedDevice">%1$s,\nNós detectamos um login na sua conta de um novo dispositivo %2$s\n\nDispositivo: %3$s\nLocalização: %4$s\nSe não foi você, você pode ir em Configurações - Terminar todas as sessões.\n\nAtenciosamente,\nTime do telepatch</string>
     <string name="NotificationContactNewPhoto">%1$s atualizou a foto do perfil</string>
     <string name="Reply">Responder</string>
     <string name="ReplyToGroup">Responder para %1$s</string>
@@ -154,7 +154,7 @@
     <!--contacts view-->
     <string name="SelectContact">Selecionar Contato</string>
     <string name="NoContacts">Ainda não há contatos</string>
-    <string name="InviteText">Ei, vamos mudar para o Telegram: http://telegram.org/dl2</string>
+    <string name="InviteText">Ei, vamos mudar para o telepatch: http://telepatch.org/dl2</string>
     <string name="TodayAt">hoje às</string>
     <string name="YesterdayAt">ontem às</string>
     <string name="Online">online</string>
@@ -198,7 +198,7 @@
     <string name="EncryptionKey">Chave criptográfica</string>
     <string name="MessageLifetime">Tempo de autodestruição</string>
     <string name="ShortMessageLifetimeForever">Desativado</string>
-    <string name="EncryptionKeyDescription">Esta imagem é uma visualização da chave criptográfica para esta conversa secreta com <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>Se esta imagem aparecer da mesma forma no telefone de <![CDATA[<b>]]>%2$s\'s<![CDATA[</b>]]>, sua conversa é 200%% segura.<![CDATA[<br><br>]]>Saiba mais em telegram.org</string>
+    <string name="EncryptionKeyDescription">Esta imagem é uma visualização da chave criptográfica para esta conversa secreta com <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>Se esta imagem aparecer da mesma forma no telefone de <![CDATA[<b>]]>%2$s\'s<![CDATA[</b>]]>, sua conversa é 200%% segura.<![CDATA[<br><br>]]>Saiba mais em telepatch.org</string>
     <string name="NumberUnknown">Desconhecido</string>
     <string name="Info">INFO</string>
     <string name="Phone">Telefone</string>
@@ -210,7 +210,7 @@
     <string name="UsernameInvalidShort">O nome de usuário deve ter pelo menos 5 caracteres.</string>
     <string name="UsernameInvalidLong">O nome de usuário não pode exceder 32 caracteres.</string>
     <string name="UsernameInvalidStartNumber">Desculpe, o nome de usuário não pode começar com um número.</string>
-    <string name="UsernameHelp">Você pode escolher um nome de usuário no <![CDATA[<b>]]>Telegram<![CDATA[</b>]]>. Assim, outras pessoas poderão te encontrar pelo nome de usuário e entrar em contato sem precisar saber seu telefone. <![CDATA[<br><br>]]>Você pode usar <![CDATA[<b>]]>a–z<![CDATA[</b>]]>, <![CDATA[<b>]]>0–9<![CDATA[</b>]]> e underline. O tamanho mínimo é <![CDATA[<b>]]>5<![CDATA[</b>]]> caracteres.</string>
+    <string name="UsernameHelp">Você pode escolher um nome de usuário no <![CDATA[<b>]]>telepatch<![CDATA[</b>]]>. Assim, outras pessoas poderão te encontrar pelo nome de usuário e entrar em contato sem precisar saber seu telefone. <![CDATA[<br><br>]]>Você pode usar <![CDATA[<b>]]>a–z<![CDATA[</b>]]>, <![CDATA[<b>]]>0–9<![CDATA[</b>]]> e underline. O tamanho mínimo é <![CDATA[<b>]]>5<![CDATA[</b>]]> caracteres.</string>
     <string name="UsernameChecking">Verificando nome de usuário...</string>
     <string name="UsernameAvailable">%1$s está disponível.</string>
     <string name="UsernameEmpty">Nenhum</string>
@@ -249,13 +249,13 @@
     <string name="SendByEnter">Enviar usando \'Enter\'</string>
     <string name="TerminateAllSessions">Terminar todas as outras sessões</string>
     <string name="Events">EVENTOS</string>
-    <string name="ContactJoined">Contato entrou para o Telegram</string>
+    <string name="ContactJoined">Contato entrou para o telepatch</string>
     <string name="Pebble">PEBBLE</string>
     <string name="Language">Idioma</string>
-    <string name="AskAQuestionInfo">Por favor compreenda que o Suporte do Telegram é feito por voluntários. Tentamos responder o mais rápido possível, mas pode demorar um pouco. <![CDATA[<br><br>]]>Por favor acesse o <![CDATA[<a href=\"http://telegram.org/faq#general\">FAQ do Telegram</a>]]>: temos respostas para algumas questões, assim como dicas importantes à <![CDATA[<a href=\"http://telegram.org/faq#troubleshooting\">resolução de problemas</a>]]>.</string>
+    <string name="AskAQuestionInfo">Por favor compreenda que o Suporte do telepatch é feito por voluntários. Tentamos responder o mais rápido possível, mas pode demorar um pouco. <![CDATA[<br><br>]]>Por favor acesse o <![CDATA[<a href=\"http://telepatch.org/faq#general\">FAQ do telepatch</a>]]>: temos respostas para algumas questões, assim como dicas importantes à <![CDATA[<a href=\"http://telepatch.org/faq#troubleshooting\">resolução de problemas</a>]]>.</string>
     <string name="AskButton">Pergunte a um voluntário</string>
-    <string name="TelegramFaq">FAQ do Telegram</string>
-    <string name="TelegramFaqUrl">https://telegram.org/faq</string>
+    <string name="telepatchFaq">FAQ do telepatch</string>
+    <string name="telepatchFaqUrl">https://telepatch.org/faq</string>
     <string name="DeleteLocalization">Apagar localização?</string>
     <string name="IncorrectLocalization">Arquivo de localização incorreto</string>
     <string name="Enabled">Ativado</string>
@@ -346,7 +346,7 @@
     <string name="ActionYouCreateGroup">Você criou o grupo</string>
     <string name="ActionKickUserYou">un1 removeu você</string>
     <string name="ActionAddUserYou">un1 adicionou você</string>
-    <string name="UnsuppotedMedia">Esta mensagem não é suportada na sua versão do Telegram. Para visualiza-la atualize seu aplicativo em http://telegram.org/update</string>
+    <string name="UnsuppotedMedia">Esta mensagem não é suportada na sua versão do telepatch. Para visualiza-la atualize seu aplicativo em http://telepatch.org/update</string>
     <string name="AttachPhoto">Foto</string>
     <string name="AttachVideo">Vídeo</string>
     <string name="AttachLocation">Localização</string>
@@ -365,9 +365,9 @@
     <string name="InvalidLastName">Sobrenome inválido</string>
     <string name="Loading">Carregando...</string>
     <string name="NoPlayerInstalled">Você não possui um reprodutor de vídeo, instale um para continuar</string>
-    <string name="NoMailInstalled">Por favor, envie um email para sms@telegram.org e conte-nos sobre seu problema.</string>
+    <string name="NoMailInstalled">Por favor, envie um email para sms@telepatch.org e conte-nos sobre seu problema.</string>
     <string name="NoHandleAppInstalled">Você não possui um aplicativo que suporte o tipo de arquivo \'%1$s\', por favor instale um para continuar</string>
-    <string name="InviteUser">Este usuário ainda não possui Telegram, deseja enviar um convite?</string>
+    <string name="InviteUser">Este usuário ainda não possui telepatch, deseja enviar um convite?</string>
     <string name="AreYouSure">Você tem certeza?</string>
     <string name="AddContactQ">Adicionar contato?</string>
     <string name="AddToTheGroup">Adicionar %1$s para o grupo?\n\nNúmero de últimas mensagens para encaminhar:</string>
@@ -388,7 +388,7 @@
     <string name="ForwardMessagesToGroup">Encaminhar mensagem para %1$s?</string>
     <string name="FeatureUnavailable">Sorry, this feature is currently not available in your country.</string>
     <!--Intro view-->
-    <string name="Page1Title">Telegram</string>
+    <string name="Page1Title">telepatch</string>
     <string name="Page2Title">Rápido</string>
     <string name="Page3Title">Gratuito</string>
     <string name="Page4Title">Seguro</string>
@@ -396,12 +396,12 @@
     <string name="Page6Title">Baseado na nuvem</string>
     <string name="Page7Title">Privado</string>
     <string name="Page1Message">O mais <![CDATA[<b>rápido</b>]]> aplicativo de mensagem do<![CDATA[<br/>]]>mundo. É <![CDATA[<b>gratuito</b>]]> e <![CDATA[<b>seguro</b>]]>.</string>
-    <string name="Page2Message"><![CDATA[<b>Telegram</b>]]> envia mensagens mais rápido que<![CDATA[<br/>]]>qualquer outro aplicativo.</string>
-    <string name="Page3Message"><![CDATA[<b>Telegram</b>]]> é grátis para sempre. <![CDATA[<br/>]]>Sem propagandas. Sem taxas.</string>
-    <string name="Page4Message"><![CDATA[<b>Telegram</b>]]> mantém suas mensagens seguras<![CDATA[<br/>]]>contra ataques de hackers.</string>
-    <string name="Page5Message"><![CDATA[<b>Telegram</b>]]> não possui limites no tamanho<![CDATA[<br/>]]>de seus arquivos e conversas.</string>
-    <string name="Page6Message"><![CDATA[<b>Telegram</b>]]> permite você acessar suas<![CDATA[<br/>]]> mensagens de múltiplos dispositivos.</string>
-    <string name="Page7Message"><![CDATA[<b>Telegram</b>]]> possui mensagens fortemente<![CDATA[<br/>]]>encriptadas e podem se auto-destruir.</string>
+    <string name="Page2Message"><![CDATA[<b>telepatch</b>]]> envia mensagens mais rápido que<![CDATA[<br/>]]>qualquer outro aplicativo.</string>
+    <string name="Page3Message"><![CDATA[<b>telepatch</b>]]> é grátis para sempre. <![CDATA[<br/>]]>Sem propagandas. Sem taxas.</string>
+    <string name="Page4Message"><![CDATA[<b>telepatch</b>]]> mantém suas mensagens seguras<![CDATA[<br/>]]>contra ataques de hackers.</string>
+    <string name="Page5Message"><![CDATA[<b>telepatch</b>]]> não possui limites no tamanho<![CDATA[<br/>]]>de seus arquivos e conversas.</string>
+    <string name="Page6Message"><![CDATA[<b>telepatch</b>]]> permite você acessar suas<![CDATA[<br/>]]> mensagens de múltiplos dispositivos.</string>
+    <string name="Page7Message"><![CDATA[<b>telepatch</b>]]> possui mensagens fortemente<![CDATA[<br/>]]>encriptadas e podem se auto-destruir.</string>
     <string name="StartMessaging">Comece a conversar</string>
     <!--plural-->
     <string name="Online_zero">%1$d online</string>
diff --git a/TMessagesProj/src/main/res/values-pt-rPT/strings.xml b/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
index f79e0ff23..944fe9611 100644
--- a/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
+++ b/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
@@ -1,9 +1,9 @@
 <?xml version="1.0" encoding="utf-8"?>
 
-<!--https://www.transifex.com/projects/p/telegram/language/pt_PT/members/-->
+<!--https://www.transifex.com/projects/p/telepatch/language/pt_PT/members/-->
 
 <resources>
-    <string name="AppName">Telegram</string>
+    <string name="AppName">telepatch</string>
     <string name="LanguageName">Português (Portugal)</string>
     <string name="LanguageNameInEnglish">Portuguese (Portugal)</string>
     <string name="LanguageCode">pt_PT</string>
@@ -52,7 +52,7 @@
     <string name="HiddenName">Nome oculto</string>
     <string name="SelectChat">Selecione uma Conversa</string>
     <string name="PhotoTip">Toque e segure para ver</string>
-    <string name="CompatibilityChat">%1$s está usando uma versão mais antiga do Telegram, por isso fotos secretas serão mostradas em modo de compatibilidade.\n\nAssim que %2$s atualize o Telegram, fotos com timers de 1 minuto ou menos passarão a funcionar no modo ‘Toque e segure para ver’, e você será notificado caso a outra pessoa salve a tela.</string>
+    <string name="CompatibilityChat">%1$s está usando uma versão mais antiga do telepatch, por isso fotos secretas serão mostradas em modo de compatibilidade.\n\nAssim que %2$s atualize o telepatch, fotos com timers de 1 minuto ou menos passarão a funcionar no modo ‘Toque e segure para ver’, e você será notificado caso a outra pessoa salve a tela.</string>
     <!--broadcasts-->
     <string name="BroadcastList">Lista de Broadcast</string>
     <string name="NewBroadcastList">Nova Lista de Broadcast</string>
@@ -79,7 +79,7 @@
     <string name="Attach">Anexar</string>
     <string name="IsTyping">está escrevendo...</string>
     <string name="AreTyping">estão escrevendo...</string>
-    <string name="GotAQuestion">Tem alguma dúvida\nsobre o Telegram?</string>
+    <string name="GotAQuestion">Tem alguma dúvida\nsobre o telepatch?</string>
     <string name="ChatTakePhoto">Tirar foto</string>
     <string name="ChatGallery">Galeria</string>
     <string name="ChatLocation">Localização</string>
@@ -144,8 +144,8 @@
     <string name="NotificationGroupKickMember">%1$s removeu %3$s do grupo %2$s</string>
     <string name="NotificationGroupKickYou">%1$s removeu você do grupo %2$s</string>
     <string name="NotificationGroupLeftMember">%1$s saiu do grupo %2$s</string>
-    <string name="NotificationContactJoined">%1$s entrou para o Telegram!</string>
-    <string name="NotificationUnrecognizedDevice">%1$s,\nNós detectamos um login na sua conta de um novo dispositivo %2$s\n\nDispositivo: %3$s\nLocalização: %4$s\nSe não foi você, você pode ir em Configurações - Terminar todas as sessões.\n\nAtenciosamente,\nTime do Telegram</string>
+    <string name="NotificationContactJoined">%1$s entrou para o telepatch!</string>
+    <string name="NotificationUnrecognizedDevice">%1$s,\nNós detectamos um login na sua conta de um novo dispositivo %2$s\n\nDispositivo: %3$s\nLocalização: %4$s\nSe não foi você, você pode ir em Configurações - Terminar todas as sessões.\n\nAtenciosamente,\nTime do telepatch</string>
     <string name="NotificationContactNewPhoto">%1$s atualizou a foto do perfil</string>
     <string name="Reply">Responder</string>
     <string name="ReplyToGroup">Responder para %1$s</string>
@@ -154,7 +154,7 @@
     <!--contacts view-->
     <string name="SelectContact">Selecionar Contato</string>
     <string name="NoContacts">Ainda não há contatos</string>
-    <string name="InviteText">Ei, vamos mudar para o Telegram: http://telegram.org/dl2</string>
+    <string name="InviteText">Ei, vamos mudar para o telepatch: http://telepatch.org/dl2</string>
     <string name="TodayAt">hoje às</string>
     <string name="YesterdayAt">ontem às</string>
     <string name="Online">online</string>
@@ -198,7 +198,7 @@
     <string name="EncryptionKey">Chave criptográfica</string>
     <string name="MessageLifetime">Tempo de autodestruição</string>
     <string name="ShortMessageLifetimeForever">Desativado</string>
-    <string name="EncryptionKeyDescription">Esta imagem é uma visualização da chave criptográfica para esta conversa secreta com <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>Se esta imagem aparecer da mesma forma no telefone de <![CDATA[<b>]]>%2$s\'s<![CDATA[</b>]]>, sua conversa é 200%% segura.<![CDATA[<br><br>]]>Saiba mais em telegram.org</string>
+    <string name="EncryptionKeyDescription">Esta imagem é uma visualização da chave criptográfica para esta conversa secreta com <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>Se esta imagem aparecer da mesma forma no telefone de <![CDATA[<b>]]>%2$s\'s<![CDATA[</b>]]>, sua conversa é 200%% segura.<![CDATA[<br><br>]]>Saiba mais em telepatch.org</string>
     <string name="NumberUnknown">Desconhecido</string>
     <string name="Info">INFO</string>
     <string name="Phone">Telefone</string>
@@ -210,7 +210,7 @@
     <string name="UsernameInvalidShort">O nome de usuário deve ter pelo menos 5 caracteres.</string>
     <string name="UsernameInvalidLong">O nome de usuário não pode exceder 32 caracteres.</string>
     <string name="UsernameInvalidStartNumber">Desculpe, o nome de usuário não pode começar com um número.</string>
-    <string name="UsernameHelp">Você pode escolher um nome de usuário no <![CDATA[<b>]]>Telegram<![CDATA[</b>]]>. Assim, outras pessoas poderão te encontrar pelo nome de usuário e entrar em contato sem precisar saber seu telefone. <![CDATA[<br><br>]]>Você pode usar <![CDATA[<b>]]>a–z<![CDATA[</b>]]>, <![CDATA[<b>]]>0–9<![CDATA[</b>]]> e underline. O tamanho mínimo é <![CDATA[<b>]]>5<![CDATA[</b>]]> caracteres.</string>
+    <string name="UsernameHelp">Você pode escolher um nome de usuário no <![CDATA[<b>]]>telepatch<![CDATA[</b>]]>. Assim, outras pessoas poderão te encontrar pelo nome de usuário e entrar em contato sem precisar saber seu telefone. <![CDATA[<br><br>]]>Você pode usar <![CDATA[<b>]]>a–z<![CDATA[</b>]]>, <![CDATA[<b>]]>0–9<![CDATA[</b>]]> e underline. O tamanho mínimo é <![CDATA[<b>]]>5<![CDATA[</b>]]> caracteres.</string>
     <string name="UsernameChecking">Verificando nome de usuário...</string>
     <string name="UsernameAvailable">%1$s está disponível.</string>
     <string name="UsernameEmpty">Nenhum</string>
@@ -249,13 +249,13 @@
     <string name="SendByEnter">Enviar usando \'Enter\'</string>
     <string name="TerminateAllSessions">Terminar todas as outras sessões</string>
     <string name="Events">EVENTOS</string>
-    <string name="ContactJoined">Contato entrou para o Telegram</string>
+    <string name="ContactJoined">Contato entrou para o telepatch</string>
     <string name="Pebble">PEBBLE</string>
     <string name="Language">Idioma</string>
-    <string name="AskAQuestionInfo">Por favor compreenda que o Suporte do Telegram é feito por voluntários. Tentamos responder o mais rápido possível, mas pode demorar um pouco. <![CDATA[<br><br>]]>Por favor acesse o <![CDATA[<a href=\"http://telegram.org/faq#general\">FAQ do Telegram</a>]]>: temos respostas para algumas questões, assim como dicas importantes à <![CDATA[<a href=\"http://telegram.org/faq#troubleshooting\">resolução de problemas</a>]]>.</string>
+    <string name="AskAQuestionInfo">Por favor compreenda que o Suporte do telepatch é feito por voluntários. Tentamos responder o mais rápido possível, mas pode demorar um pouco. <![CDATA[<br><br>]]>Por favor acesse o <![CDATA[<a href=\"http://telepatch.org/faq#general\">FAQ do telepatch</a>]]>: temos respostas para algumas questões, assim como dicas importantes à <![CDATA[<a href=\"http://telepatch.org/faq#troubleshooting\">resolução de problemas</a>]]>.</string>
     <string name="AskButton">Pergunte a um voluntário</string>
-    <string name="TelegramFaq">FAQ do Telegram</string>
-    <string name="TelegramFaqUrl">https://telegram.org/faq</string>
+    <string name="telepatchFaq">FAQ do telepatch</string>
+    <string name="telepatchFaqUrl">https://telepatch.org/faq</string>
     <string name="DeleteLocalization">Apagar localização?</string>
     <string name="IncorrectLocalization">Arquivo de localização incorreto</string>
     <string name="Enabled">Ativado</string>
@@ -346,7 +346,7 @@
     <string name="ActionYouCreateGroup">Você criou o grupo</string>
     <string name="ActionKickUserYou">un1 removeu você</string>
     <string name="ActionAddUserYou">un1 adicionou você</string>
-    <string name="UnsuppotedMedia">Esta mensagem não é suportada na sua versão do Telegram. Para visualiza-la atualize seu aplicativo em http://telegram.org/update</string>
+    <string name="UnsuppotedMedia">Esta mensagem não é suportada na sua versão do telepatch. Para visualiza-la atualize seu aplicativo em http://telepatch.org/update</string>
     <string name="AttachPhoto">Foto</string>
     <string name="AttachVideo">Vídeo</string>
     <string name="AttachLocation">Localização</string>
@@ -365,9 +365,9 @@
     <string name="InvalidLastName">Sobrenome inválido</string>
     <string name="Loading">Carregando...</string>
     <string name="NoPlayerInstalled">Você não possui um reprodutor de vídeo, instale um para continuar</string>
-    <string name="NoMailInstalled">Por favor, envie um email para sms@telegram.org e conte-nos sobre seu problema.</string>
+    <string name="NoMailInstalled">Por favor, envie um email para sms@telepatch.org e conte-nos sobre seu problema.</string>
     <string name="NoHandleAppInstalled">Você não possui um aplicativo que suporte o tipo de arquivo \'%1$s\', por favor instale um para continuar</string>
-    <string name="InviteUser">Este usuário ainda não possui Telegram, deseja enviar um convite?</string>
+    <string name="InviteUser">Este usuário ainda não possui telepatch, deseja enviar um convite?</string>
     <string name="AreYouSure">Você tem certeza?</string>
     <string name="AddContactQ">Adicionar contato?</string>
     <string name="AddToTheGroup">Adicionar %1$s para o grupo?\n\nNúmero de últimas mensagens para encaminhar:</string>
@@ -388,7 +388,7 @@
     <string name="ForwardMessagesToGroup">Encaminhar mensagem para %1$s?</string>
     <string name="FeatureUnavailable">Sorry, this feature is currently not available in your country.</string>
     <!--Intro view-->
-    <string name="Page1Title">Telegram</string>
+    <string name="Page1Title">telepatch</string>
     <string name="Page2Title">Rápido</string>
     <string name="Page3Title">Gratuito</string>
     <string name="Page4Title">Seguro</string>
@@ -396,12 +396,12 @@
     <string name="Page6Title">Baseado na nuvem</string>
     <string name="Page7Title">Privado</string>
     <string name="Page1Message">O mais <![CDATA[<b>rápido</b>]]> aplicativo de mensagem do<![CDATA[<br/>]]>mundo. É <![CDATA[<b>gratuito</b>]]> e <![CDATA[<b>seguro</b>]]>.</string>
-    <string name="Page2Message"><![CDATA[<b>Telegram</b>]]> envia mensagens mais rápido que<![CDATA[<br/>]]>qualquer outro aplicativo.</string>
-    <string name="Page3Message"><![CDATA[<b>Telegram</b>]]> é grátis para sempre. <![CDATA[<br/>]]>Sem propagandas. Sem taxas.</string>
-    <string name="Page4Message"><![CDATA[<b>Telegram</b>]]> mantém suas mensagens seguras<![CDATA[<br/>]]>contra ataques de hackers.</string>
-    <string name="Page5Message"><![CDATA[<b>Telegram</b>]]> não possui limites no tamanho<![CDATA[<br/>]]>de seus arquivos e conversas.</string>
-    <string name="Page6Message"><![CDATA[<b>Telegram</b>]]> permite você acessar suas<![CDATA[<br/>]]> mensagens de múltiplos dispositivos.</string>
-    <string name="Page7Message"><![CDATA[<b>Telegram</b>]]> possui mensagens fortemente<![CDATA[<br/>]]>encriptadas e podem se auto-destruir.</string>
+    <string name="Page2Message"><![CDATA[<b>telepatch</b>]]> envia mensagens mais rápido que<![CDATA[<br/>]]>qualquer outro aplicativo.</string>
+    <string name="Page3Message"><![CDATA[<b>telepatch</b>]]> é grátis para sempre. <![CDATA[<br/>]]>Sem propagandas. Sem taxas.</string>
+    <string name="Page4Message"><![CDATA[<b>telepatch</b>]]> mantém suas mensagens seguras<![CDATA[<br/>]]>contra ataques de hackers.</string>
+    <string name="Page5Message"><![CDATA[<b>telepatch</b>]]> não possui limites no tamanho<![CDATA[<br/>]]>de seus arquivos e conversas.</string>
+    <string name="Page6Message"><![CDATA[<b>telepatch</b>]]> permite você acessar suas<![CDATA[<br/>]]> mensagens de múltiplos dispositivos.</string>
+    <string name="Page7Message"><![CDATA[<b>telepatch</b>]]> possui mensagens fortemente<![CDATA[<br/>]]>encriptadas e podem se auto-destruir.</string>
     <string name="StartMessaging">Comece a conversar</string>
     <!--plural-->
     <string name="Online_zero">%1$d online</string>
diff --git a/TMessagesProj/src/main/res/values-v21/styles.xml b/TMessagesProj/src/main/res/values-v21/styles.xml
index bf6a19182..c1baee87e 100644
--- a/TMessagesProj/src/main/res/values-v21/styles.xml
+++ b/TMessagesProj/src/main/res/values-v21/styles.xml
@@ -1,5 +1,5 @@
 <!--
-  ~ This is the source code of Telegram for Android v. 1.7.x.
+  ~ This is the source code of telepatch for Android v. 1.7.x.
   ~ It is licensed under GNU GPL v. 2 or later.
   ~ You should have received a copy of the license in this archive (see LICENSE).
   ~
diff --git a/TMessagesProj/src/main/res/values/colors.xml b/TMessagesProj/src/main/res/values/colors.xml
index 3636d32c2..1cf0b2681 100755
--- a/TMessagesProj/src/main/res/values/colors.xml
+++ b/TMessagesProj/src/main/res/values/colors.xml
@@ -6,4 +6,14 @@
     <color name="settings_background_color">#ffffffff</color>
     <color name="divider">#dcdcdc</color>
     <color name="header">#ff54759e</color>
+    <!-- TODO miei colori -->
+    <color name="theme_default">#ff54759e</color>
+    <color name="theme_red">#a20000</color>
+    <color name="theme_green">#ff30d630</color>
+    <color name="theme_fucsia">#ffea148c</color>
+    <color name="theme_yellow">#f0eec506</color>
+    <color name="theme_violet">#ffdd8dfa</color>
+    <color name="theme_blue">#ff0606ee</color>
+    <color name="theme_purple">#ff5062b6</color>
+    <color name="theme_material_green">#ff009688</color>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values/strings.xml b/TMessagesProj/src/main/res/values/strings.xml
index afb85da55..17eed487c 100644
--- a/TMessagesProj/src/main/res/values/strings.xml
+++ b/TMessagesProj/src/main/res/values/strings.xml
@@ -1,9 +1,9 @@
 <?xml version="1.0" encoding="utf-8"?>
 
-<!--Translated by Telegram Team, corrected by Florian Keller-->
+<!--Translated by telepatch Team, corrected by Florian Keller-->
 
 <resources>
-    <string name="AppName">Telegram</string>
+    <string name="AppName">telepatch</string>
     <string name="LanguageName">English</string>
     <string name="LanguageNameInEnglish">English</string>
     <string name="LanguageCode">en</string>
@@ -52,7 +52,7 @@
     <string name="HiddenName">Hidden Name</string>
     <string name="SelectChat">Select Chat</string>
     <string name="PhotoTip">Tap and hold to view</string>
-    <string name="CompatibilityChat">%1$s is using an older version of Telegram, so secret photos will be shown in compatibility mode.\n\nOnce %2$s updates Telegram, photos with timers for 1 minute or less will start working in \'Tap and hold to view\' mode, and you will be notified whenever the other party takes a screenshot.</string>
+    <string name="CompatibilityChat">%1$s is using an older version of telepatch, so secret photos will be shown in compatibility mode.\n\nOnce %2$s updates telepatch, photos with timers for 1 minute or less will start working in \'Tap and hold to view\' mode, and you will be notified whenever the other party takes a screenshot.</string>
     <!--broadcasts-->
     <string name="BroadcastList">Broadcast List</string>
     <string name="NewBroadcastList">New Broadcast List</string>
@@ -79,7 +79,7 @@
     <string name="Attach">Attach</string>
     <string name="IsTyping">is typing...</string>
     <string name="AreTyping">are typing...</string>
-    <string name="GotAQuestion">Got a question\nabout Telegram?</string>
+    <string name="GotAQuestion">Got a question\nabout telepatch?</string>
     <string name="ChatTakePhoto">Take photo</string>
     <string name="ChatGallery">Gallery</string>
     <string name="ChatLocation">Location</string>
@@ -121,6 +121,7 @@
     <string name="MessageLifetimeRemoved">%1$s disabled the self-destruct timer</string>
     <string name="MessageLifetimeYouRemoved">You disabled the self-destruct timer</string>
     <string name="YouHaveNewMessage">You have a new message</string>
+    <!-- TODO modifica brutale da %1$s -->
     <string name="NotificationMessageText">%1$s: %2$s</string>
     <string name="NotificationMessageNoText">%1$s sent you a message</string>
     <string name="NotificationMessagePhoto">%1$s sent you a photo</string>
@@ -144,8 +145,8 @@
     <string name="NotificationGroupKickMember">%1$s removed %3$s from the group %2$s</string>
     <string name="NotificationGroupKickYou">%1$s removed you from the group %2$s</string>
     <string name="NotificationGroupLeftMember">%1$s has left the group %2$s</string>
-    <string name="NotificationContactJoined">%1$s joined Telegram!</string>
-    <string name="NotificationUnrecognizedDevice">%1$s,\nWe detected a login into your account from a new device on %2$s\n\nDevice: %3$s\nLocation: %4$s\n\nIf this wasn\'t you, you can go to Settings - Terminate all sessions.\n\nSincerely,\nThe Telegram Team</string>
+    <string name="NotificationContactJoined">%1$s joined telepatch!</string>
+    <string name="NotificationUnrecognizedDevice">%1$s,\nWe detected a login into your account from a new device on %2$s\n\nDevice: %3$s\nLocation: %4$s\n\nIf this wasn\'t you, you can go to Settings - Terminate all sessions.\n\nSincerely,\nThe telepatch Team</string>
     <string name="NotificationContactNewPhoto">%1$s updated profile photo</string>
     <string name="Reply">Reply</string>
     <string name="ReplyToGroup">Reply to %1$s</string>
@@ -154,7 +155,7 @@
     <!--contacts view-->
     <string name="SelectContact">Select Contact</string>
     <string name="NoContacts">No contacts yet</string>
-    <string name="InviteText">Hey, let\'s switch to Telegram: http://telegram.org/dl2</string>
+    <string name="InviteText">Hey, let\'s switch to telepatch: http://telepatch.org/dl2</string>
     <string name="TodayAt">today at</string>
     <string name="YesterdayAt">yesterday at</string>
     <string name="Online">online</string>
@@ -198,7 +199,7 @@
     <string name="EncryptionKey">Encryption Key</string>
     <string name="MessageLifetime">Self-Destruct Timer</string>
     <string name="ShortMessageLifetimeForever">Off</string>
-    <string name="EncryptionKeyDescription">This image is a visualization of the encryption key for this secret chat with <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>If this image looks the same on <![CDATA[<b>]]>%2$s\'s<![CDATA[</b>]]> phone, your chat is 200%% secure.<![CDATA[<br><br>]]>Learn more at telegram.org</string>
+    <string name="EncryptionKeyDescription">This image is a visualization of the encryption key for this secret chat with <![CDATA[<b>]]>%1$s<![CDATA[</b>]]>.<![CDATA[<br><br>]]>If this image looks the same on <![CDATA[<b>]]>%2$s\'s<![CDATA[</b>]]> phone, your chat is 200%% secure.<![CDATA[<br><br>]]>Learn more at telepatch.org</string>
     <string name="NumberUnknown">Unknown</string>
     <string name="Info">INFO</string>
     <string name="Phone">Phone</string>
@@ -210,7 +211,7 @@
     <string name="UsernameInvalidShort">A username must have at least 5 characters.</string>
     <string name="UsernameInvalidLong">The username must not exceed 32 characters.</string>
     <string name="UsernameInvalidStartNumber">Sorry, a username can\'t start with a number.</string>
-    <string name="UsernameHelp">You can choose a username on <![CDATA[<b>]]>Telegram<![CDATA[</b>]]>. If you do, other people will be able to find you by this username and contact you without knowing your phone number.<![CDATA[<br><br>]]>You can use <![CDATA[<b>]]>a–z<![CDATA[</b>]]>, <![CDATA[<b>]]>0–9<![CDATA[</b>]]> and underscores. Minimum length is <![CDATA[<b>]]>5<![CDATA[</b>]]> characters.</string>
+    <string name="UsernameHelp">You can choose a username on <![CDATA[<b>]]>telepatch<![CDATA[</b>]]>. If you do, other people will be able to find you by this username and contact you without knowing your phone number.<![CDATA[<br><br>]]>You can use <![CDATA[<b>]]>a–z<![CDATA[</b>]]>, <![CDATA[<b>]]>0–9<![CDATA[</b>]]> and underscores. Minimum length is <![CDATA[<b>]]>5<![CDATA[</b>]]> characters.</string>
     <string name="UsernameChecking">Checking username...</string>
     <string name="UsernameAvailable">%1$s is available.</string>
     <string name="UsernameEmpty">None</string>
@@ -249,13 +250,13 @@
     <string name="SendByEnter">Send by Enter</string>
     <string name="TerminateAllSessions">Terminate All Other Sessions</string>
     <string name="Events">EVENTS</string>
-    <string name="ContactJoined">Contact joined Telegram</string>
+    <string name="ContactJoined">Contact joined telepatch</string>
     <string name="Pebble">PEBBLE</string>
     <string name="Language">Language</string>
-    <string name="AskAQuestionInfo">Please note that Telegram Support is done by volunteers. We try to respond as quickly as possible, but it may take a while.<![CDATA[<br><br>]]>Please take a look at the <![CDATA[<a href=\"http://telegram.org/faq#general\">Telegram FAQ</a>]]>: it has answers to most questions and important tips for <![CDATA[<a href=\"http://telegram.org/faq#troubleshooting\">troubleshooting</a>]]>.</string>
+    <string name="AskAQuestionInfo">Please note that telepatch Support is done by volunteers. We try to respond as quickly as possible, but it may take a while.<![CDATA[<br><br>]]>Please take a look at the <![CDATA[<a href=\"http://telepatch.org/faq#general\">telepatch FAQ</a>]]>: it has answers to most questions and important tips for <![CDATA[<a href=\"http://telepatch.org/faq#troubleshooting\">troubleshooting</a>]]>.</string>
     <string name="AskButton">Ask a volunteer</string>
-    <string name="TelegramFaq">Telegram FAQ</string>
-    <string name="TelegramFaqUrl">https://telegram.org/faq</string>
+    <string name="telepatchFaq">telepatch FAQ</string>
+    <string name="telepatchFaqUrl">https://telepatch.org/faq</string>
     <string name="DeleteLocalization">Delete localization?</string>
     <string name="IncorrectLocalization">Incorrect localization file</string>
     <string name="Enabled">Enabled</string>
@@ -346,7 +347,7 @@
     <string name="ActionYouCreateGroup">You created the group</string>
     <string name="ActionKickUserYou">un1 removed you</string>
     <string name="ActionAddUserYou">un1 added you</string>
-    <string name="UnsuppotedMedia">This message is not supported on your version of Telegram. Update the app to view: http://telegram.org/update</string>
+    <string name="UnsuppotedMedia">This message is not supported on your version of telepatch. Update the app to view: http://telepatch.org/update</string>
     <string name="AttachPhoto">Photo</string>
     <string name="AttachVideo">Video</string>
     <string name="AttachLocation">Location</string>
@@ -365,9 +366,9 @@
     <string name="InvalidLastName">Invalid last name</string>
     <string name="Loading">Loading...</string>
     <string name="NoPlayerInstalled">You don\'t have a video player, please install one to continue</string>
-    <string name="NoMailInstalled">Please send an email to sms@telegram.org and tell us about your problem.</string>
+    <string name="NoMailInstalled">Please send an email to sms@telepatch.org and tell us about your problem.</string>
     <string name="NoHandleAppInstalled">You don\'t have applications that can handle the file type \'%1$s\', please install one to continue</string>
-    <string name="InviteUser">This user does not have Telegram yet, send an invitation?</string>
+    <string name="InviteUser">This user does not have telepatch yet, send an invitation?</string>
     <string name="AreYouSure">Are you sure?</string>
     <string name="AddContactQ">Add contact?</string>
     <string name="AddToTheGroup">Add %1$s to the group?\n\nNumber of last messages to forward:</string>
@@ -388,7 +389,7 @@
     <string name="ForwardMessagesToGroup">Forward messages to %1$s?</string>
     <string name="FeatureUnavailable">Sorry, this feature is currently not available in your country.</string>
     <!--Intro view-->
-    <string name="Page1Title">Telegram</string>
+    <string name="Page1Title">telepatch</string>
     <string name="Page2Title">Fast</string>
     <string name="Page3Title">Free</string>
     <string name="Page4Title">Secure</string>
@@ -396,12 +397,12 @@
     <string name="Page6Title">Cloud-Based</string>
     <string name="Page7Title">Private</string>
     <string name="Page1Message">The world\'s <![CDATA[<b>fastest</b>]]> messaging app.<![CDATA[<br/>]]>It is <![CDATA[<b>free</b>]]> and <![CDATA[<b>secure</b>]]>.</string>
-    <string name="Page2Message"><![CDATA[<b>Telegram</b>]]> delivers messages faster than<![CDATA[<br/>]]>any other application.</string>
-    <string name="Page3Message"><![CDATA[<b>Telegram</b>]]> is free forever. No ads.<![CDATA[<br/>]]>No subscription fees.</string>
-    <string name="Page4Message"><![CDATA[<b>Telegram</b>]]> keeps your messages safe<![CDATA[<br/>]]>from hacker attacks.</string>
-    <string name="Page5Message"><![CDATA[<b>Telegram</b>]]> has no limits on the size of<![CDATA[<br/>]]>your media and chats.</string>
-    <string name="Page6Message"><![CDATA[<b>Telegram</b>]]> lets you access your messages<![CDATA[<br/>]]>from multiple devices.</string>
-    <string name="Page7Message"><![CDATA[<b>Telegram</b>]]> messages are heavily encrypted<![CDATA[<br/>]]>and can self-destruct.</string>
+    <string name="Page2Message"><![CDATA[<b>telepatch</b>]]> delivers messages faster than<![CDATA[<br/>]]>any other application.</string>
+    <string name="Page3Message"><![CDATA[<b>telepatch</b>]]> is free forever. No ads.<![CDATA[<br/>]]>No subscription fees.</string>
+    <string name="Page4Message"><![CDATA[<b>telepatch</b>]]> keeps your messages safe<![CDATA[<br/>]]>from hacker attacks.</string>
+    <string name="Page5Message"><![CDATA[<b>telepatch</b>]]> has no limits on the size of<![CDATA[<br/>]]>your media and chats.</string>
+    <string name="Page6Message"><![CDATA[<b>telepatch</b>]]> lets you access your messages<![CDATA[<br/>]]>from multiple devices.</string>
+    <string name="Page7Message"><![CDATA[<b>telepatch</b>]]> messages are heavily encrypted<![CDATA[<br/>]]>and can self-destruct.</string>
     <string name="StartMessaging">Start Messaging</string>
     <!--plural-->
     <string name="Online_zero">%1$d online</string>
@@ -480,4 +481,61 @@
     <string name="formatterDay24H">HH:mm</string>
     <string name="formatterDay12H">h:mm a</string>
     <string name="formatDateAtTime">%1$s at %2$s</string>
+
+    <!-- TELEPATCH ONLY -->
+
+    <!-- Password Request view and settings -->
+    <string name="pwd_request_title">Password Request</string>
+    <string name="pwd_set_title">Set Password</string>
+    <string name="pwd_hint">Enter Password</string>
+    <string name="pwd_check_hint">Re-enter Password</string>
+    <string name="pwd_ok_button">Set</string>
+    <string name="pwd_set_error_title">Password mismatch!</string>
+    <string name="pwd_set_error">The passwords are different. Please insert them again.</string>
+    <string name="pwd_empty_title">Password empty</string>
+    <string name="pwd_empty">Password camp must be filled.</string>
+    <string name="pwd_settings_title">Password Protection</string>
+    <string name="set_pwd">Set password</string>
+    <string name="del_pwd">Remove password</string>
+    <string name="pwd_del_button">I\'m sure, please disable password request</string>
+
+
+    <string name="MessagesDeleteAlert">You\'re deleting one or more messages. Are you sure?</string>
+    <string name="reply">Reply</string>
+    <string name="yes">Yes</string>
+    <string name="no">No</string>
+
+    <!-- theme settings -->
+    <string name="themeChooser">Theme</string>
+    <string name="theme_default">Default Theme</string>
+    <string name="theme_red">Red Theme</string>
+    <string name="theme_green">Green Theme</string>
+    <string name="theme_yellow">Yellow Theme</string>
+    <string name="theme_fucsia">Fucsia Theme</string>
+    <string name="theme_violet">Violet Theme</string>
+    <string name="theme_blue">Dark Blue Theme</string>
+    <string name="theme_purple">Purple Theme</string>
+    <string name="theme_material_green">Material Green Theme</string>
+
+    <string name="telepatchAddOns">Others (Telepatch Add-ons)</string>
+
+    <string name="QuickReplyLabel">Quick Reply from notification</string>
+    <string name="multiple_notify">Multiple Notifications for different contacts messages</string>
+
+
+    <string name="search_title">Find</string>
+    <string name="search_results">Results</string>
+
+
+    <string name="press_vibrate_long">Long vibration</string>
+    <string name="press_vibrate_short">Short vibration</string>
+    <string name="vibration_pattern_save">Save</string>
+    <string name="longpress">Long</string>
+    <string name="shortpress">Short</string>
+    <string name="vibrate_customizer_title">Custom Vibrator Settings</string>
+    <string name="vibration_pattern_cancel">Cancel</string>
+    <string name="vibrate_pause">Pause</string>
+    <string name="mic_hack">Voice message without keep pressed</string>
+
+
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/xml/auth.xml b/TMessagesProj/src/main/res/xml/auth.xml
index 7856d0c83..875c41f15 100644
--- a/TMessagesProj/src/main/res/xml/auth.xml
+++ b/TMessagesProj/src/main/res/xml/auth.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 
 <account-authenticator xmlns:android="http://schemas.android.com/apk/res/android"
-    android:accountType="org.telegram.account"
+    android:accountType="org.telepatch.account"
     android:icon="@drawable/ic_launcher"
     android:smallIcon="@drawable/ic_launcher"
     android:label="@string/AppName"
diff --git a/TMessagesProj/src/main/res/xml/auth_menu.xml b/TMessagesProj/src/main/res/xml/auth_menu.xml
index a4cc31699..02a218e24 100644
--- a/TMessagesProj/src/main/res/xml/auth_menu.xml
+++ b/TMessagesProj/src/main/res/xml/auth_menu.xml
@@ -5,8 +5,8 @@
     <PreferenceScreen android:key="account_settings"
         android:title="Account Settings"
         android:summary="">
-        <intent android:action="org.telegram.messenger.OPEN_ACCOUNT"
-            android:targetPackage="org.telegram.messenger"
-            android:targetClass="org.telegram.ui.LaunchActivity"/>
+        <intent android:action="org.telepatch.messenger.OPEN_ACCOUNT"
+            android:targetPackage="org.telepatch.messenger"
+            android:targetClass="org.telepatch.ui.LaunchActivity"/>
     </PreferenceScreen>
 </PreferenceScreen>
diff --git a/TMessagesProj/src/main/res/xml/contacts.xml b/TMessagesProj/src/main/res/xml/contacts.xml
index 43fa9fd60..2298cb3b6 100644
--- a/TMessagesProj/src/main/res/xml/contacts.xml
+++ b/TMessagesProj/src/main/res/xml/contacts.xml
@@ -2,7 +2,7 @@
 
 <ContactsSource xmlns:android="http://schemas.android.com/apk/res/android">
     <ContactsDataKind android:icon="@drawable/ic_launcher"
-        android:mimeType="vnd.android.cursor.item/vnd.org.telegram.messenger.android.profile"
+        android:mimeType="vnd.android.cursor.item/vnd.org.telepatch.messenger.android.profile"
         android:summaryColumn="data2"
         android:detailColumn="data3"
         android:detailSocialSummary="true"/>
diff --git a/TMessagesProj/src/main/res/xml/sync_contacts.xml b/TMessagesProj/src/main/res/xml/sync_contacts.xml
index 9ec405a98..e40769310 100644
--- a/TMessagesProj/src/main/res/xml/sync_contacts.xml
+++ b/TMessagesProj/src/main/res/xml/sync_contacts.xml
@@ -1,3 +1,3 @@
 <sync-adapter xmlns:android="http://schemas.android.com/apk/res/android"
     android:contentAuthority="com.android.contacts"
-    android:accountType="org.telegram.account"/>
\ No newline at end of file
+    android:accountType="org.telepatch.account"/>
\ No newline at end of file
