diff --git a/TMessagesProj/src/main/java/org/telegram/techrunch/select_city/SelectCity.java b/TMessagesProj/src/main/java/org/telegram/techrunch/select_city/SelectCity.java
index ea30a0c3f..de20416d6 100644
--- a/TMessagesProj/src/main/java/org/telegram/techrunch/select_city/SelectCity.java
+++ b/TMessagesProj/src/main/java/org/telegram/techrunch/select_city/SelectCity.java
@@ -1,8 +1,10 @@
 package org.telegram.techrunch.select_city;
 
 import android.content.Context;
+import android.graphics.Canvas;
 import android.graphics.Color;
 import android.os.Build;
+import android.support.annotation.NonNull;
 import android.view.Gravity;
 import android.view.View;
 import android.view.View.OnClickListener;
@@ -14,6 +16,7 @@
 import android.widget.TextView;
 
 import org.telegram.messenger.AndroidUtilities;
+import org.telegram.messenger.AnimationCompat.ViewProxy;
 import org.telegram.messenger.LocaleController;
 import org.telegram.messenger.support.widget.LinearLayoutManager;
 import org.telegram.messenger.techranch.R;
@@ -22,6 +25,7 @@
 import org.telegram.ui.ActionBar.ActionBarMenu;
 import org.telegram.ui.ActionBar.ActionBarMenuItem;
 import org.telegram.ui.ActionBar.BaseFragment;
+import org.telegram.ui.Components.AvatarDrawable;
 import org.telegram.ui.Components.LayoutHelper;
 import org.telegram.ui.Components.RecyclerListView;
 
@@ -47,7 +51,7 @@
     @Override
     public View createView(final Context context) {
         actionBar.setTitle(LocaleController.getString("techrunch_select_city", R.string.techrunch_select_city));
-
+        actionBar.setAddToContainer(false);
         ActionBarMenu menu = actionBar.createMenu();
 
         actionBar.setBackButtonImage(R.drawable.ic_ab_back);
@@ -85,7 +89,37 @@ public void onItemClick(int id) {
             }
         });
 
-        LinearLayout layout = new LinearLayout(context);
+        LinearLayout layout = new LinearLayout(context) {
+            @Override
+            protected boolean drawChild(@NonNull Canvas canvas, @NonNull View child, long drawingTime) {
+                if (child == listView) {
+                    boolean result = super.drawChild(canvas, child, drawingTime);
+                    if (parentLayout != null) {
+                        int actionBarHeight = 0;
+                        int childCount = getChildCount();
+                        for (int a = 0; a < childCount; a++) {
+                            View view = getChildAt(a);
+                            if (view == child) {
+                                continue;
+                            }
+                            if (view instanceof ActionBar && view.getVisibility() == VISIBLE) {
+                                if (((ActionBar) view).getCastShadows()) {
+                                    actionBarHeight = view.getMeasuredHeight();
+                                }
+                                break;
+                            }
+                        }
+                        parentLayout.drawHeaderShadow(canvas, actionBarHeight);
+                    }
+                    return result;
+                } else {
+                    return super.drawChild(canvas, child, drawingTime);
+                }
+            }
+        };
+
+        layout.addView(actionBar);
+        
         layout.setOrientation(LinearLayout.VERTICAL);
         fragmentView = layout;
 
@@ -118,12 +152,11 @@ public void onItemClick(int id) {
 
         subheader.addView(selectedCityHeader, LayoutHelper.createLinear(LayoutHelper.MATCH_PARENT, LayoutHelper.WRAP_CONTENT));
         subheader.addView(mSelectedCity, LayoutHelper.createLinear(LayoutHelper.MATCH_PARENT, LayoutHelper.WRAP_CONTENT));
-
         layout.addView(subheader, LayoutHelper.createLinear(LayoutHelper.MATCH_PARENT, LayoutHelper.WRAP_CONTENT));
 
         FrameLayout container = new FrameLayout(context);
         container.addView(listView, LayoutHelper.createFrame(LayoutHelper.MATCH_PARENT, LayoutHelper.WRAP_CONTENT));
-        layout.addView(container, LayoutHelper.createFrame(LayoutHelper.MATCH_PARENT, LayoutHelper.WRAP_CONTENT));
+        layout.addView(container, LayoutHelper.createLinear(LayoutHelper.MATCH_PARENT, LayoutHelper.WRAP_CONTENT));
 
         mCities = Arrays.asList(context.getResources().getStringArray(R.array.cities_list));
         mCitiesAdapter = new CitiesAdapter(context, mCities, this);
