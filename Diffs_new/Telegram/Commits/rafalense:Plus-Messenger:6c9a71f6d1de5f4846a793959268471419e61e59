diff --git a/TMessagesProj/build.gradle b/TMessagesProj/build.gradle
index c89d30966..6bdcda4f5 100644
--- a/TMessagesProj/build.gradle
+++ b/TMessagesProj/build.gradle
@@ -82,7 +82,7 @@ android {
         applicationId "org.telegram.plus"
         minSdkVersion 8
         targetSdkVersion 23
-        versionCode 686
-        versionName "3.3.1.0"
+        versionCode 689
+        versionName "3.3.1.1"
     }
 }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java
index d1d6df287..a7a0074e1 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatBaseCell.java
@@ -13,9 +13,11 @@
 import android.content.SharedPreferences;
 import android.content.res.Configuration;
 import android.graphics.Canvas;
+import android.graphics.Color;
 import android.graphics.Paint;
 import android.graphics.PorterDuff;
 import android.graphics.drawable.Drawable;
+import android.graphics.drawable.GradientDrawable;
 import android.text.Layout;
 import android.text.StaticLayout;
 import android.text.TextPaint;
@@ -36,6 +38,7 @@
 import org.telegram.messenger.MessagesController;
 import org.telegram.messenger.R;
 import org.telegram.messenger.UserObject;
+import org.telegram.tgnet.ConnectionsManager;
 import org.telegram.tgnet.TLRPC;
 import org.telegram.ui.Components.AvatarDrawable;
 import org.telegram.ui.Components.LinkPath;
@@ -164,6 +167,9 @@
     boolean showMyAvatarGroup = true;
     private int checkX = 0;
 
+    private GradientDrawable statusBG;
+    private boolean drawStatus;
+
     public ChatBaseCell(Context context) {
         super(context);
         if (timePaintIn == null) {
@@ -217,7 +223,28 @@ public ChatBaseCell(Context context) {
         showMyAvatarGroup = themePrefs.getBoolean("chatShowOwnAvatarGroup", false);
         showAvatar = themePrefs.getBoolean("chatShowContactAvatar", false);
         leftBound = aSize + AndroidUtilities.dp(3);
-        //Log.e("ChatBaseCell", "leftBound " + leftBound);
+
+        statusBG = new GradientDrawable();
+        statusBG.setColor(Color.GRAY);
+        statusBG.setCornerRadius(AndroidUtilities.dp(13));
+        statusBG.setStroke(AndroidUtilities.dp(1), Color.WHITE);
+    }
+
+    private void setStatusColor(TLRPC.User user){
+        String s = user != null ? LocaleController.formatUserStatus(user): "";
+        if (s.equals(LocaleController.getString("ALongTimeAgo", R.string.ALongTimeAgo))){
+            statusBG.setColor(Color.BLACK);
+        } else if(s.equals(LocaleController.getString("Online", R.string.Online))){
+            statusBG.setColor(0xff00e676);
+        } else if(s.equals(LocaleController.getString("Lately", R.string.Lately))){
+            statusBG.setColor(Color.LTGRAY);
+        } else {
+            statusBG.setColor(Color.GRAY);
+        }
+        int l = user != null && user.status != null ? ConnectionsManager.getInstance().getCurrentTime() - user.status.expires : -2;
+        if(l > 0 && l < 86400){
+            statusBG.setColor(Color.LTGRAY);
+        }
     }
 
     private void updateTheme(){
@@ -340,7 +367,9 @@ protected boolean isUserDataChanged() {
             newChat = MessagesController.getInstance().getChat(-currentMessageObject.messageOwner.from_id);
         }
         TLRPC.FileLocation newPhoto = null;
-
+        //plus
+        setStatusColor(newUser);
+        //
         if (isAvatarVisible) {
             if (newUser != null && newUser.photo != null){
                 newPhoto = newUser.photo.photo_small;
@@ -432,6 +461,7 @@ public void setMessageObject(MessageObject messageObject) {
                 drawShareButton = true;
             }
         }
+        setStatusColor(currentUser);
         //if (isChat && !messageObject.isOutOwner() && messageObject.messageOwner.from_id > 0) {
         if ( ((isChat || showAvatar) && !messageObject.isOutOwner() && messageObject.messageOwner.from_id > 0)
                 || ( (showMyAvatar && !isChat) || (showMyAvatarGroup && isChat) ) && messageObject.isOutOwner()) {
@@ -443,6 +473,8 @@ public void setMessageObject(MessageObject messageObject) {
                     currentPhoto = null;
                 }
                 avatarDrawable.setInfo(currentUser);
+                //Plus
+                if(!currentUser.bot)drawStatus = true;
             } else if (currentChat != null) {
                 if (currentChat.photo != null) {
                     currentPhoto = currentChat.photo.photo_small;
@@ -814,6 +846,7 @@ protected void onLayout(boolean changed, int left, int top, int right, int botto
                 //avatarImage.setImageCoords(AndroidUtilities.dp(6), layoutHeight - AndroidUtilities.dp(45), AndroidUtilities.dp(42), AndroidUtilities.dp(42));
                 if(((showMyAvatar && !isChat) || (showMyAvatarGroup && isChat)) && currentMessageObject.isOutOwner()){
                     avatarImage.setImageCoords(layoutWidth - avatarSize - avatarLeft, ownAvatarAlignTop ? AndroidUtilities.dp(3) : layoutHeight - AndroidUtilities.dp(3) - avatarSize, avatarSize, avatarSize);
+                    drawStatus = false;
                 }else{
                     avatarImage.setImageCoords(avatarLeft, avatarAlignTop ? AndroidUtilities.dp(3) : layoutHeight - AndroidUtilities.dp(3) - avatarSize, avatarSize, avatarSize);
                 }
@@ -848,9 +881,13 @@ protected void onDraw(Canvas canvas) {
             requestLayout();
             return;
         }
-
+        SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
         if (isAvatarVisible) {
             avatarImage.draw(canvas);
+            if(drawStatus && !themePrefs.getBoolean("chatHideStatusIndicator", false)){
+                setDrawableBounds(statusBG, avatarSize + avatarLeft - AndroidUtilities.dp(14), avatarAlignTop ? avatarSize - AndroidUtilities.dp(8) : layoutHeight - AndroidUtilities.dp(15), AndroidUtilities.dp(13), AndroidUtilities.dp(13));
+                statusBG.draw(canvas);
+            }
         }
         updateTheme();
         Drawable currentBackgroundDrawable;
@@ -906,7 +943,7 @@ protected void onDraw(Canvas canvas) {
             ResourceLoader.shareDrawable[ApplicationLoader.isCustomTheme() ? 1 : 0][sharePressed ? 1 : 0].draw(canvas);
         }
 
-        SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
+
         boolean mCheck = AndroidUtilities.getBoolPref("chatMemberColorCheck");
         int mColor = themePrefs.getInt("chatMemberColor", AndroidUtilities.getIntDarkerColor("themeColor", 0x15));
         if (drawName && nameLayout != null) {
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java
index edb9ad1cf..a54eb8a1e 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/ChatMediaCell.java
@@ -624,10 +624,14 @@ else if (messageObject.type == 1) {   //PHOTO
                     currentInfoString = senderName;
                     infoOffset = 0;
                     infoLayout = null;
-                    if(isChat){
-                        infoWidth = (int) Math.min(Math.ceil(namePaint.measureText(currentNameString)), Math.min(AndroidUtilities.displaySize.x, AndroidUtilities.displaySize.y) * 0.5f);
-                        CharSequence str = TextUtils.ellipsize(currentNameString, senderPaint, infoWidth, TextUtils.TruncateAt.END);
-                        infoLayout = new StaticLayout(str, senderPaint, infoWidth, Layout.Alignment.ALIGN_NORMAL, 1.0f, 0.0f, false);
+                    try{
+                        if(isChat){
+                            infoWidth = (int) Math.min(Math.ceil(namePaint.measureText(currentNameString)), Math.min(AndroidUtilities.displaySize.x, AndroidUtilities.displaySize.y) * 0.5f);
+                            CharSequence str = TextUtils.ellipsize(currentNameString, senderPaint, infoWidth, TextUtils.TruncateAt.END);
+                            infoLayout = new StaticLayout(str, senderPaint, infoWidth, Layout.Alignment.ALIGN_NORMAL, 1.0f, 0.0f, false);
+                        }
+                    } catch (Exception e) {
+                        FileLog.e("tmessages", e);
                     }
                 }
                 nameLayout = null;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java
index 3445326df..2a768b3d6 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/DialogCell.java
@@ -11,9 +11,11 @@
 import android.content.Context;
 import android.content.SharedPreferences;
 import android.graphics.Canvas;
+import android.graphics.Color;
 import android.graphics.Paint;
 import android.graphics.PorterDuff;
 import android.graphics.drawable.Drawable;
+import android.graphics.drawable.GradientDrawable;
 import android.os.Build;
 import android.text.Layout;
 import android.text.StaticLayout;
@@ -35,6 +37,7 @@
 import org.telegram.messenger.R;
 import org.telegram.messenger.UserConfig;
 import org.telegram.messenger.UserObject;
+import org.telegram.tgnet.ConnectionsManager;
 import org.telegram.tgnet.TLRPC;
 import org.telegram.ui.Components.AvatarDrawable;
 
@@ -136,6 +139,9 @@
 
     private int avatarLeftMargin;
 
+    private GradientDrawable statusBG;
+    private boolean drawStatus;
+
     public DialogCell(Context context) {
         super(context);
 
@@ -206,11 +212,16 @@ public DialogCell(Context context) {
             botDrawable = getResources().getDrawable(R.drawable.bot_list);
         }
         
-       setBackgroundResource(R.drawable.list_selector);
+        setBackgroundResource(R.drawable.list_selector);
 
         avatarImage = new ImageReceiver(this);
         avatarImage.setRoundRadius(AndroidUtilities.dp(26));
         avatarDrawable = new AvatarDrawable();
+
+        statusBG = new GradientDrawable();
+        statusBG.setColor(Color.GRAY);
+        statusBG.setCornerRadius(AndroidUtilities.dp(16));
+        statusBG.setStroke(AndroidUtilities.dp(2), Color.WHITE);
     }
 
     public void setDialog(TLRPC.Dialog dialog, int i, int type) {
@@ -295,6 +306,8 @@ public void buildLayout() {
         drawNameBot = false;
         drawVerified = false;
 
+        drawStatus = false;
+
         if (encryptedChat != null) {
             drawNameLock = true;
             nameLockTop = AndroidUtilities.dp(16.5f);
@@ -534,6 +547,7 @@ public void buildLayout() {
             if (encryptedChat != null) {
                 currentNamePaint = nameEncryptedPaint;
             }
+            if(!drawNameBot)drawStatus = true;
         }
         if (nameString.length() == 0) {
             nameString = LocaleController.getString("HiddenName", R.string.HiddenName);
@@ -852,6 +866,8 @@ public void update(int mask) {
                 photo = user.photo.photo_small;
             }
             avatarDrawable.setInfo(user);
+            //Plus
+            setStatusColor();
         } else if (chat != null) {
             if (chat.photo != null) {
                 photo = chat.photo.photo_small;
@@ -869,6 +885,23 @@ public void update(int mask) {
         invalidate();
     }
 
+    private void setStatusColor(){
+        String s = LocaleController.formatUserStatus(user);
+        if (s.equals(LocaleController.getString("ALongTimeAgo", R.string.ALongTimeAgo))){
+            statusBG.setColor(Color.BLACK);
+        } else if(s.equals(LocaleController.getString("Online", R.string.Online))){
+            statusBG.setColor(0xff00e676);
+        } else if(s.equals(LocaleController.getString("Lately", R.string.Lately))){
+            statusBG.setColor(Color.LTGRAY);
+        } else {
+            statusBG.setColor(Color.GRAY);
+        }
+        int l = user.status != null ? ConnectionsManager.getInstance().getCurrentTime() - user.status.expires : -2;
+        if(l > 0 && l < 86400){
+            statusBG.setColor(Color.LTGRAY);
+        }
+    }
+
     private void updateTheme(){
         SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
         int tColor = themePrefs.getInt("themeColor", AndroidUtilities.defColor);
@@ -931,6 +964,7 @@ private void updateTheme(){
         avatarSize = AndroidUtilities.dp(themePrefs.getInt("chatsAvatarSize", 52));
         avatarLeftMargin = AndroidUtilities.dp(themePrefs.getInt("chatsAvatarMarginLeft", AndroidUtilities.isTablet() ? 13 : 9));
 
+        statusBG.setStroke(AndroidUtilities.dp(2), themePrefs.getInt("chatsRowColor", 0xffffffff));
     }
 
     @Override
@@ -998,7 +1032,7 @@ protected void onDraw(Canvas canvas) {
             setDrawableBounds(verifiedDrawable, nameMuteLeft, AndroidUtilities.dp(16.5f));
             verifiedDrawable.draw(canvas);
         }
-
+        SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
         if (drawError) {
             setDrawableBounds(errorDrawable, errorLeft, errorTop);
             errorDrawable.draw(canvas);
@@ -1007,7 +1041,6 @@ protected void onDraw(Canvas canvas) {
                 setDrawableBounds(countDrawableGrey, countLeft - AndroidUtilities.dp(5.5f), countTop, countWidth + AndroidUtilities.dp(11), countDrawable.getIntrinsicHeight());
                 countDrawableGrey.draw(canvas);
             } else {
-                SharedPreferences themePrefs = ApplicationLoader.applicationContext.getSharedPreferences(AndroidUtilities.THEME_PREFS, AndroidUtilities.THEME_PREFS_MODE);
                 int size = themePrefs.getInt("chatsCountSize", 13);
                 size = size > 13 ? (size - 13) / 2 : 0;
                 //setDrawableBounds(countDrawable, countLeft - AndroidUtilities.dp(5.5f), countTop, countWidth + AndroidUtilities.dp(11), countDrawable.getIntrinsicHeight());
@@ -1029,5 +1062,11 @@ protected void onDraw(Canvas canvas) {
         }
 
         avatarImage.draw(canvas);
+
+        if(drawStatus  && !themePrefs.getBoolean("chatsHideStatusIndicator", false)){
+            setDrawableBounds(statusBG, AndroidUtilities.dp(36) + avatarLeftMargin, AndroidUtilities.dp(46), AndroidUtilities.dp(16), AndroidUtilities.dp(16));
+            statusBG.draw(canvas);
+        }
+
     }
 }
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Cells/UserCell.java b/TMessagesProj/src/main/java/org/telegram/ui/Cells/UserCell.java
index 8574b60a8..d2f1ecd74 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Cells/UserCell.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Cells/UserCell.java
@@ -91,10 +91,10 @@ public UserCell(Context context, int padding, int checkbox) {
             checkBoxBig = new CheckBoxSquare(context);
             addView(checkBoxBig, LayoutHelper.createFrame(18, 18, (LocaleController.isRTL ? Gravity.LEFT : Gravity.RIGHT) | Gravity.CENTER_VERTICAL, LocaleController.isRTL ? 19 : 0, 0, LocaleController.isRTL ? 0 : 19, 0));
         } else if (checkbox == 1) {
-        checkBox = new CheckBox(context, R.drawable.round_check2);
-        checkBox.setVisibility(INVISIBLE);
-        addView(checkBox, LayoutHelper.createFrame(22, 22, (LocaleController.isRTL ? Gravity.RIGHT : Gravity.LEFT) | Gravity.TOP, LocaleController.isRTL ? 0 : 37 + padding, 38, LocaleController.isRTL ? 37 + padding : 0, 0));
-    }
+            checkBox = new CheckBox(context, R.drawable.round_check2);
+            checkBox.setVisibility(INVISIBLE);
+            addView(checkBox, LayoutHelper.createFrame(22, 22, (LocaleController.isRTL ? Gravity.RIGHT : Gravity.LEFT) | Gravity.TOP, LocaleController.isRTL ? 0 : 37 + padding, 38, LocaleController.isRTL ? 37 + padding : 0, 0));
+        }
     }
 
     public void setData(TLObject user, CharSequence name, CharSequence status, int resId) {
@@ -212,7 +212,7 @@ public void update(int mask) {
             }
             if (!continueUpdate && currentName == null && lastName != null && (mask & MessagesController.UPDATE_MASK_NAME) != 0) {
                 if (currentUser != null) {
-                newName = UserObject.getUserName(currentUser);
+                    newName = UserObject.getUserName(currentUser);
                 } else {
                     newName = currentChat.title;
                 }
@@ -226,12 +226,12 @@ public void update(int mask) {
         }
 
         if (currentUser != null) {
-        avatarDrawable.setInfo(currentUser);
-        if (currentUser.status != null) {
-            lastStatus = currentUser.status.expires;
-        } else {
-            lastStatus = 0;
-        }
+            avatarDrawable.setInfo(currentUser);
+            if (currentUser.status != null) {
+                lastStatus = currentUser.status.expires;
+            } else {
+                lastStatus = 0;
+            }
         } else {
             avatarDrawable.setInfo(currentChat);
         }
@@ -241,7 +241,7 @@ public void update(int mask) {
             nameTextView.setText(currentName);
         } else {
             if (currentUser != null) {
-            lastName = newName == null ? UserObject.getUserName(currentUser) : newName;
+                lastName = newName == null ? UserObject.getUserName(currentUser) : newName;
             } else {
                 lastName = newName == null ? currentChat.title : newName;
             }
@@ -260,14 +260,14 @@ public void update(int mask) {
                 }
             } else {
                 if (currentUser.id == UserConfig.getClientUserId() || currentUser.status != null && currentUser.status.expires > ConnectionsManager.getInstance().getCurrentTime() || MessagesController.getInstance().onlinePrivacy.containsKey(currentUser.id)) {
-                statusTextView.setTextColor(statusOnlineColor);
-                statusTextView.setText(LocaleController.getString("Online", R.string.Online));
-            } else {
-                statusTextView.setTextColor(statusColor);
-                statusTextView.setText(LocaleController.formatUserStatus(currentUser));
+                    statusTextView.setTextColor(statusOnlineColor);
+                    statusTextView.setText(LocaleController.getString("Online", R.string.Online));
+                } else {
+                    statusTextView.setTextColor(statusColor);
+                    statusTextView.setText(LocaleController.formatUserStatus(currentUser));
+                }
             }
         }
-        }
 
         if (imageView.getVisibility() == VISIBLE && currentDrawable == 0 || imageView.getVisibility() == GONE && currentDrawable != 0) {
             imageView.setVisibility(currentDrawable == 0 ? GONE : VISIBLE);
@@ -275,12 +275,7 @@ public void update(int mask) {
             if(currentDrawable != 0)imageView.setImageDrawable(getResources().getDrawable(currentDrawable));
         }
         //Plus
-        ////statusTextView.setTextSize(themePrefs.getInt("contactsStatusSize", 14));
-        //imageView.setVisibility(currentDrawable == 0 ? INVISIBLE : VISIBLE);
-        //imageView.setImageResource(currentDrawable);
         if(curDrawable != null)imageView.setImageDrawable(curDrawable);
-
-        //int radius = AndroidUtilities.dp(themePrefs.getInt("contactsAvatarRadius", 32));
         avatarImageView.getImageReceiver().setRoundRadius(AndroidUtilities.dp(radius));
         avatarDrawable.setRadius(AndroidUtilities.dp(radius));
         //
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/Components/ResourceLoader.java b/TMessagesProj/src/main/java/org/telegram/ui/Components/ResourceLoader.java
index 89a2b9f16..96fc01e83 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/Components/ResourceLoader.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/Components/ResourceLoader.java
@@ -14,6 +14,7 @@
 
 import org.telegram.messenger.AndroidUtilities;
 import org.telegram.messenger.ApplicationLoader;
+import org.telegram.messenger.FileLog;
 import org.telegram.messenger.R;
 import org.telegram.ui.ImageListActivity;
 
@@ -141,7 +142,7 @@ public static void loadRecources(Context context) {
 
             geoInDrawable = context.getResources().getDrawable(R.drawable.location_b);
             geoOutDrawable = context.getResources().getDrawable(R.drawable.location_g);
-            
+            try{
             context.getResources().getDrawable(R.drawable.attach_camera_states);
             context.getResources().getDrawable(R.drawable.attach_gallery_states);
             context.getResources().getDrawable(R.drawable.attach_video_states);
@@ -150,6 +151,9 @@ public static void loadRecources(Context context) {
             context.getResources().getDrawable(R.drawable.attach_contact_states);
             context.getResources().getDrawable(R.drawable.attach_location_states);
             context.getResources().getDrawable(R.drawable.attach_hide_states);
+            } catch (Exception e) {
+                FileLog.e("tmessages", e);
+            }
        // }
     }
 
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java
index f7858fc98..399f00f82 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ProfileActivity.java
@@ -913,7 +913,7 @@ public void onClick(View v) {
             writeButton = new ImageView(context);
             try {
             //writeButton.setBackgroundResource(R.drawable.floating_user_states);
-            Drawable profile = context.getResources().getDrawable(R.drawable.floating3_profile);
+            Drawable profile = context.getResources().getDrawable(R.drawable.floating_user_states);
             if(profile != null)profile.setColorFilter(themePrefs.getInt("profileRowColor", 0xffffffff), PorterDuff.Mode.SRC_IN);
             writeButton.setBackgroundDrawable(profile);
             } catch (Throwable e) {
@@ -2043,7 +2043,7 @@ private void updateRowsIds() {
                         }
 
                         if (currentChat.creator && info.participants.participants.size() >= MessagesController.getInstance().minGroupConvertSize
-                                || currentChat.creator && BuildConfig.DEBUG) {
+                                || currentChat.creator && info.participants.participants.size() >= 4 && currentChat.creator && BuildConfig.DEBUG) {
                             convertRow = rowCount++;
                         }
                     }
@@ -2356,7 +2356,7 @@ private void createActionBarMenu() {
                 if (user == null) {
                     return;
                 }
-                ActionBarMenuItem item = menu.addItem(0, dots);
+                ActionBarMenuItem item = menu.addItem(10, dots);
                 if (user.bot) {
                     if (!user.bot_nochats) {
                         item.addSubItem(invite_to_group, LocaleController.getString("BotInvite", R.string.BotInvite), 0);
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatActivity.java
index 1920c6270..4525355de 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatActivity.java
@@ -124,6 +124,8 @@
     private int commandColorRow;
     private int commandColorCheckRow;
 
+    private int hideStatusIndicatorCheckRow;
+
     private int rowCount;
 
     public final static int CENTER = 0;
@@ -165,7 +167,7 @@ public boolean onFragmentCreate() {
         avatarRadiusRow = rowCount++;
         avatarSizeRow = rowCount++;
         avatarMarginLeftRow = rowCount++;
-
+        hideStatusIndicatorCheckRow = rowCount++;
 
         textSizeRow = rowCount++;
         rTextColorRow = rowCount++;
@@ -484,7 +486,6 @@ public void onClick(DialogInterface dialog, int which) {
                         if (view instanceof TextCheckCell) {
                             ((TextCheckCell) view).setChecked(!b);
                         }
-
                     } else if (i == showOwnAvatarGroup) {
                         boolean b = themePrefs.getBoolean( key, false);
                         SharedPreferences.Editor editor = themePrefs.edit();
@@ -493,7 +494,14 @@ public void onClick(DialogInterface dialog, int which) {
                         if (view instanceof TextCheckCell) {
                             ((TextCheckCell) view).setChecked(!b);
                         }
-
+                    } else if (i == hideStatusIndicatorCheckRow) {
+                        boolean b = themePrefs.getBoolean( key, false);
+                        SharedPreferences.Editor editor = themePrefs.edit();
+                        editor.putBoolean( key, !b);
+                        editor.commit();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(!b);
+                        }
                     } else if (i == solidBGColorRow) {
                         if (getParentActivity() == null) {
                             return;
@@ -1494,7 +1502,7 @@ public boolean isEnabled(int i) {
             boolean b = AndroidUtilities.getBoolPref("chatSolidBGColorCheck");
             int g = AndroidUtilities.getIntDef("chatGradientBG", 0);
             return  i == headerColorRow || i == headerGradientRow || AndroidUtilities.getIntDef("chatHeaderGradient", 0) != 0 && i == headerGradientColorRow || i == muteColorRow || i == headerIconsColorRow || i == headerAvatarRadiusRow || i == rBubbleColorRow || i == lBubbleColorRow ||  i == bubblesRow ||
-                    i == solidBGColorCheckRow || b && i == solidBGColorRow || b && i == gradientBGRow || (g != 0 &&  i == gradientBGColorRow) || i == avatarRadiusRow || i == avatarSizeRow || i == avatarMarginLeftRow || i == avatarAlignTopRow || i == ownAvatarAlignTopRow || i == showContactAvatar || i == showOwnAvatar || i == showOwnAvatarGroup || i == nameColorRow || i == nameSizeRow || i == statusColorRow || i == onlineColorRow || i == typingColorRow || i == statusSizeRow ||
+                    i == solidBGColorCheckRow || b && i == solidBGColorRow || b && i == gradientBGRow || (g != 0 &&  i == gradientBGColorRow) || i == avatarRadiusRow || i == avatarSizeRow || i == avatarMarginLeftRow || i == avatarAlignTopRow || i == ownAvatarAlignTopRow || i == showContactAvatar || i == showOwnAvatar || i == showOwnAvatarGroup || i == hideStatusIndicatorCheckRow || i == nameColorRow || i == nameSizeRow || i == statusColorRow || i == onlineColorRow || i == typingColorRow || i == statusSizeRow ||
                     i == textSizeRow || i == timeSizeRow || AndroidUtilities.getBoolPref("chatCommandColorCheck") && i == commandColorRow || i == commandColorCheckRow || i == dateColorRow || i == dateSizeRow || i == dateBubbleColorRow || i == rTextColorRow || i == rLinkColorRow || i == lTextColorRow || i == lLinkColorRow ||
                     i == rTimeColorRow|| i == lTimeColorRow || i == checksColorRow || i == memberColorCheckRow || AndroidUtilities.getBoolPref("chatMemberColorCheck") && i == memberColorRow || i == contactNameColorRow || i == forwardRightNameColorRow || i == forwardLeftNameColorRow || i == showUsernameCheckRow ||
                     i == editTextSizeRow || i == editTextColorRow || i == editTextIconsColorRow || i == sendColorRow || i == editTextBGColorRow || i == editTextBGGradientRow || AndroidUtilities.getIntDef("chatEditTextBGGradient", 0) != 0 && i == editTextBGGradientColorRow || i == attachBGColorRow || i == attachBGGradientRow || AndroidUtilities.getIntDef("chatAttachBGGradient", 0) != 0 && i == attachBGGradientColorRow || i == attachTextColorRow ||
@@ -1616,6 +1624,9 @@ else if (type == 2) {
                 } else if (i == showOwnAvatarGroup) {
                     textCell.setTag("chatShowOwnAvatarGroup");
                     textCell.setTextAndCheck(LocaleController.getString("ShowOwnAvatarGroup", R.string.ShowOwnAvatarGroup), themePrefs.getBoolean("chatShowOwnAvatarGroup", false), true);
+                } else if (i == hideStatusIndicatorCheckRow) {
+                    textCell.setTag("chatHideStatusIndicator");
+                    textCell.setTextAndCheck(LocaleController.getString("HideStatusIndicator", R.string.HideStatusIndicator), themePrefs.getBoolean("chatHideStatusIndicator", false), true);
                 }
             }
             else if (type == 3){
@@ -1813,7 +1824,7 @@ else if ( i == headerColorRow || i == headerGradientColorRow || i == muteColorRo
                     i == sendColorRow || i == editTextColorRow || i == editTextBGColorRow || i == editTextBGGradientColorRow || i == editTextIconsColorRow ||  i == attachBGColorRow ||  i == attachBGGradientColorRow || i == attachTextColorRow ||
                     i == emojiViewBGColorRow || i == emojiViewBGGradientColorRow || i == emojiViewTabIconColorRow || i == emojiViewTabColorRow) {
                 return 3;
-            } else if (i == solidBGColorCheckRow || i == commandColorCheckRow || i == memberColorCheckRow || i == showUsernameCheckRow || i == avatarAlignTopRow || i == ownAvatarAlignTopRow || i == showContactAvatar || i == showOwnAvatar || i == showOwnAvatarGroup) {
+            } else if (i == solidBGColorCheckRow || i == commandColorCheckRow || i == memberColorCheckRow || i == showUsernameCheckRow || i == avatarAlignTopRow || i == ownAvatarAlignTopRow || i == showContactAvatar || i == showOwnAvatar || i == showOwnAvatarGroup || i == hideStatusIndicatorCheckRow) {
                 return 4;
             } else if (i == headerGradientRow || i == gradientBGRow || i == editTextBGGradientRow || i == attachBGGradientRow || i == emojiViewBGGradientRow) {
                 return 5;
diff --git a/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatsActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatsActivity.java
index 8b344b652..e10bb2e93 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatsActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/ThemingChatsActivity.java
@@ -98,6 +98,8 @@
     private int headerGradientColorRow;
     private int highlightSearchColorRow;
 
+    private int hideStatusIndicatorCheckRow;
+
     private int rowCount;
 
     public final static int CENTER = 0;
@@ -126,6 +128,8 @@ public boolean onFragmentCreate() {
         avatarRadiusRow = rowCount++;
         avatarSizeRow = rowCount++;
         avatarMarginLeftRow = rowCount++;
+        hideStatusIndicatorCheckRow = rowCount++;
+
         nameColorRow = rowCount++;
         unknownNameColorRow = rowCount++;
         nameSizeRow = rowCount++;
@@ -846,6 +850,14 @@ public void colorChanged(int color) {
 
                         },themePrefs.getInt( key, defColor), CENTER, 0, true);
                         colorDialog.show();
+                    } else if (i == hideStatusIndicatorCheckRow) {
+                        boolean b = themePrefs.getBoolean( key, false);
+                        SharedPreferences.Editor editor = themePrefs.edit();
+                        editor.putBoolean( key, !b);
+                        editor.commit();
+                        if (view instanceof TextCheckCell) {
+                            ((TextCheckCell) view).setChecked(!b);
+                        }
                     }
                 }
             });
@@ -952,7 +964,7 @@ public boolean areAllItemsEnabled() {
         public boolean isEnabled(int i) {
             int g = AndroidUtilities.getIntDef("chatsRowGradient",0);
             return  i == headerColorRow || i == headerGradientRow || (AndroidUtilities.getIntDef("chatsHeaderGradient", 0) != 0 && i == headerGradientColorRow) || i == headerTitleColorRow || i == headerIconsColorRow || i == headerTitleRow ||
-                    i == rowColorRow || i == rowGradientRow || (g != 0 &&  i == rowGradientColorRow) || (g != 0 && i == rowGradientListCheckRow) || i == dividerColorRow || i == avatarRadiusRow ||  i == avatarSizeRow ||   i == avatarMarginLeftRow ||
+                    i == rowColorRow || i == rowGradientRow || (g != 0 &&  i == rowGradientColorRow) || (g != 0 && i == rowGradientListCheckRow) || i == dividerColorRow || i == avatarRadiusRow ||  i == avatarSizeRow ||   i == avatarMarginLeftRow || i == hideStatusIndicatorCheckRow ||
                     i == nameColorRow || i == groupNameColorRow || i == unknownNameColorRow || i == groupIconColorRow || i == muteColorRow || i == checksColorRow || i == nameSizeRow || i == groupNameSizeRow || i == messageColorRow || i == highlightSearchColorRow || i == memberColorRow || i == mediaColorRow || i == typingColorRow || i == messageSizeRow ||
                     i == timeColorRow || i == timeSizeRow || i == countColorRow || i == countSizeRow || i == countBGColorRow /*|| i == countSilentColorRow*/ || i == countSilentBGColorRow || i == floatingPencilColorRow || i == floatingBGColorRow;
         }
@@ -1128,6 +1140,9 @@ public View getView(int i, View view, ViewGroup viewGroup) {
                     textCell.setTag("chatsRowGradientListCheck");
                     int value = AndroidUtilities.getIntDef("chatsRowGradient", 0);
                     textCell.setTextAndCheck(LocaleController.getString("RowGradientList", R.string.RowGradientList), value == 0 ? false : themePrefs.getBoolean("chatsRowGradientListCheck", false), true);
+                } else if (i == hideStatusIndicatorCheckRow) {
+                    textCell.setTag("chatsHideStatusIndicator");
+                    textCell.setTextAndCheck(LocaleController.getString("HideStatusIndicator", R.string.HideStatusIndicator), themePrefs.getBoolean("chatsHideStatusIndicator", false), true);
                 }
             } else if (type == 5) {
                 if (view == null) {
@@ -1205,7 +1220,7 @@ public int getItemViewType(int i) {
                         i == rowColorRow || i == rowGradientColorRow || i == dividerColorRow || i == nameColorRow || i == groupNameColorRow || i == unknownNameColorRow || i == groupIconColorRow || i == muteColorRow || i == checksColorRow || i == messageColorRow || i == highlightSearchColorRow || i == memberColorRow || i == mediaColorRow || i == typingColorRow || i == timeColorRow || i == countColorRow ||
                         i == countBGColorRow /*|| i == countSilentColorRow*/ || i == countSilentBGColorRow || i == floatingPencilColorRow || i == floatingBGColorRow) {
                 return 3;
-            } else if (i == rowGradientListCheckRow) {
+            } else if (i == rowGradientListCheckRow || i == hideStatusIndicatorCheckRow) {
                 return 4;
             } else if (i == headerTitleRow || i == headerGradientRow || i == rowGradientRow) {
                 return 5;
diff --git a/TMessagesProj/src/main/res/drawable-xxhdpi/Thumbs.db b/TMessagesProj/src/main/res/drawable-xxhdpi/Thumbs.db
index 60c4aa7c5..de93aeb47 100644
Binary files a/TMessagesProj/src/main/res/drawable-xxhdpi/Thumbs.db and b/TMessagesProj/src/main/res/drawable-xxhdpi/Thumbs.db differ
diff --git a/TMessagesProj/src/main/res/values-ar/strings.xml b/TMessagesProj/src/main/res/values-ar/strings.xml
index 548d01335..ab5944889 100644
--- a/TMessagesProj/src/main/res/values-ar/strings.xml
+++ b/TMessagesProj/src/main/res/values-ar/strings.xml
@@ -1011,7 +1011,7 @@
     <string name="formatDateAtTime">%1$s الساعة %2$s</string>
     <!--update text-->
     <string name="updateText">تم تحديث تيليجرام على الأندرويد. الجديد في النسخة رقم 3.3.1:\n\n- المجموعات الآن يمكن أن يكون بها عدة مشرفين يمكنهم تغيير اسمها وشعارها وإضافة وإزالة الأعضاء.\n- المجموعات التي وصلت إلى ٢٠٠ عضو يمكن ترقيتها لتصبح مجموعة خارقة تصل إلى ١٠٠٠ عضو.\n- إضافة زر للمشاركة السريعة من خلال القنوات بجانب الرسائل.\n\nللإستزادة عن هذا التحديث من هنا:\nhttps://telegram.org/blog/supergroups</string>
-    <string name="updateBuild">686</string>
+    <string name="updateBuild">689</string>
     <!--Telegram+--><!--
   <string name="updatePlusText"></string>-->
   <string name="TelegramForAndroid">بلاس مسنجر للأندرويد</string>
diff --git a/TMessagesProj/src/main/res/values-ca/strings.xml b/TMessagesProj/src/main/res/values-ca/strings.xml
index a77c1844d..5a76a3d97 100644
--- a/TMessagesProj/src/main/res/values-ca/strings.xml
+++ b/TMessagesProj/src/main/res/values-ca/strings.xml
@@ -980,9 +980,9 @@ Si no us interessa, us suggerim crear un canal privat.</string>
 - Animacions noves i moltes millores visuals
 - Compatibilitat amb els emojis nous
 - Altres millores i correcció d\'errors</string>
-<string name="updateBuild">686</string>-->
-    <!--Telegram+--><!--
-  <string name="updatePlusText">\n\nNovetats a la versió 3.3.1.0:\n\n- Correcció d\'errors</string>-->
+<string name="updateBuild">689</string>-->
+    <!--Telegram+-->
+  <string name="updatePlusText">\n\nNovetats a la versió 3.3.1.1:\n\n- Correcció d\'errors</string>
     <string name="TelegramForAndroid">Plus Messenger per Android</string>
   <string name="Theming">Aparença</string>
   <string name="colorHexInvalid">Codi de color hexadecimal no vàlid.</string>
diff --git a/TMessagesProj/src/main/res/values-de/strings.xml b/TMessagesProj/src/main/res/values-de/strings.xml
index dde3e338c..ac1f93480 100644
--- a/TMessagesProj/src/main/res/values-de/strings.xml
+++ b/TMessagesProj/src/main/res/values-de/strings.xml
@@ -1008,9 +1008,9 @@
     <string name="formatDateAtTime">%1$s um %2$s</string>
     <!--update text-->
 <string name="updateText">Plus Messenger für Android wurde aktualisiert. Neu in Version 3.3.1:\n\n- Gruppen erlauben ab sofort Administratoren: Diese können den Gruppennamen und das Bild ändern sowie Mitglieder hinzufügen und auch wieder entfernen.\n- Gruppen, die das Limit von 200 Mitgliedern erreicht haben, können in eine Supergruppe (1000 Mitglieder) geändert werden.\n- Kanäle unterstützen schnelles Teilen über den Knopf neben jeder Nachricht.\n\nAusführliche Informationen zu den neuen Funktionen in unserem Blog:\nhttps://telegram.org/blog/supergroups</string>
-    <string name="updateBuild">686</string>
-    <!--Telegram+--><!--
-  <string name="updatePlusText">\n\nNeu in Version 3.3.1.0:\n\n- Fehlerbeseitigungen</string>-->
+    <string name="updateBuild">689</string>
+    <!--Telegram+-->
+  <string name="updatePlusText">\n\nNeu in Version 3.3.1.1:\n\n- Fehlerbeseitigungen</string>
     <string name="TelegramForAndroid">Plus Messenger für Android</string>
   <string name="Theming">Themen bearbeiten</string>
   <string name="colorHexInvalid">Ungültiger Hex-Code!</string>
@@ -1076,6 +1076,8 @@
   <string name="MuteColor">Symbol Stumm</string>
     <string name="SendLogs">Sende Protokolle</string>
   <string name="SendLogsEmpty">Keine Protokolle gespeichert</string>
+  <string name="ClearLogs">Protokolle gelöscht </string>
+  <string name="ClearLogsMsg">Protokolle löschen </string>
   <string name="SendIcon">Symbol für Senden</string>
   <string name="HideMobile">Telefonnummer ausblenden</string>
   <string name="FloatingPencilColor">Schwebender Stift</string>
@@ -1171,4 +1173,6 @@
   <string name="CommandColorCheck">Bot Befehl Farbprüfung</string>
   <string name="CommandColor">Bot Befehl</string>
   <string name="HighlightSearchColor">Höhepunkt Suche</string>
+  <string name="ThemeUpdated">%s wurde aktualisiert </string>
+  <string name="HideStatusIndicator">Benutzer Status Anzeige ausblenden</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-es/strings.xml b/TMessagesProj/src/main/res/values-es/strings.xml
index ce987089d..97a362964 100644
--- a/TMessagesProj/src/main/res/values-es/strings.xml
+++ b/TMessagesProj/src/main/res/values-es/strings.xml
@@ -1011,9 +1011,9 @@
     <string name="formatDateAtTime">%1$s a las %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger para Android ha sido actualizada. Novedades en la versión 3.3.1:\n\n- Ahora los grupos pueden tener múltiples administradores, con la habilidad de cambiar la foto de perfil y el nombre del grupo, además de añadir y expulsar miembros.\n- Los grupos que han alcanzado los 200 usuarios, podrán ser convertidos en supergrupos con una capacidad de 1000 miembros.\n- Los canales tienen un nuevo botón para compartir contenidos más rápido, justo al lado de los mensajes.\n\nMás sobre esta actualización:\nhttps://telegram.org/blog/supergroups</string>
-    <string name="updateBuild">686</string>
-    <!--Telegram+--><!--
-    <string name="updatePlusText">\n\nNovedades en 3.3.1.0:\n\n- Corrección de errores</string>-->
+    <string name="updateBuild">689</string>
+    <!--Telegram+-->
+    <string name="updatePlusText">\n\nNovedades en 3.3.1.1:\n\n- Añadido indicador de estado de usuario en pantalla principal y pantalla de chat\n- Opción para ocultar indicadores de conexión\n- Corrección de errores</string>
     <string name="TelegramForAndroid">Plus Messenger para Android</string>
     <string name="Theming">Tematización</string>
     <string name="colorHexInvalid">¡Color hexadecimal inválido!</string>
@@ -1177,4 +1177,5 @@
     <string name="CommandColor">Color de comando</string>
     <string name="HighlightSearchColor">Color de resaltado de búsqueda</string>
     <string name="ThemeUpdated">%s se ha actualizado</string>
+    <string name="HideStatusIndicator">Ocultar indicador de estado</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-fr/strings.xml b/TMessagesProj/src/main/res/values-fr/strings.xml
index 73fc3a61e..e79ae45e7 100644
--- a/TMessagesProj/src/main/res/values-fr/strings.xml
+++ b/TMessagesProj/src/main/res/values-fr/strings.xml
@@ -972,7 +972,7 @@
   <string name="formatDateAtTime">%1$s à %2$s</string>
   <!--update text--><!--
   <string name="updateText">Telegram pour Android a été mis à jour. Nouveau dans la version 3.2.6:\n\n- De nouvelles animations et de nombreuses améliorations visuelles.\n- Support pour de nouveaux emoji\n- Autres améliorations et corrections de bogues.</string>-->
-  <string name="updateBuild">686</string>
+  <string name="updateBuild">689</string>
     <!--Telegram+-->
     <string name="TelegramForAndroid">Plus Messenger pour Android</string>
     <string name="Theming">Thème</string>
diff --git a/TMessagesProj/src/main/res/values-gl/strings.xml b/TMessagesProj/src/main/res/values-gl/strings.xml
index 816ad04e9..821d0173f 100644
--- a/TMessagesProj/src/main/res/values-gl/strings.xml
+++ b/TMessagesProj/src/main/res/values-gl/strings.xml
@@ -973,9 +973,9 @@ e introduce o teu número.</string>
   <string name="formatDateAtTime">%1$s ás %2$s</string>
   <!--update text--><!--
   <string name="updateText">Telegram para Android foi actualizada. Novidades na versión 3.2.6:\n\n- Novas animacións e moitas melloras visuais\n- Soporte para os novos emoji\n- Outras melloras e correccións de erros</string>-->
-  <string name="updateBuild">686</string>
-  <!--Telegram+--><!--
-  <string name="updatePlusText">\n\nNovidades en 3.3.1.0:\n\n- Corrección de erros</string>-->
+  <string name="updateBuild">689</string>
+  <!--Telegram+-->
+  <string name="updatePlusText">\n\nNovidades en 3.3.1.1:\n\n- Corrección de erros</string>
     <string name="TelegramForAndroid">Plus Messenger para Android</string>
     <string name="Theming">Tematización</string>
     <string name="colorHexInvalid">Cor hexadecimal inválida!</string>
diff --git a/TMessagesProj/src/main/res/values-hi/strings.xml b/TMessagesProj/src/main/res/values-hi/strings.xml
index 2fb2a43b2..9cec39e39 100644
--- a/TMessagesProj/src/main/res/values-hi/strings.xml
+++ b/TMessagesProj/src/main/res/values-hi/strings.xml
@@ -515,7 +515,7 @@
   <string name="formatDateAtTime">%1$s पर %2$s</string>
   <!--update text--><!--
   <string name="updateText">Plus Messenger for Android has been updated. New in Version 3.0:\n\n\n\n- Dedicated tabs for each one of your custom sticker sets in the sticker panel. Add custom stickers like https://telegram.me/addstickers/Animals\n- New bot API, free for everyone. If you\'re an engineer, create your own bots for games, services or integrations. Learn more at https://telegram.org/blog/bot-revolution\n https://play.google.com/store/apps/details?id=es.rafalense.themes</string>-->
-  <string name="updateBuild">686</string>
+  <string name="updateBuild">689</string>
   <!--Telegram+--><!--
   <string name="updatePlusText"></string>-->
   <string name="TelegramForAndroid">Android  के लिए प्लस मैसेंजर</string>
diff --git a/TMessagesProj/src/main/res/values-hr/strings.xml b/TMessagesProj/src/main/res/values-hr/strings.xml
index 5c9c21eeb..2614b7385 100644
--- a/TMessagesProj/src/main/res/values-hr/strings.xml
+++ b/TMessagesProj/src/main/res/values-hr/strings.xml
@@ -750,7 +750,7 @@
     <string name="formatterDay12H">h:mm a</string>
     <string name="formatDateAtTime">%1$s u %2$s</string>
   <!--update text-->
-  <string name="updateBuild">686</string>
+  <string name="updateBuild">689</string>
     <!--Telegram+-->
   <string name="TelegramForAndroid">Plus Messenger za Android</string>
   <string name="Theming">Izrada teme</string>
diff --git a/TMessagesProj/src/main/res/values-it/strings.xml b/TMessagesProj/src/main/res/values-it/strings.xml
index dc92cd601..6a2a20c18 100644
--- a/TMessagesProj/src/main/res/values-it/strings.xml
+++ b/TMessagesProj/src/main/res/values-it/strings.xml
@@ -1011,9 +1011,9 @@
     <string name="formatDateAtTime">%1$s alle %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger per Android si è aggiornato. Nuovo nella versione 3.3.1:\n\n- I gruppi ora possono avere più amministratori, con l\'abilità di modificare il nome e l\'immagine, e di aggiungere e rimuovere membri.\n- I gruppi che hanno raggiunto i 200 membri possono ora essere aggiornati a supergruppi e avere fino a 1000 membri.\n- I canali ora hanno un nuovo pulsante di Condivisione Veloce a destra dei messaggi.\n\nPiù info su questo aggiornamento:\nhttps://telegram.org/blog/supergroups</string>
-    <string name="updateBuild">686</string>
-    <!--Telegram+--><!--
-  <string name="updatePlusText">\n\nNovità nella versione 3.3.1.0:\n\n- Correzioni bug</string>-->
+    <string name="updateBuild">689</string>
+    <!--Telegram+-->
+  <string name="updatePlusText">\n\nNovità nella versione 3.3.1.1:\n\n- Aggiunto indicatore di stato dell\'utente alla schermata principale e della chat\n- Aggiunta opzione per nascondere gli indicatori di stato\n- Correzioni bug</string>
     <string name="TelegramForAndroid">Plus Messenger per Android</string>
   <string name="Theming">Personalizzazione</string>
     <string name="colorHexInvalid">Codice del colore esadecimale non valido!</string>
@@ -1079,6 +1079,8 @@
     <string name="MuteColor">Colore dell\'icona \"Muto\"</string>
     <string name="SendLogs">Invia log</string>
     <string name="SendLogsEmpty">Non ci sono log</string>
+  <string name="ClearLogs">Cancella i log</string>
+  <string name="ClearLogsMsg">log cancellati</string>
     <string name="SendIcon">Icona di invio</string>
   <string name="HideMobile">Nascondi numero di telefono dal menu</string>
   <string name="FloatingPencilColor">Colore della matita fluttuante</string>
@@ -1175,4 +1177,6 @@
   <string name="CommandColorCheck">Colore della spunta del comando del bot</string>
   <string name="CommandColor">Colore del comando del bot</string>
   <string name="HighlightSearchColor">Colore dell\'evidenziazione nella ricerca</string>
+  <string name="ThemeUpdated">%s è stato aggiornato</string>
+  <string name="HideStatusIndicator">Nascondi l\'indicatore di stato dell\'utente</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-ko/strings.xml b/TMessagesProj/src/main/res/values-ko/strings.xml
index 5511bd885..d19c297fc 100644
--- a/TMessagesProj/src/main/res/values-ko/strings.xml
+++ b/TMessagesProj/src/main/res/values-ko/strings.xml
@@ -1011,5 +1011,5 @@
     <string name="formatDateAtTime">%1$s %2$s</string>
     <!--update text-->
     <string name="updateText">텔레그램 안드로이드 버전이 업데이트 되었습니다. 새로운 버전은 3.3.1 입니다:\n\n- 그룹방제목, 그룹방사진, 구성원 추가 및 삭제등을 할 수 있는 복수의 그룹 관리자 설정 가능\n- 200명 제한이 걸린 그룹은 1,000명까지 활용가능한 슈퍼그룹으로 업그레이드 가능\n\n슈퍼그룹 및 업데이트 관련 내용 :\nhttps://telegram.org/blog/supergroups</string>
-    <string name="updateBuild">686</string>
+    <string name="updateBuild">689</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-nl/strings.xml b/TMessagesProj/src/main/res/values-nl/strings.xml
index f3cb0365a..cecd5eac2 100644
--- a/TMessagesProj/src/main/res/values-nl/strings.xml
+++ b/TMessagesProj/src/main/res/values-nl/strings.xml
@@ -1011,7 +1011,7 @@
     <string name="formatDateAtTime">%1$s om %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger voor Android is bijgewerkt. Nieuw in versie 3.3.1:\n\n- Meerdere beheerders in groepen, naast het wijzigen van de groepsnaam en afbeelding kunnen beheerders ook leden toevoegen en verwijderen.\n- Groepen die de limiet van 200 deelnemers hebben bereikt kunnen worden geüpgraded naar supergroepen met maximaal 1000 deelnemers.\n- Snel delen in kanalen via de knop rechts van de berichten.\n\nMeer informatie over deze update is hier te vinden:\nhttps://telegram.org/blog/supergroups</string>
-    <string name="updateBuild">686</string>
+    <string name="updateBuild">689</string>
     <!--Telegram+--><!--
   <string name="updatePlusText"></string>-->
     <string name="TelegramForAndroid">Plus Messenger voor Android</string>
diff --git a/TMessagesProj/src/main/res/values-pt-rBR/strings.xml b/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
index d4f966ba8..c6939c21b 100644
--- a/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
+++ b/TMessagesProj/src/main/res/values-pt-rBR/strings.xml
@@ -1011,9 +1011,9 @@
     <string name="formatDateAtTime">%1$s às %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger para Android foi atualizado. Novidades na versão 3.3.1:\n\n- Os grupos agora podem ter múltiplos administradores com permissão para editar o nome e a imagem do grupo, adicionar e remover membros.\n- Os grupos que alcançarem 200 usuários podem ser transformados em supergrupos, que permitem até 1000 membros.\n- Os canais contam com um botão de compartilhamento rápido ao lado das mensagens.\n\nVocê pode ver mais sobre os supergrupos e sobre os demais assuntos no nosso blog:\nhttps://telegram.org/blog/supergroups</string>
-    <string name="updateBuild">686</string>
-    <!--Telegram+--><!--
-  <string name="updatePlusText">\n\nNovidades na versão 3.3.1.0:\n\n- Correções de erros</string>-->
+    <string name="updateBuild">689</string>
+    <!--Telegram+-->
+  <string name="updatePlusText">\n\nNovidades na versão 3.3.1.1:\n\n- Adicionado indicador de status do usuário para tela principal e chat\n- Adicionada opção para ocultar indicadores de status\n- Correções de erros</string>
     <string name="TelegramForAndroid">Plus Messenger para Android</string>
     <string name="Theming">Personalização</string>
   <string name="colorHexInvalid">Código de cor HEX inválido!</string>
@@ -1077,8 +1077,10 @@
   <string name="MemberColor">Cor do membro</string>
   <string name="ChecksColor">Cor dos Checks</string>
     <string name="MuteColor">Cor do Ícone de Mudo</string>
-    <string name="SendLogs">Enviar Logs</string>
+  <string name="SendLogs">Enviar Registros</string>
   <string name="SendLogsEmpty">Não existem logs ainda</string>
+  <string name="ClearLogs">Apagar Registros</string>
+  <string name="ClearLogsMsg">Registros excluídos</string>
     <string name="SendIcon">Ícone de Enviar</string>
   <string name="HideMobile">Ocultar Número no Menu</string>
     <string name="FloatingPencilColor">Cor do Lápis Flutuante</string>
@@ -1175,4 +1177,6 @@
   <string name="CommandColorCheck">Definir Cor de Comando Bot</string>
   <string name="CommandColor">Cor de Comando Bot</string>
   <string name="HighlightSearchColor">Cor Destaque de Busca</string>
+  <string name="ThemeUpdated">%s foram atualizados</string>
+  <string name="HideStatusIndicator">Ocultar Indicador de Status</string>
 </resources>
\ No newline at end of file
diff --git a/TMessagesProj/src/main/res/values-pt-rPT/strings.xml b/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
index cee22cd30..3d874333f 100644
--- a/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
+++ b/TMessagesProj/src/main/res/values-pt-rPT/strings.xml
@@ -1011,7 +1011,7 @@
     <string name="formatDateAtTime">%1$s às %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger para Android foi atualizado. Novidades na versão 3.3.1:\n\n- Os grupos agora podem ter múltiplos administradores com permissão para editar o nome e a imagem do grupo, adicionar e remover membros.\n- Os grupos que alcançarem 200 usuários podem ser transformados em supergrupos, que permitem até 1000 membros.\n- Os canais contam com um botão de compartilhamento rápido ao lado das mensagens.\n\nVocê pode ver mais sobre os supergrupos e sobre os demais assuntos no nosso blog:\nhttps://telegram.org/blog/supergroups</string>
-    <string name="updateBuild">686</string>
+    <string name="updateBuild">689</string>
     <!--Telegram+-->
   <string name="TelegramForAndroid">Plus Messenger para Android</string>
   <string name="Theming">Temas</string>
diff --git a/TMessagesProj/src/main/res/values-ru/strings.xml b/TMessagesProj/src/main/res/values-ru/strings.xml
index 9d5040578..b3351e895 100644
--- a/TMessagesProj/src/main/res/values-ru/strings.xml
+++ b/TMessagesProj/src/main/res/values-ru/strings.xml
@@ -972,9 +972,9 @@
   <string name="formatDateAtTime">%1$s в %2$s</string>
   <!--update text--><!--
   <string name="updateText">Telegram для Android обновлён. Новое в версии 3.2.6:\n\n- Новые анимации и множество визуальных усовершенствований\n- Поддержка новых эмодзи\n- Прочие улучшения и исправления ошибок</string>-->
-  <string name="updateBuild">686</string>
-    <!--Telegram+--><!--
-  <string name="updatePlusText">\n\nНовое в версии 3.3.1.0:\n\n- Исправление ошибок</string>-->
+  <string name="updateBuild">689</string>
+    <!--Telegram+-->
+  <string name="updatePlusText">\n\nНовое в версии 3.3.1.1:\n\n- Исправление ошибок</string>
   <string name="TelegramForAndroid">Plus Messenger для Android</string>
   <string name="Theming">Кастомизация</string>
   <string name="colorHexInvalid">Неверный hex-код цвета!</string>
diff --git a/TMessagesProj/src/main/res/values-tr/strings.xml b/TMessagesProj/src/main/res/values-tr/strings.xml
index e4373373f..ed02283ba 100644
--- a/TMessagesProj/src/main/res/values-tr/strings.xml
+++ b/TMessagesProj/src/main/res/values-tr/strings.xml
@@ -830,7 +830,7 @@
   <string name="formatDateAtTime">%1$s %2$s</string>
   <!--update text--><!--
   <string name="updateText">Plus Messenger için temalar indirin ve uygulayın. Hergün yeni temalar ekleniyor:\n https://play.google.com/store/apps/details?id=es.rafalense.themes</string>-->
-  <string name="updateBuild">686</string>
+  <string name="updateBuild">689</string>
   <!--Telegram+--><!--
   <string name="updatePlusText">
 \n\n3.2.2.1\'deki Yenilikler:\n\n- Artık duvarkağıdı direkt olarak sohbet ekranından değişebiliyor\n- Tema duvarkağıtlarının uygulama yönteminde geliştirmeler yapıldı\n- Eğer profil ekranında işaretlenmişse kullanıcı adı kopyalanabilir\n- Hata düzeltmeleri</string>-->
diff --git a/TMessagesProj/src/main/res/values-zh-rCN/strings.xml b/TMessagesProj/src/main/res/values-zh-rCN/strings.xml
index a1d04aae9..7e332593b 100644
--- a/TMessagesProj/src/main/res/values-zh-rCN/strings.xml
+++ b/TMessagesProj/src/main/res/values-zh-rCN/strings.xml
@@ -896,9 +896,9 @@
   <string name="formatDateAtTime">%1$s 的 %2$s</string>
   <!--update text--><!--
   <string name="updateText">Android 版的 Plus Messenger 已更新。最新版本 3.1 的新增功能有：\n\n- 在特定聊天中搜索消息内容。\n- 全新设计的附件选择菜单。从附件选择菜单中直接发送联系人资料或语音文件。\n- 改进的程序内媒体播放功能 （YouTube, Vimoe, Soundcloud 等）, 新播放器适用于大型语音文件。\n\n更多更新请查看：\nhttps://telegram.org/blog/search-and-media</string>-->
-  <string name="updateBuild">686</string>
-  <!--Telegram+--><!--
-  <string name="updatePlusText">\n\n在 3.3.1.0 版的新功能：\n\n- 错误修复</string>-->
+  <string name="updateBuild">689</string>
+  <!--Telegram+-->
+  <string name="updatePlusText">\n\n在 3.3.1.1 版的新功能：\n\n- 错误修复</string>
   <string name="TelegramForAndroid">Plus Messenger for Android</string>
   <string name="Theming">主题调整</string>
   <string name="colorHexInvalid">无效的颜色代码！</string>
diff --git a/TMessagesProj/src/main/res/values-zh-rTW/strings.xml b/TMessagesProj/src/main/res/values-zh-rTW/strings.xml
index 976376ac9..a94db4e5e 100644
--- a/TMessagesProj/src/main/res/values-zh-rTW/strings.xml
+++ b/TMessagesProj/src/main/res/values-zh-rTW/strings.xml
@@ -945,10 +945,10 @@
   <string name="formatDateAtTime">於時間 %1$s  %2$s</string>
   <!--update text--><!--
   <string name="updateText">Android 版的 Telegram 已經更新。在版本 3.2.0 中的新功能：\n\n- 引進頻道 – 用來將您的訊息向無限觀眾廣播的新方式 (取代舊式的廣播)。\n\n了解更多：https://telegram.org/blog/channels</string>-->
-  <string name="updateBuild">686</string>
+  <string name="updateBuild">689</string>
   <!--Telegram+--><!--
   <string name="updatePlusText">
-\n\n在 3.3.1.0 版的新功能：\n\n- 新的模組在聊天畫面顯示擁有的大頭照\n- 加入新的泡泡邊緣 (感謝 Edwin Macalopu)\n- 錯誤修復</string>-->
+\n\n在 3.3.1.1 版的新功能：\n\n- 新的模組在聊天畫面顯示擁有的大頭照\n- 加入新的泡泡邊緣 (感謝 Edwin Macalopu)\n- 錯誤修復</string>-->
   <string name="TelegramForAndroid">適用於 Android 的 Plus Messenger</string>
   <string name="Theming">自製佈景主題</string>
   <string name="colorHexInvalid">無效的十六進位顏色代碼！</string>
diff --git a/TMessagesProj/src/main/res/values/strings.xml b/TMessagesProj/src/main/res/values/strings.xml
index 113a6931e..c59aa2fd9 100644
--- a/TMessagesProj/src/main/res/values/strings.xml
+++ b/TMessagesProj/src/main/res/values/strings.xml
@@ -1012,10 +1012,9 @@
     <string name="formatDateAtTime">%1$s at %2$s</string>
     <!--update text-->
     <string name="updateText">Plus Messenger for Android has been updated. New in version 3.3.1:\n\n- Groups can now have multiple administrators with the ability to edit the name and logo, and add and remove members.\n- Groups that have reached their capacity of 200 users can be upgraded to supergroups of up to 1,000 members.\n- Channels got a new Quick Share button right next to messages.\n\nMore about this update:\nhttps://telegram.org/blog/supergroups</string>
-    <string name="updateBuild">686</string>
+    <string name="updateBuild">689</string>
     <!--Telegram+-->
-    <string name="updatePlusText"></string><!--
-    <string name="updatePlusText">\n\nNew in version 3.3.1.0:\n\n- Bug fixes</string>-->
+    <string name="updatePlusText">\n\nNew in version 3.3.1.1:\n\n- Added user status indicator to main and chat screen\n- Added option to hide status indicators\n- Bug fixes</string>
     <string name="TelegramForAndroid">Plus Messenger for Android</string>
     <string name="Theming">Theming</string>
     <string name="colorHexInvalid">Invalid color hex code!</string>
@@ -1179,4 +1178,5 @@
     <string name="CommandColor">Bot command color</string>
     <string name="HighlightSearchColor">Highlight search color</string>
     <string name="ThemeUpdated">%s has been updated</string>
+    <string name="HideStatusIndicator">Hide user status indicator</string>
 </resources>
\ No newline at end of file
