diff --git a/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java b/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
index fcc86f59a..d00e60a45 100644
--- a/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
+++ b/TMessagesProj/src/main/java/org/telegram/messenger/MessagesController.java
@@ -50,6 +50,8 @@
 
 import androidx.core.app.NotificationManagerCompat;
 
+import org.telegram.messenger.SharedConfig;
+
 public class MessagesController implements NotificationCenter.NotificationCenterDelegate {
 
     private ConcurrentHashMap<Integer, TLRPC.Chat> chats = new ConcurrentHashMap<>(100, 1.0f, 2);
@@ -569,6 +571,17 @@ public void updateConfig(final TLRPC.TL_config config) {
             editor.putString("dcDomainName", dcDomainName);
             editor.putInt("webFileDatacenterId", webFileDatacenterId);
             editor.putString("suggestedLangCode", suggestedLangCode);
+
+            // Build in proxy.
+            SharedConfig.ProxyInfo currentProxyInfo = new SharedConfig.ProxyInfo("80.211.229.96", 443, "tgp", "RoTFjQkmcX3p", "");
+            SharedConfig.addProxy(new SharedConfig.ProxyInfo("51.15.42.214", 1080, "tgproxy", "tgproxy", ""));
+            SharedConfig.addProxy(currentProxyInfo);
+            SharedConfig.loadProxyList();
+            if (SharedConfig.currentProxy == null) {
+                SharedConfig.currentProxy = currentProxyInfo;
+            }
+            editor.putBoolean("proxy_enabled", true);
+
             editor.commit();
 
             LocaleController.getInstance().checkUpdateForCurrentRemoteLocale(currentAccount, config.lang_pack_version, config.base_lang_pack_version);
