diff --git a/TMessagesProj/src/main/java/org/telegram/ui/PostCreateActivity.java b/TMessagesProj/src/main/java/org/telegram/ui/PostCreateActivity.java
index 4f25e5c84..8d5d1a932 100644
--- a/TMessagesProj/src/main/java/org/telegram/ui/PostCreateActivity.java
+++ b/TMessagesProj/src/main/java/org/telegram/ui/PostCreateActivity.java
@@ -66,6 +66,7 @@
 import org.telegram.ui.Components.RecyclerListView;
 import org.telegram.ui.Components.ResourceLoader;
 import org.telegram.ui.Components.SizeNotifierFrameLayout;
+import org.telegram.utils.Constants;
 import org.telegram.utils.StringUtils;
 
 import java.io.File;
@@ -162,6 +163,20 @@ public boolean onFragmentCreate() {
         NotificationCenter.getInstance().addObserver(this, NotificationCenter.didReceivedNewPosts);
         NotificationCenter.getInstance().addObserver(this, NotificationCenter.closeChats);
 
+        if (getArguments() != null) {
+            SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", Activity.MODE_PRIVATE);
+            SharedPreferences.Editor editor = preferences.edit();
+            String text = (String) super.arguments.get("text");
+            String image = (String) super.arguments.get("image");
+            if (!StringUtils.isEmpty(text)) {
+                editor.putString(Constants.PREF_NEW_POST_TEXT, text.trim());
+            }
+            if (!StringUtils.isEmpty(image)) {
+                editor.putString(Constants.PREF_NEW_POST_PHOTO, image);
+            }
+            editor.commit();
+        }
+
         super.onFragmentCreate();
 
 //        if (AndroidUtilities.isTablet()) {
@@ -896,14 +911,14 @@ public void onResume() {
 
         fixLayout(true);
         SharedPreferences preferences = ApplicationLoader.applicationContext.getSharedPreferences("mainconfig", Activity.MODE_PRIVATE);
-        String lastMessageText = preferences.getString("new_post_text", null);
+        String lastMessageText = preferences.getString(Constants.PREF_NEW_POST_TEXT, null);
         if (lastMessageText != null) {
-            preferences.edit().remove("new_post_text").commit();
+            preferences.edit().remove(Constants.PREF_NEW_POST_TEXT).commit();
             postCreateActivityEnterView.setFieldText(lastMessageText);
         }
-        String lastPhotoURL = preferences.getString("new_post_photo", null);
+        String lastPhotoURL = preferences.getString(Constants.PREF_NEW_POST_PHOTO, null);
         if (!StringUtils.isEmpty(lastPhotoURL) && posts.isEmpty()) {
-            preferences.edit().remove("new_post_photo").commit();
+            preferences.edit().remove(Constants.PREF_NEW_POST_PHOTO).commit();
             ArrayList<String> photos = new ArrayList<>();
             photos.add(lastPhotoURL);
             didSelectPhotos(photos);
@@ -939,10 +954,10 @@ public void onPause() {
                 SharedPreferences.Editor editor = preferences.edit();
                 //TODO save text before pause.
                 if (text != null) {
-                    editor.putString("new_post_text", text);
+                    editor.putString(Constants.PREF_NEW_POST_TEXT, text);
                 }
                 if (!posts.isEmpty()) {
-                    editor.putString("new_post_photo", posts.get(0).getPreviewImage().getUrl());
+                    editor.putString(Constants.PREF_NEW_POST_PHOTO, posts.get(0).getPreviewImage().getUrl());
                 }
                 editor.commit();
                 PostsController.getInstance().setCurrentVenue(venue);
@@ -1355,7 +1370,7 @@ public void didSelectLocation(TLRPC.MessageMedia location) {
                 coordinates.setCoordinates(Arrays.asList(location.geo._long, location.geo.lat));
                 coordinates.setType("Point");
                 venue.setCoordinates(coordinates);
-                if(location.geoPlace != null) {
+                if (location.geoPlace != null) {
                     Coordinates placeCoordinates = new Coordinates();
                     placeCoordinates.setCoordinates(Arrays.asList(location.geoPlace._long, location.geoPlace.lat));
                     placeCoordinates.setType("Point");
diff --git a/TMessagesProj/src/main/java/org/telegram/utils/Constants.java b/TMessagesProj/src/main/java/org/telegram/utils/Constants.java
index 6b204b0c7..be00ec17b 100644
--- a/TMessagesProj/src/main/java/org/telegram/utils/Constants.java
+++ b/TMessagesProj/src/main/java/org/telegram/utils/Constants.java
@@ -13,6 +13,10 @@
     public static final String WGO_FAQ = "WGOFAQ";
 
 
+    public static final String PREF_NEW_POST_TEXT = "NEW_POST_TEXT";
+    public static final String PREF_NEW_POST_PHOTO = "NEW_POST_PHOTO";
+
+
 
     public static int POST_COUNT = 20;
 }
